(function(){var av={};av.aho=function(e,A){var a=B.Hr[B.Nv("%|xK")];if(a==null)return"XYP";var p=e.toString(16).slice(0,4),N=p+A+"aQYRDCB";
return a(N).slice(5,17)+p.split("").reverse().join("")};av.x6=function(){var e=B.Hr[B.ZY("3M"+(B.WU(26)?"]K":"fa"))];
e=e[B.ZY("]["+(!B.WU(28)?",":"`"))];return Math.floor(e()/1e3)};av.WU=function(e){var A=0;for(var c=0;
c<e;c++)A+=Math.random();return A/e<Math.PI/4};av.ZY=function(e){var A="";if(!av.WU(28))e+="-3";for(var c=0;
c<e.length;c++){var a=e.charCodeAt(c);if(a<32||126<a)throw"e";A+=String.fromCharCode(32+(a-32+17+3*c)%95)}return A};
av.Nv=function(e){var A="";if(!av.WU(28))e+="-1";for(var c=0;c<e.length;c++){var a=e.charCodeAt(c);a-=32;
a+=95e4;a-=17+3*c;a=a%95;A+=String.fromCharCode(32+a)}return A};av.Rv=av.ZY("XP");av.TJ=av.ZY("XYP");
av.WL=av.ZY("c[Y");av.alK=av.ZY("][`");av.abO=av.ZY("SU_");av.YY=av.ZY("b^L");av.afy=av.ZY("61=");av.cd=av.ZY("Q[M_");
av.hV=av.ZY("WQJJ");av.fl=av.ZY("W^NL");av.vG=av.ZY("[[JJ");av.a8$=av.ZY("[[PU");av.XW=av.ZY("^\\NT");
av.asv=av.ZY("bQUL");av.Hp=av.ZY("bQWJ");av.Id=av.ZY("3M]K");av.arM=av.ZY("<M]N");av.oD=av.ZY("][WK");
av.aeq=av.ZY("P_bTF");av.SC=av.ZY("RXRIN");av.Jd=av.ZY("b`bRH");av.T6=av.ZY("fUMZK");av.ay7=av.ZY("Q[]ZRM");
av.a6h=av.ZY("WQRMKT");av.j3=av.ZY("XR[GPE");av.ake=av.ZY("aMWJRM");av.a9l=av.ZY("bO[OST");av.Wx=av.ZY("cM[MHT");
av.a63=av.ZY("^Z5OQE");av.qT=av.ZY("R[WLLRJ");av.asJ=av.ZY("SU\\VOAV");av.a4D=av.ZY("XZMK[/C");av.HR=av.ZY("aQYRDCB");
av.Er=av.ZY("[[LGWILH");av.Xe=av.ZY("S[L[PEKN");av.zl=av.ZY("aQOKURBL");av.GO=av.ZY("aQ\\VRNP?");av.a2b=av.ZY("XZWKU(1'#");
av.a2D=av.ZY("SQLUGE2, ");av.aa8=av.ZY("]M_OJAQII");av.jh=av.ZY("bQ]:LMBILH");av.aqY=av.ZY("UU[YW#ECC8");
av.dk=av.ZY("cQaZ&OKN<BE");av.Jh=av.ZY("P\\YKQD B@@5");av.Sm=av.ZY("aQVUYE B@@5");av.Nj=av.ZY("bQ]'WTOC9IE3");
av.am6=av.ZY("XZ\\KUT~?=CC3");av.W3=av.ZY("R^NGWE\"F<A6<?");av.alp=av.ZY("VQ]+OEJ?EHrGs,");av.ux=av.ZY("G95.WTM,<EF3><");
av.OW=av.ZY("PPM+YEKN#=DB06*4");function g4(e){this.RF={};this.w8=0;this.QR();if(e!=!0)window.__kb=this}g4._N=null;
g4.prototype.QR=function(){var e=navigator.keyboard;if(e&&window.top==window.self)e.getLayoutMap().then(function(A){g4._N=A})};
g4.prototype.a1G=function(e){var A={shiftKey:g4.Kp,altKey:g4.uJ,ctrlKey:g4.YC};for(var a in A){var p=e[a],N=A[a],i=this.l(N);
if(!p&&i){for(var c=0;c<N.C2.length;c++)this.J7(N.C2[c])}}};g4.prototype.wU=function(e){this.w8++;this.RF[e]=!0};
g4.prototype.J7=function(e){this.w8--;delete this.RF[e];if(this.w8<=0||g4.ys(e,g4.Vv))this.reset()};
g4.prototype.l=function(e){for(var c=0;c<e.C2.length;c++)if(this.RF[e.C2[c]])return!0;return!1};g4.prototype.reset=function(){this.RF={};
this.w8=0};g4.prototype._X=function(e){var A=this,a=A.l(g4.Kp)?10:1,p=0,N=0;if(A.l(g4.uh))p=-a;else if(A.l(g4.nT))p=a;
else if(A.l(g4.XM))N=-a;else if(A.l(g4.TA))N=a;var i=new k7(p,N);if(e!=null){var Z=new bj;Z.rotate(e);
i=Z.Av(i);if(Math.abs(i.x)<Math.abs(i.y))i.x=0;else i.y=0;i.x=Math.round(i.x);i.y=Math.round(i.y)}return i};
g4.prototype.hi=function(){var e=this,A=g4.p0;for(var c=0;c<10;c++)if(e.l(A[c]))return c;return-1};g4.ys=function(e,A){return A.C2.indexOf(e)!=-1};
g4.aeg="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
g4.Ku=function(e){var A=e.code;if(A=="")return!1;var a=g4.ys;if(e.altKey&&!e.shiftKey&&!e.ctrlKey){var p=g4.p0.concat([g4.yR,g4.Kw,g4.CA,g4.KY]),N=!1;
for(var c=0;c<p.length;c++)if(a(A,p[c]))return!1}return g4.aeg.indexOf(A)==-1||e.shiftKey&&(A=="F5"||A=="F6")};
g4.rN=function(e){if(typeof e=="string")return e;var A=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(e==null)return"";var a=[];for(var c=0;c<e.length;c++){var p=e[c].S_?e[c].S_:e[c];if(A&&e[c].$N)p=e[c].$N;
a.push(p)}if(A||a.length==1)return a.join(" + ");else{var N=a.pop();return a.join("+")+" + "+N}};g4.gM=function(e){window.__kb.QR();
var A=e.code,a=g4._N;if(a&&a.get(A)){var p={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},N=a.get(A).toLowerCase(),i=N.charCodeAt(0);
if(97<=i&&i<=122){var Z="Key"+N.toUpperCase();A=Z}else if(p[N])A=p[N];return A}var p={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},N=e.key.toLowerCase(),i=N.charCodeAt(0);
if(N.length==1){if(97<=i&&i<=122){var Z="Key"+N.toUpperCase();A=Z}else if(p[N])A=p[N]}if(N=="control"&&A!="")A="ControlLeft";
return A};g4.LA=0;g4._P=function(e,A){var a=0;if(Date.now()-g4.LA>1e3){a=A==0?100:A*10}else{if(e%10!=0)e*=10;
a=(e+A)%100}g4.LA=Date.now();return a};g4.afe={nm:"No Touch",C2:["NoTouch"]};g4.e2={S_:"Enter",C2:["Enter","NumpadEnter"]};
g4.Kp={S_:"Shift",$N:"\u21E7",C2:["ShiftLeft","ShiftRight"]};g4.Vv={S_:"Meta",C2:["MetaLeft","MetaRight","OSLeft","OSRight"]};
g4.YC={S_:"Ctrl",$N:"\u2318",C2:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
g4.uJ={S_:"Alt",$N:"\u2325",C2:["AltLeft","AltRight"]};g4.asF={S_:"CtrlOrAlt",C2:g4.YC.C2.concat(g4.uJ.C2)};
g4.EO={S_:"Escape",C2:["Escape"]};g4.QD={S_:"Space",C2:["Space"]};g4.pH={S_:"Tab",C2:["Tab"]};g4.Yz={S_:"Home",C2:["Home"]};
g4.a9S={S_:"End",C2:["End"]};g4.uh={S_:"Left",C2:["ArrowLeft"]};g4.XM={S_:"Up",C2:["ArrowUp"]};g4.nT={S_:"Right",C2:["ArrowRight"]};
g4.TA={S_:"Down",C2:["ArrowDown"]};g4.yR={S_:"+",C2:["NumpadAdd","Equal"]};g4.Kw={S_:"-",C2:["NumpadSubtract","Minus"]};
g4.ai={S_:";",C2:["Semicolon"]};g4.aot={S_:"Dead",C2:["Dead"]};g4.ajj={S_:"=",C2:["Equal"]};g4.Pk={S_:"Backspace",C2:["Backspace"]};
g4.P1={S_:"Delete",C2:["Delete"]};g4.ay4={S_:"Backslash",C2:["Backslash","IntlBackslash"]};g4.alI={S_:"Slash",C2:["NumpadDivide","Slash"]};
g4.aw9={S_:"Backquote",C2:["Backquote"]};g4.CA={S_:"[",C2:["BracketLeft"]};g4.KY={S_:"]",C2:["BracketRight"]};
g4.Uv={S_:".",C2:["Period"]};g4.vm={S_:",",C2:["Comma"]};g4.wN={S_:"'",C2:["Quote"]};g4.c={S_:"A",C2:["KeyA"]};
g4.LY={S_:"B",C2:["KeyB"]};g4.AA={S_:"C",C2:["KeyC"]};g4.fe={S_:"D",C2:["KeyD"]};g4.E={S_:"E",C2:["KeyE"]};
g4.V8={S_:"F",C2:["KeyF"]};g4.IU={S_:"G",C2:["KeyG"]};g4.cb={S_:"H",C2:["KeyH"]};g4.ed={S_:"I",C2:["KeyI"]};
g4.N3={S_:"J",C2:["KeyJ"]};g4.t7={S_:"K",C2:["KeyK"]};g4.SA={S_:"L",C2:["KeyL"]};g4.Ab={S_:"M",C2:["KeyM"]};
g4.lm={S_:"N",C2:["KeyN"]};g4.JJ={S_:"O",C2:["KeyO"]};g4.Pq={S_:"P",C2:["KeyP"]};g4.YK={S_:"Q",C2:["KeyQ"]};
g4.oy={S_:"R",C2:["KeyR"]};g4.DN={S_:"S",C2:["KeyS"]};g4.P5={S_:"T",C2:["KeyT"]};g4.L6={S_:"U",C2:["KeyU"]};
g4.uq={S_:"V",C2:["KeyV"]};g4.JL={S_:"W",C2:["KeyW"]};g4.HJ={S_:"X",C2:["KeyX"]};g4.avZ={S_:"Y",C2:["KeyY"]};
g4.ls={S_:"Z",C2:["KeyZ"]};g4.Mg={S_:"0",C2:["Numpad0","Digit0"]};g4.vO={S_:"1",C2:["Numpad1","Digit1"]};
g4.aaO={S_:"2",C2:["Numpad2","Digit2"]};g4.a7I={S_:"3",C2:["Numpad3","Digit3"]};g4.a6k={S_:"4",C2:["Numpad4","Digit4"]};
g4.aoR={S_:"5",C2:["Numpad5","Digit5"]};g4.ayz={S_:"6",C2:["Numpad6","Digit6"]};g4.a1v={S_:"7",C2:["Numpad7","Digit7"]};
g4.akh={S_:"8",C2:["Numpad8","Digit8"]};g4.avA={S_:"9",C2:["Numpad9","Digit9"]};g4.p0=[g4.Mg,g4.vO,g4.aaO,g4.a7I,g4.a6k,g4.aoR,g4.ayz,g4.a1v,g4.akh,g4.avA];
g4.auO={S_:"F1",C2:["F1"]};g4.a03={S_:"F2",C2:["F2"]};g4.a0C={S_:"F3",C2:["F3"]};g4.ap7={S_:"FF",C2:["F4"]};
g4.p9={S_:"F5",C2:["F5"]};g4.a9B={S_:"F6",C2:["F6"]};g4.alL={S_:"F7",C2:["F7"]};g4.a5V={S_:"F8",C2:["F8"]};
g4.adH={S_:"F9",C2:["F9"]};g4.awB={S_:"F10",C2:["F10"]};g4.adM={S_:"F11",C2:["F11"]};g4.auz={S_:"F12",C2:["F12"]};
function fZ(e){iD.call(this);this.o2={};this.h4={};this.a17=0;this.ahw={};this.Zh=[];this.a3a=0;this.vG=e;
fZ.Yg=this}fZ.axU=function(e,A){var c=0,a=fZ.Vj;while(c<a.length){if((A>>>c&1)==1)break;c++}if(c!=0&&fZ.u8(e,[33,126])>.7)c=0;
if(A==0||a[c][1]==""){if((A&15)!=0&&fZ.u8(e,[33,126])>.7)c=0;else if(A==0)c=0;else{c=0}}return a[c][1]};
fZ.ua=120;fZ.s0=20;fZ.cols=16;fZ.UJ=function(e){var A=e.name.postScriptName;if(A==null)return null;return A.replace(/ /g,"-")};
fZ.A$=function(e){var A=e.name,a=A.typoFamilyName,p=A.typoSubfamilyName,N=a&p,i=N?a:A.fontFamily,Z=N?p:A.fontSubfamily;
if(Z==null)Z="Regular";var s=fZ.a4o,D=i.toLowerCase();for(var c=0;c<s.length;c++){if(s[c]=="roman")continue;
if(D.endsWith(" "+s[c])||D.endsWith("-"+s[c])){var n=i.length-s[c].length,S=i.slice(n);i=i.slice(0,n-1);
if(S!=""){if(Z=="Regular"||Z==i+" Regular")Z=S;else Z=S+" "+Z}break}}var F="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var c=0;c<F.length;c++)if(i.startsWith(F[c])){var S=i.slice(F[c].length);i=F[c];if(S.startsWith(" ")||S.startsWith("-"))S=S.slice(1);
if(S!=""){if(Z=="Regular")Z=S;else Z=S+" "+Z}break}var $={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},m=$[fZ.UJ(e)];
if(m)Z=m;return[i,Z]};fZ.prototype.a8t=function(e){var A=this.ee();for(var a in A)if(A[a][0]==e)this.as(a)};
fZ.prototype.a5L=function(){return Object.keys(this.h4).length!=0};fZ.prototype.as=function(e,A){if(this.o2[e])return this.o2[e];
if(this.h4[e])return null;var a=null,p=this.ee();if(p[e]!=null)a=p[e][5];if(a==null){var N=fZ.HR[e];
if(N==null){var i="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),Z=e.toLowerCase(),s=0;
if(Z.indexOf("sans")!=-1)s=0;else if(Z.indexOf("serif")!=-1)s=4;var D=Z.indexOf("bold")!=-1||Z.indexOf("-black")!=-1,n=Z.indexOf("italic")!=-1||Z.indexOf("oblique")!=-1||Z.endsWith("-it");
if(D&&n)s+=3;else if(n)s+=2;else if(D)s+=1;N=i[s]}if(A!=null&&A>128)N=this.zc(A,N);if(this.ahw[e]==null){this.ahw[e]=1;
var S=Date.now()-this.a17>2e3?2e3:0;this.a17=Date.now();alert(e+" \u27A1 "+N,S)}return this.as(N,A)}this.h4[e]="a";
this.vG(a)};fZ.prototype.zc=function(e,A,a){var p=this.o2[A];if(p&&Typr.U.codeToGlyph(p,e)!=0)return A;
var N=this.ee(),i=fZ.a5w(e),Z=i[0];if(N[A]&&(N[A][3]&Z)==0){if(a)for(var c=0;c<a.length;c++){var s=a[c].Name,D=N[s];
if(D&&(D[3]&Z)!=0)return s}var s=fZ.Vj[i[1]][4];if(N[s])return s}return A};fZ.a5w=function(e){var A=fZ.Vj,a=[0];
for(var c=0;c<A.length;c++){var p=A[c][2];for(var N=0;N<p.length;N+=2)if(p[N]<=e&&e<=p[N+1]){a[0]+=1<<c;
a.push(c)}}if(a.length==1)a.push(0);return a};fZ.prototype.a1x=function(){var e=this.Zh,A=e[0],a=e.length-1;
alert(i1.get([22,6,0])+" "+A+(a==0?"":", ... ("+a+")")+" "+i1.get([23,0])+".",1500);this.Zh=[]};fZ.prototype.a9K=function(e,A){if(A!=!0){this.Zh.push(e.name.fullName);
clearTimeout(this.a3a);this.a3a=setTimeout(this.a1x.bind(this),300)}var a=fZ.UJ(e),p=this.ee(),N=p[a],i=fZ.ac2(e);
if(N==null){var Z=document.createElement("canvas"),s=Z.getContext("2d");Z.width=fZ.ua;Z.height=fZ.s0;
var D=fZ.s0*1.2/e.head.unitsPerEm;s.translate(4,fZ.s0*.9);s.scale(D,-D);s.fillStyle="#000000";var n=Typr.U.shape(e,fZ.axU(e,i[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(e,n),s);s.fill();i.a5R=Z.toDataURL();this.Wf(i)}delete this.h4[a];
this.o2[a]=e};fZ.atV=function(){var e=fZ.Vj,A=[];for(var c=0;c<e.length;c++)A.push(e[c][0]);return A};
fZ.Vj=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","\u041F\u0440\u0438\u0432\u0435\u0442",[1040,1119],.7,"DejaVuSans"],["Hebrew","\u05E2\u05D1\u05E8\u05D9\u05EA",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","\u0627\u064E\u0644\u0652\u0639\u064E\u0631\u064E\u0628\u0650\u064A\u064E\u0651\u0629\u064F",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
fZ.ac2=function(e,A,a){var p=e.name,D=0;if(fZ.UJ(e)==null){console.log(e);throw"No postScriptName!"}var N=fZ.Vj,i=[];
for(var c=0;c<N.length;c++){var Z=N[c][2],s=N[c][3];i[c]=fZ.u8(e,Z)>s?1:0}for(var c=0;c<i.length;c++)D+=i[c]<<c;
var n=fZ.A$(e);return[n[0],n[1],fZ.UJ(e),D,a,A]};fZ.u8=function(e,A){var a=0,p=0;for(var N=0;N<A.length;
N+=2){for(var i=A[N];i<=A[N+1];i++){var Z=Typr.U.codeToGlyph(e,i);if(Z==0)p++;else a++}}return a/(a+p)};
fZ.a1W=function(e,A){if(e[2]<A[2])return-1;if(e[2]>A[2])return 1;return 0};fZ.arF=function(e,A){if(e[5]=="fs/"+e[2]+".otf")e[5]="";
else if(e[5]=="gf/"+e[2]+".otf")e[5]="a";if(e[2]==(e[0]+"-"+e[1]).replace(/\s/g,"")){e[2]=""}else if(e[2]==e[0].replace(/\s/g,"")){e[2]="a"}if(A){if(e[0]==A[0])e[0]="";
if(e[1]==A[1])e[1]="";if(e[3]==A[3])e[3]="";if(e[4]==A[4])e[4]=""}return e.join(",")};fZ.atJ=function(e,A){e=e.split(",");
if(e[0]=="")e[0]=A[0];if(e[1]=="")e[1]=A[1];if(e[3]=="")e[3]=A[3];else e[3]=parseInt(e[3]);if(e[4]=="")e[4]=A[4];
else e[4]=parseInt(e[4]);if(e[2]=="")e[2]=(e[0]+"-"+e[1]).replace(/\s/g,"");else if(e[2]=="a")e[2]=e[0].replace(/\s/g,"");
if(e[5]=="")e[5]="fs/"+e[2]+".otf";else if(e[5]=="a")e[5]="gf/"+e[2]+".otf";return e};fZ.HR={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
fZ.prototype.ee=function(){if(FNTS.map==null){var e=FNTS.list,A=[];for(var c=0;c<e.length;c++){A[c]=fZ.atJ(e[c],A[c-1]);
A[c].g2=c;this.Wf(A[c])}}return FNTS.map};fZ.prototype.Wf=function(e){var A=e[0],a=e[1],p=e[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[e[2]]=e;if(FNTS.mapFS==null)FNTS.mapFS={};var N=FNTS.mapFS[A+"---"+a];FNTS.mapFS[A+"---"+a]=e;
if(FNTS.mapSub==null)FNTS.mapSub={};var i=FNTS.mapSub[A];if(i==null)i=FNTS.mapSub[A]=[];var Z=i.indexOf(a);
if(Z==-1)i.push(a);else i[Z]=a};fZ.ajU=function(e,A){return fZ.Bq(e)-fZ.Bq(A)};fZ.Bq=function(e){e=e.toLowerCase();
var A=fZ.a3k(e)+(fZ.a30(e)<<1);if(e.indexOf("cond")==-1)A+=1<<25;return A};fZ.a3k=function(e){return e.indexOf("italic")!=-1||e.indexOf("oblique")!=-1?1:0};
fZ.a4o="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
fZ.a5k=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
fZ.a30=function(e){var A=fZ.a5k,a=-1,p=-1;for(var c=0;c<A.length;c++){var N=A[c];if(N instanceof Array)for(var i=0;
i<N.length;i++){var Z=N[i];if(e.indexOf(Z)!=-1&&(a==-1||p<Z.length)){a=c;p=Z.length}}else if(e.indexOf(N)!=-1&&(a==-1||p<N.length)){a=c;
p=N.length}}if(a==-1)a=8;return a};fZ.UR=function(e,A){var a=1e9,p=null,N=fZ.Bq(A);for(var c=0;c<e.length;
c++){var i=Math.abs(fZ.Bq(e[c])-N);if(i<a){a=i;p=e[c]}}return p};fZ.prototype.l3=function(e,A){this.ee();
return FNTS.mapFS[e+"---"+A]};fZ.prototype.Cx=function(e){this.ee();return FNTS.mapSub[e]};fZ.prototype.Vm=function(){this.ee();
return FNTS.mapSub};var d4={$s:0,O4:null,wL:null,Uy:null,QW:null,iB:null,HN:!0,l$:0,Rk:!1};d4.event=function(e){var A=new XMLHttpRequest;
A.open("GET","/papi/event.php?id="+e+"&rnd="+Math.random());A.send()};d4.tl=function(){var e=d4.p8();
if(e==null)return null;var A=B.WU(24)?" ":"",a=B.Hr[B.Nv("Uu,"+A)];a=a[B.Nv(A+"$/")];var p=d4.Fm(1,999);
if(p&&d4.U5(p)*50>a()/20)return[0,p];var N=e.inTeams;if(N)for(var c=0;c<N.length;c++)if(N[c][1]*50>a()/20)return[1,N[c]];
return null};d4.XP=function(){return d4.aqo()!=null};d4.MM=function(){return d4.U5(d4.Fm(1e3,999999999))};
d4.U5=function(e){return e==null?0:e[0]+e[1]*24*60*60};d4.Fm=function(e,A){var a=d4.p8(),p=a.pmnts,N=0,i=null;
if(p==null||p.length==0)return 0;for(var c=0;c<p.length;c++){var Z=p[c],s=d4.U5(Z);if(e<=Z[2]&&Z[2]<=A)if(N<s){N=s;
i=Z}}return i};d4.p8=function(){return d4.iB};d4.tP=function(e){window.addEventListener("message",d4.abn,!1);
setInterval(d4.QI,5e3);if(d4.XP()&&navigator.onLine){d4.O4=e;d4.G_()}else setTimeout(e,1)};d4.QI=function(){if(d4.XP()&&d4.Rk){d4.l4(d4.LO());
d4.Rk=!1}};d4.m7=function(e){d4.O4=e;var A="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
d4.Uy=window.open(A,"_blank")};d4.avd=function(){localStorage.removeItem(d4.$s+"_uid");localStorage.removeItem(d4.$s+"_provider");
localStorage.removeItem(d4.$s+"_token");d4.iB=null};d4.abn=function(e){if(e.data instanceof ArrayBuffer||e.data instanceof Object)return;
if(e.data.charAt(0)!="{")return;var A=JSON.parse(e.data);if(A.prms==null)return;var a=A.prms.split(",");
if(a[0]=="papi_logged_in"){localStorage[d4.$s+"_uid"]=a[1];d4.YP(a[2]);localStorage[d4.$s+"_provider"]=a[3];
d4.Uy.close();d4.G_()}if(a[0]=="payment_complete"){d4.QW.close();d4.G_()}};d4.aqo=function(){var e=localStorage[d4.$s+"_token"];
if(e!=null&&Date.now()*.001+10<parseInt(e.split("-")[0]))return e;return null};d4.YP=function(e){var A=localStorage[d4.$s+"_token"];
if(A!=null&&parseInt(e.split("-")[0])<parseInt(A.split("-")[0]))return;localStorage[d4.$s+"_token"]=e;
clearTimeout(d4.l$);d4.l$=setTimeout(d4.an$,Math.min(1e9,parseInt(e.split("-")[0])*1e3-Date.now()-20*1e3))};
d4.fJ=function(e,A,a,p){if(!navigator.onLine)throw"a";var N=new XMLHttpRequest;N.open("POST","https://www.photopea.com/papi/record_new.php",!0);
N.onload=a;var i=d4.sa(0)+"&read=3&tuid="+e+"&tid="+A;if(p)i+="&tpl="+encodeURIComponent(p);N.setRequestHeader("Content-type","application/x-www-form-urlencoded");
N.send(i)};d4.an$=function(){if(!navigator.onLine)throw"a";var e=new XMLHttpRequest;e.open("POST","https://www.photopea.com/papi/record_new.php",!0);
e.onload=d4.a0p;var A=d4.sa(0)+"&read=2";e.setRequestHeader("Content-type","application/x-www-form-urlencoded");
e.send(A)};d4.G_=function(){if(!navigator.onLine)throw"b";var e=new XMLHttpRequest;e.open("POST","https://www.photopea.com/papi/record_new.php",!0);
e.onload=d4.a3P;var A=d4.sa(0)+"&read=1";e.setRequestHeader("Content-type","application/x-www-form-urlencoded");
e.send(A)};d4.l4=function(e){if(!navigator.onLine)throw"c";var A=new XMLHttpRequest;A.open("POST","https://www.photopea.com/papi/record_new.php",!0);
A.onload=d4.adn;var a=d4.sa(0)+"&read=0&score="+(e.tpl?1:0)+"&spublic="+d4.HN+"&record="+encodeURIComponent(JSON.stringify(e));
A.setRequestHeader("Content-type","application/x-www-form-urlencoded");A.send(a)};d4.a3P=function(e){var A=JSON.parse(e.target.response);
if(A.error){}else{d4.iB=A.user;var a=d4.LO(),p=A.record;if(A.record){d4.HN=A.spublic;d4.QN(p)}else if(a)d4.l4(a)}d4.YP(A.token);
if(d4.O4){d4.O4();d4.O4=null}if(d4.wL){d4.wL();d4.wL=null}};d4.a0p=function(e){var A=JSON.parse(e.target.response);
d4.YP(A.token)};d4.adn=function(e){var A=JSON.parse(e.target.response);d4.YP(A.token);if(d4.wL)d4.G_()};
d4.sa=function(e){return"app="+e+"&uid="+localStorage[d4.$s+"_uid"]+"&token="+localStorage[d4.$s+"_token"]};
d4.JF=function(){return d4.LO()};d4.YM=function(e,A){d4.QN(e);d4.Rk=!0;if(A){d4.wL=A;d4.QI()}};d4.LO=function(){var e=localStorage[d4.$s+"_stateLocal"],A;
if(e==null)return null;try{A=JSON.parse(e)}catch(i1){return null}return A};d4.QN=function(e){var A=JSON.stringify(e);
localStorage[d4.$s+"_stateLocal"]=A};d4.order=function(e,A,a){d4.O4=a;var p="https://www.photopea.com/papi/order.php?ptype="+A+"&param="+e+"&uid="+localStorage[d4.$s+"_uid"]+"&token="+localStorage[d4.$s+"_token"];
d4.QW=window.open(p,"_blank")};d4.a3S=function(e,A){d4.O4=A;var a="https://www.photopea.com/papi/insertKey.php?key="+e+"&uid="+localStorage[d4.$s+"_uid"]+"&token="+localStorage[d4.$s+"_token"];
d4.QW=window.open(a,"_blank")};var i1={};i1.rc=0;i1.uV={};i1.oI=function(e){var A=LNG.tables,a=A[e];
if(a==null)a=A[0];if(typeof a=="string"){a=A[e]=i1.au(a)}return a};i1.au=function(e){var A=[],a=0,p=0,N=[],i=e.length;
while(p!=i){var Z=e[p];if(Z=="["){A.push(N);N=[];p=a=p+1}else if(Z=="]"){N.push(a==p?null:e.substring(a,p));
var s=N;N=A.pop();N.push(s);p=a=p+1}else if(Z==";"){if(e[p-1]!="]")N.push(a==p?null:e.substring(a,p));
p=a=p+1}else p++}return N};i1.get=function(e){if(typeof e=="string")return e;var A=typeof e[0];if(A=="number"){for(var c=1;
c<e.length;c++)if(typeof e[c]!="number"){console.log(e);throw"e"}return i1.ar0(e)}var a=i1.get(e[0]);
for(var c=1;c<e.length;c++){var p=i1.get(e[c]),N=a.indexOf("VAR"+(c-1));a=a.slice(0,N)+p+a.slice(N+4)}return a};
i1.ar0=function(e){var A=JSON.stringify(e);if(i1.uV[A]!=null)return i1.uV[A];var a=i1.oI(0),p=i1.oI(i1.rc),N=i1.Wv(e,p);
if(N==null)N=i1.Wv(e,a);return N};i1.Wv=function(e,A){for(var c=0;c<e.length;c++){A=A[e[c]];if(A==null)return null;
else if(typeof A=="string")break}if(A instanceof Array)A=A[0];return A.split("::")[0]};i1.a4u=function(){var e=function(a,p){var N=a.code,i=p.code;
if(N=="en")return-1;if(i=="en")return 1;var Z=navigator.languages,s=Z.indexOf(N)!=-1,D=Z.indexOf(i)!=-1;
if(s&&D)return N>i?1:-1;if(s)return-1;if(D)return 1;return N>i?1:-1},A=LNG.langs.slice(0);A.sort(e);
return A};i1.X9=function(e,A){i1.rc=e;if(LNG.tables[e])A();else{var a=new XMLHttpRequest;a.open("GET","code/lang/"+e+".js");
a.onreadystatechange=function(){LNG.tables[e]=a.responseText;A()};a.send()}};i1.hH=function(e,A){for(var a=0;
a<2;a++){var p=!1;for(var c=0;c<LNG.langs.length;c++)if(LNG.langs[c].code==e){i1.X9(c,A);p=!0}if(p)break;
e=e.split("-")[0]}};i1.rb=function(){return LNG.langs[i1.rc].code};i1.a6c=function(e){for(var c=0;c<e.length;
c+=2)if(e[c+1].indexOf(">")==-1)i1.uV[JSON.stringify(e[c])]=e[c+1]};i1.adi=function(e){var A=-1,a=LNG.langs;
for(var c=0;c<a.length;c++)if(a[c].code==e)A=c;return A};var jU={Ll:!1,eq:!1,Xx:!1};jU.n6=function(){return B.Hr[av.WL]!=B.Hr[av.asv]};
jU.tt=function(){var e=B.Hr[av.Xe],A=e[av.cd],a=0,p=av.Nj,N=B.ZY("PP\\KQSB"),i=B.ZY("Y_5UDDB>idge"),Z=e[av.W3](av.abO);
Z[p](av.Rv,N);Z[p](av.Jd,B.ZY("fUMZKyqifDIhJ0*+&$-OG?<y~>"));A[av.Jh](Z);Z=e[av.alp](N);if(Z==null){a=2}else{if(!A[B.ZY("R[WZDIKM")](Z)){a=3}else if(Math.round(Z[B.ZY("VQ](RUK>@B8p71*03m}x'")]()[av.T6]-500)>5){a=4}A[av.Sm](Z)}if(jU.eq)a=5;
if(jU.Xx)a=6;return a};jU.a4c=function(e){var A=B.Nv("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),a={method:"HEAD",mode:"no-cors"},p=new Request(A,a);
fetch(p).then(function(N){return N}).then(function(N){var i=B.Nv("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),p=new Request(i,a);
fetch(p).then(function(N){return N}).then(function(N){e(!1)}).catch(function(Z){jU.eq=!0;console.clear();
e(!0)})}).catch(function(N){jU.eq=!0;console.clear();e(!0)})};jU.ayo=function(){var e=B.ZY("UU[YW#ECC8"),A=B.ZY("VQ](RUK>@B8p71*03m}x'"),a=B.ZY("WQRMKT"),p=this.axn[e][A]();
if(p[a]<4){jU.Xx=!0;this.a49(!0)}};jU.afE=function(){var e=B.Hr._cwY,A=B.Hr[av.jh],a="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",p=String.fromCharCode(32);
e(B.ZY(a)+p+p+jU.tt());if(!d4.tl())A(jU.afE,Math.round(Math.PI*1e4))};jU.Qx=function(e){var A=B.Hr[av.Xe],a=A[av.W3](e[0]);
for(var p in e[1]){if(p=="txt")a[av.dk]=e[1][p];else a[av.Nj](p,e[1][p])}return a};jU.ah4=function(e,A,a,p,N){B.XK(a);
var i=B.Hr[av.Xe],Z=B.Nv(" u.$%\"86<"),s=B.Nv("!#c$,&"),D=B.Hr[Z][s],n=B.Hr[B.Nv(" u.$%\"86<")][B.Nv("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<.1;
if(!jU.n6()&&!jU.tt()&&D&&e*A>300*300&&!n){var S=i[B.ZY("VQ]+OEJ?EHDoD{&)l|&z")](av.hV)[0],F=JSON.parse(B.Nv("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var c=0;c<F.length;c++){var $=jU.Qx(F[F.length-1-c]);S[av.am6]($,S[av.a3u])}var m=B.Nv("p}&$2a(:"),J=B.Nv("'#!}i0%+"),w=B.Nv("ps,}$\"40"),f=B.Hr.__cbu=jU.Qx(JSON.parse(av.ZY("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
a[av.Jh](f);B.Hr.___ggo=function(){B.Hr[w](av.OW,2,function(L,C){if(C&&L[J]==!0){if(!B.Hr[m]){B.Hr[m]=!0;
var M=jU.ab2.bind({ic:a,awl:N,head:S,Ps:A});M()}}})}}else{var b=jU.a2d.bind({axn:a,atl:p,acZ:N,Ps:A});
b();setInterval(b,3e4)}};jU.apR="JGxstk^CD;_>;'9#+(F&!v.5(lmd)gdPeTLJoOJ@W0[(YRE*+\"F,r!9xsi!(z_`W{aHV@UD<:_?:0GNA%.+$$G96}psom#TTz?_ooGTy%>bkIPC@G:7o;g9450-*'%|oTULpER8J4<9W14(?F9}~u:n{ave][!Z]QhobFOLEEhZW-2M##-x# 8jsn-qah[cz(HWAymghd``M3%(XPJK18+9%,~.xQ|Izuum`EF=a7.7,7O!*$uwon|ttx*cfZqxkPQHlB9B7BZ,5/!#zy(  $f{/hk_v}pzwIRL>@87E==AR+5|'!@}q}(/\"~&xuNyFwrrj]BC:^4+4)4L}'# sn|nqm*cfZqxkPQHlB9B7BZ,51.\"|+| {i~2knby!s}zLUQNB=K=@<X1;#-'F$w$.5(%,~{T L}xxpcHI@d:1:/:R%')'|'| :3locz\"tYZQuKBK@Kc68:8.8.1Ku+>wzn&- *'Y[][Q[QTng@J2<6U3'3=D74;.+c/[-(( rWXOsI@I>Ia<<?+6*\" *B{~r*1$hi`%ZQZOZrMMP<G;31;%:M'*}5</96{xu)ddgS^RJHRj=FARYLIPC@xDpB==5(lmd)^U^S^vRQNJLJ8B@W14(?F9}~u:ofodo(cb_[][ISQ:Ob<?3JQDNK'&#~!~lvt,dnV`ZyWKWah[X_RO(S QLLD7{|s8mdmbm&hZ\\dUTPRP>HF]7:.EL?$%{@uluju.pbdl]\\XZXFPN7L_9<0GNAKH+|~'wvrtr`jh XbJTNmK?KU\\OLSFC{x";
jU.a2d=function(){var e=B.Hr[av.Xe],A=this.axn,a=this.atl,p=this.acZ,N=this.Ps;B.XK(A);var i=B.Hr[av.Nv(" u.$%\"86<")][av.Nv("}u&\"3\"+,=")].indexOf("ru")!=-1&&Math.random()<1.25,Z=p==1?1:jU.OU(N),s=JSON.parse(av.ZY(jU.apR)),D=e[av.W3]("a");
D.textContent=av.ZY("0PhHOO@E@B8M/-9'\"0}y");D[av.Nj](av.fl,av.ZY("}z`]ZmMBFH@>0)R%.)G*($ 8ggs*ce!aVZ\\TRD=e:B\\;9;P8--#A)vl|2vn)]e\""));
D[av.Nj](av.Wx,av.Nv("pv${,,"));D[av.Nj](av.Jd,av.ZY("R[UUUyTB@H6h"));if(!i)A[av.Jh](D);for(var c=0;
c<Z;c++){var n=Math.random(),S=0,F=0;while(S+s[F][0]<n){S+=s[F][0];F++}if(F==2&&Date.now()>1665160336190)F=0;
if(i)F=1;var $=s[F],m=e[av.W3](av.TJ);m[av.Nj](av.Jd,av.ZY("Ra[YRRvJF=?B0:_")+av.ZY(p==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
m[av.Nj](av.YY,$[p]);if($.length>3){var J=$[3]+$[3+p],D=e[av.W3]("a");D[av.Nj](av.fl,J);D[av.Nj](av.Wx,av.Nv("pv${,,"));
D[av.Jh](m);A[av.Jh](D)}else{m[av.OW](av.SC,a,!1);A[av.Jh](m)}}};jU.OU=function(e){var A=2;if(e>=3*270+30)A=3;
if(e>=4*270+30)A=4;return A};jU.ab2=function(){var e=av.Jh,A=av.Nj,a=av.OW,p=av.HR,N=av.Jd,i=av.YY,Z=B.ZY("P_bTF"),s=av.dk,D=av.j3,n=B.Hr[av.Xe],S=av.W3,F=av.a9l,$=B.Hr.__cbu,m=this.ic,J=this.awl,w=this.head,f=this.Ps,b=B.Nv("~u*\"'/P)9ADBCrlnR]"),L=[.2,0,.8],C=Math.random(),M=0;
while(L[M]<C&&M<L.length-1){C-=L[M];M++}if(M==0){console.log(0);if(!jU.Ll){jU.Ll=!0;var y=av.Nv("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),Q=av.Nv("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),k=y.split(","),E=Q.split(","),_=E[J==1?0:1],v=E[J==1?2:3],V=J==1?1:jU.OU(f);
for(var R=0;R<V;R++){var h=n[S](D);for(var c=0;c<k.length;c+=2)h[A](k[c+0],k[c+1]);h[A](av.ZY("SM]GoIA"),_);
h[A](N,b);m[e](h)}var P=av.Nv("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
P=P.replace("__",v);P=P.replace("--",_);var H=n[S](F);H[s]=P;m[e](H)}}else if(M==1){console.log(1);if(J==1){var U=n[S](B.Nv("u}."));
U[A](N,b);var X=n[S](B.Nv("u}."));U[e](X);X[A](B.Nv("zx"),B.Nv("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
X[A](B.Nv("t!x.1"),B.Nv("pu(y~1)?).4"));var P=B.Nv("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),H=n[S](F);
H[s]=P;X[e](H);m[e](U)}else if(J==2){var x=jU.OU(f);for(var c=0;c<x;c++){var U=n[S](B.Nv("u}."));U[A](N,b);
var X=n[S](B.Nv("u}."));U[e](X);X[A](B.Nv("zx"),B.Nv("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));X[A](B.Nv("t!x.1"),B.Nv("pu(y~1)?).4"));
var P=B.Nv("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),H=n[S](F);
H[s]=P;X[e](H);m[e](U)}}if(!jU.Ll){jU.Ll=!0;var P=B.Nv("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),H=n[S](F);
H[A](B.Nv("uu,{J$*(=F>6"),B.Nv("wu$.#"));H[s]=P;w[e](H)}}else{console.log(2);var K=n[S](F);K[A](i,B.Nv("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
K[A](av.aeq,"");w[e](K);var T=JSON.parse(B.Nv("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),I=[T[0]];
if(J==2)I=T.slice(1,1+jU.OU(f));for(var c=0;c<I.length;c++){var X=n[S](B.ZY("SU_"));X[A](av.Rv,I[c]);
X[A](N,b);m[e](X)}}if($)m[e]($)};var b7={xg:-2,wT:{expires_at:0},d2:[]};b7.C9=function(e){if(e)b7.d2.splice(0,0,e);
if(b7.xg==-2){b7.xg=-1;var A=document.createElement("script");A.src="//apis.google.com/js/client.js";
document.body.appendChild(A);A.onload=function(a){setTimeout(function(){b7.xg=0;b7.C9()},100)}}if(b7.xg==-1)return;
if(b7.xg==1)return;if(b7.wT.expires_at>Date.now()*.001+30){while(b7.d2.length>0)b7.d2.pop()()}else{if(b7.xg==0)b7.xg=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:b7.xg==2?!1:!0},b7.awp)})}};
b7.awp=function(e){if(e&&!e.error){b7.wT=e;b7.xg=!1;b7.C9()}else if(b7.xg==1){b7.xg=2;b7.C9()}else alert("Error: "+e.error)};
b7.SL=function(){return"access_token="+b7.wT.access_token+"&token_type="+b7.wT.token_type};b7.FH=function(){return b7.wT.token_type+" "+b7.wT.access_token};
function k7(e,A){if(!e)e=0;if(!A)A=0;this.x=e;this.y=A}k7.prototype.add=function(e){return new k7(this.x+e.x,this.y+e.y)};
k7.prototype.clone=function(){return new k7(this.x,this.y)};k7.prototype.Ad=function(e){this.x=e.x;this.y=e.y};
k7.prototype.Kx=function(e){return this.x==e.x&&this.y==e.y};k7.prototype.normalize=function(e){var A=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=e/A;this.y*=e/A};k7.prototype.offset=function(e,A){this.x+=e;this.y+=A};k7.prototype.rq=function(e,A){this.x=e;
this.y=A};k7.prototype.QC=function(e){return new k7(this.x-e.x,this.y-e.y)};k7.nR=function(e,A){return k7.aaF(e.x,e.y,A.x,A.y)};
k7.hB=function(e,A,a){return new k7(e.x+a*(A.x-e.x),e.y+a*(A.y-e.y))};k7.asj=function(e,A){return new k7(e*Math.cos(A),e*Math.sin(A))};
k7.aaF=function(e,A,a,p){return Math.sqrt((a-e)*(a-e)+(p-A)*(p-A))};k7.uK={};k7.oU={};k7.uK.create=function(){var e=new Float32Array(4);
return e};k7.oU.create=function(e){var A=new Float32Array(16);A[0]=A[5]=A[10]=A[15]=1;if(e)k7.oU.set(e,A);
return A};k7.uK.add=function(e,A,a){a[0]=e[0]+A[0];a[1]=e[1]+A[1];a[2]=e[2]+A[2];a[3]=e[3]+A[3]};k7.uK.set=function(e,A){A[0]=e[0];
A[1]=e[1];A[2]=e[2];A[3]=e[3]};k7.oU.set=function(e,A){A[0]=e[0];A[1]=e[1];A[2]=e[2];A[3]=e[3];A[4]=e[4];
A[5]=e[5];A[6]=e[6];A[7]=e[7];A[8]=e[8];A[9]=e[9];A[10]=e[10];A[11]=e[11];A[12]=e[12];A[13]=e[13];A[14]=e[14];
A[15]=e[15]};k7.oU.multiply=function(e,A,a){var p=e[0],N=e[1],i=e[2],Z=e[3],s=e[4],D=e[5],n=e[6],S=e[7],F=e[8],$=e[9],m=e[10],J=e[11],w=e[12],f=e[13],b=e[14],L=e[15],C=A[0],M=A[1],y=A[2],Q=A[3];
a[0]=C*p+M*s+y*F+Q*w;a[1]=C*N+M*D+y*$+Q*f;a[2]=C*i+M*n+y*m+Q*b;a[3]=C*Z+M*S+y*J+Q*L;C=A[4];M=A[5];y=A[6];
Q=A[7];a[4]=C*p+M*s+y*F+Q*w;a[5]=C*N+M*D+y*$+Q*f;a[6]=C*i+M*n+y*m+Q*b;a[7]=C*Z+M*S+y*J+Q*L;C=A[8];M=A[9];
y=A[10];Q=A[11];a[8]=C*p+M*s+y*F+Q*w;a[9]=C*N+M*D+y*$+Q*f;a[10]=C*i+M*n+y*m+Q*b;a[11]=C*Z+M*S+y*J+Q*L;
C=A[12];M=A[13];y=A[14];Q=A[15];a[12]=C*p+M*s+y*F+Q*w;a[13]=C*N+M*D+y*$+Q*f;a[14]=C*i+M*n+y*m+Q*b;a[15]=C*Z+M*S+y*J+Q*L;
return a};k7.oU.inverse=function(e,A){var a=e[0],p=e[1],N=e[2],i=e[3],Z=e[4],s=e[5],D=e[6],n=e[7],S=e[8],F=e[9],$=e[10],m=e[11],J=e[12],w=e[13],f=e[14],b=e[15],L=a*s-p*Z,C=a*D-N*Z,M=a*n-i*Z,y=p*D-N*s,Q=p*n-i*s,k=N*n-i*D,E=S*w-F*J,_=S*f-$*J,v=S*b-m*J,V=F*f-$*w,R=F*b-m*w,h=$*b-m*f,P=L*h-C*R+M*V+y*v-Q*_+k*E;
if(!P){return null}P=1/P;A[0]=(s*h-D*R+n*V)*P;A[1]=(N*R-p*h-i*V)*P;A[2]=(w*k-f*Q+b*y)*P;A[3]=($*Q-F*k-m*y)*P;
A[4]=(D*v-Z*h-n*_)*P;A[5]=(a*h-N*v+i*_)*P;A[6]=(f*M-J*k-b*C)*P;A[7]=(S*k-$*M+m*C)*P;A[8]=(Z*R-s*v+n*E)*P;
A[9]=(p*v-a*R-i*E)*P;A[10]=(J*Q-w*M+b*L)*P;A[11]=(F*M-S*Q-m*L)*P;A[12]=(s*_-Z*V-D*E)*P;A[13]=(a*V-p*_+N*E)*P;
A[14]=(w*C-J*y-f*L)*P;A[15]=(S*y-F*C+$*L)*P;return A};k7.oU.asr=function(e,A,a){var p=A[0],N=A[1];a[0]=p*e[0]+N*e[4]+e[12];
a[1]=p*e[1]+N*e[5]+e[13]};k7.oU.atw=function(e,A,a){var p=A[0],N=A[1],i=A[2],Z=A[3];a[0]=e[0]*p+e[4]*N+e[8]*i+e[12]*Z;
a[1]=e[1]*p+e[5]*N+e[9]*i+e[13]*Z;a[2]=e[2]*p+e[6]*N+e[10]*i+e[14]*Z;a[3]=e[3]*p+e[7]*N+e[11]*i+e[15]*Z};
function dE(e,A,a,p){if(!e)e=0;if(!A)A=0;if(!a)a=0;if(!p)p=0;this.x=e;this.y=A;this.m=a;this.n=p}dE.prototype.O=function(){return this.m*this.n};
dE.prototype.clone=function(){return new dE(this.x,this.y,this.m,this.n)};dE.prototype.contains=function(e,A){return e>=this.x&&e<=this.x+this.m&&(A>=this.y&&A<=this.y+this.n)};
dE.prototype.QX=function(e){return this.contains(e.x,e.y)};dE.prototype.XH=function(e){return this.x<=e.x&&this.y<=e.y&&e.x+e.m<=this.x+this.m&&e.y+e.n<=this.y+this.n};
dE.prototype.Ad=function(e){this.x=e.x;this.y=e.y;this.m=e.m;this.n=e.n};dE.prototype.Kx=function(e){return this.x==e.x&&this.y==e.y&&this.m==e.m&&this.n==e.n};
dE.prototype.Fu=function(e,A){this.x-=e;this.y-=A;this.m+=2*e;this.n+=2*A};dE.prototype.az1=function(e){this.Fu(e.x,e.y)};
dE.prototype.Yn=function(e){var A=Math.max(this.x,e.x),a=Math.max(this.y,e.y),p=Math.min(this.x+this.m,e.x+e.m),N=Math.min(this.y+this.n,e.y+e.n);
if(p<A||N<a)return new dE;else return new dE(A,a,p-A,N-a)};dE.prototype.CS=function(e){if(e.y+e.n<this.y||e.x>this.x+this.m||e.y>this.y+this.n||e.x+e.m<this.x)return!1;
return!0};dE.prototype.QP=function(){return this.m<=0||this.n<=0};dE.prototype.offset=function(e,A){this.x+=e;
this.y+=A};dE.prototype.H_=function(e){this.offset(e.x,e.y)};dE.prototype.atP=function(){this.x=this.y=this.m=this.n=0};
dE.prototype.rq=function(e,A,a,p){this.x=e;this.y=A;this.m=a;this.n=p};dE.prototype.pg=function(e){if(this.QP())return e.clone();
if(e.QP())return this.clone();var A=this.clone();A.arx(e);return A};dE.CO=new Float32Array(2);dE.prototype.arx=function(e){if(e.QP())return;
if(this.QP()){this.Ad(e);return}this.Me(e.x,e.y);this.Me(e.x+e.m,e.y+e.n)};dE.prototype.Me=function(e,A){var a=Math.min(this.x,e),p=Math.min(this.y,A);
this.m=Math.max(this.x+this.m,e)-a;this.n=Math.max(this.y+this.n,A)-p;this.x=a;this.y=p};dE.prototype.aao=function(e,A){this.x=e;
this.y=A;this.m=this.n=0};function bj(e,A,a,p,N,i){if(typeof e==="undefined"){e=1;A=0;a=0;p=1;N=0;i=0}this.gg=e;
this.k=A;this.b9=a;this.pU=p;this.Co=N;this.dW=i}bj.prototype.nZ=function(){return Math.sqrt(Math.abs(this.gg*this.pU-this.k*this.b9))};
bj.prototype.asy=function(){var e=this,A=function(a){return Math.abs(a)<1e-9?0:a};e.gg=A(e.gg);e.k=A(e.k);
e.b9=A(e.b9);e.pU=A(e.pU);e.Co=A(e.Co);e.dW=A(e.dW)};bj.prototype.Av=function(e){return new k7(e.x*this.gg+e.y*this.b9+this.Co,e.x*this.k+e.y*this.pU+this.dW)};
bj.prototype.translate=function(e,A){this.Co+=e;this.dW+=A};bj.prototype.rotate=function(e){var A=new bj(Math.cos(e),-Math.sin(e),Math.sin(e),Math.cos(e),0,0);
this.concat(A)};bj.prototype.scale=function(e,A){var a=new bj(e,0,0,A,0,0);this.concat(a)};bj.prototype.concat=function(e){this.Ad(new bj(this.gg*e.gg+this.k*e.b9,this.gg*e.k+this.k*e.pU,this.b9*e.gg+this.pU*e.b9,this.b9*e.k+this.pU*e.pU,this.Co*e.gg+this.dW*e.b9+e.Co,this.Co*e.k+this.dW*e.pU+e.dW))};
bj.prototype.rQ=function(){var e=this.gg*this.pU-this.k*this.b9;this.Ad(new bj(this.pU/e,-this.k/e,-this.b9/e,this.gg/e,(this.b9*this.dW-this.pU*this.Co)/e,(this.k*this.Co-this.gg*this.dW)/e))};
bj.prototype.clone=function(){return new bj(this.gg,this.k,this.b9,this.pU,this.Co,this.dW)};bj.prototype.Ad=function(e){this.gg=e.gg;
this.k=e.k;this.b9=e.b9;this.pU=e.pU;this.Co=e.Co;this.dW=e.dW};function fI(){}fI.gB={anv:["PNG","JPG","SVG","GIF","PDF"],ayW:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
fI.My=function(e,A){var a=e.memory.buffer.byteLength;if(a<A)e.memory.grow((A-a>>>16)+1)};fI.lj={bd:function(e,A){fetch(e).then(function(a){return a.arrayBuffer()}).then(function(a){var p=new Uint8Array(a),N=0,D="";
if(A){N=p.length;var i={level:9},Z=pako.deflateRaw(p,i),s=UZIP.deflateRaw(p,i);console.log(N,Z.length,s.length);
p=Z.length<s.length?Z:s}for(var c=0;c<p.length;c++)D+=String.fromCharCode(p[c]);var n=btoa(D);console.log(JSON.stringify([N,n]))})},get:function(e,A){var a=BINDB[e],p=Date.now(),N=atob(a[1]),i=N.length,Z=new Uint8Array(i);
for(var c=0;c<i;c++)Z[c]=N.charCodeAt(c);if(a[0]!=0){var s=new Uint8Array(a[0]);UZIP.inflateRaw(Z,s);
Z=s}if(A){var D=fI.ti(Z.buffer);Z=fI.nP(D).QS(Z.buffer)}return Z}};fI.ti=function(e){if(!(e instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var A=new Uint8Array(e),a=fI.Lz,p,N=0,i=A.length-1;
if(a(A,[239,187,191]))N=3;while(N<A.length&&(A[N]==9||A[N]==10||A[N]==13||A[N]==32))N++;while(i!=0&&(A[i]==9||A[i]==10||A[i]==13||A[i]==32))i--;
if(a(A,[56,66,80,83]))p="psd";if(a(A,[6,6,237,245]))p="indd";if(a(A,[68,73,67,77],128))p="dcm";if(a(A,[102,116,121,112,109,105,102,49],4)||a(A,[102,116,121,112,97,118,105,102],4))p="avif";
if(a(A,[102,116,121,112,105,115,111,109],4))p="mp4";if(a(A,[102,116,121,112,109,112,52,50],4))p="mp4";
if(a(A,[0,255,75,65]))p="afphoto";if(a(A,[67,83,70,67,72,85,78,75]))p="clip";if(a(A,[120]))p="pxd";if(a(A,[80,68,78,51]))p="pdn";
if(a(A,[103,105,109,112,32,120,99,102,32]))p="xcf";if(a(A,[102,105,103,45,107,105,119,105]))p="fig";
if(a(A,[137,80,78,71,13,10,26,10])){p="png";var Z=8;while(Z<A.length){var s=z.q(A,Z);Z+=4;var D=z.wc(A,Z,4);
Z+=4;if(D=="mkTS")p="fpng";Z+=s+4}}if(a(A,[87,76]))p="cdr";if(a(A,[82,73,70,70])){var n=hn.__(A),S=n.GD;
if(S=="WEBP")p="webp";else if(S.slice(0,3)=="CDR")p="cdr";else p=S}if(a(A,[70,79,82,77])||a(A,[76,73,83,84])||a(A,[67,65,84,32])){var n=cL.__(A),S=n.GD;
if(S=="ILBM"||S=="ANIM")p="ilbm";else p=S}if(a(A,[255,216,255]))p="jpg";if(a(A,[0,0,0,12,106,80,32,32]))p="jpg";
if(a(A,[48,0,1,0],4))p="jb2";if(a(A,[71,73,70,56]))p="gif";if(a(A,[0,0,0,2,121,102,113,76]))p="msh";
if(a(A,[0,0,0,3,121,102,113,76]))p="msh";if(a(A,[0,0,0,16]))p="atn";if(a(A,[0,1]))p="aco";if(a(A,[0,2]))p="aco";
if(a(A,[65,83,69,70]))p="aco";if([0,1].indexOf(A[1])!=-1&&[1,2,3,9,10,11].indexOf(A[2])!=-1&&[0,16,24,32].indexOf(A[7])!=-1)p="tga";
if(a(A,[0,2,56,66,83,76]))p="asl";if(a(A,[0,1,0,-1,0,2,0]))p="abr";if(a(A,[0,2,0,-1,0,2,0]))p="abr";
if(a(A,[0,6,0,1]))p="abr";if(a(A,[0,6,0,2]))p="abr";if(a(A,[0,7,0,2]))p="abr";if(a(A,[0,9,0,2]))p="abr";
if(a(A,[0,10,0,2]))p="abr";if(a(A,[56,66,70,83]))p="shc";if(a(A,[56,66,80,84]))p="pat";if(a(A,[56,66,71,82]))p="grd";
if(a(A,[71,73,77,80,32,71,114,97]))p="grd";if(a(A,[56,66,84,80]))p="tpl";if(a(A,[0,4,0,5]))p="acv";if(a(A,[99,117,115,104]))p="csh";
if(a(A,[0,1,0,0,0]))p="otf";if(a(A,[79,84,84,79]))p="otf";if(a(A,[116,116,99,102]))p="otf";if(a(A,[68,68,83,32]))p="dds";
if(a(A,[80,86,82,3]))p="pvr";if(a(A,[86,84,70,0]))p="vtf";if(a(A,[83,73,77,80]))p="fits";if((a(A,[0,0,1,0])||a(A,[0,0,2,0]))&&A[4]!=0)p="ico";
if(a(A,[66,77]))p="bmp";if(a(A,[40,0,0,0]))p="bmp";if(a(A,[80,49]))p="ppm";if(a(A,[80,50]))p="ppm";if(a(A,[80,51]))p="ppm";
if(a(A,[80,52]))p="ppm";if(a(A,[80,53]))p="ppm";if(a(A,[80,54]))p="ppm";if(a(A,[73,73,42,0]))p="tiff";
if(a(A,[77,77,0,42]))p="tiff";if(a(A,[73,73,85,0]))p="tiff";if(a(A,[70,85,74,73,70,73,76,77]))p="raf";
if(a(A,[112]))p="lif";if(a(A,[73,73,26,0]))p="ciff";if(a(A,[83,81,76,105]))p="sketch";if(a(A,[80,75])){var F=UZIP.parse(e,!0);
if(F["document.json"])p="sketch";else if(F.manifest)p="xd";else if(F["maindoc.xml"])p="kra";else if(F["content/root.dat"])p="cdr";
else if(F["canvas.fig"])p="fig";else p="zip"}if(a(A,[123]))p="json";if(z.q(A,0)==A.length)p="icc";if(a(A,[35]))p="icc";
if(a(A,[84,73,84,76],N))p="icc";if(a(A,[76,85,84,95],N))p="icc";if(a(A,[60,63,120,109],N)){if(z.vP(A,"<look>")!=-1)p="icc";
else p="svg"}if(a(A,[255,254,60,0],N))p="svg";if(a(A,[60,115,118,103],N))p="svg";if(a(A,[60,33,100,111],N)||a(A,[60,33,68,79],N)||a(A,[60,33,45,45],N)){if(z.vP(A,"<svg")!=-1)p="svg";
else p="html"}if(a(A,[37,33])||a(A,[197,208,211,198])){if(z.vP(A,"%AI9_PrivateDataBegin")!=-1||z.vP(A,"%AI5_BeginLayer")!=-1)p="ai";
else p="eps"}if(a(A,[37,80,68,70],N)){if(z.vP(A,"/AIMetaData ")!=-1)p="ai";else p="pdf"}else if(a(A,[10,69,79,70],i-3))p="dxf";
if(a(A,[1,0,9,0]))p="wmf";if(a(A,[215,205,198,154]))p="wmf";if(a(A,[1,0,0,0]))p="emf";if(a(A,[118,47,49,1]))p="exr";
if(a(A,[10,10,10,10]))p="jsx";if(a(A,[77,90]))p="exe";if(p==null&&j.raw.uI(A.length)!=null)return"tiff";
return p};fI.Lz=function(e,A,a){if(a==null)a=0;for(var c=0;c<A.length;c++)if(A[c]!=-1&&e[a+c]!=A[c])return!1;
return!0};fI.nP=function(e){var A={BMP:fI.aeP,CDR:fI.cL,DDS:fI.IW,EMF:fI.wa,DXF:fI.jp,EPS:fI.HA,FIG:fI._g,FPNG:fI.EU,INDD:fI.Sf,GIF:fI.cq,ICO:fI.pr,ILBM:fI.hs,FITS:fI.X0,EXR:fI.WK,JPG:fI.l7,LIF:fI.Oi,DCM:fI.a43,PDF:fI.Fe,PDN:fI.xN,PNG:fI.PG,PPM:fI.rj,PSD:fI.V1,PXD:fI.vB,RAF:fI.br,RAW:fI.qH,SKETCH:fI.qP,SVG:fI.rn,TGA:fI.oG,AVIF:fI.a4Q,TIFF:fI.Bj,VTF:fI.El,WEBP:fI.KB,WMF:fI.yY,XCF:fI.Q1,XD:fI.gw,KRA:fI.eK,EXE:fI.Te,AI:fI.UH,AFPHOTO:fI.sW,CLIP:fI.Q8,MP4:fI.a50};
return A[e.toUpperCase()]};fI.Vd=function(c){var e=fI.gB.anv,A=fI.gB.ayW,a,p=[];if(c==null)a=e.concat(A);
else a=c==0?e:A;for(var c=0;c<a.length;c++)if(fI.nP(a[c]).Eu)p.push(a[c]);return p};fI.agt=function(){var e;
function A(p){var N=p.target,i=N.width,Z=N.height,s=document.createElement("canvas");s.width=i;s.height=Z;
var D=s.getContext("2d");D.drawImage(N,0,0);e({WJ:new dE(0,0,i,Z),data:D.getImageData(0,0,i,Z).data.buffer})}function a(p,N,i){e=i;
var Z=document.createElement("img");Z.onload=A;Z.src="data:"+N+";base64,"+fI.$v(p)}return a}();fI.cW=function(e,A,a,p,N){var i=fI.di(e,A,a,p,N),Z=fI.dD(i);
return Z.buffer};fI.dD=function(e){var A=atob(e.split(",").pop()),a=new Uint8Array(A.length);for(var c=0;
c<A.length;c++)a[c]=A.charCodeAt(c);return a};fI.di=function(e,A,a,p,N,i){if(!(e instanceof ArrayBuffer))throw"e";
if(p==null)p="png";if(p=="png"&&i==!0){var Z=fI.nP("PNG").Eu([[e,0]],A,a);return"data:image/png;base64,"+fI.$v(Z)}var s=fI.iy;
if(s==null)s=fI.iy=document.createElement("canvas");if(s.width!=A||s.height!=a){s.width=A;s.height=a}var D=s.getContext("2d"),n=new ImageData(new Uint8ClampedArray(e,0,A*a*4),A,a);
D.putImageData(n,0,0);return s.toDataURL("image/"+p,N)};fI.an2=function(e,A,a,p,N){if(N==null)N=0;var i="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",Z="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+i+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(e==1)Z+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
Z+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+N+")\" xlink:href=\""+A+"\" x=\""+80*a+"\" y=\""+80*p+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var s=new Uint8Array(Z.length);z.dR(Z,s,0);var D="data:image/svg+xml;base64,"+fI.$v(s.buffer);return{Hi:D,nd:new dE(0,0,128,128),JZ:new k7(64,64)}};
fI.$v=function(e){var A=new Uint8Array(e),a="";for(var c=0;c<A.length;c++)a+=String.fromCharCode(A[c]);
return btoa(a)};fI.a37=function(e){var A=atob(e),a=A.length,p=new Uint8Array(a);for(var c=0;c<a;c++)p[c]=A.charCodeAt(c);
return p.buffer};fI.ni=function(e){var A=[],a=[];for(var c=0;c<e.B.length;c++){var p=e.B[c];if(p.getName().slice(0,3)=="_a_"){A.push(c);
a.push(p.gi())}}return[A,a]};fI.Ek=function(e,A,a,p,N,i){if(a==null)a=e.m;if(p==null)p=e.n;var Z=new dE(0,0,e.m,e.n),s=new bj(a/(e.m+.001),0,0,p/(e.n+.001),0,0),n;
A=A.toUpperCase();var D=fI.nP(A);if(D.S$){e.WR();n=D.Eu(e,a,p,N,i)}else{if(N)N=N.slice(0);var S=fI.ni(e),F=S[0],$=S[1],m=e.wO(),J=m&&N?N.pop():!1,w=m&&!J?m[0]:null,f=null;
if(e.l8.length!=0){f=[];for(var c=0;c<e.l8.length;c++)f.push(e.l8[c].wx(Z))}if(F.length<2){var b=fI.kA(e.WR(),m,J,e),L;
if(a==e.m&&p==e.n)L=b.buffer;else{var C=q.BD.xM([b,Z],s);L=C.buffer.buffer;if(f){var M=j.Q(Z.O()*4);
for(var c=0;c<f.length;c++){j.Ao(f[c],M,3);var C=q.BD.xM([M,Z],s),y=f[c]=j.Q(C.rect.O());j.kI(C.buffer,y,3)}}}n=D.Eu([[L,0,e.l5,e.gj,f,w]],a,p,N)}else{var Q=[];
for(var c=0;c<F.length;c++){var k=F[c],L;for(var E=0;E<F.length;E++)e.B[F[E]].d8(F[E]==k);e.WF();e.U();
e.HD();if(a==e.m&&p==e.n)L=e.WR().buffer.slice(0);else{var C=q.BD.xM([e.WR(),Z],s);L=C.buffer.buffer}L=fI.kA(new Uint8Array(L),m,J,e).buffer;
var _=e.B[k].getName().split(",");Q.push([L,_[1]?parseInt(_[1]):100,e.l5,e.gj,f,w])}for(var c=0;c<F.length;
c++)e.B[F[c]].d8($[c]);e.U();e.HD();if(N){var v=N.length,V=N[v-2],R=N[v-1],h=N[v-4]/100;if(h!=1)for(var c=0;
c<Q.length;c++)Q[c][1]=Math.round((Q[c][1]==0?16:Q[c][1])/h);if(V)Q.reverse();if(R){var P=Q.slice(1,Q.length-1);
P.reverse();Q=Q.concat(P)}}n=D.Eu(Q,a,p,N)}}return n};fI.kA=function(e,A,a,p){var N=p.x_();if(a){e=e.slice(0);
ICC.U.applyLUT(A[3],A[2],e,e)}else if(N&&p.add.fcmy==1){e=e.slice(0);ICC.U.applyLUT(N[p.add.fcmy==1?5:3],N[2],e,e)}return e};
fI.aqT=function(e,A){var a=new Uint8Array(e.data),p=new Uint8Array(A.data),N=0,i=0;for(var Z=0;Z<a.length;
Z+=4){var s=a[Z]-p[Z],D=a[Z+1]-p[Z+1],n=a[Z+2]-p[Z+2],S=a[Z+3]-p[Z+3],F=s*s+D*D+n*n+S*S>>>2;N+=F;if(F>25)i++}var $=i/e.WJ.O()<1e-4;
return $};fI.TW=function(e,A){var a=A[0].BI&&A[0].BI.startsWith("_a_"),p;if(a&&!1){var N=0,i=A.length;
for(var c=0;c<A.length-1;c++){var Z=A[c],s=A[c+1],D=fI.aqT(Z,s);if(D){var n=parseFloat(Z.BI.split(",").pop()),S=parseFloat(s.BI.split(",").pop());
Z.BI=Z.BI.split(",")[0]+","+Math.round(n+S);A.splice(c+1,1);c--;N++}}if(N!=0){alert("Deleted "+N+" frames out of "+i+".");
for(var c=0;c<A.length;c++){var F=A[c],$=F.BI;F.BI="_a_frm"+c+","+$.split(",")[1]}}}var J=new ar(e+".psd"),w=new dE(0,0,1,1);
if(a){p=J.Uo();p.add.lsct=ez.MV;p.i4(e);p.Mi="pass";p.OO=24;p.d8(!0);J.B.push(J.pz())}for(var c=0;c<A.length;
c++){var f=A[c];w=w.pg(f.WJ);var b=J.Uo();b.d8(c==0);b.i4(A.length==1?"Background":"Layer "+c);if(c==0&&f.l5)J.l5=f.l5;
if(c==0&&f.gj)J.gj=f.gj;if(f.BI)b.i4(f.BI);if(f.Cb)for(var c=0;c<f.Cb.length;c++){var L=f.Cb[c],C=ar.OX(L[0]);
C.add.vmsk.i=L[1];j.r.nM(L[1],new bj(w.m,0,0,w.n,0,0));J.GI.push(C)}if(f.dc)J.dc=f.dc;b.rect=f.WJ.clone();
b.buffer=new Uint8Array(f.data);if(c==0&&f.Nz)J.bo(f.Nz);j.jN(b);J.B.push(b)}if(a)J.B.push(p);if(A[0].l8){for(var c=0;
c<A[0].l8.length;c++){var M=new u.j_;J.l8.push(M);M.rect=A[0].WJ.clone();M.channel=A[0].l8[c]}}J.g=[a?J.B.length-1:0];
J.m=w.m;J.n=w.n;J.buffer=j.Q(w.O()*4);J.U();return J};fI.Yv=function(e,A,a){var p=e.length-a,N=new Uint8Array(p);
for(var c=0;c<A;c++)N[c]=e[c];for(var c=A;c<p;c++)N[c]=e[c+a];return N};fI.aaU=function(e,A,a,p,N,i,Z,s,D){var n=new k4(t.E.v,!0);
n.G=q.sf;n.data={d:"h_stepbck"};var S={};for(var F=1;F<a.length;F++){var $=e.g.slice(0),m=fI.qM(e,D,A,a,p,F),J="img"+F,w=a[0].indexOf(Z);
if(Z!=""){if(w==-1)alert("Column "+Z+" not found.");else J=a[F][w]}S[J+"."+N.toLowerCase()]=new Uint8Array(fI.Ek(e,N,null,null,i,s));
for(var c=0;c<m;c++)D.S(n)}return UZIP.encode(S)};fI.qM=function(e,A,a,p,N,i){var Z=new k4(t.E.L,!0),n=0;
Z.data={d:t.c.zr};var s=new k4(t.E.v,!0);s.G=q._b;s.data={d:u.Q0,ZK:{buffer:null,rect:null}};var D=s.data.ZK;
for(var S=0;S<a.length;S++){var F=a[S],$=F.trait,m=parseInt(F.docRef.slice(4,-2)),J=-1;for(var c=0;c<e.B.length;
c++)if(e.B[c].add.lyid==m)J=c;if(J==-1)continue;var w=p[0].indexOf(F.varName);if(w==-1){alert("Column "+F.varName+" is missing");
return}var f=p[i][w],b=e.B[J];e.g=[J];if($=="textcontent"){Z.data.Jk="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(f)+";";
A.S(Z);n++}if($=="visibility"&&b.gi()+""!=f.toLowerCase()){Z.data.Jk="app.activeDocument.activeLayer.visible = "+f.toLowerCase()+";";
A.S(Z);n++}if($=="fileref"){var C=f.split("/").pop(),M=null;for(var iM in N)if(iM.split("/").pop()==C)M=N[iM];
if(M==null){alert("Image "+C+" is missing.")}else{var y=fI.nP(fI.ti(M.buffer)).QS(M.buffer)[0],Q=y.WJ,k=b.rect.m/b.rect.n,E=Q.m/Q.n,_=0,v=0;
if(k>E){v=b.rect.n;_=~~(v*E)}else{_=b.rect.m;v=~~(_/E)}Z.data.Jk="app.activeDocument.activeLayer.visible = false;";
A.S(Z);n++;var V=q.BD.xM([new Uint8Array(y.data),Q],new bj(_/Q.m,0,0,v/Q.n,0,0));D.rect=V.rect;D.buffer=V.buffer;
V.rect.x=b.rect.x+(b.rect.m-_>>>1);V.rect.y=b.rect.y+(b.rect.n-v>>>1);A.S(s);n++}}}return n};fI.PG={};
fI.PG.Eu=function(e,A,a,p){if(p==null)p=[100,!1,0,0,0];var N={sRGB:1,loop:p[3]};if(e[0][5]!=null){delete N.sRGB;
N.iCCP=e[0][5]}if(e[0][2]!=null){var i=Math.round(e[0][2]*(1e4/254));N.pHYs=[i,i,1]}var Z=p[0],s=Z==100?0:Math.max(2,Math.floor(Z*5));
if(s==5)s=4;var D=[],n=[];for(var c=0;c<e.length;c++){D.push(e[c][0]);n.push(e[c][1])}var S=UPNG.encode(D,A,a,s,n,N,p[1]);
return S};fI.PG.af$=function(e,A,a){return UPNG.encodeLL([e],A,a,3,1,8)};fI.PG.QS=function(e){var A=Date.now(),a=UPNG.decode(e),p=UPNG.toRGBA8(a),N=a.width,i=a.height,Z=0,s=a.tabs.iCCP;
if(a.tabs.pHYs)Z=Math.round(a.tabs.pHYs[0]*254/1e4);if(p.length==1)return[{WJ:new dE(0,0,N,i),data:p[0],l5:Z,Nz:s}];
var D=[];for(var c=0;c<p.length;c++){D.push({BI:"_a_frm"+c+","+a.frames[c].delay,WJ:new dE(0,0,N,i),data:p[c],l5:Z,Nz:s})}return D};
fI.rj={};fI.rj.Eu=function(e,A,a,p){var N=new Uint8Array(e[0][0]),i=A*a,Z=i*3,s="P6\n"+A+" "+a+"\n255\n",D=s.length,n=j.Q(D+Z,!0);
for(var c=0;c<D;c++)n[c]=s.charCodeAt(c);for(var c=0;c<i;c++){var S=c*4,F=c*3+D;n[F]=N[S];n[F+1]=N[S+1];
n[F+2]=N[S+2]}return n.buffer};fI.rj.QS=function(e){e=new Uint8Array(e);var A=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],a=0,p=String.fromCharCode(e[0])+String.fromCharCode(e[1]),N=[],i=0,Z=p=="P1"||p=="P4"?2:3;
for(a=2;a<e.length;a++){var s=e[a],D=String.fromCharCode(s);if(s=="#".charCodeAt(0)){while(e[a]!="\n".charCodeAt(0))a++;
continue}var n=A.indexOf(s)!=-1;if(i==0&&!n){N.push(D);i=1;continue}if(i==1&&!n){N[N.length-1]+=D;continue}if(i==1&&n){i=0;
if(N.length==Z)break;continue}}var S=parseInt(N[0]),F=parseInt(N[1]),$=S*F*4,m=p=="P1"||p=="P4"?1:255/parseInt(N[2]),J=j.Q($);
if(p=="P1"||p=="P2"||p=="P3"){var w="",f=0,i=0,b="#".charCodeAt(0);for(var c=a;c<e.length;c++){var s=e[c],D=String.fromCharCode(s),n=A.indexOf(s)!=-1;
if(s==b){while(e[c]!="\n".charCodeAt(0))c++}else if(i==0&&!n){w=D;i=1}else if(i==1){if(n){i=0;var L=parseInt(w);
w="";if(p=="P1"){J[f]=J[f+1]=J[f+2]=(1-L)*255;J[f+3]=255;f+=4}if(p=="P2"){J[f]=J[f+1]=J[f+2]=Math.round(L*m);
J[f+3]=255;f+=4}if(p=="P3"){J[f]=Math.round(L*m);f++;if((f&3)==3){J[f]=255;f++}}}else w+=D}}}var C=S*F;
if(p=="P4")for(var M=0;M<F;M++){var y=M*8*Math.ceil(S/8);for(var Q=0;Q<S;Q++){var c=y+Q,k=e[a+1+(c>>3)];
k=k>>7-(c&7)&1;var E=M*S+Q<<2;J[E]=J[E+1]=J[E+2]=(1-k)*255;J[E+3]=255}}if(p=="P5")for(var c=0;c<C;c++){var E=4*c;
J[E]=J[E+1]=J[E+2]=Math.round(e[a+1+c]*m);J[E+3]=255}if(p=="P6")for(var c=0;c<C;c++){var E=4*c,_=a+1+3*c;
J[E]=Math.round(e[_]*m);J[E+1]=Math.round(e[_+1]*m);J[E+2]=Math.round(e[_+2]*m);J[E+3]=255}return[{WJ:new dE(0,0,S,F),data:J.buffer}]};
fI.IW={};fI.IW.Eu=function(e,A,a,p){if(p==null)p=[0,!0];if(typeof p[0]=="boolean")p[0]=0;var N=new Uint8Array(e[0][0]),i=A&3,Z=a&3;
if(i!=0||Z!=0){var s=A+(i==0?0:4-i),D=a+(Z==0?0:4-Z),n=new Uint8Array(s*D*4);j.fV(n,4278190080);j._M(N,new dE(0,0,A,a),n,new dE(0,0,s,D));
N=n;A=s;a=D}var S=UTEX.DDS.encode(N.buffer,A,a,p);if(!1){var F=UTEX.DDS.decode(S)[0],n=new Uint8Array(F.G9),$=0;
for(var c=0;c<N.length;c++){var m=N[c]-n[c];$+=m*m}console.log($)}return S};fI.IW.QS=function(e){var A=UTEX.DDS.decode(e)[0];
return[{WJ:new dE(0,0,A.width,A.height),data:A.image}]};fI.El={};fI.El.QS=function(e){var A=UTEX.VTF.decode(e).pop();
return[{WJ:new dE(0,0,A.width,A.height),data:A.image}]};fI.l7={};fI.l7.Bk=null;fI.l7.aht=function(e,A){var a=fI.l7.Bk,p=e.byteLength,N=A.width,i=A.height,Z=N*i,s=5e6+2*p+Z*(A.progressive?Math.max(2,A.numComponents)*4+1:8),D=a.instance.exports;
fI.My(D,s);var n=new Uint8Array(D.memory.buffer),S=D.malloc(p);n.set(new Uint8Array(e),S);var F=D.malloc(4),$=D.malloc(4),iM=D.malloc(4),m=D.stbi_load_from_memory(S,p,F,$,iM,4);
D.free(S);D.free(F,$,iM);D.free(m);var J=n.slice(m,m+Z*4);return J};(function(){var e=fI.lj.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(e).then(function(A){fI.l7.Bk=A})}());fI.l7.Eu=function(e,A,a,p){if(p==null)p=[85];
var N=e[0],i=new Uint8Array(N[0]);if(j.vJ(i)){var Z=new Uint8Array(i.length),s=new dE(0,0,A,a);j.fV(Z,4294967295);
j.s.eZ("norm",i,s,Z,s,s,1);i=Z}var D=new Uint8Array(fI.cW(i.buffer,A,a,"jpeg",p[0]/100));if(D.length<2e4){var n=z.vP(D,[255,226]);
if(n!=-1){var S=z.ex(D,n+2);console.log(n,S);D=fI.Yv(D,n,S+2)}}if(N[5]!=null){var F=fI.l7.dg(D)[226][0]+2,$=z.ex(D,F),m=N[5].length+16,J=m-$,w=new Uint8Array(D.length+J);
for(var c=0;c<F+$;c++)w[c]=D[c];for(var c=F+$;c<D.length;c++)w[c+J]=D[c];z.qk(w,F,m);w.set(N[5],F+16);
D=w}if(N[2]!=null){var f=fI.l7.dg(D)[224][0]+2;f+=9;D[f]=1;z.qk(D,f+1,N[2]);z.qk(D,f+3,N[2])}if(N[3]!=null&&p[1]==!0&&Object.keys(N[3]).length!=0){var b=0,L=0,C=0,M=fs.Tq(N[3]),y=new Uint8Array(UTIF.encode([M])),Q="http://ns.adobe.com/xap/1.0/",F=20;
b=4+6+y.length;var k=fs.amG(N[3]),E=z.Fp(k);L=4+Q.length+1+E.length;var _=fs.adk(N[3]);if(_.length!=0){var v=0,h=0;
for(var c=0;c<_.length;c++)v+=5+_[c][1].length;var V=v+(v&1),R=j.Q(14+4+4+4+V);z.O2(R,h,"Photoshop 3.0");
h+=14;z.O2(R,h,"8BIM");h+=4;R[h++]=4;R[h++]=4;h+=2;z.g_(R,h,v);h+=4;for(var c=0;c<_.length;c++){var P=_[c],H=P[1];
R[h++]=28;R[h++]=2;R[h++]=P[0];z.qk(R,h,H.length);h+=2;z.O2(R,h,H);h+=H.length}C=4+R.length}var U=b+L+C,X=new Uint8Array(D.length+U);
for(var c=0;c<20;c++)X[c]=D[c];for(var c=20;c<D.length;c++)X[c+U]=D[c];X[F]=255;X[F+1]=225;z.qk(X,F+2,b-2);
z.O2(X,F+4,"Exif");for(var c=0;c<y.length;c++)X[F+10+c]=y[c];F+=b;X[F]=255;X[F+1]=225;z.qk(X,F+2,L-2);
z.O2(X,F+4,Q);for(var c=0;c<E.length;c++)X[F+4+Q.length+1+c]=E[c];F+=L;if(C!=0){X[F]=255;X[F+1]=237;
z.qk(X,F+2,C-2);for(var c=0;c<R.length;c++)X[F+4+c]=R[c];F+=C}D=X}return D.buffer};fI.l7.dg=function(e){var A=0,a=[],p=e.length;
while(A<p){while(e[A]!=255&&A<p)A++;while(e[A]==255)A++;if(A==p)break;var N=e[A];A++;if(a[N]==null)a[N]=[];
a[N].push(A-2);if(N==216)continue;if(N==217)break;if(224<=N&&N<=239||N==218||N==219||N==192||N==193||N==194||N==196||N==221||N==254){var i=z.ex(e,A);
A+=i;if(N==218)while(A<p&&(e[A]!=255||(e[A+1]==0||208<=e[A+1]&&e[A+1]<=215)))A++;continue}console.log("unknown marker ",N.toString(16),A);
break}if(a[217]==null){console.log("EOI marker missing");var Z=e.length-2;e[Z]=255;e[Z+1]=217;a[217]=[Z]}return a};
fI.l7.a5y=function(e){e=new Uint8Array(e);if(e[0]!=255)return e.buffer;var A=fI.l7.dg(e),a=fI.l7.tQ(e,A);
if(a.numComponents!=4)return e.buffer;var p=a.width,N=a.height,i=fI.l7.ZV(e,A,!0);return fI.l7.Eu([[i[0].data]],p,N,[85])};
fI.l7.tQ=function(e,A){var a=(A[192]?A[192]:A[193]?A[193]:A[194])[0]+4,p={};p.progressive=A[194]!=null;
p.precision=e[a];a++;p.height=z.ex(e,a);a+=2;p.width=z.ex(e,a);a+=2;p.numComponents=e[a];a++;if(A[224]){var N=p.jfif={};
a=A[224][0]+2+2+5+2;N.densityUnits=e[a];a++;N.xDensity=z.ex(e,a);a+=2;N.yDensity=z.ex(e,a);a+=2}if(A[238]){var N=p.adobe={};
a=A[238][0]+2+2+6;N.version=e[a];a++;N.flags0=z.ex(e,a);a+=2;N.flags1=z.ex(e,a);a+=2;N.transform=e[a];
a++}return p};fI.l7.ajp=function(e,A,a){var p=A,N=z.ex(e,p);p+=2;var i=z.wc(e,p,4);if(i=="Exif"){p+=6;
var Z=e.slice(p,p+N-8),s;try{s=UTIF.decode(Z.buffer,{parseMN:!1,debug:!1})}catch(i1){}if(s&&s.length!=0)a.exif=s}else if(i=="http"){var D=0;
while(e[p+D]!=0)D++;var n=z.wc(e,p,D);p+=D+1;if(n=="http://ns.adobe.com/xmp/extension/"){var S=z.wc(e,p,32);
p+=32;p+=8;var F=A+N-p;while(e[p+F-1]==0)F--;if(a.xmp_extn==null)a.xmp_extn="";try{a.xmp_extn+=z.lB(e,p,F)}catch(i1){}}else if(n=="http://ns.adobe.com/xap/1.0/"){var $=z.lB(e.slice(p,p+N-D-3));
if($[0]=="?")$="<"+$;a.xmp=$}}else console.log(i)};fI.l7.ZV=function(e,A,a){var p=fI.l7.tQ(e,A),N=p.width,i=p.height,Z=N*i,s,D=-1,M=72,y,k,E=null;
if(p.adobe)D=p.adobe.transform;if(a||N*i>15e7||D==0||D==2){var n=new PDFJS.JpegImage;n.parse(e);var S=n.getData({width:N,height:i,forceRGB:!0,isSourcePDF:a}),s=j.Q(Z*4);
for(var c=0;c<Z;c++){var F=c<<2,$=F-c;s[F]=S[$];s[F+1]=S[$+1];s[F+2]=S[$+2];s[F+3]=255}}else{s=fI.l7.aht(e.buffer,p)}var m=A[225];
if(m)for(var c=0;c<m.length;c++)fI.l7.ajp(e,m[c]+2,p);var J=A[226];if(J){var w=J[0],f=z.ex(e,w+2),b=z.wc(e,w+4,11);
if(b=="ICC_PROFILE"){var L=z.q(e,w+18);p.icc=e.slice(w+18,w+18+L)}}var C=A[217][0]+2;if(C!=e.length)p.suffix=e.slice(C);
var Q=[N,i,1,0,0,0,1,0];if(p.jfif&&p.jfif.densityUnits!=0){M=Math.round([72,1,2.54][p.jfif.densityUnits]*p.jfif.xDensity)}else if(p.exif&&p.exif[0].t282!=null){var _=p.exif[0].t282[0];
M=_[0]/_[1]}if(p.exif){var v=p.exif;y=fs.oq(v[0]);var V=v[0].t274;if(V)V=V[0];if(V!=null&&V>1&&V<20)Q=j.raw.NO(V,N,i)}if(p.xmp){y=fs.alm(p.xmp,y)}if(p.icc)k=p.icc;
var R=A[237],h=[],P=[];if(R){var H=new Uint8Array(65536),U=0,w=0;for(var c=0;c<R.length;c++){w=R[c]+2;
var X=w+z.ex(e,w);w+=2;var x=w;while(e[w]!=0)w++;w++;var K=z.wc(e,x,w-x-1),T=X-w;if(T<0)break;while(U+T>H.length){var I=new Uint8Array(H.length*2);
I.set(H);H=I}var o=new Uint8Array(e.buffer,w,T);H.set(o,U);U+=T}w=0;e=H;while(w<U){var l=z.wc(e,w,4);
w+=4;var O=z.ex(e,w);w+=2;var g=e[w++],W=z.wc(e,w,g);w+=g;if((g&1)==0)w++;var f=z.q(e,w);w+=4;var C=w+f+(f&1);
if(O==1028){while(w+4<C){var d=e[w++],gT=e[w++],r=e[w++],G=z.ex(e,w);w+=2;if(d==28&&gT==2)h.push([r,z.wc(e,w,G)]);
w+=G}}else if(O==1032)E=aK.cJ(e,w);else if((O&2e3)==2e3){var Y=bF.XN(e,w,f);P.push([W,Y])}else{}w=C}if(h.length!=0)y=fs.amq(h,y)}var fk=[{WJ:new dE(0,0,N,i),data:s.buffer,l5:M,gj:y,Nz:k,Cb:P.length==0?null:P,dc:E}],y=p.xmp_extn;
if(y){var eJ=new DOMParser,eS=eJ.parseFromString(y,"image/svg+xml"),eS=eS.children[0].children[0].children[0],gL=[eS.getAttribute("GImage:Data"),eS.getAttribute("GDepth:Data")];
for(var c=0;c<gL.length;c++)if(gL[c]){var cX=atob(gL[c]),kj=new Uint8Array(cX.length);z.O2(kj,0,cX);
kj=kj.buffer;var gq=fI.ti(kj),iL=fI.nP(gq).QS(kj);fk.push(iL[0])}}if(p.suffix){var ew=p.suffix,dk=!1,j9=z.wc(ew,4,4),fh=z.vP(ew,[255,216,255]);
if(fI.Lz(ew,[0,0,1,10,14,0,0,0])){if(dk)console.log("Samsung");var w=0;while(w!=ew.length){var g9=z.dn(ew,w+2);
w+=4;var k6={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[g9];if(k6!=null){var jx=z.Jv(ew,w);w+=4;
var fV=z.wc(ew,w,jx);w+=jx;var ao=z.wc(ew,w,k6);w+=k6;if(g9==2608){var b8=w,ke=z.q(ew,w+24);w+=ke+24;
var gj=z.q(ew,w);w+=gj;var jf=ew.slice(b8,w);fI.l7.Be(jf)}}else if(g9==18502){while(z.wc(ew,w,4)!="SEFT")w+=4;
w+=4}else{break;console.log(z.qS(ew,w,128));console.log(ew.slice(w));throw g9.toString(16)}}}else if(j9=="ftyp"){if(dk)console.log("MP4 Video");
fI.l7.Be(ew)}else if(z.wc(ew,0,4)=="fixe"){if(dk)console.log("fixe");alert("Unknown data - "+ew.length+" B - at the end of the file",3e3);
var w=4,f=z.Jv(ew,w);w+=4;var ay=z.Jv(ew,w);w+=4;var fz=z.Jv(ew,w);w+=4;console.log(f,ay,fz,ew.slice(w,w+84));
w+=84;var ei=z.wc(ew,w,32);w+=32;w+=8;var ei=z.wc(ew,w,32);w+=32}else if(z.wc(ew,8,13)=="FocusShot_Map"){if(dk)console.log("FocusShot_Map");
var hC=z.q(ew,0),G=z.Jv(ew,4),kj=j.Q(Z*4),iI=j.Q(Z*4);for(var gQ=0;gQ<i;gQ++)for(var cb=0;cb<N;cb++){var c=gQ*N+cb,F=c<<2,dK=8+13+((gQ>>>1)*N+cb>>>1),ha=ew[dK],hA=ew[dK+(Z>>>2)];
kj[F]=kj[F+1]=kj[F+2]=ha;kj[F+3]=255;iI[F]=iI[F+1]=iI[F+2]=hA;iI[F+3]=255}fk.push({WJ:new dE(0,0,N,i),data:kj.buffer},{WJ:new dE(0,0,N,i),data:iI.buffer})}else if(j9=="edof"){if(dk)console.log("edof");
var V=ew[8+7];console.log(V.toString(16));var w=8+16,dW=z.dn(ew,w),fN=z.dn(ew,w+2),Z=dW*fN;w+=4;w+=32+16;
var cQ=j.Q(Z*4);for(var c=0;c<Z;c++){var F=c<<2;cQ[F]=cQ[F+1]=cQ[F+2]=ew[w+c];cQ[F+3]=255}if(V==16){}else if(V==19){var h6=cQ.slice(0);
j.K.d3(cQ,h6,dW,fN);var hh=dW;dW=fN;fN=hh;j.K.uo(h6,cQ,dW,fN)}else throw"Unknown orientation of a depth map";
fk.push({WJ:new dE(0,0,dW,fN),data:cQ.buffer})}else if(fh!=-1&&!(ew[0]==255&&ew[1]==129)){if(dk)console.log("another JPG at",fh);
if(fh>100&&z.wc(ew,0,64).indexOf("DualShot")!=-1){var bA=z.Jv,co=z.wc,ej=z.dn,w=0;function bk(){var cz=bA(ew,w);
if(bA(ew,w+4)!=0)throw"e";w+=8;return cz}var h5=z.q(ew,w);w+=4;try{if(h5==45066){w=1226;var N=bk(),i=bk();
w=3445}else if(h5==45322){var bg=bA(ew,w);w+=4;var ei=co(ew,w,bg);w+=bg;if(ei!="DualShot_DepthMap_1")throw ei;
N=1008;i=756}else throw h5;var aQ=j.Q(N*i*4);aQ.fill(255);j.DC(ew.slice(w,w+N*i),aQ);fk.push({WJ:new dE(0,0,N,i),data:aQ.buffer})}catch(i1){console.log("error reading a depth map")}}try{if(fh!=0)ew=ew.slice(fh);
var iL=fI.nP("jpg").QS(ew.buffer);for(var c=0;c<iL.length;c++)fk.push(iL[c])}catch(i1){}}else if(z.wc(ew,0,4)=="PMPD"){if(dk)console.log("Xiaomi stuff");
var w=4,fw=z.Jv(ew,12),jC=z.Jv(ew,16),dW=z.Jv(ew,1060),fN=z.Jv(ew,1064),e0=dW>fN,eU=fk[0].WJ.m>fk[0].WJ.n,iV=ew.slice(ew.length-dW*fN-4),kh=j.Q(dW*fN);
for(var gQ=0;gQ<fN;gQ++)for(var cb=0;cb<dW;cb++)kh[gQ*dW+cb]=iV[(fN-gQ-1)*dW+cb];var aQ=j.Q(dW*fN*4);
aQ.fill(255);j.DC(kh,aQ);if(e0!=eU){var h6=aQ.slice(0);j.K.d3(aQ,h6,dW,fN);var hh=dW;dW=fN;fN=hh;j.K.uo(h6,aQ,dW,fN)}fk.push({WJ:new dE(0,0,dW,fN),data:aQ.buffer})}else console.log(z.wc(ew,0,4),ew)}if(fk.length>1){var hT=fk[0].WJ,bD=!1,kt=!0;
fk[0].BI="Main";var gi=[!1];for(var c=1;c<fk.length;c++){gi[c]=fI.l7.aob(new Uint8Array(fk[c].data));
if(gi[c])bD=!0;if(!fk[c].WJ.Kx(fk[0].WJ))kt=!1}if(!bD&&!kt)fk=fk.slice(0,1);else for(var c=1;c<fk.length;
c++){fk[c].BI=gi[c]?"Depth Map":null;var iJ=fk[c].WJ;if(!iJ.Kx(hT)){var ih=hT.m/iJ.m,fr=hT.n/iJ.n,ad=new bj;
ad.scale(ih,fr);var aS=q.BD.K0([new Uint8Array(fk[c].data),iJ],1,j.K.s1(ad));fk[c].WJ=aS.rect;fk[c].data=aS.buffer}}}if(fI.l7.BM==1)if(Q[2]!=1||Q[6]!=1)for(var c=0;
c<fk.length;c++){var cD=fk[c],dR=new Uint8Array(cD.data),N=cD.WJ.m,i=cD.WJ.n,dW=Q[0],fN=Q[1],s=j.Q(dW*fN*4);
j.K.kZ(dR,N,i,s,Q);cD.WJ=new dE(0,0,dW,fN);cD.data=s.buffer}return fk};fI.l7.Be=function(e){if(window.confirm("Photopea found a "+iW.xc(e.length)+" MP4 video inside your image. Would you like to save it?",4e3)){c6.save(e.slice(0).buffer,"video.mp4")}};
fI.l7.aob=function(e){var A=!0;for(var c=0;c<e.length;c+=4){A=A&&e[c]==e[c+1]&&e[c+1]==e[c+2]}return A};
fI.l7.BM=0;fI.l7.QS=function(e,A,a){e=new Uint8Array(e);if(e[0]==255){var p=fI.l7.dg(e);if(p[195]==null){fI.l7.BM++;
var N=fI.l7.ZV(e,p,!1);fI.l7.BM--;return N}var i=z.ex(e,p[195][0]+5),Z=z.ex(e,p[195][0]+7),s=UTIF.LosslessJpegDecode(e),D=Z*i,n=j.Q(D*4);
for(var c=0;c<D;c++){var S=c<<2,F=S-c;n[S]=s[F];n[S+1]=s[F+1];n[S+2]=s[F+2];n[S+3]=255}return[{WJ:new dE(0,0,Z,i),data:n.buffer}]}else if(e[0]==0&&e[4]==48&&e[6]==1){var $=e,m=new PDFJS.Jbig2Image,J=[];
if(A)J.push({data:A,start:0,end:A.length});J.push({data:$,start:0,end:$.length});var s=m.parseChunks(J);
if(!a)for(var c=0;c<s.length;c++)s[c]=~s[c];var Z=z.q(e,11),i=z.q(e,15),w=Math.ceil(Z/8),f=j.Q(Z*i*4);
for(var b=0;b<i;b++){var L=b*w;for(var C=0;C<Z;C++){var S=(b*Z+C)*4,M=s[L+(C>>>3)]>>>7-(C&7)&1,y=M*255;
f[S]=y;f[S+1]=y;f[S+2]=y;f[S+3]=255}}return[{WJ:new dE(0,0,Z,i),data:f.buffer}]}else{var m=new PDFJS.JpxImage;
m.parse(e);var Z=m.width,i=m.height,Q=m.tiles,k=m.componentsCount,E=new Uint8Array(Z*i*4),_=new dE(0,0,Z,i);
for(var m=0;m<Q.length;m++){var v=Q[m],V=v.width,R=v.height,h=V*R,P=v.items,H=new dE(v.left,v.top,V,R),U=new Uint8Array(h*4);
if(k==1)for(var c=0;c<h;c++){var X=P[c],S=c*4;U[S]=X;U[S+1]=X;U[S+2]=X;U[S+3]=255}else if(k==3)for(var c=0;
c<h;c++){var F=c*3,S=c*4;U[S]=P[F];U[S+1]=P[F+1];U[S+2]=P[F+2];U[S+3]=255}else console.log("Unknown number of components: "+k);
j._M(U,H,E,_)}return[{WJ:_,data:E.buffer}]}};fI.KB={};fI.KB.Eu=function(e,A,a,p){if(p==null)p=[70,0,0,0];
var N=p[0]/100,$=0;if(e.length==1){var i=new Uint8Array(fI.cW(e[0][0],A,a,"webp",N));if(i.length<2e4){var Z=hn.__(i.buffer),s=Z.sub;
for(var c=0;c<s.length;c++)if(s[c].h0=="ICCP"){var D=s[c];i=fI.Yv(i,D.R-8,D.size+8);z.lJ(i,4,Z.size-(D.size+8));
break}}return i.buffer}var n=z.qs,S=z.kP,F=new fL;n(F,$,"RIFF    WEBPVP8X");$+=16;S(F,$,10);$+=4;S(F,$,18);
$+=4;S(F,$,A-1);$+=3;S(F,$,a-1);$+=3;n(F,$,"ANIM");$+=4;S(F,$,6);$+=4;F.yG($,4);F.data[$+3]=255;z.Gb(F,$+4,p[2]);
$+=6;var m=[];for(var c=0;c<e.length;c++){m.push(e[c][0])}var J=UPNG.encode.compress(m,A,a,N==1?0:Math.max(2,Math.floor(N*500)),[!1,!0,!0,0,!0]).frames;
function w(Z,V,R,h){var Q=Z.R-8,k=Z.size+8;R.yG(h,k);for(var c=0;c<k;c++)R.data[h+c]=V[Q+c];return h+k}for(var c=0;
c<e.length;c++){n(F,$,"ANMF");$+=4;var f=$,Q=0,k=0;$+=4;var b=J[c],L=b.rect,C=[L.x>>>1,L.y>>>1,L.width-1,L.height-1,e[c][1]];
for(var M=0;M<5;M++)S(F,$+3*M,C[M]);$+=15;F.yG($,1);F.data[$]=1-b.blend<<1|b.dispose;$++;var y=new Uint8Array(fI.cW(b.img.buffer,L.width,L.height,"webp",1)),s=hn.__(y.buffer).sub,E={};
for(var _=0;_<s.length;_++)E[s[_].h0]=s[_];if(E.VP8L)$=w(E.VP8L,y,F,$);else throw"e";var v=$-f-4;S(F,f,v);
if((v&1)==1){F.yG($,1);$++}}S(F,4,$-8);return F.data.slice(0,$).buffer};(function(){var e=fI.lj.get("wasm/webp").buffer;
WebAssembly.instantiate(e).then(function(A){var a=A.instance.exports;fI.KB.exp=a})}());fI.KB.QS=function(e){var A=new Uint8Array(e),a=fI.KB.axq,p=null,N=hn.__(e).sub,i={};
for(var c=0;c<N.length;c++)i[N[c].h0]=N[c];var Z=i.ANIM,s=i.VP8L,D=i["VP8 "],n=i.VP8X;if(Z==null){var S,F;
if(D){S=z.dn(A,D.R+6);F=z.dn(A,D.R+8)}else if(s){var $=z.Jv(A,s.R+1);S=($&(1<<14)-1)+1;F=($>>>14&(1<<14)-1)+1}else throw"e";
var m=[a(p,e,{R:0,size:A.length},S,F)];return m}var J=n.R,S=1+(z.Jv(A,J+4)&16777215),F=1+(z.Jv(A,J+7)&16777215),w=[],f=new dE(0,0,S,F),b=j.Q(S*F*4);
for(var c=0;c<N.length;c++){var L=N[c];if(L.h0!="ANMF")continue;var C=[];for(var M=0;M<5;M++)C.push(z.Jv(A,L.R+M*3)&16777215);
var y=new dE(C[0]*2,C[1]*2,C[2]+1,C[3]+1),Q=C[4],k=a(p,e,{R:L.R+16,size:L.size-16},S,F),E=new Uint8Array(k.data),_=A[L.R+15];
if(_>>>1==0)j.s.eZ("norm",E,y,b,f,y,1);else j._M(E,y,b,f);w.push({BI:"_a_"+w.length+","+Q,WJ:f.clone(),data:b.buffer.slice(0)});
if((_&1)==1){j.fV(E,0);j._M(E,y,b,f)}}return w};fI.KB.axq=function(e,A,a,p,N){var i=fI.KB.exp,Z=i.memory,s=5e6+2*a.size+p*N*10;
fI.My(i,s);var D=new Uint8Array(Z.buffer),n=i.malloc(a.size);D.set(new Uint8Array(A,a.R,a.size),n);var S=i.malloc(8),F=i.WebPDecodeARGB(n,a.size,S,S+4),$=z.Jv(D,S),m=z.Jv(D,S+4),J=$*m*4,w=j.Q(J);
for(var c=0;c<J;c+=4){w[c]=D[F+c+1];w[c+1]=D[F+c+2];w[c+2]=D[F+c+3];w[c+3]=D[F+c]}i.WebPFree(F);i.free(S);
i.free(n);return{WJ:new dE(0,0,$,m),data:w.buffer}};fI.aeP=function(){function e(s,D,n,S){var F=new Uint8Array(s[0][0]),$=new Uint32Array(F.buffer),m=[],J={},f=24,b=0,Q=0;
for(var c=0;c<$.length;c++){var w=$[c]&16777215;if(J[w]==null){J[w]=m.length;m.push(w);if(m.length>256){m=null;
break}}}if(m){f=1;while(1<<f<m.length)f*=2;if(f==2)f=4}var L={SB:D,Ps:n,Hs:1,cT:f,Ne:0,acK:b},C=4*Math.floor((L.cT*L.SB+31)/32);
L.size=C*L.Ps+2;var M=new fL,y=m?(1<<f)*4:0;z.qs(M,Q,"BM");Q+=2;z.kP(M,Q,C*n+16+40+y);Q+=4;z.kP(M,Q,0);
Q+=4;z.kP(M,Q,54+y);Q+=4;M.yG(Q,40);z.kP(M,Q,40);Q+=4;Z(M.data,Q,L,C);Q+=36;if(m){M.yG(Q,y);var k=M.data;
for(var c=0;c<m.length;c++){var E=Q+c*4,_=m[c]>>>16,v=m[c]>>>8&255,V=m[c]&255;k[E]=_;k[E+1]=v;k[E+2]=V}Q+=y}M.yG(Q,C*n);
if(f==24)for(var R=0;R<n;R++){var h=Q+(n-1-R)*C;for(var P=0;P<D;P++){var H=(R*D+P)*4;M.data[h+P*3+2]=F[H];
M.data[h+P*3+1]=F[H+1];M.data[h+P*3+0]=F[H+2]}}else if(f==8)for(var R=0;R<n;R++){var h=Q+(n-1-R)*C;for(var P=0;
P<D;P++){var H=R*D+P,U=J[$[H]&16777215];M.data[h+P]|=U}}else if(f==4)for(var R=0;R<n;R++){var h=Q+(n-1-R)*C;
for(var P=0;P<D;P++){var H=R*D+P,U=J[$[H]&16777215];M.data[h+(P>>>1)]|=U<<4-(P&1)*4}}else if(f==1)for(var R=0;
R<n;R++){var h=Q+(n-1-R)*C;for(var P=0;P<D;P++){var H=R*D+P,U=J[$[H]&16777215];M.data[h+(P>>>3)]|=U<<7-(P&7)}}Q+=C*n+2;
return M.data.slice(0,Q).buffer}function A(s){s=new Uint8Array(s);if(z.Jv(s,0)==40)return[a(s.buffer,0)];
var D=0,n=z.wc(s,D,2);D+=2;if(n!="BM"){alert("Unsupported BMP format: "+n);return}var S=z.Jv(s,D);D+=4;
D+=4;var F=z.Jv(s,D);D+=4;return[a(s.buffer,D,F)]}function a(s,D,n){s=new Uint8Array(s);var S=z.Jv(s,D),F=i(s,D+4);
if(F.Hs!=1)alert("unsupported number of color planes: "+F.Hs);if(F.Ne!=0&&F.Ne!=1&&F.Ne!=2&&F.Ne!=3){alert("Unsupported BMP compression: "+F.Ne);
return}D+=S;var $=D,m=s;if(n==null)n=D;if(F.Ne==1||F.Ne==2){var J=N(s,n,F);F.cT=8;s=J;n=0}var w=4*Math.floor((F.cT*F.SB+31)/32),f=F.SB,b=Math.abs(F.Ps),L=new Uint8Array(f*b*4);
L.fill(255);if(F.cT==32)for(var C=0;C<b;C++){var M=n+(b-1-C)*w;for(var y=0;y<f;y++){var Q=(C*f+y)*4;
L[Q]=s[M+y*4+2];L[Q+1]=s[M+y*4+1];L[Q+2]=s[M+y*4+0];L[Q+3]=s[M+y*4+3]}}else if(F.cT==24)for(var C=0;
C<b;C++){var M=n+(b-1-C)*w;for(var y=0;y<f;y++){var Q=(C*f+y)*4;L[Q]=s[M+y*3+2];L[Q+1]=s[M+y*3+1];L[Q+2]=s[M+y*3+0]}}else if(F.cT==16)for(var C=0;
C<b;C++){var M=n+(b-1-C)*w;for(var y=0;y<f;y++){var Q=(C*f+y)*4,k=s[M+y*2+1]<<8|s[M+y*2];L[Q]=(k>>>11)*(255/31);
L[Q+1]=(k>>>5&63)*(255/63);L[Q+2]=(k&31)*(255/31)}}else if(F.cT==8)for(var C=0;C<b;C++){var M=n+(b-1-C)*w;
for(var y=0;y<f;y++){var Q=(C*f+y)*4,E=s[M+y];L[Q]=m[$+4*E+2];L[Q+1]=m[$+4*E+1];L[Q+2]=m[$+4*E+0]}}else if(F.cT==4)for(var C=0;
C<b;C++){var M=n+(b-1-C)*w;for(var y=0;y<f;y++){var Q=(C*f+y)*4,E=s[M+(y>>1)];E=E>>4-4*(y&1);E=E&15;
L[Q]=m[$+4*E+2];L[Q+1]=m[$+4*E+1];L[Q+2]=m[$+4*E+0]}}else if(F.cT==1)for(var C=0;C<b;C++){var M=n+(b-1-C)*w;
for(var y=0;y<f;y++){var Q=(C*f+y)*4,_=s[M+(y>>3)];_=_>>7-(y&7);_=_&1;L[Q]=m[$+4*_+2];L[Q+1]=m[$+4*_+1];
L[Q+2]=m[$+4*_+0]}}else throw"Unknown bit depth "+F.cT;if(F.Ps<0){var v=new Uint32Array(L.buffer),V=b>>>1;
for(var C=0;C<V;C++){var R=C*f,h=(b-C-1)*f;for(var y=0;y<f;y++){var P=v[R+y];v[R+y]=v[h+y];v[h+y]=P}}}return{WJ:new dE(0,0,f,b),data:L.buffer}}function p(s,c){return s>>>4-((c&1)<<2)&15}function N(s,D,n){var S=n.SB,F=Math.abs(n.Ps),$=new Uint8Array(S*F),m=0,J=0,c=0;
while(J<F){var w=s[D++],f=s[D++],b=J*S+m;if(w>0){if(n.cT==4)for(c=0;c<w;c++){$[b+c]=p(f,c)}else for(c=0;
c<w;c++){$[b+c]=f}m+=w}else if(w==0&&f==0){J++;m=0}else if(w==0&&f==1){break}else if(w==0&&f==2){m+=s[D++];
J+=s[D++]}else{var L=f;if(n.cT==4){for(c=0;c<f;c++){$[b+c]=p(s[D+(c>>>1)],c)}L=Math.ceil(f/2)}else{for(c=0;
c<f;c++){$[b+c]=s[D+c]}}if((L&1)!=0)L++;D+=L;m+=f}}return $}function i(s,D){var n=z.v2,S=z.Jv,F=z.dn,$={};
$.SB=n(s,D);D+=4;$.Ps=n(s,D);D+=4;$.Hs=F(s,D);D+=2;$.cT=F(s,D);D+=2;$.Ne=S(s,D);D+=4;$.size=S(s,D);D+=4;
var m=n(s,D);D+=4;var J=n(s,D);D+=4;$.acK=S(s,D);D+=4;D+=4;return $}function Z(s,D,n,S){z.lJ(s,D,n.SB);
D+=4;z.lJ(s,D,n.Ps);D+=4;z.s8(s,D,n.Hs);D+=2;z.s8(s,D,n.cT);D+=2;z.lJ(s,D,n.Ne);D+=4;z.lJ(s,D,n.size);
D+=4;z.lJ(s,D,2834);D+=4;z.lJ(s,D,2834);D+=4;z.lJ(s,D,n.acK);D+=4;D+=4}return{QS:A,Eu:e,a2T:a}}();fI.cq={};
fI.cq.Eu=function(e,A,a,p){if(p==null)p=[100,!1,0,0,0,0];var N=[],i=[],Z=A*a*4,w=null;for(var s=0;s<e.length;
s++){var D=new Uint8Array(e[s][0].slice(0));for(var c=0;c<Z;c+=4){var n=D[c+3]=D[c+3]>127?255:0;if(n==0)D[c]=D[c+1]=D[c+2]=0}N.push(D.buffer);
i.push(e[s][1])}var S=Math.round(2+254*p[0]/100),F=UPNG.encode.compress(N,A,a,S,[!0,!1,!1,8,!1,p[1]]),$=F.plte,m=new Uint8Array(4),J=new Uint32Array(m.buffer);
for(var c=0;c<$.length;c++){J[0]=$[c];var f=m[0];m[0]=m[2];m[2]=f;$[c]=J[0];if(J[0]==0)w=c}while($.length<256)$.push(0);
var b=new Uint8Array(2e4+Math.round(1.5*A*a*e.length)),L=p[3],C={palette:$};if(L!=1)C.loop=L==0?0:L-1;
var M=new GifWriter(b,A,a,C);for(var c=0;c<e.length;c++){var y=F.frames[c],Q=y.rect,k=y.blend,E=y.dispose,_=Math.round(i[c]/10);
if(_<2)_=2;M.addFrame(Q.x,Q.y,Q.width,Q.height,y.img,{transparent:w,disposal:E+1,delay:_})}return b.slice(0,M.end()).buffer};
fI.cq.QS=function(e){var A=Date.now(),a=[],p=UGIF.decode(e),N=UGIF.toRGBA8(p),i=new dE(0,0,p.width,p.height);
for(var c=0;c<N.length;c++){var Z=p.frames[c];a.push({WJ:i.clone(),BI:"_a_frm"+c+","+Z.delay*10,data:N[c]})}return a};
fI.pr={};fI.pr.Eu=function(e,A,a,p){console.log(e);if(A>256||a>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var N=Math.min(A,256),i=Math.min(a,256),Z=new dE(0,0,N,i),s=j.Q(Z.O()*4),D=new dE(0,0,A,a),n=new Uint8Array(e[0][0]);
j._M(n,D,s,Z);e[0][0]=s.buffer;A=N;a=i}var S=new fL,F=0,$=p&&p[0]==!0;z.Gb(S,F,0);F+=2;z.Gb(S,F,$?2:1);
F+=2;z.Gb(S,F,1);F+=2;var m=new Uint8Array(fI.nP("png").Eu(e,A,a));S.yG(F,16);S.data[F]=A==256?0:A;F++;
S.data[F]=a==256?0:a;F++;F+=2;z.Gb(S,F,$?Math.round(A/2):1);F+=2;z.Gb(S,F,$?Math.round(a/2):32);F+=2;
z.kP(S,F,m.length);F+=4;z.kP(S,F,6+16);F+=4;S.yG(F,m.length);for(var c=0;c<m.length;c++)S.data[F+c]=m[c];
F+=m.length;var J=new Uint8Array(F);for(var c=0;c<F;c++)J[c]=S.data[c];return J.buffer};fI.pr.QS=function(e){e=new Uint8Array(e);
var A=4,a=z.dn(e,A);A+=2;var p=[];for(var c=0;c<a;c++){var N=fI.pr.ajY(e,A+c*16),i=e.buffer.slice(N.offset,N.offset+N.size),Z=fI.ti(i);
Z=Z?Z:"bmp";if(Z=="png"){var s=fI.nP(Z),D=s.QS(i);N.Jr=D[0]}else{var n=fI.nP("BMP").a2T(i,0),i=j.Q(N.SB*N.Ps*4);
j._M(new Uint8Array(n.data),new dE(0,0,n.WJ.m,n.WJ.n),i,new dE(0,N.Ps,N.SB,N.Ps));n.data=i.buffer;n.WJ.n=N.Ps;
N.Jr=n}p.push(N)}p.sort(function(S,F){if(S.SB!=F.SB)return S.SB-F.SB;return S.ain-F.ain});return[p.pop().Jr]};
fI.pr.ajY=function(e,A){var a={};a.SB=e[A];A++;if(a.SB==0)a.SB=256;a.Ps=e[A];A++;if(a.Ps==0)a.Ps=256;
a.a2L=e[A];A++;A++;a.a8W=z.dn(e,A);A+=2;a.ain=z.dn(e,A);A+=2;a.size=z.Jv(e,A);A+=4;a.offset=z.Jv(e,A);
A+=4;return a};fI.Bj={};fI.Bj.QS=function(e){var A=Date.now(),p,Q=!0;if(j.raw.uI(e.byteLength))return[j.raw.ae6(e)];
var a=UTIF.decode(e);if(a[0].t33421)p=a[0];else if(a[0].subIFD&&a[0].t271&&a[0].t271[0]=="Hasselblad"){p=a[0].subIFD[0];
p.t33421=[2,2]}else if(a[0].subIFD&&a[0].subIFD[0].t33421){p=a[0].subIFD[0];if(p.t50706==null){if(p.t258[0]==8)p.t258[0]=12}}else if(a[0].subIFD&&a[0].subIFD[0]&&a[0].subIFD[0].t262&&a[0].subIFD[0].t262[0]==34892)p=a[0].subIFD[0];
else if(a[0].t50706)p=a[0];else if(a[0].subIFD&&a[0].subIFD[1]&&a[0].subIFD[1].t33421)p=a[0].subIFD[1];
else if(a[0].subIFD&&a[0].subIFD[2]&&a[0].subIFD[2].t33421)p=a[0].subIFD[2];else if(a[3]&&a[3].t50648){var N=a[0].exifIFD,i=N.makerNote;
p=a[3];var Z=i.t224[1],s=i.t224[2];p.t256=[Z];p.t257=[s];p.t258=[16];p.t259=[7];p.t262=[32803];p.t277=[1];
p.t33421=[2,2];var D=p.t50656[0],n=j.raw.RL[D];if(n==null)throw"e";p.t33422=n}else if(a[0].t1&&a[0].t1.length==4){var S=a[0],F={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278};
p={};for(var $ in F)if(S["t"+$])p["t"+F[$]]=S["t"+$];p.t2=S.t2;p.t3=S.t3;p.t10=S.t10;p.t45=S.t45;p.t258=[16];
p.t33421=[2,2];var m=S.t9[0];p.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][m-1];var J=S.t4[0],w=S.t5[0],f=S.t6[0],b=S.t7[0];
p.t50829=[J,w,f,b];var L=S.t36[0],C=S.t37[0],M=S.t38[0];p.t50728=[C/L,C/C,C/M]}if(p){UTIF.decodeImage(e,p,a);
for(var y in a[0])if((y[0]=="t"||y[0]=="e"||y[0]=="d")&&p[y]==null)p[y]=a[0][y];p.Bb=a[0].t274?a[0].t274[0]:1;
return[p]}var k=1/256;for(var c=0;c<a.length;c++)if(a[c].t258&&a[c].t258[0]==16&&a[c].t277&&a[c].t277[0]==1){}else Q=!1;
if(Q){var E=0,_=0,v=0;for(var c=0;c<a.length;c++){UTIF.decodeImage(e,a[c],a);var V=a[c].data;for(var R=0;
R<V.length;R+=2){var h=V[R+1]<<8|V[R];if(h>E)E=h;_+=h;v++}}k=1/256*65535/(.5*E+.5*(2*_/v))}var P=[];
for(var c=0;c<a.length;c++){var H=a[c],U=72;UTIF.decodeImage(e,H,a);var X=H.t282,x=H.t296;if(X!=null&&x!=null){U=X[0][0]/X[0][1];
if(x[0]==3)U=Math.round(U/2.54)}if(H.width==null)continue;var K=UTIF.toRGBA8(H,k).buffer,T=fs.oq(H);
console.log(H);P.push({WJ:new dE(0,0,H.width,H.height),data:K,l5:U,gj:T,Nz:H.t34675?H.t34675.slice(0):null})}return P};
fI.Bj.Eu=function(e,A,a,p){if(p==null)p=[!1];var N={},i=e[0];if(i[3]!=null&&p[0])N=fs.Tq(i[3]);if(i[2]!=null){N.t282=N.t283=[[Math.round(i[2]),1]];
N.t296=[2]}return UTIF.encodeImage(i[0],A,a,N)};fI.V1={};fI.V1.S$=!0;fI.V1.QS=function(e,A){aK.__(e,A)};
fI.V1.ab$=function(e,A,a,p){if(p==null)p=[!1,!1,!1,!1,!1];if(!p[0])e.WR();var N=new fL,i=aK.Yq(e,N,p);
return[N.data.buffer,i]};fI.V1.Eu=function(e,A,a,p){var N=fI.V1.ab$(e,A,a,p),i=N[0],Z=N[1];return i.byteLength==Z?i:i.slice(0,Z)};
fI.vB={};fI.vB.S$=!0;fI.vB.QS=function(e,A){var a=pako.inflate(new Uint8Array(e)),p=z.ex(a,0),N=z.ex(a,2),i=4;
A.m=z.q(a,i);i+=4;A.n=z.q(a,i);i+=4;A.buffer=j.Q(A.m*A.n*4);var Z=z.ex(a,i);i+=2;i+=4;for(var s=0;s<Z;
s++){var D=A.Uo(),J=0,U=1,X=2,x=3,K=0;A.B.push(D);var n=z.q(a,i);i+=4;var S=i,F=z.ex(a,S);S+=2;var $=z.lB(a,S,F);
S+=F;D.i4($);var m=a[S];S++;if(m!=0&&m!=1)throw m;D.rect.x=z.$m(a,S);S+=4;D.rect.y=z.$m(a,S);S+=4;D.rect.m=z.q(a,S);
S+=4;D.rect.n=z.q(a,S);S+=4;if(p>3){J=z.$m(a,S);S+=4}D.opacity=Math.round(255*a[S]/100);S++;var w=a[S];
S++;D.d8(w!=0);D.Mi="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[a[S]];
S++;var f=a[S];S++;if(f)D.add.lspf=1<<31;if(p>3){var b=z.ex(a,S);S+=2;if(b!=0){var L=JSON.parse(z.lB(a,S,b));
S+=b;var C=L.text,M=L.textSettings,y=M.font,Q=M.size,k=M.padding,E=parseInt(M.color.slice(1),16);D.add.lnsr="rend";
D.add.TySh=eG.KP(0,0);D.add.TySh.oc=new dE(0,0,100,100);var _=D.add.TySh.D=new bj,v=D.rect.m/2,V=D.rect.n/2;
_.translate(-v,-V);_.rotate(-J*Math.PI/180);_.translate(v,V);_.translate(D.rect.x+k,D.rect.y+k);var R=D.add.TySh._t;
eG.XX(R,1);eG.dw(R,[0,0,D.rect.m-k*2,D.rect.n]);eG.f7(R,0,C);var h=eG.p_(R,0,1);h.JH.FontSize=Q;h.JH.FillColor={Type:1,Values:[1,(E>>>16&255)/255,(E>>>8&255)/255,(E>>>0&255)/255]};
if(M.bold)y+="-Bold";eG.Kv(h,y);h.Vx.Justification=["left","right","center"].indexOf(M.align);eG.G4(R,0,C.length,h)}}var P=z.q(a,S);
S+=4;if(P!=D.rect.O()*4){for(var c=D.rect.m;c>D.rect.m/2;c--){var H=P/(c*4);if(H==Math.round(H)){D.rect.m=c;
D.rect.n=H;break}}}D.buffer=j.Q(D.rect.O()*4);if(p>3){U=0;X=1;x=2;K=3}for(var c=0;c<P;c+=4){D.buffer[c]=a[S+c+U];
D.buffer[c+1]=a[S+c+X];D.buffer[c+2]=a[S+c+x];D.buffer[c+3]=a[S+c+K]}S+=P;var T=z.q(a,S);S+=4;if(T==0&&p>3){i+=n;
continue}var I=a[S];S++;var o=z.ex(a,S);S+=2;if(T!=0){D.$=new u.j_;D.$.rect=D.rect.clone();D.$.channel=j.Q(D.rect.O());
for(var c=0;c<T;c+=4)D.$.channel[c>>>2]=a[S+c+1];S+=T}if(I!=0){var l=JSON.parse(iF.default);D.add.lmfx=l;
for(var c=0;c<iF.order.length;c++)l[iF.RU[c]]={t:"VlLs",v:[]};var O={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var c=0;c<I;c++){var g=z.ex(a,S),W=S+g+4,d=a.slice(S,W),gT=a[S+2];S+=3;var r=O[gT+""],G=JSON.parse(iF.lZ[r]);
l[iF.RU[r]].v.push({t:"Objc",v:G});if(r!=0){G.Md.v.BlnM=im.Pj("norm");G.Opct.v.val=a[S];S++;if(r==9||r==2){G.Dstn.v.val=a[S+1];
S+=2}else S+=2;G.blur.v.val=Math.round(a[S]*1.2);S++;if(r==9||r==2){G.uglg.v=!1;G.lagl.v.val=180-z.ex(a,S);
S+=2}G.Clr.v=j.M.yN({o:a[S+1],J:a[S+2],k:a[S+3]})}else{G.hglM.v.BlnM=G.sdwM.v.BlnM=im.Pj("norm");S+=2;
var Y=a[S++],fk=a[S++];G.blur.v.val=Math.round(Math.sqrt(fk*Y)*1.3);G.srgR.v.val=Math.round(100*Y/fk);
G.uglg.v=!1;G.lagl.v.val=180-z.ex(a,S);S+=2;G.hglO.v.val=a[S++];G.hglC.v=j.M.yN({o:a[S+1],J:a[S+2],k:a[S+3]});
S+=4;G.sdwO.v.val=a[S++];G.sdwC.v=j.M.yN({o:a[S+1],J:a[S+2],k:a[S+3]});S+=4}S=W}}if(S-i<n){var eJ=z.q(a,S),cX=0;
S+=4;S++;var F=z.ex(a,S);S+=2;var C=z.lB(a,S,F);S+=F;C=C.replace(/\r/g,"\n");var F=z.ex(a,S);S+=2;var y=z.lB(a,S,F);
S+=F;var Q=z.ex(a,S);S+=2;var eS=D.rect.x,gL=D.rect.m;if(eJ&4)cX=1;if(eJ&2)cX=2;var kj=Math.round(Q*.4);
if(cX==0||cX==2)gL+=kj;if(cX==1||cX==2){gL+=kj;eS-=kj}D.add.lnsr="rend";D.add.TySh=eG.KP(0,0);D.add.TySh.oc=new dE(0,0,100,100);
D.add.TySh.D=new bj(1,0,0,1,eS,D.rect.y+Q*.25);var R=D.add.TySh._t;eG.XX(R,1);eG.dw(R,[0,0,gL,D.rect.n]);
eG.f7(R,0,C);var h=eG.p_(R,0,1);h.JH.FontSize=Q;h.JH.FillColor={Type:1,Values:[1,a[S+1]/255,a[S+2]/255,a[S+3]/255]};
S+=4;if(a[S+5])y+="-Bold";if(a[S+6])y+="-Italic";eG.Kv(h,y);h.Vx.Justification=cX;S+=8;eG.G4(R,0,C.length,h)}i+=n}};
fI.eK={};fI.eK.S$=!0;fI.eK.QS=function(e,A){bc.__(e,A)};var bc=function(){function e(F,$){var m=Date.now(),J=UZIP.parse(F);
console.log(J);console.log(Date.now()-m);m=Date.now();var w=J["maindoc.xml"],f=new DOMParser,b=f.parseFromString(z.lB(w),"image/svg+xml").children[0].children[0],L=b.getAttribute("name"),C=$.m=n(b,"width"),M=$.n=n(b,"height");
$.l5=Math.round(n(b,"x-res"));var y=b.children[0].children;A(y,$,{Xn:L,nN:J,zo:null});console.log(Date.now()-m);
m=Date.now()}function A(F,$,m){for(var J=0;J<F.length;J++){var w=F[F.length-1-J],f=w.getAttribute("nodetype");
if(f=="transparencymask"){m.zo.$=S(w,m);continue}var b=w.getAttribute("compositeop"),L=w.getAttribute("filename"),C=w.getAttribute("channelflags"),M=w.children;
M=M.length==0?null:M[0].children;var y=$.Uo();if(f=="paintlayer"){var Q=n(w,"x"),k=n(w,"y"),E=m.nN[m.Xn+"/layers/"+L+".defaultpixel"],_=m.nN[m.Xn+"/layers/"+L],v=D(_);
y.rect=v[0];y.rect.offset(Q,k);y.buffer=v[1];if(y.rect.QP()&&E.join()!="0,0,0,0"){y.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.M.yN({o:E[0],J:E[1],k:E[2]})}};
y.yO($)}}else if(f=="grouplayer"){y.add.lsct=ez.MV;y.Mi="pass";y.OO|=24;$.B.push($.pz());var V=m.zo;
m.zo=y;A(M,$,m);m.zo=V}else if(f=="shapelayer"){var _=m.nN[m.Xn+"/layers/"+L+".shapelayer/content.svg"],R=z.lB(_),h=$.je(_,y.getName(),0,0);
y=h;var P=new dE(0,0,$.m,$.n),H=j.p.wt(P).w;y.add.SoLd.Trnf=q.BD.Jw(H);y.add.SoLd.nonAffineTransform=q.BD.Jw(H);
y.kf($,!1)}else if(f=="clonelayer"){var c=-1;for(var U=0;U<F.length;U++)if(F[U].getAttribute("name")==w.getAttribute("clonefrom"))c=U;
if(c!=-1){A([F[c]],$,m);y=$.B.pop()}}else console.log(f,w);y.i4(w.getAttribute("name"));if(n(w,"locked")==1)y.add.lspf=1<<31;
y.d8(n(w,"visible")==1);var X={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[b];if(X)y.Mi=X;
else console.log(b);y.opacity=n(w,"opacity");if(C=="1110")y.G0=!0;var x=M?M[0]:null;if(x&&x.tagName=="mask")y.$=S(x,m);
$.B.push(y)}}function a(F,$){var m=0,J=0,w=F.length,f,b,L;while(m<w){f=F[m++];if(f>31){b=f>>>5;if(b==7)b=7+F[m++];
L=(f&31)<<8|F[m++];var C=J-L-1,M=b>>>1;$[J++]=$[C++];$[J++]=$[C++];for(var c=0;c<M;c++){$[J++]=$[C++];
$[J++]=$[C++]}if((b&1)==1)$[J++]=$[C++]}else{for(var c=0;c<=f;c++){$[J++]=F[m++]}}}}function p(F,$){var m=0;
while(F[$+m]!=10)m++;return z.wc(F,$,m)}var N=new dE(0,0,64,64),i=new Uint8Array(64*64*4),Z=new Uint8Array(64*64*4);
function s(){for(var c=0;c<4096;c++){var F=c<<2;i[F+0]=Z[c+8192];i[F+1]=Z[c+4096];i[F+2]=Z[c];i[F+3]=Z[c+12288]}}function D(F){var $=0,m={};
for(var c=0;c<5;c++){var J=p(F,$);$+=J.length+1;J=J.split(" ");m[J[0]]=parseInt(J[1])}var w=m.PIXELSIZE,f=[],b=new dE;
while($<F.length){var J=p(F,$),L=J.split(",");$+=J.length+1;if(L[2]!="LZF")throw L[2];N.x=parseInt(L[0]);
N.y=parseInt(L[1]);b=b.pg(N);var C=parseInt(L[3]);f.push([N.clone(),new Uint8Array(F.buffer,$+1,C-1)]);
$+=C}var M=j.Q(b.O()*w);for(var c=0;c<f.length;c++){var y=f[c];a(y[1],Z);if(w==4){s();j._M(i,y[0],M,b)}else j.WP(Z,y[0],M,b)}return[b,M]}function n(F,$){return parseInt(F.getAttribute($))}function S(F,$){var m=F.getAttribute("filename"),J=$.nN[$.Xn+"/layers/"+m+".pixelselection"],w=D(J),f=new u.j_;
f.Fz=n(F,"visible")==1;f.rect=w[0];f.channel=w[1];return f}return{__:e}}();fI.qP={};fI.qP.S$=!0;fI.qP.QS=function(e,A){fX.__(e,A)};
fI.gw={};fI.gw.S$=!0;fI.gw.QS=function(e,A){hz.__(e,A)};fI._g={};fI._g.S$=!0;fI._g.QS=function(e,A){gm.__(e,A)};
fI.Q1={};fI.Q1.S$=!0;fI.Q1.QS=function(e,A){f_.__(e,A)};fI.EU={};fI.EU.S$=!0;fI.EU.QS=function(e,A){be.__(e,A)};
fI.sW={};fI.sW.S$=!0;fI.sW.QS=function(e,A){g3.__(e,A)};fI.rn={};fI.rn.S$=!0;fI.rn.Eu=function(e,A,a,p,N){if(p==null)p=[!0,!1,!1,!1,!0];
var i=er.kz(e,{f2:p[0],hidden:p[1],a2k:p[2],a8Z:p[3],fB:p[4],aaW:A,aaX:a},N.de);return i};fI.rn.QS=function(e,A,a){er.__(e,A,a)};
fI.HA={};fI.HA.S$=!0;fI.HA.QS=function(e,A){var a=150,p=new bj(1,0,0,-1,0,0);p.scale(a/72,a/72);A.l5=a;
var N=new aG(A,p,!0);FromPS.Parse(e,N)};fI.Fe={};fI.Fe.S$=!0;fI.Fe.Eu=function(e,A,a,p,N){if(p==null)p=["",100,!1,!1,!1,0,!1];
p[7]=["jpg"];var i=new ToPDF;ju.kz(e,p,i,N.de,A,a);return i.buffer};fI.Fe.QS=function(e,A,a){var p=2;
while(!0){var N=p*72,i=new bj(1,0,0,-1,0,0);i.scale(N/72,N/72);A.l5=N;var Z=new aG(A,i,!0);FromPDF.Parse(e,Z);
var s=Math.max(A.m,A.n);if(a&&s<Math.max(a[0],a[1])){A.B=[];var D=p;while(s*(p/D)<Math.max(a[0],a[1]))p++}else break}};
fI.yY={};fI.yY.S$=!0;fI.yY.QS=function(e,A){var a=72,p=new bj(1,0,0,1,0,0);p.scale(a/72,a/72);A.l5=a;
var N=new aG(A,p,!1);FromWMF.Parse(e,N)};fI.wa={};fI.wa.SV=!0;fI.wa.S$=!0;fI.wa.Eu=function(e,A,a,p,N){if(p==null)p=["",100,!1,!1,!1,0,!1];
p[7]=[];var i=new ToEMF;ju.kz(e,p,i,N.de);return i.buffer};fI.wa.QS=function(e,A){var a=72,p=new bj(1,0,0,1,0,0);
p.scale(a/72,a/72);A.l5=a;var N=new aG(A,p,!1);FromEMF.Parse(e,N)};fI.cL={};fI.cL.S$=!0;fI.cL.QS=function(e,A){return c1.__(e,A)};
fI.hs={};fI.hs.QS=function(){var e,A,a,p,N,i,Z=0,s=0,D=0,n=0,S=0;function F(w){var f=cL.__(w),b=f.GD,L=new Uint8Array(w),k=0,E,_;
if(b=="ILBM")return $(f,L);var C=z.ex,M=z.q,y=f.sub,Q=$(y[0],L);for(var v=1;v<y.length-2;v++){var V=Q[Math.max(0,v-2)].ayP.slice(0),R=y[v];
for(var h=0;h<R.sub.length;h++){var P=R.sub[h],H=P.R;if(P.h0=="ANHD"){var U=L[H++];if(U!=5)throw U;var p=L[H++];
H+=8;var X=C(L,H);H+=2;E=C(L,H);H+=2;H++;H++;_=C(L,H);H+=2}else if(P.h0=="DLTA"){var x=[],K=H;for(var c=0;
c<16;c++)x.push(M(L,H+c*4));H+=64;var T=i;for(var I=0;I<N;I++){if(x[I]==0)continue;H=K+x[I];for(var o=0;
o<T;o++){var l=L[H++],O=0;if(l==0)continue;for(var c=0;c<l;c++){var g=L[H++];if(g==0){var W=L[H++],d=L[H++];
for(var gT=0;gT<W;gT++){V[(O*N+I)*T+o]=d;O++}}else if(g<128){O+=g}else{g-=128;for(var gT=0;gT<g;gT++){V[(O*N+I)*T+o]=L[H+gT];
O++}H+=g}}}}}else console.log(P.h0)}var r=E==0?17:Math.round((E-k)*1e3/60);Q.push({data:J(L,V),WJ:new dE(0,0,e,A),ayP:V,BI:"_a_frm"+v+","+r});
k=E}Q[0].BI=Q[1].BI;return Q}function $(w,f){var b,L;Z=0;s=0;D=0;n=0;S=0;for(var C=0;C<w.sub.length;
C++){var M=w.sub[C],y=M.R;if(M.h0=="BMHD"){var Q=[];for(var c=0;c<4;c++)Q[c]=z.ex(f,y+2*c);y+=8;var k=Q[2],E=Q[3];
e=Q[0];A=Q[1];a=f[y++];p=f[y++];var _=f[y++];if(_!=1)throw _;i=e+15>>>4<<1;N=a+p}else if(M.h0=="CMAP")Z=y;
else if(M.h0=="CAMG"){var v=z.q(f,y);s=v&32768,D=v&4,n=v&2048;S=v&128}else if(M.h0=="BODY"){L=j.Q(i*A*N);
eO.TV(f,y,M.size,L,0,L.length)}}b=J(f,L);return[{WJ:new dE(0,0,e,A),data:b.buffer,ayP:L}]}function m(w,iM){return w[iM>>>3]>>>7-(iM&7)&1}function J(w,f){var b=a-2,L=(1<<b)-1,C=Math.round(255/L),M,y,Q,k=i*8,E=j.Q(e*A*4);
for(var _=0;_<A;_++)for(var v=0;v<e;v++){var V=0;for(var R=0;R<N;R++){var h=(_*N+R)*k+v,P=m(f,h);V|=P<<R}V=V&(1<<a)-1;
var c=_*e+v,H=c<<2;if(Z!=0){if(n!=0&&V>>>b!=0){var U=V>>>b,X=(V&L)*C;if(U==1)Q=X;else if(U==2)M=X;else if(U==3)y=X}else{var X=Z+V*3;
M=w[X+0];y=w[X+1];Q=w[X+2]}}else{M=V>>>0&255;y=V>>>8&255;Q=V>>>16&255}E[H+0]=M;E[H+1]=y;E[H+2]=Q;E[H+3]=255}return E}return F}();
fI.oG={};fI.oG.S$=!1;fI.oG.Eu=function(e,A,a,p){var N=e[0][4],i=new Uint8Array(e[0][0]),Z=2,s=N?!0:!1,D=s?4:3,n=new Uint8Array(A*a*D);
for(var S=0;S<a;S++)for(var F=0;F<A;F++){var $=S*A+F<<2,m=((a-S-1)*A+F)*D;n[m]=i[$+2];n[m+1]=i[$+1];
n[m+2]=i[$+0];if(s)n[m+3]=N[0][S*A+F]}if(!0){var J=n.length,w=0,f=new Uint8Array(J*2),b=0,L=0,C=A*D;
while(L<J){var M=L,y=0,Q=C*(Math.floor(L/C)+1);while(M<Q&&y<128){var k=!0;for(var c=0;c<D;c++)k=k&n[L+c]==n[M+c];
if(!k)break;M+=D;y++}if(y==1){var E=1;while(E<128&&L+(E+1)*D<Q){var k=!0,_=L+E*D;for(var c=0;c<D;c++)k=k&n[_+c]==n[_+D+c];
if(k)break;E++}f[b++]=E-1;for(var v=0;v<E;v++)for(var c=0;c<D;c++)f[b++]=n[L++]}else{f[b++]=127+y;for(var c=0;
c<D;c++)f[b+c]=n[L+c];b+=D;L+=D*y;w+=y}}n=f.slice(0,b);Z+=8}var V=new Uint8Array(18+n.length+26);V[2]=Z;
z.s8(V,12,A);z.s8(V,14,a);V[16]=D*8;V[17]=D==4?8:0;V.set(n,18);z.O2(V,18+n.length+8,"TRUEVISION-XFILE.");
return V.buffer};fI.oG.QS=function(e){var A=new Uint8Array(e),a=0,p=A[0],N=A[1],i=A[2],Z=A[4]*256+A[3],s=A[6]*256+A[5],D=A[7],n=A[9]*256+A[8],S=A[11]*256+A[10],F=A[13]*256+A[12],$=A[15]*256+A[14],m=A[16],J=A[17],w=J>>>4,f=z.wc(A,18,p),b=j.Q(F*$*4),a=18+p+(s*D>>>3),L=new Uint8Array(A.buffer,a);
if(i>3){var C=0,M=A,y=new Uint8Array(F*$*m>>>3),Q=a,k=0,E=A.length,_=m>>>3;while(k<y.length){var iM=M[Q];
Q++;if(iM<128)for(var c=0;c<iM+1;c++){for(var v=0;v<_;v++){y[k]=M[Q];k++;Q++}}else{for(var c=0;c<iM-127;
c++){for(var v=0;v<_;v++){y[k]=M[Q+v];k++}}Q+=_}}i-=8;L=y;a=Q}else a+=F*$*m>>>3;var V=new Uint8Array(4),R=fI.oG.apE;
for(var h=0;h<$;h++)for(var P=0;P<F;P++){var H=(w&2)==0?($-h-1)*F+P:h*F+P,U=h*F+P,X,x,K,T=255,I=H*m>>>3;
if(i==1){var o=0;if(m==8)o=L[I];else throw"e";R(A,18+p+Z+(o*D>>>3),D,V);X=V[0];x=V[1];K=V[2];T=V[3]}else if(i==2){R(L,I,m,V);
X=V[0];x=V[1];K=V[2];T=V[3]}else if(i==3){if(m==8)X=x=K=L[I];else throw"e"}var l=U*4;b[l]=X;b[l+1]=x;
b[l+2]=K;b[l+3]=T}var V={WJ:new dE(0,0,F,$),data:b.buffer,BI:f};if(j.vJ(b)){var O=j.Q(F*$);j.kI(b,O,3);
j.fV(b,4278190080,16777215);V.l8=[O]}return[V]};fI.oG.apE=function(e,A,a,p){var N,i,Z,s=255;if(a==24||a==32){Z=e[A];
i=e[A+1];N=e[A+2];if(a==32)s=e[A+3]}else if(a==16){var D=e[A+1]<<8|e[A+0];N=D>>>10&31;i=D>>>5&31;Z=D>>>0&31;
N=Math.round(N*(255/31));i=Math.round(i*(255/31));Z=Math.round(Z*(255/31))}else throw"e";p[0]=N;p[1]=i;
p[2]=Z;p[3]=s};fI.a4Q=function(){var e,A=[],a=!1;function p(Z,s,D,n){e=D;A.push(Z,n);N()}function N(){if(a||A.length==0)return;
a=!0;fI.agt(A.shift(),"image/avif",i)}function i(Z){e(null,[Z],A.shift());a=!1;N()}return{S$:!1,h1:!0,QS:p}}();
fI.a50=function(){var e,A=[],a=!1,p,N,i,Z=10,s,D,n,S=0,$;function F(C,M,y,Q,k){e=y;A.push(C,Q);var E=dO.__(C),_=dO.at4(E,"vide"),v=_.tkhd,V=_.mdia.minf.stbl,R=v.duration/E.moov.mvhd.eU,h=V.stsz.length,P=Math.round(h/R);
console.log(E);p=v.SB;N=v.Ps;var H=p+" \xD7 "+N+" px, "+h+" frames, "+iW.xc(p*N*4*h)+" decoded<br/>";
H+=R.toFixed(2)+" seconds, "+P+" FPS";var U=new k4(t.E.L,!0);U.data={d:t.c.Ch,NY:"setFPS",Ve:Z,AJ:w,az0:H};
k.S(U)}function m(){if(a||A.length==0)return;a=!0;var C=A.shift(),M=dO.__(C),y=dO.at4(M,"vide"),Q=y.tkhd,k=y.mdia.minf.stbl,E=k.stsd.auE.avcC,_=Q.duration/M.moov.mvhd.eU,v=k.stsz.length,V=Math.round(v/_),R=Math.max(1,Math.round(V/Z)),H=0;
if(k.stsd.OC=="hvc1")alert("HVC1 codec not supported");$=Date.now();p=Q.SB;N=Q.Ps;i=[];s=document.createElement("canvas");
D=s.getContext("2d");s.width=p;s.height=N;var h=new Uint8Array(C),P=[],U=new VideoDecoder({output:function(I){if(H%R==0){D.drawImage(I,0,0);
I.close();var o=D.getImageData(0,0,p,N).data.buffer,l=i.length;i[l]={BI:"_a_"+l+","+Math.round(R*1e3/V),WJ:new dE(0,0,p,N),data:o}}else I.close();
clearTimeout(S);S=setTimeout(J,100);H++},error:function(I){console.log(I.message)}}),X={codec:"vp09.00.10.08",codedWidth:p,codedHeight:N};
if(E){X.codec="avc1.640034";X.description=h.slice(E.R,E.R+E.SZ)}U.configure(X);for(var c=0;c<v;c++){var x=dO.aiG(M,"vide",c),K=new Uint8Array(C,x[0],x[1]),T=new EncodedVideoChunk({timestamp:c,duration:1e3,type:c==0?"key":"delta",data:K});
U.decode(T)}}function J(){e(null,i,A.shift());a=!1;console.log(Date.now()-$);m()}function w(C){Z=Math.max(1,Math.min(60,C));
if(window.VideoDecoder)m();else f()}function f(){if(a||A.length==0)return;a=!0;s=document.createElement("canvas");
D=s.getContext("2d");n=document.createElement("video");var C="data:"+"video/mp4"+";base64,"+fI.$v(A.shift());
n.src=C;n.muted=!0;n.currentTime=0;n.addEventListener("canplay",b,!1);n.addEventListener("timeupdate",L,!1)}function b(C){n.removeEventListener("canplay",b);
p=s.width=n.videoWidth;N=s.height=n.videoHeight;i=[];n.play()}function L(C){clearTimeout(S);D.drawImage(n,0,0);
i.push({BI:"_a_"+i.length+","+Math.round(1e3/Z),WJ:new dE(0,0,p,N),data:D.getImageData(0,0,p,N).data.buffer});
var M=n.currentTime+1/Z;if(M<n.duration&&C){n.currentTime=M;S=setTimeout(L,1e3)}else{e(null,i,A.shift());
n.removeEventListener("timeupdate",L);a=!1;f();i=null}}return{S$:!1,h1:!0,QS:F}}();fI.Oi={};fI.Oi.QS=function(e){var A=new Uint8Array(e),a=0,p=112,N=42,i=z.Jv,S;
a+=8;var Z=A[a];a++;if(Z!=N)throw"e";var s=i(A,a);a+=4;var D=z.xy(A,a,s);a+=s*2;var n=[];while(a<A.length){S=i(A,a);
a+=4;if(S!=p)throw S;a+=4;S=A[a];a++;if(S!=N)throw S;var F=i(A,a);a+=4;var $=A[a];a++;if($!=N){a-=5;
F=i(A,a);a+=8;S=A[a];a++;if(S!=N)throw S}var m=i(A,a)*2;a+=4;if(F>0)n.push(a+m);a+=m+F}var J=new DOMParser,w=J.parseFromString(D,"image/svg+xml").firstChild.firstChild,f=[];
fI.Oi.O$(w,A,n,f);return f};fI.Oi.O$=function(e,A,a,p){var N=e.firstChild.firstChild;if(N.tagName=="Image"){var i=N.getElementsByTagName("ImageDescription")[0],Z=i.children[0].children,s=i.children[1].children,D=a.shift(),n=[];
for(var c=0;c<s.length;c++)n.push(parseInt(s[c].getAttribute("NumberOfElements")));while(n.length>3)n[2]*=n.pop();
var S=Z.length,F=n[0],$=n[1],m=n[2],J=parseInt(s[0].getAttribute("BytesInc"));for(var w=0;w<m;w++){var f=j.Q(F*$*4);
j.fV(f,4278190080);for(var b=0;b<S;b++){var L=j.Q(F*$);if(J==1)for(var C=0;C<L.length;C++)L[C]=A[D+C];
else if(J==2)for(var C=0;C<L.length;C++)L[C]=Math.min(255,(A[D+C*2+1]<<8|A[D+C*2])>>>2);else throw J;
if(b!=3)j.Ao(L,f,b);if(S==1){j.Ao(L,f,1);j.Ao(L,f,2)}D+=F*$*J}p.push({WJ:new dE(0,0,F,$),data:f.buffer})}}else{var M=e.children,y=0;
while(y<M.length&&M[y].tagName!="Children")y++;if(y==M.length)throw"e";M=M[y].children;for(var Q=0;Q<M.length;
Q++)fI.Oi.O$(M[Q],A,a,p)}};fI.a43=function(){function e(Z,s,D,n,S){var F=new Int8Array(Z.buffer),$=new Int8Array(n.buffer),m=s+D;
while(s<m){var iM=F[s];s++;if(iM>=0&&iM<128)for(var c=0;c<iM+1;c++){$[S]=F[s];S++;s++}if(iM>=-127&&iM<0){for(var c=0;
c<-iM+1;c++){$[S]=F[s];S++}s++}}return S}function A(Z,s,D,n,S,F){var $=s*D*n>>>3,m=j.Q($*S),J=p(Z,0,0)[0];
for(var w=0;w<S;w++){var f=J[w+1];if(F){var b=fI.nP("jpg").QS(f.buffer),L=j.Q($);j.U2(new Uint8Array(b[0].data),L);
m.set(L,$*w)}else if(f[0]==255&&f[1]==216&&f[2]==255){var C=UTIF.LosslessJpegDecode(f);m.set(new Uint8Array(C.buffer),$*w)}else e(f,64,f.length,m,$*w)}return m}function a(Z){var s=new Uint8Array(Z),D=0,n=z.wc(s,0,128);
D+=128;var S=z.wc(s,D,4);D+=4;var F=N(s,D,0)[0],$=F.g28;if($==null){alert("No image.");return[]}var m=$.cols,J=$.rows,w=m*J,f=$.photoInterpret,b=$.bitsAlloc,L=$.bitsStored,C=$.lossyCompr;
if(C==null)C=F.g8.lossyCompr;var M=F.g7fe0.pixelData,y=$.numOfFrames;y=y?parseInt(y):1;var Q=new Uint8Array(M.buffer),k=w*b>>>3;
if(Q.length!=k*y){M=A(M,m,J,b,y,C)}else{}if(b==16)M=new Uint16Array(M.buffer);console.log($);console.log(F);
var E=[];for(var _=0;_<y;_++){var v=_*k,Z=j.Q(m*J*4);Z.fill(255);if(f=="MONOCHROME2"){var V=0,R=255,h=$.largestValue,P=$.smallestValue;
if(h!=null){R=h;V=P}else if(L!=8){R=0;V=1e9;for(var c=0;c<w;c++){var H=M[v+c];if(H>1<<L-8){if(H>R)R=H;
if(H<V)V=H}}}var U=255/(R-V);for(var c=0;c<w;c++){var H=Math.max(0,Math.min(255,(M[v+c]-V)*U)),X=c*4;
Z[X]=Z[X+1]=Z[X+2]=H}}else if(f=="PALETTE COLOR"){var x=$.pltRed,K=$.pltGreen,T=$.pltBlue;for(var c=0;
c<w;c++){var I=M[v+c],X=c*4;Z[X]=x[I]>>>8;Z[X+1]=K[I]>>>8;Z[X+2]=T[I]>>>8}}else throw f;E.push({WJ:new dE(0,0,m,J),data:Z.buffer})}return E}function p(Z,s,D){var n=z.dn,S=z.bf,F=z.Jv,$=[],m=s;
while(s<Z.length){var J=n(Z,s);s+=2;var w=n(Z,s);s+=2;var f=F(Z,s);s+=4;if(J==65534&&w==57344){if(f==4294967295){var b=N(Z,s,D+1);
$.push(b[0]);s=b[1]}else{$.push(Z.slice(s,s+f));s+=f}}else if(J==65534&&w==57357){}else if(J==65534&&w==57565)break;
else throw"e"}return[$,s]}function N(Z,s,D){var n=z.dn,S=z.bf,F=z.Jv,$={},m="\t".repeat(D);while(s<Z.length){var J=n(Z,s),L="",C=0,y=null;
s+=2;var w=n(Z,s);s+=2;var f=J.toString(16),b=w.toString(16);if(J==65532)break;if(J==65534&&w==57357){s-=4;
break}if(J==65534&&w==57565)throw"e";if(w==0){s+=8;continue}if(65<=Z[s+1]){L=z.wc(Z,s,2);s+=2;if(L=="OB"||L=="SQ"||L=="OW"){C=F(Z,s+2);
s+=6}else{C=n(Z,s);s+=2}}else{L=i[f][b].split(",")[1];C=F(Z,s);s+=4}var M=i[f][b];if(M)M=M.split(",")[0];
if(M==null){M="t"+b}if(L=="SQ"){var Q=p(Z,s,D);y=Q[0];s=Q[1];C=0}else if(L=="US")y=n(Z,s);else if(L=="SS")y=S(Z,s);
else if(L=="UL")y=F(Z,s);else if(L=="FL")y=z.Q4(Z,s);else if(L=="AT")y=[n(Z,s),n(Z,s+2)];else if(L=="OB")y=Z.slice(s,s+C);
else if(L=="OW")y=new Uint16Array(Z.slice(s,s+C).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(L)!=-1){var k=s+C;
while(Z[k-1]==0)k--;y=z.wc(Z,s,k-s).trim()}else{console.log(m,JSON.stringify(z.wc(Z,s,Math.min(C,32))));
throw L}if($["g"+f]==null)$["g"+f]={};$["g"+f][M]=y;s+=C}return[$,s]}var i={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{QS:a}}();fI.X0={};fI.X0.QS=function(e){var A=new Uint8Array(e),a=0,p={},S=1e9;for(var c=0;c<306;
c++){var N=z.wc(A,a,8).trim(),i=z.wc(A,a+9,71).split("/")[0].trim();p[N]=i;a+=80;if(N=="END"){a=Math.ceil(a/2880)*2880;
break}}var Z=parseInt(p.NAXIS1),s=parseInt(p.NAXIS2),D=Z*s,n=parseInt(p.BITPIX),F=-1e9,$=new Float32Array(D),m=new Float32Array(e,a,e.byteLength-a>>>2);
for(var c=0;c<D;c++){var J=c<<2,w=c<<1;if(n==-32){var f=A[a+J+0];A[a+J+0]=A[a+J+3];A[a+J+3]=f;var f=A[a+J+1];
A[a+J+1]=A[a+J+2];A[a+J+2]=f;$[c]=m[c]}else if(n==16){$[c]=z.dn(A,a+w)}else throw n;var b=$[c];if(b<S)S=b;
if(b>F)F=b}var L=j.Q(D*4),C=1/F;for(var M=0;M<s;M++)for(var y=0;y<Z;y++){var c=M*Z+y,Q=(s-M-1)*Z+y,J=Q<<2,b=$[c]*C;
L[J]=L[J+1]=L[J+2]=255*b;L[J+3]=255}return[{WJ:new dE(0,0,Z,s),data:L,BI:p.OBJECT}]};fI.br={};fI.br.QS=function(e){var A=new Uint8Array(e),a=16,p=z.wc(A,a,4),i=32,b=0,L=0,C=!1,x;
a+=4;var N=z.wc(A,a,8);a+=8;while(A[a+i-1]==0)i--;var Z=z.wc(A,a,i);a+=32;var s=z.wc(A,a,4);a+=4;a+=20;
var D=z.q(A,a);a+=4;var n=z.q(A,a);a+=4;var S=z.q(A,a);a+=4;var F=z.q(A,a);a+=4;var $=z.q(A,a);a+=4;
var m=z.q(A,a);a+=4;var J="FujiFilm "+Z,w=[0,1,1,2];if(J=="FujiFilm X10"){J="FujiFilm FinePix X10";w=[2,1,1,0]}var f={t271:["FujiFilm"],t272:[J],t277:[1],t33421:[2,2],t33422:w,Bb:1};
a=S;var M=[],y=z.ex,Q=z.q(A,a);a+=4;for(var c=0;c<Q;c++){var k=y(A,a);a+=2;var E=y(A,a);a+=2;if(k==256){L=y(A,a);
b=y(A,a+2)}else if(k==272){M=[y(A,a),y(A,a+2)]}else if(k==273){M.push(y(A,a),y(A,a+2))}else if(k==304){C=!(A[a]>>>7)}else if(k==305){var _=Math.round(Math.sqrt(E)),v=[];
for(var V=0;V<E;V++)v.push(A[a+V]);v.reverse();f.t33421=[_,_];f.t33422=v}else if(k==12272){var R=y(A,a),h=y(A,a+2),P=y(A,a+6);
f.t50728=[R/h,1,R/P]}a+=E}var H=b<L,U=A.slice($,$+m),X=Math.round(m*8/(b*L));if(U[0]==73&&U[1]==73&&U[2]==42){x=UTIF.decode(U.buffer)[0].fujiIFD;
X=x.t61443[0];var K=x.t61454,T=x.t61450;if(T)f.t50714=T;if(K)f.t50728=[K[0]/K[1],1,K[0]/K[2]];var I=x.t61447[0];
U=U.slice(I,I+x.t61448[0])}var m=U.length,o=m*8<b*L*X;if(o){console.log("compressed");var l=f.t33422,O=~~Math.sqrt(l.length),g=[];
for(var c=0;c<O;c++)g[c]=l.slice(c*O,c*O+O);U=new Uint8Array(UTIF._decompressRAF(U,g).buffer);m=U.length}function W(Y,fk,eJ){eJ=eJ<<8-(fk&7);
var eS=fk>>>3;Y[eS]|=eJ>>>16;Y[eS+1]|=eJ>>>8;Y[eS+2]|=eJ}var d=m*8/(b*L);if(d==16)for(var c=0;c<m;c+=2){var gT=U[c];
U[c]=U[c+1];U[c+1]=gT}else if(d==14){for(var c=0;c<m;c+=4){var gT=U[c];U[c]=U[c+3];U[c+3]=gT;gT=U[c+1];
U[c+1]=U[c+2];U[c+2]=gT}}else if(d==12)for(var c=0;c<m;c+=3){var r=U[c+2]<<16|U[c+1]<<8|U[c+0];r=r>>>12|(r&4095)<<12;
U[c]=r>>>16&255;U[c+1]=r>>>8&255;U[c+2]=r&255}if(H)U=fI.br.a1s(U,b,L);var G=H?2:1;b*=G;f.t256=[b];f.t257=[L];
f.t258=[X];f.t50719=[M[1],M[0]*G];f.t50720=[M[3],M[2]*G];f.width=b;f.height=L;f.data=new Uint8Array(U.buffer);
return[f]};fI.br.a1s=function(e,A,a){e=new Uint16Array(e.buffer);var p=new Uint16Array(A*a*2);for(var N=0;
N<a;N+=2)for(var i=0;i<A;i++){var Z=N*A+i,s=Z*2,D=e[Z],n=e[Z+A];p[s+1]=p[s+2*A]=n;if(((N>>>1)+i&1)==0){p[s]=D;
p[s+2*A+1]=e[Z+1]}else{p[s]=e[Z-1];p[s+2*A+1]=D}}return p};fI.qH={};fI.qH.SV=!0;fI.qH.Eu=function(e,A,a,p){var N=new Uint8Array(e[0][0]),i=A*a,Z=[1,3,4][p[0]],s=8+8*p[1],D=p[2];
if(Z==1){var n=new Uint8Array(A*a);j.kI(N,n,0);N=n}if(Z==3){var n=new Uint8Array(A*a*3);for(var c=0;
c<i;c++){var S=c*4,F=c*3;n[F]=N[S];n[F+1]=N[S+1];n[F+2]=N[S+2]}N=n}if(s==16){var $=N.length,n=new Uint8Array($*2);
for(var c=0;c<$;c++){var m=Math.round(N[c]*(65535/255));n[c*2+D]=m>>>8;n[c*2+1-D]=m&255}N=n}return N.buffer};
fI.WK={};fI.WK.QS=function(e,A){function a(D){return~~(.5+j.Vq(Math.max(0,Math.min(1,D)))*255)}var p=EXRLoader.parse(e),N=p.width,i=p.height,Z=j.Q(N*i*4);
for(var s=0;s<i;s++)for(var D=0;D<N;D++){var c=(s*N+D)*4,n=((i-s-1)*N+D)*4;Z[c]=a(p.data[n+0]);Z[c+1]=a(p.data[n+1]);
Z[c+2]=a(p.data[n+2]);Z[c+3]=a(p.data[n+3])}return[{WJ:new dE(0,0,N,i),data:Z.buffer}]};fI.jp={};fI.jp.SV=!0;
fI.jp.S$=!0;fI.jp.Eu=function(e,A,a,p,N){p=["",100,!1,!1,!1,0,!1];p[7]=["jpg"];var i=new ToDXF;ju.kz(e,p,i,N.de);
return i.buffer};fI.jp.QS=function(e,A){var a=72,p=new bj(1,0,0,1,0,0);p.scale(a/72,a/72);A.l5=a;var N=new aG(A,p,!1);
FromDXF.Parse(e,N)};fI.Te={};fI.Te.QS=function(){var e=z.dn,A=z.Jv,a=z.wc,p;function N(Z,s,D,n,S){var F=A(Z,D),$=A(Z,D+4),m=A(Z,D+8),J=e(Z,D+12),w=e(Z,D+14);
D+=16;var f={};for(var c=0;c<J+w;c++){var b=A(Z,D),L=A(Z,D+4),C,M;if(b>>>31==1){b=b&16777215}if(c<J)C=z.xy(Z,s+b+2,e(Z,s+b));
else C="id"+b;var y=n.slice(0);y.push(C);if(L>>>31==1){L=L&268435455;M=N(Z,s,s+L,y,S)}else{var Q=A(Z,s+L),k=A(Z,s+L+4),E=A(Z,s+L+8),_=A(Z,s+L+12);
if(_!=0)throw"e";if(Q<S[0]||Q>S[0]+S[1])throw"e";var v=S[2]+Q-S[0];M=Z.slice(v,v+k);var V=fI.ti(M.buffer);
if(V&&["bmp","png","ico"].indexOf(V)!=-1){var R=fI.nP(V);if(!R.S$){var h=null;try{h=R.QS(M.buffer)}catch(i1){}if(h){h[0].BI=y[1];
p.push(h[0])}}}else if(V)console.log(V)}f[C]=M;D+=8}return f}function i(Z){p=[];var s=new Uint8Array(Z),D=0,n=e(s,D);
D+=2;D+=58;var S=A(s,D);D+=4;D=S;var F=a(s,D,4);D+=4;var $=e(s,D);D+=2;var m=e(s,D);D+=2;var J=A(s,D);
D+=4;var w=A(s,D);D+=4;var f=A(s,D);D+=4;var b=e(s,D);D+=2;var L=e(s,D);D+=2;D+=b;var C={};for(var c=0;
c<m;c++){var M=D;while(s[M]!=0)M++;var y=a(s,D,M-D),Q=A(s,D+8),k=A(s,D+12),E=A(s,D+16),_=A(s,D+20),v=A(s,D+24),V=A(s,D+28),R=e(s,D+32),h=e(s,D+34),L=A(s,D+36);
C[y]=[k,Q,_,E,L];if(v+V!=0)throw"e";D+=40}for(var P in C){var H=C[P];D=H[2];if(P==".rsrc"){var U=N(s,D,D,[],H),X="id134"}}return p}return i}();
fI.UH={};fI.UH.S$=!0;fI.UH.QS=function(e,A,a){hN.__(e,A,a)};(function(){var e=fI.lj.get("wasm/zstd").buffer;
WebAssembly.instantiate(e).then(function(A){var a=A.instance.exports;fI.UH.a1y=a})}());fI.UH.nu=function(e,A){var a=fI.UH.a1y,p=e.length,N=a.memory,i=2*p+1e6,D=8;
fI.My(a,i);var Z=new Uint8Array(N.buffer),s=a.malloc(p);Z.set(e,s);while(!0){var n=A==null?p*D:A;fI.My(a,i+n);
var S=a.malloc(n),F=a.ZSTD_decompress(S,n,s,p);if(F==-70){a.free(S);D+=D>>>1;if(A!=null)throw"error"}else{Z=new Uint8Array(N.buffer);
e=Z.slice(S,S+F);a.free(S);break}}a.free(s);return e};fI.xN={};fI.xN.S$=!0;fI.xN.QS=function(){var e=0,A=1,a=2,p=3,N=4,i=5,Z=6,s=7,D=1,n=2,S=7,F=8,$=9,m,J,w,f,b;
function L(){var iM=z.v2(m,J);J+=4;return iM}function C(){var x=0,K=0;for(var c=0;c<5;c++){var T=m[J++];
x+=(T&127)<<K;K+=7;if((T&128)==0)break}return x}function M(){var x=C(),K=z.lB(m,J,x);J+=x;return K}function y(){return{typeName:M(),axm:L()}}function Q(){var x=L(),K=M(),T=[],I=L();
for(var c=0;c<I;c++)T.push([M()]);return{id:x,lO:K,a6v:T}}function k(x){var K=x.a6v,T=[];for(var c=0;
c<K.length;c++)K[c].push(m[J++]);for(var c=0;c<K.length;c++){var I=K[c][1],o;K[c].push(E(I))}}function E(x){var K;
if(x==e)K=m[J++];else if(x==p)K=M();else if(x==N)K=y();else if(x==A||x==a||x==Z||x==i){}else throw x;
return K}function _(x,K,T){var I;if(x==e){if(K==D)I=m[J++]==1;else if(K==n){I=m[J++]}else if(K==F)I=L();
else if(K==$){I=L();L()}else throw K}else if(x==p){I=h(T+1)}else if(x==N){I=h(T+1)}else if(x==i){I=h(T+1)}else if(x==A){I=h(T+1)}else if(x==Z){I=h(T+1)}else throw x;
return I}function v(x,K){var T=w["c"+x],I=T.a6v,o={_class:T.lO};for(var c=0;c<I.length;c++){var l=I[c],O=l[1],g=l[2],W=_(O,g,K),d=l[0];
o[d]=W}return o}function V(x,K,T,I){var o=[];for(var c=0;c<x;c++){var l=_(K,T,I);if(l.Uz&&l.Uz=="null_count"){var O=l.HG;
for(var g=0;g<O;g++)o.push(null);c+=O-1}else o.push(l)}return o}function R(){return[L(),L()]}function h(x){if(x==null)throw"e";
var K=null,T=m[J],I=null;J++;if(T==0){var o=L(),l=L(),O=L(),g=L();K=[o,l,O,g]}else if(T==1){I=L();var W=L();
K=v(W,x)}else if(T==4){var d=Q();I=d.id;k(d);w["c"+d.id]=d;K=v(d.id,x)}else if(T==5){var d=Q();I=d.id;
k(d);var gT=L();w["c"+d.id]=d;K=v(d.id,x)}else if(T==6){I=L();var r=M();K=r}else if(T==7){I=L();var G=m[J++];
if(G!=0)throw G;var Y=L();if(Y!=1)throw Y;var fk=L(),eJ=m[J++],eS=E(eJ);K=V(fk,eJ,eS,x)}else if(T==9){var gL=L();
K={Uz:"ref",HG:gL};b["o"+gL]=!0}else if(T==10){K={Uz:"null_count",HG:1}}else if(T==11){K={Uz:"end"}}else if(T==12){var gT=L(),cX=M()}else if(T==13){var kj=m[J++];
K={Uz:"null_count",HG:kj}}else if(T==16){var gq=R();I=gq[0];K=V(gq[1],N,null,x)}else if(T==17){var gq=R();
I=gq[0];K=V(gq[1],A,null,x)}else throw"e";if(I!=null&&I>0){if(f["o"+I]!=null)throw"e";f["o"+I]=K}return K}function P(x,f){if(x instanceof Array){for(var c=0;
c<x.length;c++)x[c]=H(x[c],f)}else if(x instanceof Object){for(var K in x)x[K]=H(x[K],f)}}function H(x,f){if(x&&x.Uz&&x.Uz=="ref")return f["o"+x.HG];
else return x}function U(x,K,T){m=new Uint8Array(x);J=0;w={};f={};b={};var I=z.wc(m,0,4);if(I!="PDN3")throw I;
J+=4;var o=z.dn(m,J)+m[J+2]*256*256;J+=3;var l=z.wc(m,J,o);J+=o;J+=2;while(!0){var O=h(0);if(O&&O.Uz&&O.Uz=="end")break}for(var g in b)if(f[g]==null)throw g;
for(var g in f)P(f[g],f);var W=f.o1;console.log(W);K.m=W.width;K.n=W.height;K.buffer=j.Q(K.m*K.n*4);
var d=W.layers["ArrayList+_items"];for(var c=0;c<d.length;c++){var gT=d[c];if(gT==null)continue;console.log(gT);
var r=gT["Layer+width"],G=gT["Layer+height"],Y=gT["Layer+properties"],fk=gT.properties,eJ=fk.blendOp._class.split("+").pop();
eJ=eJ.slice(0,eJ.length-7);var eS={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[eJ],gL=K.Uo();
gL.i4(Y.name);gL.opacity=Y.opacity;gL.d8(Y.visible);gL.Mi=eS;var cX=1<<16,kj=Math.ceil(r*G/cX);gL.rect=new dE(0,0,r,G);
gL.buffer=j.Q(r*G*4);var gq=gL.buffer;J+=5;for(var iL=0;iL<kj;iL++){var ew=X();gq.set(ew[1],ew[0]*cX*4)}for(var dk=0;
dk<gq.length;dk+=4){var j9=gq[dk+0];gq[dk+0]=gq[dk+2];gq[dk+2]=j9}K.B.push(gL)}}function X(){var x=z.q(m,J);
J+=4;var K=z.q(m,J);J+=4;var T=pako.inflateRaw(m.slice(J+10));J+=K;return[x,T]}return U}();fI.Sf={};
fI.Sf.S$=!0;fI.Sf.QS=function(e,A){eC.__(e,A)};fI.Q8={};fI.Q8.S$=!0;fI.Q8.QS=function(){var e,A,$=null,C,M;
function a(){var R=e[A];A+=1;return R}function p(){var R=z.ex(e,A);A+=2;return R}function N(){var R=z.q(e,A);
A+=4;return R}function i(){var R=z.sg(e,A);A+=8;return R}function Z(){var R=N();if(R>200)throw R;var h=z.hv(e,A,R);
A+=R*2;return h}function s(){var R=N();if(N()!=4)throw"e";var h=[];for(var c=0;c<R;c++)h.push(N());return h}function D(R,h,P){for(var c=0;
c<R.length;c++)if(R[c][h]==P)return R[c]}function n(R,h){var P=Date.now();e=new Uint8Array(R);A=z.vP(e,"CH"+"NK"+"SQ"+"Li")+8;
var H=i(),U=jI.parse(e.buffer.slice(A,A+H)),X=jI.alW(U,!0);console.log(X);var x=X.Canvas[0],K=x.Width,T=x.Height,I=x.Unit,o=h.l5=x.Resolution;
if(I==0){}else if(I==2){K=Math.round(K*o/25.4);T=Math.round(T*o/25.4)}else if(I==3){K=Math.round(K*o);
T=Math.round(T*o)}else if(I==5){K=Math.round(K*o/72);T=Math.round(T*o/72)}else{console.log(x);throw I}h.m=K;
h.n=T;h.buffer=j.Q(K*T*4);console.log(Date.now()-P);var l=D(X.Layer,"MainId",x.RootFolder);E(X,e,h,l.FirstChildIndex,0);
console.log(Date.now()-P)}function S(){var R=z.dn(e,A);A+=2;return R}function F(){var R=z.Jv(e,A);A+=4;
return R}function m(R){var h={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},H=0;
e=R;A=0;var P={};while(A<e.length){var U=F(),X=F(),x=A+X;if(X==0)continue;var K=[];if(U==11){var T=F();
for(var I=0;I<T;I++){var o=[F(),F()];K.push(o);H+=o[1];var l=A+F()-4;o.push(S(),S(),S(),S());o.push(z.q$(e,A));
A+=8;var O=S();o.push(z.xy(e,A,O));A+=O*2;if(A!=l)throw"e"}}else if(U==31){K=z.lB(e,A,X);A+=X}else if(U==34)for(var c=0;
c<3;c++)K.push(F()>>>16);else if(U==42)for(var c=0;c<4;c++)K.push(F());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(U)!=-1){if(X!=4)throw"e";
K=F();if([37,45,46,51,53,55,61,62].indexOf(U)!=-1){if(K!=0)throw U+":"+K;A=x;continue}}else if(U==47){var g=S();
if(F()!=50)throw"e";if(F()!=0)throw"e";var W=S();K=z.wc(e,A,W);A+=W}else if(U==57){var T=S();for(var c=0;
c<T;c++){var d=S(),gT=z.wc(e,A,d);A+=d;var r=S(),G=z.wc(e,A,r);A+=r;K.push([gT,G])}var Y=F();for(var c=0;
c<T;c++)K[c].push(Y)}else if(U==39||U==63)K.push(F(),F());else if(U==64){for(var c=0;c<8;c++)K.push(z.v2(e,A+c*4)/100);
A+=32}else{K=e.slice(A,x);A+=X}var fk=h[U];if(fk==null)fk="t"+U;if(P[fk])throw"e";P[fk]=K;if(A!=x)throw U}if($){}$=P;
return P}function J(R,h){function P(){var cb=z.VD(e,A);A+=8;return cb}function H(){var cb=z.i3(e,A);
A+=4;return cb}function U(){var cb=[];for(var c=0;c<4;c++)cb.push(z.$m(e,A+c*4));A+=16;return cb}function X(iM){var cb=[];
for(var c=0;c<iM;c++)cb.push(H());return cb}function x(cb){var dK="";for(var c=A;c<cb;c+=4)dK+=e.slice(c,c+4).join(", ")+"\n";
return dK}e=R;A=h+8;var K=i(),T=A+K;A+=56;if(A==T)return;var I=[],o=[],l=[],O=[],g=[];while(A<T){var W=N(),gL=1;
if(W!=88&&W!=96)throw W;var W=N();if(W!=72)throw"e";var d=N();if(d!=88&&d!=104&&d!=120)throw d;var W=N();
if(W!=88)throw"e";var gT=N(),r=N(),G=U(),Y=[];l.push(Y);for(var c=0;c<6;c++){Y.push(f(N()))}var fk=P(),eJ=N();
if(eJ==16){N();eJ=N()}if(eJ!=0&&eJ!=1&&eJ!=2&&eJ!=3&&eJ!=4&&eJ!=5&&eJ!=8&&eJ!=9&&eJ!=22)throw eJ;var eS=P();
O.push(eS);var cX=N(),kj=(r&256)!=0,gq=[],iL=[],ew={88:1,104:2,120:3}[d];for(var c=0;c<gT;c++){var dk=c==0?1:ew;
for(var j9=0;j9<dk;j9++)gq.push(P(),P());iL.push(dk==1?c==0?"M":"L":dk==2?"Q":"C");var fh=U(),g9=N();
gL=H();var k6=X(10),jx=N();if(jx!=1&&jx!=cX)throw jx;var fV=N()}g.push(gL);if(d==104){var ao=P(),b8=P()}if(d==120){var ao=P(),b8=P(),ke=P(),gj=P();
if(kj){iL.push("C");gq.push(ao,b8,ke,gj,gq[0],gq[1])}}if(r&128){var jf=["M"],ay=[gq[0],gq[1]],fz=gq.length>>>1,ei=j.p.pY(gq);
for(var c=0;c<fz;c++){var hC=gq[2*c],iI=gq[2*c+1],gQ=.7;for(var j9=0;j9<2;j9++){ei[c*4+j9*2]=gQ*ei[c*4+j9*2]+(1-gQ)*hC;
ei[c*4+j9*2+1]=gQ*ei[c*4+j9*2+1]+(1-gQ)*iI}}for(var c=1;c<fz;c++){jf.push("C");ay.push(ei[c*4-2],ei[c*4-1],ei[c*4],ei[c*4+1],gq[c*2],gq[c*2+1])}if(kj){jf.push("C");
ay.push(ei[fz*4-2],ei[fz*4-1],ei[0],ei[1],gq[0],gq[1])}gq=ay;iL=jf}if(kj)iL.push("Z");o=o.concat(gq);
I=I.concat(iL)}if(A!=T)throw"e";return[{w:o,F:I},l,O,g]}function w(R,h){e=R;A=h+8;var P=i(),H=A+P,U=0;
A+=56;var X=[];while(A<H){var x=N(),K=A+x-4;if(K>H)throw"e";if(x==11){A-=4;var T=Z(),I=N();if(I!=12)throw"e";
var o=s(),l=Z(),I=N();if(I!=12)throw"e";var O=s();if(A!=H)throw"e"}else{var g=Z(),W=N();if(W!=U)throw W;
U++;var d=p();if(d!=0&&d!=1&&d!=2&&d!=5)throw d;var gT=a();if(gT!=0&&gT!=32&&gT!=64)throw gT;if(N()!=1)throw"e";
if(N()!=1)throw"e";if(a()!=0)throw"e";if(N()==1){var r=N(),G=z.Jv(e,A);if(r!=G+4)throw"e";X.push(new Uint8Array(e.buffer,A+4,G));
A+=r}else X.push(new Uint8Array(0));var Y=Z();if(A!=K)throw A}}return X}function f(R){return Math.min(255,Math.round(R/16777216))}function b(R){e=R;
A=0;var h=N();if(h!=16)throw h;var P=N();if(P!=102)throw P;var H=N();if(H!=42&&H!=58)throw H;var U=N();
if(R.length-U!=118+H)throw R.length-U;var X=Z();if(X!="Parameter")throw X;var x=N(),K=N(),T=N(),I=N(),o=[];
for(var c=0;c<16;c++)o.push(N());var X=Z();if(X!="InitColor")throw X;if(N()!=20)throw"e";var l=N(),O=N(),g=N();
if(N()!=4)throw"e";if(H==58){var W=[];o.push(W);for(var c=0;c<4;c++)W.push(f(N()))}var X=Z();if(X!="BlockSize")throw X;
var d=N();if(d!=12)throw d;var gT=s();if(A!=e.length)throw"e";return[x,K,T,I,l*255,o]}function L(R,h){var P=z.wc(h,0,40),H=D(R["ExternalC"+"hunk"],"Exte"+"rnalID",P);
if(H==null){console.log("chnk not found",P)}return H?H.Offset:-1}function y(R,h,P,H){if(C==null){C=j.Q(256*256*4);
M=j.Q(256*256)}var U=R.Mipmap,X=R.MipmapInfo,x=R.Offscreen,K=D(U,"MainId",P),T=D(X,"MainId",K.BaseMipmapInfo),I=D(x,"MainId",T.Offscreen),o=L(R,I.BlockData),n=null;
if(o==-1)return null;var l=w(h,o),O=b(I.Attribute),g=O[0],W=O[1],d=O[2],gT=O[3],r=O[4],G=O[5],Y=G[16],fk=G[1],eJ=G[2],eS=fk+eJ;
if(eJ!=G[5])throw"e";if(fk!=G[7])throw"e";var gL=j.Q(256*(G[6]+G[8])),cX=new dE;if(Y)cX=new dE(0,0,g,W);
else{for(var kj=0;kj<gT;kj++)for(var gq=0;gq<d;gq++){var iL=l[kj*d+gq];if(iL.length==0)continue;cX=cX.pg(new dE(gq<<8,kj<<8,256,256))}}var ew=cX.Yn(new dE(0,0,g,W)),dk=j.Q(ew.O()*(eS==1?1:4));
if(Y)new Uint32Array(dk.buffer).fill(255<<24|Y[0]<<16|Y[1]<<8|Y[2]);if(eS==1)dk.fill(r);for(var kj=0;
kj<gT;kj++)for(var gq=0;gq<d;gq++){var iL=l[kj*d+gq];if(iL.length==0)continue;var j9=new Uint8Array(iL.buffer,iL.byteOffset+2,iL.length-6),fh=new dE(gq<<8,kj<<8,256,256);
UZIP.inflateRaw(j9,gL);if(eS==1){if(G[8]==32){Q(gL,0,M);j.WP(M,fh,dk,ew)}else j.WP(gL,fh,dk,ew)}else if(eS==2){if(G[8]==32){new Uint32Array(C.buffer).fill(4278190335);
Q(gL,0,M);j.Ao(M,C,3);Q(gL,256*32,M);j.DC(M,C)}else for(var c=0;c<262144;c+=4){var Y=gL[65536+(c>>>2)];
C[c]=Y;C[c+1]=Y;C[c+2]=Y;C[c+3]=gL[c>>>2]}j._M(C,fh,dk,ew)}else if(eS==5){for(var c=0;c<262144;c+=4){C[c]=gL[65536+c+2];
C[c+1]=gL[65536+c+1];C[c+2]=gL[65536+c+0];C[c+3]=gL[c>>>2]}j._M(C,fh,dk,ew)}else throw eS}if(H&&eS==1){var g9=j.Q(g*W*4);
j.Ao(dk,g9,3);dk=g9}return[ew,dk]}function Q(R,A,h){for(var c=0;c<h.length;c++){h[c]=(R[A+(c>>>3)]>>>7-(c&7)&1)*255}}var k=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ",null,"lddg","lddg",null,"over",null,"hLit",null,null,null,null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function E(R,h,P,H,U){var X=R.Layer,x=R.Canvas[0];while(H!=0){var K=D(X,"MainId",H),T=K.Type;console.log(K);
var I=P.Uo();I.i4(K.Name);I.opacity=Math.min(255,K.Opacity);I.d8((K.Visibility&1)!=0);I.Mi=k[K.Composite];
if(I.Mi==null){alert("Unknown blend mode "+K.Composite);I.Mi="norm"}I.G0=K.Clip==1;P.B.push(I);var o=K.LayerMaskMipmap;
if(o!=0){var l=y(R,h,o,!1);if(l){I.$=new u.j_;I.$.rect=l[0];I.$.channel=l[1];I.$.color=l[1][0];_(I.$.rect,K,"Mask","Mask");
I.$.Yk()}}var O=[];for(var c=0;c<3;c++)O.push(f(K["DrawColorMain"+["Red","Green","Blue"][c]]));var g={t:"Objc",v:j.M.yN({o:O[0],J:O[1],k:O[2]})};
if(K.DrawColorEnable==1&&T!=1584){var W=I.add.lmfx=JSON.parse(iF.default);for(var c=0;c<iF.order.length;
c++)W[iF.RU[c]]={t:"VlLs",v:[]};var d=JSON.parse(iF.lZ[iF.order.indexOf("SoFi")]);d.Clr=g;W.solidFillMulti.v.push({t:"Objc",v:d})}if(T==1584){I.OO|=16;
I.add.SoCo={classID:"null",Clr:g};I.yO(P)}else if(T==800){P.B.pop()}else if(K.Folder!=0){I.add.lsct=(K.Folder&16)!=0?ez.St:ez.MV;
I.Mi="pass";P.B.pop();P.B.push(P.pz());E(R,h,P,K.FirstChildIndex,U+1);P.B.push(I)}else if(T==0||T==1||T==2||T==3){var l=y(R,h,K.RenderMipmap,!0);
if(l){I.rect=l[0];I.buffer=l[1];_(I.rect,K,"Render","");I.Yk()}if(K.TextLayerType!=null){alert("Got Text!",3e3);
var gT="TextLayerString",r="TextLayerAttributes",G=[K[gT]],Y=[K[r]];if(K[gT+"Array"]){e=K[gT+"Array"];
A=0;while(A<e.length){var fk=F();G.push(e.slice(A,A+fk));A+=fk}e=K[r+"Array"];A=0;while(A<e.length){var fk=F();
Y.push(e.slice(A,A+fk));A+=fk}}var eJ=I;P.B.pop();for(var eS=0;eS<G.length;eS++){var I=eJ.clone();P.B.push(I);
var gL=m(Y[eS]),cX=gL.runs,kj=gL.fnts,gq=gL.bplg,iL=gL.bbox,ew=iL[2]-iL[0],dk=iL[3]-iL[1],j9=gq[2]-gq[0],fh=gq[3]-gq[1],g9=new bj;
g9.translate(-ew/2,-dk/2);g9.rotate(Math.atan2(-fh,j9));g9.translate(ew/2,dk/2);var k6=iL[0]+K.OffsetX,jx=iL[1]+K.OffsetY;
g9.translate(k6,jx);I.add.lnsr="rend";I.add.TySh=eG.KP(0,0);I.add.TySh.oc=new dE(0,0,500,500);I.add.TySh.D=g9;
var fV=I.add.TySh._t,ao=z.lB(G[eS]);I.i4(ao);eG.f7(fV,0,ao);eG.XX(fV,1);eG.dw(fV,[0,0,ew,dk]);for(var c=0;
c<cX.length;c++){var b8=cX[c],ke=b8[0],gj=ke+b8[1],jf=b8[2],ay=eG.p_(fV,ke,gj),fz=P.l5/72*gL.size/100;
if((jf&512)!=0)fz*=b8[6]/100;ay.JH.FontSize=Math.round(fz);var g=(jf&256)!=0?b8.slice(3):gL.colr;ay.JH.FillColor={Type:1,Values:[1,g[0]/65535,g[1]/65535,g[2]/65535]};
var ei=b8[7]==""?gL.font:b8[7];if(kj){if(kj[c])ei=kj[c][1];else for(var hC=0;hC<kj.length;hC++)if(kj[hC][0]==ei)ei=kj[hC][1]}eG.Kv(ay,ei);
eG.G4(fV,ke,gj,ay)}if(I.rect.O()==0)P.Px=!0;else{I.rect=new dE(k6,jx,ew,dk);I.buffer=j.Q(I.rect.O()*4);
j._M(eJ.buffer,eJ.rect,I.buffer,I.rect)}}}}var iI=R.VectorObjectList;if(K.VectorNormalType!=null&&iI&&D(iI,"LayerId",H)){var gQ=D(iI,"LayerId",H).VectorData,cb=L(R,gQ),dK=J(h,cb);
if(dK){v(I,K,dK[0]);if(I.yg()){I.OO|=24;var ha=P.Uo();ha.i4(I.getName());ha.opacity=I.opacity;P.B.push(ha);
v(ha,K,dK[0]);V(ha,dK);ha.yO(P)}else{V(I,dK)}I.yO(P)}}if(H==x.CurrentLayer)P.g=[P.B.indexOf(I)];H=K.NextIndex}}function _(R,h,P,H){R.x+=h[P+"OffscrOffsetX"]+h[H+"OffsetX"];
R.y+=h[P+"OffscrOffsetY"]+h[H+"OffsetY"]}function v(R,h,P){R.add.vmsk=new u.eP;j.p.D(P.w,new bj(1,0,0,1,h.OffsetX,h.OffsetY),P.w);
R.add.vmsk.i=j.p.Hh(P);R.c0()}function V(R,h){var P=h[1][0],H=h[2][0]*h[3][0];R.OO|=16;var U=R.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));
U.strokeEnabled.v=!0;U.fillEnabled.v=!1;R.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.M.yN({o:0,J:0,k:0})}};
U.strokeStyleContent.v.Clr.v=j.M.yN({o:P[0],J:P[1],k:P[2]});U.strokeStyleLineWidth.v.val=H*2;U.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return n}();
var fG={};fG.Jg=!1;fG.RC=!1;fG.Oz=!1;fG.T=document.createElement("canvas");fG.Ae=null;fG.I3=null;fG.ke=0;
(function(){var e={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},A;if(!A)A=fG.T.getContext("webgl",e);
if(!A)A=fG.T.getContext("experimental-webgl",e);if(A){fG.Jg=!0;fG.RC=!0;fG.Ae=A;fG.I3=A.createFramebuffer();
A.bindFramebuffer(A.FRAMEBUFFER,fG.I3);A.disable(A.BLEND);A.disable(A.DEPTH_TEST);var a=A.createBuffer();
A.bindBuffer(A.ARRAY_BUFFER,a);A.bufferData(A.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),A.STATIC_DRAW);
A.enableVertexAttribArray(0);A.vertexAttribPointer(0,2,A.FLOAT,!1,0,0)}}());fG.a5X=function(e){e=e.replace(/\s\s+/g," ");
e=e.replace(/; /g,";");e=e.replace(/} /g,"}");e=e.replace(/ }/g,"}");e=e.replace(/{ /g,"{");e=e.replace(/ {/g,"{");
e=e.replace(/= /g,"=");e=e.replace(/ =/g,"=");e=e.replace(/\| /g,"|");e=e.replace(/ \|/g,"|");return e};
fG.mk=function(e){var A=fG.Ae;if(e>A.getParameter(A.MAX_TEXTURE_SIZE)){fG.Jg=!1;alert("Disabling WebGL")}};
fG.Vp=function(e,A){return new Float32Array([(e.x-A.x)/A.m,(e.y-A.y)/A.n,e.m/A.m,e.n/A.n])};fG.wv=function(){return this.T};
fG.Wb=function(e,A){var a=fG.Ae;a.bindFramebuffer(a.FRAMEBUFFER,fG.I3);a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,e.NV,0);
a.viewport(0,0,e.m,e.n);if(A){a.enable(a.SCISSOR_TEST);a.scissor(A.x,A.y,A.m,A.n)}else a.disable(a.SCISSOR_TEST)};
fG.da=function(e,A,a){if(a)throw"error";var p=fG.Ae;p.disable(p.SCISSOR_TEST);p.bindFramebuffer(p.FRAMEBUFFER,null);
p.viewport(0,0,e,A);if(a){p.enable(p.SCISSOR_TEST);p.scissor(a.x,a.y,Math.round(a.m),Math.round(a.n))}else p.disable(p.SCISSOR_TEST)};
fG.clear=function(){var e=fG.Ae;e.clearColor(0,0,0,0);e.clear(e.COLOR_BUFFER_BIT)};fG.qw=function(e,A){if(A==null)A=0;
var a=(A>>>0&255)==0,p=(A>>>8&255)==0,N=(A>>>16&255)==0,i=(A>>>24&255)==0,Z=(e>>>0&255)*(1/255),s=(e>>>8&255)*(1/255),D=(e>>>16&255)*(1/255),n=(e>>>24&255)*(1/255),S=fG.Ae;
S.colorMask(a,p,N,i);S.clearColor(Z,s,D,n);S.clear(S.COLOR_BUFFER_BIT);S.colorMask(!0,!0,!0,!0)};fG.ge=function(e,A,a,p,N){var i=A.Yn(p);
if(N)i=i.Yn(N);if(i.QP())return;var Z=fG.Ae;fG.Wb(e);Z.bindTexture(Z.TEXTURE_2D,a.NV);Z.copyTexSubImage2D(Z.TEXTURE_2D,0,i.x-p.x,i.y-p.y,i.x-A.x,i.y-A.y,i.m,i.n)};
fG.D9=function(c,e,A){var a=fG._A[c];if(a==null||a.m!=e||a.n!=A){if(a)a.delete();a=new fG.js(e,A)}fG._A[c]=a;
return a};fG._A=[];fG.y1=function(){this.en=null;this.L6=null};fG.y1.zx=null;fG.y1.prototype.qx=function(e){if(this.L6)return;
this.L6={};var A=fG.Ae,a=this.en,p=this.L6;for(var c=0;c<e.length;c++){var N=e[c];p[N]=A.getUniformLocation(a,N)}};
fG.y1.prototype.sF=function(){};fG.y1.prototype.Uc=function(e){var A=fG.Ae;for(var c=0;c<e.length;c+=2){A.uniform1i(e[c],c>>>1);
A.activeTexture(A["TEXTURE"+(c>>>1)]);A.bindTexture(A.TEXTURE_2D,e[c+1])}A.activeTexture(A.TEXTURE0)};
fG.y1.prototype.tP=function(e,A){var a=fG.Ae,p=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(p,e);
a.compileShader(p);if(!a.getShaderParameter(p,a.COMPILE_STATUS))console.log(a.getShaderInfoLog(p));var N=a.createShader(a.VERTEX_SHADER);
a.shaderSource(N,A);a.compileShader(N);if(!a.getShaderParameter(N,a.COMPILE_STATUS))console.log(a.getShaderInfoLog(N));
var i=a.createProgram();a.attachShader(i,N);a.attachShader(i,p);a.linkProgram(i);if(!a.getProgramParameter(i,a.LINK_STATUS))console.log("Could not initialise shaders");
this.en=i};fG.y1.prototype.a$=function(){if(fG.y1.zx!=this){fG.Ae.useProgram(this.en);fG.y1.zx=this}};
fG.rL=function(e,A){fG.qj++;fG.ke+=e*A;if(fG.Oz)console.log("GL.Channels instances: "+fG.qj+", memory: "+fG.ke);
var a=fG.Ae;this.m=e;this.n=A;this.NV=a.createTexture();this.mY=null;this.Kl(this.NV,e,A)};fG.rL.prototype.Kl=function(e,A,a){var p=fG.Ae;
p.bindTexture(p.TEXTURE_2D,e);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);
p.texImage2D(p.TEXTURE_2D,0,p.ALPHA,A,a,0,p.ALPHA,p.UNSIGNED_BYTE,null)};fG.rL.prototype.set=function(e,A){var a=fG.Ae;
a.bindTexture(a.TEXTURE_2D,this.NV);a.pixelStorei(a.UNPACK_ALIGNMENT,1);var p=this.m*this.n;if(A==null||A.O()*10>p)a.texImage2D(a.TEXTURE_2D,0,a.ALPHA,this.m,this.n,0,a.ALPHA,a.UNSIGNED_BYTE,e);
else{var N=new dE(0,0,this.m,this.n),i=j.Q(A.O());j.WP(e,N,i,A);a.texSubImage2D(a.TEXTURE_2D,0,A.x,A.y,A.m,A.n,a.ALPHA,a.UNSIGNED_BYTE,i)}a.pixelStorei(a.UNPACK_ALIGNMENT,4)};
fG.rL.prototype.delete=function(){var e=fG.Ae;if(this.NV){e.deleteTexture(this.NV);fG.qj--;fG.ke-=this.m*this.n}if(fG.Oz)if(fG.Oz)console.log("GL.Channels instances: "+fG.qj+", memory: "+fG.ke*4)};
fG.qj=0;fG.js=function(e,A,a){if(a==null)a=!1;fG.qj++;fG.ke+=e*A*4;if(fG.Oz)console.log("GL.Channels instances: "+fG.qj+", memory: "+fG.ke);
var p=fG.Ae;this.ajo=a;this.m=e;this.n=A;this.NV=p.createTexture();this.mY=null;this.Kl(this.NV,e,A)};
fG.js.prototype.set=function(e,A){var a=fG.Ae;a.disable(a.SCISSOR_TEST);a.bindTexture(a.TEXTURE_2D,this.NV);
if(e==null||e instanceof Uint8Array){var p=this.m*this.n;if(A==null||A.O()*10>p)a.texImage2D(a.TEXTURE_2D,0,a.RGBA,this.m,this.n,0,a.RGBA,a.UNSIGNED_BYTE,e);
else{var N=j.Q(A.O()*4);j._M(e,new dE(0,0,this.m,this.n),N,A);a.texSubImage2D(a.TEXTURE_2D,0,A.x,A.y,A.m,A.n,a.RGBA,a.UNSIGNED_BYTE,N)}}else a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,e)};
fG.js.prototype.get=function(e){var A=fG.Ae;fG.Wb(this);A.readPixels(0,0,this.m,this.n,A.RGBA,A.UNSIGNED_BYTE,e)};
fG.js.prototype.ll=function(e){if(e.QP())return;var A=fG.Ae;if(this.mY==null){this.mY=A.createTexture();
this.Kl(this.mY,this.m,this.n);fG.qj++;fG.ke+=this.m*this.n*4}A.bindFramebuffer(A.FRAMEBUFFER,fG.I3);
A.bindTexture(A.TEXTURE_2D,this.mY);if(e){var a=Math.max(e.x,0),p=Math.max(e.y,0);A.copyTexSubImage2D(A.TEXTURE_2D,0,a,p,a,p,e.m,e.n)}else A.copyTexImage2D(A.TEXTURE_2D,0,A.RGBA,0,0,this.m,this.n,0)};
fG.js.prototype.Kl=function(e,A,a){var p=fG.Ae;p.bindTexture(p.TEXTURE_2D,e);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,this.ajo?p.LINEAR:p.NEAREST);
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,A,a,0,p.RGBA,p.UNSIGNED_BYTE,null)};
fG.js.prototype.delete=function(){var e=fG.Ae;if(this.NV){e.deleteTexture(this.NV);fG.qj--;fG.ke-=this.m*this.n*4}if(this.mY){e.deleteTexture(this.mY);
fG.qj--;fG.ke-=this.m*this.n*4}if(fG.Oz)if(fG.Oz)console.log("GL.Channels instances: "+fG.qj+", memory: "+fG.ke)};
fG.js.prototype.clone=function(){var e=fG.Ae,A=new fG.js(this.m,this.n);fG.Wb(this);e.bindTexture(e.TEXTURE_2D,A.NV);
e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,this.m,this.n,0);return A};fG.iq={a65:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",ao1:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",xk:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",qU:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",Ke:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",sj:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",UQ:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",fe:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",agV:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",wl:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",a5f:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",NP:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",H$:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",fv:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",bl:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",LQ:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",RR:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",BA:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",v_:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",ao_:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",agF:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",Xp:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",Qy:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
fG.s={};fG.s.yA={};fG.s.DH=null;fG.s.Fw=null;fG.s.LG=null;fG.s.Cv=function(e,A,a,p,N,i,Z,s){if(s==null)s=b6.yL();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(e)==-1){Z=Z*s.fill;s.fill=1;s.style=!1}var D=e+(s.xY?"1":"");
if(fG.s.yA[D]==null)fG.s.yA[D]=new fG.s.ck(e,s.xY!=null);var n=fG.s.yA[D],S=a.Yn(N).Yn(i);S.offset(-N.x,-N.y);
if(S.QP())return;var F=fG.Ae;fG.Wb(p,S);p.ll(S);n.a$();n.sF(A.NV,p.mY,fG.Vp(a,N),Z,s.fill,s.style?1:0,s.pd?1:0,s.xY?new Float32Array(s.xY):null);
F.drawArrays(F.TRIANGLES,0,6)};fG.s.JO=function(e,A,a,p,N,i,Z,s,D,n,S){if(fG.s.DH==null)fG.s.DH=new fG.s.cC(!0,!0);
if(fG.s.Fw==null)fG.s.Fw=new fG.s.cC(!0,!1);if(fG.s.LG==null)fG.s.LG=new fG.s.cC(!1,!0);var F=n?1:0,$=e?N?fG.s.DH:fG.s.Fw:fG.s.LG,m=new Float32Array(S?[S[0],S[1],S[2],1]:[1,1,1,1]),J=A?A.Yn(p).Yn(s):p.Yn(s);
if(J.QP())return;J.offset(-p.x,-p.y);var w=fG.Ae;fG.Wb(a,J);a.ll(J);$.a$();if(e==null)$.sF(null,a.mY,N.NV,fG.Vp(p,p),fG.Vp(i,p),Z/255,D,F,m);
else if(N)$.sF(e.NV,a.mY,N.NV,fG.Vp(A,p),fG.Vp(i,p),Z/255,D,F,m);else $.sF(e.NV,a.mY,null,fG.Vp(A,p),null,Z/255,D,F,m);
w.drawArrays(w.TRIANGLES,0,6)};fG.s.apD=function(e,A,a){if(fG.s.ahg==null)fG.s.ahg=new fG.s.DV;var p=fG.s.ahg,N=new dE(0,0,e.m,e.n),i=fG.Ae;
fG.Wb(A);A.ll(N);p.a$();p.sF(N,e.NV,A.mY,a.NV);i.drawArrays(i.TRIANGLES,0,6)};fG.s.V8={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
fG.s.ck=function(e,A){fG.y1.call(this);var a="\t\t\tprecision highp float;\t\t\t"+fG.iq.xk+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(A?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+fG.iq.sj+"\t\t\t"+fG.iq.UQ+"\t\t\t"+fG.iq.fe+"\t\t\t"+fG.iq.a65+"\t\t\t"+fG.iq.ao1+"\t\t\t"+fG.iq.agV+"\t\t\t"+fG.iq.wl+"\t\t\t"+fG.iq.a5f+"\t\t\t"+fG.iq.NP+"\t\t\t"+fG.iq.hash+"\t\t\t"+(A?fG.iq.Xp:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+fG.s.V8[e]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",p="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(e=="diss")a+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else a+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(A?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.tP(a,p)};fG.s.ck.prototype=new fG.y1;fG.s.ck.prototype.sF=function(e,A,a,p,N,i,Z,s){this.qx("srct alpha source target fill style keepBGA blIf".split(" "));
var D=fG.Ae,n=this.L6;D.uniform4fv(n.srct,a);D.uniform1f(n.alpha,p);D.uniform1f(n.fill,N);D.uniform1f(n.style,i);
D.uniform1f(n.keepBGA,Z);if(s)D.uniform4fv(n.blIf,s);this.Uc([n.source,e,n.target,A])};fG.s.cC=function(e,A){fG.y1.call(this);
this.a0K=e;this.Td=A;var a="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+fG.iq.H$+"\t\t\t"+fG.iq.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(e?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(A?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(e?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(A?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",p="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.tP(a,p)};fG.s.cC.prototype=new fG.y1;fG.s.cC.prototype.sF=function(e,A,a,p,N,i,Z,s,D){if(this.Td)this.qx("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.qx("srct awg dissv source target cswitch".split(" "));var n=fG.Ae,S=this.L6;n.uniform4fv(S.srct,p);
if(this.Td){n.uniform4fv(S.wrct,N);n.uniform1f(S.wcolor,i)}else{n.uniform4fv(S.cswitch,D)}n.uniform1f(S.awg,Z);
n.uniform1f(S.dissv,s);var F=[S.source,e,S.target,A];if(this.Td)F.push(S.weight,a);this.Uc(F)};fG.s.DV=function(){fG.y1.call(this);
var e="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",A="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.tP(e,A)};fG.s.DV.prototype=new fG.y1;fG.s.DV.prototype.sF=function(e,A,a,p){this.qx(["rct","prev","next","alpha"]);
var N=fG.Ae,i=this.L6;N.uniform4fv(i.rct,[0,0,1,1]);this.Uc([i.prev,A,i.next,a,i.alpha,p])};fG.E$={RJ:{},Sp:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
fG.E$.Sk=function(e,A){var a=a7.O6,p=[a.om,a.u$,a.Sw,a.BU,a.UC,a.at,a.Wz,a.Ue].indexOf(e.type),N=fG.E$.RJ[e.type];
if(N==null)N=fG.E$.RJ[e.type]=new fG.RJ[p];N.a$();N.sF(A,e);fG.Ae.drawArrays(fG.Ae.TRIANGLES,0,6)};fG.RJ=[];
fG.RJ[0]=function(){fG.y1.call(this);this.Mp={};var e="\t\t\tprecision mediump float;\t\t\t"+fG.iq.UQ+"\t\t\t"+fG.iq.xk+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.tP(e,fG.E$.Sp)};fG.RJ[0].prototype=new fG.y1;fG.RJ[0].prototype.sF=function(e,A){var a={o:A.Ut,J:A.nG,k:A.UM,gg:j.Q(A.Ut.length)},p=a.o.length;
if(this.Mp["m"+p]==null){this.Mp["m"+p]={afP:new fG.js(p,1),Qi:j.Q(p*4)}}var N=this.Mp["m"+p];j.ia(a,N.Qi,0);
var i=N.afP;i.set(N.Qi);this.qx(["source","map","toGray","presLum"]);var Z=fG.Ae,s=this.L6;Z.uniform1f(s.toGray,A.Zu?1:0);
Z.uniform1f(s.presLum,A.wh?1:0);this.Uc([s.source,e,s.map,i.NV])};fG.RJ[1]=function(){fG.y1.call(this);
this.avL=new fG.js(256,1);this.abX=j.Q(256*4);var e="\t\t\t\tprecision mediump float;\t\t\t\t"+fG.iq.LQ+"\t\t\t\t"+fG.iq.fv+"\t\t\t\t"+fG.iq.bl+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.tP(e,fG.E$.Sp)};fG.RJ[1].prototype=new fG.y1;fG.RJ[1].prototype.sF=function(e,A){j.ia({o:A.aqS,J:A.x8,k:A.a2p,gg:j.Q(256)},this.abX);
this.avL.set(this.abX);this.qx(["source","map","cfa","cfb","colorize"]);var a=fG.Ae,p=this.L6;a.uniform1f(p.cfa,A.ap0);
a.uniform1f(p.cfb,A.YJ);a.uniform1i(p.colorize,A.abk);this.Uc([p.source,e,p.map,this.avL.NV])};fG.RJ[2]=function(){fG.y1.call(this);
var e="\t\t\tprecision mediump float;\t\t\t"+fG.iq.LQ+"\t\t\t"+fG.iq.RR+"\t\t\t"+fG.iq.BA+"\t\t\t"+fG.iq.fv+"\t\t\t"+fG.iq.bl+"\t\t\t"+fG.iq.ao_+"\t\t\t"+fG.iq.agF+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.tP(e,fG.E$.Sp)};fG.RJ[2].prototype=new fG.y1;fG.RJ[2].prototype.sF=function(e,A){this.qx(["source","vib","sat","yF"]);
var a=fG.Ae,p=this.L6;a.uniform1f(p.vib,A.hP[0]);a.uniform1f(p.sat,A.hP[1]);a.uniform3fv(p.yF,new Float32Array([A.hP[2],A.hP[3],A.hP[3]]));
this.Uc([p.source,e])};fG.RJ[3]=function(){fG.y1.call(this);var e="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.tP(e,fG.E$.Sp)};fG.RJ[3].prototype=new fG.y1;fG.RJ[3].prototype.sF=function(e,A){this.qx(["source","trf"]);
var a=fG.Ae,p=this.L6;a.uniformMatrix4fv(p.trf,!1,new Float32Array(j.mV.d3(A._T)));this.Uc([p.source,e])};
fG.RJ[4]=function(){fG.y1.call(this);var e="\t\t\tprecision mediump float; \t\t\t"+fG.iq.v_+"\t\t\t"+fG.iq.LQ+"\t\t\t"+fG.iq.bl+"\t\t\t"+fG.iq.fv+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.tP(e,fG.E$.Sp)};fG.RJ[4].prototype=new fG.y1;fG.RJ[4].prototype.sF=function(e,A){this.qx(["source","mnm","mxm","shift","lim"]);
var a=fG.Ae,p=this.L6;a.uniform3fv(p.mnm,new Float32Array(A.z$));a.uniform3fv(p.mxm,new Float32Array(A.el));
a.uniform3fv(p.shift,new Float32Array(A.shift));a.uniform1f(p.lim,A.GR);this.Uc([p.source,e])};fG.RJ[5]=function(){fG.y1.call(this);
var e="\t\t\tprecision mediump float;\t\t\t"+fG.iq.xk+"\t\t\t"+fG.iq.qU+"\t\t\t"+fG.iq.Ke+"\t\t\t"+fG.iq.fv+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.tP(e,fG.E$.Sp)};fG.RJ[5].prototype=new fG.y1;fG.RJ[5].prototype.sF=function(e,A){this.qx(["source","cfs"]);
var a=fG.Ae,p=this.L6;a.uniform3fv(p.cfs,A.ahB);this.Uc([p.source,e])};fG.RJ[6]=function(){fG.y1.call(this);
var e="\t\t\tprecision mediump float;\t\t\t"+fG.iq.LQ+"\t\t\t"+fG.iq.qU+"\t\t\t"+fG.iq.Ke+"\t\t\t"+fG.iq.fv+"\t\t\t"+fG.iq.bl+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.tP(e,fG.E$.Sp)};fG.RJ[6].prototype=new fG.y1;fG.RJ[6].prototype.sF=function(e,A){this.qx(["source","wght","prms"]);
var a=fG.Ae,p=this.L6,N=[A.so,A.aa6,A.UQ,A.auJ,A.rO,A.a0e];a.uniform1fv(p.wght,new Float32Array(A.atx));
a.uniform1fv(p.prms,new Float32Array(N));this.Uc([p.source,e])};fG.RJ[7]=function(){fG.y1.call(this);
this.SG={};var e="\t\t\tprecision mediump float;\t\t\t"+fG.iq.Qy+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.tP(e,fG.E$.Sp)};fG.RJ[7].prototype=new fG.y1;fG.RJ[7].prototype.sF=function(e,A){this.qx(["source","lut","N"]);
var a=fG.Ae,p=this.L6,N=A.lm,i=A.bD;if(this.SG["m"+N]==null)this.SG["m"+N]=new fG.js(N,N*N);var Z=this.SG["m"+N];
Z.set(i);a.uniform1f(p.N,N);this.Uc([p.source,e,p.lut,Z.NV]);a.activeTexture(a.TEXTURE1);var s=a.LINEAR;
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,s);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,s);
a.activeTexture(a.TEXTURE0)};fG.filter={it:{},Sp:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",ara:0,ahi:1,Ji:2,aaz:3,a2u:4,ar6:5,To:6,a0x:7};
fG.filter.Sk=function(e,A){var a=fG.filter,p,N=e.type+":"+(e.KO?e.KO.join(","):""),p=fG.filter.it[N];
if(p==null)p=fG.filter.it[N]=new fG.it[e.type](e.KO);p.a$();p.sF(A,e);fG.Ae.drawArrays(fG.Ae.TRIANGLES,0,6)};
fG.it=[0,0,0,0,0,0,0,0,0,0,0,0];fG.it[7]=function(){fG.y1.call(this);var e="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.tP(av.Nv(e),av.Nv(fG.filter.Sp))};fG.it[7].prototype=new fG.y1;fG.it[7].prototype.sF=function(e,A){this.qx(["source","iwh","kern"]);
var a=fG.Ae,p=this.L6;a.uniform2fv(p.iwh,A.C1);a.uniform1fv(p.kern,A.ayZ);this.Uc([p.source,e])};fG.it[6]=function(e){fG.y1.call(this);
var A=e[0],a=e[1],p=e[2],N="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",i=av.Nv(N);
i=i.replaceAll("PRC",p+".0");i=i.replaceAll("DIR",["x,0","0,x"][a]);this.tP(i,fG.E$.Sp)};fG.it[6].prototype=new fG.y1;
fG.it[6].prototype.sF=function(e,A){this.qx(["source","iwh","rad"]);var a=fG.Ae,p=this.L6;a.uniform2fv(p.iwh,A.C1);
a.uniform1f(p.rad,A.vD);this.Uc([p.source,e])};fG.it[4]=function(e){fG.y1.call(this);var A=e[0],a=e[1],p="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+e[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][a]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][A]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][a]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(a==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.tP(p,fG.E$.Sp)};fG.it[4].prototype=new fG.y1;fG.it[4].prototype.sF=function(e,A){this.qx(["source","iwh","rrad","tr"]);
var a=fG.Ae,p=this.L6;a.uniform2fv(p.iwh,A.C1);a.uniform1f(p.rrad,A.Fk);a.uniform1f(p.tr,A.anp);this.Uc([p.source,e]);
var N=a.LINEAR;N=a.NEAREST;a.activeTexture(a.TEXTURE0);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,N);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,N);a.activeTexture(a.TEXTURE0)};fG.it[5]=function(){fG.y1.call(this);
var e="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.tP(av.Nv(e),av.Nv(fG.filter.Sp))};fG.it[5].prototype=new fG.y1;fG.it[5].prototype.sF=function(e,A){this.qx(["source","ssum","iwh","amnt","edgf"]);
var a=fG.Ae,p=this.L6;a.uniform2fv(p.iwh,A.C1);a.uniform1f(p.amnt,A.a5A);a.uniform1f(p.edgf,A.awr);this.Uc([p.source,e,p.ssum,A.ajG])};
fG.it[3]=function(){fG.y1.call(this);var e="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.tP(av.Nv(e),av.Nv(fG.filter.Sp))};fG.it[3].prototype=new fG.y1;fG.it[3].prototype.sF=function(e,A){this.qx("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var a=fG.Ae,p=this.L6;a.uniform2fv(p.iwh,A.C1);a.uniform1f(p.tdep,A.aer);a.uniform1f(p.rrad,A.Fk);a.uniform2fv(p.spec,A.au4);
a.uniform3fv(p.nois,A.asP);a.uniformMatrix4fv(p.poly0,!1,A.a86);a.uniformMatrix4fv(p.poly1,!1,A.abu);
this.Uc([p.source,e]);var N=a.LINEAR;a.activeTexture(a.TEXTURE0);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,N);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,N);a.activeTexture(a.TEXTURE0)};fG.it[0]=function(){fG.y1.call(this);
var e="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.tP(av.Nv(e),av.Nv(fG.filter.Sp))};fG.it[0].prototype=new fG.y1;fG.it[0].prototype.sF=function(e,A){this.qx(["source","iwh","ld","shine"]);
var a=fG.Ae,p=this.L6;a.uniform2fv(p.iwh,A.C1);a.uniform3fv(p.ld,A.aA2);a.uniform1f(p.shine,A.apn);this.Uc([p.source,e,p.tang,A.GX])};
fG.it[1]=function(){fG.y1.call(this);var e="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.tP(av.Nv(e),av.Nv(fG.filter.Sp))};fG.it[1].prototype=new fG.y1;fG.it[1].prototype.sF=function(e,A){this.qx(["source","iwh","isc","bristle"]);
var a=fG.Ae,p=this.L6;a.uniform2fv(p.iwh,A.C1);a.uniform1f(p.isc,A.au5);a.uniform1f(p.bristle,A.a3K);
this.Uc([p.source,e])};fG.it[2]=function(){fG.y1.call(this);var e="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.tP(av.Nv(e),av.Nv(fG.filter.Sp))};fG.it[2].prototype=new fG.y1;fG.it[2].prototype.sF=function(e,A){this.qx(["source","tang","iwh","sigma","expo"]);
var a=fG.Ae,p=this.L6;a.uniform2fv(p.iwh,A.C1);a.uniform1f(p.sigma,A.ayN);a.uniform1f(p.expo,A.aoX);
this.Uc([p.source,e,p.tang,A.GX]);var N=a.LINEAR;a.activeTexture(a.TEXTURE0);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,N);
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,N);a.activeTexture(a.TEXTURE0)};function j(){}j._={};
j.afp={};j.am8=function(){var e=[64,64,128,256,512,1024,2048],A=[];for(var c=0;c<e.length;c++){var a=e[c],p=document.createElement("canvas");
p.width=a;p.height=a;A.push(p.getContext("2d"))}return A}();j.wv=function(e,A){var a,p=j.am8,c=1,N=Math.max(e,A);
while(c<p.length&&N>p[c].canvas.width)c++;if(c==p.length){a=p[0];var i=a.canvas;i.width=e;i.height=A}else{a=p[c];
a.clearRect(0,0,e,A)}return a};j.sR=function(e,A,a){var p=new Uint32Array(A*a);p[0]=e[0];for(var N=1;
N<A;N++)p[N]=p[N-1]+e[N];for(var i=1;i<a;i++){var c=i*A;p[c]=p[c-A]+e[c];for(var N=1;N<A;N++)p[c+N]=e[c+N]+p[c+N-1]+p[c+N-A]-p[c+N-A-1]}return p};
j.t5=function(e,A,a,p,N,i){var Z=(N-1)*A,s=i*A;return e[s+p]-e[s+a-1]-e[Z+p]+e[Z+a-1]};j.EL=function(e,A,a){var p={},N=0,i=0,Z=new Uint32Array(e.buffer),s=Z.length,D=Date.now();
for(var n=1;n<a-1;n++)for(var S=1;S<A-1;S++){var F=n*A+S,$=Z[F];if($>>>24<230)i++;if(p[$]==null){p[$]=!0;
N++}}if(i!=0||N<20)return!1;return!0};j.c4=function(e,A,a,p,N,i){if(N==null)N=i=0;p=Math.log(p)/Math.log(2);
p=Math.round(p);for(var c=0;c<a;c++)for(var Z=0;Z<A;Z++){var s=c*A+Z<<2,D=j.D3(c+i,Z+N,p);e[s]=e[s+1]=e[s+2]=D;
e[s+3]=255}};j.D3=function(c,e,A){return 255-((c>>>A)+(e>>>A)&1)*51};j.ft=function(e){return{o:e>>>16&255,J:e>>>8&255,k:e&255}};
j.yj=function(e){var A=e.toString(16);while(A.length<6)A="0"+A;return A};j.AZ=function(e){return parseInt(e,16)};
j.UQ=function(e){return.3*e.o+.59*e.J+.11*e.k};j.sj=function(e){return Math.max(e.o,e.J,e.k)-Math.min(e.o,e.J,e.k)};
j.hT=function(e,A,a){return.3*e+.59*A+.11*a};j.a94=function(e,A,a){return Math.max(e,A,a)-Math.min(e,A,a)};
j.qU=function(e,A){var a=A-e,p=Math.abs(a),N=a-1,i=a+1;if(Math.abs(N)<p)a=N;else if(Math.abs(i)<p)a=i;
return a};j.Vq=function(e){return e<.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055};j.TK=function(e){return e<.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};
j.a7u=function(e,A){var a=Math.min(e.length,A.length);for(var c=0;c<a;c+=4){var p=e[c],N=e[c+1],i=e[c+2];
A[c]=16+Math.floor(65.481/255*p+128.553/255*N+24.966/255*i+.5);A[c+1]=128-Math.floor(37.797/255*p-74.203/255*N+112/255*i+.5);
A[c+2]=128+Math.floor(112/255*p-93.786/255*N-18.214/255*i+.5);A[c+3]=e[c+3]}};j.Nm=function(e,A,a){var p,N,i,Z=Math.max(e,A,a),s=Math.min(e,A,a);
i=Z;if(Z!=0)N=(Z-s)/Z;else N=0;if(N==0)p=0;else{var D=Z-s,n=(Z-e)/D,S=(Z-A)/D,F=(Z-a)/D;if(e==Z)p=F-S;
else if(A==Z)p=2+n-F;else p=4+S-n;p*=1/6;if(p<0)p=p+1}return{Ps:p,PV:N,k:i}};j.anX=function(e,A,a){var p=0,N=0,i=0;
if(A==0)p=N=i=a;else{var Z=(e-Math.floor(e))*6,s=Math.floor(Z),D=Z-Math.floor(Z),n=a*(1-A),S=a*(1-A*D),F=a*(1-A*(1-D));
switch(s){case 0:p=a;N=F;i=n;break;case 1:p=S;N=a;i=n;break;case 2:p=n;N=a;i=F;break;case 3:p=n;N=S;
i=a;break;case 4:p=F;N=n;i=a;break;case 5:p=a;N=n;i=S;break}}return{o:p,J:N,k:i}};j.fv=function(e,A,a){var p=Math.max(e,A,a),N=Math.min(e,A,a),i=0,Z=0,s=(p+N)*.5;
if(p!=N){var D=p-N;Z=s>.5?D/(2-(p+N)):D/(p+N);switch(p){case e:i=(A-a)/D+(A<a?6:0);break;case A:i=(a-e)/D+2;
break;case a:i=(e-A)/D+4;break}i*=1/6}return{Ps:i,PV:Z,T3:s}};j.bl=function(e,A,a){var p,N,i;if(A==0)p=N=i=a;
else{var Z=a<.5?a*(1+A):a+A-a*A,s=2*a-Z;p=j.LQ(s,Z,e+1/3);N=j.LQ(s,Z,e);i=j.LQ(s,Z,e-1/3)}return{o:p,J:N,k:i}};
j.LQ=function(e,A,a){if(a<0)a+=1;if(a>1)a-=1;if(a<1/6)return e+(A-e)*6*a;if(a<1/2)return A;if(a<2/3)return e+(A-e)*(2/3-a)*6;
return e};j.RR=function(e,A,a){var p=Math.max(e,A,a),N=Math.min(e,A,a),i,Z,s=p,D=p-N;Z=p==0?0:D/p;if(p==N)i=0;
else{switch(p){case e:i=(A-a)/D+(A<a?6:0);break;case A:i=(a-e)/D+2;break;case a:i=(e-A)/D+4;break}i*=1/6}return{Ps:i,PV:Z,HG:s}};
j.BA=function(e,A,a){var p,N,i,c,Z,s,D,n;c=Math.floor(e*6);Z=e*6-c;s=a*(1-A);D=a*(1-Z*A);n=a*(1-(1-Z)*A);
switch(c%6){case 0:p=a,N=n,i=s;break;case 1:p=D,N=a,i=s;break;case 2:p=s,N=a,i=n;break;case 3:p=s,N=D,i=a;
break;case 4:p=n,N=s,i=a;break;case 5:p=a,N=s,i=D;break}return{o:p,J:N,k:i}};j.Qq=function(){var e=[],A=[];
for(var c=0;c<8e3;c++){var a=c*(1/4e3);e[c]=j.TK(a);A[c]=a>.008856?Math.pow(a,1/3):(903.3*a+16)*(1/116)}return[e,A]}();
j.v_=function(e,A,a,p){if(p==null)p=[.9642,1,.8249];var N=j.Qq[0],i=j.Qq[1];e=N[~~(.5+e*(4e3/255))];
A=N[~~(.5+A*(4e3/255))];a=N[~~(.5+a*(4e3/255))];var Z=j.mV.Lm,s=Z[0]*e+Z[1]*A+Z[2]*a,D=Z[4]*e+Z[5]*A+Z[6]*a,n=Z[8]*e+Z[9]*A+Z[10]*a;
s=s*(1/p[0]);D=D*(1/p[1]);n=n*(1/p[2]);return j.rD(s,D,n)};j.rD=function(e,A,a){var p=j.Qq[1],N=p[~~(.5+e*4e3)],i=p[~~(.5+A*4e3)],Z=p[~~(.5+a*4e3)];
return{SA:116*i-16,gg:500*(N-i),k:200*(i-Z)}};j.j5=function(e,A,a){var p=903.3,N=.008856,i=(e+16)/116,Z=i*i*i,s=i-a/200,D=s*s*s,n=A/500+i,S=n*n*n,F=D>N?D:(116*s-16)/p,$=Z>N?Z:(116*i-16)/p,m=S>N?S:(116*n-16)/p,J=m*96.42,w=$*100,f=F*82.49,b=j.mV._f(j.mV.cy,[J/100,w/100,f/100,0]);
for(var c=0;c<4;c++)b[c]=Math.max(0,Math.min(255,j.Vq(b[c])*255));return{o:b[0],J:b[1],k:b[2]}};j.W2=function(e,A,a,p,N){var i=e.SA,Z=e.gg,s=e.k,D=(i<A.SA?A.SA-i:a.SA<i?a.SA-i:0)*(1/100),n=(Z<A.gg?A.gg-Z:a.gg<Z?a.gg-Z:0)*(1/116),S=(s<A.k?A.k-s:a.k<s?a.k-s:0)*(1/116),F=Math.sqrt(D*D+n*n+S*S)*1.35;
return F<=p?Math.min(1,1.17*(1-F*N)):0};j.k4=function(e){var A=[.9956,.9956,.9954,.7753,.782,.7895,.5749,.5829,.5932,.3854,.3898,.3989,.1366,.122,.1252,1,.9792,.7954,.7871,.7722,.636,.5822,.5744,.4751,.3875,.3822,.3126,.1261,.1144,.0693,1,.9652,.5979,.7928,.7604,.4791,.5851,.565,.3546,.3884,.3755,.2237,.1179,.1086,0,1,.9532,.3722,.7961,.7499,.3022,.587,.5571,.2159,.3882,.3695,.1154,.1051,.1046,0,1,.9445,0,.7976,.7421,0,.5869,.5508,0,.3881,.3653,0,.0938,.1022,0,.9733,.794,.8719,.7619,.6264,.6945,.5681,.4653,.5213,.3827,.3038,.3461,.1374,.0531,.0828,.9815,.7819,.7026,.7691,.6199,.5631,.5715,.4594,.4188,.3824,.2985,.2698,.1305,.0491,.0182,.9877,.7722,.5366,.7722,.6103,.4274,.5721,.4519,.3125,.3819,.2937,.1895,.1209,.0467,0,.9919,.7632,.3502,.7745,.6025,.2763,.573,.4458,.1912,.3812,.2897,.089,.1101,.0454,0,.9943,.7569,.0534,.7758,.597,.0442,.5729,.4412,0,.3807,.2868,0,.1027,.0446,0,.9528,.6013,.7552,.7481,.4721,.6014,.5602,.3459,.4503,.3792,.2136,.2944,.1381,0,.0324,.9584,.5928,.6121,.753,.469,.4892,.562,.3431,.3615,.3781,.2114,.2264,.1303,0,3e-4,.9624,.5875,.4732,.7544,.4629,.3742,.5607,.3386,.2697,.3761,.2091,.1541,.121,0,1e-4,.9649,.5814,.3186,.7556,.4584,.2473,.5608,.3347,.1646,.375,.2073,.0588,.1137,0,0,.9662,.5767,.1149,.7561,.4549,.0779,.5604,.3319,9e-4,.3744,.2058,0,.1088,0,0,.9362,.4032,.649,.7366,.3099,.5161,.5534,.2148,.384,.3759,.1032,.2452,.12,0,.0041,.94,.4001,.5282,.7398,.3111,.4202,.5532,.2166,.3069,.3735,.1073,.1841,.1139,0,.0036,.9427,.3993,.4122,.7401,.3097,.3231,.5517,.2165,.2275,.3715,.11,.1174,.1092,0,.0034,.9441,.3974,.285,.7405,.3093,.2178,.5511,.2167,.1376,.3693,.1129,.0302,.1056,0,.0032,.9445,.3951,.1314,.7406,.3095,.0917,.5505,.2176,.0086,.3681,.1148,0,.1033,0,.0031,.9221,0,.546,.7269,0,.4335,.5475,0,.3187,.3729,0,.1953,.084,0,.0023,.9248,.0373,.447,.7285,0,.3522,.5456,0,.2522,.3695,0,.1398,.0852,0,.0023,.9264,.079,.3534,.7279,.0224,.2733,.5434,0,.1856,.3669,0,.0812,.0861,0,.0024,.927,.0991,.2521,.7281,.0569,.1899,.5431,0,.1113,.3652,0,.0077,.0867,0,.0024,.9265,.1117,.1412,.7282,.0765,.0995,.5432,.0101,.0172,.3639,0,0,.0872,0,.0024,.7225,.8956,.9779,.571,.7098,.7784,.4213,.53,.5853,.2723,.3526,.3946,.0485,.1007,.1307,.7486,.8824,.7882,.5895,.7001,.6314,.4335,.5225,.4726,.2784,.3469,.3123,.0341,.0972,.0776,.7658,.8703,.6053,.5995,.6889,.4838,.4392,.5138,.3592,.2814,.3411,.2289,.0234,.0944,.0085,.78,.8609,.41,.6082,.6803,.3248,.4436,.5065,.2342,.283,.336,.133,.0037,.0928,0,.7915,.8551,.1645,.6149,.6746,.1258,.4458,.5011,.0697,.2837,.3321,0,0,.092,0,.7312,.7169,.8575,.5814,.5728,.6863,.4323,.4259,.5164,.2834,.2756,.3448,.0654,.024,.0921,.7519,.7108,.6983,.5949,.5673,.5599,.4394,.421,.4172,.2859,.2722,.2708,.0568,.0261,.0319,.7627,.7026,.5428,.6002,.559,.4317,.4419,.4147,.317,.2867,.2683,.195,.0425,.0282,0,.7723,.6957,.3769,.6056,.5525,.2948,.4442,.4093,.2077,.2871,.2651,.1067,.0215,.0303,0,.7806,.6916,.1821,.6099,.5478,.1312,.445,.4052,.0684,.2867,.2625,0,.0082,.0316,0,.736,.5475,.7455,.5857,.4365,.5975,.4376,.3188,.4485,.2894,.1926,.2954,.0569,0,.0469,.7508,.5451,.6108,.5946,.4336,.4887,.4418,.3166,.362,.2901,.1921,.2292,.0463,0,.0011,.7574,.5412,.4799,.5972,.4291,.3794,.4421,.3139,.2753,.2894,.1914,.1611,.0316,0,7e-4,.7636,.5369,.3403,.6008,.4253,.263,.4428,.3106,.1798,.2887,.1903,.0779,.0216,0,5e-4,.7692,.534,.1853,.6035,.4221,.1295,.443,.3081,.0601,.2877,.1889,0,.0152,0,3e-4,.7373,.3763,.6456,.587,.2924,.5158,.4401,.2001,.3846,.2928,.0875,.248,.0165,0,.0011,.7487,.3774,.5308,.5933,.2944,.4233,.4419,.2035,.3105,.292,.0949,.1894,.0078,0,2e-4,.7524,.3782,.4212,.594,.2943,.3305,.441,.2049,.2351,.2905,.0994,.1269,.0013,0,0,.7561,.3774,.3054,.5957,.2939,.2322,.4406,.2052,.1523,.2885,.1035,.0522,4e-4,0,0,.76,.376,.1816,.5977,.2936,.1243,.4399,.2057,.0498,.2863,.1051,0,2e-4,0,0,.7372,.1034,.551,.5874,.0185,.4371,.4413,0,.3224,.2947,0,.201,0,0,0,.7462,.119,.4545,.5913,.0567,.3601,.4411,0,.2599,.2928,0,.149,0,0,0,.7476,.1388,.3655,.5903,.081,.2833,.439,0,.196,.2902,0,.0936,0,0,0,.7499,.1482,.2718,.5912,.0964,.2026,.438,.0193,.1252,.288,0,.0208,0,0,0,.7526,.152,.1763,.5923,.106,.118,.4373,.0341,.0407,.2849,0,0,0,0,0,.4271,.8095,.9608,.3403,.6444,.7657,.2412,.4824,.5773,.1302,.3201,.3909,0,.0832,.1344,.4775,.7983,.7804,.376,.6367,.6256,.266,.4765,.4696,.1467,.3159,.3119,0,.0832,.0832,.5072,.7874,.61,.3956,.6266,.4874,.2794,.4691,.3629,.1561,.3113,.2331,0,.0815,.0173,.531,.7793,.4345,.4122,.6193,.3438,.2899,.4627,.2496,.1627,.3073,.1463,0,.0796,0,.5496,.7747,.2459,.4244,.6147,.1896,.2963,.4584,.1246,.1666,.3043,.0295,0,.0782,0,.4896,.6531,.8455,.3917,.524,.6776,.2849,.3893,.5109,.1706,.2491,.3424,0,.0062,.0979,.5218,.6487,.6934,.4134,.5194,.5559,.2985,.3857,.4154,.1781,.2475,.2712,0,.0082,.0413,.5395,.6417,.5472,.4242,.5122,.435,.3053,.3807,.3208,.182,.2448,.1995,0,.0063,0,.5549,.6359,.3963,.4341,.5068,.3102,.3109,.3763,.2209,.1849,.2427,.1194,0,.0048,0,.5676,.6326,.2389,.4416,.5031,.1779,.3142,.373,.111,.1858,.2406,.0137,0,.0039,0,.5288,.5048,.7395,.4223,.4036,.5936,.3112,.2932,.4464,.194,.1723,.2955,0,.0013,.0537,.5487,.5039,.6103,.4355,.4015,.4884,.3185,.2924,.3629,.1971,.1738,.2316,0,0,0,.5585,.5009,.4864,.4409,.3981,.3847,.3215,.2912,.2809,.1983,.175,.1675,0,0,0,.5683,.4974,.3581,.4472,.3952,.2773,.3237,.2886,.1929,.1985,.1748,.0922,0,0,0,.5766,.495,.2276,.452,.3926,.1646,.3252,.2868,.096,.1979,.174,0,0,0,0,.5526,.357,.6462,.4414,.2769,.5172,.3273,.187,.3867,.2083,.0725,.2515,0,1e-4,.005,.5662,.3586,.535,.4497,.2794,.427,.3308,.1917,.3145,.2087,.0831,.1946,0,0,0,.571,.3597,.4301,.4513,.2799,.3379,.3308,.1939,.2425,.2076,.0893,.1352,0,0,0,.5765,.3593,.3223,.4545,.2797,.2459,.3311,.1945,.1654,.2062,.0944,.068,0,0,0,.582,.3583,.2145,.458,.2797,.151,.3314,.1954,.0803,.2039,.0965,0,0,0,0,.5685,.1511,.5592,.4543,.0767,.4446,.3382,0,.3293,.2147,0,.2076,0,0,0,.5777,.1587,.464,.4588,.0959,.3679,.3388,.0048,.2673,.2134,0,.1566,0,0,0,.579,.1719,.3773,.4578,.111,.2931,.3368,.0292,.2054,.2108,0,.1027,0,0,0,.5819,.1786,.2881,.4594,.1215,.2157,.3361,.0464,.1381,.2085,0,.035,0,0,0,.5855,.1817,.2015,.4613,.1282,.1378,.3358,.0572,.0647,.2046,0,0,0,0,0,0,.7368,.9457,0,.5885,.7547,0,.4416,.5705,0,.2922,.3876,0,.0637,.1371,0,.7271,.7732,0,.5822,.62,0,.4368,.4665,0,.2893,.3113,0,.0575,.0877,.0293,.7172,.6118,0,.5735,.4893,0,.4308,.3654,0,.2859,.2362,0,.0527,.0254,.1667,.7094,.4492,.1105,.5675,.3578,0,.4259,.2615,0,.2833,.1562,0,.0495,0,.2211,.7051,.2881,.1542,.5639,.2285,.048,.4231,.1574,0,.2814,.0642,0,.0479,0,.1089,.6003,.8361,.0907,.4814,.6702,.0189,.3569,.506,0,.2257,.3404,0,.0031,.1007,.2145,.596,.6892,.165,.478,.5528,.0875,.3549,.4141,0,.2259,.2718,0,.0011,.0458,.2608,.5897,.5497,.1974,.4719,.4379,.1153,.3511,.3242,0,.2243,.2033,0,0,0,.2941,.5846,.4094,.2219,.4675,.3224,.1344,.3476,.2318,.0094,.2233,.1295,0,0,0,.3178,.5818,.2725,.2385,.4645,.2083,.1459,.3452,.1382,.0182,.222,.0431,0,0,0,.2849,.4701,.7351,.2249,.3739,.5897,.1519,.2696,.4439,.0559,.1531,.2948,0,.0015,.0592,.3179,.4692,.6097,.2491,.373,.4877,.168,.2703,.3631,.0671,.1566,.233,0,0,2e-4,.3371,.4664,.4904,.2614,.37,.3884,.1766,.2698,.2847,.0733,.1587,.1716,0,0,0,.3538,.4634,.3698,.2734,.3679,.2879,.1834,.268,.2025,.0782,.1594,.102,0,0,0,.3665,.4614,.2537,.2822,.366,.1885,.1883,.2667,.1185,.0802,.1591,.0183,0,0,0,.3552,.3407,.6468,.2814,.2628,.5183,.2001,.1749,.3882,.1031,.062,.2533,0,3e-4,.0134,.372,.3429,.5387,.2932,.2657,.4297,.2062,.1802,.3173,.106,.0746,.1978,0,0,0,.3806,.3439,.4368,.2976,.2663,.3437,.2082,.1829,.2479,.1073,.0816,.1406,0,0,0,.3886,.3435,.3339,.3031,.2664,.2565,.2104,.184,.1754,.1086,.0873,.0786,0,0,0,.396,.3429,.2346,.3091,.2666,.1701,.2126,.1855,.1007,.1086,.0897,.0056,0,0,0,.3978,.1741,.5653,.3167,.1078,.4527,.2294,.006,.3373,.1238,0,.2143,0,0,0,.4068,.1821,.4725,.3221,.1191,.3752,.2306,.0312,.2741,.1272,0,.1636,0,0,0,.4089,.192,.387,.3214,.1294,.3018,.2287,.0514,.2136,.1274,0,.1108,0,0,0,.4121,.1971,.2993,.3239,.1361,.2264,.2287,.0629,.1491,.1264,0,.0499,0,0,0,.416,.2,.2154,.3268,.1401,.1521,.2295,.0705,.0818,.1225,0,.0054,0,0,0,0,.678,.9338,0,.5431,.7462,0,.4082,.5651,0,.2692,.3849,0,.0212,.1397,0,.6694,.7677,0,.5376,.6154,0,.4042,.4639,0,.2673,.3107,0,.0199,.0913,0,.66,.6122,0,.5301,.4905,0,.3996,.3672,0,.2652,.2384,0,.0189,.0316,0,.652,.4583,0,.5254,.368,0,.3963,.2705,0,.264,.1635,0,.0188,0,0,.6472,.3143,0,.5227,.2546,0,.395,.1795,0,.2633,.0845,0,.0193,0,0,.5591,.8297,0,.4461,.6643,0,.3299,.502,0,.2062,.3385,0,.0032,.1024,0,.5534,.686,0,.4436,.5501,0,.3289,.4127,0,.2074,.272,0,.0012,.0482,0,.5472,.5511,0,.4382,.4399,0,.3261,.3266,0,.2067,.2061,0,0,0,0,.5425,.4181,0,.4347,.3313,0,.3234,.2399,0,.206,.1369,0,0,0,0,.5399,.2941,0,.4324,.2287,0,.3218,.1565,0,.2049,.0625,0,0,0,0,.4439,.733,0,.3496,.5873,0,.25,.4423,0,.1369,.2945,0,.0016,.0628,0,.4411,.6097,0,.3493,.4877,0,.2516,.3635,0,.1404,.2343,0,0,.0023,0,.4381,.4935,0,.3466,.3917,0,.2516,.2881,0,.1427,.1753,0,0,0,0,.4354,.3781,0,.345,.2962,0,.2503,.2102,0,.1441,.1098,0,0,0,0,.4338,.2711,0,.3436,.2051,0,.2495,.1342,0,.1445,.037,0,0,0,0,.329,.6482,0,.252,.52,0,.1654,.3901,0,.0534,.2551,0,5e-4,.0192,.0138,.3301,.5419,.0039,.2544,.4323,0,.1705,.3197,0,.0661,.2002,0,0,0,.0783,.3307,.4416,.0404,.2547,.3482,0,.173,.2521,0,.0737,.1446,0,0,0,.1116,.3303,.3412,.0706,.2546,.264,0,.1741,.1825,0,.079,.0854,0,0,0,.1327,.3301,.2469,.0914,.2547,.1832,.0057,.1755,.1135,0,.0784,.015,0,0,0,.1815,.1895,.5709,.1383,.1275,.4596,.0795,.0318,.3435,0,0,.2181,0,0,0,.1962,.1967,.4793,.1496,.1334,.3808,.0833,.05,.2787,0,0,.1661,0,0,0,.2029,.2039,.3936,.1519,.1402,.3076,.0827,.0642,.2186,0,0,.1136,0,0,0,.2078,.2084,.306,.1573,.1445,.2334,.086,.0724,.1556,.003,.0012,.055,0,0,0,.2125,.2113,.223,.1628,.1468,.1616,.0917,.0769,.0917,.009,.0033,.0083,0,0,0],a=Math.round(Math.pow(A.length/3,1/4)),p=[0,0,0,0];
ICC.U.applyLUT4Float(A,a,e,p);return p};j.asW=function(e){var A=[.749,.6784,.6706,.902,.8413,.7807,.5857,.7788,.9743,.9154,.3677,.6283,1,.9841,.2521,.443,1,.9847,.1976,.27,1,.975,.1282,.1337,1,.9637,.0411,.0428,1,.9165,0,.0032,.9395,.8528,0,0,.9105,.7991,0,0,.7599,.552,.7696,.789,.8485,.6228,.6576,.7675,1,.842,.4653,.5761,1,.9389,.3447,.3743,1,.9546,.2577,.2156,1,.9601,.1576,.0954,1,.9601,.0357,.0193,.9879,.9022,0,9e-4,.932,.8336,0,0,.9012,.7864,0,0,.805,.4894,.9278,.6186,.8728,.4726,.9073,.6172,.9147,.5608,.6358,.5491,1,.7567,.4347,.3587,1,.8577,.3079,.1781,1,.8891,.1915,.0504,1,.8925,.0326,.0038,.9683,.841,0,0,.9114,.7927,0,0,.8789,.7515,0,0,.8424,.4034,1,.4124,.8827,.3977,1,.4091,.9032,.4007,.8385,.4013,.9123,.4843,.5898,.339,.9516,.6175,.3867,.2021,.9849,.7235,.2209,.0608,.9818,.7644,.0434,.0018,.9285,.741,0,0,.8782,.712,0,0,.8539,.6876,0,0,.8756,.3098,1,.2322,.8775,.3122,1,.2323,.8913,.3197,.9989,.2249,.889,.3309,.7571,.2136,.8868,.3864,.5323,.1686,.8967,.471,.3416,.0855,.9032,.5434,.1579,.0123,.878,.5672,0,0,.8385,.5812,0,0,.812,.5885,0,0,.8502,.217,1,.0915,.8503,.2193,1,.0904,.8605,.2204,1,.0816,.8568,.225,.8587,.0808,.8448,.2421,.6714,.0732,.8374,.2777,.4686,.0486,.8344,.3291,.2788,.0137,.8184,.3632,.0943,7e-4,.7881,.388,0,0,.7592,.4392,0,0,.8132,.0895,1,.0102,.8134,.0907,1,.0101,.8144,.0938,1,.0085,.8166,.0958,.9103,.0063,.8021,.1066,.7459,.0078,.7898,.1222,.5781,.0046,.7796,.1444,.3947,.0016,.7626,.1735,.2164,0,.7342,.1972,.0383,0,.6884,.2408,0,0,.7532,0,1,0,.749,0,1,0,.7484,0,1,0,.7427,0,.9015,0,.733,0,.7722,0,.7285,0,.6341,0,.724,0,.4726,0,.7068,0,.3102,0,.6877,.0167,.1424,0,.6493,.0413,0,0,.6847,0,1,0,.6808,0,1,0,.6732,0,1,0,.6718,0,.8971,0,.6666,0,.7786,0,.6547,0,.654,0,.641,0,.511,0,.6301,0,.3732,0,.6138,0,.2318,0,.581,0,.0867,0,.6187,0,1,0,.6193,0,1,0,.6162,0,1,0,.6007,0,.9316,0,.5922,0,.7975,0,.5791,0,.6774,0,.5681,0,.5466,0,.5532,0,.4101,0,.5336,0,.2795,0,.5123,0,.1487,0,.6087,.7256,.6558,.8508,.7488,.7971,.5809,.7731,.8912,.9472,.3678,.6053,.9921,1,.2518,.4063,1,1,.1981,.2413,1,1,.1227,.1117,1,.9861,.0232,.025,.9851,.9182,0,.0012,.9143,.8549,0,0,.897,.7991,0,0,.6642,.5963,.7836,.778,.723,.6642,.6485,.7627,.8995,.8599,.4693,.5645,1,1,.3571,.3191,1,1,.2559,.1757,1,.9873,.1346,.0642,1,.9812,.009,.0075,.9627,.8988,0,1e-4,.9127,.8359,0,0,.8883,.7853,0,0,.7564,.504,.9343,.6127,.7956,.4911,.8932,.6161,.8388,.581,.6217,.5473,.9429,.7604,.4287,.3566,1,.8783,.2925,.1608,1,.9216,.1633,.0297,1,.9158,0,6e-4,.9365,.8435,0,0,.8922,.7971,0,0,.8699,.7502,0,0,.8121,.4123,1,.4107,.8406,.4044,1,.4093,.8524,.4134,.8287,.4012,.8718,.4935,.5825,.3369,.9173,.6243,.3823,.1991,.9528,.7278,.2163,.0588,.9572,.7668,.0363,.001,.9059,.7449,0,0,.8676,.7128,0,0,.8391,.6911,0,0,.849,.3168,1,.233,.8523,.3193,1,.2323,.8635,.3245,.9866,.2264,.8536,.3418,.7488,.2167,.8557,.3954,.5289,.1694,.8726,.4779,.3352,.0833,.8788,.546,.1527,.0116,.8602,.5681,0,0,.8227,.5855,0,0,.8024,.5895,0,0,.8351,.2194,1,.0917,.8363,.2207,1,.0898,.8397,.2242,1,.0837,.8366,.2325,.8527,.083,.8259,.2485,.667,.0744,.8209,.2833,.4646,.0489,.815,.333,.2763,.0139,.7997,.3685,.0902,3e-4,.7724,.3932,0,0,.7446,.441,0,0,.7961,.0959,1,.0109,.7954,.0992,1,.0107,.8023,.0973,1,.0086,.7985,.1045,.9054,.0071,.7905,.1085,.7443,.0078,.778,.1256,.5723,.0048,.7654,.1475,.39,.0021,.7467,.1798,.2119,0,.7229,.2012,.0359,0,.6745,.2425,0,0,.7429,0,1,0,.7436,0,1,0,.7367,0,1,0,.7319,0,.9005,0,.7233,0,.7686,0,.7139,0,.6325,0,.7111,0,.4704,0,.6945,.0025,.308,0,.6726,.0212,.138,0,.6387,.0453,0,0,.6714,0,1,0,.6687,0,1,0,.6685,0,1,0,.6575,0,.8922,0,.6536,0,.7756,0,.6418,0,.6508,0,.6323,0,.509,0,.6188,0,.3695,0,.6021,0,.228,0,.5729,0,.0823,0,.6151,0,1,0,.6127,0,1,0,.6027,0,1,0,.5975,0,.932,0,.5855,0,.7966,0,.5747,0,.6768,0,.5622,0,.5457,0,.5432,0,.4053,0,.5264,0,.2766,0,.506,0,.1468,0,.5236,.8098,.7113,.7578,.5807,.8385,.5899,.723,.7287,.9813,.3955,.5643,.8563,1,.2722,.3767,.9135,1,.2027,.2129,.9366,1,.1087,.0833,.9431,1,.0012,.0101,.9083,.9248,0,0,.8762,.8521,0,0,.8566,.8037,0,0,.5233,.7082,.8317,.727,.5247,.7528,.6746,.7138,.7127,.8749,.4697,.5528,.8909,1,.3471,.3125,.9446,1,.24,.1426,.9599,1,.1084,.0359,.9467,.9998,0,.0025,.9056,.9001,0,0,.8711,.838,0,0,.8572,.7854,0,0,.6359,.548,.9563,.5917,.6337,.5523,.8828,.5966,.6892,.6225,.6122,.5317,.8186,.7781,.4193,.3494,.9121,.8888,.2816,.1584,.9602,.9439,.1126,.0204,.9361,.9256,0,0,.8882,.8447,0,0,.856,.7966,0,0,.8377,.753,0,0,.7277,.4351,1,.4042,.7407,.432,1,.4068,.7442,.4393,.8038,.4006,.7786,.5193,.5652,.3295,.8387,.6407,.3748,.1926,.8874,.7349,.2097,.0529,.8924,.7709,.032,.0018,.858,.7467,0,0,.8272,.7233,0,0,.8136,.6967,0,0,.7826,.3341,1,.2338,.7853,.3333,1,.2331,.7881,.3391,.968,.2315,.7838,.3564,.733,.2177,.797,.411,.5152,.1661,.8158,.4923,.3265,.0793,.8324,.5584,.1443,.0087,.8121,.5816,0,0,.7878,.5973,0,0,.777,.6019,0,0,.786,.2337,1,.0947,.7866,.2356,1,.0935,.794,.2365,1,.0892,.7882,.2408,.84,.0867,.7786,.2591,.6529,.0764,.7781,.2939,.4538,.05,.7714,.3458,.2706,.0135,.761,.3799,.0813,0,.7349,.4007,0,0,.7114,.448,0,0,.7632,.1079,1,.0116,.7628,.109,1,.0113,.7635,.111,1,.0099,.7659,.1113,.9006,.0078,.7539,.1229,.7356,.0084,.7432,.1339,.5638,.0056,.7288,.1625,.3809,.0026,.7135,.1888,.1994,0,.6876,.2145,.0287,0,.6434,.2513,0,0,.7136,0,1,0,.7159,0,1,0,.7118,0,1,0,.7055,0,.8971,0,.7011,0,.7648,0,.6892,0,.6268,0,.6846,0,.4642,0,.6698,.0126,.3029,0,.6423,.0335,.1307,0,.6089,.0591,0,0,.6482,0,1,0,.6436,0,1,0,.6439,0,.9976,0,.6368,0,.8876,0,.6335,0,.768,0,.6221,0,.6462,0,.6134,0,.5064,0,.5985,0,.3643,0,.5797,0,.2207,0,.5536,0,.074,0,.5946,0,1,0,.591,0,1,0,.5835,0,1,0,.5768,0,.9227,0,.5633,0,.7881,0,.5505,0,.6711,0,.5446,0,.5428,0,.5278,0,.4021,0,.5115,0,.2734,0,.4929,0,.1453,0,.3928,.9309,.8564,.6237,.4085,.9414,.6804,.6099,.5314,1,.4506,.505,.7062,1,.3091,.3328,.7981,1,.2189,.1772,.8415,1,.109,.0581,.8557,1,0,.0038,.8363,.9173,0,0,.8185,.8532,0,0,.8136,.8032,0,0,.3926,.8335,.9373,.6099,.3914,.86,.7587,.5969,.5208,.9052,.5042,.5014,.7095,.9938,.3603,.3041,.8163,1,.2391,.1297,.8533,1,.1035,.0267,.8464,.9973,0,.001,.8253,.899,0,0,.8145,.8364,0,0,.7999,.7938,0,0,.4805,.6401,1,.5316,.4643,.6578,.8868,.5349,.5124,.6937,.6226,.4883,.6608,.8025,.423,.3315,.7802,.8952,.2804,.147,.8409,.9398,.1161,.0171,.8327,.9166,0,0,.8123,.8496,0,0,.7991,.7982,0,0,.7923,.7593,0,0,.5991,.4869,1,.3854,.593,.4845,1,.3895,.5952,.4942,.7873,.3831,.6365,.562,.5515,.3126,.7242,.6716,.3636,.1788,.7841,.7475,.2033,.0483,.802,.776,.0202,7e-4,.7817,.756,0,0,.7737,.7264,0,0,.7679,.7035,0,0,.6792,.3636,1,.2325,.6802,.3638,1,.2323,.6747,.3671,.9278,.2351,.6742,.3856,.7107,.2174,.6972,.4382,.4946,.1601,.7298,.5132,.3124,.0724,.7516,.5748,.1318,.0064,.7416,.5918,0,0,.7332,.6099,0,0,.7343,.6136,0,0,.7114,.254,1,.0967,.7102,.2555,1,.0967,.7129,.2556,1,.0952,.7059,.2657,.8221,.0947,.7005,.2769,.6384,.0808,.7012,.3167,.4363,.0488,.7045,.3648,.2536,.0117,.6969,.3958,.0646,0,.6721,.4156,0,0,.6617,.454,0,0,.7086,.127,1,.0117,.7087,.1273,1,.0114,.7087,.1276,1,.0103,.7055,.1308,.8869,.0097,.6932,.1399,.7262,.0104,.6792,.1579,.548,.0074,.6742,.1807,.3657,.0017,.6585,.2084,.185,0,.6306,.2333,.0138,0,.5969,.2617,0,0,.6731,0,1,0,.6724,0,1,0,.6689,0,1,0,.6592,0,.8912,0,.6558,0,.7581,0,.6428,0,.6147,0,.6351,.0126,.4524,0,.6185,.0313,.2871,0,.5976,.0491,.1142,0,.5614,.0772,0,0,.6144,0,1,0,.6123,0,1,0,.603,0,.9827,0,.6011,0,.8682,0,.5946,0,.7618,0,.5834,0,.6393,0,.5668,0,.4938,0,.5603,0,.3559,0,.5419,0,.2119,0,.5129,0,.0629,0,.5582,0,1,0,.5549,0,1,0,.5497,0,1,0,.5426,0,.9012,0,.5346,0,.7836,0,.5246,0,.6637,0,.5101,0,.5294,0,.4908,0,.3919,0,.4747,0,.2644,0,.4595,0,.1342,0,.3137,1,1,.4733,.3189,1,.8233,.4638,.3868,1,.5467,.4106,.5429,1,.3574,.2797,.6666,1,.2407,.1393,.7286,1,.1057,.0307,.735,1,0,.0015,.7372,.9194,0,0,.7426,.8544,0,0,.7462,.8049,0,0,.3259,.9135,1,.4628,.3262,.9346,.8592,.4543,.3838,.9454,.588,.408,.5321,.9864,.3862,.2741,.6699,1,.2458,.1083,.7251,1,.0927,.0184,.7305,.9822,0,2e-4,.7309,.9012,0,0,.73,.8418,0,0,.7427,.7935,0,0,.3618,.7477,1,.4296,.3585,.7638,.9306,.4271,.388,.7798,.6696,.3984,.507,.8347,.442,.2873,.6342,.9005,.2877,.13,.7062,.9333,.1114,.0152,.7116,.9203,0,0,.7164,.85,0,0,.7268,.8,0,0,.7276,.7647,0,0,.4519,.5652,1,.3416,.4423,.5685,1,.3457,.4419,.582,.7818,.3366,.4928,.6298,.5572,.278,.5858,.7058,.3645,.1569,.6651,.7635,.1975,.0351,.6776,.7853,.0126,2e-4,.6885,.7637,0,0,.7031,.732,0,0,.7073,.7104,0,0,.5498,.4075,1,.2182,.5445,.4134,1,.2215,.5337,.4154,.9026,.2247,.5398,.4345,.6939,.2036,.5641,.4827,.4766,.1415,.6157,.5483,.2963,.0582,.6454,.5965,.1152,.0034,.6384,.6125,0,0,.6636,.6193,0,0,.6733,.6215,0,0,.6082,.2853,1,.0985,.6052,.2872,1,.099,.6033,.2876,.9985,.1003,.5881,.2934,.8012,.099,.5865,.3116,.6141,.079,.5981,.3473,.4135,.0422,.6092,.3881,.2359,.0082,.5998,.4165,.0474,0,.5852,.4314,0,0,.5864,.4558,0,0,.6267,.153,1,.0146,.6269,.1536,1,.0148,.6212,.1591,1,.0156,.6168,.1609,.8668,.015,.6037,.1683,.7062,.0124,.5948,.1835,.5296,.0088,.5846,.2129,.3441,.0028,.5714,.2348,.1614,0,.5475,.2539,0,0,.5249,.276,0,0,.607,.0028,1,0,.604,.003,1,0,.6012,.003,1,0,.5967,.0088,.8855,0,.5851,.0145,.7469,0,.5778,.0211,.6015,0,.5622,.0363,.4349,0,.555,.0528,.2686,0,.5246,.0748,.0949,0,.4898,.1075,0,0,.557,0,1,0,.554,0,1,0,.5556,0,.9704,0,.5461,0,.854,0,.5335,0,.748,0,.5282,0,.6233,0,.5141,0,.482,0,.5043,0,.3432,0,.4837,0,.1895,0,.4646,0,.0428,0,.5095,0,1,0,.507,0,1,0,.5047,0,.9931,0,.4953,0,.8844,0,.4804,0,.7672,0,.4725,0,.6466,0,.466,0,.5123,0,.4425,0,.3809,0,.4341,0,.2525,0,.4141,0,.1232,0,.2744,1,1,.3276,.2771,1,.9289,.322,.3076,1,.6518,.2983,.4032,1,.4154,.216,.521,1,.2548,.0952,.5899,1,.1005,.0148,.6089,1,0,0,.6354,.9153,0,0,.6536,.8588,0,0,.6715,.814,0,0,.278,.9672,1,.3214,.2835,.9827,.9637,.3121,.308,.9817,.6807,.292,.3991,.9886,.4399,.2125,.5121,1,.2605,.0852,.5823,1,.0832,.0063,.5957,.9741,0,1e-4,.6226,.9023,0,0,.6522,.8412,0,0,.6644,.8029,0,0,.2915,.8321,1,.3092,.2924,.8426,.9941,.3028,.3097,.8464,.7305,.2875,.3795,.8693,.4917,.2195,.4864,.9075,.3067,.1018,.5593,.9289,.1127,.0095,.579,.9101,0,0,.6139,.8517,0,0,.6366,.8057,0,0,.6553,.7739,0,0,.3388,.6529,1,.2664,.3344,.6586,1,.2654,.3357,.6702,.8018,.2588,.3749,.6982,.5799,.2152,.4551,.7464,.3722,.1185,.5249,.783,.1979,.0235,.5441,.7975,0,0,.5803,.7682,0,0,.6132,.7437,0,0,.6397,.7187,0,0,.4144,.4737,1,.1889,.406,.4761,1,.1912,.4003,.4831,.8798,.1888,.4038,.5049,.6886,.1694,.438,.5429,.4731,.1153,.4899,.5936,.2893,.0398,.5216,.6227,.099,.0016,.5174,.6307,0,0,.5619,.6237,0,0,.5881,.6192,0,0,.4782,.3284,1,.0925,.4748,.3285,1,.0943,.4703,.3299,.9508,.0972,.4619,.3412,.7782,.0906,.4622,.3593,.5875,.0716,.4706,.3874,.3871,.031,.4905,.4232,.2084,.0031,.4873,.4428,.0192,0,.4775,.4527,0,0,.5036,.4645,0,0,.5174,.1933,1,.0187,.5175,.1929,1,.019,.5122,.1969,.9895,.0194,.5048,.199,.8362,.0186,.4917,.2083,.6837,.0155,.4812,.2226,.5026,.0084,.4776,.2411,.3179,.0016,.4671,.2627,.1339,0,.4456,.2821,0,0,.4336,.2985,0,0,.5219,.0369,1,0,.5211,.0365,1,0,.5164,.0361,.9928,0,.5051,.0417,.8566,0,.4959,.0461,.7324,0,.4841,.0562,.5795,0,.4697,.0715,.4117,0,.4546,.0909,.2404,0,.4329,.1095,.0677,0,.4078,.1379,0,0,.489,0,1,0,.4874,0,1,0,.4815,0,.9413,0,.474,0,.8389,0,.466,0,.7325,0,.4551,0,.6035,0,.4428,0,.4661,0,.4307,0,.3226,0,.4167,0,.1676,0,.391,0,.0206,0,.447,0,1,0,.4428,0,1,0,.4372,0,.9575,0,.4331,0,.8537,0,.4216,0,.7437,0,.4118,0,.6299,0,.4014,0,.5006,0,.3852,0,.3649,0,.3718,0,.2346,0,.3521,0,.1041,0,.2356,1,1,.1977,.2375,1,.9964,.1944,.2509,1,.7373,.1859,.3016,1,.4867,.1346,.3788,1,.2757,.053,.4353,1,.0751,.0036,.4679,.9829,0,0,.5176,.911,0,0,.5557,.8626,0,0,.5835,.8201,0,0,.2376,.9791,1,.1994,.241,.985,1,.1911,.2501,.9855,.758,.1827,.2933,.9955,.5092,.1362,.3705,1,.2915,.0523,.4224,1,.0745,.0017,.456,.9598,0,0,.5092,.8949,0,0,.546,.851,0,0,.5832,.807,0,0,.2428,.8734,1,.1892,.2449,.8873,1,.1813,.2484,.8891,.7869,.1743,.2865,.8979,.5484,.136,.3596,.9102,.3326,.0622,.4106,.9259,.1239,.0039,.4338,.9056,0,0,.4983,.8524,0,0,.5426,.8125,0,0,.573,.7804,0,0,.2616,.7229,1,.1721,.2607,.7283,1,.1684,.2628,.738,.8211,.1631,.2833,.7568,.6146,.1351,.336,.7794,.3977,.0727,.3928,.8002,.1999,.0099,.403,.8038,0,0,.4608,.7797,0,0,.5189,.7516,0,0,.5576,.7273,0,0,.303,.5471,1,.1332,.2958,.5539,1,.1322,.2912,.5609,.8726,.1295,.2999,.5779,.6879,.1131,.325,.6005,.481,.074,.3663,.6358,.286,.0191,.3853,.6543,.0836,3e-4,.3915,.653,0,0,.4527,.6307,0,0,.5,.6145,0,0,.3535,.3827,1,.0752,.3475,.3848,1,.0766,.3423,.3904,.9281,.0765,.3331,.4014,.759,.0698,.3362,.4178,.5775,.0489,.3526,.4416,.3818,.018,.3669,.4679,.1894,3e-4,.3622,.475,.0046,0,.3698,.4765,0,0,.4168,.4707,0,0,.3961,.2377,1,.018,.394,.2385,1,.019,.3862,.2407,.9519,.0188,.3794,.2484,.8108,.0182,.3676,.2545,.6583,.0131,.3626,.2686,.4759,.0052,.3483,.279,.2863,0,.3452,.3023,.1046,0,.3383,.3138,0,0,.3349,.3243,0,0,.4138,.0832,1,0,.4128,.0828,1,0,.403,.0869,.9634,0,.398,.0906,.835,0,.3864,.0947,.709,0,.3743,.1046,.5563,0,.3601,.113,.3821,0,.3461,.1265,.2092,0,.3293,.1458,.0382,0,.3117,.1713,0,0,.4015,0,1,0,.4005,0,.9806,0,.3974,0,.9052,0,.3865,0,.8146,0,.3784,0,.7183,0,.3675,0,.5942,0,.3587,0,.4443,0,.3438,0,.2997,0,.3265,0,.1417,0,.3072,.0125,0,0,.3763,0,1,0,.3727,0,1,0,.3662,0,.93,0,.3597,0,.8277,0,.3483,0,.7249,0,.3357,0,.6068,0,.3269,0,.473,0,.3161,0,.3445,0,.2997,0,.2142,0,.2812,0,.0787,0,.1798,1,1,.0938,.181,1,1,.0903,.1845,1,.7894,.0861,.2115,1,.5402,.0594,.2579,1,.3057,.0185,.2774,1,.0677,1e-4,.3256,.9598,0,0,.3928,.9075,0,0,.4521,.8635,0,0,.4926,.8257,0,0,.1811,.9832,1,.0877,.1812,.9921,1,.0828,.1842,.9876,.8022,.0815,.2089,.9916,.5605,.0588,.2519,.9889,.3224,.0193,.2745,.9831,.089,4e-4,.3128,.9413,0,0,.3943,.8887,0,0,.4459,.8484,0,0,.49,.8155,0,0,.1842,.8915,1,.0889,.1871,.9021,1,.0826,.186,.9064,.8239,.0797,.2038,.9105,.5965,.0591,.2407,.9175,.3599,.0195,.2727,.9144,.1331,1e-4,.2918,.8947,0,0,.3784,.8495,0,0,.4393,.8145,0,0,.4801,.7848,0,0,.1893,.7731,1,.0803,.1899,.779,1,.0761,.1883,.7848,.8434,.0712,.2,.7937,.6398,.0574,.2314,.8062,.4171,.0253,.2675,.8092,.2047,.0016,.2648,.8119,0,0,.3424,.7811,0,0,.4136,.7509,0,0,.4589,.7248,0,0,.2077,.6167,1,.0629,.2033,.6213,1,.0608,.201,.6309,.8729,.0584,.2066,.6375,.6976,.0496,.2214,.6549,.4903,.0257,.2468,.6718,.2868,.0054,.2557,.6752,.0734,0,.2793,.6639,0,0,.3477,.636,0,0,.399,.6036,0,0,.2371,.4439,1,.0389,.2342,.4504,1,.0381,.2304,.4546,.8961,.0358,.2233,.4645,.7462,.0317,.2265,.4766,.5664,.0192,.2389,.4958,.3758,.006,.2412,.5084,.1699,0,.2384,.5123,0,0,.2799,.4942,0,0,.3284,.4766,0,0,.2724,.2915,1,.0114,.2707,.2923,1,.0118,.2656,.2956,.9239,.0115,.2552,.303,.7898,.0103,.2481,.3086,.6338,.0059,.2427,.3218,.4532,9e-4,.2347,.3316,.2707,0,.2277,.344,.0791,0,.2317,.3491,0,0,.2578,.3452,0,0,.294,.1334,1,0,.293,.1356,1,0,.288,.1408,.9295,0,.2775,.1432,.8069,0,.2699,.1474,.684,0,.2537,.1563,.5238,0,.2399,.1614,.3555,0,.2205,.1718,.1745,0,.212,.192,.014,0,.212,.2099,0,0,.3011,0,.9996,0,.2969,0,.9647,0,.2924,0,.8929,0,.2863,0,.8143,0,.2761,0,.7028,0,.2675,.0011,.5775,0,.2541,.0089,.4329,0,.2377,.016,.2739,0,.2225,.0259,.1098,0,.2042,.0512,0,0,.288,0,.9766,0,.2864,0,.9423,0,.2815,0,.8783,0,.2756,0,.7908,0,.2673,0,.6935,0,.252,0,.5817,0,.2428,0,.4541,0,.2284,0,.3226,0,.2117,0,.1849,0,.1919,0,.053,0,.1032,1,1,.019,.104,1,1,.0159,.1029,1,.8122,.0139,.1104,1,.5743,.0092,.1308,.9991,.3284,.001,.1322,.9907,.0729,0,.1863,.941,0,0,.273,.8913,0,0,.3426,.8578,0,0,.398,.8264,0,0,.1031,.9708,1,.0179,.1039,.9802,1,.0153,.1025,.9835,.822,.0124,.1102,.9797,.5876,.0081,.1289,.97,.3442,3e-4,.1303,.9646,.0885,0,.1773,.9255,0,0,.2681,.8759,0,0,.3423,.843,0,0,.3896,.818,0,0,.1038,.9043,1,.0173,.1029,.9094,1,.0156,.101,.9138,.8289,.0143,.1076,.9161,.619,.0088,.1265,.9089,.3794,.0026,.1283,.9077,.1297,0,.1565,.8868,0,0,.2545,.8409,0,0,.3261,.8163,0,0,.3818,.7844,0,0,.1051,.8011,1,.0143,.1046,.8085,1,.0126,.105,.8129,.847,.0132,.111,.8123,.6556,.0097,.1203,.8174,.4269,.0027,.1252,.8191,.1976,0,.1315,.8142,0,0,.2201,.7788,0,0,.2989,.7436,0,0,.3517,.7102,0,0,.1116,.6646,1,.0115,.1093,.6696,1,.0099,.1092,.6742,.8569,.0102,.1104,.6809,.697,.007,.115,.6892,.4884,.0033,.1215,.6934,.2765,2e-4,.1254,.6915,.0656,0,.167,.6753,0,0,.2417,.6364,0,0,.3014,.6039,0,0,.1278,.5042,1,.0072,.1263,.5064,1,.007,.1232,.5098,.8746,.0064,.1132,.5209,.7312,.0051,.1155,.5283,.5606,.0024,.1203,.5327,.3614,1e-4,.1113,.5443,.1559,0,.1197,.546,0,0,.1868,.5102,0,0,.2362,.488,0,0,.1486,.343,1,.0019,.1463,.3452,.9936,.0019,.1431,.3477,.8939,.0017,.1319,.3547,.7615,.0015,.1266,.3615,.616,6e-4,.1225,.3683,.4332,0,.1112,.3799,.2521,0,.1049,.3892,.0563,0,.1313,.3815,0,0,.181,.3611,0,0,.1662,.1847,1,0,.1644,.1854,.9653,0,.1604,.1878,.8908,0,.1546,.1957,.7852,0,.1442,.2001,.6581,0,.1313,.2082,.5022,0,.1198,.216,.3299,0,.1051,.2283,.1565,0,.1017,.2382,0,0,.1289,.2358,0,0,.181,.0267,.9724,0,.1798,.0291,.9417,0,.177,.0324,.8756,0,.1669,.036,.7932,0,.1603,.0388,.688,0,.1479,.0453,.5508,0,.1338,.0547,.401,0,.12,.0608,.2433,0,.0964,.0737,.0742,0,.0953,.0941,0,0,.1931,0,.9284,0,.1912,0,.8978,0,.1862,0,.8364,0,.1785,0,.7585,0,.1669,0,.67,0,.1592,0,.5462,0,.1455,0,.4228,0,.13,0,.2957,0,.1107,0,.159,0,.0979,0,.0222,0,0,.9911,1,6e-4,0,.9961,.9646,0,0,.9966,.786,3e-4,0,.9854,.5724,0,0,.9791,.3242,0,.0016,.9646,.078,0,.0517,.9279,0,0,.147,.8764,0,0,.2327,.8472,0,0,.291,.8211,0,0,0,.9643,1,5e-4,0,.9666,.9648,0,0,.9639,.7975,2e-4,0,.9583,.5818,0,0,.9562,.3372,0,7e-4,.945,.0929,0,.0448,.911,0,0,.1436,.8664,0,0,.2278,.8362,0,0,.2898,.8081,0,0,0,.9038,1,0,0,.9046,.9776,0,0,.9031,.8012,0,0,.9038,.6125,0,0,.9036,.3683,0,.0017,.8925,.1374,0,.0237,.8776,0,0,.1265,.8353,0,0,.2147,.8028,0,0,.2705,.7705,0,0,0,.8132,1,0,0,.8143,.9587,0,0,.8142,.8187,0,0,.8169,.6394,0,0,.8197,.419,0,3e-4,.8147,.1967,0,.0123,.8141,0,0,.0967,.7786,0,0,.1814,.7347,0,0,.2391,.7045,0,0,0,.6897,1,0,0,.692,.9619,0,0,.6984,.83,0,0,.7019,.6733,0,0,.7045,.4747,0,9e-4,.7071,.2694,0,0,.7111,.0548,0,.0576,.6835,0,0,.1375,.6393,0,0,.2009,.6013,0,0,.0063,.5438,1,0,.0032,.546,.9485,0,.0026,.5485,.8408,0,.0013,.5558,.7051,0,5e-4,.5627,.5395,0,0,.5677,.3432,0,0,.5745,.1428,0,.0093,.5745,0,0,.0917,.5265,0,0,.1486,.4917,0,0,.0194,.3866,.9857,0,.018,.3872,.9437,0,.0163,.3924,.8468,0,.0123,.4005,.7307,0,.0073,.4035,.5867,0,7e-4,.4155,.4089,0,0,.4186,.2299,0,0,.4312,.0418,0,.0401,.4101,0,0,.1031,.3772,0,0,.0358,.2371,.9655,0,.0347,.2382,.9313,0,.0332,.2403,.8472,0,.0259,.2437,.7602,0,.019,.2518,.6265,0,.012,.2568,.4759,0,.0019,.2691,.3078,0,0,.2772,.1319,0,.0014,.2874,0,0,.0541,.2574,0,0,.055,.078,.9361,0,.0532,.0795,.9029,0,.0503,.0842,.841,0,.0428,.0887,.762,0,.0368,.0939,.6568,0,.0277,.1032,.5253,0,.0167,.1101,.3773,0,.0049,.1229,.2172,0,0,.1316,.0548,0,.0162,.1304,0,0,.0852,0,.8742,0,.0821,0,.8522,0,.0772,0,.7982,0,.0712,0,.7271,0,.0609,0,.6409,0,.0525,0,.5299,0,.04,0,.4048,0,.0242,0,.2762,0,.0145,0,.1309,0,0,0,0,0],a=Math.round(Math.pow(A.length/3,1/4)),p=[0,0,0,0];
ICC.U.applyLUT3to4Float(A,a,e,p);return p};j.U2=function(e,A,a){var p=e.length,N=.3,i=.59,Z=.11;if(a){N=a[0];
i=a[1];Z=a[2]}for(var c=0;c<p;c+=4)A[c>>2]=~~(e[c+0]*N+e[c+1]*i+e[c+2]*Z+.5)};j.DC=function(e,A){var a=A.length;
for(var c=0;c<a;c+=4){var p=e[c>>>2];A[c]=p;A[c+1]=p;A[c+2]=p}};j.ia=function(e,A){var a=e.gg,p=e.o,N=e.J,i=e.k,Z=Math.min(e.gg.length,A.buffer.byteLength>>>2),s=4*Math.floor(Z/4),D=new Uint32Array(A.buffer),n=new Uint32Array(a.buffer),S=new Uint32Array(p.buffer),F=new Uint32Array(N.buffer),$=new Uint32Array(i.buffer);
for(var c=0;c<s;c+=4){var m=n[c>>2],J=$[c>>2],w=F[c>>2],f=S[c>>2];D[c]=m<<24|(J&255)<<16|(w&255)<<8|f&255;
D[c+1]=(m&65280)<<16|(J&65280)<<8|w&65280|(f&65280)>>>8;D[c+2]=(m&16711680)<<8|J&16711680|(w&16711680)>>>8|(f&16711680)>>>16;
D[c+3]=m&4278190080|(J&4278190080)>>>8|(w&4278190080)>>>16|(f&4278190080)>>>24}for(var c=s;c<Z;c++)D[c]=a[c]<<24|i[c]<<16|N[c]<<8|p[c]};
j.Y_=function(e,A){var a=A.gg,p=A.o,N=A.J,i=A.k,Z=Math.min(A.gg.length,e.buffer.byteLength>>>2),s=4*Math.floor(Z/4),D=new Uint32Array(e.buffer),n=new Uint32Array(a.buffer),S=new Uint32Array(p.buffer),F=new Uint32Array(N.buffer),$=new Uint32Array(i.buffer);
for(var c=0;c<s;c+=4){var m=D[c],J=D[c+1],w=D[c+2],f=D[c+3];S[c>>2]=m&255|(J&255)<<8|(w&255)<<16|f<<24;
F[c>>2]=(m&65280)>>8|J&65280|(w&65280)<<8|(f&65280)<<16;$[c>>2]=(m&16711680)>>16|(J&16711680)>>8|w&16711680|(f&16711680)<<8;
n[c>>2]=m>>>24|J>>>24<<8|w>>>24<<16|f&4278190080}for(var c=s;c<Z;c++){var b=D[c];p[c]=b>>0&255;N[c]=b>>8&255;
i[c]=b>>16&255;a[c]=b>>24&255}};j.kI=function(e,A,a){var p=new Uint8Array(e.buffer),N=Math.min(p.length/4,A.length);
for(var c=0;c<N;c++){A[c]=p[(c<<2)+a]}};j.Ao=function(e,A,a){var p=new Uint8Array(A.buffer),N=new Uint32Array(e.buffer),i=Math.min(p.length/4,e.length),c=0;
while(c+4<i){var Z=N[c>>>2];p[(c<<2)+a]=Z&255;p[(c<<2)+a+4]=Z>>>8&255;p[(c<<2)+a+8]=Z>>>16&255;p[(c<<2)+a+12]=Z>>>24;
c+=4}while(c<i){p[(c<<2)+a]=e[c];c++}};j.fV=function(e,A,a){if(a==null)a=0;var p=new Uint32Array(e.buffer),N=p.length;
for(var c=0;c<N;c++)p[c]=p[c]&a|A};j.azG=function(e,A,a,p,N){if(N==null)N=0;var i=new Uint32Array(e.buffer);
a=a.Yn(A);var Z=a.x-A.x,s=a.y-A.y,D=a.m,n=a.n,S=A.m;for(var F=0;F<n;F++){var c=(s+F)*S+Z;for(var $=0;
$<D;$++){i[c]=i[c]&N|p;c++}}};j.GZ=function(e,A){var a=Math.min(e.buffer.byteLength,A.buffer.byteLength),p=a>>>2,e=new Uint32Array(e.buffer,0,p),A=new Uint32Array(A.buffer,0,p);
A.set(e)};j.Kx=function(e,A){var a=e.buffer.byteLength,p=A.buffer.byteLength,N=new Uint32Array(e.buffer,0,a>>2),i=new Uint32Array(A.buffer,0,p>>2);
if(a!=p)return!1;var Z=N.length;for(var c=0;c<Z;c++)if(i[c]!=N[c])return!1;return!0};j.rQ=function(e){var A=new Uint32Array(e.buffer),a=A.length;
for(var c=0;c<a;c++)A[c]=~A[c]};j.apL=function(e){var A=e.length;for(var c=0;c<A;c+=4){e[c]=~e[c];e[c+1]=~e[c+1];
e[c+2]=~e[c+2]}};j.a3D=function(e){var A=e.length;for(var c=3;c<A;c+=4)e[c]=~e[c]};j.a3I=function(e){return e+(e%4==0?0:4-e%4)};
j.Q=function(e,A){if(A==null)A=!1;if(!A)e=j.a3I(e);try{var a=new Uint8Array(e)}catch(i1){alert("Not enough RAM! (need "+Math.round(e/(1<<20))+" MB)",7e3);
throw"low_ram"}return a};j.ff=function(e){var A=e.length,a=e[A-2],p=e[A-1];while(p.m>=2&&p.n>=2){var N=j.DZ(a,p);
e.push(N.Qi,N.rect);a=N.Qi;p=N.rect}};j.ej=function(e){var A=e.length,a=e[A-2],p=e[A-1];while(p.m>=2&&p.n>=2){var N=j.Yj(a,p);
e.push(N.Qi,N.rect);a=N.Qi;p=N.rect}};j.DZ=function(e,A,a){var p=A.m,N=A.n,i=p>>1,Z=N>>1,s=new dE(A.x,A.y,i,Z),D=a&&a.length==i*Z*4?a:j.Q(i*Z*4),n=new Uint32Array(e.buffer),S=new Uint32Array(D.buffer);
for(var F=0;F<Z;F++)for(var $=0;$<i;$++){var m=F*i+$,J=(F<<1)*p+($<<1),w=n[J],f=n[J+1],b=n[J+p],L=n[J+p+1],C=w>>>24,M=f>>>24,y=b>>>24,Q=L>>>24,k=C+M+y+Q;
if(k==1020){var E=(w>>>0&255)+(f>>>0&255)+(b>>>0&255)+(L>>>0&255)+2>>>2,_=(w>>>8&255)+(f>>>8&255)+(b>>>8&255)+(L>>>8&255)+2>>>2,v=(w>>>16&255)+(f>>>16&255)+(b>>>16&255)+(L>>>16&255)+2>>>2;
S[m]=255<<24|v<<16|_<<8|E}else if(k==0)S[m]=0;else{var E=(w>>>0&255)*C+(f>>>0&255)*M+(b>>>0&255)*y+(L>>>0&255)*Q,_=(w>>>8&255)*C+(f>>>8&255)*M+(b>>>8&255)*y+(L>>>8&255)*Q,v=(w>>>16&255)*C+(f>>>16&255)*M+(b>>>16&255)*y+(L>>>16&255)*Q,V=1/k;
E=~~(E*V+.5);_=~~(_*V+.5);v=~~(v*V+.5);S[m]=k+2>>>2<<24|v<<16|_<<8|E}}return{rect:s,Qi:D}};j.A7=function(e,A,a){var p=A.m,N=A.n,i=p>>1,Z=N>>1,s=new dE(A.x,A.y,i,Z),D=a&&a.length==i*Z*4?a:j.Q(i*Z*4),n=new Uint32Array(e.buffer),S=new Uint32Array(D.buffer);
for(var F=0;F<Z;F++)for(var $=0;$<i;$++){var m=F*i+$,J=(F<<1)*p+($<<1),w=n[J],f=n[J+1],b=n[J+p],L=n[J+p+1],C=2+(w>>>0&255)+(f>>>0&255)+(b>>>0&255)+(L>>>0&255)>>>2,M=2+(w>>>8&255)+(f>>>8&255)+(b>>>8&255)+(L>>>8&255)>>>2,y=2+(w>>>16&255)+(f>>>16&255)+(b>>>16&255)+(L>>>16&255)>>>2,Q=2+(w>>>24&255)+(f>>>24&255)+(b>>>24&255)+(L>>>24&255)>>>2;
S[m]=Q<<24|y<<16|M<<8|C}return{rect:s,Qi:D}};j.a4d=function(e,A,a){var p=A.m,N=A.n,i=2*Math.floor(p/3),Z=2*Math.floor(N/3),s=new dE(A.x,A.y,i,Z),D=a&&a.length==i*Z*4?a:j.Q(i*Z*4),n=new Uint32Array(e.buffer),S=new Uint32Array(D.buffer);
for(var F=0;F<Z;F+=2)for(var $=0;$<i;$+=2){var m=F*i+$,J=(F*3>>>1)*p+($*3>>>1),w=n[J],f=n[J+1],b=n[J+2],L=n[J+p],C=n[J+1+p],M=n[J+2+p],y=n[J+p+p],Q=n[J+1+p+p],k=n[J+2+p+p],E=w>>>24<<2,_=(w>>>16&255)*E,v=(w>>>8&255)*E,V=(w&255)*E,R=f>>>24<<1,h=(f>>>16&255)*R,P=(f>>>8&255)*R,H=(f&255)*R,U=b>>>24<<2,X=(b>>>16&255)*U,x=(b>>>8&255)*U,K=(b&255)*U,T=L>>>24<<1,I=(L>>>16&255)*T,o=(L>>>8&255)*T,l=(L&255)*T,O=C>>>24,g=(C>>>16&255)*O,W=(C>>>8&255)*O,d=(C&255)*O,gT=M>>>24<<1,r=(M>>>16&255)*gT,G=(M>>>8&255)*gT,Y=(M&255)*gT,fk=y>>>24<<2,eJ=(y>>>16&255)*fk,eS=(y>>>8&255)*fk,gL=(y&255)*fk,cX=Q>>>24<<1,kj=(Q>>>16&255)*cX,gq=(Q>>>8&255)*cX,iL=(Q&255)*cX,ew=k>>>24<<2,dk=(k>>>16&255)*ew,j9=(k>>>8&255)*ew,fh=(k&255)*ew,g9=E+R+T+O,k6=U+R+gT+O,jx=fk+cX+T+O,fV=ew+cX+gT+O,ao=g9==0?0:1/g9,b8=k6==0?0:1/k6,ke=jx==0?0:1/jx,gj=fV==0?0:1/fV,jf=0,ay=0,fz=0,ei=0;
jf=~~(.5+(V+H+l+d)*ao);ay=~~(.5+(v+P+o+W)*ao);fz=~~(.5+(_+h+I+g)*ao);ei=~~(.5+g9*(1/9));S[m]=ei<<24|fz<<16|ay<<8|jf;
jf=~~(.5+(K+H+Y+d)*b8);ay=~~(.5+(x+P+G+W)*b8);fz=~~(.5+(X+h+r+g)*b8);ei=~~(.5+k6*(1/9));S[m+1]=ei<<24|fz<<16|ay<<8|jf;
jf=~~(.5+(gL+iL+l+d)*ke);ay=~~(.5+(eS+gq+o+W)*ke);fz=~~(.5+(eJ+kj+I+g)*ke);ei=~~(.5+jx*(1/9));S[m+i]=ei<<24|fz<<16|ay<<8|jf;
jf=~~(.5+(fh+iL+Y+d)*gj);ay=~~(.5+(j9+gq+G+W)*gj);fz=~~(.5+(dk+kj+r+g)*gj);ei=~~(.5+fV*(1/9));S[m+i+1]=ei<<24|fz<<16|ay<<8|jf}return{rect:s,Qi:D}};
j.a6p=function(e,A,a){var p=A.m,N=A.n,i=2*Math.floor(p/3),Z=2*Math.floor(N/3),s=new dE(A.x,A.y,i,Z),D=a&&a.length==i*Z*4?a:j.Q(i*Z*4),n=new Uint32Array(e.buffer),S=new Uint32Array(D.buffer);
for(var F=0;F<Z;F+=2)for(var $=0;$<i;$+=2){var m=F*i+$,J=(F*3>>>1)*p+($*3>>>1),w=n[J],f=n[J+1],b=n[J+2],L=n[J+p],C=n[J+1+p],M=n[J+2+p],y=n[J+p+p],Q=n[J+1+p+p],k=n[J+2+p+p],E=(w>>>16&255)<<2,_=(w>>>8&255)<<2,v=(w&255)<<2,V=(f>>>16&255)<<1,R=(f>>>8&255)<<1,h=(f&255)<<1,P=(b>>>16&255)<<2,H=(b>>>8&255)<<2,U=(b&255)<<2,X=(L>>>16&255)<<1,x=(L>>>8&255)<<1,K=(L&255)<<1,T=C>>>16&255,I=C>>>8&255,o=C&255,l=(M>>>16&255)<<1,O=(M>>>8&255)<<1,g=(M&255)<<1,W=(y>>>16&255)<<2,d=(y>>>8&255)<<2,gT=(y&255)<<2,r=(Q>>>16&255)<<1,G=(Q>>>8&255)<<1,Y=(Q&255)<<1,fk=(k>>>16&255)<<2,eJ=(k>>>8&255)<<2,eS=(k&255)<<2,gL=0,cX=0,kj=0;
gL=~~(.5+(v+h+K+o)*(1/9));cX=~~(.5+(_+R+x+I)*(1/9));kj=~~(.5+(E+V+X+T)*(1/9));S[m]=255<<24|kj<<16|cX<<8|gL;
gL=~~(.5+(U+h+g+o)*(1/9));cX=~~(.5+(H+R+O+I)*(1/9));kj=~~(.5+(P+V+l+T)*(1/9));S[m+1]=255<<24|kj<<16|cX<<8|gL;
gL=~~(.5+(gT+Y+K+o)*(1/9));cX=~~(.5+(d+G+x+I)*(1/9));kj=~~(.5+(W+r+X+T)*(1/9));S[m+i]=255<<24|kj<<16|cX<<8|gL;
gL=~~(.5+(eS+Y+g+o)*(1/9));cX=~~(.5+(eJ+G+O+I)*(1/9));kj=~~(.5+(fk+r+l+T)*(1/9));S[m+i+1]=255<<24|kj<<16|cX<<8|gL}return{rect:s,Qi:D}};
j.vJ=function(e){var A=255,a=e.length;a-=a&31;for(var c=3;c<a;c+=32)A=A&e[c]&e[c+4]&e[c+8]&e[c+12]&e[c+16]&e[c+20]&e[c+24]&e[c+28];
return A!=255};j.a7l=function(e,A,a,p){var N=j.DZ,i=j.a4d,s=0;if(!j.vJ(e)){N=j.A7;i=j.a6p}var Z={Qi:e,rect:A},D=a;
while(D<.499){s++;D*=2}for(var c=0;c<s;c++)Z=N(Z.Qi,Z.rect,p);if(D<.5001)Z=N(Z.Qi,Z.rect,p);else Z=i(Z.Qi,Z.rect,p);
return Z};j.ay1=function(e,A,a,p){var N=j.Yj,i=j.rS,Z={Qi:e,rect:A},s=0,D=a;while(D<.499){s++;D*=2}for(var c=0;
c<s;c++)Z=N(Z.Qi,Z.rect,p);if(D<.5001)Z=N(Z.Qi,Z.rect,p);else Z=i(Z.Qi,Z.rect,p);return Z};j.Yj=function(e,A,a){var p=A.m,N=A.n,i=p>>1,Z=N>>1,s=new dE(A.x,A.y,i,Z);
if(e==null)return{rect:s};var D=a&&a.length>=i*Z?a:j.Q(i*Z);for(var n=0;n<Z;n++){var S=n*i;for(var F=0;
F<i;F++){var $=(n<<1)*p+(F<<1);D[S+F]=2+e[$]+e[$+1]+e[$+p]+e[$+p+1]>>>2}}return{rect:s,Qi:D}};j.rS=function(e,A,a){var p=A.m,N=A.n,i=2*Math.floor(p/3),Z=2*Math.floor(N/3),s=new dE(A.x,A.y,i,Z);
if(e==null)return{rect:s};var D=a&&a.length>=i*Z?a:j.Q(i*Z);for(var n=0;n<Z;n+=2)for(var S=0;S<i;S+=2){var F=n*i+S,$=(n*3>>>1)*p+(S*3>>>1),m=e[$]<<2,J=e[$+1]<<1,w=e[$+2]<<2,f=e[$+p]<<1,b=e[$+1+p],L=e[$+2+p]<<1,C=e[$+p+p]<<2,M=e[$+1+p+p]<<1,y=e[$+2+p+p]<<2;
D[F]=~~(.5+(m+J+f+b)*(1/9));D[F+1]=~~(.5+(w+J+L+b)*(1/9));D[F+i]=~~(.5+(C+M+f+b)*(1/9));D[F+i+1]=~~(.5+(y+M+L+b)*(1/9))}return{rect:s,Qi:D}};
j.WP=function(e,A,a,p,N){var i=A.Yn(p);if(N)i=i.Yn(N);var Z=Math.max(0,i.x-A.x),s=Math.max(0,i.x-p.x),D=Math.max(0,i.y-A.y),n=Math.max(0,i.y-p.y),S=i.m,F=i.n;
for(var c=0;c<F;c++){var $=(D+c)*A.m+Z,m=(n+c)*p.m+s;a.set(new Uint8Array(e.buffer,$,S),m)}};j.bI=function(e,A,a,p){if(A.Kx(p)){j.Ao(e,a,3);
return}var N=A.Yn(p),i=Math.max(0,N.x-A.x),Z=Math.max(0,N.x-p.x),s=Math.max(0,N.y-A.y),D=Math.max(0,N.y-p.y),n=N.m,S=N.n;
for(var c=0;c<S;c++){var F=(s+c)*A.m+i,$=(D+c)*p.m+Z;for(var m=0;m<n;m++)a[($+m<<2)+3]=e[F+m]}};j.sS=function(e,A,a,p){var N=A.Yn(p),i=Math.max(0,N.x-A.x),Z=Math.max(0,N.x-p.x),s=Math.max(0,N.y-A.y),D=Math.max(0,N.y-p.y),n=N.m,S=N.n;
for(var c=0;c<S;c++){var F=(s+c)*A.m+i,$=(D+c)*p.m+Z;for(var m=0;m<n;m++)a[$+m]=e[(F+m<<2)+3]}};j._M=function(e,A,a,p,N){if(A.Kx(p)&&(N==null||N.Kx(p))){j.GZ(e,a);
return}e=new Uint32Array(e.buffer),a=new Uint32Array(a.buffer);var i=A.Yn(p);if(N)i=i.Yn(N);var Z=Math.max(0,i.x-A.x),s=Math.max(0,i.x-p.x),D=Math.max(0,i.y-A.y),n=Math.max(0,i.y-p.y),S=i.m,F=i.n,$=S&3,m=$==0?S:S-$;
for(var c=0;c<F;c++){var J=(D+c)*A.m+Z,w=(n+c)*p.m+s;a.set(new Uint32Array(e.buffer,J*4,S),w)}};j.ge=function(e,A,a,p){var N=A.Yn(p),i=Math.max(0,N.x-A.x),Z=Math.max(0,N.x-p.x),s=Math.max(0,N.y-A.y),D=Math.max(0,N.y-p.y),n=N.m,S=N.n,F=e.gg,$=e.o,m=e.J,J=e.k,w=a.gg,f=a.o,b=a.J,L=a.k;
for(var c=0;c<S;c++){var C=(s+c)*A.m+i,M=(D+c)*p.m+Z;for(var y=0;y<n;y++){w[M+y]=F[C+y];f[M+y]=$[C+y];
b[M+y]=m[C+y];L[M+y]=J[C+y]}}};j.QM=function(e){var A=e.length;for(var c=0;c<A;c+=4){var a=e[c+3];if(a==255)continue;
e[c]=~~(e[c]*a*(1/255)+.5);e[c+1]=~~(e[c+1]*a*(1/255)+.5);e[c+2]=~~(e[c+2]*a*(1/255)+.5)}};j.iG=function(e){var A=e.length;
for(var c=0;c<A;c+=4){var a=e[c+3];if(a==0||a==255)continue;var p=255/a;e[c]=~~(e[c]*p+.5);e[c+1]=~~(e[c+1]*p+.5);
e[c+2]=~~(e[c+2]*p+.5)}};j.ne=function(e,A){for(var c=0;c<e.length;c++)if(e[c]!=A)return!1;return!0};
j.B_=function(e){return e+1+(e>>>8)>>>8};j.round=function(e,A){if(A==null)A=128;var a=e.length;for(var c=0;
c<a;c++)e[c]=e[c]<A?0:255};j.IA=function(e,A){var a=e.length;for(var c=0;c<a;c++)e[c]=Math.round(e[c]*A)};
j.t_=function(e,A){var a=new Uint32Array(e.buffer),p=new Uint32Array(A.buffer),N=a.length;for(var c=0;
c<N;c++){var i=a[c],Z=p[c];p[c]=j.B_((i>>>24)*(Z>>>24))<<24|j.B_((i>>>16&255)*(Z>>>16&255))<<16|j.B_((i>>>8&255)*(Z>>>8&255))<<8|j.B_((i&255)*(Z&255))}};
j.Qr=function(e,A){var a=e.length;for(var c=0;c<a;c++)A[(c<<2)+3]=j.B_(A[(c<<2)+3]*e[c])};j.apv=function(e,A,a,p){var N=Math.max(0,p.x-A.x),i=Math.max(0,A.x-p.x),Z=Math.max(0,p.y-A.y),s=Math.max(0,A.y-p.y),D=Math.min(A.x+A.m,p.x+p.m)-Math.max(A.x,p.x),n=Math.min(A.y+A.n,p.y+p.n)-Math.max(A.y,p.y);
for(var c=0;c<n;c++){var S=(Z+c)*A.m+N,F=(s+c)*p.m+i;for(var $=0;$<D;$++){a[F]=j.B_(a[F]*e[S]);S++;F++}}};
j.R7=function(e,A,a,p){var N=Math.max(0,p.x-A.x),i=Math.max(0,A.x-p.x),Z=Math.max(0,p.y-A.y),s=Math.max(0,A.y-p.y),D=Math.min(A.x+A.m,p.x+p.m)-Math.max(A.x,p.x),n=Math.min(A.y+A.n,p.y+p.n)-Math.max(A.y,p.y);
for(var c=0;c<n;c++){var S=(Z+c)*A.m+N,F=((s+c)*p.m+i<<2)+3;for(var $=0;$<D;$++){a[F]=j.B_(a[F]*e[S]);
S++;F+=4}}};j.mj=function(e,A,a,p){var N=Math.max(0,p.x-A.x),i=Math.max(0,A.x-p.x),Z=Math.max(0,p.y-A.y),s=Math.max(0,A.y-p.y),D=Math.min(A.x+A.m,p.x+p.m)-Math.max(A.x,p.x),n=Math.min(A.y+A.n,p.y+p.n)-Math.max(A.y,p.y);
for(var c=0;c<n;c++){var S=((Z+c)*A.m+N<<2)+3,F=((s+c)*p.m+i<<2)+3;for(var $=0;$<D;$++){a[F]=j.B_(a[F]*e[S]);
S+=4;F+=4}}};j.rH=function(e,A){if(A==null)A=1;var a=4*A,p=e.length>>>2,N=new Float64Array(256),i=new Float64Array(256),Z=new Float64Array(256),s=new Float64Array(256),D=4*Math.floor(p/A)*A,n=0;
for(var c=0;c<D;c+=a){var S=e[c+0],F=e[c+1],$=e[c+2],m=e[c+3]*A,J=m*(1/255);i[S]+=J;Z[F]+=J;s[$]+=J;
n+=m}for(var c=0;c<256;c++)N[c]=i[c]+Z[c]+s[c];return[N,i,Z,s,p,n/255]};j.mt=function(e,A){function a(Q,k){var E=-1,_=0;
while(_<=k){E++;_+=Q[E]}return E}function p(Q,k){var E=256,_=0;while(_<=k){E--;_+=Q[E]}return E}function N(Q){var k=0,E=0;
for(var c=0;c<256;c++){E+=Q[c];k+=Q[c]*c*(1/255)}return k/E}var i=e[0],Z=e[1]/100,s=e[2]/100,D=[],n=[];
for(var c=0;c<4;c++){var S=c==0?3:1;D[c]=a(A[c],S*Z*A[5]);n[c]=p(A[c],S*s*A[5])}var F=[N(A[1]),N(A[2]),N(A[3])],$=F.slice(0);
$.sort(function(Q,k){return Q-k});var m=F.indexOf($[1]),J=(F[0]+F[1]+F[2])/3,w=[];for(var c=0;c<4;c++){var f=0,b=255,L=D[c],C=n[c];
if(i==0&&c==0){f=L;b=C}if(i==1&&c!=0){f=L;b=C}if(i==2&&c!=0){var S=F[c-1]/J;b=Math.max(0,Math.min(255,n[m]*S))}var M=[f,b];
w.push(M);if(i==3&&c==0){var y=255*(1-J);M.push(y)}}return w};j.rY=function(e,A){var a=new Uint32Array(e.buffer),p=a.length;
for(var c=0;c<p;c++){var N=a[c],i=N&255,Z=N>>8&255,s=N>>16&255,D=N>>24&255;a[c]=A[i]|A[Z]<<8|A[s]<<16|A[D]<<24}};
j.av1=function(e,A,a,p,N,i,Z){var s=new Uint32Array(e.buffer),D=new Uint32Array(A.buffer),n=s.length,S=0;
while(256<<S<a.length)S++;if(!Z&&!i){for(var c=0;c!=n;c++){var F=s[c],$=(F&255)<<S,m=(F>>>8&255)<<S,J=(F>>>16&255)<<S,w=a[$],f=p[m],b=N[J];
D[c]=w|f<<8|b<<16|F&4278190080}return}for(var c=0;c<n;c++){var F=s[c],$=(F&255)<<S,m=(F>>>8&255)<<S,J=(F>>>16&255)<<S;
if(i)$=m=J=Math.round($*.3+m*.59+J*.11);var w=a[$],f=p[m],b=N[J];if(Z){var L=j.hT($,m,J),C=j.hT(w,f,b);
if(L>C){var M=(L-C)/(255-C);w+=M*(255-w);f+=M*(255-f);b+=M*(255-b)}else if(C==0)w=f=b=0;else{var M=L/C;
w=M*w;f=M*f;b=M*b}}D[c]=w|f<<8|b<<16|F&4278190080}};j.WC=function(e,A){var a=A.m,p=A.n,top=0,N=0,i=0,Z=0,s=0;
s=0;for(var D=0;D<p;D++){var n=D*a;for(var c=0;c<a;c++)s|=e[n+c];if(s!=0)break;top++}if(top==p)return new dE(0,0,0,0);
s=0;for(var D=p-1;D>=0;D--){var n=D*a;for(var c=0;c<a;c++)s|=e[n+c];if(s!=0)break;i++}var S=p-i;s=0;
for(var c=0;c<a;c++){for(var D=top;D<S;D++)s|=e[D*a+c];if(s!=0)break;N++}s=0;for(var c=a-1;c>=0;c--){for(var D=top;
D<S;D++)s|=e[D*a+c];if(s!=0)break;Z++}var F=new dE(A.x+N,A.y+top,a-N-Z,p-top-i);return F};j.cB=function(e,A,a,p){if(p==null)p=[!0,!0,!0,!0];
if(a==null)a=0;var N=new Uint32Array(e.buffer),i=A.m,Z=A.n,top=0,s=0,D=0,n=0,S=!1,F=[N[0],N[N.length-1],0][a];
S=!1;if(p[0])for(var $=0;$<Z;$++){var m=$*i;for(var c=0;c<i;c++)if(N[m+c]!=F)S=!0;if(S)break;top++}S=!1;
if(p[2])for(var $=Z-1;$>=0;$--){var m=$*i;for(var c=0;c<i;c++)if(N[m+c]!=F)S=!0;if(S)break;D++}S=!1;
if(p[1])for(var c=0;c<i;c++){for(var $=0;$<Z;$++)if(N[$*i+c]!=F)S=!0;if(S)break;s++}S=!1;if(p[3])for(var c=i-1;
c>=0;c--){for(var $=0;$<Z;$++)if(N[$*i+c]!=F)S=!0;if(S)break;n++}var J=new dE(A.x+s,A.y+top,i-s-n,Z-top-D);
return J.QP()?new dE(0,0,0,0):J};j.Yk=function(e){var A=j.WC(e.channel,e.rect);if(A.Kx(e.rect))return;
var a=j.Q(A.O());j.WP(e.channel,e.rect,a,A);e.channel=a;e.rect=A};j.jN=function(e){var A=j.Q(e.buffer.length>>2);
j.kI(e.buffer,A,3);var a=j.WC(A,e.rect);if(a.Kx(e.rect))return;var p=new j.Q(a.O()*4);j._M(e.buffer,e.rect,p,a);
e.buffer=p;e.rect=a};j.extend=function(e,A,a){if(e.rect.XH(A))return;var p=e.rect.pg(A),N=j.Q(p.O());
if(a!=null)N.fill(a);j.WP(e.channel,e.rect,N,p);e.rect=p;e.channel=N};j.abJ=function(e,A){if(A.QP()||e.rect.XH(A))return;
var a=e.rect.pg(A),p=j.Q(a.O()*4);j._M(e.buffer,e.rect,p,a);e.rect=a;e.buffer=p};j.x4=function(e,A,a){if(!a.QX(e))return!1;
var p=Math.floor(e.x)-a.x,N=Math.floor(e.y)-a.y,c=N*a.m+p;return A[c]>128};j.akZ=function(e,A,a){if(!a.QX(e))return!1;
var p=Math.floor(e.x)-a.x,N=Math.floor(e.y)-a.y,c=N*a.m+p;return A[4*c+3]>128};j.fo=function(e){if(j.AM.length<e){j.AM=j.Q(e);
j.AM.fill(255)}return j.AM};j.AM=j.Q(0);j.ou=function(e){if(j.nx.length<e)j.nx=j.Q(e);return j.nx};j.nx=j.Q(0);
j.js=function(e){this.gg=j.Q(e);this.o=j.Q(e);this.J=j.Q(e);this.k=j.Q(e)};j.js.prototype.clone=function(){var e=this.gg.length,A=new j.js(1);
A.gg=this.gg.slice(0);A.o=this.o.slice(0);A.J=this.J.slice(0);A.k=this.k.slice(0);return A};j._.a7n=function(e,A,a,p,N){var i=N[0]+1,Z=N[1],s=Math.abs(Z-25)/4,D=N[2],n=D%2+D*D>>1,S=j._.a;
S.tP(A,a);var F=S.Yp(1),$=S.Yp(1),m=S.Yp(1);S.aZ(e,p,D,D,n);S.oe(p);S.ko(p,F);S.zP(F,$,i,i,1);S.zP(F,m,i,i,i*i);
S.sub(m,$);S.t_($,s);(Z<25?S.sub:S.add)(F,$);S.Us($,p);S.B6(p)};j._.a2H=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);var Z=N[0]*2.55,s=N[1],D=s>>1,n=N[2]*.25,S=i.Yp(4),F=i.Yp(1),$=i.Yp(1);i.Ho(e,S,s,1,!0,D);
i.Ho(e,p,s,1,!1,D);i.lv(e,F);i.mr(F,Z);i.Tb(F,$,3);i.Mn(p,$,S);i.VW(S,p,n)};j._.axO=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);i.Q_(N[3]);var Z=N[0]*-3+80,s=N[1]*-3+80,D=N[2]/2+.5,n=N[4],S=N[5],F=i.Yp(1),$=i.Yp(1),m=i.Yp(1),J=i.Yp(1),w=i.Yp(4),f=i.Yp(4);
i.lv(e,F);i.GZ(F,$);i.jy(F,s,5);i.Nl(F,.4,0);i.Tb(F,m,3);i.XU(m,F,9,3,!0,27);i.GZ($,m);i.rQ(m);var b=i.KE(Z,5,m);
for(var c=0;c<i.VP;c++){$[c]=b[255-$[c]]}i.Nl($,.4,0);i.GZ($,m);i.Tb(m,J,2);i.XU(J,m,5,3,!1,15);i.t_(F,D);
i.t_(m,D);i.v3(p,2155905279);i.v3(f,n);i.v3(w,S);i.Mn(f,F,p);i.Mn(w,m,p)};j._.ahe=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);var Z=new Uint8Array(256),s=5+10*N[1];s+=N[1]>3?(N[1]-3)*10:0;var D=~~(N[2]*.73)+50,n=Math.min(D+s,128),S=n-D,F=-255*D;
for(var c=0;c<256;c++){var $=c*65;Z[c]=i.k8(F/S);F+=255}var m=i.Yp(1),J=i.Yp(1),w=i.Yp(1);i.lv(e,m);
i.GZ(m,w);i.Tb(m,J,2*N[0]+1);i.sub(J,m);i.t_(m,65);i.XU(m,J,9,3,!0,20);for(var c=0;c<i.VP;c++){var f=w[c],b=J[c];
m[c]=b>0?~~((b*f+(255-b)*128)/255):128}i.Tb(m,J,3);i.XU(J,m,15,2,!0,16);i.XU(J,w,15,2,!1,15);i.Sx(m,w);
i.AU(w,J,2);i.il(J,Z);i.Tb(J,m,2);i.q4(m,p)};j._.aiz=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);var Z=2*N[0]+1,s=i.uu[N[1]],D=N[2]*5.1,n=N[3],S=i.Yp(1),F=i.Yp(1),$=i.Yp(4),m=i.Yp(4);
i.v3($,n);i.oe($,p);i.E8(S,D);i.Us(S,p);i.B6(p,$);i.lv(e,F);i.Tb(F,S,Z);i.sub(S,F);i.t_(F,s);i.XU(F,S,9,3,!0,20);
i.Mn(e,S,$);i.ot($,p,3);i.Ho(p,$,15,2,!0,16);i.Ho(p,m,15,2,!1,16);i.Sx($,m);i.VW(m,p,2)};j._.aql=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);var Z=(15-N[0])/4+1,s=(15-N[1])/4+1,D=N[2],n=N[3],S=i.K7(N[4]),F=N[5]+1,$=N[6],m=N[7],J=N[8],w=i.Yp(1),f=i.Yp(1),b=i.Yp(1),L=i.Yp(1),C=i.Yp(4),M=i.Yp(4);
i.U0(b,D,n,$);i.lv(e,f);i.Tb(f,w,5);i.Iq(b,w,L,F,S);i.t_(L,Z);i.gd(L,2);i.rQ(w);i.Iq(b,w,f,F,S);i.t_(f,s);
i.gd(f,2);i.v3(C,2155905279);i.v3(M,m);i.v3(p,J);i.Mn(C,f,M);i.Mn(M,L,p)};j._.at5=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);i.Q_(N[3]);var Z=N[0],s=N[1]/10,D=N[2]/10,n=i.Yp(1),S=i.Yp(1),F=i.Yp(1),$=i.c1(),m=i.c1(),J=i.c1();
i.BO(n);i.Tb(n,S,11);i.Tb(S,n,11);i.na(n,$);i.yw(e,n);i.GZ(n,F);i.Tb(n,S,9);i.Tb(S,n,9);i.na(n,m);i.vh(m,J,5);
i.vh(J,m,5);i.DD($,.8);i.akQ($,m,.8,.9);i.KG(m,n,Z);i.zP(n,S,2,2,1);i.zP(S,n,2,2,3);i.zP(n,S,2,2,3);
i.zP(F,n,5,5,13);i._3(S,n,S,s);i.fr(n,S,S,D);i.Iq(S,S,n,5,1);i.oe(e,p);i.Us(n,p);i.B6(p)};j._.agA=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);var Z=N[0],s=N[1]/2,D=N[2],n=Z/2,S=i.Yp(4),F=i.Yp(4);i.GZ(e,p);for(var $=0;$<D;$++){i.Ho(p,S,Z,1,!0,n);
i.Ho(p,F,Z,1,!1,n);i.Sx(F,S);i.ot(S,F,2);i.VW(F,p,s)}};j._.ayk=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);
var Z=N[0]*10,s=N[1]*4.9,D=N[2]*4.9,n=i.Yp(1),S=i.Yp(1),F=i.Yp(4),$=i.Yp(4);i.lv(e,n);i.mr(n,i.azf(n,Z));
i.Tb(n,S,3);i.Ho(e,F,5,1,!1,1);i.Ho(e,p,15,2,!0,16);i.Mn(p,S,F);i.oe(F,p);i.ko(p,n);i.jy(n,s,D);i.Us(n,p);
i.B6(p)};j._.aat=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);i.Q_(N[4]);var Z=N[0]/20,s=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][N[1]],D=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][N[2]],n=N[3],S=new Int16Array(256);
for(var c=0;c<256;c++){S[c]=~~((c-128)*Z)}var F=i.Yp(1),$=i.Yp(1),m=i.Yp(4);i.lv(e,F);i.Tb(F,$,25);i.t_($,s);
i.gd($,D);i.Tb($,F,25);i.BO($);i.NL(F,$,S);i.GZ(e,p);i.v3(m,n);i.Mn(m,F,p)};j._.aed=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);var Z=N[0]+5,s=15-N[1],D=Z*Z/2,n=1-(3-N[2])/10,S=~~(s*s*n-1),F=~~(s*s*(1-n));if(F==0)F=1;var $=i.Yp(1),m=i.Yp(1),J=i.Yp(1),w=i.Yp(4);
i.lv(e,J);i.zP(J,$,Z,Z,D);i.Tb(J,m,Z);i.sub($,m);i.mr(m,1);i.aZ(e,w,s,s,S);i.aZ(e,p,s,s,F);i.Mn(w,m,p)};
j._.amY=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);i.Q_(N[3]);var Z=(20-N[0])*.05,s=N[1]*-2.75+60,D=65-s,n=N[2]/10,S=i.Yp(1),F=i.Yp(1);
i.yw(e,F);var $=i.KE(s,D,F);i.oe(e,p);i.ko(p,F);i.BO(S);i.Xu(F,S,Z);i.il(F,$);i.t_(F,N[2]/10);i.add(S,F);
i.Us(F,p);i.B6(p)};j._.amy=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);var Z=5+N[0],s=15-N[1],D=N[2],n=Z*Z/2+Z*Z%2*1,S=1-(3-N[2])/10,F=~~(s*s*S-1),$=~~(s*s*(1-S));
if($==0)$=1;var m=i.Yp(1),J=i.Yp(1),w=i.Yp(1),f=i.Yp(1),b=i.Yp(1);i.yw(e,J);i.AU(J,m,3);i.zP(m,J,2,2,1);
var L=i.KE(20,20,J);i.il(J,L);i.Tb(J,b,5);i.zP(b,m,Z,Z,n);i.zP(b,J,s,s,F);i.zP(b,w,s,s,$);i.Tb(b,f,Z);
i.sub(m,f);i.mr(f,1);i.Ks(J,f,w);i.oe(e,p);i.Us(w,p);i.B6(p)};j._.afH=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);i.Q_(N[5]);var Z=i.VP,s=i.Vl,D=N[0],n=N[1],S=N[2],F=N[3],$=N[4],m=.05*D+1,J=D/100,w=D>>1,f=2*D-100,b=+(n==9),L=+(n==7),C=[4,1][b],M=[3,2][b],y=[1,2][L],Q=[2,1][L],k=[50,75][b],E=n<4?S:(S>>1)+50,_=i.XB(k,E),v=i.Lc(F),V=i.Lc($),R=i.Yp(4),h=i.Yp(4),P=i.Yp(1),H=i.Yp(1);
function U(p,_){if(E!=50){i.fc(p,_)}}function X(e,r){for(var c=0;c<Z;c++){e[c]=i.k8(e[c]+(r[c]-128)*J)}}function x(e,r){for(var c=0,G=0;
c<Z;c++){e[G]=i.k8(e[G]+(r[G]-128)*J);e[G+1]=i.k8(e[G+1]+(r[G+1]-128)*J);e[G+2]=i.k8(e[G+2]+(r[G+2]-128)*J);
G+=4}}function K(e,p){i.BO(h);i.GZ(e,p);x(p,h);U(p,_)}function T(r){var G=0;for(var Y=0;Y<12;Y++)G+=i.random();
return i.k8(w*(G-6)+r)}function I(e,p){i.GZ(e,p);for(var c=0;c<s;c+=4){p[c]=T(p[c]);p[c+1]=T(p[c+1]);
p[c+2]=T(p[c+2])}U(p,_)}function o(e,p){i.GZ(e,p);for(var c=0;c<s;c+=4){if(i.random()<J){p[c]=v[0];p[c+1]=v[1];
p[c+2]=v[2]}}U(p,_)}function l(e,p){i.BO(R);i.aZ(R,h,M,M,C);i.GZ(e,R);x(R,h);i.aZ(R,p,5,5,13);U(p,_)}function O(e,p){i.BO(h);
i.GZ(e,R);x(R,h);U(p,_);i.aZ(R,p,M,M,C)}function g(e,p){i.GZ(e,R);U(p,_);i.lv(R,P);for(var c=0,r=0;c<Z;
c++){var G=((f-P[c]+255)*128.5+.5)/32767;if(i.random()<=G){p[r++]=V[0];p[r++]=V[1];p[r++]=V[2]}else{p[r++]=v[0];
p[r++]=v[1];p[r++]=v[2]}p[r]=e[r];r++}}function W(e,p){i.oe(e,p);i.ko(p,P);i.AU(P,H,m);i.zP(H,P,M,M,C);
i.il(P,_);i.Us(P,p);i.B6(p)}function d(e){var r=0;if(n==8){for(var G=0;G<A;G++){e[r++]=~~(i.random()*255)}for(var c=1;
c<a;c++){for(var G=0;G<A;G++){e[r++]=e[G]}}}else{for(var c=0;c<a;c++){var Y=~~(i.random()*255);for(var G=0;
G<A;G++){e[r++]=Y}}}}function gT(e,p){i.lv(e,P);i.BO(H);X(P,H);d(H);X(P,H);i.ot(e,R,9);i.ot(R,h,9);i.Tb(P,H,2);
i.il(H,_);i.Tb(H,P,2);i.oe(h,p);i.Us(P,p);i.B6(p)}[K,I,o,l,l,O,g,gT,gT,W][n](e,p)};j._.a58=function(e,A,a,p,N){var i=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],Z=j._.a,w=0,f,c,y,Q,k,E=0,_=1,v=255;
Z.tP(A,a);Z.Q_(N[3]);var s=Z.Yp(1),D=Z.Yp(1);Z.lv(e,s);var n=N[0],S=N[1],F=S<=50?i[S]/255:1+(255-i[101-S])/255,$=N[2],m=s.length,J=new Float32Array(m),b=1+1/10*n,L=(1-1/b)/2,C=16/256,M=A-1;
for(c=0;c<Z.VP;c++){J[c]=s[c]/255;D[c]=n==1?Z.random()<1/255?v:_:_}function V(R,h){var P=R*A+h;if(D[P]!=_||R>=a||h>=A){return}var Q=J[P],H=F-Q,U=Z.random(),X=U/b+L;
if(w==0||Math.abs(k-Q)>C){f=X<=H?E:v;w=~~(Z.random()*n)}else if(.1<U){w--}else{w=0}D[P]=f;k=Q}if($==0){for(c=0;
c<A;c++){for(y=0;y<A;y++){Q=c+y;if(Q>=A)break;V(y,M-Q)}w=0}for(c=1;c<a;c++){for(y=0;y<a;y++){Q=c+y;if(Q>=a||y>=A)break;
V(Q,M-y)}w=0}}else if($==1){for(c=0;c<a;c++){for(y=0;y<A;y++){V(c,y)}w=0}}else if($==2){for(c=0;c<A;
c++){for(y=0;y<A;y++){Q=c+y;if(Q>=A)break;V(y,Q)}w=0}for(c=1;c<a;c++){for(y=0;y<a;y++){Q=c+y;if(Q>=a||y>=A)break;
V(Q,y)}w=0}}else{for(c=0;c<A;c++){for(y=0;y<a;y++){V(y,c)}w=0}}Z.q4(D,p)};j._.a1t=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);var Z=N[0],s=N[1],D=N[2],n=i.Yp(1),S=i.Yp(1),F=i.Yp(1),$=i.Yp(1),m=i.Yp(4),J=i.Yp(4);i.ko(e,$,3,4);
i.lv(e,n);i.zP(n,S,3,3,1);i.zP(n,F,3,3,9);i.sub(F,S);i.Tb(S,n,3);i.jy(n,40,10,$);i.Ho(e,p,Z,2,!1,Z);
i.Ho(e,m,Z,2,!0,Z);i.v3(J,255);i.Mn(p,n,J);i.Mn(J,n,m);i.VW(m,p,1);i.oe(p);i.ko(p,n);i.jy(n,s,D,$);i.Us(n,p);
i.B6(p)};j._.agS=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);i.Q_(N[3]);var Z=N[0],s=N[1],D=N[2]/10;Z=Z+s;
var n=i.Yp(1),S=i.Yp(1),F=i.c1(),$=i.c1();i.BO(n);i.Tb(n,S,11);i.Tb(S,n,11);i.na(n,F);i.vh(F,$,5);i.vh($,F,5);
i.DD($,.97);i.KG($,n,Z);i.zP(n,S,s,s,1);i.yw(e,n);i._3(S,n,S,.6);i.fr(n,S,S,D);i.Iq(S,S,n,5,1);i.oe(e,p);
i.Us(n,p);i.B6(p)};j._.axi=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);var Z=Math.abs(N[0]),s=Z+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][Z],D=2*Z+1,n=N[1]/10,S=n*13/15,F=i.Yp(1),$=i.Yp(1),m=i.Yp(1),J=i.Yp(1),w=i.Yp(4),f=i.Yp(4),b=i.Yp(4),L=i.Yp(4),C=i.Yp(4);
i.lv(e,F);if(N[0]>=0){i.rQ(F)}i.GZ(F,m);i.Tb(F,J,s);i.Tb(J,F,s);i.t_(F,n);i.GZ(F,$);i.Tb(F,J,D);i.Tb(J,F,D);
i.t_(F,S);i.v3(b,N[2]);i.v3(L,N[3]);i.v3(C,N[4]);i.Mn(b,F,L,w);i.Mn(C,$,w,f);i.Mn(L,m,f,p);i.ko(e,m,3);
i.Us(m,p,3)};j._.ayG=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);i.Q_(N[5]);var Z=N[0]*5.1,s=N[1]/100,D=i.ha[N[2]],n=i.Yp(1),S=i.Yp(1),F=i.Yp(1);
i.lv(e,n);i.E8(S,255);i.BO(F);i.mr(n,Z);i.Xu(S,n,.7);i.Xu(F,n,s);i.Iq(n,n,S,5,D);i.GZ(e,p);i.auY(p,Z,N[4],N[3]);
i.oe(p);i.Us(S,p);i.B6(p)};j._.a3f=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);var Z=N[0],s=4-N[1],D=11-N[2],n=i.Yp(1),S=i.Yp(1),F=i.Yp(4);
i.yw(e,S);for(var c=0;c<s;c++){i.GZ(S,n);i.Gg(n,S,Z,Z)}i.ot(e,F,Z);i.oe(F,F);i.Us(S,F);i.B6(F,F);(D<11?i.anW:i.GZ)(F,p,D)};
j._.a39=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);i.Q_(N[2]);var Z=N[0]+5,s=~~(Z/5+1),D=~~(Z/2)+1,n=D*D,S=~~(Z/3),F=i.ha[N[1]],$=new Array(256);
for(var c=0;c<256;c++){$[c]=~~(.2*(c-128))}var m=i.Yp(1),J=i.Yp(1);i.aeK(e,p,Z);i.oe(p);i.ko(p,m);i.BO(J);
i.NL(m,J,$);i.a1i(J,Z,Z,s,s);i._3(m,J,m,1);i.Tb(m,J,S);i.Tb(J,m,S);i.zP(m,J,D,D,n);i.Iq(J,J,m,5,F);i.Us(m,p);
i.B6(p)};j._.aqP=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);var Z=i.Yp(1),s=i.Yp(1),D=i.Yp(1),n=i.c1(),S=i.c1();
i.lv(e,Z);i.Tb(Z,s,N[2]);i.mr(s,N[0]*5.1);i.zP(s,Z,2,2,4);i.Tb(Z,s,3);i.Tb(s,Z,3);i.GZ(Z,D);i.Tb(Z,s,5);
i.Tb(s,Z,5);i.na(Z,n);i.vh(n,S,5);i.vh(S,n,5);i.a4W(n,s,N[1]);i.rQ(s);i._3(D,s,D,1);i.q4(D,p)};j._.a2l=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);var Z=1<<7-N[2],s=i.Yp(1),D=i.Yp(1),n=i.Yp(1);i.yw(e,D);i.Tb(D,s,3);i.GZ(s,D);i.Tb(s,n,N[0]+5);
i.sub(n,D);i.jy(D,1,N[1]);i.t_(s,1/Z);i.t_(s,Z);i.sub(s,D);i.oe(e,p);i.Us(D,p);i.B6(p)};j._.a0O=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);i.Q_(N[3]);var Z=i.Yp(1),s=i.Yp(1),D=i.Yp(1);i.lv(e,Z);i.adr(s,N[0]/50);i.Tb(s,D,3);i.zP(Z,s,9,9,41);
i.jy(s,N[1],N[2]);i._3(s,D,D,.75);i.fr(s,D,s,.5);i.GZ(s,Z);i.zP(Z,D,3,3,8);i._3(D,s,D,.75);i.t_(D,1.2);
i.AU(D,Z,1);i.Tb(Z,D,2);i.AU(D,Z,2);i.t_(Z,1.2);i.Tb(Z,D,2);i.q4(D,p)};j._.abU=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);var Z=N[0]+9,s=N[1]/2,D=N[2],n=N[3],S=i.K7(N[4]),F=N[5]+1,$=N[6],m=i.Yp(1),J=i.Yp(1),w=i.Yp(4),f=i.Yp(4);
i.U0(J,D,n,$);i.N4(e,p,Z,1,1);i.N4(p,w,Z,1,1);i.aip(w,w,f,7,s);i.t_(f,1.2);i.gd(f,1.2);i.Iq(J,m,m,F,S);
i.t_(m,3);i.GZ(e,p);i.Mn(f,m,p)};j._.a9G=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);i.Q_(N[3]);var Z=N[0]+4,s=Z*2/5+(Z%5|0);
Z--;var D=N[1]*-2.75+60,n=65-D,S=N[2]/10,F=i.Yp(1),$=i.Yp(1);i.BO(F);i.yw(e,$);var m=i.KE(D,n,$);i.oe(e,p);
i.ko(p,$);i.Xu($,F,.8);i.il($,m);i.t_($,S);i.add(F,$);i.XU($,F,Z,3,!1,s);i.Us(F,p);i.B6(p)};j._.a8i=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);i.Q_(N[3]);var Z=N[0]+5,s=(Z*Z>>1)+Z%2,D=N[1]/10,n=N[2],S=(n*n>>1)+n%2,F=i.Yp(1),$=i.Yp(1),m=i.Yp(1),J=i.Yp(4),w=i.Yp(4),f=i.Yp(4);
i.BO(m);i.oe(e,f);i.ko(f,F);i.Xu(F,m,.8);i.Tb(m,F,3);i.AU(F,m,D);i.Us(m,f);i.B6(f,f);i.lv(f,m);i.zP(m,F,Z,Z,s);
i.Tb(m,$,Z);i.sub(F,$);i.mr($,1);i.aZ(f,J,7,7,40);i.aZ(f,w,7,7,10);i.Mn(J,$,w);i.aZ(w,p,n,n,S)};j._.agG=function(e,A,a,p,N){var i=j._.a,s=255,c,n;
i.tP(A,a);var Z=N[0];if(Z<2)s=Z;else if(Z<12)s=5*Z-5;else if(Z<47)s=2*Z+28;else if(Z<50){c=Z-47;s=125+12.5*c+12.5*c*c}var D=new Uint8Array(256);
for(c=75,n=15;c<256;c++,n+=24)D[c]=Math.min(255,n);var S=i.Yp(1),F=i.Yp(1),$=i.Yp(1);i.lv(e,S);i.Tb(S,F,11);
i.Tb(F,$,11);i.sub($,S);i.t_(S,8);i.sub($,S);i.mr(S,s);i.rQ(S);i.Tb(S,F,5);i.mr(F,51);i.Tb(F,S,N[1]);
i.Tb(S,F,N[1]);i.rQ(F);i.il(F,D);i.q4(F,p)};j._.a8Q=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);var Z=i.uu[N[1]],s=N[2],D=s*1.5,n=i.Yp(1),S=i.Yp(1),F=i.Yp(1);
i.yw(e,n);i.XU(n,S,15,2,!0,15);i.GZ(S,F);i.jy(F,s,D);i.Tb(F,n,3);i.Tb(S,F,N[0]);i.sub(F,S);i.t_(S,Z);
i.sub(n,S);i.Tb(S,n,3);i.XU(n,S,3,1,!1,1);i.ot(e,p,15);i.oe(p);i.Us(S,p);i.B6(p)};j._.a4w=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);i.Q_(N[3]);var Z=N[0]*5.1,s=16-N[1],D=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][N[2]],n=i.Yp(1),S=i.Yp(1),F=i.Yp(1);
i.lv(e,n);i.mr(n,Z);i.Tb(n,S,s);i.Tb(S,n,s);i.BO(F);i.fr(n,F,F,1);i._3(n,F,n,.75);i.t_(n,D);i.gd(n,D);
i.zP(n,S,2,2,2);i.q4(S,p)};j._.abH=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);var Z=N[0]+9,s=N[1]+9,D=N[2],n=N[3],S=i.K7(N[4]),F=N[5]+1,$=N[6],m=i.Yp(1),J=i.Yp(1),w=i.Yp(1),f=i.Yp(1),b=i.Yp(1),L=i.Yp(4);
i.yw(e,m);i.Gg(m,w,Z,Z);i.Tb(w,m,s);i.GZ(w,b);i.GZ(m,f);i.sub(b,f);i.sub(m,b);i.add(b,f);i.t_(f,10);
i.U0(J,D,n,$);i.Iq(J,m,b,F,S);i.Ks(b,f,w,.8);i.ot(e,L,9);i.ot(L,p,9);i.oe(p);i.Us(w,p);i.B6(p)};j._.apZ=function(e,A,a,p,N){var i=j._.a;
i.tP(A,a);var Z=16-N[0],s=N[1]*8,D=1-(3-N[2])/10,n=~~(Z*Z*D-1),S=~~(Z*Z*(1-D));if(S==0)S=1;var F=i.Yp(1),$=i.Yp(1),m=i.Yp(1),J=i.Yp(4);
i.lv(e,m);i.zP(m,F,7,7,25);i.Tb(m,$,7);i.sub(F,$);i.mr($,1);i.aZ(e,J,Z,Z,n);i.aZ(e,p,Z,Z,S);i.Mn(J,$,p);
i.oe(p);i.ko(p,F);i.zP(F,m,3,3,1);i.zP(F,$,3,3,9);i.sub($,m);i.GZ(m,$);i.sub(F,m);i.sub(m,$);i.zP($,F,3,3,8);
i.jy(F,s,1);i.Us(F,p);i.B6(p)};j._.a3T=function(e,A,a,p,N){var i=j._.a;i.tP(A,a);i.Q_(N[3]);var Z=N[0],s=N[1],D=N[2],n=Z>>1,S=Math.max(~~(Z/5),1),F=Math.max(~~(Z*2/3),1),$=i.XB(s,D),m=i.Yp(1),J=i.Yp(1),w=i.Yp(1),f=i.Yp(1),b=i.Yp(4);
i.yw(e,m);i.HK(2147483647,4,2,2,0,255,J);i.HK(4,2147483647,2,2,0,255,f);i.BO(w);i.fr(J,w,J,1);i.fr(f,w,f,1);
i.fr(J,m,J,1);i.fr(f,m,f,1);i.ot(e,b,n);i.ot(b,p,n);i.zP(J,m,1,Z,S);i.zP(m,J,3,Z,F);i.zP(f,m,Z,1,S);
i.zP(m,f,Z,3,F);i.Sx(J,f);i.oe(p);i.Us(f,p);i.B6(p);i.fc(p,$)};j._.Cl=function(e,A,a){var p=a.amN,N=a.VP,i=a.Yp(1),top=a.Yp(1),Z=a.Yp(1),s=a.Yp(1),D=a.Yp(1),n=a.Yp(1),S=a.Yp(1),F=a.Yp(1),$=a.Yp(1),m=a.SB,J=a.Ps,w=j.N_.uC,f=j.N_.ZB;
w(e,i,m,J,f([8,5,2,5,2,-1,2,-1,-4]));w(e,top,m,J,f([5,5,5,2,2,2,-1,-1,-1]));w(e,Z,m,J,f([2,5,8,-1,2,5,-4,-1,2]));
w(e,s,m,J,f([5,2,-1,5,2,-1,5,2,-1]));w(e,D,m,J,f([2,2,2,2,2,2,2,2,2]));w(e,n,m,J,f([-1,2,5,-1,2,5,-1,2,5]));
w(e,S,m,J,f([2,-1,-4,5,2,-1,8,5,2]));w(e,F,m,J,f([-1,-1,-1,2,2,2,5,5,5]));w(e,$,m,J,f([-4,-1,2,-1,2,5,2,5,8]));
var b=[i,top,Z,s,D,n,S,F,$];for(var L=0;L<J;L++){for(var C=0;C<m;C++){var M=L*m+C,y=e[M],Q=null,k=0;
for(var E=-1;E<2;E++){for(var _=-1;_<2;_++){var v=b[(E+1)*3+_+1],V=Math.max(0,Math.min(L+E,J-1)),R=Math.max(0,Math.min(C+_,m-1)),h=v[V*m+R],P=Math.abs(h-y);
if(Q==null||P<Q){Q=P;k=h}}}A[M]=k}}};j._.a0t=function(e,A,a,p,N){var self=j._.a;self.tP(A,a);var i=self.Yp(1),Z=self.Yp(1);
for(var c=0;c<4;c++){self.ko(e,i,c);if(c<3){j._.Cl(i,Z,self);j._.Cl(Z,i,self);j._.Cl(i,Z,self);j._.Cl(Z,i,self);
j._.Cl(i,Z,self);j._.Cl(Z,i,self);j._.Cl(i,Z,self);j._.Cl(Z,i,self);j._.Cl(i,Z,self)}else Z=i;self.Us(Z,p,c)}};
j._.a={};j._.a.SB=0;j._.a.Ps=0;j._.a.VP=0;j._.a.Qg=0;j._.a.Vl=0;j._.a.tP=function(e,A){var a=e*A,self=j._.a;
self.SB=e;self.Ps=A;self.VP=a;self.Qg=a<<1;self.Vl=a<<2};j._.a.Q_=function(e){j._.a.random=function(){var A=e+=1831565813;
A=Math.imul(A^A>>>15,A|1);A^=A+Math.imul(A^A>>>7,A|61);return((A^A>>>14)>>>0)/4294967296}};j._.a.Yp=function(e){var A=j._.a;
return new Uint8Array([-1,A.VP,A.Qg,-1,A.Vl][e])};j._.a.c1=function(){return new Int32Array(j._.a.Qg)};
j._.a.Tb=function(e,A,a,p){if(p==null)p=a;var self=j._.a,N=self.SB,i=self.Ps,Z=p,s=p>>1,D=a,n=a>>1,S=a*p,F=0;
for(var c=0;c<i;c++){var $=0;for(var m=0;m<Z;m++){for(var J=0;J<D;J++){var w=0-n+J,f=c-s+m;if(w<0)w=0;
else if(w>=N)w=N-1;if(f<0)f=0;else if(f>=i)f=i-1;$+=e[f*N+w]}}A[F++]=~~($/S);for(var b=1;b<N;b++){for(var m=0;
m<Z;m++){var L=b-n-1,C=L+D,f=c-s+m;if(L<0)L=0;if(C>=N)C=N-1;if(f<0)f=0;else if(f>=i)f=i-1;$+=e[f*N+C]-e[f*N+L]}A[F++]=~~($/S)}}};
j._.a.vh=function(e,A,a,p){var self=j._.a,N=new Int32Array(self.VP),i=new Int32Array(self.VP);for(var c=0;
c<2;c++){self.ko(e,N,c,2);self.Tb(N,i,a,p);self.Us(i,A,c,2)}};j._.a.ot=function(e,A,a,p){var self=j._.a,N=self.Yp(1),i=self.Yp(1);
for(var c=0;c<4;c++){self.ko(e,N,c);if(c<3)self.Tb(N,i,a,p);else i=N;self.Us(i,A,c)}};j._.a.N4=function(e,A,a,p,N){var self=j._.a,i=self.SB,Z=self.Ps,s=a+p-1,D=a>>1,n=s>>1,S=0,F=a*p,$=new Int32Array(a);
for(var c=0;c<Z;c++){var m=0,J=0,w=0;for(var f=0;f<a;f++){var b=N?s-f-p:f;for(var L=b,C=p+b;L<C;L++){var M=0-n+L,y=c-D+f;
if(L==b){$[f]=M}if(M<0)M=0;else if(M>=i)M=i-1;if(y<0)y=0;else if(y>=Z)y=Z-1;var Q=i*y+M<<2;m+=e[Q];J+=e[Q+1];
w+=e[Q+2]}}A[S++]=~~(m/F);A[S++]=~~(J/F);A[S++]=~~(w/F);A[S]=e[S];S++;for(var k=1;k<i;k++){for(var f=0;
f<a;f++){var y=c-D+f,b=$[f]+1;$[f]=b;var E=b-1,_=b+p-1;if(y<0)y=0;else if(y>=Z)y=Z-1;if(E<0)E=0;else if(E>=i)E=i-1;
if(_<0)_=0;else if(_>=i)_=i-1;var v=y*i+E<<2,V=y*i+_<<2;m=m+e[V]-e[v];J=J+e[V+1]-e[v+1];w=w+e[V+2]-e[v+2]}A[S++]=~~(m/F);
A[S++]=~~(J/F);A[S++]=~~(w/F);A[S]=e[S];S++}}};j._.a.XU=function(e,A,a,p,N,i){var self=j._.a,Z=self.SB,s=self.Ps,D=a+p-1,n=a>>1,S=D>>1,F=0,$=new Int32Array(a),m=new Int32Array(256),J=new Int32Array(16);
for(var c=0;c<s;c++){for(var w=0;w<256;w++){m[w]=0}for(var w=0;w<16;w++){J[w]=0}for(var f=0;f<a;f++){var b=N?D-f-p:f;
for(var L=b,C=p+b;L<C;L++){var M=0-S+L,y=c-n+f;if(L==b){$[f]=M}if(M<0)M=0;else if(M>=Z)M=Z-1;if(y<0)y=0;
else if(y>=s)y=s-1;m[e[y*Z+M]]++;J[e[y*Z+M]>>>4]++}}var Q=0,k=0;while(Q+J[k>>>4]<i){Q+=J[k>>>4];k+=16}for(;
k<256;k++){Q+=m[k];if(Q>=i)break}A[F++]=k;for(var w=1;w<Z;w++){for(var f=0;f<a;f++){var y=c-n+f,b=$[f]+1;
$[f]=b;var E=b-1,_=b+p-1;if(y<0)y=0;else if(y>=s)y=s-1;if(E<0)E=0;else if(E>=Z)E=Z-1;if(_<0)_=0;else if(_>=Z)_=Z-1;
m[e[y*Z+E]]--;m[e[y*Z+_]]++;J[e[y*Z+E]>>>4]--;J[e[y*Z+_]>>>4]++}Q=0;k=0;while(Q+J[k>>>4]<i){Q+=J[k>>>4];
k+=16}for(;k<256;k++){Q+=m[k];if(Q>=i)break}A[F++]=k}}};j._.a.Ho=function(e,A,a,p,N,i){var self=j._.a,Z=self.Yp(1),s=self.Yp(1);
for(var c=0;c<4;c++){self.ko(e,Z,c);if(c<3)self.XU(Z,s,a,p,N,i);else s=Z;self.Us(s,A,c)}};j._.a.zP=function(e,A,a,p,N){N=Math.min(p*a,N);
var self=j._.a,i=self.SB,Z=self.Ps,s=p>>1,D=a>>1,n=0,S=new Int32Array(p),F=new Int32Array(256),$=new Int32Array(16);
for(var c=0;c<Z;c++){for(var m=0;m<256;m++){F[m]=0}for(var m=0;m<16;m++){$[m]=0}for(var J=0;J<p;J++){for(var w=0,f=a;
w<f;w++){var b=0-D+w,L=c-s+J;if(w==0){S[J]=b}if(b<0)b=0;else if(b>=i)b=i-1;if(L<0)L=0;else if(L>=Z)L=Z-1;
F[e[L*i+b]]++;$[e[L*i+b]>>>4]++}}var C=0,M=0;while(C+$[M>>>4]<N){C+=$[M>>>4];M+=16}for(;M<256;M++){C+=F[M];
if(C>=N)break}A[n++]=M;for(var m=1;m<i;m++){for(var J=0;J<p;J++){var L=c-s+J,y=S[J]+1;S[J]=y;var Q=y-1,k=y+a-1;
if(L<0)L=0;else if(L>=Z)L=Z-1;if(Q<0)Q=0;else if(Q>=i)Q=i-1;if(k<0)k=0;else if(k>=i)k=i-1;F[e[L*i+Q]]--;
F[e[L*i+k]]++;$[e[L*i+Q]>>>4]--;$[e[L*i+k]>>>4]++}C=0;for(M=0;M<256;M++){C+=F[M];if(C>=N)break}A[n++]=M}}};
j._.a.aZ=function(e,A,a,p,N){var self=j._.a,i=self.Yp(1),Z=self.Yp(1);for(var c=0;c<4;c++){self.ko(e,i,c);
if(c<3)self.zP(i,Z,a,p,N);else Z=i;self.Us(Z,A,c)}};j._.a.AU=function(e,A,a){var self=j._.a,p=self.SB,N=self.Ps,i=0;
for(var c=0;c<N;c++){var Z=c*p,s=(c-1)*p,D=(c+1)*p;if(s<0)s=Z;if(D>=N)D=Z;for(var n=0;n<p;n++){var S=n-1,F=n+1;
if(S<0)S=n;if(F>=p)F=n;var $=Z+S,m=Z+F,J=s+n,w=D+n,f=Z+n,b=e[$],L=e[m],C=e[J],M=e[w],y=e[f],Q=y+(y*4*a+.5);
Q=Q-((b+L+M+C)*a+.5);A[i++]=self.k8(Q)}}};j._.a.VW=function(e,A,a){var self=j._.a,p=self.Yp(1),N=self.Yp(1);
for(var c=0;c<4;c++){self.ko(e,p,c);if(c<3)self.AU(p,N,a);else N=p;self.Us(N,A,c)}};j._.a.anW=function(e,A,a){var self=j._.a,p=self.SB,N=self.Ps,i=0,Z=a+4;
for(var c=0;c<N;c++){var s=c*p,D=(c-1)*p,n=(c+1)*p;if(D<0)D=s;if(n>=N)n=s;for(var S=0;S<p;S++){var F=S-1,$=S+1;
if(F<0)F=S;if($>=p)$=S;var m=s+F<<2,J=s+$<<2,w=D+S<<2,f=n+S<<2,b=s+S<<2;for(var L=0;L<3;L++){var C=e[m+L],M=e[J+L],y=e[w+L],Q=e[f+L],k=e[b+L];
A[i++]=(k*a+C+M+Q+y)/Z}A[i]=e[i];i++}}};j._.a.Gg=function(e,A,a,p){var self=j._.a,N=self.SB,i=self.Ps,Z=a>>1,s=p>>1,D=0,n=new Int32Array(a),S=new Int32Array(256);
for(var c=0;c<i;c++){for(var F=0;F<256;F++){S[F]=0}for(var $=0;$<a;$++){for(var m=0,J=p;m<J;m++){var w=0-s+m,f=c-Z+$;
if(m==0){n[$]=w}if(w<0)w=0;else if(w>=N)w=N-1;if(f<0)f=0;else if(f>=i)f=i-1;S[e[f*N+w]]++}}var b=0,L=0;
for(var C=0;C<256;C++){if(b<S[C]){L=C;b=S[C]}}A[D++]=L;for(var F=1;F<N;F++){for(var $=0;$<a;$++){var f=c-Z+$,M=n[$]+1;
n[$]=M;var y=M-1,Q=M+p-1;if(f<0)f=0;else if(f>=i)f=i-1;if(y<0)y=0;else if(y>=N)y=N-1;if(Q<0)Q=0;else if(Q>=N)Q=N-1;
S[e[f*N+y]]--;S[e[f*N+Q]]++}b=0;L=0;for(var C=0;C<256;C++){if(b<S[C]){L=C;b=S[C]}}A[D++]=L}}};j._.a.a38=[function(e,A,a,p,N,i,Z,s,D,n){return N+(e+A+a)*n-(D+s+Z)*n},function(e,A,a,p,N,i,Z,s,D,n){return N+(A+a+i)*n-(s+Z+p)*n},function(e,A,a,p,N,i,Z,s,D,n){return N+(a+i+D)*n-(Z+p+e)*n},function(e,A,a,p,N,i,Z,s,D,n){return N+(i+D+s)*n-(p+e+A)*n},function(e,A,a,p,N,i,Z,s,D,n){return N+(D+s+Z)*n-(e+A+a)*n},function(e,A,a,p,N,i,Z,s,D,n){return N+(s+Z+p)*n-(A+a+i)*n},function(e,A,a,p,N,i,Z,s,D,n){return N+(Z+p+e)*n-(a+i+D)*n},function(e,A,a,p,N,i,Z,s,D,n){return N+(p+e+A)*n-(i+D+s)*n}];
j._.a.Iq=function(e,A,a,p,N){var self=j._.a,i=self.SB,Z=self.Ps,s=i,D=self.a38[p-1];for(var c=0;c<Z;
c++){var n=(c>0?c-1:0)*s,S=c*s,F=(c<Z?c+1:c)*s;for(var $=0;$<i;$++){var m=$>0?$-1:0,J=$<i?$+1:$,w=S+$,f=e[n+m],b=e[n+$],L=e[n+J],C=e[S+m],M=A[w],y=e[S+J],Q=e[F+m],k=e[F+$],E=e[F+J];
a[w]=self.k8(D(f,b,L,C,M,y,Q,k,E,N))}}};j._.a.aip=function(e,A,a,p,N){var self=j._.a,i=self.Yp(1),Z=self.Yp(1),s=self.Yp(1);
for(var c=0;c<3;c++){self.ko(e,i,c);self.ko(A,Z,c);self.Iq(i,Z,s,p,N);self.Us(s,a,c)}self.ko(A,i,3);
self.Us(i,a,3)};j._.a.lv=function(e,A){var a=e.length,p=0;for(var c=0;c<a;c++){A[p++]=~~((e[c++]+e[c++]+e[c++]+2)/3)}};
j._.a.q4=function(e,A){var a=A.length,p=0;for(var c=0;c<a;c++){var N=e[c];A[p++]=N;A[p++]=N;A[p++]=N;
A[p++]=255}if(A[0]==255)A[0]--;else A[0]++};j._.a.yw=function(e,A){var a=A.length,p=0;for(var c=0;c<a;
c++){var N=e[p++],i=e[p++],Z=e[p++];p++;if(i>N)N=i;if(Z>N)N=Z;A[c]=N}};j._.a.oe=function(e,A){if(A==null)A=e;
var a=e.length;for(var p=0;p<a;p+=4){var N=e[p],i=e[p+1],Z=e[p+2],s=N,D=0,n=N,F;if(i<=N){N=i}else{D=1;
n=i}if(Z<=n){if(N>Z){N=Z}}else{D=2;n=Z}var S=n-N;if(S!=0){if(D==0){F=~~(43*(i-Z)/S)}else if(D==1){F=~~(43*(Z+2*S-s)/S)}else{F=43*(s+4*S-i)/S}if(F<0){F=255&F-1}A[p]=F;
A[p+1]=~~(255*S/n)}else{A[p]=S;A[p+1]=S}A[p+2]=n;A[p+3]=e[p+3]}};j._.a.B6=function(e,A){if(A==null)A=e;
var a=e.length;for(var p=0;p<a;p+=4){var N=e[p],i=e[p+1],Z=e[p+2];if(i){if(N==255)N=0;var s=~~(6*N/255),D=~~(-255*s+6*N);
if(s==0){A[p]=Z;A[p+1]=~~(Z*(255-i*(255-D)/255)/255);A[p+2]=~~(Z*(255-i)/255)}else if(s==1){A[p]=~~(Z*(255-i*D/255)/255);
A[p+1]=Z;A[p+2]=~~(Z*(255-i)/255)}else if(s==2){A[p]=~~(Z*(255-i)/255);A[p+1]=Z;A[p+2]=~~(Z*(255-i*(255-D)/255)/255)}else if(s==3){A[p]=~~(Z*(255-i)/255);
A[p+1]=~~(Z*(255-i*D/255)/255);A[p+2]=Z}else if(s==4){A[p]=~~(Z*(255-i*(255-D)/255)/255);A[p+1]=~~(Z*(255-i)/255);
A[p+2]=Z}else{A[p]=Z;A[p+1]=~~(Z*(255-i)/255);A[p+2]=~~(Z*(255-i*D/255)/255)}}else{A[p]=Z;A[p+1]=Z;A[p+2]=Z}A[p+3]=e[p+3]}};
j._.a.Us=function(e,A,a,p){if(a==null)a=2;if(p==null)p=4;var N=e.length;for(var c=0;c<N;c++){A[a]=e[c];
a+=p}};j._.a.ko=function(e,A,a,p){if(a==null)a=2;if(p==null)p=4;var N=A.length;for(var c=0;c<N;c++){A[c]=e[a];
a+=p}};j._.a.Ks=function(e,A,a,p){if(p==null)p=1;var N=A.length,i=0,Z;for(var i=0;i<N;i++){Z=A[i];if(Z){Z*=p;
a[i]=~~((Z*e[i]+(255-Z)*a[i])/255)}}};j._.a.Mn=function(e,A,a,p){if(p==null)p=a;var N=A.length,i=0,Z,s;
for(var c=0;c<N;c++){Z=A[c];if(Z){s=255-Z;p[i]=~~((Z*e[i]+s*a[i])/255);p[i+1]=~~((Z*e[i+1]+s*a[i+1])/255);
p[i+2]=~~((Z*e[i+2]+s*a[i+2])/255)}p[i+3]=e[i+3];i+=4}};j._.a._3=function(e,A,a,p){var N=~~(p*255),i=a.length;
for(var c=0;c<i;c++){a[c]=((255-N*(255-e[c])/255)*A[c]+e[c]*(N*(255-e[c])/255))/255}};j._.a.fr=function(e,A,a,p){var N=~~(p*255),i=a.length;
for(var c=0;c<i;c++){a[c]=((255-N*e[c]/255)*A[c]+e[c]*(N*e[c]/255))/255}};j._.a.Xu=function(e,A,a){var p=A.length;
for(var c=0;c<p;c++){A[c]=~~(e[c]*a+.5)+(A[c]-~~(A[c]*a+.5))}};j._.a.sub=function(e,A){var a=e.length;
for(var c=0;c<a;c++){A[c]=Math.max(e[c]-A[c],0)}};j._.a.add=function(e,A){var a=e.length;for(var c=0;
c<a;c++){A[c]=Math.min(e[c]+A[c],255)}};j._.a.amN=function(e,A){var a=e.length;for(var c=0;c<a;c++){A[c]=e[c]+A[c]}};
j._.a.Sx=function(e,A){var a=e.length;for(var c=0;c<a;c++){A[c]=e[c]+A[c]>>1}};j._.a.GZ=function(e,A){var a=e.length;
for(var c=0;c<a;c++){A[c]=e[c]}};j._.a.il=function(e,A){var a=e.length;for(var c=0;c<a;c++){e[c]=A[e[c]]}};
j._.a.fc=function(e,A){var a=j._.a.Vl;for(var c=0;c<a;c+=4){var p=e[c],N=e[c+1],i=e[c+2],Z=p;if(N>p)Z=N;
if(i>p)Z=i;var s=A[Z];if(s){e[c]=~~(s*p/Z);e[c+1]=~~(s*N/Z);e[c+2]=~~(s*i/Z)}else{e[c]=s;e[c+1]=s;e[c+2]=s}}};
j._.a.t_=function(e,A){for(var c=0,a=e.length;c<a;c++){e[c]=Math.min(255,~~(.5+e[c]*A))}};j._.a.gd=function(e,A){for(var c=0,a=e.length;
c<a;c++){e[c]=255-Math.min(255,~~(.5+(255-e[c])*A))}};j._.a.rQ=function(e){var A=e.length;for(var c=0;
c<A;c++){e[c]=255-e[c]}};j._.a.mr=function(e,A,a,p){if(a==null)a=0;if(p==null)p=255;for(var c=0,N=e.length;
c<N;c++){e[c]=e[c]>=A?p:a}};j._.a.Lc=function(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]};j._.a.auY=function(e,A,a,p){if(a==null)a=255;
if(p==null)p=4278190335;var N=j._.a,i=N.Vl,Z=N.Lc(a),s=N.Lc(p);for(var c=0;c<i;c+=4){var D=~~((e[c]+e[c+1]+e[c+2]+2)/3);
if(D>=A){e[c]=Z[0];e[c+1]=Z[1];e[c+2]=Z[2]}else{e[c]=s[0];e[c+1]=s[1];e[c+2]=s[2]}}};j._.a.v3=function(e,A){var a=j._.a,p=a.Vl,N=a.Lc(A);
for(var c=0;c<p;){e[c++]=N[0];e[c++]=N[1];e[c++]=N[2];e[c++]=N[3]}};j._.a.E8=function(e,A){var a=e.length;
for(var c=0;c<a;){e[c++]=A}};j._.a.XB=function(e,A){e=e>5?(100-Math.max(4,e))/100:.95;A=A!=100?Math.max(4,A)/100:.9995;
var a=new Uint8Array(256),p=A>.5?.5/(1-A):A*2,N=~~(p*256),i=~~((.5-e*p)*256)<<8;for(var c=0;c<256;c++){a[c]=j._.a.k8(i>>8);
i+=N}return a};j._.a.BO=function(e){for(var c=0,A=j._.a,a=e.length;c<a;c++){e[c]=~~(A.random()*256)}};
j._.a.adr=function(e,A){for(var c=0,a=j._.a,p=e.length;c<p;c++){e[c]=a.random()<A?255:0}};j._.a.Nl=function(e,A,a){for(var c=0,p=j._.a,N=e.length;
c<N;c++){if(p.random()<A)e[c]=a}};j._.a.NL=function(e,A,a){var p=e.length;for(var c=0;c<p;c++){e[c]=j._.a.k8(e[c]+a[A[c]])}};
j._.a.gK=function(e){var A=new Uint32Array(256);for(var c=0,a=e.length;c<a;c++)A[e[c]]++;return A};j._.a.adX=function(e,A){var a=0,p=0,N=new Uint32Array(256),i=new Float32Array(256);
for(var c=0,Z=e.length;c<Z;c++){var s=e[c],D=A[c];if(D==255){N[s]++;a++}else if(D>0){D/=255;p+=D;i[s]+=D;
if(p>=1){p--;a++}if(i[s]>=1){i[s]--;N[s]++}}}return[a,N]};j._.a.KE=function(e,A,a,p){var self=j._.a,N,i,S=0,$=256;
if(p){var Z=self.adX(a,p);N=Z[1];i=Z[0]/100}else{N=self.gK(a);i=self.VP/100}var s=new Uint8Array(256),D=i*e,n=i*A,F=-1;
do{S+=N[++F]}while(S<=D);S=0;do{S+=N[--$]}while(S<=n);if($-F<=0)$=F+1;if($>255){$=255;F=254}var m=255/($-F),J=-F;
for(var c=0;c<256;c++){s[c]=self.k8(m*J+.5);J++}return s};j._.a.jy=function(e,A,a,p){var N=j._.a;N.il(e,N.KE(A,a,e,p))};
j._.a.azf=function(e,A){var self=j._.a,a=self.gK(e),p=self.VP*A/100,N=0,i=-1;do{N+=a[++i]}while(N<=p);
return i};j._.a.na=function(e,A){var a=0,self=j._.a,p=self.SB,N=self.Ps,i=1/Math.PI,Z=i*255;for(var c=0;
c<N;c++){var s=c+1;if(s==N)s--;var D=c*p,n=~~((1-(c+1)/N)*255);for(var S=0;S<p;S++){var F=S+1;if(F==p)F--;
var $=e[D+S],m=e[D+F],J=e[s*p+S];if($-J==0){A[a++]=n}else{var w=$-J+255;if(w==255){w=0}else{w=~~(Math.atan2(1/(255-w),1)*Z+.5);
if(w<0)w+=255}A[a++]=w}if($-m==0){A[a++]=~~((1-(S+1)/p)*255)}else{var w=$-m+255;if(w==255){w=0}else{w=~~(Math.atan2(1/(255-w),1)*Z+.5);
if(w<0)w+=255}A[a++]=w}}}};j._.a.DD=function(e,A){var self=j._.a,a=self.SB,p=self.Ps,N=0;for(var c=0;
c<p;c++){for(var i=0;i<a;i++){e[N]=~~(c*A+.5)+~~(e[N]*(1-A)+.5);N++;e[N]=~~(i*A+.5)+~~(e[N]*(1-A)+.5);
N++}}};j._.a.akQ=function(e,A,a,p){var self=j._.a,N=self.SB,i=self.Ps,Z=0;for(var c=0;c<i;c++){for(var s=0;
s<N;s++){A[Z]=~~(A[Z]*(1-a)+.5)+~~(e[Z]*p+.5);Z++;A[Z]=~~(A[Z]*(1-a)+.5)+~~(e[Z]*p+.5);Z++}}};j._.a.KG=function(e,A,a){var self=j._.a,p=self.SB,N=self.Ps,i=0,Z=0;
for(var c=0;c<N;c++){for(var s=0;s<p;s++){var D=e[i++],n=e[i++];A[Z++]=n%a>=2&&D%a>=2?255:0}}};j._.a.HK=function(e,A,a,p,N,i,Z){var self=j._.a,s=self.SB,D=self.Ps,n=0,S=0,F=0;
for(var c=0;c<D;c++){var $=c%e<a||D-a<=c;for(var m=0;m<s;m++){Z[n++]=$||m%A<p||s-p<=m?N:i}}};j._.a.U0=function(e,A,a,p){var self=j._.a,N=self.SB,i=self.Ps;
self.HK(8,8,4,4,0,255,e)};j._.a.k8=function(e){return~~Math.min(255,Math.max(0,e))};j._.a.uu=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
j._.a.ha=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];j._.a.K7=function(e){return e>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][e-41]:e/40};
j._.a.aeK=function(e,A,a){var self=j._.a,p=self.SB,N=self.Ps,i=a,Z=a>>1,s=Z-1,D=i*i,n=0;for(var c=0;
c<N;c++){var S=0,F=0,$=0,m=~~(c/a)*a,J=0;for(var w=0;w<i;w++){for(var f=0;f<i;f++){var b=J+f,L=m+w;if(b>=p)b=p-1;
if(L>=N)L=N-1;S+=e[L*p+b<<2];F+=e[(L*p+b<<2)+1];$+=e[(L*p+b<<2)+2]}}var C=~~(S/D),M=~~(F/D),y=~~($/D);
A[n]=C;A[n+1]=M;A[n+2]=y;A[n+3]=e[n+3];n+=4;for(var Q=1;Q<p;Q++){for(var w=0;w<i;w++){var k=Q-1,E=k+i,L=m+w;
if(E>=p)E=p-1;if(L>=N)L=N-1;var _=L*p,v=_+E<<2,V=_+k<<2;S+=e[v]-e[V];F+=e[v+1]-e[V+1];$+=e[v+2]-e[V+2]}if(Q%a==0){C=~~(S/D);
M=~~(F/D);y=~~($/D)}A[n]=C;A[n+1]=M;A[n+2]=y;A[n+3]=e[n+3];n+=4}}};j._.a.a1i=function(e,A,a,p,N){var self=j._.a,i=self.SB,Z=self.Ps,s=0,D=0,n=0,S=0;
for(var c=S;c<Z+S;c++){var F=c%A>=p||c<p||Z+S-p<=c;for(var $=0;$<i;$++){e[s++]=F&&($%a>=N||$<N||i-N<=$)?255:0}}};
j._.a.a4W=function(e,A,a){var p=function(n,S){return S<=n?n/S&1?S-n%S:n%S:n},N=[function(s,D){return p(s,255)/255},function(s,D){return(255+p(s,255)-p(D,255))/510},function(s,D){return(255-p(D,255))/255},function(s,D){return(510-p(s,255)-p(D,255))/510},function(s,D){return(255-p(s,255))/255},function(s,D){return(255-p(s,255)+p(D,255))/510},function(s,D){return p(D,255)/255},function(s,D){return(p(s,255)+p(D,255))/510}][a],i=0,Z=0;
for(var c=0;c<j._.a.VP;c++){var s=e[i++],D=e[i++];A[Z++]=~~(255*N(s,D))}};j._.a4z=function(){var e=[],A=new Uint8Array(512),a=new Float32Array(512),p=new Float32Array(512),N=[1,-1,1,-1,1,-1,0,0],i=[1,1,-1,-1,0,0,1,-1],Z=0,s,J=0;
for(;Z<256;Z++)e[Z]=Z;while(Z!=0){Z--;s=Math.floor(Math.random()*Z);e[s]^=e[Z]^(e[Z]=e[s])}function D(D){D=Math.floor(D*65536);
if(D<256){D|=D<<8}for(var c=0;c<256;c++){var b=c+256,L=e[c]^(c&1?D:D>>8)&255;A[c]=A[b]=L;L=L%8;a[c]=a[b]=N[L];
p[c]=p[b]=i[L]}}function n(b){return b*b*b*(b*(b*6-15)+10)}function S(b,L,C){return(1-C)*b+C*L}function F(b,L){return b&L}function $(b,L){return b%L}function m(b,L,C,M,y){var Q=Math.floor(b),k=Math.floor(L),Z,E,_,v,V,R;
b=b-Q;L=L-k;Q=Q&255;k=k&255;Z=Q+A[k];v=a[Z]*b+p[Z]*L;Z=Q+A[y(k+1,M)];_=a[Z]*b+p[Z]*(L-1);Z=y(Q+1,C)+A[k];
V=a[Z]*(b-1)+p[Z]*L;Z=y(Q+1,C)+A[y(k+1,M)];R=a[Z]*(b-1)+p[Z]*(L-1);E=n(b);return S(S(v,V,E),S(_,R,E),n(L))}function w(b,Z,L){b[Z]=L}function f(b,L,C,M,y){var Q=Math.min(Math.min(L,256),Math.min(256,C)),k=Q==256||Q<8,E=8,_=new Uint32Array(E),v=new Uint32Array(E),V=new Float32Array(E),R=new Float32Array(E),h=1,P=1,H=k?F:$,U=w,X;
for(var c=0;c<E;c++){X=P*1/Q;if(k){v[c]=(1<<Math.ceil(Math.log2(C*X)))-1;_[c]=(1<<Math.ceil(Math.log2(L*X)))-1}else{v[c]=X*C;
_[c]=X*L}V[c]=h;R[c]=X;h*=.5;P=P<<1}D(Math.random());for(var x=0,Z=0;x<C;x++){for(var K=0;K<L;K++){var T=0;
for(var I=0;I<E;I++){X=R[I];T+=m(K*X,x*X,_[I],v[I],H)*V[I]}U(M,Z++,Math.round(Math.max(0,255*Math.min(1,.5+T*.5))))}}}return f}();
j._.azp=function(){function e(A,a,p,N){var i=new Uint8Array(A.length>>>2),Z=new Uint8Array(A.length>>>2),s=new Uint8Array(A.length);
for(var c=0;c<A.length;c+=4){var D=A[c+0]*.3+A[c+1]*.59+A[c+2]*.11;Z[c>>>2]=D;s[c]=A[c];s[c+1]=A[c+1];
s[c+2]=A[c+2]}j.N_.eS(Z,i,a,p);j.N_.LP(A,N,a,p,j.N_.uN[1],0,!0);for(var c=0;c<A.length;c+=4){s[c+3]=255-i[c>>>2]}for(var c=0,n=A.length;
c<n;c+=4){var S=s[c+3]/255;N[c]=s[c]*S+N[c]*(1-S);N[c+1]=s[c+1]*S+N[c+1]*(1-S);N[c+2]=s[c+2]*S+N[c+2]*(1-S)}}return e}();
j._.a2F=function(){function e(i,Z,s,D,n){var S=new Uint32Array(i.buffer),F=0;for(var c=0;c<s;c++){for(var $=0;
$<Z;$++,F+=4){var m=S[c*Z+$],J=m&255,w=m>>>8&255,f=m>>>16&255,b=m>>>24&255,L=~~(Math.random()*8),C=L%3,M=0,y=0;
if(L<3){y--}else if(L>4){y++}if(C==0){M--}else if(C==2){M++}var Q=$+M,k=c+y;if(Q<0)Q=0;else if(Q>Z-1)Q=Z-1;
if(k<0)k=0;else if(k>s-1)k=s-1;var m=S[k*Z+Q],E=m&255,_=m>>>8&255,v=m>>>16&255,V=m>>>24&255;D[F]=n(J,E);
D[F+1]=n(w,_);D[F+2]=n(f,v);D[F+3]=n(b,V)}}}function A(i,Z){return Z}function a(i,Z){return i>Z?Z:i}function p(i,Z){return i<Z?Z:i}function N(i,Z,s,D,n){var S=n[0];
if(S==0)e(i,Z,s,D,A);else if(S==1)e(i,Z,s,D,a);else if(S==2)e(i,Z,s,D,p);else if(S==3){console.error("Not implemented")}else console.error("Mew mew")}return N}();
j._.af1=function(){function e(A,a,p,N,i){var Z=i&&i[0]?i[0]:4,s,D,n,S,F,$,m;for(var c=0;c<p;c++){var J=Math.max(c-Z,0),w=Math.min(c+Z,p-1);
for(var f=0;f<a;f++){var b=Math.max(f-Z,0),L=Math.min(f+Z,a-1);s=J*a+b<<2;S=A[s];F=A[s+1];$=A[s+2];m=A[s+3];
s=J*a+L<<2;S+=A[s];F+=A[s+1];$+=A[s+2];m+=A[s+3];s=w*a+b<<2;S+=A[s];F+=A[s+1];$+=A[s+2];m+=A[s+3];s=w*a+L<<2;
S+=A[s];F+=A[s+1];$+=A[s+2];m+=A[s+3];s=c*a+f<<2;N[s]=S+2>>>2;N[s+1]=F+2>>>2;N[s+2]=$+2>>>2;N[s+3]=m+2>>>2}}}return e}();
j._.awM=function(){function e(A,a,p,N){var i=new Uint8Array(A.length),Z=new Uint8Array(A.length>>>2),s=new Uint8Array(A.length>>>2);
j.N_.LP(A,i,a,p,j.N_.uN[2],0,!0);for(var c=0;c<A.length;c+=4){var D=i[c+0]*.3+i[c+1]*.59+i[c+2]*.11;
Z[c>>>2]=D;N[c+0]=A[c+0];N[c+1]=A[c+1];N[c+2]=A[c+2];N[c+3]=A[c+3]}j.N_.eS(Z,s,a,p);for(var c=0;c<A.length;
c+=4){i[c+3]=~~(Math.max(0,255-s[c>>>2]-50)*(255/205))}for(var c=0,n=A.length;c<n;c+=4){var S=i[c+3]/255;
N[c]=i[c]*S+N[c]*(1-S);N[c+1]=i[c+1]*S+N[c+1]*(1-S);N[c+2]=i[c+2]*S+N[c+2]*(1-S)}}return e}();j._.NY=function(){function e(L,C){return L[C]+L[C+1]+L[C+2]+L[C+3]}function A(L,C){return L[C]+L[C+1]+L[C+2]+2*L[C+3]}function a(L,C,M,y){L[C]=M[y];
L[C+1]=M[y+1];L[C+2]=M[y+2];L[C+3]=M[y+3]}function p(L,C,M){L[C]=L[M];L[C+1]=L[M+1];L[C+2]=L[M+2];L[C+3]=L[M+3]}function N(L,C,M){L[M]=C[M];
L[M+1]=C[M+1];L[M+2]=C[M+2];L[M+3]=255-C[M+3]}function i(L){for(var c=0,C=L.length;c<C;c+=4){L[c+3]=255-L[c+3]}}function Z(){var L=Math.random();
if(L>.5)return 0;if(L>.25)return 1;if(L>.1)return 2;if(L>.02143)return 3;if(L>.00445)return 4;if(L>65e-5)return 5;
if(L>415e-6)return 6;if(L>55e-6)return 7;return 8}function s(L,C,M,y,Q,k){L[C]=M[y]+(Q[k]-M[y]>>1);L[C+1]=M[y+1]+(Q[k+1]-M[y+1]>>1);
L[C+2]=M[y+2]+(Q[k+2]-M[y+2]>>1);L[C+3]=M[y+3]+(Q[k+3]-M[y+3]>>1)}function D(L,C,M,y,Q,k){L[C]=Q[k]+M[y]>>1;
L[C+1]=Q[k+1]+M[y+1]>>1;L[C+2]=Q[k+2]+M[y+2]>>1;L[C+3]=Q[k+3]+M[y+3]>>1}function n(L,C,M,y,Q,k,E,_,v){var V=0,R=0,h=0,c,P=Q[k],H;
s(_,0,L,C,L,M);for(c=0;c<P;c++){s(_,(c+1)*4,_,c*4,L,M)}R=(P+1)*4;h+=P;k--;a(L,C,_,R-4);y[k]=e(L,C);C-=v;
while(k>0&&y[k-1]<y[k]){H=_;_=E;E=H;V=R;D(_,0,L,C-v,E,0);for(c=4;c<V;c+=4){D(_,c,_,c-4,E,c)}P=Q[k];for(c=h;
c<P;c++){s(_,R,_,R-4,E,V-4);R+=4;h++}k--;a(L,C,_,R-4);y[k]=e(L,C);C-=v}}function S(L,C,M,y,Q){var k=C*4,E=0,_,v,V=new Uint8Array(C+1),R=new Uint8Array(10*4),h=new Uint8Array(10*4);
for(var c=0;c<M;c++){N(y,L,E);Q[0]=e(y,E);V[0]=Z();_=E;E+=4;for(var P=1;P<C;P++){N(y,L,E);Q[P]=e(y,E);
v=Z();V[P]=v;if(Q[P-1]<Q[P]&&v>0){n(y,E-4,E,Q,V,P,R,h,4)}E+=4}Q[C]=Q[0];V[C]=V[0];if(Q[C-1]<Q[C]&&v>0){n(y,E,_,Q,V,C,R,h,4)}}i(y)}function F(){var L=Math.random();
if(L>.659755)return 0;if(L>.1625)return 10;if(L>.06)return 20;if(L>.01)return 30;if(L>.0035)return 40;
if(L>65e-5)return 50;if(L>415e-6)return 60;if(L>55e-6)return 70;return 80}function $(L,C,M,y,Q,k){var E=F()+1,_=y[Q];
for(var c=1;c<E;c++){if(0>Q)break;if(y[Q-c]<_){p(L,C,M)}else{break}C+=k}}function m(L,C,M,y,Q){var k=C*4,E=0;
for(var c=0;c<M;c++){N(y,L,E);Q[0]=e(y,E);E+=4;for(var _=1;_<C;_++){N(y,L,E);Q[_]=e(L,E);if(Q[_-1]<Q[_]){$(y,E-4,E,Q,_,-4)}E+=4}Q[C]=Q[0];
if(Q[_-1]<Q[_]){$(y,E-4,E-k,Q,_,-4)}}i(y)}function J(L,C,M,y,Q,k){var E=1,_,v,V=new Uint8Array(4),R,h=C;
while(Math.random()<1/E){h=C;if(y<=1)break;_=M[y];v=M[y-1];if(_<=v)break;a(V,0,L,h-k);R=!0;for(var c=y;
c<Q;c++){if(v>M[c]){a(L,h-k,V,0);M[c-1]=v;R=!1;break}a(L,h-k,L,h);M[c-1]=M[c];h+=k}if(R){a(L,h-k,V,0);
M[Q-1]=v}E++;y--;C-=k}}function w(L,C,M,y,Q){var k=0,E=0,_=C*4;for(var c=0;c<M;c++){E=k;for(var v=0;
v<C;v++){N(y,L,k);Q[v]=A(y,k);k+=4}k=E;for(var v=1;v<C;v++){if(Q[v-1]<Q[v]&&Math.random()<.66){J(y,k+4,Q,v,C,4)}k+=4}k+=4}i(y)}function f(L,C,M,y,Q){var k=Q[0],E=Q[1],_=new Uint16Array(C+1),v=L,V=y,R;
if(E){R=y.slice(0);b(L,y,C,M);v=y;V=R}if(k==0)S(v,C,M,V,_);else if(k==1)m(v,C,M,V,_);else if(k==2)w(v,C,M,V,_);
if(E){b(R,y,C,M)}}function b(L,C,M,y){for(var Q=0;Q<y;Q++)for(var k=0;k<M;k++){var E=Q*M+k<<2,_=Q*M+(M-1-k)<<2;
C[_]=L[E];C[_+1]=L[E+1];C[_+2]=L[E+2];C[_+3]=L[E+3]}}return f}();j._.tY=function(e,A,a,p,N){var i=j._.a,Z=1,f=0,C=0;
i.tP(A,a);i.Q_(N[2]);var s=3<<13,D=Math.PI/2.43,n=D/256,S=Math.PI*2/256;function F(){var k=i.random()*256,E=i.random()*256;
return Z*~~(Math.tan(D-k*n)*325*Math.cos(E*S)*256)+s>>16}Z=N[0];var $=N[1],m=($+2)/2,J=i.random()*255,w=i.Yp(1);
for(var c=0;c<a;c++){var b=i.k8(F()+J);for(var L=0;L<A;L++){b=i.k8(F()+b);w[f++]=b}}f=A;for(var c=1;
c<a;c++){var M=i.k8(F()+w[C++]);w[f++]=M;for(var L=1;L<A;L++){var y=C+1;if(L+1==A){y--}var Q=(m+M+w[y]+w[C]*$)/($+2);
M=i.k8(F()+Q);w[f++]=M;C++}}i.q4(w,p)};var d0=function(){function e(O){O=O^61^O>>>16;O=O+(O<<3);O=O^O>>>4;
O=O*668265261;O=O^O>>>15;return O}var A=function(){var A=function(O){if(O){this.gg=O}this.gg=e(this.gg);
return(this.gg&16777215)*(1/16777215)};return A};function a(O,g){if(g==null){g=[0,0]}return Math.sqrt((g[0]-O[0])*(g[0]-O[0])+(g[1]-O[1])*(g[1]-O[1]))}function p(O,g){if(g==null){g=[0,0]}return[-(g[1]-O[1])/a(O,g),(g[0]-O[0])/a(O,g)]}function N(O){return[Math.cos(O),Math.sin(O)]}function i(O){var g=a(O,[0,0]),W=[O[0]/g,O[1]/g],d=Math.atan(W[1]/W[0]);
if(W[0]>0&&W[1]<0){d+=2*Math.PI}else if(W[0]<0&&W[1]<0){d+=Math.PI}else if(W[0]<0&&W[1]>0){d+=Math.PI}return d}function Z(O){var Z=0;
for(var c=1;c<O.length/2;++c){Z+=a([O[2*c],O[2*c+1]],[O[2*(c-1)],O[2*(c-1)+1]])}return Z}function s(O,g,W){var d=new Float32Array(O.length),gT=1/(O.length/2),r=y(W);
for(var c=0;c<O.length/2;++c){var G=c*gT,Y=G/2+.5,fk=1,eJ=0;if(W.shape==2){fk=1/(2*Y)}if(W.shape==3){Y=(1-G)/2+.5;
fk=1/(2*Y)+.5}if(W.shape==4){Y=G;fk=Math.sin(3/2*Math.PI*Y)/4+1}if(W.shape==5){Y=(G-.5)*6;fk=(-Math.atan(Y)/1.25+1)/5+.6-.2*G}var eS=[null,null];
if(c==0){eS=p([O[2*c],O[2*c+1]],[O[2*(c+1)],O[2*(c+1)+1]])}else if(c==O.length/2-1){eS=p([O[2*(c-1)],O[2*(c-1)+1]],[O[2*c],O[2*c+1]])}else{eS=p([O[2*(c-1)],O[2*(c-1)+1]],[O[2*(c+1)],O[2*(c+1)+1]])}d[2*c]=O[2*c]+(fk*g+eJ)*eS[0];
d[2*c+1]=O[2*c+1]+(fk*g+eJ)*eS[1];if(W.style==2){d[2*c]+=Q(2*c/d.length,r,W)}}return d}function D(O,g,W){var d=new Float32Array(O.length),gT=1/(O.length/2);
for(var c=0;c<O.length/2;++c){var r=c*gT,G=[null,null],Y=.6*W.w5*_(r,g.ahA)*W.rv/100,fk=.6*W.w5*_(r,g.anb)*W.rv/100,eJ=g.a2v*Y+(1-g.a2v)*fk;
if(c==0){G=p([O[2*c],O[2*c+1]],[O[2*(c+1)],O[2*(c+1)+1]])}else if(c==O.length/2-1){G=p([O[2*(c-1)],O[2*(c-1)+1]],[O[2*c],O[2*c+1]])}else{G=p([O[2*(c-1)],O[2*(c-1)+1]],[O[2*(c+1)],O[2*(c+1)+1]])}d[2*c]=O[2*c]+eJ*G[0];
d[2*c+1]=O[2*c+1]+eJ*G[1]}return d}function n(O){if(O.zM==1){return[.150684932,.205479452,.465753425,.178082192]}else if(O.zM==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var g=[],W=1/(h(O)-1);
for(var c=0;c<h(O)-1;++c){g.push(W)}return g}}function S(O,g,W){var d=[],gT=g-O,r=O;for(var c=0;c<W.length-1;
++c){d.push(r+W[c]*gT);r=d[c]}return d}function F(O,g,W,d){var gT=new Float32Array(W.length),r=0,G={shape:Math.floor(d.random()*2.99),arR:d.random()*.1+.15};
for(var c=0;c<W.length-1;++c){var Y=r+W[c];gT[c]=((1-Y)*O+Y*g)*b(d,Y,G);r=Y}return gT}function $(O,g,W,d){var gT=V(d),r=d.random(),G=r*20+(1-r)*26,Y=new Float32Array(W.length),fk=0;
for(var c=0;c<W.length-1;++c){var eJ=fk+W[c];Y[c]=(1-eJ)*O+eJ*g+gT/G*(2/3*Math.sin(Math.PI*eJ)+1/3*Math.sqrt(Math.sin(Math.PI*eJ)));
fk=eJ}return Y}function m(O,g,W){var d=[];for(var c=0;c<g.length-1;++c){d.push(g[c].slice());var gT=c*(h(W)-1),r=(c+1)*(h(W)-1),G=O[r]-O[gT];
for(var Y=gT+1;Y<r;++Y){var fk=y(W),eJ=new Float32Array(g[0].length),eS=(O[Y]-O[gT])/G;for(var gL=0;
gL<g[0].length/2;++gL){eJ[2*gL]=(1-eS)*g[c][2*gL]+eS*g[c+1][2*gL];eJ[2*gL+1]=(1-eS)*g[c][2*gL+1]+eS*g[c+1][2*gL+1];
if(W.style==2){eJ[2*gL]+=Q(2*gL/g[0].length,fk,W)}}d.push(eJ)}}d.push(g[g.length-1]);return d}function J(O,g,W){var d=new Array(g.length),gT=T(O),G=null;
for(var c=0;c<g.length;++c){d[c]=s(gT,(g[c]-.5)*W.rv,W)}var r=1+.05*W.a22*V(W)/V({zM:1});for(var c=0;
c<g.length;++c){if(g[c]==0){G=c}}for(var c=0;c<g.length;++c){var Y=(W.random()-.5)*2,fk=Math.round(W.random()*9+1),eJ=new Float32Array(fk*2+2);
for(var eS=0;eS<=fk;++eS){eJ[2*eS]=d[c][0]-(d[c][2*eS]-d[c][0]);eJ[2*eS+1]=d[c][1]-(d[c][2*eS+1]-d[c][1])}if(c==G){Y*=.1}for(var eS=(d[c].length-1)/2;
eS>fk;--eS){d[c][2*eS]=(1-Y)*d[c][2*eS]+Y*(d[c][2*(eS-fk)]+r*(d[c][2*eS]-d[c][2*(eS-fk)]));d[c][2*eS+1]=(1-Y)*d[c][2*eS+1]+Y*(d[c][2*(eS-fk)+1]+r*(d[c][2*eS+1]-d[c][2*(eS-fk)+1]))}for(var eS=fk-1;
eS>=0;--eS){d[c][2*eS]=(1-Y)*d[c][2*eS]+Y*(eJ[2*(fk-eS)]+r*(d[c][2*eS]-eJ[2*(fk-eS)]));d[c][2*eS+1]=(1-Y)*d[c][2*eS+1]+Y*(eJ[2*(fk-eS)+1]+r*(d[c][2*eS+1]-eJ[2*(fk-eS)+1]))}}var gL=E(g,W);
if(W.w5>0){var cX=0;for(var c=0;c<g.length;++c){if(c==0){cX+=g[c]}else{cX+=Math.abs(g[c]-g[c-1])}var kj=cX-Math.floor(cX),gq=1;
if(kj==0){gq=0}d[c]=D(d[c],{ahA:gL[Math.floor(cX)],anb:gL[Math.floor(cX)+gq],a2v:kj},W)}}return d}function w(O,g){var W=U(g,O),d=X(g,O),gT=[],r=[],G=[],Y=n(O);
for(var c=0;c<g.length-1;++c){gT.push(g[c]);r.push(W[c]);G.push(d[c]);var fk=S(g[c],g[c+1],Y),eJ=F(W[c],W[c+1],Y,O),eS=$(d[c],d[c+1],Y,O);
for(var gL=0;gL<fk.length;++gL){gT.push(fk[gL]);r.push(eJ[gL]);G.push(eS[gL])}}gT.push(g[g.length-1]);
r.push(W[W.length-1]);G.push(d[d.length-1]);return{auu:gT,acs:r,Dk:G}}function f(O,g,W,d){var gT=new Float32Array(2*d),r=O.length/2,G=r-g,Y=W*G,fk=Y/d;
for(var c=0;c<d;++c){var eJ=Math.floor(g+c*fk),eS=Math.ceil(g+c*fk),W=g+c*fk,gL=eS-eJ,cX=1,kj=0;if(gL!=0){cX=(eS-W)/gL;
kj=(W-eJ)/gL}gT[2*c]=cX*O[2*eJ]+kj*O[2*eS];gT[2*c+1]=cX*O[2*eJ+1]+kj*O[2*eS+1]}return gT}function b(O,g,W){var d=W.arR,gT=g*2*Math.PI,r=gT,G=0;
if(W.shape==0){G=(Math.sin(2*r+Math.PI/2)+1)/2}else if(W.shape==1){G=(Math.sin(r+Math.PI/2)+1)/2}else{G=(4*Math.sin(3/4*r+Math.PI)+Math.sin(Math.PI/2+2*r)-2*r/Math.PI+6)/7}return Math.min(1,1-d+d*G)}function L(O,g,W,d){var gT=[];
for(var c=0;c<O.length;++c){gT.push(f(O[c],g[c],W[c],d))}return gT}function C(O,g,W){var d=[];for(var c=0;
c<O.length;++c){var gT=N(2*Math.PI*W.random()),r=N(2*Math.PI*W.random()),G=W.ky*.5*P({zM:1})/P(W),Y=G*W.rv/200,fk=G*g/500,eJ=new Float32Array(O[0].length);
for(var eS=0;eS<O[0].length/2;++eS){var gL=N(2*Math.PI*W.random()),cX=2*eS/O[0].length;eJ[2*eS]=O[c][2*eS]+Y*(gL[0]+((1-cX)*gT[0]+cX*r[0]));
eJ[2*eS+1]=O[c][2*eS+1]+fk*(gL[1]+((1-cX)*gT[1]+cX*r[1]))}d.push(eJ)}return d}function M(O,g,W){var d=W.TY,gT=2/d,r=[1/10,1/30,1/40,1/45,1/100],G=r[W.zM-1],Y=4*(W.opacity/25*gT*G)*(1-W.ky/150),gL=0,kj=0;
if(W.style==3){return Y*.09}var fk=2.2*(O-.5),eJ=fk*fk*fk*fk+.27+Math.max(0,(W.opacity-50)/15),eS=2*(Math.sin(3*Math.PI*g)/(Math.PI*g+2)+1.1)-g/2;
g=2*g;if(g<.41){var cX=2*Math.PI*g/.41;gL=(Math.sin(cX-Math.PI/2)+1)/4+.5}else if(g<.77){var cX=2*Math.PI*(g-.41)/.36;
gL=(Math.sin(cX-Math.PI/2)+1)/4+.5-cX/2/Math.PI*.5}else{var cX=2*Math.PI*(g-.77)/.23;gL=(Math.sin(cX-Math.PI/2)+1)/2*.12}gL*=3;
gL+=Math.max(0,(W.opacity-50)/15);if(W.type==6){kj=eS}else{kj=gL}return Y*eJ*kj}function y(O){return{c:O.random()*7/2+.5,LY:O.random()*2*Math.PI}}function Q(O,g,W){return W.rv/300*h({zM:1})/h(W)*10*(Math.sin(g.c*2*Math.PI*O+g.LY)+10*(W.random()-.5))}function k(O){var g=Math.exp(-O.w5/25);
return{c:O.random()*3/2+.5,LY:O.random()*2*Math.PI,AA:(O.random()-.5)*10*g}}function E(O,g){var W=Math.ceil(x(O)),d=[];
for(var c=0;c<=W;++c){d.push(k(g))}return d}function _(O,g){var W=g.c*4*Math.PI*O+g.LY;return Math.exp(-1/2*Math.PI*O)*Math.cos(W)*Math.cos(W)*Math.cos(W)*Math.cos(W)*Math.cos(W)+O*g.AA-g.AA/4}function v(O,g,W,d,gT){var r=0,G=P(g)-1;
for(var c=0;c<G;++c){for(var Y=0;Y<O.length-1;Y+=h(g)-1){for(var fk=c;fk<O[0].length/2-G;fk+=G){for(var eJ=Y;
eJ<Y+(h(g)-1);++eJ){W[gT+r]=M(eJ*(g.TY-1)/(O.length-1)%1,fk/O[0].length,g);var eS=0,gL=0;if(g.type==6&&eJ!=0&&eJ!=O.length-1){gL=(O[eJ][2*(fk+1)+1]-O[eJ][2*fk+1])/2;
eS=(O[eJ][2*(fk+1)]-O[eJ][2*fk])/2}d[8*gT+8*r]=O[eJ][2*fk]+eS;d[8*gT+8*r+1]=O[eJ][2*fk+1]+gL;d[8*gT+8*r+2]=O[eJ][2*(fk+G)]+eS;
d[8*gT+8*r+3]=O[eJ][2*(fk+G)+1]+gL;d[8*gT+8*r+4]=O[eJ+1][2*(fk+G)];d[8*gT+8*r+5]=O[eJ+1][2*(fk+G)+1];
d[8*gT+8*r+6]=O[eJ+1][2*fk];d[8*gT+8*r+7]=O[eJ+1][2*fk+1];++r}}}}}function V(O){var g=[100,300,500,700,1e3];
return g[O.zM-1]}function R(O){var g=[30,70,100,140,300];return g[O.zM-1]}function h(O){var g=[5,7,26,40,100];
return g[O.zM-1]}function P(O){if(O.zM==1){return 4}else if(O.zM==2){return 8}else{return Math.floor(R(O)/9)}}function H(O){var g=O.TY,W=new Float32Array(g),d=null;
for(var c=0;c<g;++c){W[c]=O.random()}if(O.TY<=3){W[0]=0;W[O.TY-1]=1}else{for(var c=0;c<2;++c){var gT=Math.floor(O.random()*g);
if(d==null||d!=gT){W[gT]=c;d=gT}else{W[gT+1]=c}}}return W}function U(O,g){var W=[],d=.2,r=0;for(var c=0;
c<O.length;++c){var gT=g.random()*(1-d)+d;W.push(gT)}var G=Math.min(3,g.TY);for(var c=0;c<O.length;++c){if(W[c]>.9){++r}}while(r<G){var Y=Math.floor(g.random()*O.length);
if(W[Y]<=.9){W[Y]=.9+.1*g.random();++r}}return W}function X(O,g){var W=V(g),d=V({zM:1}),gT=[];for(var c=0;
c<O.length;++c){gT.push(Math.max(1,(g.random()*10+2)*W/d))}return gT}function x(O){var g=0;for(var c=0;
c<O.length;++c){if(c==0){g+=O[c]}else{g+=Math.abs(O[c]-O[c-1])}}return g}function K(O,g){if(O.length/2-1==V(g)){return O}var W=new Float32Array(2*(V(g)+1)),d=(O.length-2)/(W.length-2);
for(var c=0;c<W.length/2;++c){var gT=c*d,r=Math.floor(gT),G=Math.ceil(gT),Y=G-r,fk=1,eJ=0;if(Y!=0){fk=(G-gT)/Y;
eJ=(gT-r)/Y}W[2*c]=fk*O[2*r]+eJ*O[2*G];W[2*c+1]=fk*O[2*r+1]+eJ*O[2*G+1]}return W}function T(O,g){var W=O.length/2,d=Z(O),gT=d/W,r=!1,fk=0,eJ=0,eS=1;
if(g){var G=Math.floor(d/g.a6A),Y=g.a6A;if(g.axN&&O[0]==O[O.length-2]&&O[1]==O[O.length-1]){r=!0;Y=d/(G+1)}if(g.type==2&&!r&&Y*G+g.length>d){W=G+1}else{W=G+2}gT=Y}var gL=new Float32Array(W*2);
gL[0]=O[0];gL[1]=O[1];for(var c=1;c<W;++c){while(fk<=c*gT){eJ=fk;fk+=a([O[2*eS],O[2*eS+1]],[O[2*(eS-1)],O[2*(eS-1)+1]]);
++eS}var cX=1-(c*gT-eJ)/(fk-eJ);gL[2*c]=(1-cX)*O[2*eS]+cX*O[2*(eS-1)];gL[2*c+1]=(1-cX)*O[2*eS+1]+cX*O[2*(eS-1)+1]}gL[gL.length-2]=O[O.length-2];
gL[gL.length-1]=O[O.length-1];return gL}function I(O,g){var W=T(O,g),d=[];for(var c=0;c<(W.length-2)/2;
++c){var gT=[];gT.push(W[2*c]);gT.push(W[2*c+1]);var r=a([W[2*(c+1)],W[2*(c+1)+1]],[W[2*c],W[2*c+1]]),G=[(W[2*(c+1)]-W[2*c])/r,(W[2*(c+1)+1]-W[2*c+1])/r],Y=N((g.anZ-90)/360*2*Math.PI),fk=G;
if(g.type==3){fk=Y}else if(g.type==4){fk=N(i(G)+i(Y))}else if(g.type==5){fk=N(((g.random()-.5)*g.anZ-90)/360*2*Math.PI)}var eJ=g.length;
if(g.asI){eJ=2*g.random()*g.length}gT.push(W[2*c]+fk[0]*eJ);gT.push(W[2*c+1]+fk[1]*eJ);d.push(gT)}return d}function o(O){if(O.ayx){O.oa=100*Math.random()}else{O.oa=O.ah0}O.random=new A;
O.random(O.oa);if(O.type==6){O.TY=2;O.shape=5;O.a22=0}}function l(O,g){O=K(O,g);var W=[O],eJ=0;if(g.type>=2&&g.type<6){W=I(O,g)}var d=P(g)-1,gT=R(g)-d,r=(g.TY-1)*(h(g)-1),G=W.length*gT*r,Y=new Float32Array(G),fk=new Float32Array(8*G);
for(var c=0;c<W.length;++c){for(var eS=0;eS<1e4;++eS){g.oa=e(g.oa)}g.random(g.oa);var O=K(W[c],g),gL=H(g),cX=x(gL),kj=J(O,gL,g),gq=w(g,gL),iL=m(gq.auu,kj,g);
iL=L(iL,gq.Dk,gq.acs,R(g));if(g.ky>0){iL=C(iL,Z(W[c]),g)}v(iL,g,Y,fk,eJ);eJ+=gT*r}return[Y,fk]}var d0=function(O){var g=performance.now(),W=O[0],d=O[1];
o(d);var gT=[new Float32Array(0),new Float32Array(0)];for(var c=0;c<W.length;++c){d.oa=e(d.oa);var r=l(W[c],d),G=new Float32Array(gT[0].length+r[0].length),Y=new Float32Array(gT[1].length+r[1].length);
G.set(gT[0]);G.set(r[0],gT[0].length);gT[0]=G;Y.set(gT[1]);Y.set(r[1],gT[1].length);gT[1]=Y}var fk=performance.now();
if(d.afo){console.o0("Geometry: "+String(fk-g)+"ms")}return gT};return d0}(),ep=function(){function e(N,i){var Z=[],s=0,D=i.length,n=0,S=0,F=new dE,$=0,m=1e9;
for(S=0;S<D;S++){var J=S*8,w=i[S];if(w<m)m=w;var f=N[J+0],b=N[J+1],L=N[J+2],C=N[J+3],M=N[J+4],y=N[J+5],Q=N[J+6],k=N[J+7],E=Math.min(f,L,M,Q),_=Math.max(f,L,M,Q),v=Math.min(b,C,y,k),V=Math.max(b,C,y,k),R=new dE(E,v,_-E,V-v),h=R.pg(F),P=$+w;
if(S-n<10&&(S==n||h.O()*.8<R.O()+F.O())){F=h;$=P}else{Z.push(S-n);n=S;F=R;$=w;m=w}}if(S!=n)Z.push(S-n);
return Z}function A(N,i,Z,s,D,n){var S=document.createElement("canvas"),b=0,G=.8;S.width=i;S.height=Z;
var F=S.getContext("2d"),$=D[0],m=D[1],J=new Float64Array(i*Z),w=Date.now(),f=e(m,$);for(var L=0;L<f.length;
L++){var C=b,M=b+f[L],k=1e9,_=1e9,U=0;b=M;var y=C*8,Q=M*8,E=-k,v=-_;for(var V=y;V<Q;V+=2){var R=m[V],h=m[V+1];
if(R<k)k=R;if(R>E)E=R;if(h<_)_=h;if(h>v)v=h}k=Math.floor(k);E=Math.ceil(E);_=Math.floor(_);v=Math.ceil(v);
var P=E-k,H=v-_;for(var X=C;X<M;X++)U+=$[X];for(var V=y;V<Q;V+=8){var x=$[V>>>3],K=m[V+0],T=m[V+1],I=m[V+2],o=m[V+3],l=m[V+4],O=m[V+5],g=m[V+6],W=m[V+7];
F.fillStyle="rgba(0,0,0,"+x/U+")";F.beginPath();F.moveTo(K,T);F.lineTo(I,o);F.lineTo(l,O);F.lineTo(g,W);
F.closePath();F.fill()}var d=F.getImageData(k,_,P,H).data;for(var h=0;h<H;h++)for(var R=0;R<P;R++){var c=h*P+R,gT=d[c*4+3],r=(_+h)*i+k+R;
if(gT!=0)J[r]+=gT*U}F.clearRect(k,_,P,H)}var Y=n[1].color,fk=Math.pow(Y.o/255,G),eJ=Math.pow(Y.J/255,G),eS=Math.pow(Y.k/255,G),gL=new dE(0,0,i,Z),cX=j.Q(i*Z*4);
for(var h=0;h<Z;h++)for(var R=0;R<i;R++){var c=h*i+R,X=c*4,$=J[c]*(1/255);cX[X]=p(fk,$);cX[X+1]=p(eJ,$);
cX[X+2]=p(eS,$);cX[X+3]=Math.min(255,$*255)}j.s.eZ("norm",cX,gL,s,gL,gL,1)}var a=new Uint8Array(2e3);
for(var c=0;c<2e3;c++)a[c]=255*Math.min(1,Math.log(c/700+1));function p(N,i){return a[Math.min(1500,~~(N*i*1e3))]}return A}(),jb=function(){var e=new Float32Array(3e3),A=new Float32Array(3e3),a=new Float32Array(256),p=new Float32Array(3e3);
function N(){var m=e.length;e[0]=Math.log10(157647e-9);for(var c=1;c<m;++c)e[c]=Math.log10(c/m)}function i(){var m=A.length;
for(var c=0;c<m;++c)A[c]=Math.pow(10,20*(c-m/2)/m)}function Z(){var m=a.length;for(var c=0;c<m;++c)a[c]=j.TK(c/255)}function s(){var m=p.length;
for(var c=0;c<m;++c)p[c]=255*j.Vq(c/(m-1))}function D(m,J){var w=m.length>>>2;for(var c=0;c<w;++c){var f=a[m[4*c]],b=a[m[4*c+1]],L=a[m[4*c+2]],C=.3811*f+.5783*b+.0402*L,M=.1967*f+.7244*b+.0782*L,y=.0241*f+.1288*b+.8444*L;
C=e[~~(C*e.length)];M=e[~~(M*e.length)];y=e[~~(y*e.length)];J[3*c]=(C+M+y)*.5773502692;J[3*c+1]=(C+M-2*y)*.4082482905;
J[3*c+2]=(C-M)*.7071067812}}function n(m,J){var w=J.length>>>2,f=p.length-1;for(var c=0;c<w;++c){var b=.5773502692*m[3*c],L=.4082482905*m[3*c+1],C=.7071067812*m[3*c+2],M=A[~~((b+L+C+10)*(3e3/20))],y=A[~~((b+L-C+10)*(3e3/20))],Q=A[~~((b-2*L+10)*(3e3/20))],k=4.4679*M-3.5873*y+.1193*Q,E=-1.2186*M+2.3809*y-.1624*Q,_=.0497*M-.2439*y+1.2045*Q;
J[4*c]=p[~~(f*Math.max(0,Math.min(1,k)))];J[4*c+1]=p[~~(f*Math.max(0,Math.min(1,E)))];J[4*c+2]=p[~~(f*Math.max(0,Math.min(1,_)))]}}function S(m){var J=0,w=0,f=0;
for(var c=0;c<m.length;c+=3){J+=m[c];w+=m[c+1];f+=m[c+2]}return[J/(m.length/3),w/(m.length/3),f/(m.length/3)]}function F(m,S){var J=0,w=0,f=0;
for(var c=0;c<m.length;c+=3){var b=m[c]-S[0],L=m[c+1]-S[1],C=m[c+2]-S[2];J+=b*b;w+=L*L;f+=C*C}return[Math.sqrt(J/(m.length/3)),Math.sqrt(w/(m.length/3)),Math.sqrt(f/(m.length/3))]}function $(m,J,w,f,b,L){N();
i();Z();s();var C=0,T,I;if(L[0]>100)C=-(L[0]-100)/100*.13;else if(L[0]>=75)C=(100-L[0])/25*.04;else if(L[0]>=50)C=.04+(75-L[0])/25*.04;
else if(L[0]>=25)C=.08+(50-L[0])/25*.08;else C=.16+(25-L[0])/25*.24;var M=(L[1]-100+100)/100,y=L[2]/100,Q=L[3],k=new Float32Array(m.length*3/4),E=new Float32Array(f.length*3/4),_=Date.now();
D(m,k);D(f,E);var v=Date.now(),V=S(k),R=S(E),h=Date.now(),P=F(k,V),H=F(E,R),U=Date.now();R[0]*=Math.pow(10,C);
var X=[H[0]/P[0],H[1]/P[1],H[2]/P[2]],x=k.length,K=1/-1.1546978950500488;for(var c=0;c<x;c+=3){if(Q){var o=Math.max(0,Math.min(1,k[c]*K));
o=1-Math.sqrt(o);T=o*R[1];I=o*R[2]}else{T=R[1];I=R[2]}k[c]=(k[c]-V[0])*X[0]+R[0];k[c+1]=(k[c+1]-V[1])*X[1]*M+T;
k[c+2]=(k[c+2]-V[2])*X[2]*M+I}var l=Date.now();n(k,b);var O=b.length>>>2;for(var c=0;c<O;++c){b[4*c]=(1-y)*b[4*c]+y*m[4*c];
b[4*c+1]=(1-y)*b[4*c+1]+y*m[4*c+1];b[4*c+2]=(1-y)*b[4*c+2]+y*m[4*c+2];b[4*c+3]=255}}return $}(),gu=function(){function e(A,a,p,N,i){var Z=[-1,-1,-1,-1],s=255,D=160,n,S=!1,F=new Array(4);
F[0]=new Array(a);F[1]=new Array(p);F[2]=new Array(a);F[3]=new Array(p);var $=new Array(2);$[0]=new Array(p);
$[1]=new Array(p);function m(H,U,X,x,K){this.start=x;this.axis=K;this.dir=H;this.end=-1;this.source=U;
this.O=X}function J(H,U,X,x,K){if(X%2==0){if(!F[X][H])F[X][H]=new Array;F[X][H].push(new m(X,x,K,U,H))}else{if(!F[X][U])F[X][U]=new Array;
F[X][U].push(new m(X,x,K,H,U))}var T=Date.now()}function w(c){var H=!1,U=0;if(A[4*c+3]<s)return H;var X=c%a,x=Math.floor(c/a);
f(X,x);if(c+a<a*p&&A[4*(c+a)+3]<s&&A[4*(c-a)+3]>=s&&A[4*(c-2*a)+3]>=s){var K=2;if(A[4*(c+a)+3]<=D)U=-1;
if(A[4*(c+2*a-1)+3]<s&&A[4*(c+2*a+1)+3]<s)H=!0;else if(A[4*(c+2*a-1)+3]>=s&&A[4*(c+1)+3]>=s)H=!0;else if(A[4*(c+2*a+1)+3]>=s&&A[4*(c-1)+3]>=s)H=!0;
J(X,x,K,U,H)}else if(c-a>=0&&A[4*(c-a)+3]<s&&A[4*(c+a)+3]>=s&&A[4*(c+2*a)+3]>=s){var K=0;if(A[4*(c-a)+3]<=D)U=-1;
if(A[4*(c-2*a-1)+3]<s&&A[4*(c-2*a+1)+3]<s)H=!0;else if(A[4*(c-2*a-1)+3]>=s&&A[4*(c+1)+3]>=s)H=!0;else if(A[4*(c-2*a+1)+3]>=s&&A[4*(c-1)+3]>=s)H=!0;
J(X,x,K,U,H)}U=0;if(c+1<a*p&&A[4*(c+1)+3]<s&&A[4*(c-1)+3]>=s&&A[4*(c-2)+3]>=s){var K=3;if(A[4*(c+1)+3]<=D)U=-1;
if(!H&&A[4*(c+a+2)+3]<s&&A[4*(c-a+2)+3]<s){H=!0;J(X,x,K,U,!0)}else J(X,x,K,U,!1)}else if(c>=1&&A[4*(c-1)+3]<s&&A[4*(c+1)+3]>=s&&A[4*(c+2)+3]>=s){var K=1;
if(A[4*(c-1)+3]<=D)U=-1;if(!H&&A[4*(c+a-2)+3]<s&&A[4*(c-a-2)+3]<s){H=!0;J(X,x,K,U,!0)}else J(X,x,K,U,!1)}return H}function f(c,H){if(Z[0]==-1){Z[0]=c;
Z[1]=H;Z[2]=1;Z[3]=1}if(c<Z[0]){Z[2]+=Z[0]-c;Z[0]=c}if(c>Z[0]+Z[2])Z[2]=c-Z[0];if(H<Z[1]){Z[3]+=Z[1]-H;
Z[1]=H}if(H>Z[1]+Z[3])Z[3]=H-Z[1]}function b(H,c,U,X){if(!U.O)return;var x=(H+2)%4,K=U.start,T=Z[1];
if(H==2)T+=Z[3];else if(H==1)T=Z[0];else if(H==3)T=Z[0]+Z[2];var I=U.source;if(F[x][c])for(var o=0;o<F[x][c].length;
++o){if(H>1){var l=K+Math.floor((F[x][c][o].start-K)/2);if(F[x][c][o].start>K&&l<T)T=l}else{var l=K-Math.floor((K-F[x][c][o].start)/2);
if(F[x][c][o].start<K&&l>T)T=l}}for(var O=1;O<Math.abs(T-K);++O){var o=K+O;if(H==1||H==0)o=K-O;for(var g=0;
g<2;++g){var W=2*g,d=!1;if(H%2==0)W+=1;if(F[W][o]){for(var gT=0;gT<F[W][o].length;++gT){if(F[W][o][gT].O){var r=F[W][o][gT].start,G=c-r,Y=o-K;
if(W==0||W==1)G=-G;if(G<=0)continue;if(H==0||H==1)Y=-Y;if(Y>G){T=o;d=!0;break}}}if(d)break}}}U.end=T;
M(H,c,K,T,I)}function L(H){for(var c=0;c<F[H].length;++c){if(F[H][c])for(var U=0;U<F[H][c].length;++U){b(H,c,F[H][c][U])}}}function C(){var H=[2,0,3,1];
for(var c=0;c<H.length;++c)L(H[c])}function M(H,c,U,X,x){if(H==2)for(var K=U;K<=X;++K){if(!y(K*a+c,(U+x)*a+c))return!1}else if(H==0)for(var K=U;
K>=X;--K){if(!y(K*a+c,(U-x)*a+c))return!1}else if(H==1)for(var K=U;K>=X;--K){if(!y(c*a+K,c*a+U-x))return!1}else if(H==3)for(var K=U;
K<=X;++K){if(!y(c*a+K,c*a+U+x))return!1}}function y(H,U){if(!n[H]){N[4*H]=N[4*U];N[4*H+1]=N[4*U+1];N[4*H+2]=N[4*U+2];
if(S)N[4*H+3]=255;n[H]=!0;return!0}return!1}function Q(){for(var c=0;c<4;c+=1){for(var H=0;H<F[c].length;
++H){if(F[c][H])for(var U=0;U<F[c][H].length;++U){var X=F[c][H][U];for(var x=1;x<3;x+=2){var K=(c+x)%4;
if(F[K][X.start])for(var T=0;T<F[K][X.start].length;++T){if(F[K][X.start][T].start==X.axis){var iM=a*X.start+X.axis;
if(c%2==1){iM=X.start+a*X.axis;k(F[K][X.start][T])}else k(X)}}}}}}}function k(H){if(H.dir%2==0){var iM=a*H.start+H.axis,U=H.start,X=1;
if(!n[iM+1])X=3;else if(n[iM-1])return;var x=N[4*iM],K=N[4*iM+1],T=N[4*iM+2];while(N[4*iM]==x&&N[4*iM+1]==K&&N[4*iM+2]==T){if(X==1){if(!$[0][U])$[0][U]=new Array;
$[0][U].push(new m(X,0,!1,H.axis,U))}else{if(!$[1][U])$[1][U]=new Array;$[1][U].push(new m(X,0,!1,H.axis,U))}if(H.dir==2){iM+=a;
U++}else{iM-=a;U--}}}}function E(){for(var H=0;H<2;++H){var U=(H+1)%2;for(var c=0;c<$[H].length;++c){if($[H][c])for(var X=0;
X<$[H][c].length;++X){var x=Z[0];if(H==1)x+=Z[2];var K=$[H][c][X].start;if($[U][c])for(var T=0;T<$[U][c].length;
++T){var I=$[U][c][T].PV;if(H==0){if(I>x&&I<K){x=K-Math.floor((K-I)/2)}}else{if(I<x&&I>K){x=K+Math.ceil((I-K)/2)}}}if(H==0)M($[H][c][X].dir,c,K-1,x,-1);
else M($[H][c][X].dir,c,K+1,x,-1)}}}for(var c=0;c<n.length;++c){if(!n[c]&&c%a>=Z[0]&&c%a<=Z[0]+Z[2]&&Math.floor(c/a)>=Z[1]&&Math.floor(c/a)<=Z[1]+Z[3]){var K=a;
if(c<K||!n[c-K])K=1;N[4*c]=N[4*(c-K)];N[4*c+1]=N[4*(c-K)+1];N[4*c+2]=N[4*(c-K)+2];n[c]=!0;if(S)N[4*c+3]=255}}}function _(){n=new Array(A.length/4);
for(var c=0;c<N.length/4;++c){n[c]=!1;N[4*c]=A[4*c];N[4*c+1]=A[4*c+1];N[4*c+2]=A[4*c+2];N[4*c+3]=A[4*c+3];
if(N[4*c+3]==255)n[c]=!0;if(w(c))n[c]=!1}if(Z[0]>0){Z[0]--;Z[2]++}if(Z[1]>0){Z[1]--;Z[3]++}if(Z[0]+Z[2]<a){Z[2]++}if(Z[1]+Z[3]<p){Z[3]++}}var v=Date.now();
_();var V=Date.now();C();var R=Date.now();Q();var h=Date.now();E();var P=Date.now();console.log("Init: "+String(V-v));
console.log("Filling: "+String(R-V));console.log("Check areas: "+String(h-R));console.log("Fill areas: "+String(P-h))}return e}();
function iA(){}iA.akO=function(e){var A=[j.TK(e[0]),j.TK(e[1]),j.TK(e[2]),0];return j.mV._f(j.mV.Lm,A)};
iA.azu=function(e){var A=j.mV._f(j.mV.cy,e);return[j.Vq(A[0]),j.Vq(A[1]),j.Vq(A[2])]};iA.wK=function(e,A){var a={},p=5003,N=1667,i=25e3,Z=57.4,s=16.1,D=1.8,n=0,S=1.54,F=.75,J=0;
if(A>0){e-=A/100*4}if(e<0){s=22.54;Z=80.36;S=.756}if(A>0){D=1.3;F=.2}var $=Math.min(p+Z*e,i),m=Math.max(p-s*e,N);
if(e<0){$=Math.max(p+s*e,N);m=Math.min(p-Z*e,i)}if(e>0){if(e<=14){J=(e-1)/13*.075+.025}else if(e<=29){J=.1}else if(e<=60){J=.1-.1*(e-29)/(60-29)}else{var w=e-60;
n=-20*(w/40);J=-.3*(w/40)}}else{if(e<-60){var w=e+60;n=-20*(w/40)}}var f=Math.abs(e)/100*S+Math.abs(A)/100*F+J,b=-(A*D+n),L=fS.j1($,-b),C=fS.Qw(L),M=fS.j1(m,0),y=fS.Qw(M),Q=fS.f5(C,y);
a.ap6=f;a.adD=Q;if(e==0&&A==0)a.aA7=!0;else a.aA7=!1;return a};iA.ahF=function(e,A,a,p){if(p.aA7){return[e,A,a]}var N=this.akO([e,A,a]),i=N[0],Z=N[1],s=N[2],D=Z+1e-12,n=[i/D,Z/D,s/D,0],S=j.mV._f(p.adD,n),F=0,$=.4;
S[0]*=D;S[1]*=D;S[2]*=D;if(D>$)F=1/(1-$)*(D-$);N[0]=(1-F)*S[0]+F*i;N[1]=(1-F)*S[1]+F*Z;N[2]=(1-F)*S[2]+F*s;
return this.azu(N)};j.zk={vr:function(e,A){var c=e.length;e.push(A);var a=c>>>1;while(a!=0&&e[c][0]<e[a][0]){var p=e[c];
e[c]=e[a];e[a]=p;c=a;a=c>>>1}},LB:function(e){if(e.length==2)return e.pop();var top=e[1],c=1;e[1]=e.pop();
var A=e.length;while(!0){var a=c<<1,p=a+1,N=c;if(a<A&&e[a][0]<e[N][0])N=a;if(p<A&&e[p][0]<e[N][0])N=p;
if(N==c)break;var i=e[c];e[c]=e[N];e[N]=i;c=N}return top},axv:function(e){for(var c=1;c<e.length;c++){var A=c,a=1e9;
while(A!=0){var p=e[A][0];if(p>a){console.log(c);throw"e"}a=p;A=A>>>1}}}};j.s={};j.s.Gi=new Float64Array(256);
j.s.y0=new Uint8Array(256*256);j.s.U1=new Uint8Array(256*256);(function(){for(var c=0;c<256;c++)j.s.Gi[c]=255/c;
for(var c=0;c<256;c++)for(var e=0;e<256;e++)j.s.y0[c*256+e]=c==0?0:Math.round(e*255/c);for(var c=0;c<256;
c++)for(var e=0;e<256;e++)j.s.U1[c*256+e]=Math.round(c*(255-e)/255)}());j.s.eZ=function(e,A,a,p,N,i,Z,s){if(s==null)s=b6.yL();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(e)==-1){Z=Z*s.fill;s.fill=1;s.style=!1}var D="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),n="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),S=j.s[e+"F"];
if(s.xY==null&&e=="norm")j.s.a4s(A,a,p,N,i,Z,S,s.pd?1:0);else if(e=="diss")j.s.azI(A,a,p,N,i,Z,S,s.pd?1:0);
else if(D.indexOf(e)!=-1)j.s.afz(A,a,p,N,i,Z,S,s);else if(n.indexOf(e)!=-1)j.s.a9R(A,a,p,N,i,Z,S,s)};
j.s.aoh=function(e,A,a){var p=e*a+1-a;return p<.001?0:1-Math.min(1,(1-A)/p)};j.s.ag0=function(e,A,a){return e*a==1?1:Math.min(1,A/(1-e*a))};
j.s.fe=function(e){return e<=.25?((16*e-12)*e+4)*e:Math.sqrt(e)};j.s.normF=function(e,A,a){return e};
j.s.darkF=function(e,A,a){return Math.min(e,A)};j.s["mul F"]=function(e,A,a){return e*A};j.s.idivF=function(e,A,a){var p=e*a+1-a;
return A==1?1:1-A>=p?0:1-(1-A)/p};j.s.lbrnF=function(e,A,a){return Math.max(0,e*a+A-a)};j.s.dkClF=function(e,A,a){var p=j.UQ(e)<j.UQ(A)?e:A;
a.o=p.o;a.J=p.J;a.k=p.k;return a};j.s.liteF=function(e,A,a){return Math.max(e,A)};j.s.scrnF=function(e,A,a){return A+e-A*e};
j.s["div F"]=function(e,A,a){e*=a;return A==0?0:A>=1-e?1:A/(1-e)};j.s.lddgF=function(e,A,a){e*=a;return Math.min(1,e+A)};
j.s.lgClF=function(e,A,a){var p=j.UQ(e)>j.UQ(A)?e:A;a.o=p.o;a.J=p.J;a.k=p.k;return a};j.s.overF=function(e,A,a){return j.s.hLitF(A,e,a)};
j.s.sLitF=function(e,A,a){return e<=.5?A-(1-2*e)*A*(1-A):A+(2*e-1)*(j.s.fe(A)-A)};j.s.hLitF=function(e,A,a){return e<=.5?j.s["mul F"](2*e,A,a):j.s.scrnF(2*e-1,A,a)};
j.s.vLitF=function(e,A,a){return e<=.5?j.s.aoh(2*e,A,a):j.s.ag0(2*e-1,A,a)};j.s.lLitF=function(e,A,a){return e<=.5?j.s.lbrnF(2*e,A,a):j.s.lddgF(2*e-1,A,a)};
j.s.pLitF=function(e,A,a){return e<=.5?j.s.darkF(2*e,A,a):j.s.liteF(2*e-1,A,a)};j.s.hMixF=function(e,A,a){if(a>.99)return e+A<1?0:1;
return Math.min(1,Math.max(0,(A+e*a-a)/(1-a+1e-6)))};j.s.diffF=function(e,A,a){e*=a;return Math.abs(e-A)};
j.s.smudF=function(e,A,a){return e+A-2*e*A};j.s.fsubF=function(e,A,a){return Math.max(A-e,0)};j.s.fdivF=function(e,A,a){return Math.min(A/e,1)};
j.s["hue F"]=function(e,A,a){j.s.wl(e,j.sj(A),a);j.s.NP(a,j.UQ(A),a)};j.s["sat F"]=function(e,A,a){j.s.wl(A,j.sj(e),a);
j.s.NP(a,j.UQ(A),a)};j.s.colrF=function(e,A,a){j.s.NP(e,j.UQ(A),a)};j.s["lum F"]=function(e,A,a){j.s.NP(A,j.UQ(e),a)};
j.s.NP=function(e,A,a){var p=A-j.UQ(e);a.o=e.o+p;a.J=e.J+p;a.k=e.k+p;j.s.alB(a)};j.s.alB=function(e){var A=e.o,a=e.J,p=e.k,N=j.hT(A,a,p),iM=Math.min(A,a,p),i=Math.max(A,a,p);
if(iM<0){var Z=N/(N-iM);A=N+(A-N)*Z;a=N+(a-N)*Z;p=N+(p-N)*Z}if(i>1){var Z=(1-N)/(i-N);A=N+(A-N)*Z;a=N+(a-N)*Z;
p=N+(p-N)*Z}e.o=A;e.J=a;e.k=p};j.s.wl=function(e,A,a){var p=j.s.abv,N=e.o,i=e.J,Z=e.k;if(N==i&&i==Z){a.o=a.J=a.k=0}else if(N>i){if(N>Z){if(i>Z){a.o=A;
a.J=p(N,i,Z,A);a.k=0}else{a.o=A;a.k=p(N,Z,i,A);a.J=0}}else{a.k=A;a.o=p(Z,N,i,A);a.J=0}}else{if(N<Z){if(i>Z){a.J=A;
a.k=p(i,Z,N,A);a.o=0}else{a.k=A;a.J=p(Z,i,N,A);a.o=0}}else{a.J=A;a.o=p(i,N,Z,A);a.k=0}}};j.s.abv=function(e,A,a,p){return(A-a)*p/(e-a)};
j.s.a4s=function(e,A,a,p,N,i,Z,s){var D=A.Yn(p).Yn(N),n=Math.max(0,D.x-A.x),S=Math.max(0,D.x-p.x),F=Math.max(0,D.y-A.y),$=Math.max(0,D.y-p.y),m=D.m,J=D.n,w=A.m,f=p.m,b=j.s.y0,L=j.s.U1,C=new Uint32Array(e.buffer),M=new Uint32Array(a.buffer);
for(var c=0;c<J;c++){var y=(F+c)*w+n,Q=($+c)*f+S;for(var k=0;k<m;k++){var E=C[y+k],X=1;if(E>>>24==0)continue;
if(E>>>24==255&&i==1&&s==0){M[Q+k]=C[y+k];continue}var _=M[Q+k],v=E&255,V=E>>>8&255,R=E>>>16&255,h=_&255,P=_>>>8&255,H=_>>>16&255,U=i,x=(_>>>24)*(1/255);
if(s==0){U=(E>>>24)*i*(1/255);X=x}var K=X*(1-U),T=U+K,I=1/T;M[Q+k]=~~(.5+(s*x+(1-s)*T)*255)<<24|~~(.5+(R*U+H*K)*I)<<16|~~(.5+(V*U+P*K)*I)<<8|~~(.5+(v*U+h*K)*I)}}};
j.s.afL=function(e,A,a,p,N,i){var Z=A.Yn(p).Yn(N),s=Math.max(0,Z.x-A.x),D=Math.max(0,Z.x-p.x),n=Math.max(0,Z.y-A.y),S=Math.max(0,Z.y-p.y),F=Z.m,$=Z.n,m=A.m,J=p.m,w=j.s.y0,f=j.s.U1,b=new Uint32Array(e.buffer),L=new Uint32Array(a.buffer),C=Math.floor(Math.random()*16777215),M=0;
for(var c=0;c<$;c++){var y=(n+c)*m+s,Q=(S+c)*J+D;for(var k=0;k<F;k++){var E=b[y+k];if(E>>>24==0)continue;
if(E>>24==255&&i==1){L[Q+k]=E;continue}var _=L[Q+k],v=(E>>>24)*i*(1/255),V=(_>>>24)*(1/255),R=V*(1-v),h=v+R,P=E&255,H=E>>>8&255,U=E>>>16&255,X=_&255,x=_>>>8&255,K=_>>>16&255;
M>>>=8;if((k&3)==0)M=j.s.Zl(Q+k+C);var T=h==0?0:1/h,I=Math.floor(h*(256*255))+(M&255)>>>8,o=Math.floor((U*v+K*R)*T+.5),l=Math.floor((H*v+x*R)*T+.5),O=Math.floor((P*v+X*R)*T+.5);
L[Q+k]=I<<24|o<<16|l<<8|O}}};j.s.Xp=function(e,A,a,p,N,i,Z,s){var D=j.hT(e,A,a),n=j.hT(p,N,i),S=Math.min,F=j.s.az4,$=F(D,s,0);
$=S($,F(e,s,8));$=S($,F(A,s,16));$=S($,F(a,s,24));var m=F(n,s,4);m=S(m,F(p,s,12));m=S(m,F(N,s,20));m=S(m,F(i,s,28));
m=Math.max(m,1-Z);var J=Math.min($,m);return J<0?0:J>1?1:J};j.s.az4=function(e,A,c){return Math.min((e-A[c])*A[c+1],(e-A[c+3])*A[c+2])};
j.s.afz=function(e,A,a,p,N,i,Z,s){var D=1/255,n=D*i,S=s.pd?1:0,F=s.fill,$=s.style,m=A.Yn(p).Yn(N),J=Math.max(0,m.x-A.x),w=Math.max(0,m.x-p.x),f=Math.max(0,m.y-A.y),b=Math.max(0,m.y-p.y),L=m.m,C=m.n,M=A.m,y=p.m,Q=new Uint32Array(e.buffer),k=new Uint32Array(a.buffer);
for(var c=0;c<C;c++){var E=(f+c)*M+J,_=(b+c)*y+w;for(var v=0;v<L;v++,E++,_++){var V=Q[E],T=1;if(V>>>24==0)continue;
var R=k[_],h=(V&255)*D,P=(V>>>8&255)*D,H=(V>>>16&255)*D,U=(R&255)*D,X=(R>>>8&255)*D,x=(R>>>16&255)*D,K=i;
if(S==0){K=(V>>>24)*n;T=(R>>>24)*D}if(s.xY)K*=j.s.Xp(h,P,H,U,X,x,T,s.xY);var I=T*(1-K),o=K+I,l=o==0?0:255/o,O=$?1:K,g=((1-T)*K*h+(1-O)*T*U+O*T*Z(h,U,(1+K-O)*F))*l,W=((1-T)*K*P+(1-O)*T*X+O*T*Z(P,X,(1+K-O)*F))*l,d=((1-T)*K*H+(1-O)*T*x+O*T*Z(H,x,(1+K-O)*F))*l;
o=K*F+T*(1-K*F);var gT=~~(o*255+.5);k[_]=S*(R>>>24)+(1-S)*gT<<24|d<<16|W<<8|g}}};j.s.a9R=function(e,A,a,p,N,i,Z,s){var D=1/255,n=D*i,S=s.pd?1:0,F=A.Yn(p).Yn(N),$=Math.max(0,F.x-A.x),m=Math.max(0,F.x-p.x),J=Math.max(0,F.y-A.y),w=Math.max(0,F.y-p.y),f=F.m,b=F.n,L=new Uint32Array(e.buffer),C=new Uint32Array(a.buffer),M={o:0,J:0,k:0},y={o:0,J:0,k:0},Q={o:0,J:0,k:0};
for(var c=0;c<b;c++){var k=(J+c)*A.m+$,E=(w+c)*p.m+m;for(var _=0;_<f;_++,k++,E++){var v=L[k],V=C[E],R=(v&255)*D,h=(v>>>8&255)*D,P=(v>>>16&255)*D,H=(V&255)*D,U=(V>>>8&255)*D,X=(V>>>16&255)*D,x=i,K=1;
if(S==0){x=(v>>>24)*n;K=(V>>>24)*D}if(s.xY)x*=j.s.Xp(R,h,P,H,U,X,K,s.xY);var T=K*(1-x),I=x+T,o=255/I;
M.o=R;M.J=h;M.k=P;y.o=H;y.J=U;y.k=X;Z(M,y,Q);var l=(((1-K)*R+K*Q.o)*x+H*T)*o,O=(((1-K)*h+K*Q.J)*x+U*T)*o,g=(((1-K)*P+K*Q.k)*x+X*T)*o,W=S*(V>>>24)+(1-S)*Math.round(I*255);
C[E]=W<<24|g<<16|O<<8|l}}};j.s.jM=function(e){e=e^61^e>>>16;e=e+(e<<3);e=e^e>>>4;e=e*668265261;e=e^e>>15;
return(e&16777215)*(1/16777215)};j.s.Zl=function(e){e=e^61^e>>>16;e=e+(e<<3);e=e^e>>>4;e=e*668265261;
e=e^e>>>15;return e};j.s.R9=function(e){this.Q_=e};j.s.R9.prototype.get=function(){var e=this.Q_=j.s.Zl(this.Q_);
return(e&16777215)*(1/16777215)};j.s.azI=function(e,A,a,p,N,i,Z,s){var D=1/255,n=D*i,S=Math.round(i*(256*256*256/255)),F=A.Yn(p).Yn(N),$=Math.max(0,F.x-A.x),m=Math.max(0,F.x-p.x),J=Math.max(0,F.y-A.y),w=Math.max(0,F.y-p.y),f=F.m,b=F.n,L=new Uint32Array(e.buffer),C=new Uint32Array(a.buffer);
for(var c=0;c<b;c++){var M=(J+c)*A.m+$,y=(w+c)*p.m+m;for(var Q=0;Q<f;Q++,M++,y++){var k=L[M],E=C[y],_=s*255+(1-s)*(k>>>24);
if((j.s.Zl(M)&16777215)>=_*S)continue;C[y]=k&16777215|s*(E>>>24)+(1-s)*255<<24}}};j.s.akf=function(e,A,a){for(var c=0;
c<e.length;c+=4){var p=a[c>>>2];if(p==0)continue;var N=p*(1/255),i=1/N,Z=A[c],s=A[c+1],D=A[c+2],n=e[c],S=e[c+1],F=e[c+2];
A[c]=Math.min(255,Math.max(0,Math.round((Z-(1-N)*n)*i)));A[c+1]=Math.min(255,Math.max(0,Math.round((s-(1-N)*S)*i)));
A[c+2]=Math.min(255,Math.max(0,Math.round((D-(1-N)*F)*i)));A[c+3]=255}};j.s.Lq=function(e,A,a,p,N,i,Z,s,D,n,S){if(n==null)n=!1;
if(S==null)S=[1,1,1];var F=255<<24|S[2]*16711680|S[1]*65280|S[0]*255,$=~F;if(N&&!A.Kx(i)){var m=j.Q(A.O()*4);
m.fill(Z);j.WP(N,i,m,A);N=m;i=A}if(n){if(N==null)j.s.aje(e,A,a,p,N,s,D,F,$);else j.s.atE(e,A,a,p,N,s,D)}else{if(N==null)j.s.aqh(e,A,a,p,N,s,D,F,$);
else j.s.adK(e,A,a,p,N,s,D)}};j.s.aqh=function(e,A,a,p,N,i,Z,s,D){var n=1/255,S=A.Yn(p).Yn(i),F=Math.max(0,S.x-A.x),$=Math.max(0,S.x-p.x),m=Math.max(0,S.y-A.y),J=Math.max(0,S.y-p.y),w=S.m,f=S.n,b=new Uint32Array(e.buffer),L=new Uint32Array(a.buffer),C=j.s.y0,M=Z*255&255;
for(var c=0;c<f;c++){var y=(m+c)*A.m+F,Q=(J+c)*p.m+$;for(var k=0;k<w;k++,y++,Q++){var E=b[y],_=L[Q],v=E>>>24,V=_>>>24,R=j.B_(M*v+(255-M)*V),h=j.B_(v*M),P=j.B_(V*(255-M)),H=E&255,U=E>>>8&255,X=E>>>16&255,x=_&255,K=_>>>8&255,T=_>>>16&255,I=h*H+x*P,o=h*U+K*P,l=h*X+T*P;
I=C[R<<8|j.B_(I)];o=C[R<<8|j.B_(o)];l=C[R<<8|j.B_(l)];var O=R<<24|l<<16|o<<8|I;L[Q]=D&_|s&O}}};j.s.aje=function(e,A,a,p,N,i,Z,s,D){var n=1/255,S=A.Yn(p).Yn(i),F=Math.max(0,S.x-A.x),$=Math.max(0,S.x-p.x),m=Math.max(0,S.y-A.y),J=Math.max(0,S.y-p.y),w=S.m,f=S.n,b=new Uint32Array(e.buffer),L=new Uint32Array(a.buffer),C=j.s.y0,M=Z*16777215&16777215;
for(var c=0;c<f;c++){var y=(m+c)*A.m+F,Q=(J+c)*p.m+$;for(var k=0;k<w;k++,y++,Q++){if((j.s.Zl(y)&16777215)<M){L[Q]=D&L[Q]|s&b[y]}}}};
j.s.adK=function(e,A,a,p,N,i,Z){var s=1/255,D=A.Yn(p).Yn(i),n=Math.max(0,D.x-A.x),S=Math.max(0,D.x-p.x),F=Math.max(0,D.y-A.y),$=Math.max(0,D.y-p.y),m=D.m,J=D.n,w=new Uint32Array(e.buffer),f=new Uint32Array(a.buffer),b=j.s.y0;
for(var c=0;c<J;c++){var L=(F+c)*A.m+n,C=($+c)*p.m+S;for(var M=0;M<m;M++,L++,C++){var y=N[L]*Z&255;if(y==0)continue;
if(y==255){f[C]=w[L];continue}var Q=w[L],k=f[C],E=Q>>>24,_=k>>>24,v=j.B_(y*E+(255-y)*_),V=j.B_(E*y),R=j.B_(_*(255-y)),h=Q&255,P=Q>>>8&255,H=Q>>>16&255,U=k&255,X=k>>>8&255,x=k>>>16&255,K=b[v<<8|j.B_(V*h+U*R)],T=b[v<<8|j.B_(V*P+X*R)],I=b[v<<8|j.B_(V*H+x*R)];
f[C]=v<<24|I<<16|T<<8|K}}};j.s.atE=function(e,A,a,p,N,i,Z){var s=1/255,D=A.Yn(p).Yn(i),n=Math.max(0,D.x-A.x),S=Math.max(0,D.x-p.x),F=Math.max(0,D.y-A.y),$=Math.max(0,D.y-p.y),m=D.m,J=D.n,w=new Uint32Array(e.buffer),f=new Uint32Array(a.buffer),b=j.s.y0,L=Math.round(Z*257);
for(var c=0;c<J;c++){var C=(F+c)*A.m+n,M=($+c)*p.m+S;for(var y=0;y<m;y++,C++,M++){var Q=N[C]*L;if((j.s.Zl(C)&65535)<Q)f[M]=w[C]}}};
j.s.ym=function(e,A,a,p,N,i,Z){var s=1/255,D=A.Yn(p).Yn(i),n=Math.max(0,D.x-A.x),S=Math.max(0,D.x-p.x),F=Math.max(0,D.y-A.y),$=Math.max(0,D.y-p.y),m=D.m,J=D.n,w=new Uint32Array(e.buffer),f=new Uint32Array(a.buffer),b=Math.floor(Math.random()*p.O()),L=j.s.a6$;
for(var c=0;c<J;c++){var C=(F+c)*A.m+n,M=($+c)*p.m+S;for(var y=0;y<m;y++){var Q=N[C+y]*Z;if(Q==0)continue;
if(Q==255){f[M+y]=w[C+y];continue}var k=w[C+y],E=f[M+y],_=k>>>24,v=E>>>24,V=_*Q*(1/255),R=v*(255-Q)*(1/255),h=k&255,P=k>>>8&255,H=k>>>16&255,U=E&255,X=E>>>8&255,x=E>>>16&255,K=j.s.Zl(M+y+b),T=Math.floor((V+R)*256+.5)+(K>>>0&255)>>>8,I=T==0?0:256/(V+R),o=h*V+U*R,l=P*V+X*R,O=H*V+x*R,g=Math.floor(o*I+.5)+(K>>>8&255)>>>8,W=Math.floor(l*I+.5)+(K>>>16&255)>>>8,d=Math.floor(O*I+.5)+(K>>>24&255)>>>8;
f[M+y]=T<<24|d<<16|W<<8|g}}};j.s.a6$=function(e){return Math.floor(e+Math.random())};j.s.xL=function(e,A,a,p,N,i,Z){var s=1/255,D=A.Yn(p).Yn(i),n=Math.max(0,D.x-A.x),S=Math.max(0,D.x-p.x),F=Math.max(0,D.y-A.y),$=Math.max(0,D.y-p.y),m=D.m,J=D.n;
for(var c=0;c<J;c++){var w=(F+c)*A.m+n,f=($+c)*p.m+S;for(var b=0;b<m;b++,w++,f++){var L=Z*N[w]*s;if(L==0)continue;
if(L==1){a[f]=e[w];continue}a[f]=e[w]*L+a[f]*(1-L)}}};j.aA0=function(){function e(i){var Z=i*.85;return Math.exp(-(Z*Z)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function A(i,Z){var s=i<Z?1:e((i-Z)/Math.pow(1.001-Z,.86));
return s}var a=[];function p(i){if(a[i])return a[i];var Z=Math.pow(i,.55),s=new Float64Array(8e3),D=0,n=8e3;
for(var c=0;c<8e3;c++){var S=A(c*(1.55/4e3),Z);if(S>=1)D=c;else if(S<=0&&n==8e3)n=c;s[c]=S}var F=[s,D,n];
a[i]=F;return F}function N(i,Z,s){var D=1+.55*(1-Z),n=Math.round(s*i*D)+2,S=new dE(0,0,n,n),F=j.Q(n*n),$=[F,S],m=n/2,J=D/(m-1),w=Date.now(),f=p(Z),b=Math.round(8e3/m),L=f[0],C=f[1]-b,M=f[2]+b,y=Math.min(n,n+1>>>1),Q=J*.4*(4e3/1.55),k=j.Q(8e3);
for(var c=0;c<8e3;c++){var E=c,_=c,v=~~Math.max(0,E-Q-Q),V=~~Math.max(0,E-Q),R=~~(E+Q),h=~~(E+Q+Q),P=~~(.5+255*(1/5)*(L[_]+L[v]+L[V]+L[R]+L[h]));
k[c]=P;if(P==0)break}for(var c=0;c<y;c++){var H=J*(c-m+.5),U=H*H,X=c*n,x=(n-1-c)*n;for(var K=0;K<y;K++){var T=J*(K-m+.5),_=~~(Math.sqrt(T*T+U)*(4e3/1.55));
if(M<_)continue;else if(_<C){var P=255;while(K<y){var I=n-1-K;F[X+K]=P;F[X+I]=P;F[x+K]=P;F[x+I]=P;K++}break}else{var P=k[_],I=n-1-K;
F[X+K]=P;F[X+I]=P;F[x+K]=P;F[x+I]=P}}}return $}return{acW:N}}();j.ah={};j.ah.a60=function(e,A,a,p,N,i){j.ah._S(e,A,a,p,N,i,null,0)};
j.ah.awL=function(e,A,a,p,N){j.ah._S(e,A,a,p,N,null,null,0)};j.ah.aiX=function(e,A,a,p,N,i,Z){j.ah._S(e,A,a,p,N,null,i,Z*.5)};
j.ah._S=function(e,A,a,p,N,i,Z,s){var D=0,R=0,h=1e9,P=0,H=1e9,U=0,X=1e9,x=0,K=0,T=0,I=0;if(i){D=N*.5;
N=3+Math.round((N-3)*.75)}if(Z){N=Math.round(N*2.2)}var n=1/N,S=Math.floor(A*n)+1,F=Math.floor(a*n)+1,$=[],m=new Uint8Array(S*F*4),J=Z?.5:1,w=i?64:0;
for(var f=0;f<F;f++){var b=Z?.5*(f&1):0;for(var L=0;L<S;L++){var C=(L+Math.random()*J+b)*N,M=(f+Math.random()*J)*N;
$.push(C,M);var y=Math.min(A-1,Math.floor(C)),Q=Math.min(a-1,Math.floor(M)),k=(Q*A+y)*4,E=(f*S+L)*4;
for(var c=0;c<4;c++)m[E+c]=Math.max(0,Math.min(255,Math.floor(e[k+c]+(Math.random()-.5)*w)))}}var _=i?i:Z?Z:[0,0,0],v=S*F*2,V=[-S-1,-S,-S+1,-1,0,1,S-1,S,S+1];
for(var f=0;f<a;f++){T=0;for(var L=0;L<A;L++){var o=L+.5,l=f+.5,O=Math.floor(l*n),g=Math.floor(o*n),W=O*S+g,r=0,G=0;
if(T>1+s){h=j.ah.Lw($,R,o,l);x=Math.sqrt(h);T--;I++}else{h=H=X=1e9;for(var c=0;c<V.length;c++){var d=(W+V[c])*2;
if(d<0||d>=v)continue;var gT=j.ah.Lw($,d,o,l);if(gT<X){if(gT<H){if(gT<h){U=P;X=H;P=R;H=h;R=d;h=gT}else{U=P;
X=H;P=d;H=gT}}else{U=d;X=gT}}}x=Math.sqrt(h);K=Math.sqrt(H);T=K-(x+K)*.5}if(Z==null){var Y=(x+K)*.5,fk=i?Math.max(0,Y-D):0;
r=Math.max(0,Math.min(1,.5+Y-x-fk));G=Math.max(0,Math.min(1,1-(.5+Y-x)-fk))}else{var eJ=Math.min(j.ah.p6($,R,P,o,l),j.ah.p6($,R,U,o,l));
r=Math.max(0,Math.min(1,eJ-s*.5));if(o<s||A-s<o||l<s||a-s<l)r=0;G=0}var eS=1-G-r,E=f*A+L<<2,gq=R<<1,iL=P<<1;
p[E+0]=Math.floor(.5+r*m[gq+0]+G*m[iL+0]+eS*_[0]);p[E+1]=Math.floor(.5+r*m[gq+1]+G*m[iL+1]+eS*_[1]);
p[E+2]=Math.floor(.5+r*m[gq+2]+G*m[iL+2]+eS*_[2]);p[E+3]=e[E+3]}}};j.ah.Lw=function(e,A,a,p){var N=a-e[A],i=p-e[A+1];
return N*N+i*i};j.ah.p6=function(e,A,a,p,N){var i=e[A],Z=e[A+1],s=e[a],D=e[a+1],n=(i+s)*.5,S=(Z+D)*.5,F=n+(D-Z),$=S-(s-i),m=$-S,J=F-n;
return Math.abs(m*p-J*N+F*S-$*n)/Math.sqrt(J*J+m*m)};j.Vr={};j.Vr.va=function(e){if(j.Vr.CO.length<e)j.Vr.CO=j.Q(e);
return j.Vr.CO};j.Vr.CO=j.Q(0);j.Vr.I7=function(e){if(j.Vr.Zr.length<e)j.Vr.Zr=new Float32Array(e);return j.Vr.Zr};
j.Vr.Zr=new Float32Array(0);j.Vr.vq=function(e,A,a,p){var N=a.m,i=a.n;j.Vr.a4U(e,A,N,i,p)};j.Vr.rs=function(e,A,a,p){var N=a.m,i=a.n;
j.Vr.a44(e,A,N,i,p)};j.Vr.dB=function(e,A,a){var p=A.m,N=A.n;j.Vr.alz(e,p,N,a)};j.Vr.Lk=function(e,A,a,p,N){var i=a.m,Z=a.n;
j.Vr.adt(e,A,i,Z,p,N)};j.Vr.ZT=function(e,A,a,p){var N=a.m,i=a.n;p=Math.round(p);var Z=j.Vr.va(N*i);
j.GZ(e,A);j.Vr.$X(A,Z,N,i,p)};j.Vr.o3=function(e,A,a){var p=A.m,N=A.n;a=Math.round(a);var i=j.Vr.va(p*N*4);
j.Vr.sE(e,i,p,N,a)};j.Vr.lf=function(e,A,a,p){var N=a.m,i=a.n;p=Math.round(p);var Z=j.Vr.I7(N*i);j.GZ(e,A);
j.Vr.RG(A,Z,N,i,p)};j.Vr.lU=function(e,A,a){var p=A.m,N=A.n;a=Math.round(a);var i=j.Vr.va(p*N*4);j.Vr.jU(e,i,p,N,a);
j.GZ(i,e)};j.Vr.ja=function(e,iM){var A=Math.sqrt(12*e*e/iM+1),a=Math.floor(A);if(a%2==0)a--;var p=a+2,N=(12*e*e-iM*a*a-4*iM*a-3*iM)/(-4*a-4),i=Math.round(N),Z=[];
for(var c=0;c<iM;c++)Z.push(c<i?a:p);return Z};j.Vr.a4U=function(e,A,a,p,N){var i=j.Vr.ja(N,3),Z=j.Vr.va(a*p);
j.GZ(e,A);j.Vr.$X(A,Z,a,p,i[0]-1>>1);j.Vr.$X(A,Z,a,p,i[1]-1>>1);j.Vr.$X(A,Z,a,p,i[2]-1>>1)};j.Vr.a44=function(e,A,a,p,N){var i=j.Vr.ja(N,2),Z=j.Vr.va(a*p);
j.GZ(e,A);j.Vr.$X(A,Z,a,p,i[0]-1>>1);j.Vr.$X(A,Z,a,p,i[1]-1>>1)};j.Vr.alz=function(e,A,a,p){var N=j.Vr.ja(p,3),i=j.Vr.va(A*a*4);
j.Vr.sE(e,i,A,a,N[0]-1>>1);j.Vr.sE(e,i,A,a,N[1]-1>>1);j.Vr.sE(e,i,A,a,N[2]-1>>1)};j.Vr.adt=function(e,A,a,p,N,i){if(i==null)i=3;
var Z=j.Vr.ja(N,i),s=j.Vr.I7(a*p);j.GZ(e,A);for(var c=0;c<i;c++)j.Vr.RG(A,s,a,p,(Z[c]-1)/2)};j.Vr.$X=function(e,A,a,p,N){j.Vr.ajz(e,A,a,p,N);
j.Vr.aoM(A,e,a,p,N)};j.Vr.sE=function(e,A,a,p,N){j.Vr.jU(e,A,a,p,N);j.Vr.ans(A,e,a,p,N)};j.Vr.RG=function(e,A,a,p,N){j.Vr.aca(e,A,a,p,N);
j.Vr.ave(A,e,a,p,N)};j.Vr.Pl=[];j.Vr.lp=function(e){if(j.Vr.Pl[e])return j.Vr.Pl[e];var A=1/(e+e+1),a=(e+e+1)*256,p=j.Q(a);
for(var c=0;c<a;c++)p[c]=Math.round(c*A);j.Vr.Pl[e]=p;return p};j.Vr.ajz=function(e,A,a,p,N){var i=1/(N+N+1),Z=a-N-N-1,s=j.Vr.lp(N);
for(var c=0;c<p;c++){var D=c*a,n=D,S=D+N,F=e[D],$=e[D+a-1],m=(N+1)*F;for(var J=0;J<N;J++)m+=e[D+J];for(var J=0;
J<=N;J++){m+=e[S+J]-F;A[D+J]=s[m]}S+=N+1;D+=N+1;for(var J=0;J<Z;J++){m+=e[S+J]-e[n+J];A[D+J]=s[m]}S+=Z;
n+=Z;D+=Z;for(var J=a-N;J<a;J++){m+=$-e[n++];A[D++]=s[m]}}};j.Vr.jU=function(e,A,a,p,N){var i=a<<2,Z=N<<2,s=1/(N+N+1),D=a-N-N-1,n=D<<2,S=j.Vr.lp(N);
for(var c=0;c<p;c++){var F=c*i,$=F,m=F+Z,J=F+i,w=e[F],f=e[F+1],b=e[F+2],L=e[F+3],C=(N+1)*w,M=(N+1)*f,y=(N+1)*b,Q=(N+1)*L;
for(var k=0;k<Z;k+=4){C+=e[F+k];M+=e[F+k+1];y+=e[F+k+2];Q+=e[F+k+3]}for(var k=0;k<=Z;k+=4){C+=e[m]-w;
A[F]=S[C];M+=e[m+1]-f;A[F+1]=S[M];y+=e[m+2]-b;A[F+2]=S[y];Q+=e[m+3]-L;A[F+3]=S[Q];m+=4;F+=4}for(var k=0;
k<n;k+=4){C+=e[m+k]-e[$+k];A[F+k]=S[C];M+=e[m+k+1]-e[$+k+1];A[F+k+1]=S[M];y+=e[m+k+2]-e[$+k+2];A[F+k+2]=S[y];
Q+=e[m+k+3]-e[$+k+3];A[F+k+3]=S[Q]}m+=n;$+=n;F+=n;w=e[J-4];f=e[J-3];b=e[J-2];L=e[J-1];for(var k=a-N;
k<a;k++){C+=w-e[$];A[F]=S[C];M+=f-e[$+1];A[F+1]=S[M];y+=b-e[$+2];A[F+2]=S[y];Q+=L-e[$+3];A[F+3]=S[Q];
$+=4;F+=4}}};j.Vr.aca=function(e,A,a,p,N){var i=1/(N+N+1),Z=a-N-N-1;for(var c=0;c<p;c++){var s=c*a,D=s,n=s+N,S=e[s],F=e[s+a-1],$=(N+1)*S;
for(var m=0;m<N;m++)$+=e[s+m];for(var m=0;m<=N;m++){$+=e[n+m]-S;A[s+m]=$*i}n+=N+1;s+=N+1;for(var m=0;
m<Z;m++){$+=e[n+m]-e[D+m];A[s+m]=$*i}n+=Z;D+=Z;s+=Z;for(var m=a-N;m<a;m++){$+=F-e[D++];A[s++]=$*i}}};
j.Vr.aoM=function(e,A,a,p,N){var i=1/(N+N+1),Z=p-N-N-1,s=j.Vr.lp(N);for(var c=0;c<a;c++){var D=c,n=D,S=D+N*a,F=e[D],$=e[D+a*(p-1)],m=(N+1)*F;
for(var J=0;J<N;J++)m+=e[D+J*a];for(var J=0;J<=N;J++){m+=e[S]-F;A[D]=s[m];S+=a;D+=a}for(var J=0;J<Z;
J++){var w=J*a;m+=e[S+w]-e[n+w];A[D+w]=s[m]}n+=Z*a;S+=Z*a;D+=Z*a;for(var J=p-N;J<p;J++){m+=$-e[n];A[D]=s[m];
n+=a;D+=a}}};j.Vr.ans=function(e,A,a,p,N){var i=a<<2,Z=N<<2,s=1/(N+N+1),D=p-N-N-1,n=D<<2,S=j.Vr.lp(N);
for(var c=0;c<a;c++){var F=c<<2,$=F,m=F+N*i,J=F+i*(p-1),w=e[F],f=e[F+1],b=e[F+2],L=e[F+3],C=(N+1)*w,M=(N+1)*f,y=(N+1)*b,Q=(N+1)*L;
for(var k=0;k<N;k++){var E=F+k*i;C+=e[E];M+=e[E+1];y+=e[E+2];Q+=e[E+3]}for(var k=0;k<=N;k++){C+=e[m]-w;
A[F]=S[C];M+=e[m+1]-f;A[F+1]=S[M];y+=e[m+2]-b;A[F+2]=S[y];Q+=e[m+3]-L;A[F+3]=S[Q];m+=i;F+=i}for(var k=0;
k<D;k++){var _=k*i;C+=e[m+_]-e[$+_];A[F+_]=S[C];M+=e[m+_+1]-e[$+_+1];A[F+_+1]=S[M];y+=e[m+_+2]-e[$+_+2];
A[F+_+2]=S[y];Q+=e[m+_+3]-e[$+_+3];A[F+_+3]=S[Q]}$+=D*i;m+=D*i;F+=D*i;w=e[J];f=e[J+1];b=e[J+2];L=e[J+3];
for(var k=p-N;k<p;k++){C+=w-e[$];A[F]=S[C];M+=f-e[$+1];A[F+1]=S[M];y+=b-e[$+2];A[F+2]=S[y];Q+=L-e[$+3];
A[F+3]=S[Q];$+=i;F+=i}}};j.Vr.ave=function(e,A,a,p,N){var i=1/(N+N+1),Z=p-N-N-1;for(var c=0;c<a;c++){var s=c,D=s,n=s+N*a,S=e[s],F=e[s+a*(p-1)],$=(N+1)*S;
for(var m=0;m<N;m++)$+=e[s+m*a];for(var m=0;m<=N;m++){$+=e[n]-S;A[s]=$*i;n+=a;s+=a}for(var m=0;m<Z;m++){var J=m*a;
$+=e[n+J]-e[D+J];A[s+J]=$*i}D+=Z*a;n+=Z*a;s+=Z*a;for(var m=p-N;m<p;m++){$+=F-e[D];A[s]=$*i;D+=a;s+=a}}};
j.ay={};j.ay.Q=function(e,A,a,p){var N=[];for(var i=0;i<4;i++)for(var Z=0;Z<4;Z++)N.push(e+a*Z/3,A+p*i/3);
return N};j.ay.PK=function(e,A){var a=e.slice(0);for(var c=0;c<4;c++)for(var p=0;p<4;p++){var N=2*(c*4+p),i=2*(p*4+(3-c));
if(A){var Z=N;N=i;i=Z}a[i]=e[N];a[i+1]=e[N+1]}return a};j.ay.Sb=j.Q(0);j.ay.drawImage=function(e,A,a,p,N,i,Z){var s=!1,D=Date.now(),n=2,S=a+2*n,F=p+2*n,$=new dE(n,n,a,p),m=$.clone(),L=50;
m.Fu(n,n);var J=j.ay.Sb;if(J.length!=m.O()*4)J=j.ay.Sb=j.Q(m.O()*4);else J.fill(0);j._M(A,$,J,m);if(s)console.log(Date.now()-D,"copy rect");
D=Date.now();j.QM(J);if(s)console.log(Date.now()-D,"multiply alpha");D=Date.now();var w=[],f=[],b=[];
for(var C=0;C<L+1;C++)for(var M=0;M<L+1;M++){var y=M/L,Q=C/L;w.push(S*y,F*Q);if(M<L&&C<L){var k=C*(L+1)+M,E=k+1,_=k+L+1,v=_+1;
f.push(k,E,_);f.push(_,E,v)}var V=j.ay.auk(e,y,Q);b.push(-V)}var R=w.slice(0);j.ay.D(e,R,new dE(n,n,a,p));
j.p.D(R,new bj(1,0,0,1,-i.x,-i.y),R);if(s)console.log(Date.now()-D,"mesh built");D=Date.now();var h=i.m,P=i.n;
j.ao.Y1(J,S,F,N,h,P,w,R,b,f);if(s)console.log(Date.now()-D,"rendered");D=Date.now();j.iG(N);if(s)console.log(Date.now()-D,"divided");
D=Date.now()};j.ay.iJ=new Array(10);j.ay.ahP=function(e,A){var a=200,p=0,N=0,i=1e9,Z=j.ay.iJ;for(var s=0;
s<a+1;s++)for(var D=0;D<a+1;D++){var n=D/a,S=s/a;j.ay.TQ(e,n,S,Z);var F=Z[8]-A.x,$=Z[9]-A.y,m=F*F+$*$;
if(m<i){i=m;p=n;N=S}}return[p,N]};j.ay.D=function(e,A,a){var p=a.x,N=a.y,i=1/a.m,Z=1/a.n,s=j.ay.iJ;for(var D=0;
D<A.length;D+=2){var n=(A[D]-p)*i,S=(A[D+1]-N)*Z;j.ay.TQ(e,n,S,s);A[D]=s[8];A[D+1]=s[9]}};j.ay.auk=function(e,A,a){var p,N,i,Z,s=j.ay.iJ;
j.ay.aeE(e,A,a,s);p=s[8];N=s[9];j.ay.aj_(e,A,a,s);i=s[8];Z=s[9];return p*Z-N*i};j.ay.TQ=function(e,A,a,p){j.ay.B8(p,0,a);
j.ay.B8(p,4,A);j.ay.NS(e,p)};j.ay.aeE=function(e,A,a,p){j.ay.B8(p,0,a);j.ay.vj(p,4,A);j.ay.NS(e,p)};
j.ay.aj_=function(e,A,a,p){j.ay.vj(p,0,a);j.ay.B8(p,4,A);j.ay.NS(e,p)};j.ay.vj=function(e,c,A){var a=1-A;
e[c]=-3*(a*a);e[c+1]=3*(a*a)-6*(A*a);e[c+2]=6*(A*a)-3*(A*A);e[c+3]=3*(A*A)};j.ay.B8=function(e,c,A){var a=1-A;
e[c]=a*(a*a);e[c+1]=3*A*(a*a);e[c+2]=3*(A*A)*a;e[c+3]=A*A*A};j.ay.NS=function(e,A){var a=0,p=0,N=0,i=A[0],Z=A[1],s=A[2],D=A[3],n=A[4],S=A[5],F=A[6],$=A[7];
N=i*n;a+=e[0]*N;p+=e[1]*N;N=i*S;a+=e[2]*N;p+=e[3]*N;N=i*F;a+=e[4]*N;p+=e[5]*N;N=i*$;a+=e[6]*N;p+=e[7]*N;
N=Z*n;a+=e[8]*N;p+=e[9]*N;N=Z*S;a+=e[10]*N;p+=e[11]*N;N=Z*F;a+=e[12]*N;p+=e[13]*N;N=Z*$;a+=e[14]*N;p+=e[15]*N;
N=s*n;a+=e[16]*N;p+=e[17]*N;N=s*S;a+=e[18]*N;p+=e[19]*N;N=s*F;a+=e[20]*N;p+=e[21]*N;N=s*$;a+=e[22]*N;
p+=e[23]*N;N=D*n;a+=e[24]*N;p+=e[25]*N;N=D*S;a+=e[26]*N;p+=e[27]*N;N=D*F;a+=e[28]*N;p+=e[29]*N;N=D*$;
a+=e[30]*N;p+=e[31]*N;A[8]=a;A[9]=p};j.Gm={};j.Gm.a9s=function(e,A,a){var p=Date.now(),N=new ArrayBuffer(A*a*16),i=j.Gm.ah9(e,A,a,N),Z=j.Gm.ana(A,a,N);
return{lm:Z,T3:i}};j.Gm.atD=function(e,A,a){var p=Math.round(e.length/8),N=new Uint32Array(p),i=new Uint8Array(p),Z=new Uint32Array(p);
j.fV(N,4294967295,0);N[a]=0;var s=new dI(p);s.push(a,N[a]);var D={lm:e,T3:A,oF:N,yo:i,gu:Z,SA:s,ajA:a};
return D};j.Gm.Bd=function(e,A){var a=e.lm,p=e.T3,N=e.oF,i=e.yo,Z=e.gu,s=e.SA;while(!s.QP()&&(A==null||i[A]==0)){var D=s.pop();
i[D]=1;for(var c=0;c<8;c++){var n=a[8*D+c],S=D+n;if(n==0||i[S])continue;var F=N[D]+p[8*D+c];if(s.contains(S)&&F<N[S])s.remove(S,N[S]);
if(!s.contains(S)){N[S]=F;Z[S]=D;s.push(S,N[S])}}}};function dI(e){this.f$=new Uint32Array(e);this.list=[];
this.rp=0;this.IR=4294967295}dI.prototype.QP=function(){return this.rp==0};dI.prototype.push=function(e,A){var a=this.list;
if(a[A]==null)a[A]=[];a[A].push(e);this.rp++;this.f$[e]=a[A].length-1+1;this.IR=Math.min(this.IR,A)};
dI.prototype.pop=function(){this.rp--;var e=this.list,A=this.IR,a=e[A].pop();if(e[A].length==0)e[A]=null;
this.H6();this.f$[a]=0;return a};dI.prototype.contains=function(e){return this.f$[e]!=0};dI.prototype.remove=function(e,A){this.rp--;
var a=this.list,c=this.f$[e]-1;if(c==a[A].length-1)a[A].pop();else{var p=a[A].pop();a[A][c]=p;this.f$[p]=c+1}if(a[A].length==0)a[A]=null;
this.f$[e]=0;this.H6()};dI.prototype.H6=function(){if(this.rp==0){this.IR=4294967295;return}var e=this.IR,A=this.list;
while(A[e]==null)e++;this.IR=e};j.Gm.axj=function(e,A,a,p){var N=new Int16Array(p);for(var i=0;i<a;i++)for(var Z=0;
Z<A;Z++){var c=i*A+Z,s=0;if(1<Z&&Z<A-2&&1<i&&i<a-2){s+=e[c-A-A];s+=e[c-A-1]+2*e[c-A]+e[c-A+1];s+=e[c-2]+2*e[c-1]-16*e[c]+2*e[c+1]+e[c+2];
s+=e[c+A-1]+2*e[c+A]+e[c+A+1];s+=e[c+A+A]}else s=-16*e[c];N[c]=s}return N};j.Gm.ac4=function(e,A,a,p){if(p==null)p=128;
var N=new Uint8Array(A*a);for(var i=1;i<a-1;i++)for(var Z=1;Z<A-1;Z++){var c=i*A+Z;N[c]=j.Gm.afD(e[c],e[c-1],e[c+1],e[c-A],e[c+A],p)}return N};
j.Gm.afD=function(e,A,a,p,N,i){var Z=Math.abs(e);return e*A<0&&Z<Math.abs(A)&&Math.abs(A-e)>i||e*a<0&&Z<Math.abs(a)&&Math.abs(a-e)>i||e*p<0&&Z<Math.abs(p)&&Math.abs(p-e)>i||e*N<0&&Z<Math.abs(N)&&Math.abs(N-e)>i?1:0};
j.Gm.a0d=function(e,A,a,p){var N=new Float32Array(p),i=0;new Uint32Array(p).fill(0);for(var Z=0;Z<a;
Z++)for(var s=0;s<A;s++){var D=0,n=0,c=Z*A+s,S=c*3;if(0<s&&s<A-1)D=e[c+1]-e[c-1];if(0<Z&&Z<a-1)n=e[c+A]-e[c-A];
var F=N[S+2]=Math.sqrt(D*D+n*n);if(F!=0){var $=1/F;N[S]=D*$;N[S+1]=n*$}if(F>i)i=F}var m=A*a,J=i==0?0:1/i;
for(var c=0;c<m;c++)N[c*3+2]=1-N[c*3+2]*J;return N};j.Gm.avc=function(e,A,a){return a[~~((.5+.5*e)*255)]+a[~~((.5+.5*A)*255)]};
j.Gm.ah9=function(e,A,a,p){var N=Date.now(),i=j.Gm.axj(e,A,a,p),Z=j.Gm.ac4(i,A,a),s=j.Gm.a0d(e,A,a,p),D=new Float32Array(256);
for(var c=0;c<256;c++)D[c]=Math.acos(-1+2*c/255)*(.95/Math.PI);var n=[-1,0,1,1,1,0,-1,-1],S=[-1,-1,-1,0,1,1,1,0];
for(var c=0;c<8;c++){var F=1/Math.sqrt(n[c]*n[c]+S[c]*S[c]);n[c]*=F;S[c]*=F}var $=[n[0],S[0],n[1],S[1],n[2],S[2],n[3],S[3]],m=[-A-1,-A,-A+1,1],J=new Uint8Array(A*a*8);
new Uint32Array(J.buffer).fill(4294967295);var w=A*a;for(var f=1;f<a-1;f++)for(var b=1;b<A-1;b++){var L=f*A+b,C=1-Z[L],M=s[L*3+2],y=s[3*L+1],Q=-s[3*L];
for(var k=0;k<4;k++){var E=L+m[k];j.Gm.a8T(L,E,k,J,Z,s,C,M,y,Q,$,D)}}return J};j.Gm.a8T=function(e,A,a,p,N,i,Z,s,D,n,S,F){var $=1-N[A],m=(a&1)==0?1:Math.SQRT1_2,J=i[A*3+2]*m,w=i[3*A+1],f=-i[3*A],b=s*m,L=S[a+a],C=S[a+a+1],M=D*L+n*C,y=w*L+f*C;
if(M+y<0){M=-M;y=-y}var Q=j.Gm.avc(M,y,F);p[(e<<3)+a]=j.Gm.Hq($,Q,J);p[(A<<3)+a+4]=j.Gm.Hq(Z,Q,b)};j.Gm.Hq=function(e,A,a){return 1+~~(.5+20*(.43*e+.43*A+.14*a))};
j.Gm.ana=function(e,A,a){var p=new Int16Array(a),N=p,c=0,i=0;new Uint32Array(a).fill(0);for(var Z=0;
Z<A;Z++)for(var s=0;s<e;s++){if(Z>0&&s>0)N[i+0]=-e-1;if(Z>0)N[i+1]=-e;if(Z>0&&s<e-1)N[i+2]=-e+1;if(s<e-1)N[i+3]=1;
if(Z<A-1&&s<e-1)N[i+4]=e+1;if(Z<A-1)N[i+5]=e;if(Z<A-1&&s>0)N[i+6]=e-1;if(s>0)N[i+7]=-1;c++;i+=8}return p};
j.N_={};j.N_.ZB=function(e){var A=e.slice(0),a=0;for(var c=0;c<e.length;c++)a+=e[c];for(var c=0;c<e.length;
c++)A[c]/=a;return A};j.N_.uN=[j.N_.ZB([1,2,1,2,16,2,1,2,1]),j.N_.ZB([1,2,1,2,4,2,1,2,1]),j.N_.ZB([0,-1,0,-1,8,-1,0,-1,0]),j.N_.ZB([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
j.N_.LP=function(e,A,a,p,N,i,Z,s){if(Z==null)Z=!1;if(s==null)s=!1;var D=Math.floor(Math.sqrt(N.length)),n=D-1>>>1,S=new Uint32Array(e.buffer),A=new Uint8ClampedArray(A.buffer);
for(var c=0;c<p;c++)for(var F=0;F<a;F++){var $=0,m=0,J=0,w=0;for(var f=0;f<D;f++)for(var b=0;b<D;b++){var L=N[f*D+b];
if(L==0)continue;var C=F-n+b,M=c-n+f;if(C<0)C=0;else if(C>a-1)C=a-1;if(M<0)M=0;else if(M>p-1)M=p-1;if(s&&S[M*a+C]>>>24==0){M=c;
C=F}var y=S[M*a+C];$+=(y&255)*L;m+=(y>>>8&255)*L;J+=(y>>>16&255)*L;w+=(y>>>24&255)*L}if(Z){if($<0)$=-$;
if(m<0)m=-m;if(J<0)J=-J;if(w<0)w=-w}if(s){$=Math.max(0,Math.min(255,$));m=Math.max(0,Math.min(255,m));
J=Math.max(0,Math.min(255,J));w=Math.max(0,Math.min(255,w))}var Q=c*a+F<<2;A[Q]=~~(.5+$);A[Q+1]=~~(.5+m);
A[Q+2]=~~(.5+J);A[Q+3]=255-i&A[Q+3]|i&~~(.5+w)}};j.N_.wB=function(e,A,a,p){var N=e.length,i=new Uint8Array(N);
j.N_.LP(e,A,a,p,j.N_.uN[4],0,!0);j.N_.LP(e,i,a,p,j.N_.uN[5],0,!0);for(var c=0;c<N;c+=4){var Z=A[c],s=A[c+1],D=A[c+2],n=A[c+3],S=i[c],F=i[c+1],$=i[c+2],m=i[c+3];
A[c]=255-Math.max(0,Math.min(255,Math.sqrt(Z*Z+S*S)));A[c+1]=255-Math.max(0,Math.min(255,Math.sqrt(s*s+F*F)));
A[c+2]=255-Math.max(0,Math.min(255,Math.sqrt(D*D+$*$)))}};j.N_.eS=function(e,A,a,p){var N=e.length,i=new Uint8Array(N);
j.N_.uC(e,A,a,p,j.N_.uN[4],!0);j.N_.uC(e,i,a,p,j.N_.uN[5],!0);for(var c=0;c<N;c++){var Z=A[c],s=i[c];
A[c]=255-Math.max(0,Math.min(255,Math.sqrt(Z*Z+s*s)))}};j.N_.uC=function(e,A,a,p,N,i){A=new Uint8ClampedArray(A.buffer);
var Z=[-a-1,-a,-a+1,-1,0,1,a-1,a,a+1],s=p-1,D=a-1;for(var c=1;c<s;c++)for(var n=1;n<D;n++){var S=c*a+n,F=j.N_.Kj(e,S,a,N);
if(i){if(F<0)F=-F}A[S]=~~(F+.5)}};j.N_.Kj=function(e,A,a,p){return e[A-a-1]*p[0]+e[A-a]*p[1]+e[A-a+1]*p[2]+e[A-1]*p[3]+e[A]*p[4]+e[A+1]*p[5]+e[A+a-1]*p[6]+e[A+a]*p[7]+e[A+a+1]*p[8]};
j.N_.KC=function(e,A,a,p,N){var i=[-a-1,-a,-a+1,-1,0,1,a-1,a,a+1],Z=p-1,s=a-1;for(var c=1;c<Z;c++)for(var D=1;
D<s;D++){var n=c*a+D;A[n]=j.N_.ajH(e,n,a,N)}};j.N_.ajH=function(e,A,a,p){return e[A-a-1]*p[0]+e[A-a]*p[1]+e[A-a+1]*p[2]+e[A-1]*p[3]+e[A]*p[4]+e[A+1]*p[5]+e[A+a-1]*p[6]+e[A+a]*p[7]+e[A+a+1]*p[8]};
j.Cr={};j.Cr.dH=function(){function e(Z,s,D,n,S,F){if(S==0){s.set(Z);return}var $=j.Q(D*n),m=j.Q(D*n);
if(j.vJ(Z)){A(Z,s,D,n,S,F);j.kI(Z,$,3);j.Cr.iM($,m,D,n,S,F);j.Ao(m,s,3)}else{for(var c=0;c<3;c++){j.kI(Z,$,c);
j.Cr.iM($,m,D,n,S,F);j.Ao(m,s,c)}}}function A(Z,s,D,n,S,F){var $=0,m=new ArrayBuffer(512*4*3),J=[new Int32Array(m,0),new Int32Array(m,2048),new Int32Array(m,2*2048)],w=1+2*Math.round(Math.sqrt(S)),f=w>>>1,b=new Array(w),L=new Array(w);
for(var c=0;c<w;c++){var m=new ArrayBuffer(512*4*3);b[c]=[new Int32Array(m,0),new Int32Array(m,2048),new Int32Array(m,2*2048)];
L[c]=b[c][0]}var C=[j.Cr.Js,j.Cr.Th][F],M=C[0],y=C[1],Q=J[0];for(var k=0;k<D;k++)if(k<S||k>D-S-w-1){Q.fill(0);
var E=Math.max(k-S,0),_=Math.min(D,k+S+1),v=_-E;for(var V=0;V<S;V++)p(Q,Z,V*D+E,V*D+_,1);for(var V=0;
V<n;V++){var R=V-S-1,h=V+S;if(h<n)p(Q,Z,h*D+E,h*D+_,1);if(R>=0)p(Q,Z,R*D+E,R*D+_,-1);var P=V*D+k<<2;
$=Q[300];if($!=0)for(var c=0;c<3;c++)s[P+c]=M(J[c],Z[P+c],$)}}else{for(var c=0;c<w;c++)L[c].fill(0);
var E=k-S+f,_=k+S+1+f;for(var V=0;V<S;V++)a(L,Z,V*D+E,V*D+_,1,f);for(var V=0;V<n;V++){var R=V-S-1,h=V+S;
if(R>=0)a(L,Z,R*D+E,R*D+_,-1,f);if(h<n)a(L,Z,h*D+E,h*D+_,1,f);var H=b[f];$=H[0][300];for(var c=0;c<f;
c++){var U=f-1-c,X=f+1+c,x=b[U],K=b[X],T=$+x[0][300],I=$+K[0][300],o=V*D+k+U<<2,l=V*D+k+X<<2;if(T!=0)for(var O=0;
O<3;O++)s[o+O]=y(H[O],x[O],Z[o+O],T);if(I!=0)for(var O=0;O<3;O++)s[l+O]=y(H[O],K[O],Z[l+O],I)}var P=V*D+k+f<<2;
if($!=0)for(var O=0;O<3;O++)s[P+O]=M(H[O],Z[P+O],$)}k+=w-1}}function a(Z,s,D,n,S,F){var $=N,m=D<<2,J=n<<2;
$(Z[F-1],s,D-1<<2,S);$(Z[F-1],s,n-1<<2,-S);$(Z[F+1],s,n<<2,S);$(Z[F+1],s,D<<2,-S);for(var c=1;c<F;c++){var w=Z[F-c-1],f=Z[F+c+1];
for(var b=0;b<=c;b++){var L=b<<2;$(w,s,D-1-b<<2,S);$(w,s,n-1-b<<2,-S);$(f,s,n+b<<2,S);$(f,s,D+b<<2,-S)}}p(Z[F],s,D,n,S)}function p(Z,s,c,D,n){var S=c<<2,F=D<<2;
while(S<F){N(Z,s,S,n);S+=4}}function N(Z,s,D,n){var S=n*s[D+3];Z[300]+=S;i(Z,s[D],0,S);i(Z,s[D+1],512,S);
i(Z,s[D+2],1024,S)}function i(Z,s,D,n){Z[D|s]+=n;Z[D|256|s>>>4]+=n}return e}();j.Cr.iM=function(){function e(F,$,m,J,w,f){if(w==0){$.set(F);
return}if(w<=200)A(F,$,m,J,w,f);else i(F,$,m,J,w,f)}function A(F,$,m,J,w,f){var b=0,L=new Int32Array(512),C=1+2*Math.round(Math.sqrt(w)),M=C>>>1,y=new Array(C);
for(var c=0;c<C;c++)y[c]=new Int32Array(512);var Q=[j.Cr.Js,j.Cr.Th][f],k=Q[0],E=Q[1];for(var _=0;_<m;
_++)if(_<w||_>m-w-C-1){L.fill(0);b=0;var v=Math.max(_-w,0),V=Math.min(m,_+w+1),R=V-v;for(var h=0;h<w;
h++){b+=R;p(L,F,h*m+v,h*m+V,1)}for(var h=0;h<J;h++){var P=h-w-1,H=h+w;if(P>=0){b-=R;p(L,F,P*m+v,P*m+V,-1)}if(H<J){b+=R;
p(L,F,H*m+v,H*m+V,1)}var U=k(L,F[h*m+_],b);$[h*m+_]=U}}else{for(var c=0;c<C;c++)y[c].fill(0);b=0;var v=_-w+M,V=_+w+1+M,R=V-v;
for(var h=0;h<w;h++){b+=R;a(y,F,h*m+v,h*m+V,1,M)}for(var h=0;h<J;h++){var P=h-w-1,H=h+w;if(P>=0){b-=R;
a(y,F,P*m+v,P*m+V,-1,M)}if(H<J){b+=R;a(y,F,H*m+v,H*m+V,1,M)}for(var c=0;c<M;c++){var X=M-1-c,x=M+1+c;
$[h*m+_+X]=E(y[M],y[X],F[h*m+_+X],b);$[h*m+_+x]=E(y[M],y[x],F[h*m+_+x],b)}$[h*m+_+M]=k(y[M],F[h*m+_+M],b)}_+=C-1}}function a(F,$,m,J,w,f){var b=N;
b(F[f-1],$[m-1],0,w);b(F[f-1],$[J-1],0,-w);b(F[f+1],$[J],0,w);b(F[f+1],$[m],0,-w);for(var c=1;c<f;c++){var L=F[f-c-1],C=F[f+c+1];
for(var M=0;M<=c;M++){b(L,$[m-1-M],0,w);b(L,$[J-1-M],0,-w);b(C,$[J+M],0,w);b(C,$[m+M],0,-w)}}p(F[f],$,m,J,w)}function p(F,$,c,m,J){while(c<m)N(F,$[c++],0,J)}function N(F,$,m,J){F[m|$]+=J;
F[m|256|$>>>4]+=J}function i(F,$,m,J,w,f){var b=0,L=new Int32Array(512),C=new Int32Array(1*m),M=new Int32Array(512*m),y=Math.min(w,m),Q=Math.min(w,J),k=[j.Cr.Js,j.Cr.Th][f],E=k[0];
for(var _=0;_<Q;_++)Z(M,C,F,m,_,1);for(var _=0;_<J;_++){if(_+w<J)Z(M,C,F,m,_+w,1);if(_-w-1>=0)Z(M,C,F,m,_-w-1,-1);
L.fill(0);b=0;for(var v=0;v<y;v++){b+=C[v];s(L,M,v)}for(var v=0;v<m;v++){var V=v-w-1,R=v+w;if(V>=0&&C[V]!=0){b-=C[V];
D(L,M,V)}if(R<m&&C[R]!=0){b+=C[R];s(L,M,R)}var h=b==0?0:E(L,F[_*m+v],b);$[_*m+v]=h}}}function Z(F,$,m,J,w,f){var c=w*J;
for(var b=0;b<J;b++){N(F,m[c+b],b<<9,f);$[b]+=f}}function s(F,$,m){for(var c=0;c<16;c++){var J=$[m<<9|256|c];
if(J==0)continue;F[256|c]+=J;var w=c<<4,f=m<<9|w;n(F,$,w,f);n(F,$,w+4,f+4);n(F,$,w+8,f+8);n(F,$,w+12,f+12)}}function D(F,$,m){for(var c=0;
c<16;c++){var J=$[m<<9|256|c];if(J==0)continue;F[256|c]-=J;var w=c<<4,f=m<<9|w;S(F,$,w,f);S(F,$,w+4,f+4);
S(F,$,w+8,f+8);S(F,$,w+12,f+12)}}function n(F,$,m,J){F[m]+=$[J];F[m+1]+=$[J+1];F[m+2]+=$[J+2];F[m+3]+=$[J+3]}function S(F,$,m,J){F[m]-=$[J];
F[m+1]-=$[J+1];F[m+2]-=$[J+2];F[m+3]-=$[J+3]}return e}();j.Cr.cw=.5;j.Cr.Js=[function(e,A,a){var p=~~(.5+j.Cr.cw*a),N=0,c=256;
while(N+e[c]<p)N+=e[c++];c=c-256<<4;while(N<p)N+=e[c++];return c-1},function(e,A,a,p){var N=~~(.5+j.Cr.cw*p),i=0,c=256;
while(i+e[c]+A[c]<N){i+=e[c]+A[c];c++}c=c-256<<4;while(i<N){i+=e[c]+A[c];c++}return c-1}];j.Cr.uW=100;
j.Cr.Th=[function(e,A,a){var p=j.Cr.uW,N=0,i=0,c=Math.max(0,A-p),Z=Math.min(256,A+p+1);while(c<Z){var s=e[c];
N+=c*s;i+=s;c++}return i==0?0:N/i},function(e,A,a,p){var N=j.Cr.uW,i=0,Z=0,c=Math.max(0,a-N),s=Math.min(256,a+N+1);
while(c<s){var D=e[c]+A[c];i+=c*D;Z+=D;c++}return Z==0?0:i/Z}];j.K={};j.K.Ba=function(e){var A=q.BD.KR(e.Trnf),a=e.Sz.v,p=j.K.wK(A,new dE(0,0,a.Wdth.v,a.Hght.v));
return j.K.Gr(p)};j.K.wK=function(e,A){var a=e[0],p=e[1],N=e[2],i=e[3],Z=e[6],s=e[7],D=e[4],n=e[5],S=0,F=0,$=1,m=0,J=0,w=1,f=1,b=1;
if(A){S=A.x;F=A.y;$=A.x+A.m;m=A.y;J=A.x;w=A.y+A.n;f=A.x+A.m;b=A.y+A.n}return j.K.Rr(e,[S,F,$,m,f,b,J,w])};
j.K.aX=function(e){function A(N,i){for(var c=0;c<i.length;c+=2)if(!a(N,i[c],i[c+1]))return!1;return!0}function a(N,i,Z){return N[2*i]==N[2*Z]&&N[2*i+1]==N[2*Z+1]}var p=0;
if(A(e,[0,1,2,3]))p+=1;if(A(e,[0,3,1,2]))p+=2;return p};j.K.Rr=function(e,A){function a(U,c,X){var h=U[c*2]-U[X*2],P=U[c*2+1]-U[X*2+1];
return Math.sqrt(h*h+P*P)}var p=e[0],N=e[1],i=e[2],Z=e[3],s=e[6],D=e[7],n=e[4],S=e[5],F=A[0],$=A[1],m=A[2],J=A[3],w=A[6],f=A[7],b=A[4],L=A[5],C=[[F,$,1,0,0,0,-F*p,-$*p,p],[0,0,0,F,$,1,-F*N,-$*N,N],[m,J,1,0,0,0,-m*i,-J*i,i],[0,0,0,m,J,1,-m*Z,-J*Z,Z],[w,f,1,0,0,0,-w*s,-f*s,s],[0,0,0,w,f,1,-w*D,-f*D,D],[b,L,1,0,0,0,-b*n,-L*n,n],[0,0,0,b,L,1,-b*S,-L*S,S]],M=[0,0,0,0,0,0,0,0],y=j._T.a2(C,M);
if(y!=0){M=[0,0,0,0,0,0,0,0];var Q=j.K.aX(e),k=j.K.aX(A);if(Q==k&&Q!=0){var E=Q==1,_=E?3:1,v=a(e,0,_),V=a(A,0,_),R=V/v,h=e[2*_]-e[0],P=e[2*_+1]-e[1],H=new bj;
H.translate(-p,-N);H.rotate(Math.atan2(P,h)-(E?Math.PI/2:0));if(E)H.scale(1,R);else H.scale(R,1);H.translate(F,$);
H.rQ();M=j.K.s1(H)}}return M};j.K.Q=function(e,A){if(e==null)e=A=0;return[1,0,e,0,1,A,0,0]};j.K.jI=function(e){return Math.abs(e[6])<1e-10&&Math.abs(e[7])<1e-10};
j.K.Gr=function(e){return new bj(e[0],e[3],e[1],e[4],e[2],e[5])};j.K.s1=function(e){return[e.gg,e.b9,e.Co,e.k,e.pU,e.dW,0,0]};
j.K.D=function(e,A){var a=new Float64Array(2);for(var p=0;p<A.length;p+=2){var N=A[p],i=A[p+1];j.K.Rc(N,i,e,a);
A[p]=a[0];A[p+1]=a[1]}};j.K.Rc=function(e,A,a,p){var N=1/(a[6]*e+a[7]*A+1);p[0]=(a[0]*e+a[1]*A+a[2])*N;
p[1]=(a[3]*e+a[4]*A+a[5])*N};j.K.awg=function(e,A){var a=new Float64Array(2);j.K.Rc(A.x,A.y,e,a);return new k7(a[0],a[1])};
j.K.d3=function(e,A,a,p){e=new Uint32Array(e.buffer);A=new Uint32Array(A.buffer);for(var N=0;N<p;N++){for(var i=0;
i<a;i++){A[i*p+N]=e[N*a+i]}}};j.K.uo=function(e,A,a,p){e=new Uint32Array(e.buffer);A=new Uint32Array(A.buffer);
for(var N=0;N<p;N++){for(var i=0;i<a;i++){A[N*a+i]=e[N*a+a-1-i]}}};j.K.a5T=function(e,A,a,p){e=new Uint32Array(e.buffer);
A=new Uint32Array(A.buffer);for(var N=0;N<p;N++){for(var i=0;i<a;i++){A[N*a+i]=e[(p-1-N)*a+i]}}};j.K.S3=function(e){return Math.abs(e[6])<1e-9&&Math.abs(e[7])<1e-9};
j.K.lR=function(e){return Math.abs(e[0])<1e-9&&Math.abs(e[4])<1e-9||Math.abs(e[1])<1e-9&&Math.abs(e[3])<1e-9};
j.K.drawImage=function(e,A,a,p,N,i,Z,s,D){if(Z==null)Z=!1;if(s==null)s=!1;var n=j.K.rQ(e),S=!0,F=0;for(var c=0;
c<8;c++){var $=Math.round(e[c]);if(c!=2&&c!=5)F+=Math.abs($);if(Math.abs($-e[c])>1e-9)S=!1}var m=j.K.S3(e),J=j.K.lR(e)&&m,w=J?1:0;
if(Z||S&&F==a+p&&m){j.K.avk(n,A,a,p,N,i,s,m,D);return}var f=i.m,b=i.n,L=new Float64Array(2);N=new Uint32Array(N.buffer);
A=new Uint32Array(A.buffer);for(var C=0;C<b;C++)for(var M=0;M<f;M++){var y=C*f+M,Q,k,E,_,T=0,I=0,o=0,l=0;
N[y]=0;var v=M+i.x+.5,V=C+i.y+.5;Q=v;k=V;E=n;var R=E[0]*Q+E[1]*k+E[2],h=E[3]*Q+E[4]*k+E[5];if(!m){_=1/(E[6]*Q+E[7]*k+1);
R*=_;h*=_}var P=R*a,H=h*p,U=P<-1||P>a+1||H<-1||H>p+1;if(s){P=Math.max(.001,Math.min(a-1,P));H=Math.max(.001,Math.min(p-1,H))}else if(U)continue;
var X=j.K.amK(e,a,p,v,V,R,h),x=Math.round(X*2.3);if(X<1.1){j.K.Ay(P,H,A,a,p,N,y,w);continue}if(!s&&(P<.6||P>a-.6||H<.6||H>p-.6)){x=Math.max(x,5)}if(s&&U)x=1;
var K=1/x,O=i.x+M,g=i.y+C;E=n;for(var c=0;c<x;c++)for(var W=0;W<x;W++){Q=O+(c+.5)*K;k=g+(W+.5)*K;var P=E[0]*Q+E[1]*k+E[2],H=E[3]*Q+E[4]*k+E[5];
if(!m){_=1/(E[6]*Q+E[7]*k+1);P*=_;H*=_}if(s){P=Math.max(.001,Math.min(.999,P));H=Math.max(.001,Math.min(.999,H))}else if(P<0||P>=1||H<0||H>=1)continue;
P=Math.floor(P*a);H=Math.floor(H*p);var d=H*a+P,gT=A[d],r=gT>>>24;T+=(gT&255)*r;I+=(gT>>>8&255)*r;o+=(gT>>>16&255)*r;
l+=r}if(l!=0){var G=1/l;T=~~(T*G+.5);I=~~(I*G+.5);o=~~(o*G+.5);l=~~(l*K*K+.5);N[y]=l<<24|o<<16|I<<8|T}}};
j.K.amK=function(e,A,a,p,N,i,Z){var s=j.K.T4(e,p,N,i+1/A,Z),D=j.K.T4(e,p,N,i,Z+1/a);return 1/Math.sqrt(Math.max(s,D))};
j.K.T4=function(e,A,a,p,N){var i=1/(e[6]*p+e[7]*N+1),Z=(e[0]*p+e[1]*N+e[2])*i-A,s=(e[3]*p+e[4]*N+e[5])*i-a;
return Z*Z+s*s};j.K.avk=function(e,A,a,p,N,i,Z,s,D){if(s&&!Z&&i.O()>4e6&&D){j.K.a8R(e,A,a,p,N,i,Z,s,D);
return}var n=i.x+i.m,S=i.y+i.n,F=0,$=new Uint32Array(N.buffer),m=new Uint32Array(A.buffer),J=e[0]*a,w=e[1]*a,f=e[2]*a,b=e[3]*p,L=e[4]*p,C=e[5]*p,M=e[6],y=e[7];
if(s&&!Z)for(var Q=i.y+.5;Q<S;Q++)for(var k=i.x+.5;k<n;k++){var E=J*k+w*Q+f,_=b*k+L*Q+C;if(0<E&&E<a&&0<_&&_<p){var v=~~_*a+~~E;
$[F]=m[v]}else $[F]=0;F++}else for(var Q=i.y+.5;Q<S;Q++)for(var k=i.x+.5;k<n;k++){var V=1/(M*k+y*Q+1),E=(J*k+w*Q+f)*V,_=(b*k+L*Q+C)*V;
if(Z){E=Math.max(.001,Math.min(a-1,E));_=Math.max(.001,Math.min(p-1,_))}if(0<E&&E<a&&0<_&&_<p){var v=Math.floor(_)*a+Math.floor(E);
$[F]=m[v]}else $[F]=0;F++}};j.K.a8R=function(e,A,a,p,N,i,Z,s,D){var n=new Uint32Array(N.buffer),S=new Uint32Array(A.buffer),y=0;
if(D&&(i.m&3)!=0)throw"e";var F=e[0]*a,$=e[1]*a,m=e[2]*a,J=e[3]*p,w=e[4]*p,f=e[5]*p,b=e[6],L=e[7],C=i.m,M=i.n,Q=i.x+.5,k=i.y+.5,E=(C>>>2<<2)-1e-9,_=-.1+(M>>>1<<1)-1e-9,v=~~a,V=F==0?0:1/F,R=J==0?0:1/J;
for(var h=0;h<M;h++){var P=Q*F+$*(h+k)+m,H=Q*J+w*(h+k)+f,U=0,X=C;if(F==0){}else if(V>0){U=Math.max(U,-P*V);
X=Math.min(X,(a-P)*V)}else{X=Math.min(X,-P*V);U=Math.max(U,(a-P)*V)}if(J==0){}else if(R>0){U=Math.max(U,-H*R);
X=Math.min(X,(p-H)*R)}else{X=Math.min(X,-H*R);U=Math.max(U,(p-H)*R)}if(X<0)X=0;if(U>X)U=X;U=Math.ceil(U);
X=~~X;y=~~(h*C);for(var x=0;x<U;x++)n[y++]=0;for(var x=U;x<X;x+=4){var K=F*x+P,T=J*x+H,I=~~T*v+~~K;n[y++]=n[y++]=n[y++]=n[y++]=S[I]}for(var x=X;
x<C;x++)n[y++]=0}};j.K.rQ=function(e){var A=e[4]-e[5]*e[7],a=e[2]*e[7]-e[1],p=e[1]*e[5]-e[2]*e[4],N=e[5]*e[6]-e[3],i=e[0]-e[2]*e[6],Z=e[3]*e[2]-e[0]*e[5],s=e[3]*e[7]-e[4]*e[6],D=e[1]*e[6]-e[0]*e[7],n=1/(e[0]*e[4]-e[1]*e[3]);
return[A*n,a*n,p*n,N*n,i*n,Z*n,s*n,D*n]};j.K._n=function(e,A){var a=e[0],p=e[1],N=e[2],i=e[3],Z=e[4],s=e[5],D=e[6],n=e[7],S=A[0],F=A[1],$=A[2],m=A[3],J=A[4],w=A[5],f=A[6],b=A[7],L=[a*S+p*m+N*f,a*F+p*J+N*b,a*$+p*w+N,i*S+Z*m+s*f,i*F+Z*J+s*b,i*$+Z*w+s,D*S+n*m+f,D*F+n*J+b],C=1/(D*$+n*w+1);
for(var c=0;c<8;c++)L[c]*=C;return L};j.K.Ay=function(e,A,a,p,N,i,Z,s){var D=e,n=A,$=0,m=0,J=0,w=0;e-=.499999;
A-=.499999;var S=Math.floor(e),F=Math.floor(A);if(s==0){var c=F*p+S,f=S>=0&&S<p,b=S+1>=0&&S+1<p,L=F>=0&&F<N,C=F+1>=0&&F+1<N;
if(f&&L)$=a[c];if(b&&L)m=a[c+1];if(f&&C)J=a[c+p];if(b&&C)w=a[c+p+1]}else if(s==1){var M=S<0?0:S>p-1?p-1:S,y=S<-1?0:S>p-2?p-1:S+1,Q=F<0?0:F>N-1?N-1:F,k=F<-1?0:F>N-2?N-1:F+1;
$=a[Q*p+M];m=a[Q*p+y];J=a[k*p+M];w=a[k*p+y]}else{var M=(S+50*p)%p,y=(S+50*p)%p,Q=(F+50*N)%N,k=(F+50*N)%N;
$=a[Q*p+M];m=a[Q*p+y];J=a[k*p+M];w=a[k*p+y]}var E=e-S,_=A-F,v=(1-_)*(1-E)*($>>>24),V=(1-_)*E*(m>>>24),R=_*(1-E)*(J>>>24),h=_*E*(w>>>24),P=v+V+R+h,H=v*($&255)+V*(m&255)+R*(J&255)+h*(w&255),U=v*($>>>8&255)+V*(m>>>8&255)+R*(J>>>8&255)+h*(w>>>8&255),X=v*($>>>16&255)+V*(m>>>16&255)+R*(J>>>16&255)+h*(w>>>16&255);
if(P==0)i[Z]=0;else{var x=1/P;H=~~(H*x+.5);U=~~(U*x+.5);X=~~(X*x+.5);P=~~(P+.5);i[Z]=P<<24|X<<16|U<<8|H}};
j.K.oo=function(e,A,a,p,N,i){var Z=e-.499999,s=A-.499999,D=~~Z,n=~~s,S=Z-D,F=s-n,$=(1-F)*(1-S),m=(1-F)*S,J=F*(1-S),w=F*S,f=n*p+D<<2,b=(n+1)*p+D<<2,L=$*a[f]+m*a[f+4]+J*a[b]+w*a[b+4],C=$*a[f+1]+m*a[f+5]+J*a[b+1]+w*a[b+5],M=$*a[f+2]+m*a[f+6]+J*a[b+2]+w*a[b+6],y=$*a[f+3]+m*a[f+7]+J*a[b+3]+w*a[b+7];
i[0]=L;i[1]=C;i[2]=M;i[3]=y};j.K.Au=function(e,A,a,p,N){e-=.499999;A-=.499999;var i=Math.floor(e),Z=Math.floor(A),s=e-i,D=A-Z,n=(1-D)*(1-s),S=(1-D)*s,F=D*(1-s),$=D*s,m=(i+50*p)%p,J=(i+1+50*p)%p,w=(Z+50*N)%N,f=(Z+1+50*N)%N,b=a[w*p+m],L=a[w*p+J],C=a[f*p+m],M=a[f*p+J];
if(b==null||M==null)throw"e";return n*b+S*L+F*C+$*M};j.K.aaq=function(e,A,a,p,N){e-=.499999;A-=.499999;
var i=Math.floor(e),Z=Math.floor(A),s=e-i,D=A-Z,n=(1-D)*(1-s),S=(1-D)*s,F=D*(1-s),$=D*s,m=Z*p+i,J=m+p,w=a[m],f=a[m+1],b=a[J],L=a[J+1];
if(w==null||L==null){console.log(i,Z,p,N);throw"e"}return n*w+S*f+F*b+$*L};j.K.Rg=function(e,A,a,p,N,i,Z,s,D,n,S,F){var $=new Uint32Array(e.buffer),m=new Uint32Array(p.buffer),J=(1+2*n)/N,w=[],f=[];
for(var b=0;b<N;b++){var L=-.25+n-b*J;w.push(Math.cos(2*Math.PI*L)*F/S);w.push(Math.sin(2*Math.PI*L)/S)}Z*=A;
s*=a;for(var C=0;C<i;C++){var M=Math.pow(C/i,D)*i;for(var b=0;b<N;b++){var y=Z+w[b<<1]*M,Q=s+w[(b<<1)+1]*M,k=~~(.5+(y<0?0:y>A-1?A-1:y)),E=~~(.5+(Q<0?0:Q>a-1?a-1:Q));
m[C*N+b]=$[E*A+k]}}};j.K.LZ=function(e,A,a,p,N,i,Z,s,D,n,S,F){var $=new Uint32Array(e.buffer),m=new Uint32Array(p.buffer),J=1/F,w=[],f=a*4,b=1/f;
for(var L=0;L<f+10;L++)w.push(Math.pow(L*b,1/D)*a*S);Z*=N;s*=i;for(var L=0;L<i;L++)for(var C=0;C<N;C++){var M=J*(C-Z),y=L-s,Q=1.75-Math.atan2(y,M)*(1/(2*Math.PI));
Q=Q-~~Q;Q=(Q+n)*(1/(1+2*n));var k=Math.sqrt(M*M+y*y);k=w[~~(k*4)];j.K.Ay(Q*A+.5,k+.5,$,A,a,m,L*N+C,1)}};
j.K.kZ=function(e,A,a,p,N){var i=N[0],Z=N[1];for(var s=0;s<Z;s++)for(var D=0;D<i;D++){var n=N[2]*D+N[3]*s+N[4],S=N[5]*D+N[6]*s+N[7],F=s*i+D<<2,$=S*A+n<<2;
p[F]=e[$+0];p[F+1]=e[$+1];p[F+2]=e[$+2];p[F+3]=e[$+3]}};j.M={W4:function(e,A){var a=~~(.499+e*A);return a<0?0:a>A?A:a},a68:function(e,A,a,p,N,i,Z,s){var D=a[0],n=a[1],S=a[2],F=a[3],$=p.m,m=p.n,J=new Float64Array($*4+8),w=new Float64Array($*4+8);
for(var f=0,c=0;f<m;f++){var b=J;J=w;w=b;w.fill(0);for(var L=0;L<$;L++,c++){var C=L+N,M=f+i,y=D*C+n*M,Q=S*C+F*M,k=0,v=0;
if(s==0)k=y+.5;else if(s==1)k=2*Math.sqrt(y*y+Q*Q);else if(s==2)k=(Math.PI+Math.atan2(-Q,-y))/(2*Math.PI);
else if(s==3)k=Math.abs(y*2);else if(s==4)k=2*(Math.abs(y)+Math.abs(Q));var E=j.M.W4(k,Z)*4,_=L*4;for(var V=0;
V<4;V++){var R=Math.max(0,Math.min(254.999,A[E+V]+J[_+4+V])),h=Math.floor(R);if(Math.random()<R-h)h++;
var P=R-h;J[_+8+V]=P*(7/16);w[_+0+V]=P*(3/16);w[_+4+V]=P*(5/16);w[_+8+V]=P*(1/16);v|=h<<V*8}e[c]=v}}},P5:[function(e,A,a,p,N,i,Z){var s=a[0],D=a[1],n=a[2],S=a[3],F=p.m,$=p.n;
for(var m=0,c=0;m<$;m++)for(var J=0;J<F;J++,c++){var w=J+N,f=m+i,b=s*w+D*f,L=n*w+S*f,C=b+.5;e[c]=A[j.M.W4(C,Z)]}},function(e,A,a,p,N,i,Z){var s=a[0],D=a[1],n=a[2],S=a[3],F=p.m,$=p.n;
for(var m=0,c=0;m<$;m++)for(var J=0;J<F;J++,c++){var w=J+N,f=m+i,b=s*w+D*f,L=n*w+S*f,C=2*Math.sqrt(b*b+L*L);
e[c]=A[j.M.W4(C,Z)]}},function(e,A,a,p,N,i,Z){var s=a[0],D=a[1],n=a[2],S=a[3],F=p.m,$=p.n;for(var m=0,c=0;
m<$;m++)for(var J=0;J<F;J++,c++){var w=J+N,f=m+i,b=s*w+D*f,L=n*w+S*f,C=(Math.PI+Math.atan2(-L,-b))/(2*Math.PI);
e[c]=A[j.M.W4(C,Z)]}},function(e,A,a,p,N,i,Z){var s=a[0],D=a[1],n=a[2],S=a[3],F=p.m,$=p.n;for(var m=0,c=0;
m<$;m++)for(var J=0;J<F;J++,c++){var w=J+N,f=m+i,b=s*w+D*f,L=n*w+S*f,C=Math.abs(b*2);e[c]=A[j.M.W4(C,Z)]}},function(e,A,a,p,N,i,Z){var s=a[0],D=a[1],n=a[2],S=a[3],F=p.m,$=p.n;
for(var m=0,c=0;m<$;m++)for(var J=0;J<F;J++,c++){var w=J+N,f=m+i,b=s*w+D*f,L=n*w+S*f,C=2*(Math.abs(b)+Math.abs(L));
e[c]=A[j.M.W4(C,Z)]}}]};j.M.a2t=function(e,A){return e+.5};j.M.aq9=function(e,A){return 2*Math.sqrt(e*e+A*A)};
j.M.aaI=function(e,A){return(Math.PI+Math.atan2(-A,-e))/(2*Math.PI)};j.M.ac6=function(e,A){return Math.abs(e*2)};
j.M.a7W=function(e,A){return 2*(Math.abs(e)+Math.abs(A))};j.M.zg=function(e,A,a,p,N,i,Z,s,D,n,S,F){var $=e.Clrs,m=new Uint32Array(A.buffer),J=1023,w=$?j.M.nA(e,D,n):null;
if(F&&$){var f=j.M.aqF(e,w,J+1,Z);j.M.a68(m,f,p,a,a.x-N,a.y-i,J,s)}else{var b=$?j.M.P2(e,w,J+1,Z):j.M.RB(e,J+1,Z);
if(s<5){j.M.P5[s](m,b,p,a,a.x-N,a.y-i,J)}else{var L=new Uint8Array(b.buffer),C=a.m,M=a.n,y=S.E0-S.ol,Q=1/y,k=S.Ak.m-a.m>>1,E=S.Ak.n-a.n>>1,_=S.Ak.m,v=-.6*Q,V=(-.6+.4)*Q,R=(-.6+2*.4)*Q,h=(-.6+3*.4)*Q;
for(var P=0,c=0;P<M;P++)for(var H=0;H<C;H++,c+=4){var U=0,X=0,x=0,K=0,T=(P+E)*_+H+k,I=(S.O3[T]-S.ol)*Q,o=0;
if(I<=0||I>=1){o=(I<=0?0:J)<<2;A[c]=L[o];A[c+1]=L[o+1];A[c+2]=L[o+2];A[c+3]=L[o+3];continue}o=Math.max(0,Math.min(J-1,Math.round((I+v)*J)))<<2;
X+=L[o];x+=L[o+1];K+=L[o+2];U+=L[o+3];o=Math.max(0,Math.min(J-1,Math.round((I+V)*J)))<<2;X+=L[o];x+=L[o+1];
K+=L[o+2];U+=L[o+3];o=Math.max(0,Math.min(J-1,Math.round((I+R)*J)))<<2;X+=L[o];x+=L[o+1];K+=L[o+2];U+=L[o+3];
o=Math.max(0,Math.min(J-1,Math.round((I+h)*J)))<<2;X+=L[o];x+=L[o+1];K+=L[o+2];U+=L[o+3];A[c]=X>>>2;
A[c+1]=x>>>2;A[c+2]=K>>>2;A[c+3]=U>>>2}}}};j.M.nA=function(e,A,a){var p=[e.Clrs.v,e.Trns.v],N=[[],[]],i=255;
for(var Z=0;Z<2;Z++)for(var c=0;c<p[Z].length;c++){var s,D=p[Z][c].v;if(Z==0){var n=D.Type.v.Clry;if(n=="FrgC")s={o:A>>16&255,J:A>>8&255,k:A&255};
else if(n=="BckC")s={o:a>>16&255,J:a>>8&255,k:a&255};else s=j.M.kq(D.Clr.v)}else{s=D.Opct.v.val*(255/100);
if(s<i)i=s}N[Z].push([s,D.Lctn.v/4096,D.Mdpn.v/100])}N.push(i>254);return N};j.M.kq=function(e){var A,a=e.classID;
if(a=="RGBC"){if(e.Rd)A={o:e.Rd.v,J:e.Grn.v,k:e.Bl.v};else A={o:e.redFloat.v*255,J:e.greenFloat.v*255,k:e.blueFloat.v*255}}else if(a=="HSBC"){A=j.BA(e.H.v.val/360,e.Strt.v/100,e.Brgh.v/100);
A.o*=255;A.J*=255;A.k*=255}else if(a=="CMYC"){var p=100-e.Cyn.v,N=100-e.Mgnt.v,i=100-e.Ylw.v,Z=100-e.Blck.v,s=255*p*Z*1e-4,D=255*(.2*p+.8*N)*Z*1e-4,n=255*(.2*N+.8*i)*Z*1e-4;
A={o:s,J:D,k:n}}else if(a=="Grsc")A={o:255-e.Gry.v,J:255-e.Gry.v,k:255-e.Gry.v};else if(a=="LbCl"){A=j.j5(e.Lmnc.v,e.A.v,e.B.v)}else if(a=="BkCl")A={o:0,J:0,k:0};
else console.log(e);if(isNaN(A.o))A.o=A.J=A.k=0;return A};j.M.RB=function(e,A,a){var p=new Uint32Array(A),N=new Uint8Array(p.buffer);
p.fill(4278190080);var i=[],Z=[],s=e.RndS.v,D=e.Smth.v/4096;for(var c=0;c<4;c++){i[c]=~~(e.Mnm.v[c].v*255/100);
Z[c]=~~(e.Mxm.v[c].v*255/100)}var n=j.Q(A*4),S=j.Q(A);for(var F=0;F<3;F++){j._.tY(null,A,1,n,[1+Math.round(D*D*D*60),22,s*(2+F)]);
j.kI(n,S,0);j.Ao(S,N,F);var $=i[F],m=Z[F];for(var c=0;c<A;c++)N[4*c+F]=Math.max($,Math.min(m,N[4*c+F]))}if(a)for(var c=0;
c<A/2;c++){var J=p[c];p[c]=p[A-1-c];p[A-1-c]=J}return p};j.M.yN=function(e){return{classID:"RGBC",Rd:{t:"doub",v:e.o},Grn:{t:"doub",v:e.J},Bl:{t:"doub",v:e.k}}};
j.M.aqF=function(e,A,a,p){var N=[],i=1/(a-0);for(var c=0;c<a;c++){var Z=c*4,s=j.M.ct(e,A,(p?a-1-c:c)*i);
N[Z]=s[0];N[Z+1]=s[1];N[Z+2]=s[2];N[Z+3]=s[3]}return N};j.M.P2=function(e,A,a,p){var N=new Uint32Array(a),i=1/(a-0);
for(var c=0;c<a;c++)N[c]=j.M.hC(e,A,(p?a-1-c:c)*i);return N};j.M.ct=function(e,A,a){var p=e.Intr.v*(1/4096),N=A[0],i=A[1],Z=N.length-1,s=i.length-1,c=-1,D=0,n=0,S=0,F=0;
if(A[2])D=255;else{while(c<s&&i[c+1][1]<=a)c++;if(c==-1){D=i[0][0]}else if(c==s){D=i[c][0]}else{var $=j.M.Ip(i,c,a,p);
D=$*i[c][0]+(1-$)*i[c+1][0]}}c=-1;while(c<Z&&N[c+1][1]<=a)c++;if(c==-1){var m=N[0][0];n=m.o;S=m.J;F=m.k}else if(c==Z){var m=N[c][0];
n=m.o;S=m.J;F=m.k}else{var J=N[c][0],w=N[c+1][0],f=j.M.Ip(N,c,a,p);n=f*J.o+(1-f)*w.o;S=f*J.J+(1-f)*w.J;
F=f*J.k+(1-f)*w.k}return[n,S,F,D]};j.M.hC=function(e,A,a){var p=j.M.ct(e,A,a),N=~~(.5+p[0]),i=~~(.5+p[1]),Z=~~(.5+p[2]),s=~~(.5+p[3]);
return s<<24|Z<<16|i<<8|N};j.M.Ip=function(e,c,A,a){if(e.length==2)a*=.5;var p=e[c][1],N=e[c+1][1],i=p+e[c+1][2]*(N-p),Z;
if(A<i)Z=.5*(A-p)/(i-p);else Z=.5+.5*(A-i)/(N-i);Z=.5+.5*(a*Math.cos(Math.PI*Z)+(1-a)*(1-2*Z));return Z};
j.M.J0=function(e,A){var a=Math.PI*e.Angl.v.val/180,p=e.Scl.v.val/100,N=e.Ofst.v,i=N.Hrzn.v.val/100,Z=N.Vrtc.v.val/100,s=Math.cos(a),D=-Math.sin(a),n=.5*A.n,S=n*(s/D),F=Math.sqrt(n*n+S*S),$=.5*A.m,m=$*(D/s),J=Math.sqrt($*$+m*m),w=Math.min(F,J)*p,f=A.x+A.m/2+i*A.m,b=A.y+A.n/2+Z*A.n;
return[new k7(f,b),new k7(f+s*w,b+D*w)]};j.M.NB=function(e,A,a,p){var N=A.x-e.x,i=-(A.y-e.y),Z=Math.sqrt(N*N+i*i),s=Math.atan2(i,N),D=Math.cos(s),n=-Math.sin(s),S=.5*a.n,F=S*(D/n),$=Math.sqrt(S*S+F*F),m=.5*a.m,J=m*(n/D),w=Math.sqrt(m*m+J*J),f=Z/Math.min($,w),b=(e.x-a.x-a.m/2)/a.m,L=(e.y-a.y-a.n/2)/a.n;
p.Angl.v.val=180*s/Math.PI;p.Scl.v.val=f*100;var C=p.Ofst.v;C.Hrzn.v.val=b*100;C.Vrtc.v.val=L*100};j.M.QG=function(e,A){for(var c=0;
c<e.length;c++){var a=e[c],p=Math.round(a[0]*4096),N=a[1],i=a[2],Z=a[3];if(i==null)i=1;if(Z==null)Z=.5;
var s=j.M.yN({o:N[0]*255,J:N[1]*255,k:N[2]*255});A.Clrs.v[c]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:p},Mdpn:{t:"long",v:Math.round(Z*100)},Clr:{t:"Objc",v:s},Type:{t:"enum",v:{Clry:"UsrS"}}}};
A.Trns.v[c]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:p},Mdpn:{t:"long",v:Math.round(Z*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(i*100)}}}}}};
j.M.aK=function(e,A,a){function p(m){return parseFloat((m/255).toFixed(3))}if(A){e=JSON.parse(JSON.stringify(e));
for(var c=0;c<2;c++){var N=e[c==0?"Clrs":"Trns"].v;for(var i=0;i<N.length;i++)N[i].v.Lctn.v=4096-N[i].v.Lctn.v;
N.reverse()}}var Z=[],s=e.Clrs.v,D=e.Trns.v,N=s;if(a!=!0)N=s.concat(D);var n=j.M.nA(e,0,0);for(var c=0;
c<N.length;c++){var S=N[c].v,F=S.Lctn.v/4096,$=j.M.ct(e,n,F);Z.push([F,[p($[0]),p($[1]),p($[2])],p($[3])])}Z.sort(function(m,J){return m[0]-J[0]});
for(var c=1;c<Z.length;c++)if(Z[c][0]-Z[c-1][0]<.001){Z.splice(c,1);c--}return Z};j.DF={};j.DF.H1=function(e,A,a,p,N,i,Z,s,D,n,S,F){var $,m,J,w=Date.now(),f=!1,b=Z,L=n,C,M,y,Q,k=i*255,E=255-D*255,_=1+N*6,v=1+s*6,V=1+F*4,R=(V-1)/7,h=0,P=255-0,H,U,X,x,K,T,I,o,l,O,g,W,d,gT=0,r=1,G,Y,fk,eJ,eS,gL,cX,kj,gq,iL,ew=1+S,dk,j9=j.Q(a*p),fh=j.Q(a*p),g9=j.Q(a*p),k6=j.Q(a*p),jx=255/k,fV=255/(255-E);
for(m=0;m<p;m++){for($=0;$<a;$++){var c=m*a+$,ao=c<<2;G=j.hT(e[ao],e[ao+1],e[ao+2]);k6[c]=G;if(G<k)j9[c]=255-G*jx;
if(G>E)fh[c]=255-(255-G)*fV}}if(f)console.log("init",Date.now()-w);w=Date.now();if(N*b>0){g9.set(j9);
j.Vr.rs(g9,j9,new dE(0,0,a,p),b)}if(s*L>0){g9.set(fh);j.Vr.rs(g9,fh,new dE(0,0,a,p),L)}if(f)console.log("blur",Date.now()-w);
w=Date.now();var b8=j.Q(256),ke=j.Q(256);for(var c=0;c<256;c++){var gj=c*(1/255),jf=0;jf=(1-Math.pow(1-gj,_))*255;
b8[c]=Math.max(0,Math.min(255,~~(jf+.5)));jf=Math.pow(gj,v)*255;ke[c]=Math.max(0,Math.min(255,~~(jf+.5)))}var fz=new Uint8ClampedArray(A.buffer),ei=new Float32Array(32768);
for(var c=0;c<32768;c++){dk=Math.sqrt(c)*(1/128);if(ew>1)dk=(1-dk)*(ew-1)+1;else dk=dk*(ew-1)+1;ei[c]=dk}for(m=0;
m<p;m++){for($=0;$<a;$++){var c=m*a+$,ao=c<<2,jf=k6[c],hC=j9[c]*(1/255),iI=fh[c]*(1/255);jf=(1-hC)*jf+hC*b8[~~jf];
jf=(1-iI)*jf+iI*ke[~~jf];G=jf;var gQ=e[ao],cb=e[ao+1],dK=e[ao+2];Y=-gQ*.168736-cb*.331264+dK*.5;fk=gQ*.5-cb*.418688-dK*.081312;
dk=ei[~~(.5+Y*Y+fk*fk)];eJ=Y*dk;gL=fk*dk;r=1-Math.min(2-(hC+iI),1);Y=r*Y+(1-r)*eJ;fk=r*fk+(1-r)*gL;kj=G+1.402*fk;
gq=G-.34414*Y-.71414*fk;iL=G+1.772*Y;fz[ao]=~~(.5+kj);fz[ao+1]=~~(.5+gq);fz[ao+2]=~~(.5+iL)}}if(f)console.log("apply masks",Date.now()-w);
w=Date.now()};j.qJ={};j.qJ.hb=function(e,A,a,p,N){var i=!1,J=1,U=0,X=0,g=0,ew=0;if(!A.XH(N)){var Z=A.pg(N),s=j.Q(Z.O()*4);
j._M(e,A,s,Z);e=s;A=Z}var D=j.Q(A.O());j.WP(a,N,D,A);j.round(D);N=N.Yn(A);var n=N.m,S=N.n,F=n*3<S?2:1,$=S*3<n?2:1;
if(N.O()*(F*2+1)*($*2+1)<A.O()){var Z=new dE(N.x-n*F,N.y-S*F,n*(F*2+1),S*($*2+1)).Yn(A),s=j.Q(Z.O()*4);
j._M(e,A,s,Z);var m=j.Q(Z.O());j.WP(D,A,m,Z);A=Z;e=s;D=m}while((A.m+A.n)/2/J>400)J++;var w=e,f=A,b=D,L=Math.floor(f.m/J),C=Math.floor(f.n/J);
e=j.Q(L*C*4);j.scale.fw(w,f.m,f.n,e,L,C,1/J);D=j.Q(L*C);j.scale.kZ(b,f.m,f.n,D,L,C,1/J);j.round(D,1);
var Q=j.WC(D,new dE(0,0,L,C));if(Q.QP())return 1;var k=Math.round((Q.m+Q.n)/2/15),E=Date.now(),_=j.Q(L*C*4);
j.a7u(e,_);var v=Int16Array,V=new v(L*C*24),R=new v(64),h=new v(64),P=new v(64),H=new v(64);for(var x=3;
x<C-4;x++)for(var K=3;K<L-4;K++){var T=x*L+K;if(D[T]==255)continue;if(j.qJ.ajh(_,D,K,x,L,C,R,h,P)!=0)continue;
j.qJ.e5(R,H);V[U]=K;V[U+1]=x;j.qJ.GZ(R,V,U+4,12);U+=16;j.qJ.e5(h,H);j.qJ.GZ(h,V,U,4);U+=4;j.qJ.e5(P,H);
j.qJ.GZ(P,V,U,4);U+=4;var I=V[U-24+5],o=V[U-24+6];V[U-24+5]=V[U-24+20];V[U-24+6]=V[U-24+16];V[U-24+16]=I;
V[U-24+20]=o;X++}if(X==0)return 2;if(i)console.log(Date.now()-E,"FWHT computed");E=Date.now();var l=[];
j.qJ.hW(0,X-1,l,V,new v(2*24));if(i)console.log(Date.now()-E,"KD tree computed");E=Date.now();var O=new Float32Array(L*C*4);
for(var c=0;c<X;c++){var W=c,d=j.qJ.ahb(W,V,l,k);if(d==-1)continue;var gT=W*24,r=d*24,G=V[gT],Y=V[gT+1],fk=V[r],eJ=V[r+1];
g+=j.qJ.getError(r,gT,V,1e99);var eS=fk-G,gL=eJ-Y;O[(C+gL)*2*L+(L+eS)]+=1}if(i)console.log(Date.now()-E,"NN found");
E=Date.now();var cX=[],kj=1/(2*L);for(var c=0;c<O.length;c++){if(O[c]>0){var x=Math.floor(c*kj),K=c-x*2*L;
cX.push({x:K-L,y:x-C,Z:O[c],o9:-1})}}cX.sort(function(hC,iI){return iI.Z-hC.Z});var gq=new Int32Array(L*C),iL=[];
for(var c=0;c<L*C;c++){if(D[c]==255){gq[c]=ew;iL.push(c%L,Math.floor(c/L));ew++}else if(e[(c<<2)+3]<200){gq[c]=-2}else{gq[c]=-1}}var dk=j.qJ.apG(L,C,cX,gq,iL,ew);
if(dk==null){return 3}var j9=dk.Na,top=dk.top;j9=j.qJ.ar1(j9,e,L,C,top,gq,iL,ew);if(i)console.log(Date.now()-E,"optimal labeling found");
E=Date.now();var Z=N.clone();Z.Fu(1,1);Z=Z.Yn(f);var fh=j.Q(Z.O()*4),g9=j.Q(Z.O());j._M(w,f,fh,Z);var k6=f.m,jx=f.n;
for(var x=0;x<jx;x++)for(var K=0;K<k6;K++){if(b[x*k6+K]==0)continue;var fV=Math.min(Math.floor(K/J),L-1),ao=Math.min(Math.floor(x/J),C-1),b8=gq[ao*L+fV];
if(b8==-1)continue;var ke=j9[b8],gj=top[ke],jf=K+gj.x*J,ay=x+gj.y*J,fz=ay*k6+jf<<2,ei=(x-Z.y+f.y)*Z.m+(K-Z.x+f.x)<<2;
fh[ei]=w[fz];fh[ei+1]=w[fz+1];fh[ei+2]=w[fz+2];fh[ei+3]=w[fz+3];fh[ei+3]=w[fz+3];g9[ei>>2]=ke+1}if(i)console.log(Date.now()-E,"copied back");
E=Date.now();j.x5.hb(fh,g9,Z,null,1e3);if(i)console.log(Date.now()-E,"poisson smooth");E=Date.now();
j._M(fh,Z,p,N);return 0};j.qJ.pn=function(e,A,a,p,N,i){return j.qJ.Lr(e+N.x,A+N.y,a,p)&&i[(A+N.y)*a+(e+N.x)]==-1?0:1e9};
j.qJ.ar1=function(e,A,a,p,top,N,i,Z){var s=Date.now(),D=[-1,0,0,-1,1,0,0,1],n=1e99,S=[],F=[],$=2*(Z*2*3+Z*2),m=null,J=0,w=0,f=0,b=1e99;
while(!0&&Date.now()<s+12e3){f++;var L=null,C=n;for(var M=0;M<top.length;M++){var y=top[M],Q=0,k=Z+2,E=0;
for(var c=0;c<Z;c++){var _=i[c*2],v=i[c*2+1],V=top[e[c]],R=j.qJ.pn(_,v,a,p,y,N),h=e[c]==M?1e9:j.qJ.pn(_,v,a,p,V,N);
for(var iM=0;iM<4;iM++){if(iM==0&&_==0||iM==1&&v==0||iM==2&&_==a-1||iM==3&&v==p-1)continue;var P=D[2*iM],H=D[2*iM+1],U=_+P,X=v+H,x=N[X*a+U];
if(x==-2){}else if(x==-1){R+=3*j.qJ.lh(U+y.x,X+y.y,U,X,a,p,A,N);R+=2*j.qJ.lh(U+y.x+P,X+y.y+H,U+P,X+H,a,p,A,N);
h+=3*j.qJ.lh(U+V.x,X+V.y,U,X,a,p,A,N);h+=2*j.qJ.lh(U+V.x+P,X+V.y+H,U+P,X+H,a,p,A,N)}else if(iM>1){if(e[c]==e[x]){var K=0;
K+=j.qJ.lh(_+V.x,v+V.y,_+y.x,v+y.y,a,p,A,N);K+=j.qJ.lh(U+V.x,X+V.y,U+y.x,X+y.y,a,p,A,N);S[Q]=c;S[Q+1]=x;
F[Q]=K;F[Q+1]=K;Q+=2}else{var T=top[e[x]],I=k,o=0,l=0,O=0;k++;o+=j.qJ.lh(_+V.x,v+V.y,_+y.x,v+y.y,a,p,A,N);
o+=j.qJ.lh(U+V.x,X+V.y,U+y.x,X+y.y,a,p,A,N);l+=j.qJ.lh(_+T.x,v+T.y,_+y.x,v+y.y,a,p,A,N);l+=j.qJ.lh(U+T.x,X+T.y,U+y.x,X+y.y,a,p,A,N);
O+=j.qJ.lh(_+T.x,v+T.y,_+V.x,v+V.y,a,p,A,N);O+=j.qJ.lh(U+T.x,X+T.y,U+V.x,X+V.y,a,p,A,N);S[Q]=c;S[Q+1]=I;
F[Q]=o;F[Q+1]=o;Q+=2;S[Q]=x;S[Q+1]=I;F[Q]=l;F[Q+1]=l;Q+=2;S[Q]=I;S[Q+1]=Z+1;F[Q]=O;F[Q+1]=0;Q+=2}}}S[Q]=Z;
S[Q+1]=c;F[Q]=R;F[Q+1]=0;Q+=2;S[Q]=c;S[Q+1]=Z+1;F[Q]=h;F[Q+1]=0;Q+=2;E+=Math.min(R,h)}if(E>C)continue;
var g=j.rd.a2(k,Q,Z,Z+1,S,F,C);if(g.oF<C){C=g.oF;var W=e.slice(0);j.qJ.afK(W,Q,S,g.xn,M,Z);L=W}}if(C*1>=n){break}n=C;
e=L;if((f&3)==0){if(C*1.03>=b)break;b=C}if((f&3)==0){var d=0*top.length;for(var c=0;c<top.length&&top.length>d;
c++){if(e.indexOf(c)!=-1)continue;top.splice(c,1);for(var x=0;x<e.length;x++)if(e[x]>c)e[x]--;c--}}}return e};
j.qJ.afK=function(e,A,a,p,N,i){for(var c=0;c<p.length;c++){var Z=p[c]<<1,s=0,D=0;if(Z<A){s=a[Z];D=a[Z+1]}else{D=a[Z];
s=a[Z+1]}if(s==i&&e[D]!=N)e[D]=N}};j.qJ.vw=function(top,e,A,a,p,N,i,Z,s){for(var c=0;c<A.length;c++){var D=A[c],n=!0;
if(Z!=null&&!(j.qJ.Lr(Z+D.x,s+D.y,N,i)&&a[N*(s+D.y)+Z+D.x]==-1))continue;if(D.o9==-1)D.o9=j.qJ.aug(D,a,p,N,i);
if(D.o9<=0)continue;for(var S=0;S<top.length;S++){var F=top[S],$=D.x-F.x,m=D.y-F.y;if($*$+m*m<e){n=!1;
break}}if(n)return D}return null};j.qJ.aug=function(e,A,a,p,N){var i=0;for(var c=0;c<a.length;c+=2){var Z=a[c]+e.x,s=a[c+1]+e.y;
if(j.qJ.Lr(Z,s,p,N)&&A[p*s+Z]==-1)i++}return i/(a.length>>1)};j.qJ.apG=function(e,A,a,p,N,i){var top=[];
for(var c=0;c<60;c++){var Z=j.qJ.vw(top,25,a,p,N,e,A);if(Z==null)break;else top.push(Z)}if(top.length==0)return null;
var s=[];for(var c=0;c<i;c++){var D=N[c*2],n=N[c*2+1],S=-1,F=0;while(!0){F++;var $=Math.random();S=Math.floor($*.99999*top.length);
var m=top[S],J=D+m.x,w=n+m.y;if(j.qJ.Lr(J,w,e,A)&&p[w*e+J]==-1)break;if(F>100){var Z;Z=j.qJ.vw(top,0,a,p,N,e,A,D,n);
if(Z==null)return null;top.push(Z);F=0}}s.push(S)}return{top:top,Na:s}};j.qJ.lh=function(e,A,a,p,N,i,Z,s){if(e==a&&A==p)return 0;
if(e<0||A<0||e>=N||A>=i||a<0||p<0||a>=N||p>=i||s[A*N+e]!=-1||s[p*N+a]!=-1)return 1e7;var D=A*N+e<<2,n=p*N+a<<2,S=Z[D]-Z[n],F=Z[D+1]-Z[n+1],$=Z[D+2]-Z[n+2];
return 1+(S*S+F*F+$*$)};j.qJ.Lr=function(e,A,a,p){return e>=0&&e<a&&A>=0&&A<p};j.qJ.ahb=function(e,A,a,p){var N=24*e,i=A[N],Z=A[N+1],s=p*p,D=0,$=1e9;
while(a[D]!=99)if(A[N+a[D]]<a[D+1])D=a[D+2];else D=a[D+3];var n=a[D+1],S=a[D+2],F=-1;for(var c=n;c<=S;
c++){var D=c,m=D*24,J=A[m],w=A[m+1];if((J-i)*(J-i)+(w-Z)*(w-Z)<s)continue;var f=j.qJ.getError(m,N,A,$);
if(f<$){$=f;F=D}}return F};j.qJ.getError=function(e,A,a,p){var N=0;for(var i=4;i<24;i+=4){var Z=a[A+i]-a[e+i],s=a[A+i+1]-a[e+i+1],D=a[A+i+2]-a[e+i+2],n=a[A+i+3]-a[e+i+3];
N+=Z*Z+s*s+D*D+n*n;if(N>=p)return N+1}return N};j.qJ.hW=function(e,A,a,p,N){var i=16,$=0;if(A-e<=i){a.push(99,e,A);
return}j.qJ.i9(e,A,p,N);var Z=-1,s=-1;for(var c=4;c<24;c++){var D=N[2*c+1]-N[2*c];if(D>s){s=D;Z=c}}var n=e+A>>1,S=j.qJ.au2(n,e,A,p,Z),F=-1;
for(var c=e;c<=A;c++)if(p[24*c+Z]==S){if(F==-1)F=c;$=c}if(e+8<F&&F-e>A-$)n=F;else if($+1<A-8)n=$+1;else if(A-e<64){a.push(99,e,A);
return}else n=n;var m=a.length;a.push(Z,S,0,0);a[m+2]=m+4;j.qJ.hW(e,n-1,a,p,N);a[m+3]=a.length;j.qJ.hW(n,A,a,p,N)};
j.qJ.i9=function(e,A,a,p){for(var c=0;c<48;c+=4){p[c]=3e4;p[c+1]=-3e4;p[c+2]=3e4;p[c+3]=-3e4}for(var c=e;
c<=A;c++){var N=c*24;for(var i=0;i<24;i++){var Z=a[N+i],s=p[i<<1],D=p[(i<<1)+1];if(Z<s)p[i<<1]=Z;if(Z>D)p[(i<<1)+1]=Z}}};
j.qJ.gf=function(e,A,a){var p=0,c=0;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;
c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;
c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;
c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;
c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;
c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;
c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;
c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;
c++;p=a[e+c];a[e+c]=a[A+c];a[A+c]=p;c++};j.qJ.yr=function(e,A,a,p){var N=a+p>>>1,i=e[24*N+A];while(a<=p){while(e[24*a+A]<i)a++;
while(e[24*p+A]>i)p--;if(a<=p){if(e[24*a+A]!=e[24*p+A])j.qJ.gf(a*24,p*24,e);a++;p--}}return a};j.qJ.au2=function(e,A,a,p,N){var i=0;
while(A!=a){i=j.qJ.yr(p,N,A,a);if(e<i)a=i-1;else A=i}return p[e*24+N]};j.qJ.GZ=function(e,A,a,p){for(var c=0;
c<p;c++)A[a+c]=e[c]};j.qJ.ajh=function(e,A,a,p,N,i,Z,s,D){var n=(p-3)*N+(a-3),S=n<<2;for(var F=0;F<8;
F++){if(A[n]+A[n+1]+A[n+2]+A[n+3]+A[n+4]+A[n+5]+A[n+6]+A[n+7]!=0||e[S+3]<200||e[S+7]<200||e[S+11]<200||e[S+15]<200||e[S+19]<200||e[S+23]<200||e[S+27]<200||e[S+31]<200)return 1;
var c=F<<3;Z[c+0]=e[S+0];s[c+0]=e[S+1];D[c+0]=e[S+2];Z[c+1]=e[S+4];s[c+1]=e[S+5];D[c+1]=e[S+6];Z[c+2]=e[S+8];
s[c+2]=e[S+9];D[c+2]=e[S+10];Z[c+3]=e[S+12];s[c+3]=e[S+13];D[c+3]=e[S+14];Z[c+4]=e[S+16];s[c+4]=e[S+17];
D[c+4]=e[S+18];Z[c+5]=e[S+20];s[c+5]=e[S+21];D[c+5]=e[S+22];Z[c+6]=e[S+24];s[c+6]=e[S+25];D[c+6]=e[S+26];
Z[c+7]=e[S+28];s[c+7]=e[S+29];D[c+7]=e[S+30];S+=N<<2;n+=N}return 0};j.qJ.e5=function(e,A){A[0]=e[32]+e[0];
A[1]=e[33]+e[1];A[2]=e[34]+e[2];A[3]=e[35]+e[3];A[4]=e[36]+e[4];A[5]=e[37]+e[5];A[6]=e[38]+e[6];A[7]=e[39]+e[7];
A[8]=e[40]+e[8];A[9]=e[41]+e[9];A[10]=e[42]+e[10];A[11]=e[43]+e[11];A[12]=e[44]+e[12];A[13]=e[45]+e[13];
A[14]=e[46]+e[14];A[15]=e[47]+e[15];A[16]=e[48]+e[16];A[17]=e[49]+e[17];A[18]=e[50]+e[18];A[19]=e[51]+e[19];
A[20]=e[52]+e[20];A[21]=e[53]+e[21];A[22]=e[54]+e[22];A[23]=e[55]+e[23];A[24]=e[56]+e[24];A[25]=e[57]+e[25];
A[26]=e[58]+e[26];A[27]=e[59]+e[27];A[28]=e[60]+e[28];A[29]=e[61]+e[29];A[30]=e[62]+e[30];A[31]=e[63]+e[31];
A[32]=e[0]-e[32];A[33]=e[1]-e[33];A[34]=e[2]-e[34];A[35]=e[3]-e[35];A[36]=e[4]-e[36];A[37]=e[5]-e[37];
A[38]=e[6]-e[38];A[39]=e[7]-e[39];A[40]=e[8]-e[40];A[41]=e[9]-e[41];A[42]=e[10]-e[42];A[43]=e[11]-e[43];
A[44]=e[12]-e[44];A[45]=e[13]-e[45];A[46]=e[14]-e[46];A[47]=e[15]-e[47];A[48]=e[16]-e[48];A[49]=e[17]-e[49];
A[50]=e[18]-e[50];A[51]=e[19]-e[51];A[52]=e[20]-e[52];A[53]=e[21]-e[53];A[54]=e[22]-e[54];A[55]=e[23]-e[55];
A[56]=e[24]-e[56];A[57]=e[25]-e[57];A[58]=e[26]-e[58];A[59]=e[27]-e[59];A[60]=e[28]-e[60];A[61]=e[29]-e[61];
A[62]=e[30]-e[62];A[63]=e[31]-e[63];e[0]=A[16]+A[0];e[1]=A[17]+A[1];e[2]=A[18]+A[2];e[3]=A[19]+A[3];
e[4]=A[20]+A[4];e[5]=A[21]+A[5];e[6]=A[22]+A[6];e[7]=A[23]+A[7];e[8]=A[24]+A[8];e[9]=A[25]+A[9];e[10]=A[26]+A[10];
e[11]=A[27]+A[11];e[12]=A[28]+A[12];e[13]=A[29]+A[13];e[14]=A[30]+A[14];e[15]=A[31]+A[15];e[16]=A[0]-A[16];
e[17]=A[1]-A[17];e[18]=A[2]-A[18];e[19]=A[3]-A[19];e[20]=A[4]-A[20];e[21]=A[5]-A[21];e[22]=A[6]-A[22];
e[23]=A[7]-A[23];e[24]=A[8]-A[24];e[25]=A[9]-A[25];e[26]=A[10]-A[26];e[27]=A[11]-A[27];e[28]=A[12]-A[28];
e[29]=A[13]-A[29];e[30]=A[14]-A[30];e[31]=A[15]-A[31];A[0]=e[8]+e[0];A[1]=e[9]+e[1];A[2]=e[10]+e[2];
A[3]=e[11]+e[3];A[4]=e[12]+e[4];A[5]=e[13]+e[5];A[6]=e[14]+e[6];A[7]=e[15]+e[7];A[8]=e[0]-e[8];A[9]=e[1]-e[9];
A[10]=e[2]-e[10];A[11]=e[3]-e[11];A[12]=e[4]-e[12];A[13]=e[5]-e[13];A[14]=e[6]-e[14];A[15]=e[7]-e[15];
e[0]=A[4]+A[0];e[1]=A[5]+A[1];e[2]=A[6]+A[2];e[3]=A[7]+A[3];e[4]=A[0]-A[4];e[5]=A[1]-A[5];e[6]=A[2]-A[6];
e[7]=A[3]-A[7];e[8]=A[12]+A[8];e[9]=A[13]+A[9];e[10]=A[14]+A[10];e[11]=A[15]+A[11];e[12]=A[8]-A[12];
e[13]=A[9]-A[13];e[14]=A[10]-A[14];e[15]=A[11]-A[15];A[0]=e[2]+e[0];A[1]=e[3]+e[1];A[2]=e[0]-e[2];A[3]=e[1]-e[3];
A[4]=e[6]+e[4];A[5]=e[7]+e[5];A[6]=e[4]-e[6];A[7]=e[5]-e[7];A[8]=e[10]+e[8];A[9]=e[11]+e[9];A[10]=e[8]-e[10];
A[11]=e[9]-e[11];A[12]=e[14]+e[12];A[13]=e[15]+e[13];A[14]=e[12]-e[14];A[15]=e[13]-e[15];e[0]=A[1]+A[0];
e[1]=A[0]-A[1];e[2]=A[3]+A[2];e[3]=A[2]-A[3];e[4]=A[5]+A[4];e[5]=A[4]-A[5];e[6]=A[7]+A[6];e[7]=A[6]-A[7];
e[8]=A[9]+A[8];e[9]=A[8]-A[9];e[10]=A[11]+A[10];e[11]=A[10]-A[11];e[12]=A[13]+A[12];e[13]=A[12]-A[13];
e[14]=A[15]+A[14];e[15]=A[14]-A[15]};j.qJ.a8q=function(){var e="",iM=64,A="v",a="t",p="a",N=5,c,i,Z;
for(c=iM>>1;c>0;c>>=1,N--){for(i=0;i<iM;i++){Z=(i>>N&1)!=0;if(Z){e+=a+"["+i+"] = "+A+"["+(-c+i)+"] - "+A+"["+i+"];  "}else{e+=a+"["+i+"] = "+A+"["+(c+i)+"] + "+A+"["+i+"];  "}}p=A;
A=a;a=p;e+="\n"}console.log(e)};j.qJ.acz=function(iM,e,A){var a=e,p=A,N=a,i=0,c,s,D;while(iM>>i!=2)i++;
var Z=i;for(c=iM>>1;c>0;c>>=1,i--){for(s=0;s<iM;s++){D=(s>>i&1)!=0;if(D)p[s]=a[-c+s]-a[s];else p[s]=a[c+s]+a[s]}N=a;
a=p;p=N}if((Z&1)==1)for(c=0;c<iM;c++)A[c]=a[c]};j.dV={};j.dV.Wm=function(e,A,a,p,N,i,Z,s,D){var n=Date.now(),S=new Uint32Array(e.buffer),F=new Uint32Array(A.buffer),$=Z/a,m=s/p,J=1/$,w=1/m,f=new Float64Array(2),b=3,L=1/b,C=1/(b*b),M=0,y=0,Q=a,k=p;
if(N){M=N.x;y=N.y;Q=N.m;k=N.n}for(var E=0;E<k;E++)for(var _=0;_<Q;_++){var v=M+_,V=y+E,c=V*a+v,R=c<<1,h=c<<2;
j.dV.akI(i,Z,s,(v+.5)*$,(V+.5)*m,f);var P=f[0]*J,H=f[1]*w;if(P==0&&H==0)F[c]=S[c];else{j.K.Ay(v+P+.5,V+H+.5,S,a,p,F,c,D)}}};
j.dV.akI=function(e,A,a,p,N,i){p-=.499999;N-=.499999;var Z=~~p,s=~~N,D=p-Z,n=N-s,S=(1-n)*(1-D),F=(1-n)*D,$=n*(1-D),m=n*D,J=Z<A-1?Z+1:Z,w=s<a-1?s+1:s,f=s*A+Z<<1,b=s*A+J<<1,L=w*A+Z<<1,C=w*A+J<<1;
i[0]=S*e[f]+F*e[b]+$*e[L]+m*e[C];i[1]=S*e[f+1]+F*e[b+1]+$*e[L+1]+m*e[C+1]};j.dV.ai4=function(e,A,a,p,N){var i=1/e,Z=[-1,1,-e,e],s=p.length;
for(var D=0;D<s;D++){var c=p[D],n=c<<1,S=D<<1,F=~~(c*i),$=c-e*F,m=a[n],J=a[n+1],w=0,f=0;if($!=0&&$!=e-1){var b=c-1<<1,L=c+1<<1,C=a[b],M=a[L],y=a[b+1],Q=a[L+1],k=m-(C+M)*.5,E=J-(y+Q)*.5;
w-=k*N;f-=E*N}if(F!=0&&F!=A-1){var b=c-e<<1,L=c+e<<1,C=a[b],M=a[L],y=a[b+1],Q=a[L+1],k=m-(C+M)*.5,E=J-(y+Q)*.5;
w-=k*N;f-=E*N}a[n]=m+w;a[n+1]=J+f}};j.dV.ai$=function(e,A){var a=e+","+A;if(j.dV.MO==a)return j.dV.lX;
var p=j.dV.lX=[];j.dV.MO=a;for(var c=0;c<=1e3;c++){var N=c*.001,i=Math.sqrt(N),Z=Math.exp(-4*i),s=.96*(1-i*i),D=A*((1-e)*Z+e*s);
p[c]=D}return p};j.dV.MO="";j.dV.lX=[];j.dV.ax8=function(e,A,a,p,N,i,Z,s,D,n,S,F,$){var m=Math.max(0,Math.floor(N-Z-1)),J=Math.min(A,Math.ceil(N+Z+1)),w=Math.max(0,Math.floor(i-Z-1)),f=Math.min(a,Math.ceil(i+Z+1)),b=2*A,L=Z*Z,C=1/Z,M=0;
if($&&(p==3||p==6))D=-D;var y=j.dV.ai$(s,D);for(var Q=w;Q<f;Q++)for(var k=m;k<J;k++){var c=Q*A+k,E=c<<1,_=(N-k)*C,v=(i-Q)*C,V=_*_+v*v;
if(V<1){F[M]=c;var R=y[~~(V*1e3)];if(p==1){e[E]=e[E]*(1-R*.05);e[E+1]=e[E+1]*(1-R*.05)}else{var h=0,P=0,X,x,K,T;
if(p==0){h=n*R;P=S*R}else if(p==2){}else if(p==3){h=R*v;P=-R*_}else if(p==4){h=R*_;P=R*v}else if(p==5){h=-R*_;
P=-R*v}else if(p==6){h=S*R;P=-n*R}var H=e[E],U=e[E+1];if(k==0||k!=A-1&&h<0){X=1+e[E+2]-H;K=e[E+3]-U}else{X=H-e[E-2]+1;
K=U-e[E-1]}if(Q==0||Q!=a-1&&P<0){x=e[E+b]-H;T=1+e[E+b+1]-U}else{x=H-e[E-b];T=U-e[E-b+1]+1}e[E]=-(X*h+x*P-H);
e[E+1]=-(K*h+T*P-U)}M++}}};j.dV.a3x=function(e){var A=e[0],a=e[0],p=e[1],N=e[1];for(var c=0;c<e.length;
c+=2){var i=e[c],Z=e[c+1];if(i<A)A=i;else if(i>a)a=i;if(Z<p)p=Z;else if(Z>N)N=Z}return[A,p,a,N]};j.akW=function(e,A,a,p,N){function i(G,Y,fk,eJ){return Math.sqrt((G-fk)*(G-fk)+(Y-eJ)*(Y-eJ))}function Z(G,Y){return G>=0&&G<A&&Y>=0&&Y<a}function s(G){if(G<0)return 0;
if(G>=A)return A-1;return G}function D(G){if(G<0)return 0;if(G>=a)return a-1;return G}function n(c,G){var Y=G[3]*(1/255),fk=p[c]+G[0]*Y;
if(fk>255)fk=255;p[c]=fk;fk=p[c+1]+G[1]*Y;if(fk>255)fk=255;p[c+1]=fk;fk=p[c+2]+G[2]*Y;if(fk>255)fk=255;
p[c+2]=fk}function S(G,Y,fk){if(!I(G,Y))return;if(fk[3]<0)fk[3]=0;n((Y*A+G)*4,fk)}function F(G){var Y=G.slice(0,3);
Y[3]=0;return Y}var $=A/800;function m(G){return Math.round(G*$)}function J(){for(var c=0;c<=300;c++){l[c]=w(c)}}function w(a){var G=.8,Y=.2,fk=G*Y,eJ=a/60%2-1,eS=fk*(1-eJ*eJ),gL=Y-fk,cX;
if(a<60){cX=[fk+gL,eS,0]}else if(a<120){cX=[eS,fk,0]}else if(a<180){cX=[0,fk,eS]}else if(a<240){cX=[0,eS,fk]}else if(a<300){cX=[eS,0,fk]}else{cX=[fk,0,eS]}return[(cX[0]+gL)*255,(cX[1]+gL)*255,(cX[2]+gL)*255]}function f(a){return l[~~a]}function b(G){return 1-L(G)}function L(G){return G-~~G}function C(G,Y,fk,eJ){K(G,Y,fk,0,Y+1,1,eJ)}function M(G,Y,fk,eJ,eS,gL){K(G,Y,fk,0,eJ,1,eS,gL)}function y(G){for(var c=0;
c<p.length;c+=4){n(c,G)}}function Q(G,Y,fk,eJ,eS,gL,cX,kj){k(G,Y,fk,eJ,eS,1,gL,cX,kj)}function k(G,Y,fk,eJ,eS,gL,cX,kj,gq){if(gL==null)gL=.5;
if(cX==null)cX=0;if(kj==null)kj=0;if(gq==null)gq=!1;var iL=G.x,ew=G.y,dk=fk.slice(0),j9=~~(fk[3]*g);
eJ=eJ*g;if(!gq){Y=T(Y);eS=T(eS);cX=T(cX);kj=T(kj)}var fh=s(iL-Y),g9=s(iL+Y);for(var k6=fh;k6<=g9;k6++){var jx=k6-iL,fV=Math.floor(Math.sqrt(Y*Y-jx*jx)),ao=D(ew-fV),b8=D(ew);
for(var ke=ao;ke<=b8;ke++){var gj=i(k6,ke,iL,ew);if(gj>Y||gj<=Y-eS)break;var jf=(gj-Y+eS)/eS;dk[3]=j9-eJ*(gL==1?jf:Math.pow(jf,gL));
n((ke*A+k6)*4,dk)}ao=D(ew+fV);for(var ke=ao;ke>b8;ke--){var gj=i(k6,ke,iL,ew);if(gj>Y||gj<=Y-eS)break;
var jf=(gj-Y+eS)/eS;dk[3]=j9-eJ*(gL==1?jf:Math.pow(jf,gL));n((ke*A+k6)*4,dk)}}if(cX>0){K(G,Y+cX,dk,dk[3],cX,1,0,0,!0)}if(kj>0){K(G,Y-eS,o(fk),-fk[3],kj,1,0,0,!0)}}function E(G,Y,fk,eJ,eS,gL){K(G,Y,fk,fk[3],Y+1,1,eJ,eS,gL)}function _(G,Y,fk,eJ,eS){if(eS==null)eS=!1;
var gL=G.x,cX=G.y;eJ*=g;if(!eS){Y=T(Y);fk=T(fk)}var kj=s(gL-Y),gq=s(gL+Y);for(var iL=kj;iL<gq;iL++){var ew=iL-gL,dk=~~Math.sqrt(Y*Y-ew*ew),j9=D(cX-dk),fh=D(cX);
for(var g9=j9;g9<=fh;g9++){var k6=i(iL,g9,gL,cX);if(k6>Y||k6<=Y-fk)break;var jx=(Y-k6)/fk,fV=f(300*jx);
fV[3]=eJ;n((g9*A+iL)*4,fV)}j9=D(cX+dk);for(var g9=j9;g9>fh;g9--){var k6=i(iL,g9,gL,cX);if(k6>Y||k6<=Y-fk)break;
var jx=(Y-k6)/fk,fV=f(300*jx);fV[3]=eJ;n((g9*A+iL)*4,fV)}}}function v(O,G){var Y=O.YN,fk=O.I$,eJ=G.slice(0),eS=G[3]*g,gL=Math.abs(fk.y-Y.y)>Math.abs(fk.x-Y.x);
if(gL){var cX=Y.x;Y.x=Y.y;Y.y=cX;cX=fk.x;fk.x=fk.y;fk.y=cX}if(Y.x>fk.x){var cX=Y;Y=fk;fk=cX}var kj=fk.x-Y.x,gq=fk.y-Y.y,iL=kj==0?1:gq/kj,ew=Math.round(Y.x),dk=Y.y+iL*(ew-Y.x),j9=b(Y.x+.5),fh=ew,g9=~~dk;
if(gL){eJ[3]=eS*b(dk)*j9;S(g9,fh,eJ);eJ[3]=eS*L(dk)*j9;S(g9+1,fh,eJ)}else{eJ[3]=eS*b(dk)*j9;S(fh,g9,eJ);
eJ[3]=eS*L(dk)*j9;S(fh,g9+1,eJ)}var k6=dk-iL;ew=Math.round(fk.x);dk=fk.y+iL*(ew-fk.x);j9=L(fk.x+.5);
var jx=ew,fV=~~dk;if(gL){eJ[3]=eS*b(dk)*j9;S(fV,jx,eJ);eJ[3]=eS*L(dk)*j9;S(fV+1,jx,eJ)}else{eJ[3]=eS*b(dk)*j9;
S(jx,fV,eJ);eJ[3]=eS*L(dk)*j9;S(jx,fV+1,eJ)}if(gL){for(var ao=fh+1;ao<=jx-1;ao++){eJ[3]=eS*b(k6);S(~~k6,ao,eJ);
eJ[3]=eS*L(k6);S(~~k6+1,ao,eJ);k6+=iL}}else{for(var ao=fh+1;ao<=jx-1;ao++){eJ[3]=eS*b(k6);S(ao,~~k6,eJ);
eJ[3]=eS*L(k6);S(ao,~~k6+1,eJ);k6+=iL}}}function V(G,Y,fk,eJ){for(var c=0;c<4;c++){var eS=G.wM(Y+1.3*c,fk);
v(eS,eJ,1)}}function k7(G,Y){this.x=Math.round(G);this.y=Math.round(Y)}var R=Math.PI/180;k7.prototype.wM=function(G,Y){G=G*R;
var fk=this.x+Y*Math.cos(G),eJ=this.y+Y*Math.sin(G);return new h(this.x,this.y,fk,eJ)};k7.prototype.asj=function(G,Y){G=G*R;
var fk=this.HJ+Y*Math.cos(G),eJ=this.avZ+Y*Math.sin(G);return new k7(fk,eJ)};function h(G,Y,fk,eJ){this.YN=new k7(G,Y);
this.I$=new k7(fk,eJ)}h.prototype.dr=function(G){var Y=G*this.YN.x+(1-G)*this.I$.x,fk=G*this.YN.y+(1-G)*this.I$.y;
return new k7(Y,fk)};var P=Q,H=E,U=C,X=M,x=_,K=k,T=m,I=Z,o=F,l=[];J();for(var c=0;c<e.length;c++){p[c]=e[c]}var O=new h(A*N[2],a*N[3],A/2,a/2),g=N[1],W=[];
W[0]=function d(){var G=[80,40,15,60],fk=0,eJ=0;U(O.dr(1.4),260,G,10);U(O.dr(1),100,[240,50,50,30],30);
H(O.dr(1),60,[255,40,0,40]);var Y=[255,255,255,255];K(O.dr(1),70,Y,Y[3],58,.5);U(O.dr(1),12,Y);Y[3]=40;
P(O.dr(1),150,Y,Y[3],150);for(var c=0;c<40;c++){fk+=Math.random()*25;eJ=Math.random()*T(300)+T(100);
var eS=O.dr(1).wM(fk,eJ);v(O.dr(1).wM(fk,eJ),[110,110,110,30])}H(O.dr(1),130,[255,255,255,8]);var gL=[170,30,23,70];
X(O.dr(1),70,gL,1,3,3);var cX=[60,60,130,40];U(O.dr(.47),44,cX,5);U(O.dr(.43),22,cX,3);cX[3]=16;U(O.dr(.53),15,cX,2);
var kj=[138,94,42,100];U(O.dr(.2),16,kj,2);var gq=[130,255,170,180];H(O.dr(0),4,gq);H(O.dr(-.25),5,gq);
kj=[150,90,0,50];P(O.dr(-.45),55,o(kj),-kj[3],40,2);U(O.dr(-.42),35,kj,2);U(O.dr(-.5),15,kj,2);x(O.dr(-1.28),145,11,70);
var iL=f(0);iL[3]=50;P(O.dr(-1.28),149,iL,iL[3],4);iL=f(300);iL[3]=50;P(O.dr(-1.28),155-1,o(iL),-iL[3],3);
var ew=[130,130,10,50];X(O.dr(-1),73,ew,3,2);var dk=[40,130,70,40];P(O.dr(-1),70,o(dk),-dk[3],35);dk=[40,170,60,50];
U(O.dr(-.7),25,dk,4);var dk=[70,110,50,60];P(O.dr(1.3),30,o(dk),-dk[3],11,3);cX=[0,50,210,80];H(O.dr(-.72),20,cX)};
W[1]=function gT(){H(O.dr(1),150,[240,70,70,60]);U(O.dr(1),100,[200,60,60,40],30);var G=[255,255,255,255],Y=0,fk=0;
K(O.dr(1),75,G,G[3],63);U(O.dr(1),12,G);H(O.dr(1),270,[200,200,200,20],10);for(var c=0;c<10;c++){Y+=10+Math.random()*40;
fk=Math.random()*T(250)+T(80);var eJ=O.dr(1).wM(Y,fk);v(eJ,[110,110,110,35])}Y=5;fk=100;for(var c=0;
c<12;c++){Y+=30;V(O.dr(1),Y,fk,[90,90,90,40])}var eS=[150,40,23,100];X(O.dr(1),70,eS,1,3,3);var gL=[30,100,60,40];
H(O.dr(-.9),180,[255,255,255,20]);U(O.dr(-.9),140,gL,15);var cX=[170,80,25,15];X(O.dr(-.9),120,cX,1,4,4);
var kj=[110,240,190,200];H(O.dr(-.6),3,kj);kj[3]=100;H(O.dr(-.6),7,kj);var gq=[230,120,40,85];H(O.dr(-.73),9,gq);
var iL=[60,60,190,50];U(O.dr(.3),28,iL,6);iL[3]=25;U(O.dr(.34),20,iL,3)};W[2]=function r(){var G=[255,255,255,255],fk=0,eJ=0;
U(O.dr(1),13,G);K(O.dr(1),150,G,G[3],137);var Y=[120,80,35,20];U(O.dr(1.4),260,Y,10);for(var c=0;c<40;
c++){fk+=5+Math.random()*30;eJ=Math.random()*T(300);v(O.dr(1).wM(fk,eJ),[110,110,110,20])}var eS=[10,30,255,30];
U(O.dr(1),70,eS,50);var gL=[15,90,170,15];U(O.dr(1.5),60,gL);var cX=[220,220,20,50];U(O.dr(-1.15),8,cX,2);
var G=[255,255,255,40];H(O.dr(-1.18),6,G);H(O.dr(-1.18),4,G);cX=[110,110,10,8];P(O.dr(-1.2),32,o(cX),-cX[3],20,3);
var kj=[5,0,16,255];for(var c=0;c<4;c++){U(O.dr(-1.36),10,kj,3)}var gq=[90,200,150,20],iL=gq.slice(0);
iL[3]*=2;U(O.dr(-1.32),7,iL,3);U(O.dr(-1.36),7,iL,3);U(O.dr(-1.4),7,iL,3);var G=[230,230,230,100];H(O.dr(-1.36),2,G);
G[3]=3;U(O.dr(-.55),10,G);cX=[120,100,10,18];U(O.dr(-.55),160,cX,8);U(O.dr(-.55),80,cX,4);gq[3]=3;iL[3]=6;
P(O.dr(-.49),13,o(iL),-iL[3],13,2);P(O.dr(-.55),13,o(iL),-iL[3],13,2);gq[3]=20;U(O.dr(.15),25,gq,3);
cX[3]=100;H(O.dr(-.52),3,cX);cX=[200,200,50,40];U(O.dr(.27),1,cX,4);var ew=[150,40,23,30];P(O.dr(1),80,o(ew),-ew[3],2,1)};
return W[N[0]]()};j._T={};j._T.d3=function(e){var A=e.length,iM=e[0].length,a=new Array(iM);for(var c=0;
c<iM;c++)a[c]=new Array(A);for(var c=0;c<iM;c++)for(var p=0;p<A;p++)a[c][p]=e[p][c];return a};j._T.QC=function(e,A){var a=e.length,iM=e[0].length,p=new Array(a);
for(var c=0;c<a;c++)p[c]=new Array(iM);for(var c=0;c<a;c++)for(var N=0;N<iM;N++)p[c][N]=e[c][N]-A[c][N];
return p};j._T.add=function(e,A){var a=e.length,iM=e[0].length,p=new Array(a);for(var c=0;c<a;c++)p[c]=new Array(iM);
for(var c=0;c<a;c++)for(var N=0;N<iM;N++)p[c][N]=e[c][N]+A[c][N];return p};j._T.multiply=function(e,A){var a=e.length,p=e[0].length,iM=A[0].length;
if(p!=A.length)throw"e";var N=new Array(a);for(var c=0;c<a;c++)N[c]=new Array(iM);if((p&1)!=0)for(var c=0;
c<a;c++){var i=e[c],Z=N[c];for(var s=0;s<iM;s++){var D=0;for(var n=0;n<p;n++)D+=i[n]*A[n][s];Z[s]=D}}else for(var c=0;
c<a;c++){var i=e[c],Z=N[c];for(var s=0;s<iM;s++){var D=0;for(var n=0;n<p;n+=2)D+=i[n]*A[n][s]+i[n+1]*A[n+1][s];
Z[s]=D}}return N};j._T.$l=function(e,A){var a=e.length,iM=e[0].length,p=new Array(a);for(var c=0;c<a;
c++){var N=0;for(var i=0;i<iM;i++)N+=e[c][i]*A[i];p[c]=N}return p};j._T.Dk=function(e,A){var a=[];for(var c=0;
c<e;c++){a.push([]);for(var p=0;p<A;p++)a[c].push(0)}return a};j._T.aAc=function(e){for(var c=0;c<e.length;
c++)console.log(JSON.stringify(e[c]))};j._T.a9$=function(e){var A=[];for(var c=0;c<e.length;c++)A.push(e[c].join(","));
return"["+A.join(";")+"]"};j._T.a2=function(e,A){var a=e.length;for(var p=0;p<a;p++){var N=0,i=Number.NEGATIVE_INFINITY;
for(var c=p;c<a;c++)if(Math.abs(e[c][p])>i){N=c;i=Math.abs(e[c][p])}j._T.a4i(e,p,N);for(var c=p+1;c<a;
c++){if(e[p][p]==0)return 1;var Z=e[c][p]/e[p][p];for(var s=p;s<a+1;s++)e[c][s]-=e[p][s]*Z}}for(var c=a-1;
c>=0;c--){if(e[c][c]==0)return 1;var D=e[c][a]/e[c][c];A[c]=D;for(var s=c-1;s>=0;s--){e[s][a]-=e[s][c]*D;
e[s][c]=0}}return 0};j._T.a4i=function(e,A,a){var p=e[A];e[A]=e[a];e[a]=p};j._T.a1M=function(e){var A=e.length,a=j._T.Dk(A,A);
for(var c=0;c<A;c++)a[c][c]=e[c];return a};j._T.a8k=function(e){var A=e.length,a=e[0].length,p=new Array(A);
for(var c=0;c<A;c++){p[c]=0;for(var N=0;N<a;N++)p[c]+=e[c][N];p[c]/=a}return p};j._T.cm=function(e){var A=0;
for(var c=0;c<e.length;c++)A+=e[c]*e[c];return Math.sqrt(A)};j.mV={};j.mV.uy=function(e){var A=~~(e+.5);
return A<0?0:A>255?255:A};j.mV.transform=function(e,A,a){var p=j.mV.uy,N=e.o.length;for(var c=0;c<N;
c++){var i=e.o[c],Z=e.J[c],s=e.k[c];A.o[c]=p(a[0]*i+a[1]*Z+a[2]*s+a[3]*255);A.J[c]=p(a[4]*i+a[5]*Z+a[6]*s+a[7]*255);
A.k[c]=p(a[8]*i+a[9]*Z+a[10]*s+a[11]*255)}};j.mV.q8=function(e,A,a){var p=j.mV.uy,N=e.length;for(var c=0;
c<N;c+=4){var i=e[c],Z=e[c+1],s=e[c+2];A[c]=p(a[0]*i+a[1]*Z+a[2]*s+a[3]*255);A[c+1]=p(a[4]*i+a[5]*Z+a[6]*s+a[7]*255);
A[c+2]=p(a[8]*i+a[9]*Z+a[10]*s+a[11]*255)}};j.mV.oE=function(e){var A=e[0]+e[1]+e[2],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(A==1){var p=e.indexOf(1);a[p]=a[p+4]=a[p+8]=1}else{a[0]=e[0];a[5]=e[1];a[10]=e[2]}return a};j.mV.Nw=function(e,A,a){return[1,0,0,e,0,1,0,A,0,0,1,a,0,0,0,1]};
j.mV.cD=function(e,A,a){return[e,0,0,0,0,A,0,0,0,0,a,0,0,0,0,1]};j.mV.aea=function(e){return[e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]]};
j.mV.HZ=function(e){return[e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1]};j.mV._f=function(e,A){return[e[0]*A[0]+e[1]*A[1]+e[2]*A[2]+e[3]*A[3],e[4]*A[0]+e[5]*A[1]+e[6]*A[2]+e[7]*A[3],e[8]*A[0]+e[9]*A[1]+e[10]*A[2]+e[11]*A[3],e[12]*A[0]+e[13]*A[1]+e[14]*A[2]+e[15]*A[3]]};
j.mV.d3=function(e){var A=[];A[0]=e[0];A[1]=e[4];A[2]=e[8];A[3]=e[12];A[4]=e[1];A[5]=e[5];A[6]=e[9];
A[7]=e[13];A[8]=e[2];A[9]=e[6];A[10]=e[10];A[11]=e[14];A[12]=e[3];A[13]=e[7];A[14]=e[11];A[15]=e[15];
return A};j.mV.add=function(e,A){var a=e.slice(0);for(var c=0;c<16;c++)a[c]+=A[c];return a};j.mV.multiply=function(e,A){var a=[];
a[0]=e[0]*A[0]+e[1]*A[4]+e[2]*A[8]+e[3]*A[12];a[1]=e[0]*A[1]+e[1]*A[5]+e[2]*A[9]+e[3]*A[13];a[2]=e[0]*A[2]+e[1]*A[6]+e[2]*A[10]+e[3]*A[14];
a[3]=e[0]*A[3]+e[1]*A[7]+e[2]*A[11]+e[3]*A[15];a[4]=e[4]*A[0]+e[5]*A[4]+e[6]*A[8]+e[7]*A[12];a[5]=e[4]*A[1]+e[5]*A[5]+e[6]*A[9]+e[7]*A[13];
a[6]=e[4]*A[2]+e[5]*A[6]+e[6]*A[10]+e[7]*A[14];a[7]=e[4]*A[3]+e[5]*A[7]+e[6]*A[11]+e[7]*A[15];a[8]=e[8]*A[0]+e[9]*A[4]+e[10]*A[8]+e[11]*A[12];
a[9]=e[8]*A[1]+e[9]*A[5]+e[10]*A[9]+e[11]*A[13];a[10]=e[8]*A[2]+e[9]*A[6]+e[10]*A[10]+e[11]*A[14];a[11]=e[8]*A[3]+e[9]*A[7]+e[10]*A[11]+e[11]*A[15];
a[12]=e[12]*A[0]+e[13]*A[4]+e[14]*A[8]+e[15]*A[12];a[13]=e[12]*A[1]+e[13]*A[5]+e[14]*A[9]+e[15]*A[13];
a[14]=e[12]*A[2]+e[13]*A[6]+e[14]*A[10]+e[15]*A[14];a[15]=e[12]*A[3]+e[13]*A[7]+e[14]*A[11]+e[15]*A[15];
return a};j.mV.rQ=function(e){var A=[];A[0]=e[5]*e[10]*e[15]-e[5]*e[14]*e[11]-e[6]*e[9]*e[15]+e[6]*e[13]*e[11]+e[7]*e[9]*e[14]-e[7]*e[13]*e[10];
A[1]=-e[1]*e[10]*e[15]+e[1]*e[14]*e[11]+e[2]*e[9]*e[15]-e[2]*e[13]*e[11]-e[3]*e[9]*e[14]+e[3]*e[13]*e[10];
A[2]=e[1]*e[6]*e[15]-e[1]*e[14]*e[7]-e[2]*e[5]*e[15]+e[2]*e[13]*e[7]+e[3]*e[5]*e[14]-e[3]*e[13]*e[6];
A[3]=-e[1]*e[6]*e[11]+e[1]*e[10]*e[7]+e[2]*e[5]*e[11]-e[2]*e[9]*e[7]-e[3]*e[5]*e[10]+e[3]*e[9]*e[6];
A[4]=-e[4]*e[10]*e[15]+e[4]*e[14]*e[11]+e[6]*e[8]*e[15]-e[6]*e[12]*e[11]-e[7]*e[8]*e[14]+e[7]*e[12]*e[10];
A[5]=e[0]*e[10]*e[15]-e[0]*e[14]*e[11]-e[2]*e[8]*e[15]+e[2]*e[12]*e[11]+e[3]*e[8]*e[14]-e[3]*e[12]*e[10];
A[6]=-e[0]*e[6]*e[15]+e[0]*e[14]*e[7]+e[2]*e[4]*e[15]-e[2]*e[12]*e[7]-e[3]*e[4]*e[14]+e[3]*e[12]*e[6];
A[7]=e[0]*e[6]*e[11]-e[0]*e[10]*e[7]-e[2]*e[4]*e[11]+e[2]*e[8]*e[7]+e[3]*e[4]*e[10]-e[3]*e[8]*e[6];A[8]=e[4]*e[9]*e[15]-e[4]*e[13]*e[11]-e[5]*e[8]*e[15]+e[5]*e[12]*e[11]+e[7]*e[8]*e[13]-e[7]*e[12]*e[9];
A[9]=-e[0]*e[9]*e[15]+e[0]*e[13]*e[11]+e[1]*e[8]*e[15]-e[1]*e[12]*e[11]-e[3]*e[8]*e[13]+e[3]*e[12]*e[9];
A[10]=e[0]*e[5]*e[15]-e[0]*e[13]*e[7]-e[1]*e[4]*e[15]+e[1]*e[12]*e[7]+e[3]*e[4]*e[13]-e[3]*e[12]*e[5];
A[11]=-e[0]*e[5]*e[11]+e[0]*e[9]*e[7]+e[1]*e[4]*e[11]-e[1]*e[8]*e[7]-e[3]*e[4]*e[9]+e[3]*e[8]*e[5];A[12]=-e[4]*e[9]*e[14]+e[4]*e[13]*e[10]+e[5]*e[8]*e[14]-e[5]*e[12]*e[10]-e[6]*e[8]*e[13]+e[6]*e[12]*e[9];
A[13]=e[0]*e[9]*e[14]-e[0]*e[13]*e[10]-e[1]*e[8]*e[14]+e[1]*e[12]*e[10]+e[2]*e[8]*e[13]-e[2]*e[12]*e[9];
A[14]=-e[0]*e[5]*e[14]+e[0]*e[13]*e[6]+e[1]*e[4]*e[14]-e[1]*e[12]*e[6]-e[2]*e[4]*e[13]+e[2]*e[12]*e[5];
A[15]=e[0]*e[5]*e[10]-e[0]*e[9]*e[6]-e[1]*e[4]*e[10]+e[1]*e[8]*e[6]+e[2]*e[4]*e[9]-e[2]*e[8]*e[5];var a=e[0]*A[0]+e[1]*A[4]+e[2]*A[8]+e[3]*A[12];
for(var c=0;c<16;c++)A[c]/=a;return A};j.mV.a2c=function(e){var A=[],a=e[5]*e[10]*e[15]-e[5]*e[14]*e[11]-e[6]*e[9]*e[15]+e[6]*e[13]*e[11]+e[7]*e[9]*e[14]-e[7]*e[13]*e[10],p=-e[4]*e[10]*e[15]+e[4]*e[14]*e[11]+e[6]*e[8]*e[15]-e[6]*e[12]*e[11]-e[7]*e[8]*e[14]+e[7]*e[12]*e[10],N=e[4]*e[9]*e[15]-e[4]*e[13]*e[11]-e[5]*e[8]*e[15]+e[5]*e[12]*e[11]+e[7]*e[8]*e[13]-e[7]*e[12]*e[9],i=-e[4]*e[9]*e[14]+e[4]*e[13]*e[10]+e[5]*e[8]*e[14]-e[5]*e[12]*e[10]-e[6]*e[8]*e[13]+e[6]*e[12]*e[9];
return e[0]*a+e[1]*p+e[2]*N+e[3]*i};j.mV.azX=function(e,A,a,p){var N=Math.sin(p),i=Math.cos(p),Z=1/Math.sqrt(e*e+A*A+a*a);
e*=Z;A*=Z;a*=Z;return j.mV.HZ([e*e*(1-i)+i,e*A*(1-i)-a*N,e*a*(1-i)+A*N,e*A*(1-i)+a*N,A*A*(1-i)+i,A*a*(1-i)-e*N,e*a*(1-i)-A*N,A*a*(1-i)+e*N,a*a*(1-i)+i])};
j.mV.cy=j.mV.HZ([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
j.mV.agP=j.mV.HZ([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
j.mV.Lm=j.mV.rQ(j.mV.cy);j.rd={};j.rd.J2=new Uint32Array(1);j.rd.hQ=function(e,A,a,p,N,i){var Z=new Uint32Array(e),s=0,D=j.rd.J2;
if(D.length<A*4)j.rd.J2=D=new Uint32Array(A*4);var n=new Float64Array(D.buffer);for(var c=0;c<A;c+=2){var S=N[c],F=N[c+1],$=i[c],m=i[c+1];
D[s]=F;n[s+2>>1]=$;D[s+1]=Z[S];Z[S]=s+1;s+=4;D[s]=S;n[s+2>>1]=m;D[s+1]=Z[F];Z[F]=s+1;s+=4}return{yo:D,apY:n,ada:Z}};
j.rd.a2=function(e,A,a,p,N,i,Z){var s=1,D=j.rd.hQ(e,A,a,p,N,i),n=D.yo,S=D.apY,F=D.ada,$=new Uint32Array(e),m=new j.rd._V(e),w=1,M=0;
m.push(a);m.push(p);var J=new j.rd._V(e),f=new Uint8Array(e),b=new Uint32Array(e);f[a]=1;f[p]=2;var L=new Uint32Array(e),C=new Uint32Array(e);
C[a]=C[p]=0;L[a]=L[p]=1;while(!0){var y=-1,R=0,U=1e30;while(!m.Go()&&y==-1){var Q=m.top(),k=f[Q],E=F[Q]-1;
while(E!=-1){var _=n[E],v=f[_],V=E^k-1<<2;if(S[V+2>>1]!=0){if(v==0){j.rd.Xd(Q,E,_,f,b,C,L);m.push(_)}else if(v==k&&L[_]<=L[Q]&&C[_]>C[Q])j.rd.Xd(Q,E,_,f,b,C,L);
else if(v!=k){y=V}}E=n[E+1]-1}if(y!=-1)break;m.pop()}if(y==-1){break}w++;var h=y;while(h!=-1){$[R]=h;
R++;h=b[n[h^4]]-1}var P=R>>1;for(var c=0;c<P;c++){var H=$[c];$[c]=$[R-c-1];$[R-c-1]=H}h=b[n[y]]-1;while(h!=-1){$[R]=h^4;
R++;h=b[n[h^4]]-1}for(var c=0;c<R;c++)U=Math.min(U,S[$[c]+2>>1]);M+=U;if(M>=Z)return{xn:null,oF:M};for(var c=0;
c<R;c++){var X=$[c],x=X^4,Q=n[x],_=n[X];S[X+2>>1]-=U;S[x+2>>1]+=U;if(S[X+2>>1]==0&&f[Q]==f[_]){if(f[Q]==1){b[_]=0;
J.push(_)}if(f[Q]==2){b[Q]=0;J.push(Q)}}}while(!J.Go()){var Q=J.pop(),k=f[Q],E=F[Q]-1,K=k==1?4:0,T=0,I=0,o=1e9;
while(E!=-1){var _=n[E],l=E^4,V=E^K;if(f[_]==k&&S[V+2>>1]>0&&j.rd.a7E(_,a,p,b,n,w,L,C)+1<o){T=_;I=l;
o=C[_]+1}E=n[E+1]-1}if(I!=0){j.rd.Xd(T,I,Q,f,b,C,L);continue}E=F[Q]-1;while(E!=-1){var _=n[E],V=E^K;
if(f[_]==k){if(S[V+2>>1]>0){m.push(_)}if(b[_]==E+1){b[_]=0;J.push(_)}}E=n[E+1]-1}f[Q]=0;m.remove(Q)}}var O=[];
for(var c=0;c<A;c+=2){var Q=N[c],_=N[c+1];if(f[Q]==1&&f[_]!=1){O.push(c>>1)}if(f[_]==1&&f[Q]!=1){O.push(A+c>>1)}}return{xn:O,oF:M}};
j.rd.Xd=function(e,A,a,p,N,i,Z){p[a]=p[e];N[a]=A+1;i[a]=i[e]+1;Z[a]=Z[e]};j.rd.a7E=function(e,A,a,p,N,i,Z,s){var D=e,n=p[e]-1,S=0;
while(n!=-1&&Z[e]!=i){e=N[n^4];n=p[e]-1;S++}if(n==-1&&e!=A&&e!=a)return 1e9;var F=s[e]+S;S=0;n=p[D]-1;
while(D!=e){s[D]=F-S;S++;Z[D]=i;D=N[n^4];n=p[D]-1}return F};j.rd.aik=function(e,A,a,p,N,i){var Z=j.rd.hQ(e,A,a,p,N,i),s=Z.yo,D=Z.apY,n=Z.ada,S=0,F=0,$=new Uint32Array(e*2),m=new j.rd.jK(e),J=0;
while(!0){m.reset();m.push(a);for(var c=0;c<e;c++)$[c<<1]=0;while(!m.Go()){var w=m.pop(),f=n[w]-1;while(f!=-1){J=s[f];
if($[J<<1]==0&&D[f+2>>1]>0&&J!=a){$[J<<1]=w+1;$[(J<<1)+1]=f;m.push(J)}f=s[f+1]-1}if($[p<<1]!=0){break}}if($[p<<1]==0){break}var b=1e30;
J=p;while(!0){var L=$[J<<1]-1;if(L==-1)break;var C=$[(J<<1)+1];b=Math.min(b,D[C+2>>1]);J=L}J=p;while(!0){var L=$[J<<1]-1;
if(L==-1)break;var C=$[(J<<1)+1],M=C^4;D[C+2>>1]-=b;D[M+2>>1]+=b;J=L}S+=b}var y=[];for(var c=0;c<A;c+=2){var L=N[c],J=N[c+1];
if(($[L<<1]!=0||L==a)&&$[J<<1]==0&&J!=a){y.push(c>>1)}if(($[J<<1]!=0||J==a)&&$[L<<1]==0&&L!=a){y.push(A+c>>1)}}return{xn:y,oF:S}};
j.rd.jK=function(e){e|=e>>1;e|=e>>2;e|=e>>4;e|=e>>8;e|=e>>16;this.QQ=new Uint32Array(e+1);this.oX=e;
this.BZ=0;this.tw=0};j.rd.jK.prototype={push:function(e){var A=this.tw;this.QQ[A]=e;this.tw=A+1&this.oX},pop:function(){var e=this.BZ,A=this.QQ[e];
this.BZ=e+1&this.oX;return A},Go:function(){return this.BZ==this.tw},reset:function(){this.BZ=0;this.tw=0}};
j.rd._V=function(e){e|=e>>1;e|=e>>2;e|=e>>4;e|=e>>8;e|=e>>16;this.QQ=new Uint32Array(e+1);this.go=new Uint32Array(e+1);
this.oX=e;this.BZ=0;this.tw=0};j.rd._V.prototype={top:function(){return this.QQ[this.BZ]},a6s:function(){return this.QQ[this.tw]},push:function(e){if(this.go[e]!=0)return;
this.go[e]=this.tw+1;var A=this.tw;this.QQ[A]=e;this.tw=A+1&this.oX},pop:function(){var e=this.BZ,A=this.QQ[e];
this.go[A]=0;this.BZ=e+1&this.oX;return A},Go:function(){return this.BZ==this.tw},remove:function(e){var A=this.go[e]-1;
if(A==-1)return;this.go[e]=0;if(A==this.BZ){this.pop();return}var a=this.pop();this.QQ[A]=a;this.go[a]=A+1},f9:function(c){return c+this.oX+1&this.oX}};
j.rd.ih=function(e,A,a){var p=j.rd.yr(e,A,a);if(A<p-1)j.rd.ih(e,A,p-1);if(p<a)j.rd.ih(e,p,a)};j.rd.yr=function(e,A,a){var p=e[A+a>>>1];
while(A<=a){while(e[A]<p)A++;while(e[a]>p)a--;if(A<=a){j.rd.gf(e,A,a);A++;a--}}return A};j.rd.gf=function(e,A,a){var p=e[A];
e[A]=e[a];e[a]=p};j.t8=function(){var e,A;function a(Z,s,iM){var D=iM-1,n=s+iM;e[iM-2]=Z[n-2];A[0]=Z[n-1];
var S=Math.max;for(var c=1;c<D;c++){e[iM-2-c]=S(e[iM-1-c],Z[n-2-c]);A[c]=S(A[c-1],Z[n-1+c])}for(var c=0;
c<D;c++)Z[s+c]=S(e[c],A[c])}function p(Z,s,iM){var D=iM-1,n=Math.ceil(s/D)*D;for(var S=0;S<n;S+=D)a(Z,S,iM)}function N(Z,s,D,n,iM,S){s.set(Z);
if(iM==1)return;e=j.Q(iM-1);A=j.Q(iM-1);var F=iM>>>1,$=j.Q(Math.ceil(Math.max(D,n)/(iM-1))*(iM-1)+(iM-2)),m=new Uint8Array($.buffer,0,D);
if(!S)j.rQ(s);for(var J=0;J<n;J++){$.fill(0);$.set(new Uint8Array(s.buffer,J*D,D),F);p($,D,iM);s.set(m,J*D)}for(var w=0;
w<D;w++){$.fill(0);for(var J=0;J<n;J++)$[J+F]=s[J*D+w];p($,n,iM);for(var J=0;J<n;J++)s[J*D+w]=$[J]}if(!S)j.rQ(s)}function i(Z,s,D,n,iM,S){var F=j.Q(D*n);
for(var $=0;$<4;$++){j.kI(Z,F,$);if($==3)j.rQ(F);N(F,F,D,n,iM,S);if($==3)j.rQ(F);j.Ao(F,s,$)}}return{H1:N,avm:i}}();
j.X={};j.X.GB=function(e){for(var c=0;c<e.length;c++)j.X.T7(e,c)};j.X.T7=function(e,c){e[c].v.keyShapeInvalidated={t:"bool",v:!0}};
j.X.ab9=function(e){for(var c=0;c<e.length;c++)e[c].v.keyOriginIndex.v=c};j.X.ou=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
j.X.jt=function(e){e=e.v;var A={Rctn:2,Ln:4,Elps:5},a=A[e.classID],p=e.topLeft?j.X.yT(e):null,N=null,i=0,Z=[!1,!1,0,0,0];
if(a==4){var s=e.Strt.v,D=e.End.v;N=[s.Hrzn.v.val,s.Vrtc.v.val,D.Hrzn.v.val,D.Vrtc.v.val];i=e.Wdth.v.val;
for(var c=0;c<2;c++){var n=e[c==0?"StrA":"EndA"];if(n==null)continue;n=n.v;Z[c]=n.On.v;Z[2]=n.Wdth.v;
Z[3]=n.Lngt.v;Z[4]=n.Cncv.v.val}}if(a==null)return null;return j.X.US(a,a==4?null:j.X.hr(e),p,N,i,Z)};
j.X.Qu=function(e,A,a,p,N,i,Z){var s={classID:e,unitValueQuadVersion:{t:"long",v:1}};if(A)j.X.tq(s,["Left","Top","Rght","Btom"],A);
if(a)j.X.tq(s,["topLeft","topRight","bottomRight","bottomLeft"],a);if(e=="Ln"){s.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:p[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:p[1]}}}},s.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:p[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:p[3]}}}},s.Wdth={t:"UntF",v:{type:"#Pxl",val:N}};
for(var c=0;c<2;c++){var D=c==0?"StrA":"EndA";s[D]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:Z[c]},Wdth:{t:"doub",v:Z[2]},Lngt:{t:"doub",v:Z[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:Z[4]}}}}}}if(i)s.Nm={t:"TEXT",v:i};
return{t:"Objc",v:s}};j.X.ze=function(e,A){var a=j.X.IC(e),p=e[2]-e[0],N=e[3]-e[1],i=Math.sqrt(p*p+N*N),Z=[0,0,i,0,i,A,0,A],s=new bj;
s.rotate(-a);s.translate(e[0],e[1]);j.p.D(Z,s,Z);return Z};j.X.US=function(e,A,a,p,N,i){var Z=j.X.ou(),s=Z.v,D;
delete s.keyShapeInvalidated;s.keyOriginType={t:"long",v:e};s.keyOriginResolution={t:"doub",v:75};if(e==4){s.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:p[0]},Vrtc:{t:"doub",v:p[1]}}};
s.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:p[2]},Vrtc:{t:"doub",v:p[3]}}};D=j.X.ze(p,N);
var n=j.p.i9(D);A=[n.x,n.y,n.x+n.m,n.y+n.n];s.keyOriginLineWeight={t:"doub",v:N};if(i)j.X.atq(s,i)}else D=[A[0],A[1],A[2],A[1],A[2],A[3],A[0],A[3]];
s.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};j.X.UD(s,"keyOriginBoxCorners",D);var S={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
s.keyOriginShapeBBox={t:"Objc",v:S};j.X.IV(s,A);if(a!=null){var F={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
s.keyOriginRRectRadii={t:"Objc",v:F};j.X.Ko(s,a)}return Z};j.X.D=function(e,A,a,p){var N=j.K.lR(A),i=j.K.S3(A),Z=j.K.Gr(A),s=Z.gg*Z.pU-Z.k*Z.b9;
for(var c=0;c<e.length;c++){var D=e[c].v;if(!j.X.H2(D))continue;if(a.length!=0&&a.indexOf(c)==-1)continue;
var n=D.keyOriginType.v,S=A;if(s<0&&n==2){var F=j.X.q1(D),$=0;$=F[0];F[0]=F[1];F[1]=$;$=F[2];F[2]=F[3];
F[3]=$;j.X.Ko(D,F);var m=j.X.Nf(D,"keyOriginBoxCorners"),J=j.p.i9(m),w=J.x+J.m/2,f=new bj;f.translate(-w,0);
f.scale(-1,1);f.translate(w,0);S=j.K._n(S,j.K.s1(f))}var b=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var L=0;L<b.length;L++){var m=j.X.Nf(D,b[L]);if(m==null)continue;j.K.D(S,m);j.X.UD(D,b[L],m);var J=j.p.i9(m);
j.X.IV(D,[J.x,J.y,J.x+J.m,J.y+J.n]);var C=new bj;C.rotate(-j.X.IC(m));var y={classID:"Trnf"};D.Trnf={t:"Objc",v:y};
var Q="xx xy yx yy tx ty".split(" "),k=[C.gg,C.k,C.b9,C.pU,C.Co,C.dW];for(var E=0;E<6;E++)y[Q[E]]={t:"doub",v:k[E]}}if(n==2&&p){var F=j.X.q1(D);
for(var L=0;L<4;L++)F[L]=Math.round(F[L]*A[0]);j.X.Ko(D,F)}var m=j.X.Nf(D,"keyOriginBoxCorners"),_=m[2]-m[0],v=m[3]-m[1],V=Math.sqrt(_*_+v*v);
_/=V;v/=V;var R=m[6]-m[0],h=m[7]-m[1],P=Math.sqrt(R*R+h*h);R/=P;h/=P;if(n==4){D.keyOriginLineWeight.v=P;
var H=j.X.GK(D);j.K.D(A,H);j.X.a7U(D,H)}var U=_*R+v*h;if(Math.abs(U)>.001){j.X.T7(e,c)}}};j.X.H2=function(e){var A=e.keyShapeInvalidated,a=e.keyOriginType;
return(A==null||!A.v)&&a!=null&&a.v!=9};j.X.aol=function(e){var A=e.keyOriginType.v,a=j.X.Ic(e),p=a[0],N=a[1],i=a[2],Z=a[3],s=new bj,D=e.keyOriginPolyCornerRadius,m;
D=D?D.v:0;var n=j.X.Nf(e,A==7||A==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),S=j.X.aF(n),F=S[2],$=S[3];
p=-F/2;i=F/2;N=-$/2;Z=$/2;s.rotate(-j.X.IC(n));s.Co=S[0];s.dW=S[1];if(A==1||A==2){var J=A==1?0:j.X.q1(e);
m=j.r.Qa.Rect(p,N,i-p,Z-N,J)}else if(A==4){var w=j.X.GK(e),f=j.X.ak_(e);s=new bj;if(f==null)m=j.r.Qa._e(w[0],w[1],w[2],w[3],e.keyOriginLineWeight.v);
else m=j.r.Qa.Wg(w[0],w[1],w[2],w[3],e.keyOriginLineWeight.v,f)}else if(A==5){m=j.r.Qa.CH(p,N,i-p,Z-N)}else if(A==7||A==8){var b=A==7?3:e.keyOriginPolySides.v;
m=j.r.Qa.et(0,0,100,Math.PI/b-Math.PI/2,b,D,i,Z)}j.r.nM(m,s);return m};j.X.MB=function(e,A){var a=A.i;
for(var c=0;c<e.length;c++){var p=e[c].v;if(!j.X.H2(p))continue;var N=j.X.aol(p),i=j.r.VS(a,c),Z=j.r.N9(a,c);
N[2].kR=a[i].kR;var s=a;a=a.slice(0,i);for(var D=2;D<N.length;D++)a.push(N[D]);for(var D=i+Z;D<s.length;
D++)a.push(s[D])}A.i=a;A.zv=!0};j.X.wK=function(e){var A=1e9,a=-A,p=1e9,N=-p,i=[],Z=e.sz(),s=Z[0],D=Z[1];
for(var n=0;n<D.length;n++){var S=s[D[n]],F=S.add.vogk;if(F==null)continue;var $=S.add.vmsk.g;for(var m=0;
m<F.length;m++){var J=F[m].v,b=0;if(!j.X.H2(J))continue;if(D.length==1&&$.length!=0&&$.indexOf(m)==-1)continue;
var w=J.keyOriginType.v;if(w==9)continue;var f=j.X.Ic(J);A=Math.min(A,f[0]);p=Math.min(p,f[1]);a=Math.max(a,f[2]);
N=Math.max(N,f[3]);var L=j.X.Nf(J,"keyOriginBoxCorners");if(L){var C=j.X.aF(L),M=C[2],y=C[3];f[2]=f[0]+M;
f[3]=f[1]+y;b=j.X.IC(L)}var Q=[w,f,b];i.push(Q);if(w==2)Q.push(j.X.q1(J));if(w==7||w==8)Q.push(J.keyOriginPolyCornerRadius.v);
if(w==8)Q.push(J.keyOriginPolySides.v)}}return i.length==1?i[0]:[0,A<a?[A,p,a,N]:null,0]};j.X.IC=function(e){var A=e[2]-e[0],a=e[3]-e[1];
return-Math.atan2(-a,A)};j.X.wG=function(e){var A=j.X.Ic(e);return j.X.IC(A)};j.X.auK=function(e,A,a){var p=j.X.wK(e),N=-1;
for(var c=0;c<A.length;c++)if(JSON.stringify(A[c])!=JSON.stringify(p[c]))N=c;if(N==1||N==2){}var i=e.sz(),Z=i[0],s=i[1];
for(var D=0;D<s.length;D++){var n=Z[s[D]],S=n.add.vogk;if(S==null)continue;var F=n.add.vmsk.g;for(var $=0;
$<S.length;$++){var m=S[$].v;if(!j.X.H2(m))continue;if(s.length==1&&F.length!=0&&F.indexOf($)==-1)continue;
var J=m.keyOriginType.v;if(N==1||N==2){j.X.D(S,j.X.acd(N,m,p,A),F,!1);break}if(N==3)if(J==2)j.X.Ko(m,A[3]);
else m.keyOriginPolyCornerRadius.v=A[3];if(N==4)m.keyOriginPolySides.v=A[4];if(a)j.X.T7(S,$)}}};j.X.acd=function(e,A,a,p){var N=p[1],i=a[1],Z=(N[2]-N[0])/(i[2]-i[0]),s=(N[3]-N[1])/(i[3]-i[1]),D=new bj;
if(e==1){if(Math.max(Math.abs(Z-1),Math.abs(s-1))>1e-8){var n=N[0],S=N[1];if(p[0]!=0){var F=j.X.Nf(A,"keyOriginBoxCorners");
n=F[0];S=F[1]}D.translate(-n,-S);D.rotate(p[2]);D.scale(Z,s);D.rotate(-p[2]);D.translate(n,S)}else{D.translate(-i[0],-i[1]);
D.translate(N[0],N[1])}}else{if(p[0]!=0)N=j.X.Ic(A);var n=(N[0]+N[2])/2,S=(N[1]+N[3])/2;D.translate(-n,-S);
if(a[0]!=0)D.rotate(a[2]);D.rotate(-p[2]);D.translate(n,S)}return j.K.s1(D)};j.X.aF=function(e){var A=e[0],a=e[1],p=e[2],N=e[3],i=e[4],Z=e[5],s=e[6],D=e[7],n=p-A,S=N-a,F=Math.sqrt(n*n+S*S),n=i-p,S=Z-N,$=Math.sqrt(n*n+S*S);
return[(A+i)/2,(a+Z)/2,F,$]};j.X.Nf=function(e,A){var a=e[A];if(a==null)return null;var p=[];a=a.v;for(var N=0;
N<4;N++){var i=a["rectangleCorner"+["A","B","C","D"][N]].v;p.push(i.Hrzn.v,i.Vrtc.v)}return p};j.X.UD=function(e,A,a){var p=e[A];
if(p==null)return null;p=p.v;for(var N=0;N<4;N++){var i="rectangleCorner"+["A","B","C","D"][N];p[i]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:a[2*N]},Vrtc:{t:"doub",v:a[2*N+1]}}}}};
j.X.Ic=function(e){return j.X.hr(e.keyOriginShapeBBox.v)};j.X.hr=function(e){var A=e.classID,a=e.Left.v,p=e.Rght.v,N=e.Top.v,i=e.Btom.v;
if(a.val!=null){a=a.val;p=p.val;N=N.val;i=i.val}return[a,N,p,i]};j.X.IV=function(e,A){j.X.tq(e.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],A)};
j.X.q1=function(e){var A=e.keyOriginRRectRadii;if(A==null)return[0,0,0,0];return j.X.yT(A.v)};j.X.yT=function(e){var A=[],a=["topLeft","topRight","bottomRight","bottomLeft"];
for(var p=0;p<4;p++)A.push(e[a[p]].v.val);return A};j.X.Ko=function(e,A){j.X.tq(e.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],A)};
j.X.tq=function(e,A,a){var p=e.classID;if(p=="unitRect"||p=="radii"||p=="Rctn"){for(var c=0;c<4;c++)if(a[c]!=null)e[A[c]]={t:"UntF",v:{type:"#Pxl",val:a[c]}}}else{for(var c=0;
c<4;c++)if(a[c]!=null)e[A[c]]={t:"doub",v:a[c]}}};j.X.GK=function(e){var A=e.keyOriginLineStart.v,a=e.keyOriginLineEnd.v;
return[A.Hrzn.v,A.Vrtc.v,a.Hrzn.v,a.Vrtc.v]};j.X.a7U=function(e,A){var a=e.keyOriginLineStart.v,p=e.keyOriginLineEnd.v;
a.Hrzn.v=A[0];a.Vrtc.v=A[1];p.Hrzn.v=A[2];p.Vrtc.v=A[3]};j.X.ak_=function(e){var A=[],a=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var c=0;c<5;c++){var p=e["keyOriginLineArr"+a[c]];if(p==null)return null;A[c]=p.v}return A};j.X.atq=function(e,A){e.keyOriginLineArrowSt={t:"bool",v:A[0]};
e.keyOriginLineArrowEnd={t:"bool",v:A[1]};e.keyOriginLineArrWdth={t:"doub",v:A[2]};e.keyOriginLineArrLngth={t:"doub",v:A[3]};
e.keyOriginLineArrConc={t:"long",v:A[4]}};j.X.ayV=function(e){function A(k,E){return Math.abs(k-E)<.5}function a(k,E){return A(k.x,E.x)&&A(k.y,E.y)}function p(k,E,_,v,V,R,h){for(var c=0;
c<h;c++){var P=k[E+(_+c)%h],H=v[V+(R+c)%h];if(!(a(P.H,H.H)&&a(P.x3,H.x3)&&a(P.iD,H.iD)))return!1}return!0}var N=[],i=j.r.yP(e);
for(var Z=0;Z<i;Z++){var s=null,D=j.r.VS(e,Z),n=e[D];if(n.length==4||n.length==8){var S=j.r.sM(e.slice(0,2).concat(e.slice(D,D+n.length+1)));
D=2;if(n.length==4){var F=j.r.OE(S,D+1,4),J=F.x,w=F.y,f=J+F.m,b=w+F.n;if(F.O()>4){if(j.r.$F(S.slice(D-2,D+5)))s=j.X.US(2,[J,w,f,b],[0,0,0,0]);
else{var L=-1;for(var c=0;c<4;c++)if(A(S[D+1+c].H.y,b))L=c;if(L!=-1){var C=j.r.Qa.CH(J,w,f-J,b-w),M=p(S,D+1,L,C,3,0,4);
if(M)s=j.X.US(5,[J,w,f,b])}}}}if(n.length==8){var F=j.r.OE(S,D+1,8),J=F.x,w=F.y,f=J+F.m,b=w+F.n;if(F.O()>4){var L=-1;
for(var c=0;c<8;c++)if(A(S[D+1+(c+1&7)].H.y,w)&&A(S[D+1+(c+2&7)].H.y,w))L=c;if(L!=-1){var y=Math.abs(S[D+1+L].H.y-w),Q=[y,y,y,y];
if(y>.5){var C=j.r.Qa.Rect(J,w,f-J,b-w,Q),M=p(S,D+1,L,C,3,0,8);if(M)s=j.X.US(2,[J,w,f,b],Q)}}}}}N.push(s?s:j.X.ou())}return N};
j.p={};j.p.clone=function(e){return{F:e.F.slice(0),w:e.w.slice(0)}};j.p.d_=function(e){if(e.length<6)return!0;
var A=e.length-4;for(var c=0;c<A;c+=2)if(!j.p.ru(e[c],e[c+1],e[c+2],e[c+3],e[c+4],e[c+5]))return!1;if(!j.p.ru(e[A],e[A+1],e[A+2],e[A+3],e[0],e[1]))return!1;
if(!j.p.ru(e[A+2],e[A+3],e[0],e[1],e[2],e[3]))return!1;return!0};j.p.ru=function(e,A,a,p,N,i){return(A-p)*(N-a)+(a-e)*(i-p)>=0};
j.p.C8=function(e){var A={},a=null,p=0,N={M:2,L:2,Q:4,C:6},i="",Z="";for(var c=0;c<e.F.length;c++){var s=e.F[c];
if(s[0]=="#")i=s;else if(s[0]=="X")i="";else if(s[0]=="O"&&s[1]=="-")Z=s;else if(s=="OX")Z="";else{var D=i+Z;
a=A[D];if(a==null)a=A[D]={w:[],F:[]};a.F.push(s);var n=N[s];if(n==null)n=0;for(var S=0;S<n;S++)a.w.push(e.w[p+S]);
p+=n}}return A};j.p.Az=function(e,A,a){var p=e[A]-e[a-2],N=e[A+1]-e[a-1];return p*p+N*N<1e-4};j.p.Hh=function(e,A,a){e=j.p.vb(e);
var p=e.w,N=e.F,i=0,Z="",s=0,D=0,i=0,F=null;for(var c=0;c<N.length;c++){var n=N[c];if(n=="M"){s=p[i];
D=p[i+1];i+=2;Z=n}if(n=="C"){if(Z=="Z"){N.splice(c,0,"M");p.splice(i,0,s,D);c--;continue}i+=6;Z=n}if(n=="Z"){Z=n}}var S=[];
i=0;for(var c=0;c<N.length;c++){var n=N[c];if(n=="M"){F={V6:i,VP:0,L2:!1};S.push(F);i+=2}if(n=="C"){F.VP++;
i+=6}if(n=="Z"&&F!=null){F.L2=!0}}var $=[];for(var c=0;c<S.length;c++)if(S[c].VP!=0)$.push(S[c]);S=$;
for(var c=0;c<S.length;c++){var m=S[c],J=m.V6,w=J+2+m.VP*6,b=0;m.aV=j.p.i9(p,J,w);var f=j.p.Az(p,J,w);
for(var L=0;L<m.VP;L++){var C=J+L*6,M=C+6;b+=(p[M]-p[C])*(p[M+1]+p[C+1])}if(m.VP==2){var y=function(gT,r,G){var Y=1-G;
return Y*Y*Y*gT[r]+3*Y*Y*G*gT[r+2]+3*Y*G*G*gT[r+4]+G*G*G*gT[r+6]},Q=p[J],k=p[J+1],E=p[J+6],_=p[J+7],v=p[J+6],V=p[J+7],R=y(p,J,.5),h=y(p,J+1,.5),P=y(p,J+6,.5),H=y(p,J+7,.5);
b=(R-Q)*(h-k)+(E-R)*(_-h)+(P-E)*(H-_)+(v-P)*(V-H)}if(!f)b+=(p[J]-p[w-2])*(p[J+1]+p[w-1]);m.xp=b<=0}for(var c=0;
c<S.length-1;c++)for(var C=c+1;C<S.length;C++){var U=S[c],X=S[C];if(X.aV.XH(U.aV)){S[c]=X;S[C]=U}}var x=S.length==0?!0:S[0].xp,K=[{type:6},{type:8,all:0}];
for(var c=0;c<S.length;c++){var m=S[c],J=m.V6,w=J+2+m.VP*6,f=j.p.Az(p,J,w);if(m.VP==1)f=!1;var T=m.L2||f?0:3,I=m.xp==x&&!A?1:0;
if(!A&&c!=0){if(S[c-1].aV.XH(m.aV)&&S[c-1].xp!=m.xp)I=0;for(var C=0;C<S.length;C++)if(C!=c&&S[C].aV.XH(m.aV))I=0}K.push({type:T,length:m.VP+(f?0:1),kR:a?1:I,wk:2});
for(var C=0;C<m.VP;C++){var i=J+C*6,o=new k7(p[i],p[i+1]),l=new k7(p[i+2],p[i+3]),O;if(C==0){if(f){O=new k7(p[w-4],p[w-3]);
if(k7.nR(O,o)<1e-5)O=o.clone()}else O=o.clone()}else O=new k7(p[i-2],p[i-1]);K.push({type:T+2,x3:O,H:o,iD:l})}if(!f){var g=new k7(p[w-2],p[w-1]);
K.push({type:T+2,x3:new k7(p[w-4],p[w-3]),H:g,iD:g.clone()})}}for(var C=0;C<K.length;C++){var W=K[C];
if(W.type>5||W.type==0||W.type==3)continue;var d=W.x3.Kx(W.H)||W.iD.Kx(W.iD);if(!d){var U=W.x3.x*(W.H.y-W.iD.y)+W.H.x*(W.iD.y-W.x3.y)+W.iD.x*(W.x3.y-W.H.y);
if(Math.abs(U)<1e-6)d=!0}if(d)W.type--}return K};j.p.ef=function(e,A){var a=j.r.yP(e),p=[];for(var c=2;
c<e.length;c++){var N=e[c].kR;if(N!=null){if(N==2||N==0||N==3||N==-1)p.push(N)}}var i=p.length!=0;if((i||A)&&e.length<15e3&&1<a&&a<200)e=j.r.Gj(e);
var Z=j.p.rh(e);return{cH:Z,r4:i?1:0}};j.p.rh=function(){function e(p,N,i,Z){if(!Z&&p.iD.Kx(p.H)&&N.x3.Kx(N.H)){i.w.push(N.H.x,N.H.y);
i.F.push("L")}else{var s=p.H,D=p.iD,n=N.x3,S=N.H,F=3/2*D.x-1/2*s.x,$=3/2*D.y-1/2*s.y,m=3/2*n.x-1/2*S.x,J=3/2*n.y-1/2*S.y,w=m-F,f=J-$;
if(!Z&&w*w+f*f<.001){i.w.push((F+m)*.5,($+J)*.5,S.x,S.y);i.F.push("Q")}else{i.w.push(D.x,D.y,n.x,n.y,S.x,S.y);
i.F.push("C")}}}function A(p,N,c,i,Z,s){var D=N[c];p.w.push(D.H.x,D.H.y);p.F.push("M");for(var n=c;n<c+i-1;
n++)e(N[n],N[n+1],p,s);if(!Z)e(N[n],N[c],p,s)}function a(p,N){p=j.r.sM(p);if(N==null)N=!1;var i={w:[],F:[]};
for(var c=0;c<p.length;c++){if(p[c].type>5)continue;var Z=p[c].length;if(Z==0)continue;if(c==p.length-1)break;
var s=p[c].type==3;A(i,p,c+1,Z,s,N);if(!s)i.F.push("Z");c+=Z}return i}return a}();j.p.anC=function(e){var A=e.w,a=[],p,N=0;
for(var c=0;c<e.F.length;c++){var i=e.F[c];if(i=="C"){p.push(A[N++],A[N++],A[N++],A[N++],A[N++],A[N++])}else if(i=="Z"){}else{p=[];
if(i!="M"){p.push(i);c++}p.push(A[N++],A[N++]);a.push(p)}}return a};j.p.r5=function(e,A,a,p){if(p==null)p=1e9;
var N=1e9,i=0;for(var c=0;c<e.length;c+=2){var Z=A-e[c],s=a-e[c+1],D=Z*Z+s*s;if(D<N){N=D;i=c>>>1}}return N<p*p?i:-1};
j.p.hB=function(e,A,a,p){for(var c=0;c<e.length;c+=2){var N=e[c],i=e[c+1],Z=A[c],s=A[c+1];a[c]=N+(Z-N)*p;
a[c+1]=i+(s-i)*p}};j.p.D=function(e,A,a){for(var c=0;c<e.length;c+=2){var p=e[c],N=e[c+1];a[c]=p*A.gg+N*A.b9+A.Co;
a[c+1]=p*A.k+N*A.pU+A.dW}};j.p.i9=function(e,A,a){if(A==null)A=0;if(a==null)a=e.length;var p=99999999999,N=-p,i=99999999999,Z=-i;
for(var c=A;c<a;c+=2){var s=e[c],D=e[c+1];p=Math.min(p,s);i=Math.min(i,D);N=Math.max(N,s);Z=Math.max(Z,D)}return new dE(p,i,N-p,Z-i)};
j.p.LS=function(e,A){var a=Math.max(A.x,Math.min(A.x+A.m,e.x)),p=Math.max(A.y,Math.min(A.y+A.n,e.y)),N=e.x-a,i=e.y-p;
return Math.sqrt(N*N+i*i)};j.p.dE=function(e,A){var a=Math.floor,p=Math.ceil;if(A){a=Math.ceil;p=Math.floor}var N=a(e.x),i=p(e.x+e.m),Z=a(e.y),s=p(e.y+e.n);
return new dE(N,Z,i-N,s-Z)};j.p.fX=function(e,A){return j.p.dE(j.p.i9(e),A)};j.p.wt=function(e,A){var a=e.x,p=e.y,N=e.x+e.m,i=e.y+e.n,Z=[a,p,N,p,N,i,a,i];
if(A){var s=A.clone();s.rQ();j.p.D(Z,s,Z)}return{F:["M","L","L","L","Z"],w:Z}};j.p.concat=function(e,A,a){if(a==null)a=new bj;
for(var c=0;c<A.w.length;c+=2){var p=A.w[c],N=A.w[c+1];e.w.push(p*a.gg+N*a.b9+a.Co);e.w.push(p*a.k+N*a.pU+a.dW)}for(var c=0;
c<A.F.length;c++)e.F.push(A.F[c])};j.p.amS=function(e,A,a,p,N){function i($,m,J){return new k7($.x*(1-J)+m.x*J,$.y*(1-J)+m.y*J)}var Z=i(e,A,N),s=i(a,p,N),D=i(A,a,N),n=i(Z,D,N),S=i(D,s,N),F=i(n,S,N);
return[Z,n,F,S,s]};j.p.vb=function(e){var A=e.w,a=[],p=[],N=0,i=0,Z=0,s=0,D=0,n=0,S=0,F=0,$=0,m=0,J=0;
for(var c=0;c<e.F.length;c++){var w=e.F[c];if(w=="M"){i=A[N];Z=A[N+1];N+=2;p.push(w);a.push(i,Z);m=i;
J=Z}else if(w=="C"){s=A[N];D=A[N+1];n=A[N+2];S=A[N+3];F=A[N+4];$=A[N+5];N+=6;p.push(w);a.push(s,D,n,S,F,$);
i=F;Z=$}else if(w=="Q"){s=A[N];D=A[N+1];n=A[N+2];S=A[N+3];N+=4;var f=s-i,b=D-Z,L=n-s,C=S-D;p.push("C");
a.push(i+2/3*f,Z+2/3*b,s+1/3*L,D+1/3*C,n,S);i=n;Z=S}else if(w=="L"){s=A[N];D=A[N+1];N+=2;if(s!=i||D!=Z){p.push("C");
a.push(i,Z,s,D,s,D);i=s;Z=D}}else{if(w=="Z"){i=m;Z=J}p.push(w)}}return{F:p,w:a}};j.p.a1j=function(e){var A=e.w,a=[],p=[],N=0;
for(var c=0;c<e.F.length;c++){var i=e.F[c];if(i=="Q"){var Z=A[N-2],s=A[N-1],D=A[N],n=A[N+1],S=A[N+2],F=A[N+3];
N+=4;var $=D-Z,m=n-s,J=S-D,w=F-n;p.push("C");a.push(Z+2/3*$,s+2/3*m,D+1/3*J,n+1/3*w,S,F)}else{var f=0;
if(i=="M"||i=="L")f=2;else if(i=="C")f=6;for(var b=0;b<f;b++)a.push(A[N+b]);N+=f;p.push(i)}}return{F:p,w:a}};
j.p.iV=function(e,A){var a=e.w,p=[],N=[],i=0,Z=0,s=0,D=0,n=0,S=0,F=0,$=0,m=0;for(var c=0;c<e.F.length;
c++){var J=e.F[c];if(J=="M"){Z=a[i];s=a[i+1];i+=2;N.push(J);p.push(Z,s)}else if(J=="C"){D=a[i];n=a[i+1];
S=a[i+2];F=a[i+3];$=a[i+4];m=a[i+5];i+=6;j.p.VE(Z,s,D,n,S,F,$,m,A,N,p,0);Z=$;s=m}else N.push(J)}return{F:N,w:p}};
j.p.VE=function(e,A,a,p,N,i,Z,s,D,n,S,F){var $=Math.sqrt((Z-e)*(Z-e)+(s-A)*(s-A)),m=Math.sqrt((Z-N)*(Z-N)+(s-i)*(s-i))+Math.sqrt((N-a)*(N-a)+(i-p)*(i-p))+Math.sqrt((a-e)*(a-e)+(p-A)*(p-A)),J=($+m)/2;
if(J<=D){n.push("C");S.push(a,p,N,i,Z,s)}else{var w=0,f=0,b=0,L=0,C=0,M=0,y=0,Q=0,k=0,E=0,_=0,v=0,V=0;
f=(e+a)/2;b=(A+p)/2;L=(a+N)/2;C=(p+i)/2;M=(N+Z)/2;y=(i+s)/2;Q=(f+L)/2;k=(b+C)/2;E=(L+M)/2;_=(C+y)/2;
v=(Q+E)/2;V=(k+_)/2;j.p.VE(e,A,f,b,Q,k,v,V,D,n,S,F+1);j.p.VE(v,V,E,_,M,y,Z,s,D,n,S,F+1)}};j.p.Ka=function(e,A,a,p,N){var i=Date.now(),Z=j.p.ayD(e,A,a);
if(N){console.log("trace polygons",Date.now()-i);i=Date.now()}var s=[];for(var c=0;c<Z.length;c++){var D=Z[c],n=D[0],S=["M"],F=e[n[1]*A+n[0]];
if(n.length>8)n=j.p.ub(n,p,D[1]);if(n.length<=4)continue;for(var $=2;$<n.length;$+=2)S.push("L");S.push("Z");
s.push({path:{w:n,F:S},color:F,parent:-1,aV:j.p.i9(n)})}if(N){console.log("simplify polygons",Date.now()-i);
i=Date.now()}for(var c=1;c<s.length;c++){var m=s[c],J=m.path.w,w=J[0],f=J[1],b=J[2],L=J[3],C=b-w,M=L-f,y=w+.5*C-.001*M,Q=f+.5*M+.001*C;
for(var $=c-1;$>=0;$--){var k=s[$];if(!k.aV.XH(m.aV))continue;if(!dN.K9(k.path.w,y,Q))continue;m.parent=$;
break}}if(N){console.log("checking parents",Date.now()-i);i=Date.now()}return s};j.p.ayD=function(e,A,a){var p=A*a,N=new Uint16Array(A*a),Z=0;
for(var c=0;c<p;c++)N[c]=e[c];var i=new Uint8Array(A*a);i[1*A+1]=i[(a-1)*A+1]=i[1*A+A-1]=i[(a-1)*A+A-1]=1;
for(var s=1;s<a;s++)for(var D=1;D<A;D++){var c=s*A+D,n=N[c-A-1],S=N[c-A],F=N[c-1],$=N[c],m=n==$&&S==F&&n!=S,J=0;
if($<F){Z=$;$=F;F=Z}if(F<S){Z=F;F=S;S=Z}if(S<n){Z=S;S=n;n=Z}if($<F){Z=$;$=F;F=Z}if(F<S){Z=F;F=S;S=Z}if($<F){Z=$;
$=F;F=Z}if(n!=S)J++;if(S!=F)J++;if(F!=$)J++;if($!=n)J++;if(J>=3||m)i[c]=1}var w=[];for(var s=1;s<a;s++)for(var D=1;
D<A;D++){var c=s*A+D;if(N[c]!=N[c-1]){var f=j.p.arp(N,A,a,D,s),b=[];for(var L=0;L<f.length;L+=2)if(i[f[L+1]*A+f[L]]==1)b.push(L>>>1);
w.push([f,b]);j.p.L_(N,A,a,D,s)}}return w};j.p.L_=function(e,A,a,p,N){var i=[N*A+p],Z=e[N*A+p];e[N*A+p]=65535;
while(i.length!=0){var c=i.pop();e[c]=0;if(e[c+A]==Z){i.push(c+A);e[c+A]=65535}if(e[c-A]==Z){i.push(c-A);
e[c-A]=65535}if(e[c-1]==Z){i.push(c-1);e[c-1]=65535}if(e[c+1]==Z){i.push(c+1);e[c+1]=65535}}};j.p.arp=function(e,A,a,p,N){var i=[0,-1,1,0,0,1,-1,0],S=1;
function Z($,m,S){var c=n*A+D,J=0;if(S==0)J=c-A;else if(S==1)J=c;else if(S==2)J=c-1;else if(S==3)J=c-A-1;
return e[J]}var s=[],D=p,n=N,F=Z(D,n,S);do{s.push(D,n);D+=i[S*2];n+=i[S*2+1];if(Z(D,n,S)!=F)S=S+1&3;
else if(Z(D,n,S+3&3)!=F)S=S;else if(Z(D,n,S+2&3)!=F)S=S+3&3}while(D!=p||n!=N);return s};j.p.ub=function(e,A,a){var p=e.length-2;
if(a&&a.length!=0){var N=a[0]*2,i=a[a.length-1]*2,Z=N==0?p:N-2,s=e.slice(i);for(var c=0;c<N;c++)s.push(e[c]);
if(N==i)s.push(.9*e[N]+.1*e[Z],.9*e[N+1]+.1*e[Z+1]);else s.push(e[N],e[N+1]);s=j.p.Rd(s,A);s.pop();s.pop();
for(var c=0;c<a.length-1;c++){var D=e.slice(a[c]*2,a[c+1]*2+2);D=j.p.Rd(D,A);for(var n=0;n<D.length-2;
n++)s.push(D[n])}return s}var S=e.slice(0);S.push(.9*e[0]+.1*e[p],.9*e[1]+.1*e[p+1]);S=j.p.Rd(S,A);S.pop();
S.pop();return S};j.p.Rd=function(e,A){var a=e.length-2,p=e[0],N=e[1],i=e[a],Z=e[a+1],s=i-p,D=Z-N,n=1/Math.sqrt(s*s+D*D),S=i*N-Z*p,F=-1,$=-1,m=0;
for(var c=2;c<a;c+=2){var J=e[c],w=e[c+1],f=w*w*1e6+J*J,b=Math.abs(D*J-s*w+S)*n;if(b>$||b==$&&f>m){$=b;
F=c;m=f}}if($<A)return[p,N,i,Z];var L=j.p.Rd(e.slice(0,F+2),A),C=j.p.Rd(e.slice(F),A);for(var c=2;c<C.length;
c++)L.push(C[c]);return L};j.p.axP=function(){var e=function(p,N,i,Z,s,D){return(N-Z)*(s-i)+(i-p)*(D-Z)>=0},A=function(p,N,i,Z,s,D,n,S){var F=n-i,$=S-Z,m=s-i,J=D-Z,w=p-i,f=N-Z,b=F*F+$*$,L=F*m+$*J,C=F*w+$*f,M=m*m+J*J,y=m*w+J*f,Q=1/(b*M-L*L),k=(M*C-L*y)*Q,E=(b*y-L*C)*Q;
return k>=0&&E>=0&&k+E<1},a=function(p){var iM=p.length>>>1,c=0;if(iM<3)return[];var N=[],i=[];for(var c=0;
c<iM;c++)i.push(c);var Z=iM;while(Z>3){var s=i[(c+0)%Z],D=i[(c+1)%Z],n=i[(c+2)%Z],S=p[2*s],F=p[2*s+1],$=p[2*D],m=p[2*D+1],J=p[2*n],w=p[2*n+1],f=!1;
if(e(S,F,$,m,J,w)){f=!0;for(var b=0;b<Z;b++){var L=i[b];if(L==s||L==D||L==n)continue;if(A(p[2*L],p[2*L+1],S,F,$,m,J,w)){f=!1;
break}}}if(f){N.push(s,D,n);i.splice((c+1)%Z,1);Z--;c=0}else if(c++>3*Z)break}N.push(i[0],i[1],i[2]);
return N};return a}();j.p.awA=function(e,A){var a={},p={F:[],w:[]};for(var c=0;c<A.length;c+=3){var N=A[c]*2,i=A[c+1]*2,Z=A[c+2]*2;
j.p.fS(e,N,i,p,a);j.p.fS(e,N,Z,p,a);j.p.fS(e,i,Z,p,a)}return p};j.p.fS=function(e,A,a,p,N){if(A>a){var i=a;
a=A;A=i}if(N[A+","+a])return;N[A+","+a]=!0;p.F.push("M","L");p.w.push(e[A],e[A+1],e[a],e[a+1])};j.p.ZQ=function(e,A){var a=[],p=e.length;
for(var c=0;c<p;c+=2){var N=e[c],i=e[c+1],Z=e[(c+2)%p],s=e[(c+3)%p];if(s<i){var D=i;i=s;s=D}if(i<A&&A<s){var n=(A-i)/(s-i);
a.push(N+n*(Z-N))}}a.sort(function(S,F){return S-F});return a};j.p.qW=function(e,A,a,p,N,i,Z){var s=e-a,D=A-p,n=N-a,S=i-p,F=1/Math.sqrt(s*s+D*D),$=1/Math.sqrt(n*n+S*S),m=s*F,J=D*F,w=n*$,f=S*$,b=J*Z,L=-m*Z,C=-f*Z,M=w*Z,y=j.p.ox(b,L,m,J,C,M,w,f),Q=b+m*y,k=L+J*y,y=j.p.ox(0,0,m,J,Q,k,-J,m),E=m*y,_=J*y;
return[Math.sqrt(E*E+_*_),m,J,w,f]};j.p.ajk=function(e,A,a,p,N,i,Z){var s=j.p.qW(e,A,a,p,N,i,Z),D=s[0],n=s[1],S=s[2],F=s[3],$=s[4],m=Math.atan2(n*$-S*F,n*F+S*$);
if(m<0){m=m*-1}var J=Math.PI-m,w=4/3*Math.tan(J/4),f=a+D*n,b=p+D*S,L=a+D*F,C=p+D*$,M=f+w*Z*-n,y=b+w*Z*-S,Q=L+w*Z*-F,k=C+w*Z*-$;
return[0,0,f,b,M,y,Q,k,L,C]};j.p.ox=function(e,A,a,p,N,i,Z,s){var D=Z*(A-i)-s*(e-N),n=s*a-Z*p;if(n==0)return 0;
return D/n};j.p.aqL=function(e,A,a,p,N,i){return e*(p-i)+a*(i-A)+N*(A-p)};j.p.pY=function(e){function A(P,H,U,X,x,K,T,I,o){var l=j.p.ox(P,H,U,X,x,K,T,I);
o.push(P+U*l,H+X*l)}var a=[],p=e.length,N=[];for(var c=0;c<p;c+=2){var i=c==0?p-2:c-2,Z=c==p-2?0:c+2,s=e[c],D=e[c+1],n=s-e[i],S=D-e[i+1],F=e[Z]-s,$=e[Z+1]-D,m=Math.sqrt(n*n+S*S),J=Math.sqrt(F*F+$*$);
N.push(J);var w=m/(m+J),f=s-n*.5,b=D-S*.5,L=s+F*.5,C=D+$*.5,M=(e[Z]+e[i])*.5,y=(e[Z+1]+e[i+1])*.5,Q=f+w*(L-f),k=b+w*(C-b),E=s-Q,_=D-k,v=(F*-n+$*-S)/(m*J),V=(w-.5)*7,R=1+V*w,h=1-V*(1-w);
a.push(f+E*R,b+_*R,L+E*h,C+_*h)}return a};j.x5=function(){};j.x5.hb=function(e,A,a,p,N){var i=a.m,Z=a.n,s=i*Z,D=new Int32Array(s),iM=0;
for(var c=0;c<s;c++)if(A[c]!=0){D[c]=iM;iM++}else if(e[(c<<2)+3]<200){D[c]=-2}else D[c]=-1;if(iM==0)return;
var n=new j.wr(iM,iM),S=new Array(3*iM),F=new Array(3*iM);for(var c=0;c<F.length;c++)F[c]=S[c]=0;var $=1/255,m=[-i,-1,1,i],J=[],w=[];
for(var f=0;f<Z;f++)for(var b=0;b<i;b++){var L=f*i+b,C=L<<2,c=D[L],M=c*3,y=0,Q=0,k=0;if(c==-1||c==-2)continue;
for(var E=0;E<4;E++){if(E==2){Q=k;J[k]=0;w[k]=c;k++}var _=L+m[E],v=_<<2,V=D[_];if(E==0&&f==0||E==1&&b==0||E==2&&b==i-1||E==3&&f==Z-1||V==-2)continue;
y++;if(V==-1){S[M+0]+=e[v+0];S[M+1]+=e[v+1];S[M+2]+=e[v+2]}else{J[k]=-1;w[k]=V;k++;if(A[L]==A[_]){S[M+0]+=e[C+0]-e[v+0];
S[M+1]+=e[C+1]-e[v+1];S[M+2]+=e[C+2]-e[v+2]}}}J[Q]=y;n.um(J,w,k)}for(var c=0;c<s;c++)if(D[c]!=-1){var R=c<<2,h=D[c],P=h*3;
F[P]=e[R+0];F[P+1]=e[R+1];F[P+2]=e[R+2]}var H=Date.now();n.amx(F,S,p,N);console.log(Date.now()-H);for(var c=0;
c<s;c++){var h=D[c],U=h*3,R=c<<2;if(h==-1||e[R+3]!=255)continue;e[R+0]=~~(.5+Math.max(0,Math.min(255,F[U+0])));
e[R+1]=~~(.5+Math.max(0,Math.min(255,F[U+1])));e[R+2]=~~(.5+Math.max(0,Math.min(255,F[U+2])))}};j.rect={};
j.rect.Xo=function(e,A){var a=[e],p=[];for(var c=0;c<A.length;c++){var N=A[c],i=!1;for(var Z=c+1;Z<A.length;
Z++){var s=A[Z];if(s[0]<=N[0]&&s[1]<=N[1]&&N[2]<=s[2]&&N[3]<=s[3]){i=!0;break}}if(!i)p.push(N)}A=p;for(var c=0;
c<A.length;c++){var N=A[c];for(var Z=0;Z<a.length;Z++){var s=a[Z],D=Math.max(N[0],s[0]),n=Math.min(N[2],s[2]),S=Math.max(N[1],s[1]),F=Math.min(N[3],s[3]);
if(D<n&&S<F){var $=[];if(s[1]<N[1]){var m=s.slice(0);m[3]=N[1];$.push(m)}if(s[0]<N[0]){var J=s.slice(0);
J[1]=S;J[2]=N[0];$.push(J)}if(N[2]<s[2]){var w=s.slice(0);w[1]=S;w[0]=N[2];$.push(w)}if(N[3]<s[3]){var f=[D,F,n,s[3]];
$.push(f)}if($.length!=0){a[Z]=$[0];for(var b=1;b<$.length;b++)a.push($[b])}}}a.push(N);a=j.rect.ac_(a)}a.sort(function(N,s){return N[1]!=s[1]?N[1]-s[1]:N[0]-s[0]});
for(var c=1;c<a.length;c++){var N=a[c-1],s=a[c];if(N[0]==s[0]&&N[1]==s[1]&&N[2]==s[2]&&N[3]==s[3]){a.splice(N[4]==null?c-1:c,1);
c--}}return a};j.rect.ac_=function(e){e=e.slice(0);for(var c=0;c<e.length;c++){var A=e[c],a=null;if(A[4]!=null)continue;
for(var p=0;p<e.length;p++){var N=e[p];if(c==p||N[4]!=null)continue;var i=A[0]==N[0],Z=A[1]==N[1],s=A[2]==N[2],D=A[3]==N[3];
if(Z&&D&&(A[2]==N[0]||A[0]==N[2])){a=[Math.min(A[0],N[0]),A[1],Math.max(A[2],N[2]),A[3]]}if(i&&s&&(A[3]==N[1]||A[1]==N[3])){a=[A[0],Math.min(A[1],N[1]),A[2],Math.max(A[3],N[3])]}if(a){e[c]=a;
e.splice(p,1);break}}if(a){c--}}return e};j.rect.I6=function(e){var A=new dE;for(var c=0;c<e.length;
c++)A=A.pg(e[c]);return A};j.rect.a9c=function(e,A){var a=j.rect.I6,p=new UnionFind(e.length),Q=1e3,k=1e3;
for(var c=0;c<e.length;c++)for(var N=c+1;N<e.length;N++){if(!A)continue;var i=e[c],Z=e[N],F=1e9,$=1e9;
if(i.CS(Z)){p.link(c,N);continue}var s=i.x+i.m,D=i.y+i.n,n=Z.x+Z.m,S=Z.y+Z.n;if((s<Z.x||n<i.x)&&(D<Z.y||S<i.y))continue;
if(!(D<Z.y||S<i.y))F=Math.min(Math.abs(s-Z.x),Math.abs(i.x-n));if(!(s<Z.x||n<i.x))$=Math.min(Math.abs(D-Z.y),Math.abs(i.y-S));
var m=Math.min(F,$),J=Math.min(i.m,i.n,Z.m,Z.n);if(m<.3*J)p.link(c,N)}var w=[],f={};for(var c=0;c<e.length;
c++){var b=p.find(c),L=e[c];if(f[b]==null){f[b]=w.length;w.push([])}w[f[b]].push(L)}var C=[],M=[];for(var c=0;
c<w.length;c++){C.push(a(w[c]));var y=a(w[c]);y.f9=c;M.push(y)}M.sort(function(X,x){return Math.max(x.n,x.m)-Math.max(X.n,X.m)});
var E=new NETXUS.RectanglePacker(Q,k);while(!0){var _=!1;E.reset(Q,k);for(var c=0;c<M.length;c++){var v=E.findCoords(M[c].m,M[c].n);
if(v){M[c].x=v.x;M[c].y=v.y}else{Q=Math.floor(Q*1.1);k=Math.floor(k*1.1);_=!0;break}}if(_)continue;break}for(var c=0;
c<w.length;c++){var V=M[c],R=V.f9,h=C[R],P=w[R],H=V.x-h.x,U=V.y-h.y;for(var N=0;N<P.length;N++)P[N].offset(H,U)}};
j.qC=function(){};j.qC.xH=Math.floor(16*window.devicePixelRatio);j.qC.uT={};j.qC.kU=0;j.qC.e7=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
j.qC.az9=["px","in","cm","mm","%"];j.qC.Ot=function(e,A,a,p){var N=[1,A,A/2.54,A/25.4,a/100][p];return e*N};
j.qC.an1=function(e,A,a,p){var N=[1,A,A/2.54,A/25.4,a/100][p];return e/N};j.qC.Wa=function(e,A,a,p,N){var i=a.tz.sP,Z=[1,A,A/2.54,A/25.4,p/100][i],s=[2,3,2,1,2][i];
e=e/Z;var D=Math.round(e),n=i==0&&Math.abs(e-D)<1e-6?D+"":e.toFixed(s);if(N)n+=" "+j.qC.az9[i];return n};
j.qC.aw8=function(e,A,a,p){var N=a.tz.sP,i=[1,A,A/2.54,A/25.4,p/100][N];e=parseFloat(e)*i;return e};
j.qC.ao3=function(e,A){var a=e+","+A;if(j.qC.uT.clr==a)return;var p=Math.round(j.qC.xH*.5);j.qC.kU=p;
var N=document.createElement("canvas");N.width=N.height=p;var i=N.getContext("2d");i.font=p*1.5+"px monospace";
var Z="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var c=0;c<Z.length;c++){i.fillStyle="#"+j.yj(A);i.fillRect(0,0,p,p);
i.fillStyle="#"+j.yj(e);i.fillText(Z[c],0,p);j.qC.uT[Z[c]]=i.getImageData(0,0,p,p).data}j.qC.uT.clr=a};
j.qC.ahh=function(e,A,a){var p=0,N=0,i=4*j.qC.xH;for(var c=9;c>=0;c--){var Z=Math.pow(10,c);if(5*Z*e<=i){p=5*Z;
N=10;break}if(2*Z*e<=i){p=2*Z;N=4;break}if(1*Z*e<=i){p=1*Z;N=10;break}}if(p==0){p=1;N=10}var s=Math.ceil(p*e),D=j.Q(s*j.qC.xH*4);
j.fV(D,4278190080|a);for(var c=0;c<j.qC.xH;c++)j.qC._D(D,4*c*s,A);for(var c=0;c<s;c++)j.qC._D(D,4*((j.qC.xH-1)*s+c),A);
if(p==2)N=2;if(p==5)N=5;if(p>1||p==1&&s>20)for(var c=1;c<N;c++)j.qC.a4j(D,c*(s/N),s,(c&1)==1?.8:.7,A);
return{Hi:D,step:p}};j.qC.a4j=function(e,A,a,p,N){var A=Math.round(A);for(var i=Math.round(j.qC.xH*p);
i<j.qC.xH-1;i++)j.qC._D(e,4*(i*a+A),N)};j.qC._D=function(e,A,a){e[A+0]=a>>16&255;e[A+1]=a>>8&255;e[A+2]=a&255};
j.qC.alr=function(e,A,a,p,N,i,Z){var s=e.eL.m,D=e.eL.n,n=j.qC.xH,S=A&255,F=A>>8&255,$=A>>16&255;A=Math.round(S*.6)<<16|Math.round(F*.6)<<8|Math.round($*.6);
j.qC.ao3(Math.round(S*.8)<<16|Math.round(F*.8)<<8|Math.round($*.8),a);var m=e.N,J=e.R,w=e.xj;for(var f=0;
f<2;f++){var b=f==0?i:Z;e.N=b[0];e.R=b[1];e.xj=0;var L=this.ahh(e.N,A,a),C=e.FT(0,0),M=e.FT(s,D),y=Math.floor(C.x/L.step)*L.step,Q=Math.ceil(M.x/L.step)*L.step,k=Math.floor(C.y/L.step)*L.step,E=Math.ceil(M.y/L.step)*L.step,_=e.mc(y,k),v=e.mc(Q,k),V=L.step*e.N,R=Math.ceil(V);
if(f==1){var h=L.Hi;L.Hi=j.Q(h.length*4);j.K.d3(h,L.Hi,R,n)}var P=f==0?e.$G.data:e.ZL.data,H=new dE(0,0,[s,n][f],[n,D][f]),U=new dE(0,0,[R,n][f],[n,R][f]),X=new dE([0,Math.round(n*.2)][f],[Math.round(n*.08),0][f],j.qC.kU,j.qC.kU),x=(f==0?Q-y:E-k)/L.step;
for(var c=0;c<x;c++){if(f==0)U.x=Math.round(_.x+c*V);else U.y=Math.round(_.y+c*V);j._M(L.Hi,U,P,H,U);
var K=(f==0?y+c*L.step:Math.abs(k+c*L.step)).toString(10);for(var T=0;T<K.length;T++){if(f==0)X.x=U.x+3+T*Math.round(j.qC.kU*.8);
else X.y=U.y+3+T*Math.round(j.qC.kU*1.15);var I=j.qC.uT[K[T]];j._M(I,X,P,H,X)}}}e.N=m;e.R=J;e.xj=w;var o=Math.floor(n*.6),l=new Uint32Array(e.$G.data.buffer),O=new Uint32Array(e.ZL.data.buffer),g=S<128?4278190080:4294967295;
if(0<p&&p<s)for(var c=0;c<o;c++)l[c*s+p]=g;if(0<N&&N<D)for(var c=0;c<o;c++)O[N*n+c]=g};j.scale={};j.scale.T=document.createElement("canvas");
j.scale.Ae=j.scale.T.getContext("2d");j.scale.Uq=document.createElement("canvas");j.scale.zB=j.scale.Uq.getContext("2d");
j.scale.h6=function(e,A,a){var p=j.scale.T,N=j.scale.Ae;p.width=A;p.height=a;var i=new ImageData(new Uint8ClampedArray(e.buffer),A,a);
N.putImageData(i,0,0);return N.createPattern(p,"repeat")};j.scale.afT=function(e,A,a,p,N,i,Z,s,D){var n=j.scale.aw0(e,a,p,N,i,Z,s,D).data;
if(A)j.GZ(n,A);return new Uint8Array(n.buffer)};j.scale.aw0=function(e,A,a,p,N,i,Z,s){var D=j.scale.T,n=j.scale.Ae;
D.width=A;D.height=a;n.rect(0,0,A,a);n.translate(i,Z);n.scale(p,N);if(s!=null)n.rotate(-s);n.fillStyle=e;
n.fill();return n.getImageData(0,0,A,a)};j.scale.D=function(e,A,a,p,N){var i=a.k==0&&a.b9==0,Z=N.m,s=N.n,D=j.p.wt(A,a).w,n=j.p.fX(D,i).Yn(N),S=n.x,F=n.y,$=S+n.m,m=F+n.n,J=~~A.x,w=~~A.y,f=~~A.m,b=~~A.n;
if(i)for(var L=F;L<m;L++){var C=a.pU*(L+.5)+a.dW-w,M=~~C*f;for(var y=S;y<$;y++){var Q=a.gg*(y+.5)+a.Co-J;
p[L*Z+y]=e[M+~~Q]}}else for(var L=F;L<m;L++)for(var y=S;y<$;y++){var k=y+.5,E=L+.5,Q=a.gg*k+a.b9*E+a.Co-J,C=a.k*k+a.pU*E+a.dW-w;
if(0<=Q&&0<=C&&Q<f&&C<b)p[L*Z+y]=e[~~C*f+~~Q]}};j.scale._K=function(e,A,a,p,N,i){var Z=new Uint32Array(e.buffer),s=new Uint32Array(p.buffer),D=N.m,n=N.n,S=j.p.wt(A,a).w,F=i?N:j.p.fX(S).Yn(N),$=F.x,m=F.y,J=$+F.m,w=m+F.n,f=~~A.x,b=~~A.y,L=~~A.m,C=~~A.n;
for(var M=m;M<w;M++)for(var y=$;y<J;y++){var Q=y+.5,k=M+.5,E=a.gg*Q+a.b9*k+a.Co-f,_=a.k*Q+a.pU*k+a.dW-b;
if(i){E=((L<<10)+E)%L;_=((C<<10)+_)%C}if(0<=E&&0<=_&&E<L&&_<C)s[M*D+y]=Z[~~_*L+~~E]}};j.scale.kZ=function(e,A,a,p,N,i,Z){if(Z<1)j.scale.afg(e,A,a,p,N,i,Math.round(1/Z));
else j.scale.afh(e,A,a,p,N,i,Z)};j.scale.fw=function(e,A,a,p,N,i,Z,s){if(s)s=s.Yn(new dE(0,0,A,a));e=new Uint32Array(e.buffer);
p=new Uint32Array(p.buffer);if(Z<1)j.scale.agi(e,A,a,p,N,i,Math.round(1/Z),s);else j.scale.a8j(e,A,a,p,N,i,Z)};
j.scale.afh=function(e,A,a,p,N,i,Z){for(var s=0;s<a;s++)for(var D=0;D<A;D++){var n=e[s*A+D],S=Math.min(Z,N-D*Z),F=Math.min(Z,i-s*Z);
for(var c=0;c<F;c++)for(var $=0;$<S;$++)p[(Z*s+c)*N+Z*D+$]=n}};j.scale.afg=function(e,A,a,p,N,i,Z){for(var s=0;
s<i;s++)for(var D=0;D<N;D++){var n=0,S=Math.min(Z,A-D*Z),F=Math.min(Z,a-s*Z);for(var c=0;c<F;c++)for(var $=0;
$<S;$++)n+=e[(Z*s+c)*A+(Z*D+$)];p[s*N+D]=Math.round(n/(S*F))}};j.scale.a8j=function(e,A,a,p,N,i,Z){for(var s=0;
s<a;s++)for(var D=0;D<A;D++){var n=e[s*A+D],S=Math.min(Z,N-D*Z),F=Math.min(Z,i-s*Z);for(var c=0;c<F;
c++)for(var $=0;$<S;$++)p[(Z*s+c)*N+Z*D+$]=n}};j.scale.a2R=function(e,A,a){return(e>>>a&255)+(A>>>a&255)>>>1};
j.scale.S8=function(e,A){var a=j.scale.a2R;return a(e,A,24)<<24|a(e,A,16)<<16|a(e,A,8)<<8|a(e,A,0)};
j.scale.as4=function(e,A,a,p,N,i){var Z=new Uint32Array(e.buffer),s=new Uint32Array(p.buffer);for(var D=0;
D<a;D++){for(var n=0;n<A;n++){var S=D*A+n,F=Z[S],$=F,m=F,J=F;if(n<A-1)$=j.scale.S8(F,Z[S+1]);if(D<a-1)m=j.scale.S8(F,Z[S+A]);
if(n<A-1&&D<a-1)J=j.scale.S8(F,Z[S+A+1]);var w=(D*N+n)*2;s[w]=F;s[w+1]=$;s[w+N]=m;s[w+N+1]=J}}if((N&1)==1)for(var D=0;
D<i;D++)s[D*N+N-1]=s[D*N+N-2];var f=N*(i-1);if((i&1)==1)for(var n=0;n<N;n++)s[f+n]=s[f-N+n]};j.scale.agi=function(e,A,a,p,N,i,Z,s){var D=0,n=N,S=0,F=i;
if(s){D=Math.floor(s.x/Z);n=Math.ceil((s.x+s.m)/Z);S=Math.floor(s.y/Z);F=Math.ceil((s.y+s.n)/Z)}for(var $=S;
$<F;$++)for(var m=D;m<n;m++){var J=0,w=0,f=0,b=0,L=Math.min(Z,A-m*Z),C=Math.min(Z,a-$*Z);for(var c=0;
c<C;c++)for(var M=0;M<L;M++){var y=e[(Z*$+c)*A+Z*m+M],Q=y>>>24;J+=Q;w+=Q*(y>>>16&255);f+=Q*(y>>>8&255);
b+=Q*(y&255)}if(J!=0){var k=1/J;p[$*N+m]=J/(L*C)<<24|w*k<<16|f*k<<8|b*k}else p[$*N+m]=0}};j.P=function(){function e(s,D,c){return(128&s[c-D-1]&s[c-D]&s[c-2]&s[c-1]&s[c+1]&s[c+D-1]&s[c+D])==0}function A(s,D,c){return(128&s[c-D-D]&s[c-D+1]&s[c+2]&s[c+D+1]&s[c+D+D])==0}function a(s,D,c){return(s[c-D]&s[c-1]&s[c+1]&s[c+D]&128)==0}function p(s,c){return(s[c]&128)!=0}function N(s,D,n,S){var c=0,F=n.m,$=n.n;
if(S)for(var m=0;m<$;m++)for(var J=0;J<F;J++){if(p(s,c)&&(J<2||m<2||J>F-3||m>$-3||((s[c-1]&128)==0||D[c-1]!=0)&&e(s,F,c)||A(s,F,c)))D[c]=255;
c++}else for(var m=0;m<$;m++)for(var J=0;J<F;J++){if(p(s,c)&&(J==0||m==0||J==F-1||m==$-1||a(s,F,c)))D[c]=255;
c++}}function i(s,D,n,S,F){var $=n.m,m=n.n,J=new Uint8Array(D.buffer),w=new Uint32Array(D.buffer);if(F)for(var f=2;
f<m-2;f++)for(var b=2;b<$-2;b++){var c=f*$+b;if(p(s,c)&&(((s[c-1]&128)==0||w[c-1]!=0)&&e(s,$,c)||A(s,$,c)))w[c]=S[(b+f&4)>>>2]}else for(var f=1;
f<m-1;f++)for(var b=1;b<$-1;b++){var c=f*$+b;if(p(s,c)&&a(s,$,c)){w[c]=S[(b+f&4)>>>2]}}}function Z(s,D,n,S,F){var $=n.m,m=n.n,J=new Uint8Array(D.buffer),w=new Uint32Array(D.buffer),c=0;
if(S==1)for(var f=0;f<m;f++)for(var b=0;b<$;b++,c++){var L=s[c];w[c]=255-L>>>1<<24|255}else for(var f=0;
f<m;f++)for(var b=0;b<$;b++,c++){var L=s[c];w[c]=255<<24|(L<<16|L<<8|L)}}return{a8V:N,aw$:i,ag2:Z}}();
j.ab={};j.ab.yz=function(e,A,a){var p,N;if(a==0){p=e.rect.clone();N=j.ab.ajD}if(a==1){p=e.rect.pg(A.rect);
N=j.ab.pg}if(a==2){p=A.rect.clone();N=j.ab.aza}if(a==3){p=e.rect.Yn(A.rect);N=j.ab.Yn}if(a==4){p=e.rect.pg(A.rect);
N=j.ab.ayh}if(p.QP())return null;var i=j.Q(p.O());j.WP(A.channel,A.rect,i,p);var Z=j.Q(p.O());j.WP(e.channel,e.rect,Z,p);
N(Z,i,i);var s=j.WC(i,p);if(s.QP())return null;if(!s.Kx(p)){var D=j.Q(s.O());j.WP(i,p,D,s);i=D;p=s}return{channel:i,rect:p}};
j.ab.ajD=function(e,A,a){for(var c=0;c<e.length;c++)a[c]=e[c]};j.ab.pg=function(e,A,a){for(var c=0;c<e.length;
c++)a[c]=Math.min(e[c]+A[c],255)};j.ab.aza=function(e,A,a){for(var c=0;c<e.length;c++)a[c]=Math.max(A[c]-e[c],0)};
j.ab.Yn=function(e,A,a){var p=1/255;for(var c=0;c<e.length;c++)a[c]=e[c]*A[c]*p};j.ab.ayh=function(e,A,a){var p=1/255;
for(var c=0;c<e.length;c++)a[c]=Math.min(e[c]+A[c],255)-e[c]*A[c]*p};j.wr=function(e,A){this.c=[];this.KN=[0];
this.hJ=[];this.e4=[];this.yH=[0];this.sn=[];this.H9=[];this.rows=e;this.cols=A};j.wr.prototype.clone=function(){var e=this,A=e.rows,a=e.cols,p=new j.wr(A,a);
p.c=e.c.slice(0);p.KN=e.KN.slice(0);p.hJ=e.hJ.slice(0);p.e4=e.e4.slice(0);p.yH=e.yH.slice(0);p.sn=e.sn.slice(0);
p.H9=e.H9.slice(0);return p};j.wr.prototype.um=function(e,A,a){var p=this.KN.length-1;for(var c=0;c<a;
c++){var N=e[c],i=A[c];this.c.push(N);this.hJ.push(i);if(i==p){this.H9.push(N==0?0:1/N)}else{this.e4.push(N);
this.sn.push(i)}}this.KN.push(this.c.length);this.yH.push(this.e4.length)};j.wr.prototype.$l=function(e,A){var a=this,p=a.rows,N=a.c,i=a.hJ;
if(A==null)A=new Array(p);for(var c=0;c<p;c++){var Z=a.KN[c],s=a.KN[c+1],D=0;while((s-Z&3)!=0){D+=N[Z]*e[i[Z]];
Z++}for(var n=Z;n<s;n+=4)D+=N[n]*e[i[n]]+N[n+1]*e[i[n+1]]+N[n+2]*e[i[n+2]]+N[n+3]*e[i[n+3]];A[c]=D}return A};
j.wr.prototype.multiply=function(e){return this.KI(e.d3())};j.wr.prototype.KI=function(e){var A=this,a=A.rows,p=A.cols,N=e.rows,i=new j.wr(a,N),Z=A.hJ,s=e.hJ;
for(var c=0;c<a;c++){var D=[],n=[],S=A.KN[c],F=A.KN[c+1];for(var $=0;$<N;$++){var m=e.KN[$],J=e.KN[$+1],w=0,f=S,b=m;
while(f<F&&b<J){var L=Math.max(Z[f],s[b]);while(f<F&&Z[f]<L)f++;while(b<J&&s[b]<L)b++;if(f<F&&b<J&&Z[f]==s[b])w+=A.c[f++]*e.c[b++]}if(w!=0){D.push(w);
n.push($)}}i.um(D,n,D.length)}return i};j.wr.prototype.d3=function(){var e=this.rows,A=this.cols,a=[];
for(var c=0;c<A;c++)a.push([[],[]]);var p=this.c,N=this.KN,i=this.hJ;for(var c=0;c<e;c++){var Z=N[c],s=N[c+1];
for(var D=Z;D<s;D++){var n=a[i[D]];n[0].push(p[D]);n[1].push(c)}}var S=new j.wr(A,e);for(var c=0;c<A;
c++)S.um(a[c][0],a[c][1],a[c][1].length);return S};j.wr.prototype.fo=function(){var e=this.rows,A=this.cols,a=new Array(e),p=this.c,N=this.KN,i=this.hJ;
for(var c=0;c<e;c++){var Z=a[c]=new Array(A);for(var s=0;s<A;s++)Z[s]=0;var D=N[c],n=N[c+1];for(var S=D;
S<n;S++)Z[i[S]]=p[S]}return a};j.wr.prototype.cs=function(e,A,a,p,N){function i(k,A,E,_){var v=k.length;
for(var c=0;c<v;c++)_[c]=k[c]-A[c]*E}function Z(k,A,E,_){var v=k.length,V=0;while((v-V&3)!=0){_[V]=k[V]+A[V]*E;
V++}for(var c=V;c<v;c+=4){_[c]=k[c]+A[c]*E;_[c+1]=k[c+1]+A[c+1]*E;_[c+2]=k[c+2]+A[c+2]*E;_[c+3]=k[c+3]+A[c+3]*E}}function s(k,A,E){var _=k.length;
for(var c=0;c<_;c++)E[c]=k[c]*A[c]}function D(k,A){var E=k.length,_=0,v=0;while((E-_&3)!=0){v+=k[_]*A[_];
_++}for(var c=_;c<E;c+=4)v+=k[c]*A[c]+k[c+1]*A[c+1]+k[c+2]*A[c+2]+k[c+3]*A[c+3];return v}var n=p!=null?2:1,S=Date.now(),F=0,$=this,m=e.slice(0),J=e.slice(0);
$.$l(e,J);i(A,J,1,m);var w=this.H9;if(n==0){w=m.slice(0);w.fill(1)}var f=m.slice(0);s(w,m,f);var b=f.slice(0),L=D(m,f);
while(!0){$.$l(b,J);var C=L/D(b,J);Z(e,b,C,e);i(m,J,C,m);if((F&7)==0&&Math.sqrt(D(m,m))<a)break;if(n<=1)s(w,m,f);
else{var M=m.slice(0);p.arP(M,m);N.ahS(f,M)}var y=D(m,f),Q=y/L;Z(f,b,Q,b);L=y;F++}};j.wr.prototype.a0N=function(e,A,a,p){var N=Date.now(),i=1.96,s=0;
if(a==null)a=5e-6;if(p==null)p=1e9;var Z=1-i,iM=this.rows,D=this.e4,n=this.yH,S=this.sn,F=this.H9;while(!0){var $=0;
for(var c=0;c<iM;c++){var m=A[c],J=n[c],w=n[c+1];if(w-J==4)m-=D[J]*e[S[J]]+D[J+1]*e[S[J+1]]+D[J+2]*e[S[J+2]]+D[J+3]*e[S[J+3]];
else for(var f=J;f<w;f++)m-=D[f]*e[S[f]];var b=e[c]*Z+F[c]*m*i,L=b-e[c];$+=L*L;e[c]=b}if($/iM<a||Date.now()>N+p)break}};
j.wr.prototype.amx=function(e,A,a,p){var N=Date.now(),i=1.96,s=0;if(a==null)a=5e-5;if(p==null)p=1e9;
var Z=1-i,iM=this.rows,D=this.e4,n=this.yH,S=this.sn,F=this.H9;while(!0){var $=0;for(var c=0;c<iM;c++){var m=c*3,J=A[m],w=A[m+1],f=A[m+2],b=n[c],L=n[c+1];
for(var C=b;C<L;C++){var M=D[C],y=S[C]*3;J-=M*e[y+0];w-=M*e[y+1];f-=M*e[y+2]}var Q=F[c]*i,k=e[m+0]*Z+J*Q,E=e[m+1]*Z+w*Q,_=e[m+2]*Z+f*Q,v=k-e[m+0],V=E-e[m+1],R=_-e[m+2];
$+=.4*v*v+.5*V*V+.1*R*R;e[m+0]=k;e[m+1]=E;e[m+2]=_}if($/iM<a||Date.now()>N+p)break}};j.Gh={};j.Gh.Q3=function(e,A,a){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:e},Vrtc:{t:"doub",v:A},Cnty:{t:"bool",v:a}}}};
j.Gh.D=function(e,A){for(var c=0;c<e.length;c++){var a=e[c].v,p=A.Av(new k7(a.Hrzn.v,a.Vrtc.v));a.Hrzn.v=Math.round(p.x);
a.Vrtc.v=Math.round(p.y)}};j.Gh.Va=function(e,A,a){var iM=e.length-1,p=j._T.Dk(iM+1,iM+2);for(var c=1;
c<iM;c++){p[c][c-1]=1/(e[c]-e[c-1]);p[c][c]=2*(1/(e[c]-e[c-1])+1/(e[c+1]-e[c]));p[c][c+1]=1/(e[c+1]-e[c]);
p[c][iM+1]=3*((A[c]-A[c-1])/((e[c]-e[c-1])*(e[c]-e[c-1]))+(A[c+1]-A[c])/((e[c+1]-e[c])*(e[c+1]-e[c])))}p[0][0]=2/(e[1]-e[0]);
p[0][1]=1/(e[1]-e[0]);p[0][iM+1]=3*(A[1]-A[0])/((e[1]-e[0])*(e[1]-e[0]));p[iM][iM-1]=1/(e[iM]-e[iM-1]);
p[iM][iM]=2/(e[iM]-e[iM-1]);p[iM][iM+1]=3*(A[iM]-A[iM-1])/((e[iM]-e[iM-1])*(e[iM]-e[iM-1]));j._T.a2(p,a)};
j.Gh.aAa=function(e,A,a,p){if(e<=A[0])return a[0];if(e>=A[A.length-1])return a[A.length-1];var c=1;while(A[c]<e)c++;
var N=A[c],i=A[c-1],Z=a[c],s=a[c-1],D=(e-i)/(N-i),n=p[c-1]*(N-i)-(Z-s),S=-p[c]*(N-i)+(Z-s),F=(1-D)*s+D*Z+D*(1-D)*(n*(1-D)+S*D);
return F};j.Gh.xK=function(e,A,a,p){var N={gU:[e[0]],zf:[A[0]],Cf:[]};p[0]=N;for(var c=1;c<e.length-1;
c++){N.gU.push(e[c]);N.zf.push(A[c]);if(a[c]==!1){j.Gh.Va(N.gU,N.zf,N.Cf);N={gU:[e[c]],zf:[A[c]],Cf:[]}}p[c]=N}N.gU.push(e[c]);
N.zf.push(A[c]);j.Gh.Va(N.gU,N.zf,N.Cf);p[c]=N};j.Gh.VV=function(e,A,a,p){if(e<=A[0])return a[0];if(e>=A[A.length-1])return a[A.length-1];
var c=1;while(A[c]<e)c++;var N=p[c-1];return j.Gh.aAa(e,N.gU,N.zf,N.Cf)};j.Gh.f3=function(e){var A={gU:[],zf:[],x8:[]};
for(var c=0;c<e.length;c++){A.gU[c]=e[c].v.Hrzn.v;A.zf[c]=e[c].v.Vrtc.v;A.x8[c]=e[c].v.Cnty?e[c].v.Cnty.v:!0}return A};
j.Gh.Tr=function(e,iM,A){var a=0,p=255;if(A){a=-1e9;p=1e9}var N=j.Gh.f3(e),i=[];j.Gh.xK(N.gU,N.zf,N.x8,i);
var Z=[];for(var c=0;c<iM;c++)Z[c]=1/255*Math.max(a,Math.min(p,j.Gh.VV(c*(255/(iM-1)),N.gU,N.zf,i)));
return Z};j.Gh.axe=function(e,iM,A){var a=Math.round(e.length/20),p=iM-e.length,N=A?(e[a]-e[0])/a:0,i=A?e[0]-p*N:e[e.length-1],Z=[];
for(var c=0;c<p;c++)Z.push(i+c*N);return A?Z.concat(e):e.concat(Z)};j.Gh._I=function(e,iM,A){var a=j.Gh.f3(e),p=[];
j.Gh.xK(a.gU,a.zf,a.x8,p);var N=new Uint8Array(iM),i=iM/256;for(var c=0;c<iM;c++)N[c]=Math.max(0,Math.min(iM-1,j.Gh.VV(c*i,a.gU,a.zf,p)));
if(A){N[0]=0;if(N[1]>100)N[1]=.4*N[1];if(N[2]>150)N[1]=.7*N[2]}return N};j.Gh.rG=function(e,A){var a=new Uint8Array(e.length);
for(var c=0;c<e.length;c++)a[c]=A[e[c]];return a};j.Gh.HF=function(e,A,a){var p=document.createElement("canvas");
p.width=A;p.height=a;var N=p.getContext("2d"),i=j.Gh._I(e,256);N.scale(A/255,a/255);N.fillStyle="#fff";
N.fillRect(0,0,255,255);N.fillStyle="#333";N.beginPath();N.moveTo(0,255);for(var c=0;c<i.length;c++)N.lineTo(c,255-i[c]);
N.lineTo(255,255);N.closePath();N.fill();return p.toDataURL()};j.style={};j.style.stroke=function(e,A,a,p){var N=a.m,i=a.n,Z=new Float64Array(N*i);
j.style.hL(e,Z,N,i);j.style.jW(A,a,Z,a,p)};j.style.jW=function(e,A,a,p,N){var i=A.Yn(p),Z=i.m,s=i.n;
N+=.5;var D=i.x-A.x,n=i.y-A.y,S=A.m,F=i.x-p.x,$=i.y-p.y,m=p.m;for(var J=0;J<s;J++){var w=(J+$)*m+F,f=(J+n)*S+D;
for(var b=0;b<Z;b++){var L=Math.max(0,Math.min(1,N-a[w+b]));e[f+b]=Math.round(L*255)}}};j.style.aiK=function(e,A,a,p){for(var N=0;
N<a;N++)for(var i=0;i<A;i++){var Z=N*A+i,s=0,D=0,n=e[Z];if(i==0||N==0){s=e[Z+1]-n;D=e[Z+A]-n}else if(i==a-1||N==A-1){s=n-e[Z-1];
D=n-e[Z-A]}else{s=e[Z+1]-e[Z-1];D=e[Z+A]-e[Z-A]}if(s!=0||D!=0){var S=1/Math.sqrt(s*s+D*D);s*=S;D*=S}p[Z+Z]=s;
p[Z+Z+1]=D}};j.style.hL=function(e,A,a,p){var N=0,i=a*p;for(var c=0;c<i;c++)N|=e[c];if(N==0){A.fill(1e9);
return}var Z=j.style.PZ(e,a,p);for(var s=0;s<p;s++)for(var D=0;D<a;D++){var c=s*a+D,n=Z[c*2],S=Z[c*2+1],F=(s+S)*a+D+n;
if(n==0&&S==0){A[c]=0;continue}var $=Math.sqrt(n*n+S*S),m=e[F]*(1/255),J=1/$,w=Math.abs(n)*J,f=Math.abs(S)*J;
if(f>w){var b=f;f=w;w=b}A[c]=$+j.style.aqk(w,f,m)}};j.style.aqk=function(e,A,a){return(.5-a)*e};j.style.PZ=function(e,A,a,p){var N=new Int16Array(A*a*2);
j.style.a5K(e,N,A,a,128);return N};j.style.a5K=function(e,A,a,p,N){var i=new Int32Array(a*p);j.style.adC(e,i,a,p,N);
j.style.aoi(i,A,a,p)};j.style.adC=function(e,A,a,p,N){var i=new Int32Array(p);for(var Z=0;Z<a;Z++){var s=a+p;
for(var D=p-1;D>=0;D--){if(e[D*a+Z]>N)s=0;else s++;i[D]=s}s=a+p;for(var D=0;D<p;D++){if(e[D*a+Z]>N)s=0;
else s++;A[D*a+Z]=s<i[D]?-s:i[D]}}};j.style.aoi=function(e,A,a,p){var N=(a+p)*(a+p),i=new Float64Array(a),Z=new Uint16Array(a);
for(var s=0;s<p;s++){var D=s*a,n=0;Z[0]=0;i[0]=-N;i[1]=+N;for(var S=1;S<a;S++){var F=e[S+D]*e[S+D]+S*S,$=(F-(e[Z[n]+D]*e[Z[n]+D]+Z[n]*Z[n]))/(2*S-2*Z[n]);
while($<=i[n]){n--;$=(F-(e[Z[n]+D]*e[Z[n]+D]+Z[n]*Z[n]))/(2*S-2*Z[n])}n++;Z[n]=S;i[n]=$;i[n+1]=N}n=0;
for(var S=0;S<a;S++){while(i[n+1]<S)n++;var m=Z[n]-S,J=e[Z[n]+D],c=s*a+S<<1;A[c]=m;A[c+1]=J}}};j.style.JV=function(e,A,a){if(a)for(var c=0;
c<e.length;c++){var p=e[c];if(p>0)e[c]=Math.max(0,Math.min(255,p+A*2*(j.style.jM(c)-128)))}else for(var c=0;
c<e.length;c++){var p=e[c];if(p>0)e[c]=Math.max(0,Math.min(255,p+Math.min(p*3,A*2*(j.style.jM(c)-128))))}};
j.style.jM=function(e){e=e^61^e>>16;e=e+(e<<3);e=e^e>>4;e=e*668265261;e=e^e>>15;return e&255};j.ki={};
j.ki._z=function(e,A,a){var p=e.canvas;if(p.width!=A||p.height!=a){p.width=A;p.height=a}};j.ki.b5=function(e,A,a,p,N,i){j.ki._z(e,A,a);
if(i==null)i=!1;var Z=N.channel,s=N.rect,D=!N.isEnabled;if(A*a==0)return;var n=e.createImageData(A,a),S=n.data,F=1/A,$=1/a;
for(var c=0;c<a;c++)for(var m=0;m<A;m++){var J=c*A+m,w=J*4,f=Math.round(p.x+m*F*p.m),b=Math.round(p.y+c*$*p.n),L=0;
if(f<s.x||f>=s.x+s.m||b<s.y||b>=s.y+s.n)L=N.color;else L=Z[(b-s.y)*s.m+(f-s.x)];L=255*(255-N.Yi)+L*N.Yi>>>8;
if(i)L=170+Math.round(.4*(L-170));S[w]=L;S[w+1]=L;S[w+2]=L;S[w+3]=255}e.putImageData(n,0,0);if(D)j.ki.ul(e,A,a)};
j.ki.Z0=[];j.ki.axT=function(e,A,a,p){var N,i,Z;N=Math.ceil(Math.max(A,a)*.35);i=A-N;Z=a-N;var s=j.ki.Z0[N];
if(s==null){var D=j.wv(N,N);D.fillStyle="#eeeeee";D.fillRect(0,0,N,N);var n=Math.round(N*.27),S=D.lineWidth=Math.max(1,Math.round(N*.12)),F=S/2;
D.strokeRect(1+F,1+F,N-S-2,N-S-2);D.strokeRect(n+F,n+F,N-n-n-S,N-n-n-S);s=j.ki.Z0[N]=D.getImageData(0,0,N,N)}e.putImageData(s,i,Z)};
j.ki.JR=[];j.ki.a72=function(e,A,a){var p,N,i;p=Math.ceil(Math.max(A,a)*.35);N=A-p;i=a-p;var Z=j.ki.JR[p];
if(Z==null){var s=j.wv(p,p);s.fillStyle="#eeeeee";s.fillRect(0,0,p,p);s.lineWidth=1;s.strokeRect(2.5,2.5,p-5,p-5);
var D=s.createImageData(3,3);j.fV(D.data,4278190080);D.data[4*4]=D.data[4*4+1]=D.data[4*4+2]=238;s.putImageData(D,1,1);
s.putImageData(D,p-4,1);s.putImageData(D,1,p-4);s.putImageData(D,p-4,p-4);Z=j.ki.JR[p]=s.getImageData(0,0,p,p)}e.putImageData(Z,N,i)};
j.ki.adA=function(e,A,a,p,N){j.ki._z(e,A,a);var i=A/p.m;if(A*a==0)return;e.fillStyle="#999999";e.setTransform(1,0,0,1,0,0);
e.clearRect(0,0,A,a);var Z=j.ki.OA;if(Z==null){Z=j.ki.OA=JSON.parse(JSON.stringify(iF.kE.default));Z.strokeEnabled.v=!0}Z.strokeStyleLineWidth.v.val=1/i;
e.fillStyle="#ffffff";e.scale(i,i);j.r.DX(N.i,e,0,0);j.r.DX(N.i,e,0,0,Z)};j.ki.sV=null;j.ki.$Z=function(e,A,a,p,N,i,Z,s,D){j.ki._z(e,A,a);
if(A*a==0)return;var n=Math.max(A,a),S=j.ki.sV;if(S==null||S.width<n||S.height<n){j.ki.sV=S=e.createImageData(n,n)}n=S.width;
var F=S.data,$=p.m/A,m=p.n/a,J=i.x,w=i.x+i.m,f=i.y,b=i.y+i.n;for(var c=0;c<a;c++)for(var L=0;L<A;L++){var C=c*n+L,M=C*4,y=~~(p.x+L*$),Q=~~(p.y+c*m),k=j.D3(c,L,2);
if(y<J||y>=w||Q<f||Q>=b||D){F[M]=k;F[M+1]=k;F[M+2]=k;F[M+3]=255}else{var E=(Q-i.y)*i.m+(y-i.x)<<2,_=N[E+3]*(1/255);
F[M]=N[E+0]*_+k*(1-_);F[M+1]=N[E+1]*_+k*(1-_);F[M+2]=N[E+2]*_+k*(1-_);F[M+3]=255}}if(s!=null)for(var c=0;
c<F.length;c+=4)F[c]=F[c+1]=F[c+2]=F[c+s];e.putImageData(S,0,0);if(Z)j.ki.ul(e,A,a)};j.ki.auP=function(e,A,a,p){j.ki._z(e,A,a);
e.fillStyle=j.ki.kq(p.Clr.v);e.fillRect(0,0,A,a);j.ki.PB(e,A,a)};j.ki.tC=null;j.ki.ahU=function(e,A,a,p){j.ki._z(e,A,a);
var N=e.canvas.width,i=e.canvas.height,Z=j.ki.tC;if(Z==null||Z.width!=N||Z.height!=i){e.fillStyle="#ffffff";
e.fillRect(0,0,A,a);e.fillStyle="#000000";e.font=""+a*.7+"px serif";e.fillText("T",(A-a*.43)/2,a*.75);
e.fillText("T",(A-a*.43)/2,a*.75);j.ki.tC=e.getImageData(0,0,N,i)}else e.putImageData(Z,0,0)};j.ki.ali=function(e,A,a){j.ki._z(e,A,a);
e.clearRect(0,0,A,a);e.font=a*.7+"px serif";e.fillText(":(",(A-a*.43)/2,a*.7)};j.ki.avJ=function(e,A,a,p){j.ki._z(e,A,a);
var N=a7.get(p),i=e.canvas.width,Z=j.ki.G3[i+N];if(Z==null){var s=PIMG["adj/"+N],D=fI.dD(s),n=UPNG.decode(D.buffer),S=new Uint8Array(UPNG.toRGBA8(n)[0]),F=new dE(0,0,160,160),$=0,m=i-$*2,J=q.BD.xM([S,F],new bj(m/160,0,0,m/160,0,0)),w=new dE(0,0,i,i),f=j.Q(w.O()*4);
j.s.eZ("norm",J.buffer,J.rect,f,w,J.rect,1);Z=j.ki.G3[i+N]=new ImageData(new Uint8ClampedArray(f.buffer),i,i)}e.putImageData(Z,0,0)};
j.ki.G3={};j.ki.a2W=function(e,A,a,p){j.ki._z(e,A,a);var N=e.canvas.width,i=e.canvas.height,Z=e.getImageData(0,0,N,i);
j.M.zg(p.Grad.v,new Uint8Array(Z.data.buffer),new dE(0,0,N,i),[1/N,0,0,1/i],N/2,i/2,!1,0,16711680,65280);
e.putImageData(Z,0,0);j.ki.PB(e,A,a)};j.ki.afJ=function(e,A,a,p,N){j.ki._z(e,A,a);var i=e,Z=b6.La(p.Ptrn.v,N.add.Patt);
if(Z==null)return;var s=Z._q[1];j.ki.$Z(e,A,a,s,Z._q[0],s,!1);j.ki.PB(i,A,a)};j.ki.ul=function(e,A,a){e.strokeStyle="#bb0000";
e.lineWidth=3;e.beginPath();e.moveTo(A*.15,a*.15);e.lineTo(A*.85,a*.85);e.moveTo(A*.85,a*.15);e.lineTo(A*.15,a*.85);
e.closePath();e.stroke()};j.ki.PB=function(e,A,a){e.fillStyle="#eeeeee";e.fillRect(0,a*.75,A,a*.25);
e.beginPath();e.moveTo(0,a*.75);e.lineTo(A,a*.75);e.moveTo(A*.1,a*.875);e.lineTo(A*.9,a*.875);e.moveTo(A*.65,a*.825);
e.lineTo(A*.65,a*.95);e.closePath();e.stroke()};j.ki.kq=function(e){var A=j.M.kq(e),a=Math.round(A.o)<<16|Math.round(A.J)<<8|Math.round(A.k);
return"#"+j.yj(a)};j.r={};j.r.Dt=function(e,A,a){var p=[],N=-1;for(var c=0;c<e.length;c++){var i=e[c];
if((i.type==0||i.type==3)&&i.kR!=-1)N++;if(i.type>5||i.type==0||i.type==3)continue;if(A!=null&&A.indexOf(N)==-1)continue;
if(a!=null&&a.indexOf(c)==-1)continue;p.push(i.x3.x);p.push(i.x3.y);p.push(i.H.x);p.push(i.H.y);p.push(i.iD.x);
p.push(i.iD.y)}return p};j.r.nB=function(e,A,a,p){var N=0,i=-1;for(var c=0;c<A.length;c++){var Z=A[c];
if((Z.type==0||Z.type==3)&&Z.kR!=-1)i++;if(Z.type>5||Z.type==0||Z.type==3)continue;if(a!=null&&a.indexOf(i)==-1)continue;
if(p!=null&&p.indexOf(c)==-1)continue;Z.x3.rq(e[N],e[N+1]);Z.H.rq(e[N+2],e[N+3]);Z.iD.rq(e[N+4],e[N+5]);
N+=6}};j.r.nM=function(e,A,a,p){var N=j.r.Dt(e,a,p);j.p.D(N,A,N);j.r.nB(N,e,a,p)};j.r.aap=function(e,A,a,p){var N=j.r.Dt(e,a,p);
j.K.D(A,N);j.r.nB(N,e,a,p)};j.r.alq=function(e,A,a,p){if(p==null){var N=j.r.ayu(e,40,a);for(var c=0;
c<N.length;c++)e[c]=N[c]}var i=j.r.Dt(e,a,p);j.ay.D(A,i,j.p.i9(i));j.r.nB(i,e,a,p)};j.r.ayu=function(e,A,a){var p=[],N=-1;
for(var c=0;c<e.length;c++){var i=e[c],Z=i.length;if(i.type>5){p.push(JSON.parse(JSON.stringify(i)));
continue}i=JSON.parse(JSON.stringify(i));p.push(i);if(i.kR!=-1)N++;if(a&&a.indexOf(N)==-1){p=p.concat(e.slice(c+1,c+1+Z))}else{var s=j.r.alC(e,c+1,Z);
s=j.p.iV(s,A);var D=j.r.apW(s);i.length=D.length;for(var n=0;n<D.length;n++)p.push(D[n])}c+=Z}return p};
j.r.alC=function(e,A,a){var p={F:["M"],w:[]},N=e[A],i=e[A+a-1];p.w.push(N.H.x,N.H.y);for(var c=1;c<a;
c++){var Z=e[A+c-1],s=e[A+c];p.F.push("C");p.w.push(Z.iD.x,Z.iD.y,s.x3.x,s.x3.y,s.H.x,s.H.y)}p.F.push("C");
p.w.push(i.iD.x,i.iD.y,N.x3.x,N.x3.y,N.H.x,N.H.y);return p};j.r.apW=function(e){var A=[],a=e.F,p=e.w,N=0,iM=p.length;
A.push({type:2,x3:new k7(p[iM-4],p[iM-3]),H:new k7(p[0],p[1]),iD:new k7(p[2],p[3])});for(var c=0;c<a.length-2;
c++){var i=c*6+4;A.push({type:2,x3:new k7(p[i],p[i+1]),H:new k7(p[i+2],p[i+3]),iD:new k7(p[i+4],p[i+5])})}return A};
j.r.ajs=function(e){for(var c=0;c<e.length;c++){if(e[c].type>5)continue;var A=e[c].length;if(!(A==4||A==6||A==8)){c+=A;
continue}for(var a=0;a<A;a++){var p=e[c+1+a],N=e[c+1+(a+1)%A],i=Math.min(p.H.x,N.H.x),Z=Math.min(p.H.y,N.H.y),s=0,D=0;
if(p.H.x<N.H.x){s=p.H.y-Z;D=s-(N.H.x-i)}else{s=N.H.y-Z;D=s-(p.H.x-i)}if(Math.abs(D)<.2*s)return s}}return-1};
j.r.km=function(e,A,a){function p($,m){var J=Math.min($.x,m.x),w=Math.min($.y,m.y),f=Math.max($.x+$.m,m.x+m.m),b=Math.max($.y+$.n,m.y+m.n);
return new dE(J,w,f-J,b-w)}var N=null,i=-1,Z=!j.r.fZ(e);for(var c=0;c<e.length;c++){var s=e[c];if(s.type>5)continue;
if((s.type==0||s.type==3)&&s.kR!=-1)i++;if(A!=null&&A.indexOf(i)==-1)continue;if(c==e.length-1)break;
var D=s.type==3,n=s.length,S=s.kR,F=j.r.OE(e,c+1,n,D);if(N==null)N=F;else if(a)N=p(N,F);else if(Z){if(A!=null||S==0||S==-1||S==2)N=p(N,F);
else if(S==1)N=N;else if(S==3){N=F;Z=!1}}else{if(A!=null||S==0||S==-1||S==1)N=p(N,F);else if(S==2)N=N;
else if(S==3)N=N.Yn(F)}c+=n}if(N==null||N.m<0||N.n<0)N=new dE(0,0,0,0);return N};j.r.ayw=new Float64Array(4);
j.r.OE=function(e,c,A,a){var p=j.r.ayw;p[0]=1e30;p[1]=1e30;p[2]=-1e30;p[3]=-1e30;var N=e[c+A-1];if(!a)j.r.zq(N.H.x,N.H.y,N.iD.x,N.iD.y,e[c].x3.x,e[c].x3.y,e[c].H.x,e[c].H.y,p);
for(var i=c;i<c+A-1;i++){var Z=e[i],s=e[i+1];j.r.zq(Z.H.x,Z.H.y,Z.iD.x,Z.iD.y,s.x3.x,s.x3.y,s.H.x,s.H.y,p)}return new dE(p[0],p[1],p[2]-p[0],p[3]-p[1])};
j.r.zq=function(e,A,a,p,N,i,Z,s,D){if(e==a&&A==p&&N==Z&&i==s){D[0]=Math.min(D[0],Math.min(e,Z));D[1]=Math.min(D[1],Math.min(A,s));
D[2]=Math.max(D[2],Math.max(e,Z));D[3]=Math.max(D[3],Math.max(A,s));return}var n=e,S=A,F=e,$=A,m=40,J=1/(m-1);
for(var w=0;w<m;w++){var f=w*J,b=1-f,L=b*b*b,C=3*b*b*f,M=3*b*f*f,y=f*f*f,Q=L*e+C*a+M*N+y*Z,k=L*A+C*p+M*i+y*s;
if(Q<n)n=Q;else if(Q>F)F=Q;if(k<S)S=k;else if(k>$)$=k}if(n<D[0])D[0]=n;if(S<D[1])D[1]=S;if(F>D[2])D[2]=F;
if($>D[3])D[3]=$};j.r.JQ=function(e,A){var a=e.length-3,p=A%a,N=Math.floor(p);if(A<0||N>=a)return null;
var i=e[3+N],Z=e[3+(N+1)%a],s=i.H,D=i.iD,n=Z.x3,S=Z.H,F=p-N,$=1-F,m=$*$*$*s.x+3*$*$*F*D.x+3*$*F*F*n.x+F*F*F*S.x,J=$*$*$*s.y+3*$*$*F*D.y+3*$*F*F*n.y+F*F*F*S.y;
return new k7(m,J)};j.r.Mh=function(e,A){var a=j.p.ef(e),p=a.cH;a.cH=Typr.U.pathToSVG({crds:p.w,cmds:p.F},A==null?2:A);
return a};j.r.Gj=function(e){j.r.B7();var A,a=j.r.Di(e),p=[];for(var c=0;c<a.length;c++){var N=a[c][0],i=a[c][1];
if(Math.abs(N.area)<1e-5)p.push(N);else if(A==null)A=N;else{if(!N.closed)N.closed=!0;A=A[i](N);A.remove()}}if(A==null)A=new paper.CompoundPath(p);
else{if(A.segments)A=new paper.CompoundPath(A);for(var c=0;c<p.length;c++){A.addChild(p[c])}}var Z=e.slice(0,2);
Z=Z.concat(j.r.A6(A));if(Z[2])Z[2].kR=1;for(var c=3;c<Z.length;c++)if(Z[c].kR!=null)Z[c].kR=-1;return Z};
j.r.B7=function(){if(j.r.a9V==null){var e=document.createElement("canvas");paper.setup(e);j.r.a9V=!0}};
j.r.a1_=function(e,A){j.r.B7();var a=[],p=j.r.Di(e),N=new paper.Path.Rectangle(new paper.Rectangle(A.x,A.y,A.m,A.n));
N.remove();N.fillColor=new paper.Color(1,0,0);for(var c=0;c<p.length;c++){if(N.intersects(p[c][0])||N.contains(p[c][0].children[0].segments[0].point))a.push(c)}return a};
j.r.x4=function(e,A,a,p){j.r.B7();var N=a?{curves:!0,tolerance:p}:null,i=new paper.Point(A.x,A.y),Z=j.r.Di(e);
for(var c=Z.length-1;c>=0;c--){var s=Z[c][0],D=s.hitTest(i,N);if(D!=null)return{g2:c,N5:a?D.location.index:null,QT:a?D.location.time:0}}return{g2:-1}};
j.r.wy=function(e,A,a){var p=[[],[],[]];for(var c=0;c<e.length;c++){var N=e[c];if(N.type>5||N.type==0||N.type==3)continue;
var i=a==null?!0:a.indexOf(c)!=-1;if(A.QX(N.H))p[0].push(c);if(A.QX(N.x3)&&i)p[1].push(c);if(A.QX(N.iD)&&i)p[2].push(c)}return p};
j.r.amA=function(e,A,a){var p=e[A];for(var N=A+1;N<a;N++)e[N-1]=e[N];e[a-1]=p};j.r.a5b=function(e,A,a,p){var c,N,i,Z=0;
e=e.slice(0);A.sort(function(J,w){return J-w});i=-1;for(c=2;c<e.length;){var s=e[c],D=s.length;if(s.kR!=-1)i++;
var n=Z;while(n<A.length&&A[n]<c+1+D)n++;if(Z!=n){var S=A.slice(Z,n);Z=n;for(N=0;N<D;N++)if(S.indexOf(c+1+N)!=-1)e[c+1+N]=null;
if(s.type==0){var F=S[0]-(c+1);while(F!=0){j.r.amA(e,c+1,c+1+D);F--}}var $=s;$.length=0;N=0;while(N<D&&e[c+1+N]==null)N++;
while(N<D){var m=e[c+1+N];if(m!=null)$.length++;else if(N<D+1&&e[c+1+N+1]){$=e[c+1+N]={type:0,kR:-1,length:0,JS:0,mH:0,wk:1}}N++}if(p)for(N=-1;
N<D;N++)if(e[c+1+N]&&e[c+1+N].type<3)e[c+1+N].type+=3;j.X.T7(a,i)}c+=1+D}for(c=0;c<e.length;c++)if(e[c]==null){e.splice(c,1);
c--}i=0;for(c=2;c<e.length;c++){var s=e[c];if(s.length==0){if(e[c+1]&&e[c+1].kR==-1)e[c+1].kR=s.kR;else if(s.kR!=-1)a.splice(i,1);
e.splice(c,1);c--}else if(s.length!=null&&s.kR!=-1)i++}return e};j.r.acl=function(e,A){var a=e.slice(0,2),p=-1;
for(var c=2;c<e.length;c++){if((e[c].type==0||e[c].type==3)&&e[c].kR!=-1)p++;if(A.indexOf(p)==-1)a.push(e[c])}return a};
j.r.a0g=function(e,A){var a=e.slice(0,2),p=-1;for(var c=2;c<e.length;c++){if((e[c].type==0||e[c].type==3)&&e[c].kR!=-1)p++;
if(A.indexOf(p)!=-1)a.push(e[c])}return a};j.r.adh=function(e){var A=0;for(var c=0;c<e.length;c++)if(e[c].type==0||e[c].type==3)A=c;
return e[A]};j.r.yP=function(e){var A=-1;for(var c=0;c<e.length;c++)if((e[c].type==0||e[c].type==3)&&e[c].kR!=-1)A++;
return A+1};j.r.VS=function(e,A,a){var p=-1;for(var c=0;c<e.length;c++)if((e[c].type==0||e[c].type==3)&&(a||e[c].kR!=-1)){p++;
if(p==A)return c}return-1};j.r.r6=function(e,A,a){var p=-1;for(var c=0;c<e.length;c++)if((e[c].type==0||e[c].type==3)&&(a||e[c].kR!=-1)){if(c>=A)return p;
p++}return p};j.r.N9=function(e,A){var a=-1,p=0;for(var c=0;c<e.length;c++){if((e[c].type==0||e[c].type==3)&&e[c].kR!=-1)a++;
if(a==A)p++}return p};j.r.abx=function(e){var A=180;for(var c=0;c<e.length;c++){if(e[c].type!=0&&e[c].type!=3)continue;
var a=e[c].length;if(a<3)continue;for(var p=0;p<a;p++){var N=e[c+1+(p-1+a)%a],i=e[c+1+p],Z=e[c+1+(p+1)%a],s=i.H,D=i.x3.Kx(s)?N.iD:i.x3,n=i.iD.Kx(s)?Z.x3:i.iD;
if(s.Kx(D)||s.Kx(n))continue;var S=D.x-s.x,F=D.y-s.y,$=n.x-s.x,m=n.y-s.y,D=Math.atan2(D.y-s.y,D.x-s.x)*180/Math.PI,n=Math.atan2(n.y-s.y,n.x-s.x)*180/Math.PI,J=Math.abs(n-D)%360,w=J>180?360-J:J;
if(w<A)A=w}}return A*Math.PI/180};j.r.A6=function(e){var A=e.segments?[e]:e.children,a=[];for(var c=0;
c<A.length;c++){var p=A[c],N=p.segments,i=p.closed?0:3,Z=a.length,s=null;if(N.length<=1)continue;a.push({type:i,length:N.length,kR:0,wk:2});
for(var D=0;D<N.length;D++){var n=N[D],S=new k7(n.handleIn.x,n.handleIn.y),F=new k7(n.handleOut.x,n.handleOut.y),$=new k7(n.point.x,n.point.y),m={type:i+1,x3:$.add(S),H:$,iD:$.add(F)};
if(s==null)s=m;a.push(m);if(D+1==N.length&&k7.nR(s.H,m.H)<1e-5){a.pop();a[Z].length--;s.x3=m.x3;if(i==3)for(var J=Z;
J<a.length;J++)a[J].type-=3}}}return a};j.r.Di=function(e){j.r.B7();var A=[],a,p=new paper.Color(1,0,0);
function N(m,s){m.remove();m.closed=!s;m.fillRule="evenodd"}for(var c=0;c<e.length;c++){if(e[c].type>5)continue;
var i=e[c].length,Z;if(c==e.length-1)break;var s=e[c].type==3;if(c==2){if(!j.r.Jb(e))Z="subtract";else Z="unite"}else{if(e[c].kR==0)Z="exclude";
if(e[c].kR==1)Z="unite";if(e[c].kR==2)Z="subtract";if(e[c].kR==3)Z="intersect"}if(e[c].kR!=-1){a=new paper.CompoundPath;
A.push([a,Z]);a.fillRule="evenodd";a.fillColor=p}var D=[];for(var n=0;n<i;n++){var S=e[c+1+n],F=S.x3.QC(S.H),$=S.iD.QC(S.H);
D.push([[S.H.x,S.H.y],[F.x,F.y],[$.x,$.y]])}var m=new paper.Path(D);N(m,s);a.addChild(m);c+=i}return A};
j.r.R_=function(e){for(var c=0;c<e.length;c++){var A=e[c];if(A.H==null)continue;if(!A.H.Kx(A.x3)||!A.H.Kx(A.iD))return!1}return!0};
j.r.avE=function(e){if(e.length<=5)return 0;var A=0,a=e.length-3-1;for(var c=0;c<a;c++){var p=e[3+c],N=e[3+c+1];
if(p.type==0||N.type==0)return 0;A+=(N.H.x-p.H.x)*(p.H.y+N.H.y)}A+=(e[3].H.x-e[3+a].H.x)*(e[3+a].H.y+e[3+1].H.y);
return-A*.5};j.r.fZ=function(e){var A=e[2],a=!1;if(e.length==2)a=e[1].all==0;else if(e[1].all==1){if(A.kR==1||A.kR==3)a=!0;
else a=!1}else{if(A.kR==1||A.kR==3||A.kR==0)a=!0;else a=!1}return a};j.r.Jb=function(e){var A=j.r.fZ(e);
for(var c=3;c<e.length;c++)if(e[c].kR==3)A=!0;return A};j.r.ad_=0;j.r.wQ=0;j.r.alf=0;j.r.avN=function(e,A,a,p){if(a.QP())return;
var N=a.O(),b=16384;j.r.ad_+=N;if(N>j.r.wQ){j.r.wQ=N}var i=a.m,Z=a.n;if(p==null&&j.r.R_(e)&&e[2]&&e[2].kR!=2){var s=!0;
for(var c=2;c<e.length;)if(e[c].length==2)c+=3;else{s=!1;break}if(s){return}if(j.r.$F(e)){A.fill(255);
var D=j.r.km(e);if(D.O()!=N){var n=1-(D.x-a.x),S=1-(D.y-a.y),F=1-(a.x+a.m-(D.x+D.m)),$=1-(a.x+a.n-(D.x+D.n)),m=~~(n*255),J=~~(F*255),w=~~(S*255),f=~~($*255);
A.fill(w,0,i);A[0]=~~(n*S*255);A[i-1]=~~(F*S*255);for(var c=i;c<N;c+=i){A[c]=m;A[c+i-1]=J}A.fill(f,(Z-1)*i,Z*i);
A[N-i]=~~(n*$*255);A[N-1]=~~(F*$*255)}return}}var L=Math.ceil(i/b),C=Math.ceil(Z/b),M=Math.ceil(i/L),y=Math.ceil(Z/C),Q=Date.now();
for(var k=0;k<C;k++)for(var E=0;E<L;E++){var _=E*M,v=k*y,V=M,R=y,h=j.wv(V,R);if(!j.r.fZ(e))h.fillRect(0,0,V,R);
j.r.DX(e,h,-a.x-_,-a.y-v,p);var P=new Uint8Array(h.getImageData(0,0,V,R).data.buffer);if(V==i&&R==Z)j.kI(P,A,3);
else j.sS(P,new dE(_,v,V,R),A,new dE(0,0,i,Z))}};j.r.adJ=function(e){var A=!1,a=!1,p=0,N=!1;for(var c=0;
c<e.length;c++){var i=e[c].kR;if(i!=null){p++;if(i==-1)A=!0;if(i==1||i==2||i==3)a=!0;if(e[c].type==0)N=!0}}if(!A&&p<20&&N&&a)e=j.r.Gj(e);
return e};j.r.DX=function(e,A,a,p,N,i){if(N!=null){e=j.r.adJ(e)}for(var c=0;c<e.length;c++){if(e[c].type>5)continue;
var Z=e[c].length;if(Z==0)continue;if(c==e.length-1)break;var s=e[c].type==3,D=e[c].kR;if(D!=-1&&N==null){var n=["xor","source-over","destination-out","source-in"][D];
A.globalCompositeOperation=n}if(e[c].kR!=-1){A.beginPath();if(N){j.r.ht(N,A)}}j.r.azO(A,e,c+1,Z,a,p,s);
if(s){}else A.closePath();if(e[c+1+Z]==null||e[c+1+Z].kR!=-1){if(N){if(i)A.clip();A.stroke()}else A.fill(D==-1?"nonzero":"evenodd")}c+=Z}A.globalCompositeOperation="source-over"};
j.r.ht=function(e,A,a){if(a==null)a=1;var p=e.strokeStyleLineWidth.v.val*a,N=e.strokeStyleLineAlignment.v.strokeStyleLineAlignment,i=e.strokeStyleLineCapType.v.strokeStyleLineCapType,Z=e.strokeStyleLineJoinType.v.strokeStyleLineJoinType,s=e.strokeStyleMiterLimit.v,D=[],n=e.strokeStyleLineDashSet.v;
for(var S=0;S<n.length;S++)D.push(n[S].v.val*p);A.setLineDash(D);A.lineCap=["butt","round","square"][iF.kE.oA.indexOf(i)];
A.lineJoin=["miter","round","bevel"][iF.kE.join.indexOf(Z)];A.lineWidth=iF.kE.R0.indexOf(N)==1?p:p*2;
A.miterLimit=s};j.r.azO=function(e,A,c,a,p,N,i){var Z=A[c],s=null;e.moveTo(Z.H.x+p,Z.H.y+N);for(var D=c;
D<c+a-1;D++){Z=A[D];s=A[D+1];e.bezierCurveTo(Z.iD.x+p,Z.iD.y+N,s.x3.x+p,s.x3.y+N,s.H.x+p,s.H.y+N)}if(!i){Z=A[D];
s=A[c];e.bezierCurveTo(Z.iD.x+p,Z.iD.y+N,s.x3.x+p,s.x3.y+N,s.H.x+p,s.H.y+N)}};j.r.a1B=function(e,A){var a=[],p=A?4:1;
for(var c=0;c<e.length;c+=2){var N=new k7(e[c],e[c+1]);a.push({type:p,x3:N.clone(),H:N.clone(),iD:N.clone()})}return a};
j.r.UI=function(e,A,a){var p=j.p.i9(e),N=Math.sqrt(Math.sqrt(p.O()))*.2,i=.2;e=e.slice(0);var Z=e.length,s=A?0:2;
for(var D=0;D<5;D++)for(var c=s;c<e.length-s;c+=2){var n=(c-2+Z)%Z,S=(c+2)%Z,F=e[c],$=e[c+1],m=(e[n]+e[S])*.5,J=(e[n+1]+e[S+1])*.5;
e[c]=F+(m-F)*i;e[c+1]=$+(J-$)*i}if(a)return j.r.Qa.uL(e,null,!A);j.r.B7();var w=new paper.Path;w.remove();
w.closed=A;for(var c=0;c<e.length;c+=2)w.add(new paper.Point(e[c],e[c+1]));w.simplify(N);var f=[{type:6},{type:8,all:0}];
f=f.concat(j.r.A6(w));return f};j.r.wg=function(e,A,a){var p=e[A].length,N=e[A].type,i=0,Z=e.slice(A+1,A+1+p);
for(var c=0;c<p;c++){var s=a[(c-1+p)%p],D=a[(c+1+p)%p],n=a[c];if(n!=0){var S=Z[(c-1+p)%p].H,F=Z[(c+0+p)%p].H,$=Z[(c+1+p)%p].H,m=k7.nR(F,S),J=k7.nR(F,$),w=j.p.qW(S.x,S.y,F.x,F.y,$.x,$.y,n)[0],f=Math.min(w,s==0?m:m/2,D==0?J:J/2);
n*=f/w;var b=j.p.ajk(S.x,S.y,F.x,F.y,$.x,$.y,n),L={type:N+1,x3:new k7(b[2],b[3]),H:new k7(b[2],b[3]),iD:new k7(b[4],b[5])},C={type:N+1,x3:new k7(b[6],b[7]),H:new k7(b[8],b[9]),iD:new k7(b[8],b[9])};
e.splice(A+i+1,1,L,C);i++;e[A].length++}i++}};j.r.R_=function(e){for(var c=0;c<e.length;c++){var A=e[c],a=A.type;
if(a==1||a==2||a==4||a==5)if(!A.H.Kx(A.x3)||!A.H.Kx(A.iD))return!1}return!0};j.r.$F=function(e){if(e.length!=7||e[2].length!=4||!j.r.R_(e))return!1;
for(var c=0;c<4;c++){var A=!0;for(var a=0;a<4;a++){var p=e[3+(c+a&3)],N=e[3+(c+a+1&3)];if(p.H.x!=N.H.x&&p.H.y!=N.H.y)A=!1}if(A)return!0}return!1};
j.r.a46=function(e){if(e.length<6)return 0;var A=e.length-2,a=0;for(var c=0;c<A;c+=2)a+=(e[c+2]-e[c])*(e[c+1]+e[c+3]);
a+=(e[0]-e[A])*(e[A+1]+e[1]);return-a*.5};j.r.sM=function(e){e=u.eP.Zo(e);var A=j.r.yP(e);for(var a=0;
a<A;a++){var p=j.r.VS(e,a)+1,N=e[p-1].length,i=[];for(var c=0;c<N;c++){var Z=e[p+c].H;i.push(Z.x,Z.y)}var s=j.r.a46(i);
if(s<0)j.r.a74(e,p-1)}return e};j.r.a74=function(e,A){var a=A+1,p=e[A].length,N=[];for(var c=0;c<p;c++){var i=e[a+c],Z=i.x3;
i.x3=i.iD;i.iD=Z;N.push(i)}for(var c=0;c<p;c++)e[a+c]=N[p-1-c]};j.r.Qa={};j.r.Qa.uL=function(e,A,a){var p=[{type:6},{type:8,all:0}],N=null;
p.push({type:a?3:0,kR:1,length:0,JS:0,mH:0,wk:1});if(A==0||A==null)N=null;else if(A instanceof Array)N=A;
else{N=[];for(var c=0;c<e.length;c+=2)N.push(A)}p=p.concat(j.r.a1B(e,a));p[2].length=p.length-3;if(N)j.r.wg(p,2,N);
return p};j.r.Qa.aew=function(e,A,a,p,N){var i=[],Z=[],s=.553,D=1,n=-1;i.push({type:1,x3:new k7(0,s),H:new k7(0,0),iD:new k7(0,-s)});
N+=2;for(var c=0;c<N;c++){var S={type:1};if(c==0){S.H=new k7(1,-1);S.x3=new k7(1-s,-1);S.iD=new k7(1+s,-1)}else{var F=-(c+2)*Math.PI/2,$=1+((c&1)==1?c-1:c),m=Math.sin(F),J=Math.cos(F);
D+=$*(m-J);n+=$*(J+m);S.H=new k7(D,n);S.x3=new k7(D+$*J*s,n-$*m*s);if((c&1)==1)$+=2;S.iD=new k7(D-$*J*s,n+$*m*s)}var w={type:1,x3:new k7(-S.iD.x,-S.iD.y),H:new k7(-S.H.x,-S.H.y),iD:new k7(-S.x3.x,-S.x3.y)};
i.push(S);if(c<N-2)Z.push(w)}Z.reverse();i=i.concat(Z);var f=[{type:6},{type:8,all:0}];f.push({type:0,kR:1,length:i.length,JS:0,mH:0,wk:1});
f=f.concat(i);var b=new bj(a/N,0,0,a/N,0,0);b.rotate(p);b.translate(e,A);j.r.nM(f,b);return f};j.r.Qa.Rect=function(e,A,a,p,N){var i=[e,A,e+a,A,e+a,A+p,e,A+p];
return j.r.Qa.uL(i,N)};j.r.Qa.et=function(e,A,a,p,N,i,Z,s){var D=[],n=2*Math.PI/N;for(var c=0;c<N;c++)D.push(Math.cos(c*n-p),Math.sin(c*n-p));
if(Z!=null){var S=j.p.i9(D),F=S.m,$=S.n,m=Z/(F/2),J=s/($/2);for(var c=0;c<D.length;c+=2){D[c]=(D[c]-(S.x+F/2))*m;
D[c+1]=(D[c+1]-(S.y+$/2))*J}a=1}var w=new bj(a,0,0,a,0,0);w.translate(e,A);j.p.D(D,w,D);return j.r.Qa.uL(D,i)};
j.r.Qa.l1=function(e,A,a,p,N,i,Z){var s=[],D=Math.PI/N;for(var c=0;c<N*2;c++){var n=(c&1)==0?1:Z;s.push(n*Math.cos(c*D),n*Math.sin(c*D))}var S=new bj(a,0,0,a,0,0);
S.rotate(p);S.translate(e,A);j.p.D(s,S,s);return j.r.Qa.uL(s,i)};j.r.Qa._e=function(e,A,a,p,N){return j.r.Qa.eI(0,e,A,a,p,N)};
j.r.Qa.an6=function(e,A,a,p,N,i){return j.r.Qa.eI(1,e,A,a,p,N,i)};j.r.Qa.Wg=function(e,A,a,p,N,i){return j.r.Qa.eI(2,e,A,a,p,N,i)};
j.r.Qa.eI=function(e,A,a,p,N,i,Z){var s=Math.sqrt((p-A)*(p-A)+(N-a)*(N-a)),D;i/=2;if(e==0)D=[-i,0,i,0,i,s,-i,s];
if(e==1){var n=i*2*Z*1.3/1.5,S=i*Z;D=[-i,0,i,0,i,s-n,S,s-n,0,s,-S,s-n,-i,s-n]}if(e==2){var n=Z[3],S=Z[2]/2,F=n*(2/3)*Z[4]/100,$=n-F,m=n;
D=[];if(Z[0])D.push(-i,$,-S,m,0,0,S,m,i,$);else D.push(-i,0,i,0);if(Z[1])D.push(i,s-$,S,s-m,0,s,-S,s-m,-i,s-$);
else D.push(i,s,-i,s)}var J=new bj(1,0,0,1,0,0);J.rotate(Math.atan2(-N+a,p-A)+Math.PI/2);J.translate(A,a);
j.p.D(D,J,D);return j.r.Qa.uL(D,0)};j.r.Qa.CH=function(e,A,a,p){var N=[{type:6},{type:8,all:0}],F=.553;
N.push({type:0,kR:1,length:4,JS:0,mH:0,wk:1});var i=e,Z=A,s=e+a,D=A+p,e=(i+s)/2,A=(Z+D)/2,n=(i-s)/2,S=(Z-D)/2;
N.push({type:1,x3:new k7(e-F*n,A-S),H:new k7(e,A-S),iD:new k7(e+F*n,A-S)});N.push({type:1,x3:new k7(e+n,A-F*S),H:new k7(e+n,A),iD:new k7(e+n,A+F*S)});
N.push({type:1,x3:new k7(e+F*n,A+S),H:new k7(e,A+S),iD:new k7(e-F*n,A+S)});N.push({type:1,x3:new k7(e-n,A+F*S),H:new k7(e-n,A),iD:new k7(e-n,A-F*S)});
return N};j.r.Qa.acy=function(e,A,a,p,N){var i=[{type:6},{type:8,all:0}];i.push({type:3,kR:1,length:5,JS:0,mH:0,wk:1});
var Z=(N-p)/4;for(var c=0;c<5;c++){var s=c*Z,D=Math.cos(s),n=Math.sin(s),S=.553*(Z/(Math.PI/2)),F=n*S,$=-D*S,m=new k7(D,n);
i.push({type:4,x3:c==0?m.clone():new k7(D+F,n+$),H:m,iD:c==4?m.clone():new k7(D-F,n-$)})}var J=new bj;
J.rotate(-p);J.scale(a,a);J.translate(e,A);j.r.nM(i,J);return i};j.Ww={};j.Ww.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
j.Ww.$O=function(e){var A=e.warpStyle.v.warpStyle;if(A=="warpNone")return!0;else if(A=="warpCustom"){var a=!1,p=e.customEnvelopeWarp.v.meshPoints.v.arr,N=p[0].arr,i=p[1].arr;
for(var c=0;c<4;c++)for(var Z=0;Z<4;Z++){if(Math.abs(N[c]-N[Z*4+c])>1||Math.abs(i[c*4]-i[c*4+Z])>1)a=!0}return!a}else return e.warpValue.v==0&&e.warpPerspective.v==0&&e.warpPerspectiveOther.v==0};
j.Ww.Q=function(e){var A={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(e){A.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:e.y}},Left:{t:"UntF",v:{type:"#Pxl",val:e.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:e.y+e.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:e.x+e.m}}}};
A.uOrder={t:"long",v:4};A.vOrder={t:"long",v:4}}return A};j.Ww.as6=function(e,A,a,p){for(var c=0;c<e.length;
c+=2){var N=e[c],i=e[c+1],Z=(N-A.x)/A.m,s=(i-A.y)/A.n,D=(1-a)/2,n=1-D,S=D+Z*(n-D);s=.5+(s-.5)*S*2;var F=(1-p)/2,$=1-F,m=F+s*($-F);
Z=.5+(Z-.5)*m*2;N=A.x+Z*A.m;i=A.y+s*A.n;e[c]=N;e[c+1]=i}};j.Ww.bp=function(e,A){var a=[],p=[];for(var c=0;
c<e.length;c+=2){a.push(e[c]);p.push(e[c+1])}var N=[];N.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:a});
N.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:p});A.warpStyle.v.warpStyle="warpCustom";A.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:N}}}}};
j.Ww.uB=function(e,A){if(A==null){var a=e.bounds.v,p=a.Left.v.val,N=a.Rght.v.val,i=a.Top.v.val,Z=a.Btom.v.val;
if(p==null){p=a.Left.v,N=a.Rght.v;i=a.Top.v,Z=a.Btom.v}A=new dE(p,i,N-p,Z-i)}if(A.QP())A.m=A.n=1;var s=[],D=e.warpStyle.v.warpStyle;
if(D=="warpCustom"){var n=e.customEnvelopeWarp.v.meshPoints.v.arr,S=n[0].arr,F=n[1].arr;for(var c=0;
c<16;c++)s.push(S[c],F[c])}else s=j.Ww.Ww(A,D,e.warpRotate.v.Ornt=="Hrzn",e.warpValue.v/100,e.warpPerspective.v/100,e.warpPerspectiveOther.v/100);
return s};j.Ww.Ww=function(e,A,a,p,N,i){var Z=j.ay.Q(e.x,e.y,e.m,e.n);if(A=="warpNone")return Z;var s=JSON.parse(JSON.stringify(e)),D=new bj;
if(!a){D.translate(-e.x,-e.y);D.rotate(-Math.PI/2);D.translate(e.n,0);j.p.D(Z,D,Z);e=new dE(0,0,e.n,e.m);
Z=j.ay.PK(Z,!1)}j.Ww.apI(Z,e,A,p,N,i);if(!a){Z=j.ay.PK(Z,!0);e=s;D.rQ();j.p.D(Z,D,Z)}if(p==0)j.Ww.as6(Z,e,N,i);
else{var D=new bj(1/e.m,0,0,1/e.n,-e.x,-e.y);D.translate(-.5,-.5);j.p.D(Z,D,Z);j.Ww.a6a(Z,i,N);D.rQ();
j.p.D(Z,D,Z)}return Z};j.Ww.apI=function(e,A,a,p,N,i){for(var c=0;c<4;c++){for(var Z=0;Z<4;Z++){var s=2*(4*c+Z),D=e[s]-A.x,n=e[s+1]-A.y,S=D,F=n;
if(p!=0){var $=A.m/2,m=A.n/2;S-=$;F-=m;var J=S,w=S,f=-m,b=m,L=Math.abs(p),C=Math.tan((1-L)*Math.PI/2),M=Math.sqrt(C*C+1),y=Math.atan2(1,C),Q=S/$*y,k=$*M,E=$*M+A.n,_=Math.cos(y),v=Math.sin(y),V=j.Ww.ark(_,v),R=j.Ww.awV(_,v),h=-C*$+V*k;
if(a=="warpArc"){J=Math.sin(Q)*E;f=C*$-Math.cos(y)*E+m;w=Math.sin(Q)*k;b=C*$-Math.cos(y)*k+m;if(Z==1||Z==2){J=Z==1?-R*E:R*E;
w=Z==1?-R*k:R*k;f=C*$+m-V*E;b=C*$+m-V*k}if(p<0){var P=J;J=w;w=P;P=f;f=-b;b=-P}}if(a=="warpArcLower"){if(Z==1||Z==2){w=Z==1?-R*k:R*k;
b=p<0?m-h:m+h}}if(a=="warpArcUpper"||a=="warpArch"||a=="warpBulge"){if(Z==1||Z==2){J=Z==1?-R*k:R*k;f=p<0?-m+h:-m-h}if(a=="warpArch"){w=J;
b=f+2*m}if(a=="warpBulge"){w=J;b=-f}}if(a=="warpFish"||a=="warpFlag"||a=="warpWave"){var H=Z;if(a=="warpFlag")H=3-Z;
if(H==1){f-=p*4*m;b+=p*4*m}if(H==2){f+=p*4*m;b-=p*4*m}if(a=="warpFlag"||a=="warpWave")f=b-2*m}if(a=="warpRise"){if(Z<2)f=-m+p*m*4;
b=f+2*m}var U=(F+m)/A.n;S=J+U*(w-J);F=f+U*(b-f);if(a=="warpWave"){if(c==0)F=-m;if(c==3)F=m;if(c==1||c==2)F=2*m*(c/3-.5)*(1/3)+F*(2/3)}if(a=="warpFisheye"){if((c==1||c==2)&&(Z==1||Z==2)){S=S+4*S*p;
F=F+4*F*p}}if(a=="warpInflate"){var X=2/3;if((c==1||c==2)&&(Z==1||Z==2)){S=S+.5*S*p;F=F+.5*F*p}else if(c==1||c==2)S=S+X*S*p;
else if(Z==1||Z==2)F=F+X*F*p}if(a=="warpSqueeze"){var X=2/3;if((c==1||c==2)&&(Z==1||Z==2)){if(p>0)S=S-X*S*p;
else F=F+X*F*p}else if(c==1||c==2)S=S-X*S*p;else if(Z==1||Z==2)F=F+X*F*p}if(a=="warpTwist"){if((c==1||c==2)&&(Z==1||Z==2)){var x=p*Math.PI/2,M=1+Math.abs(p)*2,K=S*Math.cos(x)-F*Math.sin(x),T=S*Math.sin(x)+F*Math.cos(x);
S=K*M;F=T*M}}if(a=="warpShellLower"||a=="warpShellUpper"){if(a=="warpShellUpper"){c=3-c;F=-F}if(c>2||c==2&&(Z==0||Z==3)){if(p>0){var I=k+c/3*2*m;
S=Math.sin(Q)*I;F=-C*$-m+Math.cos(Q)*I;if(Z==1||Z==2){S=Z==1?-R*I:R*I;F=-C*$-m+V*I}}else{if((Z==1||Z==2)&&c==3){S=Z==1?-R*k:R*k;
F=C*$-V*k+m}else if(c==2){F=m-m*(2/3)*Math.cos(Q);S=S+m*(2/3)*Math.sin(Q)}}}if(a=="warpShellUpper"){c=3-c;
F=-F}}S+=$;F+=m}D=S,n=F;e[s]=D+A.x;e[s+1]=n+A.y}}};j.Ww.a6a=function(e,A,a){var p=[];for(var N=0;N<4;
N++)p.push(1-a+N/3*2*a);var i=[];for(var N=0;N<4;N++)i.push(1-A+N/3*2*A);var Z=[0,0,0,0],s=[0,0,0,0];
for(var c=0;c<4;c++)for(var N=0;N<4;N++){var D=2*(4*c+N),n=e[D],S=e[D+1];Z[N]+=n/4;s[N]+=S/4}for(var c=0;
c<4;c++)for(var N=0;N<4;N++){var F=p[N],D=2*(4*c+N),n=e[D],S=e[D+1],$=Z[N],m=s[N];e[D]=$+F*(n-$);e[D+1]=m+F*(S-m)}var J=e.slice(0);
for(var c=0;c<4;c++)for(var N=1;N<3;N++){var D=2*(4*c+N),n=e[D],S=e[D+1],w=D+(N==1?-2:2),f=e[w],b=e[w+1];
e[D]=n-f;e[D+1]=S-b}var L=e[0],C=e[1],M=e[8],y=e[9],Q=e[16],k=e[17],E=e[24],_=e[25],v=e[6],V=e[7],R=e[14],h=e[15],P=e[22],H=e[23],U=e[30],X=e[31],x=v-L,K=V-C,T=R-M,I=h-y,o=P-Q,l=H-k,O=U-E,g=X-_;
for(var c=0;c<4;c++){var W=2*c*4,d=0,gT=0,r=c==1?.33:.66,G=1-r;if(c==0){d=x;gT=K}if(c==1){d=G*x+r*-O;
gT=G*K+r*-g}if(c==2){d=G*x+r*-O;gT=G*K+r*-g}if(c==3){d=-O;gT=-g}e[W]=e[W]+d/2;e[W+1]=e[W+1]+gT/2;e[W+6]=e[W+6]-d/2;
e[W+7]=e[W+7]-gT/2}for(var c=0;c<4;c++)for(var N=1;N<3;N++){var D=2*(4*c+N),n=e[D],S=e[D+1],w=D+(N==1?-2:2),f=e[w],b=e[w+1],F=2*c/3;
e[D]=f+F*n;e[D+1]=b+F*S}for(var c=1;c<3;c++)for(var N=1;N<3;N++){var D=2*(4*c+N),n=e[D],S=e[D+1],Y=c==1?-8:-16,fk=c==1?16:8,eJ=e[D+Y],eS=e[D+Y+1],gL=e[D+fk],cX=e[D+fk+1],F=c/3;
n=(1-F)*eJ+F*gL;S=(1-F)*eS+F*cX;e[D]=n;e[D+1]=S}j.p.hB(J,e,e,A)};j.Ww.ark=function(e,A){return(4-e)*(1/3)};
j.Ww.awV=function(e,A){return(1-e)*(3-e)/(3*A)};j.rF={};j.rF.aey=function(e,A,a,p,N,i,Z,s,D,n){for(var S=0;
S<s;S++)for(var F=0;F<Z;F++){var $=3*(S*Z+F),m=S+i,J=F+N,w=e[m*A+J];p[$]=w;p[$+1]=w;p[$+2]=w}};j.rF.kZ=function(e,A,a,p,N,i,Z,s,D,n){var S=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],F=1/D,$=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],m=new Uint32Array(6);
for(var J=0;J<s;J++){for(var w=0;w<Z;w++){var f=3*(J*Z+w),b=J+i,L=w+N;m[0]=0;m[1]=0;m[2]=0;m[3]=0;m[4]=0;
m[5]=0;for(var c=0;c<16;c+=2){var C=L+$[c],M=b+$[c+1],y=C-D*~~(C*F),Q=M-D*~~(M*F),k=n[Q*D+y];m[k]+=e[M*A+C];
m[k+3]++}var C=L,M=b,y=C-D*~~(C*F),Q=M-D*~~(M*F),k=n[Q*D+y];m[k]=e[b*A+L];m[k+3]=1;p[f]=m[0]*S[m[3]];
p[f+1]=m[1]*S[m[4]];p[f+2]=m[2]*S[m[5]]}}};j.rF.e$=function(e,A,a){for(var c=0;c<a;c+=2)e[A+c]=e[A+c+1];
A=A+a;for(var c=0;c<a;c+=2)e[A+c+1]=e[A+c]};j.rF.ik=function(e,A,a,p){for(var c=0;c<p;c+=2){var N=A+c*a;
e[N]=e[N+a];e[N+a+1]=e[N+1]}};j.rF.Lo=function(e,A,a,p,N,i){var Z=p[N],s=p[N+1],D=p[i],n=p[i+1],S=s+D>>>1;
e[A]=e[A+3]=e[a]=e[a+3]=Z;e[A+1]=S;e[A+4]=s;e[a+1]=D;e[a+4]=S;e[A+2]=e[A+5]=e[a+2]=e[a+5]=n};j.rF.aoL=function(e,A,a,p,N,i){var Z=i*3;
for(var c=0;c<i;c+=2){var s=A+c,D=N+c*3;j.rF.Lo(p,D,D+Z,e,s,s+a)}};j.rF.ai9=function(e,A,a,p,N,i,Z){var s=i*3;
for(var c=0;c<Z;c+=2){var D=A+c*a,n=N+c*i*3;j.rF.Lo(p,n,n+s,e,D,D+a)}};j.rF.st=function(e,c,A){var a=e[c-A-A],p=e[c-A],N=e[c-2],i=e[c-1],Z=e[c],s=e[c+1],D=e[c+2],n=e[c+A],S=e[c+A+A],F=Math.abs(p-n),$=Math.abs(i-s),m=Math.abs(Z-a)*2+F,J=Math.abs(Z-D)*2+$,w=Math.abs(Z-N)*2+$,f=Math.abs(Z-S)*2+F,b=Math.min(m,Math.min(J,Math.min(w,f)));
if(b==m)return p*3+n+Z-a>>2;if(b==J)return s*3+i+Z-D>>2;if(b==w)return i*3+s+Z-N>>2;return n*3+p+Z-S>>2};
j.rF.qd=function(e,A,a,p,N){if(e<A&&A<a||e>A&&A>a)return~~(.5+p+(N-p)*(A-e)/(a-e));else return(p+N>>1)+(A+A-e-a>>2)};
j.rF.hw=function(e,A,c,a){var p=A[c-a-1],N=A[c-a+1],i=A[c],Z=A[c+a-1],s=A[c+a+1],D=e[c-a-1],n=e[c-a+1],S=e[c],F=e[c+a-1],$=e[c+a+1],m=Math.abs(n-F)+Math.abs(e[c-a-a+2]-S)+Math.abs(S-e[c+a+a-2])+Math.abs(N-i)+Math.abs(i-Z),J=Math.abs(D-$)+Math.abs(e[c-a-a-2]-S)+Math.abs(S-e[c+a+a+2])+Math.abs(p-i)+Math.abs(i-s);
if(m<J)return j.rF.qd(N,i,Z,n,F);else return j.rF.qd(p,i,s,D,$)};j.rF.or=function(e,A,a,p,N,i){e[A+0]=a[N];
e[A+1]=p[N];e[A+2]=j.rF.hw(a,p,N,i)};j.rF.Ha=function(e,A,a,p,N,i){var Z=p[N];e[A+0]=j.rF.qd(p[N-1],Z,p[N+1],a[N-1],a[N+1]);
e[A+1]=Z;e[A+2]=j.rF.qd(p[N-i],Z,p[N+i],a[N-i],a[N+i])};j.rF.M1=function(e,A,a,p,N,i){var Z=p[N];e[A+0]=j.rF.qd(p[N-i],Z,p[N+i],a[N-i],a[N+i]);
e[A+1]=Z;e[A+2]=j.rF.qd(p[N-1],Z,p[N+1],a[N-1],a[N+1])};j.rF.E9=function(e,A,a,p,N,i){e[A+0]=j.rF.hw(a,p,N,i);
e[A+1]=p[N];e[A+2]=a[N]};j.rF.a1o=function(e,A,a,p,N,i,Z,s,D){var n=Date.now(),S=2,F=A-2,$=2;if((N&1)==1){S++;
F--}var m=a-2;if((i&1)==1){$++;m--}if(D==1||D==3){S++;F--}var J=e.slice(0);j.rF.e$(J,0,A);j.rF.ik(J,0,A,a);
j.rF.ik(J,A-2,A,a);j.rF.e$(J,(a-2)*A,A);for(var w=$;w<m;w+=2)for(var f=S;f<F;f+=2){var c=w*A+f,b=j.rF.st(J,c,A),L=j.rF.st(J,c+A+1,A);
J[c]=Math.max(0,b);J[c+A+1]=Math.max(0,L)}var C=Z,M=s;if(i+s==a){M-=2;j.rF.aoL(e,(a-2)*A+N,A,p,(s-2)*Z*3,Z)}if(N+Z==A){C-=2;
j.rF.ai9(e,i*A+N+Z-2,A,p,(Z-2)*3,Z,s)}if(D==0)for(var w=0;w<M;w+=2)for(var f=0;f<C;f+=2){var y=(w+i)*A+f+N,Q=(w*Z+f)*3;
j.rF.or(p,Q,e,J,y,A);j.rF.Ha(p,Q+3,e,J,y+1,A);y+=A;Q+=3*Z;j.rF.M1(p,Q,e,J,y,A);j.rF.E9(p,Q+3,e,J,y+1,A)}else if(D==1)for(var w=0;
w<M;w+=2)for(var f=0;f<C;f+=2){var y=(w+i)*A+f+N,Q=(w*Z+f)*3;j.rF.Ha(p,Q,e,J,y,A);j.rF.or(p,Q+3,e,J,y+1,A);
y+=A;Q+=3*Z;j.rF.E9(p,Q,e,J,y,A);j.rF.M1(p,Q+3,e,J,y+1,A)}else if(D==2)for(var w=0;w<M;w+=2)for(var f=0;
f<C;f+=2){var y=(w+i)*A+f+N,Q=(w*Z+f)*3;j.rF.E9(p,Q,e,J,y,A);j.rF.M1(p,Q+3,e,J,y+1,A);y+=A;Q+=3*Z;j.rF.Ha(p,Q,e,J,y,A);
j.rF.or(p,Q+3,e,J,y+1,A)}else if(D==3)for(var w=0;w<M;w+=2)for(var f=0;f<C;f+=2){var y=(w+i)*A+f+N,Q=(w*Z+f)*3;
j.rF.M1(p,Q,e,J,y,A);j.rF.E9(p,Q+3,e,J,y+1,A);y+=A;Q+=3*Z;j.rF.or(p,Q,e,J,y,A);j.rF.Ha(p,Q+3,e,J,y+1,A)}};
j.raw={};j.raw.aaE=function(e){var A=Date.now(),a=e.width,p=e.height,N=0,i=0,Z=a,s=p;if(e.t50829){var D=e.t50829;
N=D[1];i=D[0];Z=D[3];s=D[2]}if(e.t50720&&e.t50720[0]*1.2>a){if(e.t50719){var n=e.t50719;N+=n[0]>>1<<1;
i+=n[1]>>1<<1}if(e.t50720){var S=e.t50720;Z=N+S[0];s=i+S[1]}}var F=Z-N,$=s-i,m=j.raw.aq6(e),J=e.t33422,w=e.t33421;
if(w){var S=w[0],f=J.slice(0);for(var b=0;b<S;b++)for(var L=0;L<S;L++){var C=(L+(N&1))%S,M=(b+(i&1))%S;
f[b*S+L]=J[M*S+C]}J=f}if(e.t277[0]==1&&J)j.raw.a9m(m,a,p,e,J);j.raw.ZN(2,e,m,a,p);var y=new Float32Array(F*$*3);
if(e.t277[0]==1){if(w==null){j.rF.aey(m,a,p,y,N,i,F,$)}else if(w.length!=2||w[0]!=2||w[1]!=2){console.log("Unknown CFA pattern size",w);
j.rF.kZ(m,a,p,y,N,i,F,$,w[0],J)}else{var Q=e.t33422.join(","),k=0;if(Q=="0,1,1,2")k=0;else if(Q=="1,0,2,1")k=1;
else if(Q=="2,1,1,0")k=2;else if(Q=="1,2,0,1")k=3;else throw"Unknown CFA pattern "+Q;if((F&1)!=0||($&1)!=0)throw"e";
j.rF.a1o(m,a,p,y,N,i,F,$,k)}}else{for(var b=0;b<$;b++)for(var L=0;L<F;L++){var E=((b+i)*a+L+N)*3,_=(b*F+L)*3;
y[_+0]=m[E+0];y[_+1]=m[E+1];y[_+2]=m[E+2]}}var v=y,V=y.length,R=j.raw.ny(e),h=1/R;for(var c=0;c<V;c+=3){y[c]=v[c]*h;
y[c+1]=v[c+1]*h;y[c+2]=v[c+2]*h}j.raw.ZN(3,e,y,F,$);var P=e.Bb,H=F,U=$;if(P==1||P==9){}else{var X=j.raw.NO(P,F,$),_=0;
H=X[0];U=X[1];var x=y.slice(0);for(var b=0;b<U;b++)for(var L=0;L<H;L++){var K=X[2]*L+X[3]*b+X[4],T=X[5]*L+X[6]*b+X[7],E=(T*F+K)*3;
y[_]=x[E];y[_+1]=x[E+1];y[_+2]=x[E+2];_+=3}}return{Qi:y,tG:H,Ds:U}};j.raw.NO=function(e,A,a){var p=A,N=a;
if(!1){}else if(e==2)return[A,a,-1,0,A-1,0,1,0];else if(e==3)return[A,a,-1,0,A-1,0,-1,a-1];else if(e==4)return[A,a,1,0,0,0,-1,a-1];
else if(e==5)return[a,A,0,1,0,1,0,0];else if(e==6)return[a,A,0,1,0,-1,0,a-1];else if(e==7)return[a,A,0,-1,A-1,-1,0,a-1];
else if(e==8)return[a,A,0,-1,A-1,1,0,0];else throw"unknown orientation "+e};j.raw.a9m=function(e,A,a,p,N){var i=Date.now(),h=0,U=0;
if(j.raw.ny(p)>4e4){for(var c=0;c<e.length;c++)e[c]>>=1;var Z=["t50714","t50715","t50712","t50717"];
for(var c=0;c<Z.length;c++){var s=p[Z[c]];if(s)for(var D=0;D<s.length;D++)s[D]>>>=1}console.log("remapping to lower bit depth")}var n=~~Math.sqrt(N.length),S=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],F=[];
for(var $=0;$<n;$++)for(var m=0;m<n;m++){var c=$*n+m,J=N[c],w=4,f=4,b=8,L=0,C=0;for(var D=0;D<18;D+=2){var M=(n+m+S[D])%n,y=(n+$+S[D+1])%n,Q=N[y*n+M];
if(Q==J){}else if(w==4){w=Q;L=D}else if(f==4&&Q!=w){f=Q;C=D;break}}if(f<w){var k=f;f=w;w=k;k=C;C=L;L=k}if(w<J){var k=w;
w=J;J=k;k=L;L=b;b=k}if(f<w){var k=f;f=w;w=k;k=C;C=L;L=k}F[c*3]=S[b+1]*A+S[b];F[c*3+1]=S[L+1]*A+S[L];
F[c*3+2]=S[C+1]*A+S[C]}var E=~~(.996*j.raw.ny(p)),_=~~(.992*j.raw.ny(p)),v=p.t50728;if(v==null||v[0]==0)v=[1,1,1];
var V=[],R=[0,0,0];for(var $=1;$<a-1;$++)for(var m=1;m<A-1;m++){var c=$*A+m,P=$%n*n+m%n,J=e[c+F[P*3+0]],w=e[c+F[P*3+1]],f=e[c+F[P*3+2]],H=Math.max(J,w,f);
if(H>E)V.push(c);else if(H>_){R[0]+=J;R[1]+=w;R[2]+=f;h++}}if(V.length==0)return;if(h/(A*a)<1e-5){console.log("not enough semi-saturated pixels",h);
R=v}if(R[1]<R[U])U=1;if(R[2]<R[U])U=2;var X=[R[0]/R[U],R[1]/R[U],R[2]/R[U]],x=e.slice(0);for(var K=0;
K<V.length;K++){var c=V[K],$=~~(c/A),m=c-$*A,P=$%n*n+m%n,T=Math.min(65535,~~(e[c+F[P*3+U]]*X[N[P]]));
if(T>x[c])x[c]=T}e.set(x)};j.raw.hK=function(e,A,a,p){var N=Math.round(e.length/3),i=fS.j1(p[0],p[1]),Z=j.raw.aaP(a,i),s=j.mV.multiply(j.mV.cy,Z),D=Math.pow(2,a.t50730?a.t50730[0]:0);
s=j.mV.multiply(s,j.mV.cD(D,D,D));var n=j.raw.hK.aub;if(n==null){n=j.raw.hK.aub=new Float64Array(8e3);
for(var c=0;c<8e3;c++)n[c]=j.Vq(c*(1/1e3))}for(var c=0;c<N;c++){var S=c<<2,F=S-c,$=e[F],m=e[F+1],J=e[F+2],w=s[0]*$+s[1]*m+s[2]*J,f=s[4]*$+s[5]*m+s[6]*J,b=s[8]*$+s[9]*m+s[10]*J;
if(w<0)w=0;if(f<0)f=0;if(b<0)b=0;A[F]=n[~~(w*1e3)];A[F+1]=n[~~(f*1e3)];A[F+2]=n[~~(b*1e3)]}};j.raw.aq6=function(e){var A=e.width,a=e.height,p=A*a*e.t277,N=new Uint16Array(p),i=null,Z=0;
j.raw.aoZ(e,N);j.raw.ZN(1,e,N,A,a);if(e.t50712){i=e.t50712;Z=i.length-1;if(i[Z]>65535)throw"too big values"}var s=j.raw.R$(e),D=j.raw.B4(e);
if(i==null)for(var c=0;c<p;c++)N[c]=Math.max(0,N[c]-s);else for(var c=0;c<p;c++){var n=N[c];if(n>Z)n=Z;
n=i[n];N[c]=Math.max(0,n-s)}return N};j.raw.R$=function(e){var A=e.t50714,a=A?A[0]:0,p=e.t50715,N=e.t50716;
if(p)a+=p[0][0]/p[0][1];if(N)a+=N[0][0]/N[0][1];return Math.round(a)};j.raw.B4=function(e){var A=null,a=0;
if(e.t50712){A=e.t50712;a=A.length-1}var p=e.t50717?e.t50717[0]:(1<<e.t258[0])-1;if(A)p=Math.min(p,A[a]);
return p};j.raw.ny=function(e){var A=j.raw.R$(e),a=j.raw.B4(e);return a-A};j.raw.aoZ=function(e,A){var a=A.length,p=e.data,N=e.t258[0];
if(N!=16&&N!=14&&N!=12&&N!=10&&N!=8)throw"Unsupported Bits Per Sample:"+N;N=Math.round(p.length*8/a);
if(N==16&&e.isLE){j.GZ(p,A);return}for(var c=0;c<a;c+=2){var i=0,Z=0,s=0;if(N==16){i=c<<1;Z=p[i]<<8|p[i+1];
s=p[i+2]<<8|p[i+3]}else if(N==14){var D=c*14,n=D>>>3,S=p[n]<<24|p[n+1]<<16|p[n+2]<<8|p[n+3];if((D&7)==0){Z=S>>>18;
s=S>>>4&16383}else{Z=S>>>14&16383;s=S&16383}}else if(N==12){i=c+(c>>>1);Z=p[i]<<4|p[i+1]>>4;s=(p[i+1]&15)<<8|p[i+2]}else if(N==10){var D=c*10,n=D>>>3;
if((D&7)==0){Z=(p[n]<<2|p[n+1]>>6)&1023;s=(p[n+1]<<4|p[n+2]>>4)&1023}else{Z=(p[n]<<6|p[n+1]>>2)&1023;
s=(p[n+1]<<8|p[n+2]>>0)&1023}}else if(N==8){i=c;Z=p[i];s=p[i+1]}A[c]=Z;A[c+1]=s}};j.raw.aeh=function(e,A,a,p,N,i,Z){var s=e-.499999,D=A-.499999,n=~~s,S=~~D,F=s-n,$=D-S,m=(1-$)*(1-F),J=(1-$)*F,w=$*(1-F),f=$*F,b=(S*p+n)*3,L=((S+1)*p+n)*3,C=m*a[b]+J*a[b+3]+w*a[L]+f*a[L+3],M=m*a[b+1]+J*a[b+4]+w*a[L+1]+f*a[L+4],y=m*a[b+2]+J*a[b+5]+w*a[L+2]+f*a[L+5];
i[Z]=C;i[Z+1]=M;i[Z+2]=y};j.raw.ZN=function(e,A,a,p,N){var i=A["t"+[51008,51009,51022][e-1]],S=0;if(i==null)return;
var Z=p*N,s=z.q,D=z.VD,n=new Uint8Array(i),jc=z.q(n,S);S+=4;for(var F=0;F<jc;F++){var $=s(n,S);S+=4;
var m=s(n,S);S+=4;var J=s(n,S);S+=4;var w=s(n,S);S+=4;if(!1){}else if($==1&&e==3){var f=S,b=s(n,f);f+=4;
var L=D(n,f);f+=8;var C=D(n,f);f+=8;var M=D(n,f);f+=8;var y=D(n,f);f+=8;var Q=D(n,f);f+=8;var k=D(n,f);
f+=8;f+=(b-1)*8*6;var E=D(n,f);f+=8;var _=D(n,f);f+=8;var v=E*p,V=_*N,R=Math.max(v,p-v),h=Math.max(V,N-V),P=Math.sqrt(R*R+h*h),H=1/P,U=a.slice(0);
for(var X=0;X<N;X++)for(var x=0;x<p;x++){var K=(x+.5-v)*H,T=(X+.5-V)*H,I=K*K+T*T,o=L+C*I+M*(I*I)+y*(I*I)*I,l=Q*(2*K*T)+k*(I+2*K*K),O=k*(2*K*T)+Q*(I+2*T*T),g=Math.min(v+P*(o*K+l),p-1),W=Math.min(V+P*(o*T+O),N-1),d=(X*p+x)*3;
j.raw.aeh(g,W,U,p,N,a,d)}}else if($==3&&e==3){var f=S,gT=D(n,f);f+=8;var r=D(n,f);f+=8;var G=D(n,f);
f+=8;var Y=D(n,f);f+=8;var fk=D(n,f);f+=8;var E=D(n,f);f+=8;var _=D(n,f);f+=8;var v=E*p,V=_*N,R=Math.max(v,p-v),h=Math.max(V,N-V),P=Math.sqrt(R*R+h*h),H=1/P;
for(var X=0;X<N;X++)for(var x=0;x<p;x++){var K=(x+.5-v)*H,T=(X+.5-V)*H,I=K*K+T*T,eJ=1+(gT+(r+(G+(Y+fk*I)*I)*I)*I)*I,d=(X*p+x)*3;
a[d]=eJ*a[d];a[d+1]=eJ*a[d+1];a[d+2]=eJ*a[d+2]}}else if($==4&&e==1){var f=S,eS=s(n,f);f+=4;var gL=s(n,f);
f+=4;for(var c=0;c<Z;c++)if(a[c]==eS)a[c]=a[c-2]+a[c+2]>>1}else if($==5&&e==1){var f=S,cX=s(n,f);f+=4;
var kj=s(n,f);f+=4;var gq=s(n,f);f+=4;for(var c=0;c<kj;c++){var iL=s(n,f);f+=4;var ew=s(n,f);f+=4;var c=iL*p+ew;
a[c]=a[c-2]+a[c+2]>>1}}else if($==7&&e==1){var f=S,dk=z.q6(n,f);f+=16;var j9=s(n,f);f+=4;var fh=s(n,f);
f+=4;var g9=s(n,f),k6=s(n,f+4);f+=8;var jx=s(n,f);f+=4;var fV=new Uint16Array(jx);for(var c=0;c<jx;c++)fV[c]=z.ex(n,f+2*c);
var ao=dk.m,b8=dk.n;for(var X=0;X<b8;X+=g9)for(var x=0;x<ao;x+=k6){var c=(dk.y+X)*p+(dk.x+x);a[c]=fV[a[c]]}}else if($==8&&e==2){var f=S,dk=z.q6(n,f);
f+=16;var j9=s(n,f);f+=4;var fh=s(n,f);f+=4;var g9=s(n,f),k6=s(n,f+4);f+=8;var ke=s(n,f);f+=4;var gj=[];
for(var c=0;c<=ke;c++)gj[c]=z.VD(n,f+c*8);var jf=dk.x,ay=dk.x+dk.m,fz=dk.y,ei=dk.y+dk.n,hC=A.t50717[0],iI=1/hC;
for(var gQ=0;gQ<fh;gQ++)for(var X=fz;X<ei;X+=g9){var d=3*X*p+j9+gQ;for(var x=jf;x<ay;x+=k6){var c=d+3*x,cb=a[c]*iI,dK=gj[ke];
for(var ha=ke;ha>0;ha--)dK=dK*cb+gj[ha-1];a[c]=Math.max(0,Math.min(65535,~~(dK*hC)))}}}else if($==9&&e==2){var f=S,dk=z.q6(n,f),bk=!0;
f+=16;var j9=s(n,f);f+=4;var fh=s(n,f);f+=4;var g9=s(n,f),k6=s(n,f+4);f+=8;var hA=s(n,f),dW=s(n,f+4);
f+=8;var fN=D(n,f),cQ=D(n,f+8);f+=16;var h6=D(n,f),hh=D(n,f+8);f+=16;var bA=s(n,f);f+=4;if(bA!=1)throw"more than one map plane";
var co=hA*dW,ej=new Float32Array(co);for(var ha=0;ha<co;ha++)ej[ha]=z.i3(n,f+ha*4);for(var ha=0;ha<co;
ha++)if(ej[ha]!=1)bk=!1;if(!bk){var ao=dk.m,b8=dk.n,h5=.9999*(dW-1)/ao,bg=.9999*(hA-1)/b8;for(var X=0;
X<b8;X+=g9)for(var x=0;x<ao;x+=k6){var c=(dk.y+X)*p+(dk.x+x),aQ=x*h5,fw=X*bg,jC=Math.floor(aQ),e0=Math.floor(fw),eU=aQ-jC,iV=fw-e0,d=e0*dW+jC,kh=ej[d]*(1-eU)+ej[d+1]*eU,hT=ej[d+dW]*(1-eU)+ej[d+1+dW]*eU,gi=kh*(1-iV)+hT*iV;
a[c]=Math.max(0,Math.min(65535,~~(a[c]*gi+.5)))}}}else console.log("Unknown opcode "+$+" in OpcodeList"+e+". Length: "+w);
S+=w}};j.raw.aaP=function(e,A){var a=fS.Qw(A),p=j.raw.y8(e,A),N=j.mV.rQ(p),i=fS.f5(a,fS.Qw(fS.aic)),Z=j.mV.multiply(i,N);
return Z};j.raw.axR=function(e){var A=e.t50728,N=1;if(A==null||A[0]==0)A=[1,1,1];var a=A.slice(0);a.push(0);
var p={x:.34567,y:.3585};do{var i=j.mV.rQ(j.raw.y8(e,p)),Z=j.mV._f(i,a),s=fS.a4p(Z);N=Math.abs(p.x-s.x)+Math.abs(p.y-s.y);
p=s}while(N>1e-7);return p};j.raw.y8=function(e,A){var a=fS.tK(A),p=j.raw.anR,N=e.t50778?e.t50778[0]:0,i=e.t50779?e.t50779[0]:0,Z=e.t50723,s=e.t50724;
if(Z&&Z.length==3)Z=null;if(s&&s.length==3)s=null;var D=p(e.t50721,e.t50722,N,i,a.vF),n=p(Z,s,N,i,a.vF);
D=D||[1,0,0,0,1,0,0,0,1];n=n||[1,0,0,0,1,0,0,0,1];var S=e.t50727?[e.t50727[0],0,0,0,e.t50727[1],0,0,0,e.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return j.mV.multiply(j.mV.HZ(S),j.mV.multiply(j.mV.HZ(n),j.mV.HZ(D)))};j.raw.anR=function(e,A,a,p,N){if(!e&&!A){return null}else if(e&&!A){return e}else if(N<a){return e}else if(N>p){return A}else{var i=(1/N-1/p)/(1/a-1/p),Z=1-i,s=[];
for(var c=0;c<9;c++)s[c]=e[c]*i+A[c]*Z;return s}};var fS={};fS.aic={x:.34567,y:.3585};fS.KL=[{o:0,ya:.18006,HG:.26352,Uz:-.24341},{o:10,ya:.18066,HG:.26589,Uz:-.25479},{o:20,ya:.18133,HG:.26846,Uz:-.26876},{o:30,ya:.18208,HG:.27119,Uz:-.28539},{o:40,ya:.18293,HG:.27407,Uz:-.3047},{o:50,ya:.18388,HG:.27709,Uz:-.32675},{o:60,ya:.18494,HG:.28021,Uz:-.35156},{o:70,ya:.18611,HG:.28342,Uz:-.37915},{o:80,ya:.1874,HG:.28668,Uz:-.40955},{o:90,ya:.1888,HG:.28997,Uz:-.44278},{o:100,ya:.19032,HG:.29326,Uz:-.47888},{o:125,ya:.19462,HG:.30141,Uz:-.58204},{o:150,ya:.19962,HG:.30921,Uz:-.70471},{o:175,ya:.20525,HG:.31647,Uz:-.84901},{o:200,ya:.21142,HG:.32312,Uz:-1.0182},{o:225,ya:.21807,HG:.32909,Uz:-1.2168},{o:250,ya:.22511,HG:.33439,Uz:-1.4512},{o:275,ya:.23247,HG:.33904,Uz:-1.7298},{o:300,ya:.2401,HG:.34308,Uz:-2.0637},{o:325,ya:.24792,HG:.34655,Uz:-2.4681},{o:350,ya:.25591,HG:.34951,Uz:-2.9641},{o:375,ya:.264,HG:.352,Uz:-3.5814},{o:400,ya:.27218,HG:.35407,Uz:-4.3633},{o:425,ya:.28039,HG:.35577,Uz:-5.3762},{o:450,ya:.28863,HG:.35714,Uz:-6.7262},{o:475,ya:.29685,HG:.35823,Uz:-8.5955},{o:500,ya:.30505,HG:.35907,Uz:-11.324},{o:525,ya:.3132,HG:.35968,Uz:-15.628},{o:550,ya:.32129,HG:.36011,Uz:-23.325},{o:575,ya:.32931,HG:.36038,Uz:-40.77},{o:600,ya:.33724,HG:.36051,Uz:-116.45}];
fS.tK=function(e){var A=fS.KL,a=2*e.x/(1.5-e.x+6*e.y),p=3*e.y/(1.5-e.x+6*e.y),N=0,i=0,Z=0;for(;Z<31;
Z++){N=p-A[Z].HG-A[Z].Uz*(a-A[Z].ya);if(Z>0&&N<0){break}i=N}while(Z>=A.length)Z--;N/=Math.sqrt(1+A[Z].Uz*A[Z].Uz);
i/=Math.sqrt(1+A[Z-1].Uz*A[Z-1].Uz);var s=i/(i-N),D=1e6/((A[Z].o-A[Z-1].o)*s+A[Z-1].o),n=a-((A[Z].ya-A[Z-1].ya)*s+A[Z-1].ya),S=p-((A[Z].HG-A[Z-1].HG)*s+A[Z-1].HG),F=Math.sqrt(1+A[Z].Uz*A[Z].Uz),$=1/F,m=A[Z].Uz/F,J=Math.sqrt(1+A[Z-1].Uz*A[Z-1].Uz),w=1/J,f=A[Z-1].Uz/J,b=($-w)*s+w,L=(m-f)*s+f,C=Math.sqrt(b*b+L*L);
b/=C;L/=C;var M=(n*b+S*L)*-3e3;return{vF:D,so:M}};fS.j1=function(e,A){var a=fS.KL,p=1e6/e,N=1;for(;N<31;
N++){if(p<a[N].o){break}}var i=(a[N].o-p)/(a[N].o-a[N-1].o),Z=(a[N-1].ya-a[N].ya)*i+a[N].ya,s=(a[N-1].HG-a[N].HG)*i+a[N].HG,D=Math.sqrt(1+a[N].Uz*a[N].Uz),n=1/D,S=a[N].Uz/D,F=Math.sqrt(1+a[N-1].Uz*a[N-1].Uz),$=1/F,m=a[N-1].Uz/F,J=($-n)*i+n,w=(m-S)*i+S,f=Math.sqrt(J*J+w*w);
J/=f;w/=f;Z+=J*A/-3e3;s+=w*A/-3e3;return{x:1.5*Z/(Z-4*s+2),y:s/(Z-4*s+2)}};fS.a4p=function(e){var A=e[0]+e[1]+e[2];
return{x:e[0]/A,y:e[1]/A}};fS.Qw=function(e){return{x:e.x/e.y,y:1,s7:(1-e.x-e.y)/e.y}};fS.f5=function(e,A){var a=j.mV.HZ([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),p=[e.x,e.y,e.s7,0],N=[A.x,A.y,A.s7,0];
p=j.mV._f(a,p);N=j.mV._f(a,N);var i=N[0]/p[0],Z=N[1]/p[1],s=N[2]/p[2],D=j.mV.HZ([i,0,0,0,Z,0,0,0,s]),n=j.mV.rQ(a);
return j.mV.multiply(j.mV.multiply(n,D),a)};j.raw.cm={};j.raw.uI=function(e){e*=8;var A=[8,10,12,14,16];
for(var a in CAMS){var p=CAMS[a];if(p.length==4)continue;var N=p[4],i=p[5];for(var c=0;c<A.length;c++)if(N*i*A[c]==e)return[a,A[c]]}var Z=[[4e3,3e3]];
for(var c=0;c<Z.length;c++){var p=Z[c],N=p[0],i=p[1];for(var c=0;c<A.length;c++)if(N*i*A[c]==e)return[p,A[c]]}return null};
j.raw.ae6=function(e){var e=new Uint8Array(e);for(var c=0;c<e.length;c+=2){var A=e[c];e[c]=e[c+1];e[c+1]=A}var a=j.raw.uI(e.length),p=CAMS[a[0]];
if(p==null)p=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,a[0][0],a[0][1]];var N=p[4],i=p[5],Z=Math.max(p[2],116),s={data:e,Bb:1,width:N,height:i,t256:[N],t257:[i],t258:[a[1]],t277:[1],t33421:[2,2],t33422:j.raw.RL[p[1]],t50706:[1,2,0,0],t50714:[Z,Z,Z,Z],t50717:[p[3]],t50721:p[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var c=0;c<9;c++)s.t50721[c]/=1e4;return s};j.raw.FP=function(e){if(e==null||e.length==0||typeof e[0]=="number")return e;
var A=[];for(var c=0;c<e.length;c++)A[c]=e[c][1]==0?0:e[c][0]/e[c][1];return A};j.raw.RL=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
j.raw.normalize=function(e,A){if(e.t50706!=null||e.t271[0].startsWith("Hasselblad")){var a=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var c=0;c<a.length;c++)if(e["t"+a[c]]!=null)e["t"+a[c]]=j.raw.FP(e["t"+a[c]]);if(e.t271&&e.t271[0].startsWith("Hasselblad")){e.t50706=[1,2,0,0];
e.t33422=j.raw.RL[1];e.t50723=[1,0,0,0,1,0,0,0,1];e.t50778=[17];if(!e.isLE)for(var c=0;c<e.data.length;
c+=2){var p=e.data[c];e.data[c]=e.data[c+1];e.data[c+1]=p}}if(e.t272&&e.t272[0]=="HERO10 Black"){e.t50728=[.469725,1,.739884];
if(!e.t305[0].startsWith("Adobe")){var N=new Uint16Array(e.data.buffer);for(var c=0;c<N.length;c++)N[c]>>>=2}}return}var i=e.t258[0],Z=e.exifIFD,A=new Uint8Array(A);
e.t50706=[1,2,0,0];var s=e.t272[0].trim();if(s.indexOf(" ")==-1)s=e.t271[0].trim()+" "+s;if(e.t50708==null)e.t50708=[s];
var D=s.toLowerCase(),n=CAMS,S=n[D];if(S==null)for(var F in n)if(D.startsWith(F))S=n[F];if(S==null)alert("Unknown camera:"+s);
else{var $=S[2];e.t50714=[$,$,$,$];if(e.t272=="Canon EOS REBEL T3")S[3]=13584;e.t50717=[S[3]];e.t50721=S[0].slice(0);
for(var c=0;c<9;c++)e.t50721[c]=e.t50721[c]*(1/1e4)}e.t50723=[1,0,0,0,1,0,0,0,1];if(e.t50728==null)e.t50728=[.35,1,.6];
e.t50778=[17];if(e.t271[0].startsWith("SONY")){var m=UTIF["_bin"+(e.isLE?"LE":"BE")],J=e.t28688,y;if(JSON.stringify(J)!="[8000,10400,12900,14100]")console.log(J);
if(J){var w=[0,0,0,0,0,4095],f=new Uint16Array(16385);for(var c=0;c<4;c++){var b=J[c]>>>2;w[c+1]=b;if(b>4095)throw"e"}for(var c=0;
c<16385;c++)f[c]=c;for(var c=0;c<5;c++)for(var L=w[c]+1;L<=w[c+1];L++)f[L]=f[L-1]+(1<<c);var C=A.length*8<e.width*e.height*i;
if(C)e.t50712=f}else console.log("no curve");var M=e.dngPrvt;if(M){var Q=M.t29184[0],k=M.t29185[0],E=(e.isLE?z.Jv:z.q)(M.t29217,0),_=new Uint32Array(A.slice(Q,Q+(k&4294967292)).buffer),v=new Uint32Array(k>>>2);
j.raw.aq7(_,v,k>>>2,E);var V=new Uint8Array(Q+k);V.set(new Uint8Array(v.buffer),Q);var R=[];UTIF._readIFD(m,V,Q,R,0,!1);
var h=R.pop(),P=h.t29458;e.t50728=[P[1]/P[0],1,P[1]/P[3]];e.t50730=[.5];var H=h.t29891;e.t50829=[H[1],H[0],H[3],H[2]]}else if(Z.makerNote&&Z.makerNote.t8208){var y=Z.makerNote,U=y.t8208,X=U.length,x=0,K=new Uint8Array(256);
for(var c=249;c<256;c++)K[c]=c;for(var c=0;c<249;c++)K[c*c*c%249]=c;for(var c=0;c<X;c++)U[c]=K[U[c]];
if(X==6604)x=612;else throw"e";var P=[];for(var c=0;c<3;c++)P.push(z.bf(U,x+c*2));console.log(P);e.t50728=[P[1]/P[0],1,P[1]/P[2]]}else console.log("no white balance");
if(e.width*e.height*1.5==e.t279[0]){$=$>>>2;e.t50714=[$,$,$,$];e.t50717=[S[3]>>>2]}}else if(e.t271[0].startsWith("Canon")){var A=e.data,T=A.slice(0),I=e.t50752,o=[],O=0;
if(I==null||I[0]==0&&I[1]==0)o.push(e.width);else{for(var c=0;c<I[0];c++)o.push(I[1]);o.push(I[2])}var l=e.width*2,g=e.t50885&&e.t50885[0]==4;
if(!g)for(var W=0;W<o.length;W++){var d=o[W],gT=2*O,r=2*d;for(var G=0;G<e.height;G+=2){var Y=G*l+gT,fk=e.height*gT+G*r;
for(var c=0;c<r;c++){A[Y+c]=T[fk+c];A[Y+c+l]=T[fk+c+r]}}O+=d}else{for(var W=0;W<o.length;W++){var d=o[W]/((I[0]*I[1]+I[2])/e.width);
for(var G=0;G<e.height;G++){var Y=(G*e.width+O)*6,fk=(e.height*O+G*d)*6;for(var c=0;c<d*6;c++)A[Y+c]=T[fk+c]}O+=d}var eJ=new Uint16Array(A.buffer),eS=new Uint16Array(1),gL=new Int16Array(eS.buffer);
for(var c=0;c<eJ.length;c+=3){var cX=eJ[c],kj=eJ[c+1],gq=eJ[c+2];eS[0]=kj<<2;kj=gL[0]>>2;eS[0]=gq<<2;
gq=gL[0]>>2;eJ[c+0]=Math.max(0,gq+cX);eJ[c+1]=Math.max(0,(cX<<12)-kj*778-(gq<<11)>>12);eJ[c+2]=Math.max(0,kj+cX)}}var y=Z.makerNote;
if(y.t16385){var iL=y.t224,g9=0;if(iL){var Q=e.t50719=[iL[5],iL[6]],ew=e.t50720=[iL[7]+1-iL[5],iL[8]+1-iL[6]],dk=y.t154;
if(dk){Q[0]+=dk[3];Q[1]+=dk[4];ew[0]=dk[1];ew[1]=dk[2]}}var j9=y.t16385,fh=j9.length;if(fh==582)g9=1;
else if(fh==653)g9=2;else if(fh==796)g9=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(fh)!=-1)g9=4;
else if(fh==5120){g9=5;j9=new Int16Array(j9.slice(0).buffer)}else if(fh==1273||fh==1275)g9=6;else if([1312,1313,1316,1506].indexOf(fh)!=-1)g9=7;
else if([1560,1592,1353,1602].indexOf(fh)!=-1)g9=8;else throw"e"+fh;var k6=j9[0],jx=[null,[25,166],[34,286],[63,196],[63],[71,k6==-4?333:264],[63,251],[63,k6==10?504:728],[63,326]],x=jx[g9][0],fV=jx[g9][1];
if(g9==4){if(j9[0]==2)fV=231;else if(j9[0]==3)fV=231;else if(j9[0]==4)fV=231;else if(j9[0]==5)fV=231;
else if(j9[0]==6)fV=231;else if(j9[0]==7)fV=231;else if(j9[0]==9)fV=231;else throw"e"}e.t50728=[j9[x+1]/j9[x],1,j9[x+1]/j9[x+3]];
var $=fV==null?1024:j9[fV];if(g9!=4)e.t50714=[$,$,$,$]}else{e.t50728=[.4,1,.6]}if(g){e.t277=[3];e.t50728=[1,1,1];
e.t50714=[0,0,0,0]}}else if(e.t271[0].startsWith("NIKON")){var y=Z.makerNote,ao=e.isLE?z.bf:z.aq,fz=0,ei=0,cb,h6=0;
if(y.t61){var b8=y.t61,ke=[];for(var c=0;c<4;c++)ke[c]=b8[c]/Math.pow(2,14-i);e.t50714=ke}if(y.t3585){var gj=y.t3585,c=0,Q=22;
while(Q<gj.length&&c!=-4){var jf=z.Jv(gj,Q);Q+=4;Q+=14;c=z.Jv(gj,Q)-4;Q+=4;if(jf==1990472198){if(gj[Q]!=0)throw"Flip"}if(jf==1990472199){var ay=z.bf(gj,Q);
if(ay==0)e.Bb=1;else if(ay==270)e.Bb=8;else throw"e "+ay}Q+=c}}if(y.t183){var hC=y.t183,ew=[];for(var c=0;
c<6;c++)ew.push(ao(hC,16+c*2));fz=ew[0];ei=ew[1]}if(y.t3614){var iI=y.t3614;fz=z.Jv(iI,8);ei=z.Jv(iI,12)}if(fz!=0&&Math.max(fz,ei)<Math.max(e.width,e.height)){if(fz<ei){var p=fz;
fz=ei;ei=p}var O=e.width-fz>>>1,G=e.height-ei>>>1;e.t50829=[G,O,G+ei,O+fz]}else e.t50829=[8,8,e.height-8,e.width-56];
var gQ=y.t69;if(gQ)e.t50829=[gQ[1],gQ[0],gQ[1]+gQ[3],gQ[0]+gQ[2]];if(y.t12){var dK=j.raw.FP(y.t12);cb=[1/dK[0],1,1/dK[1]]}else if(y.t151){var ha=j.raw.a5B(y,151),hA=ha[0],hF=ha[1],dW=ha[2];
if(hA=="0100"&&hF>=80)throw"e";else if(hA=="0102"){var fN=[];for(var c=0;c<4;c++)fN.push(ao(dW,6+c*2));
cb=[fN[1]/fN[0],1,fN[1]/fN[3]]}else if(hA=="0103"&&hF>=26){var fN=[];for(var c=0;c<4;c++)fN.push(ao(dW,16+c*2));
cb=[fN[1]/fN[0],1,fN[3]/fN[2]]}else if(hA=="0204"&&hF>=564||hA=="0205"&&hF>=284){var Q=hA=="0204"?6:14,fN=[];
for(var c=0;c<4;c++)fN.push(ao(dW,Q+c*2));cb=[fN[1]/fN[0],1,fN[1]/fN[3]]}else throw"e"}else console.log("no white balance info");
if(s=="NIKON D1")cb=[1,1,1];if(cb)e.t50728=cb;var cQ=y.t150?y.t150:y.t140;if(cQ){var hh=cQ[h6++],bA=cQ[h6++],bk;
if(hh==73||bA==88)h6+=2110;h6+=8;var co=1<<i&32767,ej=ao(cQ,h6);h6+=2;var f=[];if(ej>1)bk=Math.floor(co/(ej-1));
if(hh==68&&bA==32&&bk>0){for(c=0;c<ej;c++){f[c*bk]=ao(cQ,h6);h6+=2}for(c=0;c<co;c++)f[c]=Math.floor((f[c-c%bk]*(bk-c%bk)+f[c-c%bk+bk]*(c%bk))/bk)}else if(hh!=70&&ej<=16385){co=ej;
for(var c=0;c<ej;c++)f[c]=ao(cQ,h6+2*c);h6+=2*ej}var h5=e.t272[0];if(f.length!=0)e.t50712=new Uint16Array(f);
if(e.t258[0]==14&&e.t50717[0]<1e4){console.log("fixing white");e.t50717[0]*=4}}}else if(s.startsWith("FujiFilm")){}else if(s.startsWith("Panasonic")){if(e.t277==null)e.t277=[1]}else alert("Unknown camera "+s)};
j.raw.aq7=function(e,A,a,p){if(0==a)return;var N=new Uint32Array(128),i=new Uint8Array(N.buffer),Z=127,s=0,D=0;
for(var Z=0;Z<4;Z++)N[Z]=p=(p*15625>>>0)*3125+1>>>0;N[3]=N[3]<<1|(N[0]^N[2])>>>31;for(var Z=4;Z<127;
Z++)N[Z]=(N[Z-4]^N[Z-2])<<1|(N[Z-3]^N[Z-1])>>>31;for(var Z=0;Z<127;Z++)N[Z]=z.q(i,Z*4);for(;a>0;a--){N[Z&127]=N[Z+1&127]^N[Z+1+64&127];
var n=N[Z&127],S=e[s];S^=n;A[D]=S;s++;D++;Z++}};j.raw.ayd=function(e,A){var a=z.wc(A,0,4),p=j.raw.azA;
for(var c=0;c<p.length;c++)if(p[c][0]==e&&a.startsWith(p[c][1])&&(p[c][2]==0||p[c][2]==A.length))return p[c];
throw"e"};j.raw.a3y=function(e){if(e.t29==null)return[];var A=j.raw.ahy,a=j.raw.amU,p=e.t29[0],N=0,Z=0;
for(var c=0;c<p.length;c++){var i=p.charCodeAt(c);N=N*10+(48<=i&&i<=57?i-48:i%10)}var hF=e.t167[0];for(var c=0;
c<4;c++)Z^=hF>>>(c<<3)&255;var s=A[N&255],D=a[Z&255];return[s,D,96]};j.raw.a5B=function(e,A){var a=e["t"+A],hF=a.length,p=j.raw.ayd(A,a),N=z.wc(a,0,4),i,Z=p[4];
if(Z==null)i=a.slice(4);else{i=new Uint8Array(hF-Z);var s=j.raw.a3y(e),D=s[0],n=s[1],S=s[2];for(var c=0;
c<i.length;c++){n=n+D*S++&255;i[c]=a[Z++]^n}}return[N,hF,i]};j.raw.azA=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
j.raw.ahy=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
j.raw.amU=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
j.QL={};j.QL.QL=function(e,A,a,p,N){if(p==null)p=3;if(N==null)N=!0;var i=e.m,Z=e.n,s=1/i,D=i*Z,n=Date.now(),S=!1,F=j.QL.yF(a,i,Z,255,128),$=j.QL.yF(a,i,Z,0,128),r=0;
if(S)console.log("extract contours",Date.now()-n);n=Date.now();var m=function(dK,ha){var hA=dK<<2,dW=ha<<2;
return A[hA]+A[hA+1]+A[hA+2]-(A[dW]+A[dW+1]+A[dW+2])};F.sort(m);$.sort(m);var J=j.Q(D),w=j.Q(D),f=[],b=new Uint32Array(i*Z);
b.fill(4294967295);for(var c=0;c<D;c++)if(a[c]==0)w[c]=255;else if(a[c]==255)J[c]=255;else{b[c]=f.length;
f.push(c)}var L=F.length,C=$.length,M=f.length;function y(dK,ha,hA,dW){var fN=dK.length,cQ=new Array(fN*2);
for(var c=0;c<fN;c++){var X=dK[c],x=~~(X*dW),K=X-x*hA,iI=X<<2;cQ[c*2]=K<<16|x;cQ[c*2+1]=ha[iI]<<16|ha[iI+1]<<8|ha[iI+2]}return cQ}var Q=y(F,A,i,s),k=y($,A,i,s),E=y(f,A,i,s);
if(S)console.log("Itemize",Date.now()-n,"Unknown:",M,L,C);n=Date.now();var _=j.style.PZ(J,i,Z,!0),v=j.style.PZ(w,i,Z,!0),V=new Array(M),R=new Array(M),h=new Array(M),P=new Array(M),H=new Array(M);
if(S)console.log("Dist transform",Date.now()-n);n=Date.now();var U=j.QL.oF;for(var c=0;c<M;c++){var X=f[c],x=~~(X*s),K=X-x*i,T=_[X<<1],I=_[(X<<1)+1],o=Math.sqrt(T*T+I*I),l=v[X<<1],O=v[(X<<1)+1],g=Math.sqrt(l*l+O*O);
V[c]=1/o;R[c]=1/g;var W=Math.floor(j.s.jM(X*17)*L),d=Math.floor(j.s.jM(X*19)*C);h[c]=W;P[c]=d;H[c]=U(E[c*2],E[c*2+1],Q[W*2],Q[W*2+1],k[d*2],k[d*2+1],V[c],R[c],1e9)}var gT=[-i-1,-i,-i+1,-1,1,i-1,i,i+1];
while(Math.floor(Math.max(L,C)*Math.pow(.5,r))>1)r++;for(var G=0;G<p;G++){var Y=0;for(var c=0;c<M;c++){var X=f[c],x=~~(X*s),K=X-x*i,fk=V[c],eJ=R[c],eS=E[c*2],gL=E[c*2+1],cX=H[c],W=h[c],d=P[c],j9=1;
if(x!=0&&K!=0&&K!=i-1&&x!=Z-1)for(var kj=0;kj<8;kj++){var gq=b[X+gT[kj]];if(gq==4294967295)continue;
var iL=h[gq],ew=P[gq];if(iL==W&&ew==d)continue;var dk=U(eS,gL,Q[iL*2],Q[iL*2+1],k[ew*2],k[ew*2+1],fk,eJ,cX);
if(dk<cX){cX=dk;W=iL;d=ew}}for(var fh=0;fh<r;fh++){var g9=~~(L*j9),k6=~~(C*j9);j9*=.5;var jx=j.s.jM(X+G*17+fh*31),fV=j.s.jM(X+G*29+fh*63),ao=Math.max(0,W-g9),b8=Math.min(W+g9,L-1),ke=Math.max(0,d-k6),gj=Math.min(d+k6,C-1),iL=ao+~~(jx*(b8-ao)),ew=ke+~~(fV*(gj-ke)),dk=U(eS,gL,Q[iL*2],Q[iL*2+1],k[ew*2],k[ew*2+1],fk,eJ,cX);
if(dk<cX){cX=dk;W=iL;d=ew}}H[c]=cX;h[c]=W;P[c]=d;Y+=cX}}if(S)console.log(Y);if(S)console.log("iterations",Date.now()-n);
n=Date.now();var jf=a.slice(0);for(var c=0;c<M;c++){var fz=j.QL.alpha(E[c*2+1],Q[h[c]*2+1],k[P[c]*2+1]);
jf[f[c]]=~~(.5+255*fz)}jf=j.Pp.a0v(jf,A,new dE(0,0,i,Z),16,.01*.01);if(S)console.log("guided filter",Date.now()-n);
n=Date.now();if(N)for(var c=0;c<D;c++)if(a[c]==255||a[c]==0)jf[c]=a[c];var ei=A.slice(0);for(var c=0;
c<M;c++){var hC=f[c],W=F[h[c]],cX=H[c],iI=hC<<2,gQ=jf[hC],cb=(gQ>=250?hC:W)<<2;ei[iI]=A[cb];ei[iI+1]=A[cb+1];
ei[iI+2]=A[cb+2]}j.Ao(jf,ei,3);if(S)console.log(Date.now()-n);n=Date.now();return ei};j.QL.oF=function(e,A,a,p,N,i,Z,s,D){var n=e>>>16,S=e&65535,F=n-(a>>>16),$=S-(a&65535),m=n-(N>>>16),J=S-(N&65535),w=Math.sqrt(F*F+$*$)*Z,f=Math.sqrt(m*m+J*J)*s;
if(w+f>=D)return 1e9;var b=j.QL.ao$(A,p,i);return b+w+f};j.QL.ao$=function(e,A,a){var p=e>>>16,N=e>>>8&255,i=e&255,Z=A>>>16,s=A>>>8&255,D=A&255,n=a>>>16,S=a>>>8&255,F=a&255,$=j.QL.alpha(e,A,a),m=p-($*Z+(1-$)*n),w=N-($*s+(1-$)*S),f=i-($*D+(1-$)*F);
return Math.sqrt(m*m+w*w+f*f)};j.QL.alpha=function(e,A,a){var p=e>>>16,N=e>>>8&255,i=e&255,Z=A>>>16,s=A>>>8&255,D=A&255,n=a>>>16,S=a>>>8&255,F=a&255,$=Z-n,m=s-S,J=D-F,w=p-n,f=N-S,b=i-F,L=$*$+m*m+J*J,C=L==0?.5:(w*$+f*m+b*J)/L;
return Math.max(0,Math.min(1,C))};j.QL.aoG=function(e){};j.QL.yF=function(e,A,a,p,N){var i=[],Z=A-1,s=a-1;
for(var D=1;D<s;D++)for(var n=1;n<Z;n++){var c=D*A+n;if(e[c]==p&&(e[c-A-1]==N||e[c-A]==N||e[c-A+1]==N||(e[c-1]==N||e[c+1]==N)||(e[c+A-1]==N||e[c+A]==N||e[c+A+1]==N)))i.push(c)}return i};
j.Pp={};j.Pp.afI=function(e,A,a,p,N){var i=a.m,Z=a.n,s=i*Z,D=j.Pp.P$,n=j.Q(s*4),S;j.fV(n,4294967295);
var F=a,$=e,m=A,J=p;j.Ao(e,n,0);S=j.DZ(n,a);S=j.DZ(S.Qi,S.rect);F=S.rect;J=p>>>2;console.log(F,J);$=j.Q(F.O());
j.kI(S.Qi,$,0);j.Ao(A,n,0);S=j.DZ(n,a);S=j.DZ(S.Qi,S.rect);m=j.Q(F.O());j.kI(S.Qi,m,0);var w=j.Pp.awP($,m,F,J,N),f=w[0],b=w[1],L=new dE(0,0,F.m*2,F.n*2);
f=D(f,F,L,!0);f=D(f,L,a,!0);b=D(b,F,L,!0);b=D(b,L,a,!0);var C=j.Q(s);for(var c=0;c<s;c++)C[c]=Math.max(0,Math.min(255,Math.floor(.5+(f[c]*A[c]+255*b[c]))));
return C};j.Pp.P$=function(e,A,a,p){var N=a.m,i=a.n,Z=A.m,s=A.n,D=j.Pp.Ay,n=new Float32Array(N*i);for(var S=0;
S<s;S++){var F=(S+S)*N;for(var $=0;$<Z;$++){if(!0||$==0||S==0||$==Z-1||S==s-1)n[F]=n[F+1]=n[F+N]=n[F+N+1]=e[S*Z+$];
else{n[F]=D($+.25,S+.25,e,Z,s);n[F+1]=D($+.75,S+.25,e,Z,s);n[F+N]=D($+.25,S+.75,e,Z,s);n[F+N+1]=D($+.75,S+.75,e,Z,s)}F+=2}}return n};
j.Pp.Ay=function(e,A,a,p,N){e-=.499999;A-=.499999;var i=Math.floor(e),Z=Math.floor(A),s=Z*p+i,D=e-i,n=A-Z,S=(1-n)*(1-D),F=(1-n)*D,$=n*(1-D),m=n*D;
if(a[s]==null||a[s+p+1]==null){console.log(e,A,p,N);throw"e"}return S*a[s+0]+F*a[s+1]+$*a[s+p+0]+m*a[s+p+1]};
j.Pp.awP=function(e,A,a,p,N){var i=a.m,Z=a.n,s=i*Z,D=j.Pp.se,n=j.Pp.Q,S=j.Vr.lf,F=j.Pp.gA,A=D(A),e=D(e),$=n(s);
S(A,$,a,p);var m=n(s);S(e,m,a,p);var J=n(s);F(A,A,J);S(J,J,a,p);var w=n(s);F(A,e,w);S(w,w,a,p);var f=n(s),b=n(s);
for(var c=0;c<s;c++){var L=$[c],C=m[c],M=J[c]-L*L,y=w[c]-L*C,Q=y/(M+N),k=C-Q*L;f[c]=Q;b[c]=k}var E=n(s);
S(f,E,a,p);var _=n(s);S(b,_,a,p);return[E,_]};j.Pp.a0v=function(e,A,a,p,N){var i=a.m,Z=a.n,s=i*Z,D=j.Pp.P$,n=Date.now(),S=!1,F=a,$=e,m=A,J=p;
F=new dE(0,0,i>>>2,Z>>>2);J=p>>>2;$=j.Pp.a0q(e,i,Z);m=j.Pp.akj(A,i,Z);if(S)console.log(Date.now()-n);
n=Date.now();var w=j.Pp.aeH($,m,F,J,N),f=w[0],b=w[1],L=w[2],C=w[3];if(S)console.log(Date.now()-n);n=Date.now();
var M=j.Q(s);for(var y=0;y<Z;y++)for(var Q=0;Q<i;Q++){var c=y*i+Q,k=(y>>>2)*(i>>>2)+(Q>>>2),E=c<<2,_=f[k]*A[E]+b[k]*A[E+1]+L[k]*A[E+2]+C[k]*255;
M[c]=Math.max(0,Math.min(255,~~(.5+_)))}if(S)console.log(Date.now()-n);n=Date.now();return M};j.Pp.a0q=function(e,A,a){var p=A>>>2,N=a>>>2,i=j.Q(A*a);
for(var Z=0;Z<N;Z++)for(var s=0;s<p;s++)i[Z*p+s]=e[Z*A+s<<2];return i};j.Pp.akj=function(e,A,a){var p=A>>>2,N=a>>>2,i=j.Q(A*a*4);
for(var Z=0;Z<N;Z++)for(var s=0;s<p;s++){var D=Z*p+s<<2,n=Z*A+s<<4;i[D]=e[n];i[D+1]=e[n+1];i[D+2]=e[n+2];
i[D+3]=e[n+3]}return i};j.Pp.aeH=function(e,A,a,p,N){var i=a.m,Z=a.n,s=i*Z,D=j.Pp.se,n=j.Pp.Q,S=j.Vr.lf,F=j.Pp.gA,e=D(e),$=new j.js(i*Z);
j.Y_(A,$);var A=[D($.o),D($.J),D($.k)],m=j.Pp.avu(e,A,a,p,N),J=n(s);S(e,J,a,p);var w=n(s);F(A[0],e,w);
S(w,w,a,p);var f=n(s);F(A[1],e,f);S(f,f,a,p);var b=n(s);F(A[2],e,b);S(b,b,a,p);var L=n(s),C=n(s),M=n(s),y=n(s);
for(var c=0;c<s;c++){var Q=J[c],k=m.iY[c],E=m.BP[c],_=m.$C[c],v=w[c]-k*Q,V=f[c]-E*Q,R=b[c]-_*Q;L[c]=m.afZ[c]*v+m.PT[c]*V+m.Po[c]*R;
C[c]=m.PT[c]*v+m.anc[c]*V+m.ig[c]*R;M[c]=m.Po[c]*v+m.ig[c]*V+m.ay9[c]*R;y[c]=Q-L[c]*k-C[c]*E-M[c]*_}S(L,L,a,p);
S(C,C,a,p);S(M,M,a,p);S(y,y,a,p);return[L,C,M,y]};j.Pp.avu=function(e,A,a,p,N){var i=a.m,Z=a.n,s=i*Z,D=j.Pp.Q,n=j.Vr.lf,S=j.Pp.gA,F={};
F.iY=D(s);n(A[0],F.iY,a,p);F.BP=D(s);n(A[1],F.BP,a,p);F.$C=D(s);n(A[2],F.$C,a,p);var $=D(s);S(A[0],A[0],$);
n($,$,a,p);var m=D(s);S(A[0],A[1],m);n(m,m,a,p);var J=D(s);S(A[0],A[2],J);n(J,J,a,p);var w=D(s);S(A[1],A[1],w);
n(w,w,a,p);var f=D(s);S(A[1],A[2],f);n(f,f,a,p);var b=D(s);S(A[2],A[2],b);n(b,b,a,p);F.afZ=$;F.PT=m;
F.Po=J;F.anc=w;F.ig=f;F.ay9=b;for(var c=0;c<s;c++){var L=F.iY[c],C=F.BP[c],M=F.$C[c],y=$[c]-L*L+N,Q=m[c]-L*C,k=J[c]-L*M,E=w[c]-C*C+N,_=f[c]-C*M,v=b[c]-M*M+N,V=E*v-_*_,R=_*k-Q*v,h=Q*_-E*k,P=y*v-k*k,H=k*Q-y*_,U=y*E-Q*Q,X=V*y+R*Q+h*k,x=1/X;
F.afZ[c]=V*x;F.PT[c]=R*x;F.Po[c]=h*x;F.anc[c]=P*x;F.ig[c]=H*x;F.ay9[c]=U*x}return F};j.Pp.Q=function(e){return new Float32Array(e)};
j.Pp.se=function(e){var A=e.length,a=new Float32Array(A);for(var c=0;c<A;c++)a[c]=e[c]*(1/255);return a};
j.Pp.gA=function(e,A,a){for(var c=0;c<e.length;c++)a[c]=e[c]*A[c]};j.LE={};j.LE.Gk=function(e,A,a,p){var N=e[A]-a[p],i=e[A+1]-a[p+1],Z=e[A+2]-a[p+2];
return Math.sqrt(N*N+i*i+Z*Z)*(1/441.7)};j.LE.getSelection=function(e,A,a){var p=A*a,N=j.Q(p),i=!1,Z=Math.round(a*.7),s=1,D=new Uint32Array(12),n=j.Q(12);
for(var S=0;S<Z;S++)for(var F=0;F<A;F++){if(F<s||S<s||F>A-s-1||S>a-s-1){var c=S*A+F,$=c<<2,m=0;if(S<s)m=4;
else if(F>A-s-1)m=8;D[m]+=e[$];D[m+1]+=e[$+1];D[m+2]+=e[$+2];D[m+3]++;N[c]=255}}for(var c=0;c<12;c+=4)for(var J=0;
J<3;J++)n[c+J]=D[c+J]/D[c+3];var w=new Float32Array(p);for(var c=0;c<p;c++){var $=c*4,f=j.LE.Gk(e,$,n,0),b=j.LE.Gk(e,$,n,4),L=j.LE.Gk(e,$,n,8),C=Math.max(f,Math.max(b,L));
w[c]=f+b+L-C}j.LE.mW(w);var M=Date.now(),y=new Float32Array(p),Q=[],k=j.Q(p);for(var c=0;c<3;c++){j.kI(e,k,c);
var E=new Uint16Array(p);Q.push(E);j.LE.auN(k,N,A,a,E)}if(i)console.log("MBD",Date.now()-M);M=Date.now();
for(var c=0;c<p;c++)y[c]=Q[0][c]+Q[1][c]+Q[2][c];j.LE.mW(y);for(var c=0;c<p;c++)y[c]+=.4*w[c];var _=A>>>1,Z=a>>>1,v=1/Math.sqrt(_*_+Z*Z);
for(var S=0;S<a;S++)for(var F=0;F<A;F++){var V=F-_,R=S-Z,h=1-Math.sqrt(V*V+R*R)*v;y[S*A+F]*=h}if(i)console.log("Centeredness",Date.now()-M);
M=Date.now();for(var c=0;c<p;c++)N[c]=y[c]*255;var P=Math.round(A/120),H=Math.round(P*.8);if(i)console.log(P,H);
j.t8.H1(N,N,A,a,P+P+1,!1);if(i)console.log("erosion",Date.now()-M);M=Date.now();for(var c=0;c<p;c++)y[c]=N[c];
j.LE.mW(y);var U=j.Q(256);for(var c=0;c<256;c++)U[c]=256/(1+Math.exp(-20*(c/255-.5)));for(var c=0;c<p;
c++){var X=~~(y[c]*255+.5);N[c]=U[X]}if(i)console.log("Simoid",Date.now()-M);M=Date.now();return N};
j.LE.mW=function(e){var A=e.length,a=0;for(var c=0;c<A;c++)a=Math.max(a,e[c]);var p=1/a;for(var c=0;
c<A;c++)e[c]=e[c]*p};j.LE.auN=function(e,A,a,p,N){var i=a*p,Z=e.slice(0),s=e.slice(0);for(var c=0;c<i;
c++)N[c]=A[c]==255?0:65535;j.LE.BX(e,s,Z,N,a,p);j.LE.M2(e,s,Z,N,a,p);j.LE.BX(e,s,Z,N,a,p);j.LE.M2(e,s,Z,N,a,p);
return N};j.LE.BX=function(e,A,a,p,N,i){for(var Z=1;Z<N;Z++)j.LE.v6(Z,-1,e,A,a,p);for(var s=1;s<i;s++){j.LE.v6(s*N,-N,e,A,a,p);
for(var Z=1;Z<N;Z++){var c=s*N+Z;j.LE.v6(c,-1,e,A,a,p);j.LE.v6(c,-N,e,A,a,p)}}};j.LE.M2=function(e,A,a,p,N,i){for(var Z=N-2;
Z>=0;Z--)j.LE.v6(N*i-N+Z,1,e,A,a,p);for(var s=i-2;s>=0;s--){j.LE.v6(s*N+N-1,N,e,A,a,p);for(var Z=N-2;
Z>=0;Z--){var c=s*N+Z;j.LE.v6(c,1,e,A,a,p);j.LE.v6(c,N,e,A,a,p)}}};j.LE.v6=function(c,e,A,a,p,N){var i=c+e,Z=A[c],s=a[i],D=p[i];
if(s<Z)s=Z;else if(Z<D)D=Z;var n=s-D;if(N[i]!=65535&&n<N[c]){N[c]=n;a[c]=s;p[c]=D}};j.Zc={};j.Zc.filter=function(e,A,a,p){var N=A.m,i=A.n,Z=N*i,s=p[0],D=p[1],n=p[2],S=p[3],F=p[4],$=p[5],m=p[6],J=Date.now(),w=new Float32Array(N*i*4);
j.Zc.asn(e,N,i,w);var f=Math.ceil(s*Math.sqrt(-2*Math.log(.1))),b=new ArrayBuffer(Z*4),L=new Float32Array(b),C=new Float32Array(Z),M=new Float32Array(Z);
for(var c=0;c<Z;c++){var y=c*4;L[c]=w[y];C[c]=w[y+1];M[c]=w[y+2]}j.Vr.Lk(L,L,A,f*1/2.4,2);j.Vr.Lk(C,C,A,f*1/2.4,2);
j.Vr.Lk(M,M,A,f*1/2.4,2);for(var c=0;c<Z;c++){var y=c*4;w[y]=L[c];w[y+1]=C[c];w[y+2]=M[c]}var Q=new Uint8Array(b);
for(var c=0;c<Z;c++){var y=c*4,k=c*4,L=w[y],C=w[y+1],M=w[y+2],E=Math.sqrt((L-M)*(L-M)+4*C*C),_=(L+M+E)*.5,v=(L+M-E)*.5,V=v-M,R=C,h=V*V+R*R;
if(h!=0){var P=Math.sqrt(h),H=1/P;V*=H;R*=H}Q[k]=128+127*V;Q[k+1]=128+127*R}var U=1.3*D+2,X=S*(2/10),x=e.slice();
if(fG.Jg){var K=new Float32Array([1/N,1/i]),T=fG.D9(0,N,i);T.set(x);var I=fG.D9(1,N,i);I.set(Q);fG.Wb(T,A);
if(F){T.ll(A);fG.filter.Sk({type:fG.filter.ahi,C1:K,au5:1/n,a3K:X},T.mY)}T.ll(A);fG.filter.Sk({type:fG.filter.Ji,GX:I.NV,C1:K,ayN:U,aoX:2},T.mY);
if(F){T.ll(A);fG.filter.Sk({type:fG.filter.ara,C1:K,aA2:new Float32Array(m),apn:$},T.mY)}T.get(a)}else{if(F)j.Zc.JV(1/n,X,x,N,i);
j.Zc.Ji(x,a,Q,N,i,U);if(F)j.Zc.azB(N,i,a,m,$)}var o=Z*4;for(var c=3;c<o;c+=4)a[c]=e[c]};j.Zc.Ji=function(e,A,a,p,N,i){var Z=Math.ceil(2*i),s=-1/(2*i*i),D=[],n=1;
for(var c=0;c<Z+20;c++)D[c]=Math.exp(c*c*s);var S=[0,0,0,0];for(var F=0;F<N;F++){for(var $=0;$<p;$++){var m=F*p+$,J=m*4,w=1,f=e[J],b=e[J+1],L=e[J+2],C=e[J+3],M=(a[J]-128)*(1/127),y=(a[J+1]-128)*(1/127),Q=M,k=y,E=$==0?.51:.49,_=F==0?.51:.49;
for(var c=0;c<2;c++){var v=$+E,V=F+_,R=0;while(R<Z){if(v<.5||p-.5<v||V<.5||N-.5<V)break;var h=~~v,P=~~V,H=P*p+h,U=H*4,X=(a[U]-128)*(1/127),x=(a[U+1]-128)*(1/127);
if(X*Q+x*k<0){X=-X;x=-x}Q=X;k=x;v+=n*X;V+=n*x;if(v<.5||p-.5<v||V<.5||N-.5<V)break;var K=~~v,T=~~V,I=T*p+K<<2;
R+=n;var o=D[~~R];j.K.oo(v,V,e,p,N,S);f+=S[0]*o;b+=S[1]*o;L+=S[2]*o;C+=S[3]*o;w+=o}Q=-M;k=-y}var l=1/w;
A[J]=~~(.5+f*l);A[J+1]=~~(.5+b*l);A[J+2]=~~(.5+L*l);A[J+3]=~~(.5+C*l)}}};j.Zc.azB=function(e,A,a,p,N){for(var i=0;
i<A;i++)for(var Z=0;Z<e;Z++){var s=i*e+Z<<2,D=1+j.Zc.a8O(Z,i,a,e,A,p)*N;a[s]=Math.max(0,Math.min(255,a[s]*D));
a[s+1]=Math.max(0,Math.min(255,a[s+1]*D));a[s+2]=Math.max(0,Math.min(255,a[s+2]*D))}};j.Zc.a8O=function(e,A,a,p,N,i){var Z=a[(A*p+Math.max(0,e-1))*4+3],s=a[(A*p+Math.min(p-1,e+1))*4+3],D=a[(Math.max(0,A-1)*p+e)*4+3],n=a[(Math.min(N-1,A+1)*p+e)*4+3],S=.7,F=(s-Z)*(1/255),$=.7,m=(n-D)*(1/255),J=-F*$,w=-S*m,f=S*$,b=Math.sqrt(J*J+w*w+f*f),L=1/b,C=J*L,M=w*L,y=f*L,Q=i[0]*C+i[1]*M+i[2]*y;
return Q};j.Zc.JV=function(e,A,a,p,N){function i(s,n,S){return Math.max(n,Math.min(S,s))}for(var Z=0;
Z<N;Z++)for(var s=0;s<p;s++){var D=j.Zc.ane(s+.5,Z+.5,e,A);a[(Z*p+s)*4+3]=Math.max(0,Math.min(255,D*255))}};
j.Zc.ane=function(e,A,a,p){function N(k,E,_){return(1-_)*k+_*E}var i=(e+613)*a,Z=(A+117)*a,s=~~i,D=~~Z,n=i-s,S=Z-D,F=Math.sin(11),$=Math.cos(s)*F,m=Math.cos(s+1)*F,J=Math.cos(D)*F,w=Math.cos(D+1)*F,iM=j.Zc.hash($,J),f=j.Zc.hash(m,J),b=j.Zc.hash($,w),L=j.Zc.hash(m,w),C=N(iM,f,n),M=N(b,L,n),y=N(C,M,S);
y=y<.5?0:1;var Q=y+p*j.Zc.hash(Math.cos(i)*F,Math.cos(Z)*F);return Q*(1/3)};j.Zc.hash=function(e,A){var a=Math.sin(e*11.697096+A*73.32456)*12157.47691;
return a-Math.floor(a)};j.Zc.asn=function(e,A,a,p){var N=[-1,0,1,-2,0,2,-1,0,1],i=[-1,-2,-1,0,0,0,1,2,1],Z=A-1,s=a-1,D=A*4;
for(var n=1;n<s;n++)for(var S=1;S<Z;S++){var c=n*A+S,F=c*4,$=j.Zc.Kj(e,F,D,N),m=j.Zc.Kj(e,F,D,i),J=j.Zc.Kj(e,F+1,D,N),w=j.Zc.Kj(e,F+1,D,i),f=j.Zc.Kj(e,F+2,D,N),b=j.Zc.Kj(e,F+2,D,i);
p[F]=$*$+J*J+f*f;p[F+1]=$*m+J*w+f*b;p[F+2]=m*m+w*w+b*b}j.Zc.aiW(p,A,a)};j.Zc.Kj=function(e,A,a,p){return e[A-a-4]*p[0]+e[A-a]*p[1]+e[A-a+4]*p[2]+e[A-4]*p[3]+e[A]*p[4]+e[A+4]*p[5]+e[A+a-4]*p[6]+e[A+a]*p[7]+e[A+a+4]*p[8]};
j.Zc.aiW=function(e,A,a){function p(D,c,n){var S=c*4,F=n*4;D[F]=D[S];D[F+1]=D[S+1];D[F+2]=D[S+2]}var N=A-1,i=a-1;
p(e,A+1,0);p(e,2*A-2,A-1);for(var Z=1;Z<N;Z++)p(e,A+Z,Z);for(var s=1;s<i;s++){p(e,s*A+1,s*A);p(e,s*A+A-2,s*A+A-1)}for(var Z=1;
Z<N;Z++)p(e,(a-2)*A+Z,(a-1)*A+Z);p(e,(s-2)*A+1,(s-1)*A);p(e,(s-1)*A-2,s*A-1)};j.RI=function(){function e(n,S,F,$){var m=new Float32Array(n*n),J=n/2;
for(var w=0;w<n;w++)for(var f=0;f<n;f++){var b=f+F-J,L=w+$-J;m[w*n+f]=Math.max(0,Math.min(1,S+.5-Math.sqrt(b*b+L*L)))}return m}var A=[],p=null;
function a(n,S,F,$){var m=Math.floor(S*10),J=A[m],w=n*8,f=w>>>1;if(J==null){J=A[m]=[];var b=new dE(0,0,w,w),L=n/2/(1+.2*S),C=Math.floor(n*m*.1);
for(var M=0;M<2;M++)for(var y=0;y<2;y++){var Q=e(w,L,.25+y*.5,.25+M*.5),k=0;j.Vr.Lk(Q,Q,b,C);while(Q[w*f+k]<.005)k++;
if(k!=0)k--;var E=2*(f-k),_=new dE(k,k,E,E),v=new Float32Array(E*E);for(var V=0;V<E;V++)for(var R=0;
R<E;R++)v[V*E+R]=Q[(k+V)*w+k+R];J.push([v,_])}}var h=Math.floor(F),P=Math.floor($),H=F-h,U=$-P,X=H<.5?1:0,x=U<.5?1:0;
J=J[x*2+X];var _=J[1].clone();_.x+=h-f;_.y+=P-f;return[J[0],_]}function N(n,S,F){if(p==null){p=new Uint8Array(4e4);
for(var c=0;c<4e4;c++)p[c]=Math.min(255,~~(.5+255*j.TK(c*(1/255))))}var $=n.length;for(var c=0;c<$;c++){var m=n[c],J=~~(255*m);
S[c]=p[J]<<24|F}}function i(n,S,F,$,m){var J=S.Yn($),w=Math.max(0,J.x-S.x),f=Math.max(0,J.x-$.x),b=Math.max(0,J.y-S.y),L=Math.max(0,J.y-$.y),C=J.m,M=J.n;
for(var c=0;c<M;c++){var y=(b+c)*S.m+w,Q=(L+c)*$.m+f;for(var k=0;k<C;k++){F[Q+k]+=m*n[y+k]}}}var Z=-1;
function s(n,S,F,$,m){var J=Math.round($[1]*S*F*.01),w=$[2],f=$[3],b=$[4],L=$[5],C=$[6],M=$[7],y=$[8],Q=$[9],k=$[10]?$[10]:1,o=!1;
if(w!=Z){A=[];Z=w}var E=Date.now(),_=new dE(0,0,S,F),v=new D($[0]);if(m)n.fill(0);var V=new Float32Array(m?n.buffer:S*F);
for(var c=0;c<J;c++){var R=v.get()*S,h=v.get()*F,P=v.get()*f,H=v.get()*w*4,U=(v.get()+C)*Math.PI*2,X=v.get()*w*4,x=(v.get()+2*C)*Math.PI*2;
R+=Q*(H*Math.cos(U)+X*Math.cos(x));h+=Q*(H*Math.sin(U)+X*Math.sin(x));if(y)h=h+C*F*k;var K=a(w,P,R,h%F),T=b,I=v.get();
if(M)T=.5+.5*b*(.5+.5*Math.sin((2*C+I)*2*Math.PI));i(K[0],K[1],V,_,T)}if(o)console.log(Date.now()-E,"add floats");
E=Date.now();var l=new Uint8Array(V.buffer);N(V,new Uint32Array(l.buffer),L.k<<16|L.J<<8|L.o);if(o)console.log(Date.now()-E,"toInt");
E=Date.now();if(!m){j.s.eZ("scrn",l,_,n,_,_,1);if(o)console.log(Date.now()-E,"blendOver")}}function D(n){this.kC=123456789;
this.Da=987654321;this.$=4294967295;this.Q_(n)}D.prototype.Q_=function(c){this.kC=123456789+c&this.$;
this.Da=987654321-c&this.$};D.prototype.get=function(){this.Da=36969*(this.Da&65535)+(this.Da>>16)&this.$;
this.kC=18e3*(this.kC&65535)+(this.kC>>16)&this.$;var n=(this.Da<<16)+(this.kC&65535)>>>0;n/=4294967296;
return n};return{bd:s}}();j.EC={};j.EC.b4=function(e,A,a,p){var N=e[A*2],i=e[A*2+1],Z=e[a*2],s=e[a*2+1],D=e[p*2],n=e[p*2+1];
return N*s+Z*n+D*i-D*s-Z*i-N*n};j.EC.im=function(e,A){var a=[],p=[],N=[],i={};for(var c=0;c<A.length;
c+=3){var Z=~~(c*(1/3)),s=A[c+0],n=A[c+1],S=A[c+2],F=j.EC.b4(e,s,n,S);if(F>0){var $=n;n=S;S=$}var m=i[S+"-"+n],J=i[n+"-"+s],w=i[s+"-"+S],f=[S,m,Z,null],b=[n,J,Z,f],L=[s,w,Z,b];
f[3]=L;if(m)m[1]=f;if(J)J[1]=b;if(w)w[1]=L;i[S+"-"+s]=L;i[s+"-"+n]=b;i[n+"-"+S]=f;a[s]=b;N[c]=b;a[n]=f;
N[c+1]=f;a[S]=L;N[c+2]=L;p[Z]=b}return{fi:a,vd:p,gT:N}};j.EC.axf=function(e){var A=[],a=e.vd;for(var c=0;
c<a.length;c++){var p=a[c];A.push(p[0]);p=p[3];A.push(p[0]);p=p[3];A.push(p[0])}return A};j.EC.a1A=function(e,A,a,p){var N=e[A*2],i=e[A*2+1],Z=e[a*2],s=e[a*2+1],D=e[p*2],n=e[p*2+1],S=Z-N,F=s-i,$=D-N,m=n-i,J=S*(N+Z)+F*(i+s),w=$*(N+D)+m*(i+n),f=2*(S*(n-s)-F*(D-Z));
if(Math.abs(f)<1e-5){var b=Math.min(N,Z,D),L=Math.min(i,s,n),C=(Math.max(N,Z,D)-b)*.5,M=(Math.max(i,s,n)-L)*.5;
return[b+C,L+M,C*C+M*M,1]}var y=(m*J-F*w)/f,Q=(S*w-$*J)/f,C=y-N,M=Q-i;return[y,Q,C*C+M*M,0]};j.EC.aeF=function(e,A,a){var p=a[1],N=a[3],i=N[3],Z=p[3],s=Z[3],D=a[2],n=p[2],S=a[0],F=p[0],$=N[0],m=Z[0],J=j.EC.a1A(e,F,m,$),w=e[S*2]-J[0],f=e[S*2+1]-J[1],b=w*w+f*f>J[2]&&J[3]==0&&j.EC.b4(e,m,S,$)<0&&j.EC.b4(e,$,F,m)<0;
if(b){a[0]=$;p[0]=m;a[3]=i;i[3]=Z;Z[3]=a;p[3]=s;s[3]=N;N[3]=p;N[2]=n;Z[2]=D;A.vd[n]=s;A.vd[D]=i;A.fi[F]=Z;
A.fi[S]=N}return b};j.EC.a4C=function(e,A,a){var p=e[A*2]-e[a*2],N=e[A*2+1]-e[a*2+1];return Math.sqrt(p*p+N*N)};
j.EC.afj=function(e,A,a){var p=a[1],N=a[3],i=N[3],Z,s,D=a[2],n,S=a[0],F=i[0],$=N[0],m;if(p){Z=p[3];s=Z[3];
n=p[2];m=Z[0]}var J=e.length>>>1;e[2*J]=(e[2*F]+e[2*S])*.5;e[2*J+1]=(e[2*F+1]+e[2*S+1])*.5;if(!0){var w=D,f=a,b=A.vd.length,L=[J,null,w,f],C=[$,L,b,i];
L[1]=C;var M=[J,null,b,C];N[3]=L;i[3]=M;i[2]=b;A.vd[w]=N;A.vd[b]=M;A.fi[S]=N;A.fi[$]=i;A.gT.push(L,C,M)}if(p){var y=n,Q=p,k=b+1;
M[1]=Q,Q[1]=M;var E=[J,null,y,Q],_=[m,E,k,s];E[1]=_;var v=[J,f,k,_];f[1]=v;Z[3]=E;s[3]=v;s[2]=k;A.vd[y]=Z;
A.vd[k]=s;A.fi[F]=Z;A.fi[m]=s;A.gT.push(E,_,v)}A.fi[J]=f};j.EC.o_=function(e,A){var a=0;while(!0){var p=a;
for(var c=0;c<A.gT.length;c++){var N=A.gT[c];if(N[1]==null)continue;var i=j.EC.aeF(e,A,N);if(i){a++;
break}}if(p==a)break}return a!=0};j.EC.a8l=function(e,A,a,p){var N=0;for(var c=0;c<p;c++){var i=null,Z=0;
for(var s=0;s<A.gT.length;s++){var D=A.gT[s],n=j.EC.a4C(e,D[0],D[3][3][0])*(D[1]?1:2);if(n>Z){i=D;Z=n}}if(Z>a){j.EC.afj(e,A,i);
N++}}return N!=0};j.EC.asD=function(e,A){var a=[],$=0;for(var c=0;c<e.length;c++)a.push(0);for(var c=0;
c<A.gT.length;c++){var p=A.gT[c],N=p[0],i=p[3][3][0],Z=e[N*2],s=e[N*2+1],D=e[i*2],n=e[i*2+1],S=Z-D,F=s-n;
a[N*2]+=-S;a[N*2+1]+=-F;a[i*2]+=S;a[i*2+1]+=F}for(var c=0;c<e.length;c+=2){var m=c>>>1,J=A.fi[m],p=J,w=!0;
do{if(p[1]==null){w=!1;break}p=p[1][3]}while(p!=J);if(w){var f=.02;e[c]+=f*a[c];e[c+1]+=f*a[c+1];$+=f*(a[c]*a[c]+a[c+1]*a[c+1])}}return $};
j.EC.axE=function(e,A,a){var p=j.p.i9(e),N=j.EC.im(e,A);j.EC.o_(e,N);for(var i=0;i<300;i++){var Z=!1,s=!1;
Z=j.EC.a8l(e,N,a,5);if(Z)s=j.EC.o_(e,N);var D=j.EC.asD(e,N);if(!Z&&!s&&D<1e-4){break}}return j.EC.axf(N)};
j.ao={};j.ao.P9=function(e){var A=e.jz,a=e.P8,p=e.Ox,N=e.Ix,i=e.u0,Z=e.CT,s=e.wR,D=j._T.$l,L,C,M=0;function n(iM){var Y=new Array(iM);
for(var c=0;c<iM;c++)Y[c]=0;return Y}var S=a.length>>>1,F=n(A.tX*2),$=n(A.tX),m=n(A.tX),J=Date.now();
for(var c=0;c<e.xB.length;c++){var w=A.ae2+c,f=A.SB*(Z[c*2]+s[c*2]),b=A.SB*(Z[c*2+1]+s[c*2+1]);F[w*2]=f;
F[w*2+1]=b;$[w]=f;m[w]=b}A.ahY.cs(N,A.abr.$l(F),.01,L,C);for(var c=0;c<A.aw_.gT.length;c++){var y=A.aw_.gT[c],Q=y[3][3][0],k=y[0],E=y[3][0],_=y[1]?y[1][3][0]:E;
if(y[1]&&Q>k)continue;var v=a[Q*2],V=a[Q*2+1],R=a[k*2],h=a[k*2+1],P=N[Q*2],H=N[Q*2+1],U=N[k*2],X=N[k*2+1],x=N[E*2],K=N[E*2+1],T=N[_*2],I=N[_*2+1],o=[P,H,U,X,x,K];
if(y[1])o.push(T,I);var l=D(A.arD[M],o),O=l[0],g=l[1],W=1/Math.sqrt(O*O+g*g);O*=W;g*=W;var d=R-v,gT=h-V;
$[M]=O*d+g*gT;m[M]=-g*d+O*gT;M++}var r=new Array(S),G=new Array(S);for(var c=0;c<S;c++){r[c]=i[c*2];
G[c]=i[c*2+1]}A.a7R.cs(r,A.azH.$l($),.5);A.a7R.cs(G,A.azH.$l(m),.5);for(var c=0;c<S;c++){i[c*2]=r[c];
i[c*2+1]=G[c]}};j.ao.I0=function(e){var A=e.P8,a=e.Ox,p=e.xB,N=j._T.multiply,i=Date.now(),Z=j.EC.im(A,a),s=A.length>>>1,D=0,J=0,g=1e3;
for(var c=0;c<Z.gT.length;c++)D+=Z.gT[c][1]?.5:1;var n=D+p.length,S=[],F=new j.wr(n*2,s*2),$=new j.wr(n,s),m=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],w=[],f=[];
for(var c=0;c<Z.gT.length;c++){var b=Z.gT[c],L=b[3][3][0],C=b[0],M=b[3][0],y=b[1]?b[1][3][0]:M;if(b[1]&&L>C)continue;
var Q=A[L*2],k=A[L*2+1],E=A[C*2],_=A[C*2+1],v=A[M*2],V=A[M*2+1],R=A[y*2],h=A[y*2+1],P=[[Q,k,1,0],[k,-Q,0,1],[E,_,1,0],[_,-E,0,1],[v,V,1,0],[V,-v,0,1]];
if(b[1])P.push([R,h,1,0],[h,-R,0,1]);var H=j._T.d3(P),U=N(linear.invert(N(H,P)),H);U.pop();U.pop();S.push(U);
var X=E-Q,x=_-k,K=m[b[1]?1:0];K=j._T.QC(K,N([[X,x],[x,-X]],U));var T=[L*2,L*2+1,C*2,C*2+1,M*2,M*2+1,y*2,y*2+1],I=b[1]?8:6,o=[];
for(var l=0;l<I;l++)o.push([T[l],K[0][l],K[1][l]]);o.sort(function(Y,fk){return Y[0]-fk[0]});for(var O=0;
O<2;O++){for(var l=0;l<I;l++){w[l]=o[l][0];f[l]=o[l][1+O]}F.um(f,w,I)}if(L<C)$.um([-1,1],[L,C],2);else $.um([1,-1],[C,L],2);
J++}for(var c=0;c<p.length;c++){var W=p[c];F.um([g],[W*2],1);F.um([g],[W*2+1],1);$.um([g],[W],1)}var d=F.d3(),gT=d.KI(d),r=$.d3(),G=r.KI(r);
return{ae2:D,tX:n,abr:d,ahY:gT,azH:r,a7R:G,aw_:Z,arD:S,SB:g}};j.ao.avI=function(e,A,a,p,N){var i=new dE(0,0,A,a),Z=j.Q(i.O());
j.kI(e,Z,3);j.round(Z,70);var s=j.WC(Z,i),D=[.1,.065,.035][p]*Math.max(s.m,s.n),n=N+1,S=A+n*2,F=a+n*2,$=new dE(-n,-n,S,F),m=j.Q($.O());
j.WP(Z,i,m,$);var J=m.slice(0);for(var w=0;w<N;w++){for(var f=1;f<F-1;f++){for(var b=1;b<S-1;b++){var c=f*S+b;
J[c]=m[c-S]|m[c-1]|m[c]|m[c+1]|m[c+S]}}var L=J;J=m;m=L}var C=dN.kO(m,S,F,Math.round(s.O()*5e-4)),M=dN.sz(C),y=new bj(1,0,0,1,-n,-n);
for(var c=0;c<M.length;c++){var Q=M[c];j.p.D(Q.path.w,y,Q.path.w);Q.P8=j.ao.a2_(Q.path);Q.Ox=j.p.axP(Q.P8);
Q.Ox=j.EC.axE(Q.P8,Q.Ox,D)}return M};j.ao.a2_=function(e){var A=[],a=e.w,p=e.F.length-1,N=0,i=0;for(var Z=0;
Z<p;Z++){var c=Z*6,s=a[c+6]-a[c+0],D=a[c+7]-a[c+1],n=Math.ceil(Math.sqrt(s*s+D*D));for(var S=0;S<n;S++){var F=S/n,$=1-F,m=$*$*$*a[c+0]+3*$*$*F*a[c+2]+3*$*F*F*a[c+4]+F*F*F*a[c+6],J=$*$*$*a[c+1]+3*$*$*F*a[c+3]+3*$*F*F*a[c+5]+F*F*F*a[c+7];
A.push(m,J);N=m;i=J}}A=j.p.ub(A,1);var w=[],f=A.length;for(var c=0;c<f;c+=2){var J=A.pop(),m=A.pop();
w.push(m,J)}return w};j.ao.axA=function(e,A,a,p){function N(E,_,v,V,R){var h=R[E*2]-R[_*2],P=R[E*2+1]-R[_*2+1],H=Math.sqrt(h*h+P*P);
if(v[E].indexOf(_)==-1){v[E].push(_);V[E].push(H)}if(v[_].indexOf(E)==-1){v[_].push(E);V[_].push(H)}}var i=e.length>>>1,Z=new Array(i);
if(a.length==0){Z.fill(0);return Z}var s=new Array(i),D=new Array(i);for(var c=0;c<i;c++){s[c]=[];D[c]=[]}for(var c=0;
c<A.length;c+=3){N(A[c],A[c+1],s,D,e);N(A[c],A[c+2],s,D,e);N(A[c+1],A[c+2],s,D,e)}var n=new Float64Array(i*2),S=new Uint32Array(i*2);
n.fill(1e9);var F=new Uint8Array(i);for(var $=0;$<a.length;$++){F.fill(0);var m=["---",[0,a[$]]];while(m.length!=1){var J=j.zk.LB(m),w=J[0],f=J[1];
if(F[f]==1)continue;var b=f<<1;if(w<n[b]){n[b+1]=n[b];S[b+1]=S[b];n[b]=w;S[b]=$}else if(w<n[b+1]){n[b+1]=w;
S[b+1]=$}F[f]=1;var L=s[f],C=D[f];for(var c=0;c<L.length;c++){var M=L[c];if(F[M]!=1){j.zk.vr(m,[w+C[c],M])}}}}for(var c=0;
c<i;c++){var b=c<<1,y=n[b],Q=n[b+1],k=1/(y+Q);Z[c]=(1-y*k)*p[S[b]]+(1-Q*k)*p[S[b+1]]}return Z};j.ao.a8a=function(e){var A={F:[],w:[]},a=[e];
while(a.length!=0){var p=a.pop(),N=p.aV;if(p.a6g instanceof Array||p.ajf instanceof Array){A.F.push("M","L","L","L","Z");
A.w.push(N[0],N[1],N[2],N[1],N[2],N[3],N[0],N[3])}else a.push(p.a6g,p.ajf)}return A};j.ao.Y1=function(e,A,a,p,N,i,Z,s,D,n){var S=Math.round(n.length/3),F=new Array(S);
for(var c=0;c<S;c++)F[c]=c;F.sort(function(m,J){return D[n[m*3]]-D[n[J*3]]});for(var c=0;c<S;c++){var $=F[c]*3;
j.ao.auZ(n[$]*2,n[$+1]*2,n[$+2]*2,Z,s,e,A,a,p,N,i)}};j.ao.auZ=function(e,A,a,p,N,i,Z,s,D,n,S){var F=j.ao.OZ,$=[e,A,a,1.2,1.2,1.2,0],m=[0,0,0,0],J=N[e],w=N[e+1],f=N[A],b=N[A+1],L=N[a],C=N[a+1],M=Math.max(0,Math.min(Z-1,p[e])),y=Math.max(0,Math.min(Z-1,p[A])),Q=Math.max(0,Math.min(Z-1,p[a])),k=Math.max(0,Math.min(s-1,p[e+1])),E=Math.max(0,Math.min(s-1,p[A+1])),_=Math.max(0,Math.min(s-1,p[a+1])),v=f-J,V=b-w,R=L-J,h=C-w,P=1/(v*h-R*V+1e-9),H=Math.max(0,Math.floor(Math.min(J,f,L))),U=Math.min(n,Math.ceil(Math.max(J,f,L))),X=Math.max(0,Math.floor(Math.min(w,b,C))),x=Math.min(S,Math.ceil(Math.max(w,b,C)));
for(var K=X;K<x;K++)for(var T=H;T<U;T++){var I=T+.5-J,o=K+.5-w,l=(I*h-R*o)*P,O=(v*o-I*V)*P;if(l>=0&&O>=0&&l+O<=1){var g=1-l-O,W=M*g+y*l+Q*O,d=k*g+E*l+_*O;
j.K.oo(W,d,i,Z,s,m);j.ao.aa5(m,D,K*n+T<<2)}}};j.ao.aa5=function(e,A,a){var p=A[a],N=A[a+1],i=A[a+2],Z=A[a+3],s=1-e[3]*(1/255);
A[a]=~~(.5+e[0]+p*s);A[a+1]=~~(.5+e[1]+N*s);A[a+2]=~~(.5+e[2]+i*s);A[a+3]=~~(.5+e[3]+Z*s)};j.ao.OZ=function(){var e=function(a,p,N,i){var Z=i[0],s=i[1],D=i[2],n=a[Z+0],S=a[Z+1],F=a[s+0],$=a[s+1],m=a[D+0],J=a[D+1],w=F-n,f=$-S,b=m-n,L=J-S,C=p-n,M=N-S,y=w*L-b*f,Q=1/(y+1e-9),k=(C*L-b*M)*Q,E=(w*M-C*f)*Q;
if(k>=0&&E>=0&&k+E<=1){i[3]=1-k-E;i[4]=k;i[5]=E;return 1}return 0},A=function(a,p,N,i){var Z=[0,0,0,0,0,0];
for(var c=0;c<p.length;c+=3){Z[0]=p[c]*2;Z[1]=p[c+1]*2;Z[2]=p[c+2]*2;if(e(a,N,i,Z)==1)return!0}return!1};
return{agT:e,abT:A}}();j.mU={};j.mU.a9p=function(e,A,a){var p=j.Q(A*a*4),N=!1;j.K.kZ(e,A,a,p,[a,A,0,1,0,1,0,0]);
return[j.mU.EP(e,A,a,N),j.mU.EP(p,a,A,N)]};j.mU.D=function(e,A){var a=!1,p=e[0],N=e[1],i=p[1],Z=p[2],s=p[3],D=A.m,n=A.n;
if(Z==D&&s==n)i=i.slice(0);else if(s!=n){var S=j.Q(Z*n*4);j.mU.gt(N,n,S,a);i=j.Q(Z*n*4);j.K.kZ(S,n,Z,i,[Z,n,0,1,0,1,0,0]);
if(Z!=D){p=j.mU.EP(i,Z,n,a);i=j.Q(D*n*4);j.mU.gt(p,D,i,a)}}else if(Z!=D){i=j.Q(D*s*4);j.mU.gt(p,D,i,a)}return i};
j.mU.EP=function(e,A,a,p){var N=Date.now(),i=new Uint16Array(A*a),Z=1;j.mU.ay3(e,A,a,i);var s=Math.ceil(A/Z),D=new Uint32Array(Z),n=new Uint32Array(Z),s=Math.floor(A/Z);
for(var S=0;S<Z;S++)n[S]=S<Z-1?s:A-(Z-1)*s;for(var F=0;F<a;F++){var c=F*A;for(var S=0;S<Z;S++){var s=n[S];
for(var $=0;$<s;$++)D[S]+=i[c+$];c+=s}}if(p){console.log(Date.now()-N,"cost");N=Date.now()}var m=new Uint32Array(A),J=new Uint32Array(A),w=new Uint32Array(A*a);
for(var $=0;$<A;$++){w[(a-1)*A+$]=i[(a-1)*A+$]}for(var F=a-2;F>=0;F--){var f=F*A;for(var S=0;S<Z;S++){var s=n[S];
w[f]=i[f]+Math.min(w[f+A],w[f+A+1]);for(var $=1;$<s-1;$++){var c=f+$;w[c]=i[c]+Math.min(w[c+A-1],Math.min(w[c+A],w[c+A+1]))}f+=s-1;
w[f]=i[f]+Math.min(w[f+A-1],w[f+A]);f++}}if(p){console.log(Date.now()-N,"Building M");N=Date.now()}function b(V,R){return V<R?V:R}function L(c,V){var R=J[c],h=w[V],P=~~(R*h*1e-4);
return P}var C=new Uint8Array(A*a),M=new Uint32Array(A);for(var c=0;c<A;c++){m[c]=c;J[c]=i[c]}for(var F=1;
F<a;F++){var y=0,f=F*A;for(var S=0;S<Z;S++){var s=n[S],c=f;M[y]=L(y,c);var Q=M[y]+L(y+1,c+1),k=L(y,c+1)+L(y+1,c);
M[y+1]=b(Q,k);for(var $=2;$<s;$++){var c=f+$,E=M[y+$-1]+L(y+$-1,c-1),_=M[y+$-2]+L(y+$-1,c-2)+L(y+$-2,c-1);
M[y+$]=b(E,_)}var $=s-1;while($>=2){var c=f+$,E=M[y+$-1]+L(y+$-1,c-1),_=M[y+$-2]+L(y+$-1,c-2)+L(y+$-2,c-1);
if(M[y+$]==E){C[c-A]=1;$-=1}else{C[c-A]=0;C[c-A-1]=2;$-=2}}var c=f;if($==0){C[c-A]=1}else{if(M[y+1]==Q){C[c+1-A]=1;
C[c-A]=1}else{C[c+1-A]=0;C[c-A]=2}}f+=s;y+=s}j.mU.ayS(F,A,C,i,m,J,!0,N)}if(p){console.log(Date.now()-N,"Matching");
N=Date.now()}var v=i;return[UZIP.adler(e,0,e.length),e,A,a,Z,n,D,m,J,C,v]};j.mU.gt=function(e,A,a,p){var N=e.slice(0),i=N.shift(),Z=N.shift(),s=N.shift(),D=N.shift(),n=N.shift(),S=N.shift(),F=N.shift(),$=N.shift(),m=N.shift().slice(0),J=N.shift(),w=N.shift(),f=Date.now(),b=Math.abs(s-A),L=Math.floor(b/n),C=new Uint32Array(n),y=0,Q=1e9,E=0,_=0,v=0;
for(var M=0;M<n;M++)C[M]=M<n-1?L:b-(n-1)*L;w.fill(0);for(var k=0;k<s;k++){y=Math.max(y,m[k]);Q=Math.min(Q,m[k])}for(var M=0;
M<n;M++){var V=S[M],L=C[M];for(var R=0;R<L;R++){var h=0,P=1e9;for(var k=0;k<V;k++)if(m[_+k]<P){P=m[_+k];
h=_+k}if(A<s)m[h]=1e9;else m[h]*=1.2;if(v<s/3)E+=P;var H=$[h],U=w[H],X=U<65280?65280:U+1;if(X<65280)throw"e";
for(var x=0;x<D;x++){var c=x*s+H;w[c]=X;H+=J[c]-1}v++}_+=V}if(p){console.log(Date.now()-f,"Removing best seams");
f=Date.now()}function K(c,I){var o=c<<2,l=I<<2;a[o]=Z[l];a[o+1]=Z[l+1];a[o+2]=Z[l+2];a[o+3]=Z[l+3]}for(var x=0;
x<D;x++){var T=0,c=x*s;for(var k=0;k<A;k++,T++){if(A<s){while(w[c+T]==65280)T++;K(x*A+k,x*s+T)}else{K(x*A+k,x*s+T);
while(w[c+T]>=65280){w[c+T]--;k++;K(x*A+k,x*s+T)}}}}if(p){console.log(Date.now()-f,"Shifting image pixels");
f=Date.now()}};j.mU.ayS=function(e,A,a,p,N,i){var Z=0,c=e*A;while(Z<A){if(a[c-A]==1){i[Z]=i[Z]+p[c];
Z++;c++}else{var s=N[Z];N[Z]=N[Z+1];N[Z+1]=s;var D=i[Z];i[Z]=i[Z+1]+p[c];i[Z+1]=D+p[c+1];Z+=2;c+=2}}};
j.mU.ay3=function(e,A,a,p){function N(e,c,D){var F=c<<2,$=D<<2,m=e[F]-e[$],J=e[F+1]-e[$+1],w=e[F+2]-e[$+2];
return Math.abs(m)+Math.abs(J)+Math.abs(w)}for(var i=1;i<A;i++){var Z=N(e,i,i-1);p[i-1]+=Z;p[i]+=Z}for(var s=1;
s<a;s++){var D=s*A,Z=N(e,D,D-A);p[D]+=Z;p[D-A]+=Z;for(var i=1;i<A;i++){var c=s*A+i,n=N(e,c,c-1),S=N(e,c,c-A);
p[c-A]+=S;p[c-1]+=n;p[c]+=S+n}}for(var s=0;s<a;s++){p[s*A]*=2;p[s*A+A-1]*=2}for(var c=0;c<p.length;c++)if(p[c]==0)p[c]=1};
j.Yl=function(){function e(){return 1953e6+Math.floor(Math.random()*999999)}function A(M,y){var Q=y[0]-M[0],k=y[1]-M[1];
return Q*Q+k*k}function a(M,y,Q,k,E,_,v,V){var R=Q-M,h=k-y,P=j.p.ox(M,y,R,h,E,_,v-E,V-_),H=[M+P*R,y+P*h],U=P>0?[[[M,y],H,!1,0,1],[[E,_],H,!1,0,5]]:[[[Q,k],H,!1,0,1],[[v,V],H,!1,0,5]];
return U}function p(M){M=M.map(Math.round);var y=a(M[0],M[1],M[2],M[3],M[6],M[7],M[4],M[5]),Q=a(M[0],M[1],M[6],M[7],M[2],M[3],M[4],M[5]),k=[y,Q],E=[y[0][1],Q[0][1]];
for(var c=0;c<2;c++){var _=E[1-c],v=k[c];if(A(v[0][0],_)<A(v[1][0],_)){var V=v[0];v[0]=v[1];v[1]=V}}var R=[e(),0,-1,0,[0,0],y[0],y[1],Q[0],Q[1]];
return R}function N(M){var y=M[5],Q=M[6],k=M[7],E=M[8],_=y[0],v=Q[0],V=E[0],R=k[1],h=y[1],P=V[0],H=V[1],U=R[0]-P,X=R[1]-H,x=j.p.ox(P,H,U,X,v[0],v[1],h[0]-v[0],h[1]-v[1]);
return[P+x*U,H+x*X,P,H,_[0],_[1],v[0],v[1]]}function i(M,y){return M[0]==y[0]&&M[1]==y[1]}function Z(M,y,Q){var k=M[1],E=M[0][0]-k[0],_=M[0][1]-k[1],v=Math.sqrt(E*E+_*_);
E/=v;_/=v;for(var V=0;V<Q.length;V++){var R=Q[V];if(R[0]!=y[1]&&R[1]!=y[0])continue;for(var c=0;c<4;
c++){var h=R[5+c],P=h[0];if(!i(k,h[1]))continue;var H=P[0]-k[0],U=P[1]-k[1];v=Math.sqrt(H*H+U*U);H/=v;
U/=v;var X=H*E+U*_;if(Math.abs(X-1)<1e-7)return!0}}return!1}function s(M,y){j.K.D(M,y);return y}function D(M){var y=[];
for(var Q=0;Q<M.length;Q++){var k=M[Q],E=k[1];for(var _=0;_<E.length;_++){var v=E[_],V=[],R=j.K.wK(N(v),new dE(0,0,1,1));
for(var c=0;c<4;c++){V[c]=Z(v[5+c],v,E)}if(!V[0]){y.push([s(R,[1,.5]),Q,_,0,0]);if(!V[2])y.push([s(R,[1,1]),Q,_,0,1])}if(!V[1]){y.push([s(R,[0,.5]),Q,_,1,0]);
if(!V[3])y.push([s(R,[0,0]),Q,_,1,1])}if(!V[2]){y.push([s(R,[.5,1]),Q,_,2,0]);if(!V[1])y.push([s(R,[0,1]),Q,_,2,1])}if(!V[3]){y.push([s(R,[.5,0]),Q,_,3,0]);
if(!V[0])y.push([s(R,[1,0]),Q,_,3,1])}}}return y}function n(M,y,Q){var k=Q[0],E=Q[1],_=y.x-M[0],v=y.y-M[1],V=j.p.ox(M[0],M[1],_,v,E[0],E[1],k[0]-E[0],k[1]-E[1]);
return[M[0]+V*_,M[1]+V*v]}function S(M,y,Q){M=JSON.parse(JSON.stringify(M));var k=M[y[1]][1][y[2]],E=y[3],_=y[4];
if(_==1)return M;if(E==0||E==2){var v=k[5+E],V=k[5+2-E],R=k[5+(E==0?3:1)],h=v[1];v[0]=V[0]=n(h,Q,V);
R[0]=n(h,Q,R)}else{var R=k[5+E],h=R[1],v=k[5+(E==3?0:2)];R[0]=n(h,Q,v)}return M}function F(M,y,Q){var k=y[0]-M[0],E=y[1]-M[1],_=j.p.ox(Q[0],Q[1],-E,k,M[0],M[1],k,E);
return[Q[0]-E*_,Q[1]+k*_]}function $(M,y,Q){var k=Q[0],E=Q[1],s=F(M,y,Q),_=s[0],v=s[1],V=F(M,Q,y),R=j.p.ox(_,v,k-_,E-v,y[0],y[1],V[0]-y[0],V[1]-y[1]);
return[_+(k-_)*R,v+(E-v)*R]}function m(M,y,Q){M=JSON.parse(JSON.stringify(M));var k=M[y[1]][1][y[2]],E=y[3],_=y[4];
if(_==1)return M;var v=k[5][1],V=k[7][1],R=$(v,V,Q),h=JSON.parse(JSON.stringify(k));M[y[1]][1].push(h);
h[0]=e();h[1]=k[0];if(E==0||E==1){h[7][1]=h[8][1]=R;if(E==1){h[5][0]=h[7][0]=k[6][0];h[8][0]=N(k).slice(0,2)}}else{h[5][1]=h[6][1]=R;
if(E==3){h[5][0]=h[7][0]=k[8][0];h[6][0]=N(k).slice(0,2)}}return M}function J(M,y,Q){var iM=M.length>>1,k,E=M[2*iM-3]-Q,_=M[2*iM-2]-y,v=M[2*iM-1]-Q,V=!1,R=0;
for(var c=0;c<iM;c++){k=_;E=v;_=M[2*c]-y;v=M[2*c+1]-Q;if(E==v)continue;V=v>E}for(var c=0;c<iM;c++){k=_;
E=v;_=M[2*c]-y;v=M[2*c+1]-Q;if(E<0&&v<0)continue;if(E>0&&v>0)continue;if(k<0&&_<0)continue;if(E==v&&Math.min(k,_)<=0)return!0;
if(E==v)continue;var h=k+(_-k)*-E/(v-E);if(h==0)return!0;if(h>0)R++;if(E==0&&V&&v>E)R--;if(E==0&&!V&&v<E)R--;
V=v>E}return(R&1)==1}function w(M,y,Q){for(var k=0;k<M.length;k++){var E=M[k][1];for(var _=0;_<E.length;
_++){var v=N(E[_]);if(J(v,y,Q))return[k,_]}}}function f(M,y){for(var Q=0;Q<M.length;Q++){var k=M[Q][1],E=y[Q];
if(E.length==0)continue;var _=b(k,E);for(var v=0;v<k.length;v++){if(_.indexOf(k[v][0])!=-1){k.splice(v,1);
v--}}}for(var Q=0;Q<M.length;Q++)if(M[Q][1].length==0){M.splice(Q,1);Q--}return M}function b(M,y){var Q=[];
for(var c=0;c<10;c++)for(var k=0;k<M.length;k++){var E=M[k];if(y.indexOf(k)!=-1||Q.indexOf(E[1])!=-1)if(Q.indexOf(E[0])==-1)Q.push(E[0])}return Q}function L(M){var y=z.wc(M,0,M.length),Q=y.split("\n").slice(1);
function k(){return parseFloat(Q.shift())}function E(){var gT=[k(),k()];_(1);return gT}function _(iM){for(var c=0;
c<iM;c++)Q.shift()}var v=[],V=k();for(var R=0;R<V;R++){var h=k(),P=k(),H=[];v.push([h,H]);for(var U=0;
U<P;U++){var X=k(),x=k(),K=k(),T=k(),I=E(),o=[X,x,K,T,I];H.push(o);for(var c=0;c<4;c++){var l=E(),O=E(),g=k()==1,W=k(),d=k();
o.push([l,O,g,W,d])}}}return v}function C(M){function y(P){Q.push(P[0],P[1],"")}var Q=["tNaF203"];Q.push(M.length);
for(var k=0;k<M.length;k++){Q.push(M[k][0]);var E=M[k][1];Q.push(E.length);for(var _=0;_<E.length;_++){var v=E[_];
Q.push(v[0],v[1],v[2],v[3]);y(v[4]);for(var c=0;c<4;c++){var V=v[5+c];y(V[0]);y(V[1]);Q.push(V[2]?1:0,V[3],V[4])}}}var R=Q.join("\n"),h=new Uint8Array(R.length);
z.O2(h,0,R);return h}return{__:L,Yq:C,a3s:N,a8y:p,$c:D,ad8:S,a6t:function(M,y){return y&&y[4]==1&&M[y[1]][1].length==1},aj3:function(M,y){return y&&y[4]==0},ax$:m,axI:f,Dr:b,arO:w}}();
j.Ef=function(){var e=0,A=0,p=15,i=256;function a(S,F,$,m,J,w){var f=(J-1)*F,b=w*F;return S[b+m]-S[b+$-1]-S[f+m]+S[f+$-1]}var N=Math.round(p/8),Z=[];
function s(S,F){for(var $=0;$<F.length;$++){var m=F[$],J=0,w=0,f=S[m.y_],b=f.ZM,L=f.SB,C=f.Ps;for(var M=-p;
M<=p;M++)for(var y=-p;y<=p;y++){var Q=y+m.a33,k=M+m.afv;if(y*y+M*M>p*p||Q<0||k<0||Q>=L||k>=L)continue;
var E=b[k*L+Q];J+=y*E;w+=M*E}m.A2=Math.atan2(w,J)}}function D(S,F,$,m,J){var w=~~(S+.5),f=~~(F+.5);return a($,m,w-N,w+N,f-N,f+N)}function n(S,F,$,m,J){e=m;
A=J;if(Z.length==0){var w=new j.s.R9(16200817),C=8,M=0;function f(Y){var v=Y[0]-Y[2],V=Y[1]-Y[3];return v*v+V*V}function b(){var Y=0,fk=0;
while(Y===0)Y=w.get();while(fk===0)fk=w.get();return Math.sqrt(-2*Math.log(Y))*Math.cos(2*Math.PI*fk)}var L=b,y=[];
while(M!=i){var Q=Math.max(-p,Math.min(p,L()*C)),k=Math.max(-p,Math.min(p,L()*C)),E=Math.max(-p,Math.min(p,L()*C)),_=Math.max(-p,Math.min(p,L()*C)),v=Q-E,V=k-_,R=Math.sqrt(v*v+V*V);
if(R<3||R>12)continue;Z.push(Q,k,E,_);M++}}var h=20;for(var P=0;P<F.length;P++){var H=F[P],U=S[H.y_],X=U.pt,$=U.ZM,m=U.SB,J=U.Ps,x=H.a33,K=H.afv,T=H.A2,I=Math.cos(T),o=Math.sin(T),l=new Uint8Array(i>>>3);
H.h2=l;for(var c=0;c<i;c++){var O=c*4,Q=Z[O+0],k=Z[O+1],E=Z[O+2],_=Z[O+3],g=I*Q-o*k,W=o*Q+I*k,d=I*E-o*_,gT=o*E+I*_,r=D(x+g,K+W,X,m,J),G=D(x+d,K+gT,X,m,J);
l[c>>>3]|=(r<G?0:1)<<(c&7)}}}return{ahL:s,asx:n}}();j.av8=function(){function e(A,a){var p=[[9]],N=Date.now(),i=[];
for(var Z=0;Z<A.length;Z++){var s=A[Z],D=s.pt,n=s.SB,S=s.Ps,m=9,C=1,H=24;if(D==null)continue;var F=new Float32Array(n*S),$=new Uint8Array(n*S),J=m>>>1,w=J>>>1,f=Math.round(m/3);
if(f!=m/3)throw"e";var b=1/(m*m),L=1.2*(m/9);for(var M=J+1;M<S-J;M+=C)for(var y=J+1;y<n-J;y+=C){var Q=j.t5(D,n,y-w,y+w,M-J,M+J)-3*j.t5(D,n,y-w,y+w,M-J+f,M+J-f),k=j.t5(D,n,y-J,y+J,M-w,M+w)-3*j.t5(D,n,y-J+f,y+J-f,M-w,M+w),E=y-J+1,_=y+J-1,v=M-J+1,V=M+J-1,R=j.t5(D,n,E,y-1,v,M-1)+j.t5(D,n,y+1,_,M+1,V)-j.t5(D,n,y+1,_,v,M-1)-j.t5(D,n,E,y-1,M+1,V),h=(k*Q-.9*R*(.9*R))*(b*b);
F[M*n+y]=Math.abs(h);$[M*n+y]=h<0?0:1}var P=n*C;for(var M=H;M<S-H;M+=C)for(var y=H;y<n-H;y+=C){var c=M*n+y,U=F[c];
if(U<16)continue;if(F[c-C]>=U||F[c+C]>=U)continue;if(F[c-P-C]>=U||F[c-P]>=U||F[c-P+C]>=U)continue;if(F[c+P-C]>=U||F[c+P]>=U||F[c+P+C]>=U)continue;
i.push({x:~~(y*s.uF+.5),y:~~(M*s.uF+.5),a33:y,afv:M,y_:Z,Z:U,aoE:$[c],PV:L})}}if(a!=null){i.sort(function(O,g){return g.Z-O.Z});
i=i.slice(0,a)}return i;var X=[];for(var c=0;c<i.length;c++){var x=!0,K=i[c];for(var T=0;T<i.length;
T++){var I=i[T];if(T!=c&&I.Z>K.Z&&(I.y_==K.y_+1||I.y_==K.y_-1)){var o=K.x-I.x,l=K.y-I.y;if(o*o+l*l<5){x=!1;
break}}}if(x)X.push(K)}console.log(i.length,X.length);return X}return{a4r:e}}();j.z_={};j.z_.aiA=function(e){var A=e.length,a=j.z_.qy(e,!1),N=0,i=1;
throw"e";var p=[];for(var c=0;c<A;c++)p[c]=j.z_.gE(a[c]);var Z=e[0][1],s=j.z_.match(a[N],a[i],p[i]);
console.log(s.length);var D=Math.max(Math.min(s.length,40),s.length*.54);D=Math.min(D,200);var n=s.slice(0,D),S=j.rA.a9X(a[N],a[i],n,Z.m,Z.n),F=j.rA.adc(S,[0,0,0],1),$=Z.m/2,m=Z.n/2,J=1/Math.max($,m);
for(var c=0;c<1;c++){var w=n[c],f=a[N][w[0]],b=a[i][w[1]],L=j.rA.azC(F,J*(f.x-$),J*(f.y-m),J*(b.x-$),J*(b.y-m))}var C=j.rA.aeW(S,Z),M=[];
for(var c=0;c<2;c++){var y=C[c],Q=[y[0][0],y[0][1],y[0][2],y[1][0],y[1][1],y[1][2],y[2][0],y[2][1]],k=q.BD.K0(e[c],null,Q);
M.push([k.buffer,k.rect])}return[j.z_.agx(M[0],M[1],a[N],a[i],n,S,C,Z)]};j.z_.J6=function(e,A){var a=e.length,p=!1,N=Date.now(),i=j.z_.qy(e,!1,1e4);
if(p)console.log("Descriptors ready",Date.now()-N);N=Date.now();for(var c=0;c<a;c++){var Z=e[c][1];for(var s=0;
s<i[c].length;s++){i[c][s].x+=Z.x;i[c][s].y+=Z.y}}if(p)console.log("shifted",Date.now()-N);N=Date.now();
var D=[];for(var c=0;c<a;c++)D[c]=j.z_.gE(i[c]);if(p)console.log("trees built",Date.now()-N);N=Date.now();
var n=[];for(var c=0;c<a-1;c++)for(var s=c+1;s<a;s++){var S=j.z_.match(i[c],i[s],D[s]);if(p)console.log("Matches found",c,s,S.length);
S=S.slice(0,S.length>>>1);if(S.length<10)return null;var F=j.z_.akS(i[c],i[s],S,2);n.push([c,s,S,F])}n.sort(function(_,v){return v[2].length-_[2].length});
if(p)console.log("Matches found",Date.now()-N);N=Date.now();var $=[],m=new UnionFind(a);for(var c=0;
c<n.length;c++){var J=n[c],w=m.find(J[0]),f=m.find(J[1]);if(w!=f){$.push(J);m.link(w,f)}}var b=[];for(var c=0;
c<a;c++)b[c]=[1,0,0,0,1,0,0,0];var L=[0],C=new Uint8Array(a);C[L[0]]=1;while(L.length!=0){var f=L.pop(),F=b[f],M=[];
for(var c=0;c<$.length;c++){var J=$[c],y=J[0],Q=J[1];if(y==f&&C[Q]==0){b[Q]=j.K._n(F,J[3]);L.push(Q);
C[Q]=1}if(Q==f&&C[y]==0){b[y]=j.K._n(F,j.K.rQ(J[3]));L.push(y);C[y]=1}}}if(A==null){var k=[];for(var c=0;
c<a;c++)k.push([b[c][2],c]);k.sort(function(_,v){return _[0]-v[0]});A=k[k.length>>>1][1]}var E=j.K.rQ(b[A]);
for(var c=0;c<a;c++)b[c]=j.K._n(b[c],E);if(p)console.log("Transforms reordered",Date.now()-N);N=Date.now();
return b};j.z_.qy=function(e,A,a){var p=[],N=!1;for(var c=0;c<e.length;c++){var i=e[c][0],Z=e[c][1],s=Z.m,D=Z.n,n=j.Q(Z.O());
j.U2(i,n);var S=Date.now(),F=j.z_.a0R(n,Z,!0);if(N)console.log("Pyramid built ---------------",Date.now()-S);
S=Date.now();var $=j.av8.a4r(F,a);if(N)console.log("SURF Generation",Date.now()-S);S=Date.now();if(!A){j.Ef.ahL(F,$);
if(N)console.log("ORB Orientations",Date.now()-S);S=Date.now();j.Ef.asx(F,$,n,s,D);if(N)console.log("ORB Descriptors",Date.now()-S);
S=Date.now()}p.push($)}return p};j.z_.a0R=function(e,A,a){var p=[],N=[e,A];j.ej(N);if(a){var i=j.rS(e,A),Z=i.rect,s=[i.Qi,Z];
j.ej(s)}for(var c=0;c<N.length;c++){var D=N[2*c],n=N[2*c+1],S=n.m,F=n.n,$=Math.min(S,F);if($<30)break;
if($<1600)p.push({ZM:D,SB:S,Ps:F,uF:1<<c,pt:j.sR(D,S,F)});if(!a)continue;var D=s[2*c],n=s[2*c+1],S=n.m,F=n.n,$=Math.min(S,F);
if($<30)break;if($<1600)p.push({ZM:D,SB:S,Ps:F,uF:(1<<c)*3/2,pt:j.sR(D,S,F)})}return p};j.z_.akS=function(e,A,a,p){var N=Date.now(),i,Z=0,s=0,D=a.length,n=new Float64Array(2);
for(var S=0;S<3e3;S++){var F=~~(Math.random()*D),$=~~(Math.random()*D),m=~~(Math.random()*D),J=~~(Math.random()*D),P=0,H=0;
if(F==$||F==m||F==J||$==m||$==J||m==J)continue;var w=a[F],f=a[$],b=a[m],L=a[J],C=e[w[0]],M=A[w[1]],y=e[f[0]],Q=A[f[1]],k=e[b[0]],E=A[b[1]],_=e[L[0]],v=A[L[1]],V=[C.x,C.y,y.x,y.y,k.x,k.y,_.x,_.y],R=[M.x,M.y,Q.x,Q.y,E.x,E.y,v.x,v.y],h=j.K.Rr(V,R);
if(h[0]==0&&h[1]==0&&h[3]==0&&h[4]==0)continue;var U=D-Z+2;for(var c=0;c<D&&c-P<U;c++){var X=e[a[c][0]],x=A[a[c][1]];
j.K.Rc(x.x,x.y,h,n);var K=n[0]-X.x,T=n[1]-X.y,I=K*K+T*T;if(I<p){P++;H+=I}}if(P>Z||P==Z&&H<s){i=h;Z=P;
s=H}}return i};var jc=new Uint8Array(256);for(var c=0;c<256;c++){var hF=0,iM=c;while(iM!=0){iM=iM&iM-1;
hF++}jc[c]=hF}j.z_.afB=function(e,A,a){var p=0,N=e.length;for(var c=0;c<N&&p<a;c++)p+=jc[e[c]^A[c]];
return p};j.z_.a7r=function(e,A,a,top,p){if(p[a]==1)return;var N=j.z_.afB(e.h2,A.h2,top[0]);if(N<top[0]){if(N<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=N;top[3]=a}else{top[0]=N;top[1]=a}}p[a]=1};j.z_.gE=function(e){var A=[],a=[],p=[[],[]],N=4;
for(var c=0;c<e.length;c++)(e[c].aoE==0?A:a).push(c);for(var i=0;i<2;i++){var Z=new Array(N),s=[],D=i==0?A:a,n=D.length/256,S=[];
for(var F=0;F<32;F++){var $=new Array(256),w=0;for(var m=0;m<256;m++)$[m]=[];for(var m=0;m<D.length;
m++){var J=D[m];$[e[J].h2[F]].push(J)}for(var m=0;m<256;m++)w+=Math.abs($[m].length-n);S.push([w,F,$])}S.sort(function(f,b){return f[0]-b[0]});
var s=[],Z=[];p[i]=[s,Z];for(var c=0;c<N;c++){s.push(S[c][1]);Z.push(S[c][2])}}return p};j.z_.match=function(e,A,a){var p=[],N=new Uint16Array(A.length);
N.fill(65535);var i=new Uint8Array(A.length),top=new Uint32Array(4),Z=[];for(var s=0;s<e.length;s++){var D=e[s],n=D.h2;
top.fill(1e6);i.fill(0);var S=a[D.aoE];for(var F=0;F<S[1].length;F++){var $=S[1][F][n[S[0][F]]];for(var m=0;
m<$.length;m++){var J=$[m];j.z_.a7r(D,A[J],J,top,i)}}if(top[2]<50&&top[2]<top[0]*.5){var w=N[top[3]];
if(w==65535){N[top[3]]=p.length;p.push([s,top[3],top[2]])}else if(top[2]<p[w][2]){p[w]=[s,top[3],top[2]]}}}p.sort(function(f,b){return f[2]-b[2]});
return p};j.z_.acf=function(e){var A=new dE;for(var c=0;c<e.length;c++)A=A.pg(e[c][1]);var a=j.Q(A.O()*4);
for(var c=0;c<e.length;c++)j.s.eZ("norm",e[c][0],e[c][1],a,A,A,1);return[a,A]};j.z_.agx=function(e,A,a,p,N,i,Z,s){var D=e[1].clone(),n=D.clone();
D.x=D.y=0;var S=A[1].clone(),F=S.clone();S.x=S.y=0;S.x=D.m;var $=D.pg(S),m=F.y-n.y,J=j.Q($.O()*4);j._M(e[0],D,J,$);
j._M(A[0],new dE(S.x,S.y+m,S.m,S.n),J,$);var w=document.createElement("canvas");w.width=$.m;w.height=$.n;
var f=w.getContext("2d");f.lineWidth=.5;f.putImageData(new ImageData(new Uint8ClampedArray(J.buffer),$.m,$.n),0,0);
if(i){var b=i[0],L=j._T.d3(b),C=D.m,M=s.m;for(var c=0;c<N.length;c++){var y=N[c],e=a[y[0]],A=p[y[1]];
f.strokeStyle="#"+"ff0000";f.beginPath();var Q=j.rA.asR(L,Z[0],A,0,M),k=j.rA.asR(b,Z[1],e,0,M);f.moveTo(-n.x+Q[0],-n.y+Q[1]);
f.lineTo(-n.x+Q[2],-n.y+Q[3]);f.moveTo(C-F.x+k[0],-F.y+m+k[1]);f.lineTo(C-F.x+k[2],-F.y+m+k[3]);f.stroke()}}if(N){var E=N.length;
for(var c=0;c<E;c++){var y=N[c],e=a[y[0]],A=p[y[1]];f.strokeStyle="#"+"ffff00"}}var _=new Uint8Array(f.getImageData(0,0,$.m,$.n).data.buffer);
if(!1){for(var v=0;v<2;v++){var V=v==0?a:p,R=v*D.m;for(var c=0;c<V.length;c++){var h=V[c],P=~~h.x,H=~~h.y,U=(H*$.m+P+R)*4;
_[U+1]=_[U+2]=h.abW*60;_[U+0]=0;_[U+3]=255}}}return[_,$]};j.stack={};j.stack.stack=function(e,A,a){var p=e.length,N=A.length;
if(p==1){A.set(e[0]);return}if(a=="avrg"||a=="stdv"||a=="summ"||a=="vari"){var i=1/p;for(var c=0;c<N;
c++){var Z=0;for(var s=0;s<p;s++)Z+=e[s][c];var D=~~(Z*i+.5);if(a=="avrg"||(c&3)==3)A[c]=D;else if(a=="summ")A[c]=255*Math.pow(Math.min(255,Z)*(1/255),1/2.4);
else{var n=0;for(var s=0;s<p;s++){var S=e[s][c]-D;n+=S*S}var F=Math.sqrt(n*i)*(1/255);if(a=="stdv")A[c]=255*Math.pow(F,1/2.4);
else A[c]=255*Math.pow(F*F,1/2.4)}}}else if(a=="maxx"){for(var c=0;c<N;c++){var $=0;for(var s=0;s<p;
s++)$=Math.max($,e[s][c]);A[c]=$}}else if(a=="minn"){for(var c=0;c<N;c++){var $=255;for(var s=0;s<p;
s++)$=Math.min($,e[s][c]);A[c]=$}}else if(a=="medn"||a=="rang"){var m=function(b,L){return b-L},J=new Array(p),w=0,f=0;
if((p&1)==0){f=p>>>1;w=f-1}else{w=f=p>>>1}for(var c=0;c<N;c++){for(var s=0;s<p;s++)J[s]=e[s][c];J.sort(m);
if(a=="medn")A[c]=J[w]+J[f]>>>1;else A[c]=(c&3)==3?J[p-1]:J[p-1]-J[0]}}else console.log(a)};j.jT={};
j.jT.a3O=function(e,A,a,p){var N=Date.now(),i=new Uint32Array(A*a),Z=new Uint8Array(A*a);while(!0){Z.fill(0);
i.fill(0);var s=[],D=0;for(var n=0;n<a;n++){for(var S=0;S<A;S++){var c=n*A+S;if(Z[c]==0){var F=s.length,$=j.jT.L_(e,A,a,S,n,Z,i,F);
s.push([F,S,n,$[0],$[1],e[c]]);if($[0]<p)D++}}}if(D==0)break;var m=s.length,J=new UnionFind(m),w=[];
for(var c=0;c<m;c++)w.push([]);for(var c=0;c<m;c++){var $=s[c],f=$[4],b=0,L=0;if($[3]>=p)continue;var F=$[0];
for(var C=0;C<f.length;C+=2){var M=i[f[C+1]*A+f[C]],y=s[M];if(y[3]>L){L=y[3];b=M}}if(J.find(F)!=J.find(b)){J.link(F,b);
w[F].push(b);w[b].push(F)}}var Q=new Uint32Array(m);Q.fill(4294967295);var k=new Uint32Array(m);for(var c=0;
c<m;c++){if(Q[c]!=4294967295||w[c].length==0)continue;var E=[c],_=[c],v=c,V=s[c][3];while(_.length!=0){var R=_.pop(),h=w[R];
for(var C=0;C<h.length;C++){var P=h[C];if(E.indexOf(P)==-1){E.push(P);_.push(P);var H=s[P];if(H[3]>V){V=H[3];
v=P}}}}for(var C=0;C<E.length;C++){Q[E[C]]=v;var U=s[v];k[E[C]]=e[U[2]*A+U[1]]}}for(var n=0;n<a;n++)for(var S=0;
S<A;S++){var c=n*A+S,X=Q[i[c]];if(X!=4294967295)e[c]=k[X]}}};j.jT.L_=function(e,A,a,p,N,i,Z,s){var D=[p,N],n=e[N*A+p],S=0,F=[];
i[N*A+p]=1;while(D.length!=0){var $=D.pop(),m=D.pop(),c=$*A+m;Z[c]=s;S++;if($!=a-1)if(e[c+A]==n){if(i[c+A]==0){D.push(m,$+1);
i[c+A]=1}}else F.push(m,$+1);if($!=0)if(e[c-A]==n){if(i[c-A]==0){D.push(m,$-1);i[c-A]=1}}else F.push(m,$-1);
if(m!=A-1)if(e[c+1]==n){if(i[c+1]==0){D.push(m+1,$);i[c+1]=1}}else F.push(m+1,$);if(m!=0)if(e[c-1]==n){if(i[c-1]==0){D.push(m-1,$);
i[c-1]=1}}else F.push(m-1,$)}return[S,F]};j.jT.adV=function(e,A,a,p,N){var i=j.jT.ms(e.buffer,A,a).Lu,Z=Date.now(),s=[];
for(var c=0;c<i.length;c++){var D=i[c],n=1;for(var S=0;S<n;S++)s.push(D.b9)}var F=new Uint32Array(s),$=UPNG.quantize.getKDtree(new Uint8Array(F.buffer),p),m=[A,1,-A,-1,A+1,-A+1,-A-1,A-1,A+A,2,-A-A,-2,A+A-1,A+A+1,A+2,-A+2,-A-A+1,-A-A-1,-A-2,A-2,A+A+2,-A-A+2-A-A-2,A+A-2],J=new Uint8Array(A*a),w=e;
for(var f=0;f<a;f++)for(var b=0;b<A;b++){var c=f*A+b<<2,L=w[c]*(1/255),C=w[c+1]*(1/255),M=w[c+2]*(1/255),y=w[c+3]*(1/255),Q=j.jT.jk($,L,C,M,y,N);
if(Q==null){var k=[],E=0;while(E<20){var _=f*A+b+m[E]<<2,v=w[_]*(1/255),V=w[_+1]*(1/255),R=w[_+2]*(1/255),h=w[_+3]*(1/255),P=j.jT.jk($,v,V,R,h,.005);
if(P!=null){if(k.indexOf(P)==-1){k.push(P);P.ED=1}else P.ED++}E++}k.sort(function(y,M){return M.ED-y.ED});
while(k.length!=0&&k[k.length-1].ED<3)k.pop();if(k.length==0)Q=j.jT.jk($,L,C,M,y,100);else if(k.length==1)Q=k[0];
else if(k.length==2){var H=k[0],U=k[1],X=H.est.q,x=U.est.q,K=x[0]-X[0],T=x[1]-X[1],I=x[2]-X[2],o=x[3]-X[3],l=L-X[0],O=C-X[1],g=M-X[2],W=y-X[3],d=K*K+T*T+I*I+o*o,gT=l*l+O*O+g*g+W*W,r=(l*K+O*T+g*I+W*o)/d,G=gT-r*r*d;
if(G<.5)Q=r<.5?H:U;else{Q=j.jT.jk($,L,C,M,y,100)}}else{var H=k[0],U=k[1],Y=k[2],X=H.est.q,x=U.est.q,fk=Y.est.q,eJ=X[0]-fk[0],eS=X[1]-fk[1],gL=X[2]-fk[2],cX=X[3]-fk[3],kj=x[0]-fk[0],gq=x[1]-fk[1],iL=x[2]-fk[2],ew=x[3]-fk[3],dk=fk[0]-L,j9=fk[1]-C,fh=fk[2]-M,g9=fk[3]-y,k6=eJ*eJ+eS*eS+gL*gL+cX*cX,jx=eJ*kj+eS*gq+gL*iL+cX*ew,fV=dk*eJ+j9*eS+fh*gL+g9*cX,ao=eJ*kj+eS*gq+gL*iL+cX*ew,b8=kj*kj+gq*gq+iL*iL+ew*ew,ke=dk*kj+j9*gq+fh*iL+g9*ew,gj=1/(jx*ao-k6*b8),r=(b8*fV-ke*jx)*gj,jf=(ke*k6-fV*ao)*gj,ay=1-r-jf,fz=Math.max(r,jf,ay);
if(fz==r)Q=H;else if(fz==jf)Q=U;else Q=Y}}J[c>>2]=Q.ind}return{Ox:J,Lu:$[1]}};j.jT.ms=function(e,A,a){var p=[],N={},i=A-1,Z=a-1,s=0,D=new Uint32Array(e),n=[-A-1,-A,-A+1,-1,1,A-1,A,A+1,A+A,2,-A-A,-2,A+A-1,A+A+1,A+2,-A+2,-A-A+1,-A-A-1,-A-2,A-2,A+A+2,-A-A+2-A-A-2,A+A-2];
for(var S=1;S<Z;S++)for(var F=1;F<i;F++){var $=S*A+F,m=D[$],J=!0;for(var c=0;c<8;c++)J=J&&D[$+n[c]]==m;
if(J){s++;var w=N[m];if(w==null){N[m]=p.length;p.push({b9:m,lm:1})}else p[w].lm++}}return{Lu:p,avQ:s}};
j.jT.jk=function(e,A,a,p,N,i){var Z=UPNG.quantize.getNearest(e[0],A,a,p,N);return j.jT.apm(Z,A,a,p,N)<i?Z:null};
j.jT.apm=function(e,A,a,p,N){var i=e.est.q,Z=A-i[0],s=a-i[1],D=p-i[2],n=N-i[3];return Z*Z+s*s+D*D+n*n};
j.jT.MP=function(){function e(b,L,C,M,y,Q){var k=[],E=Q,_=Q,v=Q>>>2;for(var V=0;V<y;V++)for(var R=0;
R<M;R++){var h=~~((R+.5)*E),P=~~((V+.5)*_),H=1e9,U=Math.max(0,h-v),X=Math.min(L,h+v+1),x=Math.max(0,P-v),K=Math.min(C,P+v+1);
for(var T=x;T<K;T++)for(var I=U;I<X;I++){var o=A(b,L,I,T);if(o<H){h=I;P=T;H=o}}var l=(P*L+h)*4;k.push(h,P)}return k}function A(b,L,C,M){var y=(M*L+C)*4,Q=L*4,k=a(b,y-4,y)+a(b,y,y+4),E=a(b,y-Q,y)+a(b,y,y+Q);
return k+E}function a(b,L,C){var M=b[L]-b[C],y=b[L+1]-b[C+1],Q=b[L+2]-b[C+2];return M*M+y*y+Q*Q}var p=0,N=0;
function i(b,L,C,M){N++;if(M<p)p=M;b[M].push(L,C)}function Z(b){N--;while(b[p].length==0)p++}function s(b,L,C,M,y){p=0;
N=0;var Q=L*C,k=Math.round(Math.min(L,C)/(M?M:50)),U=0,X=16;if(k==0)k=1;var E=(y?y:30)/k,_=Math.floor(L/k),v=Math.floor(C/k),V=new Uint16Array(Q);
for(var c=0;c<Q;c++)V[c]=65535;var R=e(b,L,C,_,v,k),h=R.length>>>1;if(h>65535)throw h;var P=[];for(var c=0;
c<1e3+C;c++)P.push([]);var H=[0,1,0,-1,-1,0,1,0],x=Math.min(v,5),K=new Uint32Array(h*6);for(var T=0;
T<v;T+=x){var I=Math.min(T+x+1,v);for(var o=T;o<I;o++)for(var l=0;l<_;l++){var c=o*_+l,O=c*2,g=R[O+1]<<16|R[O];
i(P,g,c,R[O+1]>>>X)}var W=Math.min(C,I*k);if(T+x>=v)W=C;while(N!=0){Z(P);var d=P[p].pop(),gT=P[p].pop(),r=gT>>>16,G=gT&65535,c=r*L+G;
if(V[c]==65535){var Y=d*6,fk=c<<2;V[c]=d;K[Y]+=b[fk];K[Y+1]+=b[fk+1];K[Y+2]+=b[fk+2];K[Y+3]+=G;K[Y+4]+=r;
K[Y+5]++;var eJ=r>>>X;if(r!=W-1&&V[c+L]==65535)i(P,r+1<<16|G,d,D(b,L,E,G,r+1,K,Y)+eJ);if(r!=0&&V[c-L]==65535)i(P,r-1<<16|G,d,D(b,L,E,G,r-1,K,Y)+eJ);
if(G!=0&&V[c-1]==65535)i(P,r<<16|G-1,d,D(b,L,E,G-1,r,K,Y)+eJ);if(G!=L-1&&V[c+1]==65535)i(P,r<<16|G+1,d,D(b,L,E,G+1,r,K,Y)+eJ)}}if(W!=r){var eS=(T+x)*_;
K.fill(0,eS*6,(eS+_)*6);for(var r=(T+x-2)*k;r<W;r++)for(var G=0;G<L;G++){var c=r*L+G;if(V[c]>=eS){V[c]=65535}}}}return{Ox:V,t7:h,tZ:K}}j.jT.UI=function(b,L,C,M,y){var Q=b.t7,k=L*C,E=b.tZ,_=b.Ox,v=m(M,_,Q,k),V=new UnionFind(Q),X=0;
for(var R=1;R<C;R++)for(var h=1;h<L;h++){var c=R*L+h,P=_[c],H=0;if((H=_[c-1])!=P&&v[H]==v[P]&&n(E,0,P*6,H*6)<y)V.link(P,H);
if((H=_[c-L])!=P&&v[H]==v[P]&&n(E,0,P*6,H*6)<y)V.link(P,H)}var U=new Uint16Array(Q);U.fill(65535);var x=new Uint16Array(Q);
for(var c=0;c<Q;c++){var K=V.find(c);if(U[K]==65535)U[K]=X++;x[c]=U[K]}var T=new Uint16Array(k);for(var c=0;
c<k;c++)T[c]=x[_[c]];return{Ox:T,t7:X}};j.jT.ad$=function(b,L,C,M){var y=j.Q(C),Q=L.length,k=0;for(var c=0;
c<Q&&k!=3;c++){var E=M[c];if(E==0||E==255){var _=L[c],v=2-(E>>>7);y[_]=k=y[_]|v}}return k!=3};function D(b,L,C,M,y,Q,k){var E=(y*L+M)*4,_=Q[k+5],v=1/_,V=b[E]*_-Q[k],R=b[E+1]*_-Q[k+1],h=b[E+2]*_-Q[k+2],P=M*_-Q[k+3],H=y*_-Q[k+4],U=Math.sqrt(V*V+R*R+h*h),X=Math.sqrt(P*P+H*H);
return~~((U+C*X)*v+.5)}function n(b,L,C,M){var y=1/b[C+5],Q=1/b[M+5],k=b[C]*y-b[M]*Q,E=b[C+1]*y-b[M+1]*Q,_=b[C+2]*y-b[M+2]*Q,v=b[C+3]*y-b[M+3]*Q,V=b[C+4]*y-b[M+4]*Q,R=Math.sqrt(k*k+E*E+_*_),h=Math.sqrt(v*v+V*V);
return~~(R+L*h+.5)}function S(b,L,C){var M=j.A7(b,new dE(0,0,L,C)),y=M.rect.m,Q=M.rect.n,k=s(M.Qi,y,Q),E=k.Ox,_=Date.now(),v=new Uint16Array(L*C);
v.fill(65535);for(var V=0;V<Q;V++){for(var R=0;R<y;R++){var h=V*y+R,c=(V<<1)*L+(R<<1),P=E[h];if(E[h-y]!=P||E[h-1]!=P||E[h+1]!=P||E[h+y]!=P)P=65535;
v[c]=P;v[c+1]=P;v[c+L]=P;v[c+L+1]=P}}k.Ox=v;return k}function F(b,L){var c=0,C=b.length;while(c!=C&&b[c]!=L)c+=2;
return c==C?-1:c}function $(b,c){if(c==b.length-2){b.pop();b.pop()}else{b[c+1]=b.pop();b[c]=b.pop()}}j.jT.ayr=function(b,L,C,M,y){var Q=new Uint32Array(y*4400),A=[];
for(var c=0;c<y;c++)A.push([]);for(var k=0;k<C;k++)for(var E=0;E<L;E++){var c=k*L+E,_=c<<2,v=M[c],V=0,R=b[_]>>>4,h=b[_+1]>>>4,P=b[_+2]>>>4;
Q[v*4400+(R<<8|h<<4|P)]++;Q[v*4400+4096]++;Q[v*4400+4100+(R<<4|h)]++;Q[v*4400+4360+R]++;if(E!=0&&(V=M[c-1])!=v&&F(A[v],V)==-1){A[v].push(V,0);
A[V].push(v,0)}if(k!=0&&(V=M[c-L])!=v&&F(A[v],V)==-1){A[v].push(V,0);A[V].push(v,0)}}for(var c=0;c<y;
c++){var P=A[c];for(var H=0;H<P.length;H+=2)P[H+1]=f(Q,c,P[H])}return[Q,A]};function m(b,L,C,M){var y=j.Q(C);
for(var c=0;c<M;c++){var Q=b[c];if(Q==0||Q==255)y[L[c]]=2-(Q>>>7)}return y}j.jT.av0=function(b,L,C,M,y,Q,k){var E=L*C,_=k[0],A=k[1],v=new UnionFind(M),V=m(y,b,M,E),R=-1,h=!0,P=0;
for(var c=0;c<M;c++)if(V[c]==1){if(R==-1)R=c;else v.link(c,R)}if(R==-1){for(var c=0;c<E;c++)Q[c]=y[c]==255?255:0;
return}while(h){while(h){h=!1;for(var c=0;c<M;c++){if(V[c]==0){var H=J(A[c]);if(V[H]==1){V[c]=V[H];h=!0;
v.link(c,H)}}}}h=!0;P=0;while(h){h=!1;for(var c=0;c<M;c++){if(V[c]==0){var H=J(A[c]);if(V[H]==0){var U=c*4400,X=H*4400;
for(var x=0;x<4400;x+=2){_[U+x]+=_[X+x];_[U+x+1]+=_[X+x+1]}w(A,_,c,H);P++;V[H]=3;h=!0;v.link(c,H)}}}}h=P!=0}var K=v.find(R);
for(var c=0;c<M;c++)V[c]=v.find(c)==K?255:0;for(var c=0;c<E;c++){Q[c]=V[b[c]]}for(var c=0;c<E;c++){var H=y[c];
if(H==0||H==255)Q[c]=H}};function J(b){var L=0,C=0,M=b.length;for(var y=0;y<M;y+=2){var Q=b[y+1];if(Q>C){C=Q;
L=y}}return b[L]}function w(A,b,L,C){var M=A[L],y=A[C];$(M,F(M,C));$(y,F(y,L));for(var c=0;c<y.length;
c+=2){var Q=y[c],k=A[Q];$(k,F(k,C));if(F(k,L)==-1){k.push(L,0);M.push(Q,0)}}for(var c=0;c<M.length;c+=2){var Q=M[c],k=A[Q],E=f(b,L,Q);
M[c+1]=E;k[F(k,L)+1]=E}}function f(b,L,C){var M=0,y=4096,Q=L*4400,k=C*4400;for(var E=0;E<16;E++){if(b[Q+4360+E]==0||b[k+4360+E]==0)continue;
for(var _=0;_<16;_++){var v=E<<4|_;if(b[Q+4100+v]==0||b[k+4100+v]==0)continue;var V=Q+(v<<4),R=k+(v<<4);
for(var c=0;c<16;c++)M+=Math.sqrt(b[V+c]*b[R+c])}}var h=M/Math.sqrt(b[Q+y]*b[k+y]);return~~(999.99999*h)}return s}();
j.Dj={};j.Dj.apk=function(){var e=11,A=7,a=e>>>1,iM=A>>>1,p=2,N=2e3/p,i=[],s=null,D="";function Z(S,F,$){var m=(S[F+0]-S[$+0])*(1/255),J=(S[F+1]-S[$+1])*(1/255),w=(S[F+2]-S[$+2])*(1/255),f=(S[F+3]-S[$+3])*(1/255),b=m*m*.125+J*J*.25+w*w*.5+f*f;
return i[~~(b*N)]}function n(S,F,$,m,J,w){var f=Date.now(),b=j.Q(F*$);j.U2(S,b);var L=UZIP.adler(b,0,F*$);
if(L!=D){var C=j.sR(b,F,$);s=j.Q(F*$*4);D=L;var M=[1,1/9,1/25,1/49,1/81];for(var y=0;y<$;y++)for(var Q=0;
Q<F;Q++)for(var c=0;c<4;c++){var k=Math.max(1,Q-c),E=Math.min(F-1,Q+c),_=Math.max(1,y-c),v=Math.min($-1,y+c),V=j.t5(C,F,k,E,_,v);
if(isNaN(V))throw Q+","+y+","+c+","+V;s[(y*F+Q)*4+c]=V*M[c]}}if(fG.Jg){var R=fG.D9(0,F,$);R.set(S);var h=fG.D9(1,F,$);
h.set(s);var P=fG.D9(2,F,$);fG.Wb(P);fG.filter.Sk({type:fG.filter.ar6,C1:new Float32Array([1/F,1/$]),ajG:h.NV,a5A:J,awr:w},R.NV);
P.get(m)}else{for(var c=0;c<2e3;c++)i[c]=Math.exp(-(c/2e3)*p*(100+(1-J)*(1-J)*1e4));var H=iM+2;for(var y=H;
y<$-H;y++)for(var Q=H;Q<F-H;Q++){var U=0,X=0,x=0,K=0;for(var T=0;T<e;T++)for(var I=0;I<e;I++){var o=Q+I-a,l=y+T-a;
if(o==Q&&l==y||o<H||l<H||o>=F-H||l>=$-H)continue;var O=Z(s,(y*F+Q)*4,(l*F+o)*4),g=l*F+o<<2;U+=O*S[g+0];
X+=O*S[g+1];x+=O*S[g+2];K+=O}if(K==0){continue}var W=1/K,d=(y*F+Q)*4;m[d+0]=~~((1-w)*W*U+w*m[d+0]);m[d+1]=~~((1-w)*W*X+w*m[d+1]);
m[d+2]=~~((1-w)*W*x+w*m[d+2])}}}return n}();j.a0W=function(){var e=6,A=e>>>1,a=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],p=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function N(w,f){var b=!1,L=w.length,C=f[0],k=5,_=0,v=0;for(var c=1;c<L;c++)C=C.pg(f[c]);if((C.m&1)!=0)C.m++;
if((C.n&1)!=0)C.n++;var M=C.m,y=C.n,Q=Math.max(M,y);while(Q>>>k>8&&k<10)k++;var E=1<<k;if(M%E!=0)_=E-M%E;
if(y%E!=0)v=E-y%E;C.Fu(_>>>1,v>>>1);M=C.m;y=C.n;if(M%E!=0||y%E!=0)throw"e";var V=Date.now(),R=[],h=j.Q(C.O()),P=[],H=M*y,U=new Float32Array(M*y*2);
for(var c=0;c<L;c++){var X=f[c],x=j.Q(X.O());j.U2(w[c],x);h.fill(0);j.WP(x,X,h,C);R.push(h.slice(0));
var K=X.x-C.x,T=X.y-C.y,I=K+X.m-2,o=T+X.n;for(var l=0;l<X.n;l++){var O=(l+T)*M;for(var g=0;g<K;g++)h[O+g]=h[O+K];
for(var g=I;g<M;g++)h[O+g]=h[O+I-1]}for(var g=0;g<M;g++){for(var l=0;l<T;l++)h[l*M+g]=h[T*M+g];for(var l=o;
l<y;l++)h[l*M+g]=h[(o-1)*M+g]}var W=new Float32Array(M*y*2);P.push(W);for(var d=0;d<H;d++)W[d*2]=h[d]*(1/255);
D(W,U,M,y,k);i(W,M,y,k)}if(b)console.log("to gray, decompose",Date.now()-V);V=Date.now();var gT=j.Q(M*y);
for(var l=0;l<y;l++)for(var g=0;g<M;g++){var r=0,G=0,Y=l*M+g<<1;for(var c=0;c<L;c++){var fk=P[c],eJ=fk[Y],eS=fk[Y+1],gL=eJ*eJ+eS*eS;
if(gL>G){G=gL;r=c}}gT[Y>>>1]=r}if(b)console.log("max abs value",Date.now()-V);V=Date.now();Z(gT,M,y,k);
s(gT,M,y);if(b)console.log("denoise",Date.now()-V);V=Date.now();var cX=U.slice(0);for(var l=0;l<y;l++)for(var g=0;
g<M;g++){var c=l*M+g,Y=c<<1,kj=P[gT[c]];cX[Y]=kj[Y];cX[Y+1]=kj[Y+1]}n(cX,U,M,y,k);if(b)console.log("compose",Date.now()-V);
V=Date.now();for(var d=0;d<H;d++){var gL=cX[d*2]*255,r=0,G=1e9;for(var c=0;c<L;c++){var gq=Math.abs(R[c][d]-gL);
if(gq<G){G=gq;r=c}R[c][d]=0}R[r][d]=255}if(b)console.log("toRGB",Date.now()-V);V=Date.now();return[R,C]}function i(w,f,b,L){var C=f>>>L,M=b>>>L,y=1e-4;
for(var Q=0;Q<b;Q++)for(var k=0;k<f;k++){if(k<C&&Q<M)continue;var E=(Q*f+k)*2,_=w[E],v=w[E+1],V=_*_+v*v;
if(V<y)_=v=0;else{var R=(V-y)/V;_*=R;v*=R}w[E]=_;w[E+1]=v}}function Z(w,f,b,L){for(var C=0;C<L;C++){var M=f>>>C,y=b>>>C,Q=M>>>1,k=y>>>1;
for(var E=0;E<k;E++)for(var _=0;_<Q;_++){var v=E*f+Q+_,V=(E+k)*f+Q+_,R=(E+k)*f+_,h=w[v],P=w[V],H=w[R];
if(h==P==H){}else if(h==P)w[R]=h;else if(P==H)w[v]=P;else if(h==H)w[V]=h}}}function s(w,f,b){for(var L=1;
L<b-1;L++)for(var C=1;C<f-1;C++){var c=L*f+C,M=w[c-f],y=w[c-1],Q=w[c],k=w[c+1],E=w[c+f],_=M==y&&M==k||M==k&&k==E||k==E&&y==E||M==y&&E==y;
if(_)w[c]=M==y?M:y==k?y:M;else if(Q>M&&Q>y&&Q>k&&Q>E)w[c]=M+y+k+E>>>2;else if(Q<M&&Q<y&&Q<k&&Q<E)w[c]=M+y+k+E>>>2}}function D(w,f,b,L,C){for(var c=0;
c<C;c++){var M=b>>>c,y=L>>>c;S(w,f,b,L,M,y)}}function n(w,f,b,L,C){for(var c=C-1;c>=0;c--){var M=b>>c,y=L>>c;
F(w,f,b,L,M,y)}}function S(w,f,b,L,C,M){m(w,f,b,L,C,M,!0);m(f,w,b,L,C,M,!1)}function F(w,f,b,L,C,M){J(w,f,b,L,C,M,!0);
J(f,w,b,L,C,M,!1)}function $(w,f,b,L,C,M){var y=b*L+f<<1;w[y]=C;w[y+1]=M}function m(w,f,b,L,C,M,y){var hF=y?C:M,Q=y?M:C,k=Q>>>1;
for(var E=0;E<hF;E++){for(var _=0;_<Q;_+=2){var v=0,V=0,R=0,h=0,P=_>>>1;for(var H=0;H<6;H++){var U=_+H-3;
if(U<0)U=Q+U;if(U>=Q)U=U-Q;var X=(y?U*b+E:E*b+U)<<1,x=w[X],K=w[X+1],T=a[H],I=p[H];v+=x*T[0]-K*T[1];V+=K*T[0]+x*T[1];
R+=x*I[0]-K*I[1];h+=K*I[0]+x*I[1]}if(y){$(f,E,P,b,v,V);$(f,E,P+k,b,R,h)}else{$(f,P,E,b,v,V);$(f,P+k,E,b,R,h)}}}}function J(w,f,b,L,C,M,y){var hF=y?C:M,Q=y?M:C,k=Q>>>1,E,_,v,V;
for(var R=0;R<hF;R++){for(var h=0;h<Q;h++){var P=0,H=0;for(var U=h+3&1;U<6;U+=2){var X=h-U+3>>1;if(X<0)X=k+X;
if(X>=k)X=X-k;if(y){E=R;_=X;v=R;V=X+k}else{_=R;E=X;V=R;v=X+k}var x=_*b+E<<1,K=V*b+v<<1,T=w[x],I=w[x+1],o=w[K],l=w[K+1],O=a[U],g=p[U];
P+=T*O[0]+o*g[0];P+=I*O[1]+l*g[1];H+=I*O[0]+l*g[0];H-=T*O[1]+o*g[1]}if(y)$(f,R,h,b,P,H);else $(f,h,R,b,P,H)}}}return{H1:N}}();
var dN=function(){function e(){this.O=0;this.VP=0;this.IK={};this.YU=[];this.kx=1e5;this.IM=1e5;this.tN=-1;
this.nb=-1;this.color=0}function A(iM){this.A3=iM;this.yC=new Array(iM);this.b9=new Array(iM*6);this.a5D=0;
this.AS=new Array(iM*2);this.alpha=new Array(iM);this.Xa=new Array(iM);this.qR=new Array(iM)}function a(N,i,Z,s){function D(f,b,N,i){return N[i*b+f]}function n(c){var k=N.length;
while(c<k&&N[c]==0)c++;return c<k?c:-1}function S(f,b,k){for(var c=2;c<5;c++){var E=0;for(var _=-c+1;
_<=c-1;_++){E+=D(f+_,b+c-1,N,i)==k?1:-1;E+=D(f+c-1,b+_-1,N,i)==k?1:-1;E+=D(f+_-1,b-c,N,i)==k?1:-1;E+=D(f-c,b+_,N,i)==k?1:-1}if(E>0)return 1;
else if(E<0)return 0}return 0}function F(k,J){var w=new e,f=k,b=J,E=0,_=1,v;w.color=N[J*i+k];w.sign=D(k,J,N,i)==w.color?"+":"-";
while(1){w.YU.push(f,b);if(f>w.tN)w.tN=f;if(f<w.kx)w.kx=f;if(b>w.nb)w.nb=b;if(b<w.IM)w.IM=b;w.VP++;f+=E;
b+=_;w.O-=f*_;if(f==k&&b==J)break;var V=D(f+(E+_-1>>1),b+(_-E-1>>1),N,i)==w.color,R=D(f+(E-_-1>>1),b+(_+E-1>>1),N,i)==w.color;
if(R&&!V){if(s.b1=="right"||s.b1=="black"&&w.sign=="+"||s.b1=="white"&&w.sign=="-"||s.b1=="majority"&&S(f,b,w.color)||s.b1=="minority"&&!S(f,b,w.color)){v=E;
E=-_;_=v}else{v=E;E=_;_=-v}}else if(R){v=E;E=-_;_=v}else if(!V){v=E;E=_;_=-v}}return w}var $=0,m=[];
while(!0){var $=n($);if($==-1)break;var J=Math.floor($/i),w=F($-J*i,J);for(var c=0;c<w.YU.length-2;c+=2){var f=w.YU[c],b=w.YU[c+1],L=b*i+f;
if(f==w.YU[c+2]&&b+1==w.YU[c+3]&&N[L]!=0)dN.fill(L,N,i,0)}if(w.O>s.adB)m.push(w)}for(var c=0;c<m.length;
c++)m[c].parent=-1;var C=Date.now();for(var c=1;c<m.length;c++){var M=m[c];for(var y=c-1;y>=0;y--){var Q=m[y];
if(M.kx<Q.kx||M.tN>Q.tN||M.IM<Q.IM||M.nb>Q.nb)continue;if(!dN.K9(Q.YU,M.YU[0]+.5,M.YU[1]+.5))continue;
M.parent=y;break}}return m}function p(N,i){function Z(E,_,v,V,R){this.x=E;this.y=_;this.rT=v;this.pX=V;
this.Hz=R}function s(E,iM){return(iM+E)%iM}function D(E,_,v,V){return E*V-v*_}function n(E,_,v,V){return E*v+_*V}function S(E,_,v){if(E<=v)return E<=_&&_<v;
else return E<=_||_<v}function F(E,_,v){var V=0;V+=_*E[0]*_;V+=_*E[1]*v;V+=_*E[2];V+=v*E[3]*_;V+=v*E[4]*v;
V+=v*E[5];V+=E[6]*_;V+=E[7]*v;V+=E[8];return V}function $(E,_,v){return _+E*(v-_)}function m(E,_,v,V){var R=Math.sign(v-E),h=-Math.sign(V-_);
return R*(v-E)-h*(V-_)}function J(E,_){return Math.sqrt(E*E+_*_)}function w(E,_,v,V,R){var h=1-E;return h*h*h*_+3*(h*h*E)*v+3*(E*E*h)*V+E*E*E*R}function f(E,_,v,V,R,h,P,H){var U=D(E,_,P,H),X=D(v,V,P,H),x=D(R,h,P,H),K=U-2*X+x,T=-2*U+2*X,I=U,o=T*T-4*K*I;
if(K==0||o<0)return-1;var l=Math.sqrt(o),O=(-T+l)/(2*K),g=(-T-l)/(2*K);if(O>=0&&O<=1)return O;else if(g>=0&&g<=1)return g;
else return-1}function b(k){var c,E,_;k.rO=k.YU[0];k.apK=k.YU[1];k.xU=[];var v=k.xU;v.push(new Z(0,0,0,0,0));
for(c=0;c<k.VP;c++){E=k.YU[c<<1]-k.rO;_=k.YU[(c<<1)+1]-k.apK;v.push(new Z(v[c].x+E,v[c].y+_,v[c].rT+E*_,v[c].pX+E*E,v[c].Hz+_*_))}}function L(k){var iM=k.VP,E=k.YU,_,v=new Array(iM),V=new Array(iM),R=new Array(4),h,P,H,U,X,x,K,T,I,o,l,c,O,g,W,d,gT,r,G=0;
k.gc=new Array(iM);for(c=iM-1;c>=0;c--){if(E[c<<1]!=E[G<<1]&&E[(c<<1)+1]!=E[(G<<1)+1])G=c+1;V[c]=G}for(c=iM-1;
c>=0;c--){var Y=s(c+1,iM)<<1;R[0]=R[1]=R[2]=R[3]=0;_=(3+3*(E[Y]-E[c<<1])+(E[Y+1]-E[(c<<1)+1]))/2;R[_]++;
h=0;P=0;H=0;U=0;G=V[c];g=c;while(1){l=0;_=(3+3*Math.sign(E[G*2]-E[g*2])+Math.sign(E[G*2+1]-E[g*2+1]))/2;
R[_]++;if(R[0]&&R[1]&&R[2]&&R[3]){v[c]=g;l=1;break}I=E[G*2]-E[c*2];o=E[G*2+1]-E[c*2+1];if(D(h,P,I,o)<0||D(H,U,I,o)>0){break}if(Math.abs(I)<=1&&Math.abs(o)<=1){}else{X=I+(o>=0&&(o>0||I<0)?1:-1);
x=o+(I<=0&&(I<0||o<0)?1:-1);if(D(h,P,X,x)>=0){h=X;P=x}X=I+(o<=0&&(o<0||I<0)?1:-1);x=o+(I>=0&&(I>0||o<0)?1:-1);
if(D(H,U,X,x)<=0){H=X;U=x}}g=G;G=V[g];if(!S(G,c,g)){break}}if(l==0){K=Math.sign(E[G*2]-E[g*2]);T=Math.sign(E[G*2+1]-E[g*2+1]);
I=E[g*2]-E[c*2];o=E[g*2+1]-E[c*2+1];W=D(h,P,I,o);d=D(h,P,K,T);gT=D(H,U,I,o);r=D(H,U,K,T);O=1e7;if(d<0){O=Math.floor(W/-d)}if(r>0){O=Math.min(O,Math.floor(-gT/r))}v[c]=s(g+O,iM)}}O=v[iM-1];
k.gc[iM-1]=O;for(c=iM-2;c>=0;c--){if(S(c+1,v[c],O)){O=v[c]}k.gc[c]=O}for(c=iM-1;S(s(c+1,iM),O,k.gc[c]);
c--){k.gc[c]=O}}function C(k){function E(k,c,_){var iM=k.VP,I=k.YU,o=k.xU,l,O,g,W,d,V,gT,r,T,G,Y,fk,eJ,eS,gL=0;
if(_>=iM){_-=iM;gL=1}if(gL==0){l=o[_+1].x-o[c].x;O=o[_+1].y-o[c].y;W=o[_+1].pX-o[c].pX;g=o[_+1].rT-o[c].rT;
d=o[_+1].Hz-o[c].Hz;V=_+1-c}else{l=o[_+1].x-o[c].x+o[iM].x;O=o[_+1].y-o[c].y+o[iM].y;W=o[_+1].pX-o[c].pX+o[iM].pX;
g=o[_+1].rT-o[c].rT+o[iM].rT;d=o[_+1].Hz-o[c].Hz+o[iM].Hz;V=_+1-c+iM}Y=(I[c<<1]+I[_<<1])/2-I[0];fk=(I[(c<<1)+1]+I[(_<<1)+1])/2-I[1];
eS=I[_<<1]-I[c<<1];eJ=-(I[(_<<1)+1]-I[(c<<1)+1]);gT=(W-2*l*Y)/V+Y*Y;r=(g-l*fk-O*Y)/V+Y*fk;T=(d-2*O*fk)/V+fk*fk;
G=eJ*eJ*gT+2*eJ*eS*r+eS*eS*T;return Math.sqrt(G)}var c,_,v,V,iM=k.VP,R=new Array(iM+1),h=new Array(iM+1),P=new Array(iM),H=new Array(iM+1),U=new Array(iM+1),X=new Array(iM+1),x,K,T;
for(c=0;c<iM;c++){T=s(k.gc[s(c-1,iM)]-1,iM);if(T==c){T=s(c+1,iM)}if(T<c){P[c]=iM}else{P[c]=T}}_=1;for(c=0;
c<iM;c++){while(_<=P[c]){H[_]=c;_++}}c=0;for(_=0;c<iM;_++){U[_]=c;c=P[c]}U[_]=iM;v=_;c=iM;for(_=v;_>0;
_--){X[_]=c;c=H[c]}X[0]=0;R[0]=0;for(_=1;_<=v;_++){for(c=X[_];c<=U[_];c++){K=-1;for(V=U[_-1];V>=H[c];
V--){x=E(k,V,c)+R[V];if(K<0||x<K){h[c]=V;K=x}}R[c]=K}}k.ast=v;k.afd=new Array(v);for(c=iM,_=v-1;c>0;
_--){c=h[c];k.afd[_]=c}}function M(k){function E(k,c,x,P,H,cX){var iM=k.VP,kj=k.xU,gq=0,T;while(x>=iM){x-=iM;
gq+=1}while(c>=iM){c-=iM;gq-=1}while(x<0){x+=iM;gq-=1}while(c<0){c+=iM;gq+=1}var iL=kj[x+1].x-kj[c].x+gq*kj[iM].x,ew=kj[x+1].y-kj[c].y+gq*kj[iM].y,dk=kj[x+1].pX-kj[c].pX+gq*kj[iM].pX,j9=kj[x+1].rT-kj[c].rT+gq*kj[iM].rT,fh=kj[x+1].Hz-kj[c].Hz+gq*kj[iM].Hz,K=x+1-c+gq*iM;
P[cX]=iL/K;P[cX+1]=ew/K;var g9=(dk-iL*iL/K)/K,k6=(j9-iL*ew/K)/K,jx=(fh-ew*ew/K)/K,fV=(g9+jx+Math.sqrt((g9-jx)*(g9-jx)+4*k6*k6))/2;
g9-=fV;jx-=fV;if(Math.abs(g9)>=Math.abs(jx)){T=Math.sqrt(g9*g9+k6*k6);if(T!=0){H[cX]=-k6/T;H[cX+1]=g9/T}}else{T=Math.sqrt(jx*jx+k6*k6);
if(T!=0){H[cX]=-jx/T;H[cX+1]=k6/T}}if(T==0){H[cX]=H[cX+1]=0}}var _=k.ast,v=k.afd,iM=k.VP,V=k.YU,R=k.rO,h=k.apK,P=new Array(_*2),H=new Array(_*2),U=new Array(_),X=new Array(3),c,x,K,T,O,g,W,d,gT,r,G;
k.IK=new A(_);for(c=0;c<_;c++){x=v[s(c+1,_)];x=s(x-v[c],iM)+v[c];P[c<<1]=0;P[(c<<1)+1]=0;H[c<<1]=0;H[(c<<1)+1]=0;
E(k,v[c],x,P,H,c<<1)}for(c=0;c<_;c++){U[c]=[0,0,0,0,0,0,0,0,0];var I=H[c<<1]*H[c<<1]+H[(c<<1)+1]*H[(c<<1)+1],o=1/I;
if(I!=0){X[0]=H[(c<<1)+1];X[1]=-H[c<<1];X[2]=-X[1]*P[(c<<1)+1]-X[0]*P[c<<1];for(T=0;T<3;T++){U[c][T*3+0]=X[T]*X[0]*o;
U[c][T*3+1]=X[T]*X[1]*o;U[c][T*3+2]=X[T]*X[2]*o}}}var l=[0,0,0,0,0,0,0,0,0];for(c=0;c<_;c++){l[0]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=0;
var Y=V[v[c]<<1]-R,fk=V[(v[c]<<1)+1]-h,eJ=0,eS=0;x=s(c-1,_);for(T=0;T<9;T+=3){l[T+0]=U[x][T+0]+U[c][T+0];
l[T+1]=U[x][T+1]+U[c][T+1];l[T+2]=U[x][T+2]+U[c][T+2]}while(1){var gL=l[0]*l[4]-l[1]*l[3];if(gL!=0){eJ=(-l[2]*l[4]+l[5]*l[0])/gL;
eS=(l[2]*l[3]-l[5]*l[0])/gL;break}if(l[0]>l[4]){X[0]=-l[1];X[1]=l[0]}else if(l[4]){X[0]=-l[4];X[1]=l[3]}else{X[0]=1;
X[1]=0}var I=X[0]*X[0]+X[1]*X[1],o=1/I;X[2]=-X[1]*fk-X[0]*Y;for(T=0;T<3;T++){l[T*3+0]+=X[T]*X[0]*o;l[T*3+1]+=X[T]*X[1]*o;
l[T*3+2]+=X[T]*X[2]*o}}O=Math.abs(eJ-Y);g=Math.abs(eS-fk);if(O<=.5&&g<=.5){k.IK.AS[c<<1]=eJ+R;k.IK.AS[(c<<1)+1]=eS+h;
continue}W=F(l,Y,fk);gT=Y;r=fk;if(l[0]!=0){for(G=0;G<2;G++){eS=fk-.5+G;eJ=-(l[1]*eS+l[2])/l[0];O=Math.abs(eJ-Y);
d=F(l,eJ,eS);if(O<=.5&&d<W){W=d;gT=eJ;r=eS}}}if(l[4]!=0){for(G=0;G<2;G++){eJ=Y-.5+G;eS=-(l[3]*eJ+l[5])/l[4];
g=Math.abs(eS-fk);d=F(l,eJ,eS);if(g<=.5&&d<W){W=d;gT=eJ;r=eS}}}for(T=0;T<2;T++){for(K=0;K<2;K++){eJ=Y-.5+T;
eS=fk-.5+K;d=F(l,eJ,eS);if(d<W){W=d;gT=eJ;r=eS}}}k.IK.AS[c<<1]=gT+R;k.IK.AS[(c<<1)+1]=r+h}}function y(k){var E=k.IK.A3,_=k.IK,c,v,V,R,h,P,H,U,X;
for(c=0;c<E;c++){v=s(c+1,E);V=s(c+2,E);var x=_.AS[c<<1],K=_.AS[(c<<1)+1],T=_.AS[V<<1],I=_.AS[(V<<1)+1],o=_.AS[v<<1],l=_.AS[(v<<1)+1],O=$(.5,T,o),g=$(.5,I,l);
h=m(x,K,T,I);if(h!=0){R=D(o-x,l-K,T-x,I-K)/h;R=Math.abs(R);P=R>1?1-1/R:0;P=P*(1/.75)}else{P=4/3}_.Xa[v]=P;
var W=3*v<<1;if(P>=i.a9U){_.yC[v]=0;_.b9[W+0]=_.b9[W+1]=0;_.b9[W+2]=o;_.b9[W+3]=l;_.b9[W+4]=O;_.b9[W+5]=g}else{if(P<.55){P=.55}else if(P>1){P=1}var d=.5+.5*P;
_.yC[v]=1;_.b9[W]=$(d,x,o);_.b9[W+1]=$(d,K,l);_.b9[W+2]=$(d,T,o);_.b9[W+3]=$(d,I,l);_.b9[W+4]=O;_.b9[W+5]=g}_.alpha[v]=P;
_.qR[v]=.5}_.ajR=1}function Q(k){function E(){this.jg=0;this.xP=0;this.n_=0;this._a=0;this.RV=0;this.Uz=0;
this.PV=0;this.alpha=0}function _(k,c,x,b8,ke,gT,r){var V=k.IK.A3,gj=k.IK.b9,jf=k.IK.AS;if(c==x)return 1;
var ay=c,o=s(c+1,V),fz=s(ay+1,V),j9=jf[c<<1],fh=jf[(c<<1)+1],ei=jf[o<<1],hC=jf[(o<<1)+1],iI=gT[fz];if(iI==0)return 1;
var gQ=J(j9-ei,fh-hC);for(ay=fz;ay!=x;ay=fz){var fz=s(ay+1,V),cb=s(ay+2,V),dK=jf[fz<<1],ha=jf[(fz<<1)+1],hA=jf[cb<<1],dW=jf[(cb<<1)+1];
if(gT[fz]!=iI)return 1;if(Math.sign(D(ei-j9,hC-fh,hA-dK,dW-ha))!=iI)return 1;if(n(ei-j9,hC-fh,hA-dK,dW-ha)<gQ*J(dK-hA,ha-dW)*-.999847695156)return 1}var fN=s(c,V)*3+2<<1,cQ=s(c+1,V)<<1,h6=s(x,V)<<1,hh=s(x,V)*3+2<<1,cX=gj[fN],kj=gj[fN+1],bA=jf[cQ],co=jf[cQ+1],ej=jf[h6],bk=jf[h6+1],h5=gj[hh],bg=gj[hh+1],G=jf[0],Y=jf[1];
fN=x*3+2<<1;var aQ=gj[fN],fw=gj[fN+1],l=r[x]-r[c];l-=D(aQ-G,fw-Y,aQ-G,fw-Y)/2;if(c>=x){l+=r[V]}var jC=bA-cX,e0=co-kj,eU=ej-cX,iV=bk-kj,kh=h5-cX,hT=bg-kj,gi=D(jC,e0,eU,iV),bD=D(jC,e0,kh,hT),kt=D(eU,iV,kh,hT),iJ=gi+kt-bD;
if(bD==gi)return 1;var d=kt/(kt-iJ),W=bD/(bD-gi),ih=bD*d/2;if(ih==0)return 1;var fr=l/ih,O=2-Math.sqrt(4-fr/.3);
b8.xP=$(d*O,cX,bA);b8.n_=$(d*O,kj,co);b8._a=$(W*O,h5,ej);b8.RV=$(W*O,bg,bk);b8.alpha=O;b8.Uz=d;b8.PV=W;
bA=b8.xP;co=b8.n_;ej=b8._a;bk=b8.RV;b8.jg=0;for(ay=s(c+1,V);ay!=x;ay=fz){fz=s(ay+1,V);var ad=jf[ay<<1],aS=jf[(ay<<1)+1],dK=jf[fz<<1],ha=jf[(fz<<1)+1];
d=f(bA-cX,co-kj,ej-bA,bk-co,h5-ej,bg-bk,dK-ad,ha-aS);if(d<-.5)return 1;var cD=w(d,cX,bA,ej,h5),dR=w(d,kj,co,bk,bg),gQ=J(dK-ad,ha-aS);
if(gQ==0)return 1;var cz=D(dK-ad,ha-aS,cD-ad,dR-aS)/gQ;if(Math.abs(cz)>ke)return 1;if(n(dK-ad,ha-aS,cD-ad,dR-aS)<0||n(ad-dK,aS-ha,cD-dK,dR-ha)<0){return 1}b8.jg+=cz*cz}for(ay=c;
ay!=x;ay=fz){fz=s(ay+1,V);var fN=ay*3+2<<1,cQ=fz*3+2<<1,b0=gj[fN],jT=gj[fN+1],bW=gj[cQ],aU=gj[cQ+1];
d=f(bA-cX,co-kj,ej-bA,bk-co,h5-ej,bg-bk,bW-b0,aU-jT);if(d<-.5)return 1;var cD=w(d,cX,bA,ej,h5),dR=w(d,kj,co,bk,bg),gQ=J(bW-b0,aU-jT);
if(gQ==0)return 1;var cz=D(bW-b0,aU-jT,cD-b0,dR-jT)/gQ,ff=D(bW-b0,aU-jT,jf[fz<<1]-b0,jf[(fz<<1)+1]-jT)/gQ;
ff*=.75*k.IK.alpha[fz];if(ff<0){cz=-cz;ff=-ff}if(cz<ff-ke)return 1;if(cz<ff){b8.jg+=(cz-ff)*(cz-ff)}}return 0}var v=k.IK,V=v.A3,R=v.AS,h=new Array(V+1),P=new Array(V+1),H=new Array(V+1),U=new Array(V+1),X,c,x,K,T=new E,I,o,l,O,g,W,d,gT=new Array(V),r=new Array(V+1);
for(c=0;c<V;c++){if(v.yC[c]=="CURVE"){var G=R[s(c-1,V)<<1],Y=R[(s(c-1,V)<<1)+1],fk=R[c<<1],eJ=R[(c<<1)+1],eS=R[s(c+1,V)<<1],gL=R[(s(c+1,V)<<1)+1];
gT[c]=Math.sign(D(fk-G,eJ-Y,eS-fk,gL-eJ))}else{gT[c]=0}}l=0;r[0]=0;var cX=v.AS[0],kj=v.AS[1];for(c=0;
c<V;c++){o=s(c+1,V);if(v.yC[o]=="CURVE"){O=v.alpha[o];var gq=c*3+2<<1,iL=o*3+2<<1,ew=v.b9[gq],dk=v.b9[gq+1],j9=R[o<<1],fh=R[(o<<1)+1],g9=v.b9[iL],k6=v.b9[iL+1];
l+=.3*O*(4-O)*D(j9-ew,fh-dk,g9-ew,k6-dk)/2;l+=D(ew-cX,dk-kj,g9-cX,k6-kj)/2}r[c+1]=l}h[0]=-1;P[0]=0;H[0]=0;
for(x=1;x<=V;x++){h[x]=x-1;P[x]=P[x-1];H[x]=H[x-1]+1;for(c=x-2;c>=0;c--){K=_(k,c,s(x,V),T,i.aoT,gT,r);
if(K){break}if(H[x]>H[c]+1||H[x]==H[c]+1&&P[x]>P[c]+T.jg){h[x]=c;P[x]=P[c]+T.jg;H[x]=H[c]+1;U[x]=T;T=new E}}}X=H[V];
g=new A(X);W=new Array(X);d=new Array(X);x=V;for(c=X-1;c>=0;c--){var jx=s(x,V),fV=c*3+0<<1,ao=jx*3+0<<1;
if(h[x]==x-1){g.yC[c]=v.yC[jx];g.b9[fV]=v.b9[ao];g.b9[fV+1]=v.b9[ao+1];g.b9[fV+2]=v.b9[ao+2];g.b9[fV+3]=v.b9[ao+3];
g.b9[fV+4]=v.b9[ao+4];g.b9[fV+5]=v.b9[ao+5];g.AS[c<<1]=v.AS[jx<<1];g.AS[(c<<1)+1]=v.AS[(jx<<1)+1];g.alpha[c]=v.alpha[jx];
g.Xa[c]=v.Xa[jx];g.qR[c]=v.qR[jx];W[c]=d[c]=1}else{g.yC[c]="CURVE";g.b9[fV]=U[x].xP;g.b9[fV+1]=U[x].n_;
g.b9[fV+2]=U[x]._a;g.b9[fV+3]=U[x].RV;g.b9[fV+4]=v.b9[ao+4];g.b9[fV+5]=v.b9[ao+5];g.AS[c<<1]=$(U[x].PV,v.b9[ao+4],R[jx<<1]);
g.AS[(c<<1)+1]=$(U[x].PV,v.b9[ao+5],R[(jx<<1)+1]);g.alpha[c]=U[x].alpha;g.Xa[c]=U[x].alpha;W[c]=U[x].PV;
d[c]=U[x].Uz}x=h[x]}for(c=0;c<X;c++){o=s(c+1,X);g.qR[c]=W[c]/(W[c]+d[o])}g.ajR=1;k.IK=g}for(var c=0;
c<N.length;c++){var k=N[c];b(k);L(k);C(k);M(k);y(k);if(i.aov)Q(k)}}return{a6i:a,aaA:p}}();dN.kO=function(e,A,a,p){var N={b1:"minority",adB:p,aov:!0,a9U:1,aoT:.2},i=dN.a6i(e,A,a,N);
dN.aaA(i,N);return i};dN.sz=function(e){var A=[];for(var c=0;c<e.length;c++){var a=e[c],p=a.IK,N=["M"],i=[p.b9[(p.A3-1)*6+4],p.b9[(p.A3-1)*6+5]];
for(var Z=0;Z<p.A3;Z++){var s=Z*6;if(p.yC[Z]==1){N.push("C");for(var D=0;D<6;D++)i.push(p.b9[s+D])}else if(p.yC[Z]==0){N.push("L");
for(var D=2;D<4;D++)i.push(p.b9[s+D])}}N.push("Z");A.push({parent:a.parent,color:a.color,path:{w:i,F:N}})}return A};
dN.K9=function(e,A,a){var iM=e.length>>1,p,N=e[2*iM-3]-a,i=e[2*iM-2]-A,Z=e[2*iM-1]-a,s=Z>N,D=0;for(var c=0;
c<iM;c++){p=i;N=Z;i=e[2*c]-A;Z=e[2*c+1]-a;if(N==Z)continue;s=Z>N}for(var c=0;c<iM;c++){p=i;N=Z;i=e[2*c]-A;
Z=e[2*c+1]-a;if(N<0&&Z<0)continue;if(N>0&&Z>0)continue;if(p<0&&i<0)continue;if(N==Z&&Math.min(p,i)<=0)return!0;
if(N==Z)continue;var n=p+(i-p)*-N/(Z-N);if(n==0)return!0;if(n>0)D++;if(N==0&&s&&Z>N)D--;if(N==0&&!s&&Z<N)D--;
s=Z>N}return(D&1)==1};dN.fill=function(e,A,a,p){var N=A[e],i=[e],Z=0;while(Z<i.length){var s=i[Z];Z++;
A[s]=p;if(A[s-a]==N){i.push(s-a);A[s-a]=254}if(A[s-1]==N){i.push(s-1);A[s-1]=254}if(A[s+1]==N){i.push(s+1);
A[s+1]=254}if(A[s+a]==N){i.push(s+a);A[s+a]=254}}};var e$=function(){function e(s){return Math.max(0,Math.min(1,s))}function A(s,D){var n=D<0?-D:D;
if(s>1)s=.99;s=s*.99;var S=Math.pow(n/5,.16),F=Math.pow(2,n<1?n:1+(n-1)*.8);if(D<0)F=1/F;s=S*(1-Math.pow(1-s,F))+(1-S)*s;
return s}function a(s,D){var n=D/100;s=s*.99;s=n*(.5-.5*Math.cos(s*Math.PI))+(1-n)*s;return s}var p=j.mV.azX(1,1,1,-.3),N=j.mV.rQ(p);
function i(s,D,n,S,F,$,m){var J=s[n],w=s[n+1],f=s[n+2],b=j.mV._f(p,[J,w,f,1]);J=b[0];w=b[1];f=b[2];J=A(J,S);
w=A(w,S);f=A(f,S);var b=j.mV._f(N,[J,w,f,1]);J=b[0];w=b[1];f=b[2];J=e(J);w=e(w);f=e(f);J=a(J,F);w=a(w,F);
f=a(f,F);var L=iA.ahF(J,w,f,$);J=L[0];w=L[1];f=L[2];J=e(J);w=e(w);f=e(f);if(m){var C=new Uint8Array(4);
C[0]=~~(.5+J*255);C[1]=~~(.5+w*255);C[2]=~~(.5+f*255);a7.Eo(m,C,C,new dE(0,0,1,1));J=C[0]/255;w=C[1]/255;
f=C[2]/255}D[n]=J;D[n+1]=w;D[n+2]=f}function Z(s,D,n,S,F,$){var m=F.Temp?F.Temp.v:0,J=F.Tint?F.Tint.v:0,w=F.Ex12?F.Ex12.v:0,f=F.Cr12?F.Cr12.v:0,b=F.Vibr?F.Vibr.v:0,L=F.Strt?F.Strt.v:0,C=iA.wK(m,J),M=null;
w+=C.ap6;if(b!=0||L!=0)M=a7.EN("vibA",{Strt:F.Strt,vibrance:F.Vibr});console.log(M);var y=Date.now();
if($){var Q=Math.pow(2,w),k=s.length;w=0;var E=new Float32Array(4e3);for(var c=0;c<4e3;c++){var _=c*(1/1e3);
_=j.TK(_);_*=Q;_=j.Vq(_);_=e(_);E[c]=_}for(var c=0;c<k;c+=3){S[c]=E[~~(s[c]*1e3)];S[c+1]=E[~~(s[c+1]*1e3)];
S[c+2]=E[~~(s[c+2]*1e3)]}console.log(Date.now()-y,"Exposure normalizing");y=Date.now()}else S.set(s);
if(w!=0||f!=0||m!=0||J!=0||M){var v=17,V=1/(v-1),R=v*v*v,h=new Array(R*3);for(var P=0;P<v;P++)for(var H=0;
H<v;H++)for(var U=0;U<v;U++){var c=P*v*v+H*v+U,X=c*3;h[X]=P*V;h[X+1]=H*V;h[X+2]=U*V}for(var c=0;c<R;
c++)i(h,h,c*3,w,f,C,M);console.log(Date.now()-y,"making LUT");y=Date.now();ICC.U.applyLUTFloat(h,v,S,S);
console.log(Date.now()-y,"applying LUT");y=Date.now()}}return Z}();function ed(){}ed.__=function(e){var A=new Uint8Array(e),a=0,p={Cu:[],tV:[],list:[]},N=z.ex(A,a);
a+=2;if(N<=2){return ed.akd(A)}var i=z.ex(A,a);a+=2;var Z=z.wc(A,a,8);a+=8;var s=z.q(A,a);a+=4;if(s>0)p.Cu=ed.YG(A,a,s,i,N);
a+=s;var D=z.wc(A,a,8);a+=8;var n=z.q(A,a);a+=4;if(n>0)p.tV=bT.Pe(A,a,n);a+=n;var S=z.wc(A,a,8);a+=8;
var F=z.q(A,a);a+=4;if(F>0){var $={};j0.oQ(A,$,a+4);p.list=$.Brsh.v}a+=F;var m=p.list;for(var c=0;c<m.length;
c++){fR.cm.check(m[c].v)}return p};ed.z5=function(e,A){e.v.Nm.v=A};ed.akd=function(e){var A={Cu:[],tV:[],list:[]},a=0,p=z.ex(e,a);
a+=2;var N=z.ex(e,a);a+=2;for(var c=0;c<N;c++){var i=z.ex(e,a);a+=2;var Z=z.q(e,a);a+=4;var s=a;if(i==2){var D={};
A.Cu.push(D);var n=z.q(e,s);s+=4;var S=z.ex(e,s);s+=2;if(p==2){var F=z.aJ(e,s);s+=4+F.length*2+2}D.id=ar.sY()+"-d71c-11e5-b1ae-a548a96e5f9f";
s++;s+=8;D.nd=z.q6(e,s);s+=16;var $=z.ex(e,s);s+=2;var m=e[s];s++;var J=eO.O0(!1,$,e,D.nd.m,D.nd.n,s,m);
ed.q9(D,J);var w=fR.gF(D.id),f=w.Brsh.v;f.Dmtr.v.val=D.nd.m;f.Spcn.v.val=S;A.list.push({t:"Objc",v:w})}a+=Z}return A};
ed.kz=function(e){var A=new fL,a=0,p=0;z.tx(A,a,6);a+=2;z.tx(A,a,2);a+=2;z.qs(A,a,"8BIMsamp");a+=8;a+=4;
p=a;a=ed.mL(A,a,e.Cu);z.hO(A,p-4,a-p);z.qs(A,a,"8BIMpatt");a+=8;a+=4;p=a;a=bT.av(A,a,e.tV);z.hO(A,p-4,a-p);
var N={classID:"null",Brsh:{t:"VlLs",v:e.list}};z.qs(A,a,"8BIMdesc");a+=8;a+=4;p=a;z.hO(A,a,16);a+=4;
a+=j0.HY(A,N,a);z.hO(A,p-4,a-p);return A.data.slice(0,a).buffer};ed.YG=function(e,A,a,p,N){var i=z.q,Z=z.q6,s=A+a,D=[];
while(A<s){var n={};D.push(n);var S=i(e,A);A+=4;var F=A,$=z.JB(e,A);A+=$.length;n.id=$.FG;if(p==1){A+=9;
n.nd=Z(e,A);A+=16}else{A+=7;var m=i(e,A);A+=4;n.nd=Z(e,A);A+=16;var J=i(e,A);A+=4;A+=J*4;var w=i(e,A);
A+=4;var f=i(e,A);A+=4;var b=Z(e,A);A+=16}var L=z.ex(e,A);A+=2;var C=e[A];A+=1;var M=eO.O0(!1,L,e,n.nd.m,n.nd.n,A,C);
ed.q9(n,M);if(S%4!=0)S+=4-S%4;A=F+S}return D};ed.q9=function(e,A){var a=e.nd.clone();a.x=a.y=0;e._q=[A,a]};
ed.mL=function(e,A,a){var p=z.hO,N=z.Pn;for(var c=0;c<a.length;c++){var i=a[c],Z=A+4,D=56,S=1;A+=4;z.ii(e,A,i.id);
A+=i.id.length+2;e.yG(A,1);e.data[A]=1;A+=3;p(e,A,3);A+=4;var s=A;A+=4;N(e,A,i.nd);A+=16;p(e,A,D);A+=4;
A+=D*4;p(e,A-4,1);var n=A;A+=4;p(e,A,8);A+=4;N(e,A,i.nd);A+=16;z.tx(e,A,8);A+=2;e.yG(A,1);e.data[A]=S;
A++;var F=i._q[0];e.yG(A,i.nd.O()*2);A=eO.Md(!1,F,e.data,i.nd.m,i.nd.n,A,S);e.yG(A,8);A+=8;var $=A-Z;
p(e,Z-4,$);p(e,s,$-49);p(e,n,$-305);if($%4!=0)A+=4-$%4}return A};function fi(){}fi.__=function(e,A){var a=new Uint8Array(e),p=[],N=0,i=z.ex(a,N);
N+=2;if(i!=4){throw"Unknown version of curves: "+i}var Z=z.ex(a,N);N+=2;for(var c=0;c<Z;c++){var s=fi.$j(a,N);
N+=2+2*s.length;p.push(s)}if(N!=a.length){var D=z.wc(a,N,4);N+=4;var n=z.ex(a,N);N+=2;var S=z.ex(a,N);
N+=2;if(S!=0)throw"extra curves for channels"}var F=fi.Fb(p,0);F.presetKind={t:"long",v:3};F.presetFileName={t:"TEXT",v:A.split("/").pop().split(".")[0]};
return[F]};fi.wC=function(e,A,a){var p=A,N=[],i=e[A];A+=3;var Z=z.q(e,A);A+=4;for(var c=0;c<4;c++){var s=Z>>>c&1;
if(s){if(i==0){var D=fi.$j(e,A);A+=2+2*D.length}else{var D=fi.aas(e,A);A+=256}N.push(D)}else N.push(i==0?[0,0,255,255]:fi.abZ())}var n=fi.Fb(N,i);
return n};fi.Fb=function(e,A){var a=hZ.T$("curv");for(var c=0;c<4;c++){if(A==0){var p=e[c],N=[];for(var i=0;
i<p.length;i+=2)N.push(j.Gh.Q3(p[i],p[i+1],!0));fi.C6(a,c,N)}else fi.C6(a,c,e[c])}return a};fi.w_=function(e,A,a){var p=[];
for(var c=0;c<4;c++){var N=fi.ps(a,c);if(N.length==256)p.push(N);else{var i=[];for(var Z=0;Z<N.length;
Z++)i.push(N[Z].v.Hrzn.v,N[Z].v.Vrtc.v);p.push(i)}}var s=A,D=p[0].length==256?1:0;e.yG(A,3);e.data[A]=D;
e.data[A+1]=0;e.data[A+2]=1;A+=3;z.hO(e,A,15);A+=4;for(var c=0;c<4;c++){var n=p[c];if(D==0){fi.aaH(e,A,n);
A+=2+2*n.length}else{fi.amd(e,A,n);A+=256}}return A-s};fi.abZ=function(){var e=[];for(var c=0;c<256;
c++)e.push(c);return e};fi.C6=function(e,A,a){var p=jN.sB("CrvA",A);if(a.length<256)p.Crv={t:"VlLs",v:a};
else{p.Mpng={t:"VlLs",v:[]};for(var c=0;c<256;c++)p.Mpng.v[c]={t:"long",v:a[c]}}p={t:"Objc",v:p};var N=e.Adjs.v,i=jN.bw(N,A);
if(i==-1)N.push(p);else N[i]=p};fi.ps=function(e,A){var a=e.Adjs.v,p=jN.bw(a,A);if(p==-1){if(a.length==0||a[0].v.Crv)return[j.Gh.Q3(0,0,!0),j.Gh.Q3(255,255,!0)];
if(a[0].v.autoMachineLearning||a[0].v.AuCo)return[j.Gh.Q3(0,0,!0),j.Gh.Q3(128,160,!0),j.Gh.Q3(255,255,!0)];
var N=[];for(var c=0;c<256;c++)N.push(c);return N}var i=a[p].v;if(i.Crv)return i.Crv.v;if(i.Mpng){var N=[];
for(var c=0;c<256;c++)N.push(i.Mpng.v[c].v);return N}return[j.Gh.Q3(0,0,!0),j.Gh.Q3(255,255,!0)]};fi.$j=function(e,A){var a=[],p=z.ex(e,A);
A+=2;for(var N=0;N<p;N++){var i=z.ex(e,A);A+=2;var Z=z.ex(e,A);A+=2;a.push(Z,i)}return a};fi.aaH=function(e,A,a){var p=a.length/2;
z.tx(e,A,p);A+=2;for(var N=0;N<p;N++){z.tx(e,A,a[N*2+1]);A+=2;z.tx(e,A,a[N*2+0]);A+=2}};fi.aas=function(e,A){var a=[];
for(var c=0;c<256;c++)a.push(e[A+c]);return a};fi.amd=function(e,A,a){e.yG(A,256);for(var c=0;c<256;
c++)e.data[A+c]=a[c]};function g1(){}g1.wC=function(e,A,a){var p={},N=z.ex(e,A);A+=2;p.Qo=e[A]==1;A++;
A++;p.Ql=[z.aq(e,A),z.aq(e,A+2),z.aq(e,A+4)];A+=6;p.TZ=[z.aq(e,A),z.aq(e,A+2),z.aq(e,A+4)];A+=6;p.Tl=[];
for(var c=0;c<6;c++){var i={};i.uf=[z.aq(e,A),z.aq(e,A+2),z.aq(e,A+4),z.aq(e,A+6)];A+=8;i.e6=[z.aq(e,A),z.aq(e,A+2),z.aq(e,A+4)];
A+=6;p.Tl.push(i)}var Z=hZ.T$("hue2"),s=p;if(Z.Clrz==null)Z.Clrz={t:"bool",v:!1};Z.Clrz.v=s.Qo;for(var c=0;
c<7;c++){var D=c==0?s.Qo?s.Ql:s.TZ:s.Tl[c-1];g1.C6(Z,c,D)}return Z};g1.a6y=function(e){return{classID:"Hst2",H:{t:"long",v:e[0]},Strt:{t:"long",v:e[1]},Lght:{t:"long",v:e[2]}}};
g1.bw=function(e,A){for(var c=0;c<e.length;c++){var a=e[c].v.LclR;if(A==0&&a==null||a!=null&&a.v==A)return c}return-1};
g1.C6=function(e,A,a){var p=A==0?a:a.e6,N=g1.a6y(p);if(A!=0){var i=a.uf;N.LclR={t:"long",v:A},N.BgnR={t:"long",v:i[0]};
N.BgnS={t:"long",v:i[1]};N.EndS={t:"long",v:i[2]};N.EndR={t:"long",v:i[3]}}N={t:"Objc",v:N};var Z=e.Adjs.v,s=g1.bw(Z,A);
if(s==-1)Z.push(N);else Z[s]=N};g1.ps=function(e,A){var a=e.Adjs.v,p=g1.bw(a,A);if(p==-1){if(A==0)return[0,0,0];
else return[{uf:[315,345,15,45],e6:[0,0,0]},{uf:[15,45,75,105],e6:[0,0,0]},{uf:[75,105,135,165],e6:[0,0,0]},{uf:[135,165,195,225],e6:[0,0,0]},{uf:[195,225,255,285],e6:[0,0,0]},{uf:[255,285,315,345],e6:[0,0,0]}][A-1]}var N=a[p].v,i=[N.H.v,N.Strt.v,N.Lght.v];
if(A==0)return i;return{e6:i,uf:[N.BgnR.v,N.BgnS.v,N.EndS.v,N.EndR.v]}};g1.w_=function(e,A,a){var p={Qo:a.Clrz?a.Clrz.v:!1,Tl:[]};
p.Ql=p.TZ=g1.ps(a,0);for(var c=1;c<7;c++)p.Tl.push(g1.ps(a,c));var N=2+2+12+6*14,i=e.data;e.yG(A,N);
z.qk(i,A,2);A+=2;i[A]=p.Qo?1:0;A++;A++;z.sm(i,A+0,p.Ql[0]);z.sm(i,A+2,p.Ql[1]);z.sm(i,A+4,p.Ql[2]);A+=6;
z.sm(i,A+0,p.TZ[0]);z.sm(i,A+2,p.TZ[1]);z.sm(i,A+4,p.TZ[2]);A+=6;for(var c=0;c<6;c++){var Z=p.Tl[c].uf,s=p.Tl[c].e6;
z.sm(i,A+0,Z[0]);z.sm(i,A+2,Z[1]);z.sm(i,A+4,Z[2]);z.sm(i,A+6,Z[3]);A+=8;z.sm(i,A+0,s[0]);z.sm(i,A+2,s[1]);
z.sm(i,A+4,s[2]);A+=6}return N};function jN(){}jN.__=function(e){var A=new Uint8Array(e),a=2,p=[];for(var c=0;
c<29;c++){var N=[];p.push(N);for(var i=0;i<5;i++)N.push(z.ex(A,a+c*10+i*2))}a+=29*10;if(a<A.length){var Z=z.wc(A,a,4);
a+=4;var s=z.ex(A,a);a+=2;var D=z.ex(A,a);a+=2;var n=D-29;for(var c=0;c<n;c++){var N=[];p.push(N);for(var i=0;
i<5;i++)N.push(z.ex(A,a+c*10+i*2))}}var S=hZ.T$("levl");for(var c=0;c<4;c++)jN.C6(S,c,p[c]);return S};
jN.sB=function(e,c){var A=["Cmps","Rd","Grn","Bl"],a={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:A[c]}}]};
return{classID:e,Chnl:a}};jN.bw=function(e,A){var a={Cmps:0,Rd:1,Grn:2,Bl:3};for(var c=0;c<e.length;
c++){var p=e[c].v,N=a[p.Chnl.v[0].v.enum];if(N==A)return c}return-1};jN.C6=function(e,A,a){var p=jN.sB("LvlA",A);
p.Inpt={t:"VlLs",v:[{t:"long",v:a[0]},{t:"long",v:a[1]}]};p.Otpt={t:"VlLs",v:[{t:"long",v:a[2]},{t:"long",v:a[3]}]};
p.Gmm={t:"doub",v:a[4]/100};p={t:"Objc",v:p};var N=e.Adjs.v,i=jN.bw(N,A);if(i==-1)N.push(p);else N[i]=p};
jN.ps=function(e,A){var a=[0,255,0,255,100],p=e.Adjs.v,N=jN.bw(p,A);if(N==-1)return a;var i=p[N].v;if(i.Inpt){a[0]=i.Inpt.v[0].v;
a[1]=i.Inpt.v[1].v}if(i.Otpt){a[2]=i.Otpt.v[0].v;a[3]=i.Otpt.v[1].v}if(i.Gmm){a[4]=Math.round(i.Gmm.v*100)}return a};
jN.kz=function(e,A){var a=[],p=0;for(var c=0;c<4;c++)a.push(jN.ps(A,c));while(a.length<29)a.push([0,255,0,255,100]);
e.yG(0,2+10*29);z.qk(e.data,p,2);p+=2;for(var c=0;c<29;c++){var N=a[c];for(var i=0;i<5;i++)z.qk(e.data,p+c*10+i*2,N[i])}p+=29*10;
if(a.length==29)return p;e.yG(p,8+10*(a.length-29));z.O2(e.data,p,"Lvls");p+=4;z.qk(e.data,p,3);p+=2;
z.qk(e.data,p,a.length);p+=2;var Z=a.length-29;for(var c=0;c<Z;c++){var N=a[29+c];for(var i=0;i<5;i++)z.qk(e.data,p+c*10+i*2,N[i])}p+=10*Z;
return p};function gp(){}gp.__=function(e){var A=new Uint8Array(e),a=2,p={qq:[],Sc:[]},N=z.wc(A,a,4);
a+=4;var i=z.ex(A,a);a+=2;var Z=z.q(A,a);a+=4;p.qq=bT.Pe(A,a,Z);a+=Z;var s=z.q(A,a);a+=4;for(var c=0;
c<s;c++){var D=z.q(A,a);a+=4;var n=a,S={Ms:{},gP:{}};p.Sc.push(S);a+=4;a+=j0.oQ(A,S.Ms,a);a+=4;a+=j0.oQ(A,S.gP,a);
a=n+D;var F=S.gP.blendOptions,$=S.gP.Lefx;if(F&&Object.keys(F.v).length>1){}if($){if($.v.masterFXSwitch==null)$.v.masterFXSwitch={t:"bool",v:!0};
cu.K1($.v)}}return p};gp.z5=function(e,A){e.Ms.Nm.v=A};gp.kz=function(e){var A=new fL,a=0;z.tx(A,a,2);
a+=2;z.qs(A,a,"8BSL");a+=4;z.tx(A,a,3);a+=2;var p=a;a+=4;a=bT.av(A,a,e.qq);z.hO(A,p,a-p-4);var N=e.Sc.length;
z.hO(A,a,N);a+=4;for(var c=0;c<N;c++){a+=4;var i=a,Z=e.Sc[c];z.hO(A,a,16);a+=4;a+=j0.HY(A,Z.Ms,a);var s=Z.gP.Lefx;
if(s){Z.gP.Lefx=JSON.parse(JSON.stringify(s));cu.mg(Z.gP.Lefx.v)}z.hO(A,a,16);a+=4;a+=j0.HY(A,Z.gP,a);
if(s)Z.gP.Lefx=s;z.hO(A,i-4,a-i)}return A.data.slice(0,a).buffer};function bt(){}bt.wC=function(e,A,a){var p=z.ex(e,A);
A+=2;var N={};N.lz=z.ex(e,A)==1;A+=2;N.NF=[];for(var c=0;c<10;c++){var i=[];N.NF.push(i);for(var Z=0;
Z<4;Z++)i.push(z.aq(e,A+Z*2));A+=8}var s=hZ.T$("selc");s.Mthd.v.CrcM=N.lz?"Absl":"Rltv";for(var c=1;
c<10;c++)bt.C6(s,c-1,N.NF[c]);return s};bt.gV="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
bt.sB=function(e,c){var A=["Cmps","Rd","Grn","Bl"],a={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:A[c]}}]};
return{classID:e,Chnl:a}};bt.bw=function(e,A){var a=bt.gV;for(var c=0;c<e.length;c++){var p=e[c].v,N=a.indexOf(p.Clrs.v.Clrs);
if(N==A)return c}return-1};bt.C6=function(e,A,a){var p=["Cyn","Mgnt","Ylw","Blck"],N={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:bt.gV[A]}}};
for(var i=0;i<4;i++)N[p[i]]={t:"UntF",v:{type:"#Prc",val:a[i]}};N={t:"Objc",v:N};var Z=e.ClrC.v,s=bt.bw(Z,A);
if(s==-1)Z.push(N);else Z[s]=N};bt.ps=function(e,A){var a=[0,0,0,0],p=e.ClrC.v,N=bt.bw(p,A);if(N==-1)return a;
var i=["Cyn","Mgnt","Ylw","Blck"];for(var c=0;c<4;c++)if(p[N].v[i[c]])a[c]=p[N].v[i[c]].v.val;return a};
bt.w_=function(e,A,a){var p={lz:a.Mthd.v.CrcM=="Absl",NF:[[0,0,0,0]]};for(var c=0;c<9;c++)p.NF.push(bt.ps(a,c));
e.yG(A,84);z.qk(e.data,A,1);A+=2;z.qk(e.data,A,p.lz?1:0);A+=2;for(var c=0;c<10;c++){var N=p.NF[c];for(var i=0;
i<4;i++)z.sm(e.data,A+i*2,N[i]);A+=8}return 84};function bF(){}bF.T$=function(){return{aV:new dE(0,0,50,50),Ms:"",dt:"play",i:j.r.Qa.uL([.1,.1,.9,.5,.1,.9],0)}};
bF.__=function(e){e=new Uint8Array(e);var A=0,a=[],p=Date.now(),N=z.wc(e,0,4);A+=4;var i=z.q(e,A);A+=4;
var Z=z.q(e,A);A+=4;for(var c=0;c<Z;c++){var s=z.aJ(e,A);A+=s.length*2+4+2;if((s.length&1)==0)A+=2;A=bF.eh(e,A,s,a)}return a};
bF.eh=function(e,A,a,p){var N=z.q(e,A);A+=4;var i=z.q(e,A);A+=4;var Z=A,s=z.JB(e,Z).FG;Z+=s.length+1;
var D=z.q6(e,Z);Z+=16;var n=bF.XN(e,Z,i-(Z-A)),S=j.r.Dt(n),F=j.p.i9(S),$=1/F.m,m=1/F.n;j.r.nM(n,new bj($,0,0,m,-F.x*$,-F.y*m));
p.push({dt:a,Ms:s,i:n,aV:D});A+=i;return A};bF.z5=function(e,A){e.dt=A};bF.kz=function(e){var A=new fL,a=0;
z.qs(A,a,"cush");a+=4;z.hO(A,a,2);a+=4;z.hO(A,a,e.length);a+=4;for(var c=0;c<e.length;c++){var p=e[c],N=p.dt+"\0";
z.ci(A,a,N);a+=4+N.length*2;if((N.length&1)==1)a+=2;z.hO(A,a,1);a+=4;a+=4;var i=a;z.ii(A,a,p.Ms);a+=p.Ms.length+1;
z.Pn(A,a,p.aV);a+=16;A.yG(a,p.i.length*26);bF.j0(A.data,a,p.i,1,1);a+=p.i.length*26;var Z=a-i;if((Z&3)!=0)Z+=4-(Z&3);
z.hO(A,i-4,Z);a=i+Z}return A.data.slice(0,a).buffer};bF.aq$=function(e){var A=[];for(var c=0;c<e.length;
c++){var a=e[c],p=a.type,N={type:p};A.push(N);if(p==6){}else if(p==8)N.all=a.all;else if(p==0||p==3){N.length=a.length;
N.frule=a.kR;N.third=a.wk;N.prmA=a.JS;N.prmB=a.mH}else{N.c=[a.x3.x,a.x3.y,a.H.x,a.H.y,a.iD.x,a.iD.y]}}return A};
bF.Uu=function(e){var A=[];for(var c=0;c<e.length;c++){var a=e[c],p=a.type,N={type:p};A.push(N);if(p==6){}else if(p==8)N.all=a.all;
else if(p==0||p==3){N.length=a.length;N.kR=a.frule;N.wk=a.third;N.JS=a.prmA;N.mH=a.prmB}else{var i=a.c;
N.x3=new k7(i[0],i[1]);N.H=new k7(i[2],i[3]);N.iD=new k7(i[4],i[5])}}return A};bF.XN=function(e,A,a,p,N){if(p==null)p=1;
if(N==null)N=1;function i(w,f,b){var L=z.al1(w,f)*b,C=Math.round(L);return Math.abs(L-C)<1e-6?C:L}var Z=z.aq,s=[],D=Math.floor(a/26);
for(var c=0;c<D;c++){var n=A+c*26,S={},F=0;s.push(S);S.type=Z(e,n);n+=2;if(S.type==6){F=24}if(S.type==8){S.all=Z(e,n);
n+=2;F=22}if(S.type==0||S.type==3){S.length=Z(e,n);n+=2;S.kR=Z(e,n);n+=2;S.wk=Z(e,n);n+=2;S.JS=z.q(e,n);
n+=4;S.mH=z.q(e,n);n+=4;F=10}if(S.type==1||S.type==2||S.type==4||S.type==5){var $,m;m=i(e,n,N);n+=4;
$=i(e,n,p);n+=4;S.x3=new k7($,m);m=i(e,n,N);n+=4;$=i(e,n,p);n+=4;S.H=new k7($,m);m=i(e,n,N);n+=4;$=i(e,n,p);
n+=4;S.iD=new k7($,m);F=0}for(var J=0;J<F;J++)if(e[n+J]!=0){console.log("Unexpected non-zero byte!",S,J,e[n+J])}}return s};
bF.j0=function(e,A,a,p,N){var i=z.sm,Z=z.a1$,s=a.length;for(var c=0;c<s;c++){var D=A+c*26,n=a[c];i(e,D,n.type);
D+=2;if(n.type==6){}if(n.type==8)i(e,D,n.all);if(n.type==0||n.type==3){i(e,D,n.length);D+=2;i(e,D,n.kR);
D+=2;i(e,D,n.wk);D+=2}if(n.type==1||n.type==2||n.type==4||n.type==5){Z(e,D,n.x3.y/N);D+=4;Z(e,D,n.x3.x/p);
D+=4;Z(e,D,n.H.y/N);D+=4;Z(e,D,n.H.x/p);D+=4;Z(e,D,n.iD.y/N);D+=4;Z(e,D,n.iD.x/p);D+=4}}};function aV(){}aV.__=function(e){var A=new Uint8Array(e),a=[],p=0;
if(z.wc(A,0,4)=="ASEF")a=aV.ajT(A);else{p=aV.Ni(A,p,a);if(p+3<A.length){a=[];p=aV.Ni(A,p,a)}}return a};
aV.ajT=function(e){var A=[],a=8,p=z.q(e,a),N,i=null,Z,s,D,n;a+=4;for(var S=0;S<p;S++){var F=z.ex(e,a);
a+=2;var $=z.q(e,a);a+=4;var m=a+$;if(F==49153||F==1){var J=z.ex(e,a);a+=2;var w=z.hv(e,a,J-1);a+=J*2;
if(F==1)N=w;else i=w}if(F==1){var f=z.wc(e,a,4);a+=4;Z=z.i3(e,a);a+=4;s=z.i3(e,a);a+=4;D=z.i3(e,a);a+=4;
if(f=="RGB "){}else if(f=="CMYK"){n=z.i3(e,a);a+=4;var b=UDOC.C.cmykToRgb([Z,s,D,n]);Z=b[0];s=b[1];D=b[2]}else alert("Unknown color space: "+f);
A.push({o:Z*255,J:s*255,k:D*255,Ug:(i?i+" : ":"")+N})}a=m}return A};aV.Ni=function(e,A,a){var p=z.ex,N=z.aq,i=p(e,A);
A+=2;var Z=p(e,A);A+=2;for(var c=0;c<Z;c++){var s=aV.IJ(e,A);A+=10;if(i==2){s.Ug=z.aJ(e,A);A+=4+s.Ug.length*2+2}a.push(s)}return A};
aV.IJ=function(e,A){var a=z.ex,p=z.aq,N=a(e,A),m=null;A+=2;var i=a(e,A);A+=2;var Z=a(e,A);A+=2;var s=a(e,A);
A+=2;var D=a(e,A);A+=2;var n=1/65535,S=255/65535,F=100/65535,$=255/1e4;if(N==0)m={o:i*S,J:Z*S,k:s*S};
else if(N==1){m=j.BA(i*n,Z*n,s*n);m.o*=255;m.J*=255;m.k*=255}else if(N==2)m=j.M.kq({classID:"CMYC",Cyn:{t:"doub",v:100-i*F},Mgnt:{t:"doub",v:100-Z*F},Ylw:{t:"doub",v:100-s*F},Blck:{t:"doub",v:100-D*F}});
else if(N==7){var J=j.j5(i/100,p(e,A-6)/100,p(e,A-4)/100);m=J}else if(N==8){m={o:255-i*$,J:255-Z*$,k:255-s*$}}else if(N==18){var w=255*i/16384;
m={o:w,J:w,k:w}}else{throw N}return m};aV.kz=function(e){var A=new fL,a=0,p=z.tx;p(A,a,2);a+=2;p(A,a,e.length);
a+=2;for(var c=0;c<e.length;c++){var N=e[c];A.yG(a,10);aV.e0(A.data,a,N);a+=10;var i=(N.Ug?N.Ug:"")+"\0";
z.ci(A,a,i);a+=4+i.length*2}return A.data.slice(0,a).buffer};aV.z5=function(e,A){e.Ug=A};aV.e0=function(e,A,a){var p=65535/255,N=z.qk;
N(e,A,0);N(e,A+2,Math.round(a.o*p));N(e,A+4,Math.round(a.J*p));N(e,A+6,Math.round(a.k*p));N(e,A+8,0)};
function gZ(){}gZ.__=function(e){var A=new Uint8Array(e),a=4,p={};p.fQ=z.aJ(A,a);a+=4+p.fQ.length*2+2;
p.exp=A[a++]==1;p.eL=[];var N=z.q(A,a);a+=4;for(var c=0;c<N;c++){var i={};p.eL.push(i);i.g2=z.ex(A,a);
a+=2;i.shift=A[a++]==1;i.abh=A[a++]==1;i.color=z.ex(A,a);a+=2;i.fQ=z.aJ(A,a);a+=4+i.fQ.length*2+2;i.exp=A[a++]==1;
i.eL=[];var Z=z.q(A,a);a+=4;for(var s=0;s<Z;s++){var D={};i.eL.push(D);D.exp=A[a++]==1;D.C=A[a++]==1;
D.art=A[a++]==1;D.al6=A[a++];var n=z.wc(A,a,4);a+=4;if(n=="TEXT"){D._h=gZ.dK(A,a);a+=4+D._h.length}else if(n=="long"){D._h=z.wc(A,a,4);
a+=4}else throw"e";D.iO=gZ.dK(A,a);a+=4+D.iO.length;var S=z.$m(A,a);a+=4;if(S==-1){D.h2={};var F=j0.oQ(A,D.h2,a);
a+=F}}}console.log(p);var $=new Uint8Array(gZ.kz(p));for(var c=0;c<$.length;c++)if($[c]!=A[c]&&z.wc(A,c+1,4)!="None"){console.log(A.length,$.length);
var m=4*(c>>>2)-16;console.log(z.qS(A,m,64));console.log(z.qS($,m,64));console.log(A.slice(m,m+64));
console.log($.slice(m,m+64));throw"i"}return[p]};gZ.dK=function(e,A){var a=z.q(e,A);return z.wc(e,A+4,a)};
gZ.YE=function(e,A,a){z.hO(e,A,a.length);z.qs(e,A+4,a)};gZ.kz=function(e){var A=new fL,a=0;z.hO(A,a,16);
a+=4;z.ci(A,a,e.fQ+"\0");a+=4+e.fQ.length*2+2;A.yG(a,1);A.data[a++]=e.exp?1:0;var p=e.eL.length;z.hO(A,a,p);
a+=4;for(var c=0;c<p;c++){var N=e.eL[c];z.tx(A,a,N.g2);a+=2;A.yG(a,2);A.data[a++]=N.shift?1:0;A.data[a++]=N.abh?1:0;
z.tx(A,a,N.color);a+=2;z.ci(A,a,N.fQ+"\0");a+=4+N.fQ.length*2+2;A.yG(a,1);A.data[a++]=N.exp?1:0;var i=N.eL.length;
z.hO(A,a,i);a+=4;for(var Z=0;Z<i;Z++){var s=N.eL[Z];A.yG(a,4);A.data[a++]=s.exp?1:0;A.data[a++]=s.C?1:0;
A.data[a++]=s.art?1:0;A.data[a++]=s.al6;var D="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(s._h)!=-1;
z.qs(A,a,D?"long":"TEXT");a+=4;if(!D){gZ.YE(A,a,s._h);a+=4+s._h.length}else{z.qs(A,a,s._h);a+=4}gZ.YE(A,a,s.iO);
a+=4+s.iO.length;z.DM(A,a,s.h2?-1:0);a+=4;if(s.h2){var n=j0.HY(A,s.h2,a);a+=n}}}return A.data.slice(0,a).buffer};
function j_(){}j_.__=function(e){var A=new Uint8Array(e),a=0,p=z.q(A,a),D;a+=4;var N=z.wc(A,a,8);a+=8;
var i=z.Jv(A,a);a+=4;var Z=z.Jv(A,a);a+=4;var s=z.Jv(A,a);a+=4;if(p==2){D=new Float32Array(e,32,e.byteLength-32>>>2)}else if(p==3||p==4){D=new Float32Array(Z*s*2);
var n=0,S=0,F=!0;a=p==3?32:16+8+40;while(a<A.length){var $=z.Jv(A,a);a+=4;if(F)S+=$;else{for(var c=0;
c<$;c++){D[n+S+c<<1]=z.Q4(A,a);D[(n+S+c<<1)+1]=z.Q4(A,a+4);a+=8}S+=$}F=!F;if($!=0&&S==Z){n+=Z;S=0;F=!0;
if(n==Z*s)break}}}else throw"unknown Mesh version: "+p;return{SB:Z,Ps:s,map:D}};j_.Yq=function(e){var A=e.SB,a=e.Ps,p=e.map,N=new Uint8Array(32+a*A*8+a*8),i=0,Z=0;
z.g_(N,i,3);i+=4;z.O2(N,i,"yfqLhseM");i+=8;z.lJ(N,i,2);i+=4;z.lJ(N,i,A);i+=4;z.lJ(N,i,a);i+=4;z.lJ(N,i,0);
i+=4;z.lJ(N,i,1);i+=4;for(var s=0;s<a;s++){z.lJ(N,i,0);i+=4;z.lJ(N,i,A);i+=4;for(var D=0;D<A;D++){z.Fq(N,i,p[Z]);
z.Fq(N,i+4,p[Z+1]);Z+=2;i+=8}}return N.buffer};function hk(){}hk.__=function(e){var A=new Uint8Array(e),a=0,p=z.wc(A,a,4);
a+=4;var N=z.ex(A,a);a+=2;var i=z.q(A,a);a+=4;var Z=[];for(var c=0;c<i;c++){var s=z.q(A,a);a+=4;var D={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
Z.push(D);var n=z.aJ(A,a);D.Nm.v=n;a+=4+n.length*2+2;var S=z.ex(A,a);a+=2;var F=z.ex(A,a);a+=2;for(var $=0;
$<F;$++){var m=j.Gh.Q3(0,0,!0);m.v.Vrtc.v=z.ex(A,a);a+=2;m.v.Hrzn.v=z.ex(A,a);a+=2;D.Crv.v.push(m)}if(s==1){}else if(s==2){for(var $=0;
$<F;$++){D.Crv.v[$].v.Cnty.v=A[a]==1;a+=1}}else throw"error";var J=z.q(A,a);a+=4;var w=z.q(A,a);a+=4}return Z};
hk.z5=function(e,A){e.Nm.v=A};hk.kz=function(e){var A=new fL,a=0;z.qs(A,a,"8BFS");a+=4;z.tx(A,a,1);a+=2;
z.hO(A,a,e.length);a+=4;for(var c=0;c<e.length;c++){z.hO(A,a,2);a+=4;var p=e[c];z.ci(A,a,p.Nm.v+"\0");
a+=4+p.Nm.v.length*2+2;z.tx(A,a,2);a+=2;var N=p.Crv.v.length;z.tx(A,a,N);a+=2;for(var i=0;i<N;i++){var Z=p.Crv.v[i];
z.tx(A,a,Z.v.Vrtc.v);a+=2;z.tx(A,a,Z.v.Hrzn.v);a+=2}A.yG(a,N);for(var i=0;i<N;i++){A.data[a]=p.Crv.v[i].v.Cnty.v;
a++}z.hO(A,a,0);a+=4;z.hO(A,a,0);a+=4}return A.data.slice(0,a).buffer};function bT(){}bT.__=function(e){var A=new Uint8Array(e),a=4,p=z.ex(A,a);
a+=2;var N=z.q(A,a);a+=4;var i=[];for(var c=0;c<N;c++){var Z={};i.push(Z);a=bT.Yd(A,a,Z)}return i};bT.z5=function(e,A){e.name=A};
bT.kz=function(e){var A=new fL,a=0;z.qs(A,a,"8BPT");a+=4;z.tx(A,a,1);a+=2;z.hO(A,a,e.length);a+=4;for(var c=0;
c<e.length;c++){a=bT.NG(A,a,e[c])}return A.data.slice(0,a).buffer};bT.Pe=function(e,A,a){var p=A+a,N=[];
while(A<p){var i={},Z=z.q(e,A);A+=4;var s=A;A=bT.Yd(e,A,i);if(!i._q[1].QP())N.push(i);if(Z%4!=0)Z+=4-Z%4;
A=s+Z}return N};bT.av=function(e,A,a){for(var c=0;c<a.length;c++){var p=a[c];A+=4;var N=A;A=bT.NG(e,A,p);
var i=A-N;z.hO(e,N-4,i);if(i%4!=0)N+=4-i%4;A=N+i}return A};bT.Yd=function(e,A,a){var p=z.q(e,A);A+=4;
if(p!=1)alert("Unknown version of pattern");var N=z.q(e,A);A+=4;if(N!=1&&N!=2&&N!=3)console.log("Unsupported mode of pattern: "+N);
var i=z.ex(e,A);A+=2;var Z=z.ex(e,A);A+=2;var s=new dE(0,0,Z,i);a.name=z.aJ(e,A);A+=4+2*a.name.length+2;
var D=e[A];A++;a.id=z.wc(e,A,D);A+=a.id.length;var n=-1;if(N==2){n=A;A+=3*256+4}var S=new j.js(Z*i);
A=bT.a1f(e,A,S);if(N==2){for(var c=0;c<S.o.length;c++){var F=3*S.o[c];S.o[c]=e[n+F+0];S.J[c]=e[n+F+1];
S.k[c]=e[n+F+2]}}var $=j.Q(s.O()*4);j.ia(S,$);a._q=[$,s];return A};bT.NG=function(e,A,a){var p=a._q[0],N=a._q[1];
z.hO(e,A,1);A+=4;z.hO(e,A,3);A+=4;z.tx(e,A,N.n);A+=2;z.tx(e,A,N.m);A+=2;z.ci(e,A,a.name+"\0");A+=4+2*a.name.length+2;
z.mp(e,A,a.id.length);A++;z.qs(e,A,a.id);A+=a.id.length;var i=new j.js(N.O());j.Y_(p,i);A=bT.a2N(e,A,i,N);
return A};bT.a1f=function(e,A,a){var p=A,N={nd:null,$n:[],a2P:null,kD:null},i=z.q(e,A);A+=4;var Z=z.q(e,A);
A+=4;N.nd=z.q6(e,A);A+=16;var s=z.q(e,A);A+=4;for(var c=0;c<s+2;c++){var D=z.q(e,A);A+=4;if(D==0)continue;
var n=z.q(e,A);A+=4;if(n==0)continue;var S=z.q(e,A);A+=4;var F=z.q6(e,A);A+=16;var $=z.ex(e,A);A+=2;
var m=e[A];A++;var J=eO.O0(!1,S,e,F.m,F.n,A,m);if(c<s)N.$n.push(J);if(c==s)N.a2P=J;if(c==s+1)N.kD=J;
A+=n-23}if(!N.nd.QP()){if(N.$n[0])a.o=N.$n[0];if(N.$n[1])a.J=N.$n[1];else a.J=N.$n[0].slice(0);if(N.$n[2])a.k=N.$n[2];
else a.k=N.$n[0].slice(0);if(N.kD)a.gg=N.kD;else a.gg.fill(255)}return A};bT.a2N=function(e,A,a,p){var N=A,i={nd:p,$n:[a.o,a.J,a.k],a2P:null,kD:a.gg};
z.hO(e,A,3);A+=4;z.hO(e,A,0);A+=4;z.Pn(e,A,p);A+=16;z.hO(e,A,24);A+=4;for(var c=0;c<24+2;c++){var Z=A,s=c<3||c==25?1:0;
z.hO(e,A,s);A+=4;if(s==0)continue;z.hO(e,A,0);A+=4;z.hO(e,A,8);A+=4;z.Pn(e,A,p);A+=16;z.tx(e,A,8);A+=2;
z.mp(e,A,1,1);A++;var D=c<3?i.$n[c]:i.kD;e.yG(A,p.O()+2);A=eO.Md(!1,D,e.data,p.m,p.n,A,1);z.hO(e,Z+4,A-Z-8)}z.hO(e,N+4,A-N-8);
return A};function h8(){}h8.__=function(e){var A=new Uint8Array(e),a=0;if(A[0]==71)return h8.aqp(A);
var p=z.wc(A,a,4);a+=4;var N=z.ex(A,a);a+=2;var i=[];if(N<=3){var Z=z.ex(A,a);a+=2;for(var c=0;c<Z;c++){var s=A[a++],D=z.wc(A,a,s);
a+=s;var n=h8.ij(A,a,D),S=n[0];a=n[1];i.push(S)}}else{var n={},F=j0.oQ(A,n,a+4),$=n.GrdL.v;for(var c=0;
c<$.length;c++)i[c]=$[c].v.Grad.v}return i};h8.z5=function(e,A){e.Nm.v=A};h8.kz=function(e){var A=new fL,a=0;
z.qs(A,a,"8BGR");a+=4;z.tx(A,a,5);a+=2;z.hO(A,a,16);a+=4;var p={classID:"null",GrdL:{t:"VlLs",v:[]}},N=p.GrdL.v;
for(var c=0;c<e.length;c++)N[c]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:e[c]}}};
a+=j0.HY(A,p,a);return A.data.slice(0,a).buffer};h8.ij=function(e,A,a){var p={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:a},Trns:{t:"VlLs",v:[]}},N=z.ex(e,A);
A+=2;if(N==0)throw"e";for(var c=0;c<N;c++){var i=z.q(e,A),Z=z.q(e,A+4),s=aV.IJ(e,A+8),D={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:s.o},Grn:{t:"doub",v:s.J},Bl:{t:"doub",v:s.k}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:Z}}};
p.Clrs.v.push(D);A+=20}var n=z.ex(e,A);A+=2;for(var c=0;c<n;c++){var i=z.q(e,A),Z=z.q(e,A+4),S=z.ex(e,A+8),D={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*S/255)}},Lctn:{t:"long",v:i},Mdpn:{t:"long",v:Z}}};
p.Trns.v.push(D);A+=10}var F=z.ex(e,A);A+=2;p.Intr.v=F==2?z.ex(e,A):4096;A+=2;var $=z.ex(e,A);A+=2;return[p,A]};
h8.aia=function(e,A,a){var p=a.Clrs.v.length;z.tx(e,A,p);A+=2;for(var c=0;c<p;c++){var N=a.Clrs.v[c];
z.hO(e,A,N.v.Lctn.v);z.hO(e,A+4,N.v.Mdpn.v);z.tx(e,A+8,0);var i=j.M.yN(j.M.kq(N.v.Clr.v)),Z=[i.Rd.v,i.Grn.v,i.Bl.v,0];
for(var s=0;s<4;s++)z.tx(e,A+10+s*2,Math.round(65535*(Z[s]/255)));A+=20}var D=a.Trns.v.length;z.tx(e,A,D);
A+=2;for(var c=0;c<D;c++){var N=a.Trns.v[c];z.hO(e,A,N.v.Lctn.v);z.hO(e,A+4,N.v.Mdpn.v);z.tx(e,A+8,Math.round(255*N.v.Opct.v.val/100));
A+=10}z.tx(e,A,2);A+=2;z.tx(e,A,a.Intr.v);A+=2;z.tx(e,A,32);A+=2;return A};h8.aqp=function(e){var A=z.lB(e,0,e.length).split("\n"),a=parseFloat(A[2]),p=[],N=JSON.parse(iF.lZ[iF.order.indexOf("GrFl")]).Grad.v;
N.Intr.v=0;N.Nm.v=A[1];for(var c=0;c<a;c++){var i=A[3+c].split(" ").map(parseFloat),Z=i[11],s=i[12];
p.push([i[0],i.slice(3,6),i[6]]);if(s!=0){var D=j.RR(i[3],i[4],i[5]),n=j.RR(i[7],i[8],i[9]),S=D.Ps,F=n.Ps;
if(s==1&&S>F)F++;if(s==2&&S<F)S++;var $=Math.round(Math.abs(F-S)*7);if($>1)for(var m=0;m<$;m++){var J=1-(m+1)/($+1),w=1-J,f=j.BA(J*S+w*F,J*D.PV+w*n.PV,J*D.HG+w*n.HG);
p.push([J*i[0]+w*i[2],[f.o,f.J,f.k],J*i[6]+w*i[10]])}}p.push([i[2],i.slice(7,10),i[10]])}p.sort(function(b,L){return b[0]-L[0]});
j.M.QG(p,N);return[N]};function gP(){}gP.__=function(e){var A=new Uint8Array(e),a=[],p=[],N=[],i=[],Z=[],s=0,D=z.wc(A,s,4);
s+=4;var n=z.q(A,s);s+=4;var S=z.q(A,s);s+=4;while(s<A.length){var F=z.wc(A,s,4);s+=4;var $=z.wc(A,s,4);
s+=4;var m=z.q(A,s);s+=4;if($=="tppa"){p=bT.Pe(A,s,m);s+=m}else if($=="tpbd"){N=ed.YG(A,s,m,1,1);s+=m}else if($=="tptp"){var J=z.q(A,s);
s+=4;for(var c=0;c<J;c++){var w=z.aJ(A,s);s+=6+w.length*2;s+=4;var f={};s+=j0.oQ(A,f,s);a.push([w,f])}while((s&3)!=0)s++}else if($=="tpsh"){var b=s,L=A.slice(s,s+m);
while(s<b+m){var C=z.q(A,s);s+=4;s=bF.eh(A,s,"Shape",i)}s=b+m}else if($=="tpst"){var b=s;s+=4;while(s<b+m){var M=z.q(A,s);
s+=4;var y=s,Q=z.q(A,s);s+=4;var f={Ms:{},gP:{}};Z.push(f);s+=4;s+=j0.oQ(A,f.Ms,s);s+=4;s+=j0.oQ(A,f.gP,s);
s=y+M;var k=f.gP.Lefx;if(k){if(k.v.masterFXSwitch==null)k.v.masterFXSwitch={t:"bool",v:!0};cu.K1(k.v)}}s=b+m}else{console.log(A.slice(s-8,s+64));
console.log(z.wc(A,s-8,64));throw $}}return{Cu:N,tV:p,list:a,akU:i,Sc:Z}};gP.z5=function(e,A){e[0]=A};
gP.kz=function(e){var A=new fL,a=0;z.qs(A,a,"8BTP");a+=4;z.hO(A,a,3);a+=4;z.hO(A,a,1);a+=4;var p=[e.tV,e.Cu,e.list];
for(var c=0;c<3;c++){if(p[c].length==0)continue;z.qs(A,a,"8BIM");a+=4;var N=["tppa","tpbd","tptp"][c];
z.qs(A,a,N);a+=4;var i=a;a+=4;if(N=="tppa"){a=bT.av(A,a,e.tV)}else if(N=="tpbd"){a=ed.mL(A,a,e.Cu)}else if(N=="tptp"){z.hO(A,a,e.list.length);
a+=4;for(var Z=0;Z<e.list.length;Z++){var s=e.list[Z];z.ci(A,a,s[0]+"\0");a+=6+s[0].length*2;z.hO(A,a,16);
a+=4;a+=j0.HY(A,s[1],a)}}z.hO(A,i,a-i-4);while((a&3)!=0)a++;A.yG(a,0)}return A.data.slice(0,a).buffer};
function eQ(){}eQ.__=function(e,A){var a=new Uint8Array(e),p;if(z.q(a,0)==a.length)p="icc";else if(a[0]=="<".charCodeAt(0))p="look";
else if(z.vP(a,"LUT_3D_SIZE")!=-1)p="cube";else p="3DL";if(p!="icc"){var N=eQ.a1r(a,p),i=eQ.a5j(N[0],N[1]);
a=i}var Z=[];for(var c=0;c<a.length;c++)Z.push(a[c]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:A?A:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:Z}}]};
eQ.kz=function(e){var A=e[0],a=new Uint8Array(A.profile.v);return a.buffer};eQ.z5=function(e,A){e.Nm.v=A};
eQ.a5j=function(e,A){var a=new fL,p=128;a.yG(0,128);var N=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var c=0;c<N.length;c++)a.data[c]=N[c];var i=["desc","A2B0"],Z=i.length,s=128+4+Z*12;z.hO(a,p,Z);
p+=4;for(var D=0;D<Z;D++){var n=i[D];z.qs(a,p,n);p+=4;z.hO(a,p,s);p+=4;var S=s;if(n=="desc"){z.qs(a,S,"mluc");
S+=4;S+=4;z.hO(a,S,1);S+=4;z.hO(a,S,12);S+=4;z.qs(a,S,"enUS");S+=4;var F="ICC by Photopea\0",$=F.length*2+2;
z.hO(a,S,$);S+=4;z.hO(a,S,28);S+=4;a.yG(S,$);for(var c=0;c<F.length;c++)a.data[S+c*2+1]=F.charCodeAt(c);
S+=$}if(n=="A2B0"){z.qs(a,S,"mAB ");S+=4;S+=4;a.yG(S,4);a.data[S]=3;a.data[S+1]=3;S+=4;a.yG(S,4*5);S+=4*3;
z.hO(a,S,S+8-s);S+=4;S+=4;a.yG(S,20);a.data[S]=e;a.data[S+1]=e;a.data[S+2]=e;S+=16;a.data[S]=2;S+=4;
var m=e*e*e*3;a.yG(S,m*2);for(var c=0;c<m;c++)z.qk(a.data,S+c*2,Math.max(0,Math.min(65535,Math.round(A[c]*65535))));
S+=m*2}var J=S-s;while((J&3)!=0)J++;z.hO(a,p,J);p+=4;s+=J}z.hO(a,0,s);return a.data.slice(0,s)};eQ.a1r=function(e,A){A="LUTFormat"+A.toUpperCase();
var a=[],p=0,N=z.lB(e,0,e.length),i="";for(var c=0;c<e.length&&i=="";c++){if(e[c]==10)i="\n";else if(e[c]==13){i="\r";
if(e[c+1]==10)i+="\n"}}if(A=="LUTFormatCUBE"){var Z=N.split(i);for(var c=0;c<Z.length;c++){if(Z[c]==""||Z[c][0]=="#")continue;
var s=Z[c].split(" "),D=s[0];if(D=="LUT_3D_SIZE"){p=parseInt(s[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(D)!=-1)continue;
a.push(parseFloat(s[0]),parseFloat(s[1]),parseFloat(s[2]))}a=eQ.Gy(p,a)}else if(A=="LUTFormat3DL"){var Z=N.split(i),n=1/4095;
for(var c=0;c<Z.length;c++){var S=Z[c];if(S==""||S=="3DMESH"||S.startsWith("Mesh")||S[0]=="#")continue;
var s=S.split(" "),D=s[0];if(p==0){p=s.length;continue}a.push(parseFloat(s[0])*n,parseFloat(s[1])*n,parseFloat(s[2])*n)}}else if(A=="LUTFormatLOOK"){var F=new DOMParser,$=F.parseFromString(N,"text/xml"),m=$.getElementsByTagName("LUT")[0],J=m.children[0].textContent;
p=parseInt(JSON.parse(J));var w=m.children[1].textContent;w=w.replace(/"/g,"").replace(/\s/g,"");var f=3*p*p*p,b=f*4,L=new Uint8Array(b);for(var c=0;c<b;c++){var C=w.charCodeAt(c*2),M=w.charCodeAt(c*2+1),y=C<58?C-48:C-55,Q=M<58?M-48:M-55;L[c]=(y<<4)+Q}for(var c=0;c<f;c++)a.push(z.Q4(L,c<<2));a=eQ.Gy(p,a)}else throw A;return[p,a]};eQ.ald=function(e,A,a){var p=["#Created by www.Photopea.com","TITLE \""+a+"\"","","#LUT size","LUT_3D_SIZE "+A,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],N=6;
for(var c=0;c<e.length;c+=3){p.push(e[c].toFixed(N)+" "+e[c+1].toFixed(N)+" "+e[c+2].toFixed(N))}p.push("");
return z.Fp(p.join("\n")).buffer};eQ.Gy=function(e,A){var a=[],p=e*e*e;for(var c=0;c<p;c++)a.push(0,0,0);
for(var N=0;N<e;N++)for(var i=0;i<e;i++)for(var Z=0;Z<e;Z++){var c=3*(Z+i*e+N*e*e),s=3*(N+i*e+Z*e*e);
a[s]=A[c];a[s+1]=A[c+1];a[s+2]=A[c+2]}return a};function j0(){}j0.oQ=function(e,A,a,p,N){var i=a,Z;if(N==null)N=0;
var s=z.q(e,a);if(s==0){Z="";a+=4}else{Z=z.aJ(e,a);a+=4+2*Z.length+2}if(Z!="")A.__name=Z;A.classID=j0.iu(e,a);
if(p)console.log("\t".repeat(N),"- reading descriptor",A.classID,a);a+=j0.lq(e,a);var D=z.$m(e,a);a+=4;
for(var c=0;c<D;c++){var n=j0.iu(e,a);a+=j0.lq(e,a);var S=j0.Tz(e,a,p,N);A[n]=S;a+=S.size;delete S.size}return a-i};
j0.HY=function(e,A,a,p){var N=a,i=A.__name;if(i==null)i="";i+="\0";z.ci(e,a,i);a+=4+2*i.length;j0.iS(e,a,A.classID);
a+=j0.lq(e.data,a);z.DM(e,a,Object.keys(A).length-1-(A.__name==null?0:1));a+=4;for(var Z in A){if(Z=="classID")continue;
if(Z=="__name")continue;j0.iS(e,a,Z);a+=j0.lq(e.data,a);a+=j0.bq(e,a,A[Z])}return a-N};j0.Tz=function(e,A,a,p){var N=A,i=z.wc(e,A,4);
A+=4;var Z={size:0,t:i,v:null};if(a)console.log("\t".repeat(p),"reading key",i,N);switch(i){case"obj ":case"VlLs":Z.v=[];
var s=z.q(e,A);A+=4;for(var c=0;c<s;c++){var D=j0.Tz(e,A,a,p+1);A+=D.size;delete D.size;Z.v.push(D)}break;
case"UntF":Z.v={type:z.wc(e,A,4),val:z.VD(e,A+4)};A+=12;break;case"doub":Z.v=z.VD(e,A);A+=8;break;case"bool":Z.v=e[A]==1;
A+=1;break;case"long":Z.v=z.$m(e,A);A+=4;break;case"comp":Z.v=z.$m(e,A+4);A+=8;break;case"Objc":Z.v={};
var n=j0.oQ(e,Z.v,A,a,p+1);A+=n;break;case"TEXT":var S=z.q(e,A);if(S==0){Z.v="";A+=4}else{Z.v=z.aJ(e,A);
A+=4+Z.v.length*2+2}break;case"enum":var F=j0.iu(e,A);A+=j0.lq(e,A);var $=j0.iu(e,A);A+=j0.lq(e,A);Z.v={};
Z.v[F]=$;break;case"tdta":var m=z.$m(e,A);A+=4;Z.v=[];for(var c=0;c<m;c++)Z.v.push(e[A+c]);A+=m;break;
case"ObAr":var J=z.q(e,A);A+=4;var w=z.aJ(e,A);A+=4+2*w.length+2;if(w!="")throw w;var f=j0.iu(e,A);A+=4+Math.max(4,f.length);
Z.v={classID:f,arr:[]};var b=z.q(e,A);A+=4;for(var c=0;c<b;c++){var f=j0.iu(e,A);A+=4+Math.max(4,f.length);
var F=z.wc(e,A,4);A+=4;var L=z.wc(e,A,4);A+=4;var C={id:f,type:F,uID:L,arr:[]};Z.v.arr.push(C);var M=z.q(e,A,4);
A+=4;for(var y=0;y<M;y++){var Q=z.VD(e,A);A+=8;C.arr.push(Q)}}break;case"Pth ":var k=A,m=z.q(e,A);A+=4;
var E=z.wc(e,A,4);A+=4;var _=z.Jv(e,A);A+=4;var v=z.ahN(e,A);A+=4+v.length*2;Z.v={sig:E,pth:v};break;
case"Clss":case"type":case"rele":var v=z.aJ(e,A);A+=4+v.length*2+2;var V=j0.iu(e,A);A+=4+Math.max(4,V.length);
Z.v={classID:V};if(v!="")Z.v.__name=v;if(i=="rele"){Z.v.val=z.$m(e,A);A+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var R=j0.df[i],v=z.aJ(e,A);
A+=4+v.length*2+2;if(v.length!=0){console.log(i,v);throw"e"}Z.v={};for(var c=0;c<R.length;c++){var V=j0.iu(e,A);
A+=4+Math.max(4,V.length);Z.v[R[c]]=V}if(i=="name"){var v=z.aJ(e,A);A+=4+v.length*2+2;Z.v.val=v}if(i=="indx"||i=="Idnt"){Z.v.val=z.q(e,A);
A+=4}break;case"alis":var m=z.q(e,A);A+=4;Z.v=z.wc(e,A,m);A+=m;break;default:{console.log("unknown oskey: "+i+", "+N);
throw"e";return Z}}if(a){console.log("\t".repeat(p),Z.v);console.log("\t".repeat(p),"======",A)}Z.size=A-N;
return Z};j0.df={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
j0.bq=function(e,A,a){var p=A,N=a.t;a=a.v;z.qs(e,A,N);A+=4;switch(N){case"obj ":case"VlLs":z.DM(e,A,a.length);
A+=4;for(var i=0;i<a.length;i++){var Z=j0.bq(e,A,a[i]);A+=Z}break;case"UntF":z.qs(e,A,a.type);z.kn(e,A+4,a.val);
A+=12;break;case"doub":z.kn(e,A,a);A+=8;break;case"bool":z.mp(e,A,a?1:0,1);A+=1;break;case"long":z.DM(e,A,a);
A+=4;break;case"comp":z.DM(e,A+4,a);A+=8;break;case"Objc":var Z=j0.HY(e,a,A);A+=Z;break;case"TEXT":z.ci(e,A,a+"\0");
A+=4+a.length*2+2;break;case"enum":var s=Object.keys(a)[0],D=a[s];j0.iS(e,A,s);A+=j0.lq(e.data,A);j0.iS(e,A,D);
A+=j0.lq(e.data,A);break;case"tdta":z.hO(e,A,a.length);A+=4;z.hf(e,A,a);A+=a.length;break;case"ObAr":z.hO(e,A,a.arr[0].arr.length);
A+=4;z.ci(e,A,"\0");A+=6;j0.iS(e,A,a.classID);A+=4+Math.max(4,a.classID.length);z.hO(e,A,a.arr.length);
A+=4;for(var c=0;c<a.arr.length;c++){var n=a.arr[c];j0.iS(e,A,n.id);A+=4+Math.max(4,n.id.length);z.qs(e,A,n.type);
A+=4;z.qs(e,A,n.uID);A+=4;z.hO(e,A,n.arr.length);A+=4;for(var i=0;i<n.arr.length;i++){z.kn(e,A,n.arr[i]);
A+=8}}break;case"Pth ":var S=a.pth.length*2+4+8;z.hO(e,A,S);A+=4;z.qs(e,A,a.sig);A+=4;z.kP(e,A,S);A+=4;
z.ahX(e,A,a.pth);A+=a.pth.length*2+4;break;case"Clss":case"type":case"rele":var F=a.__name;if(F==null)F="";
z.ci(e,A,F+"\0");A+=4+F.length*2+2;var $=a.classID;j0.iS(e,A,$);A+=4+Math.max(4,$.length);if(N=="rele"){z.DM(e,A,a.val);
A+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var m=j0.df[N];z.hO(e,A,1);A+=6;for(var c=0;
c<m.length;c++){var $=a[m[c]];j0.iS(e,A,$);A+=4+Math.max(4,$.length)}if(N=="name"){z.ci(e,A,a.val+"\0");
A+=4+a.val.length*2+2}if(N=="indx"||N=="Idnt"){z.hO(e,A,a.val);A+=4}break;case"alis":var S=a.length;
z.hO(e,A,S);A+=4;z.qs(e,A,a);A+=S;break;default:console.log("unknown oskey: "+N);A=p;break}return A-p};
j0.iu=function(e,A){var a=z.$m(e,A);if(a>1e3)throw"e";if(a==0)a=4;return z.wc(e,A+4,a).trim()};j0.lq=function(e,A){var a=z.$m(e,A);
return a==0?8:4+a};j0.iS=function(e,A,a){var p="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),N=4<a.length||p.indexOf(a)!=-1;
z.DM(e,A,N?a.length:0);z.qs(e,A+4,a);if(a.length<4&&!N){var i="";for(var c=a.length;c<4;c++)i+=" ";z.qs(e,A+4+a.length,i)}};
j0.agN=function(e){var A={};for(var a in e){if(a=="classID")A[a]=e[a];else if(a=="__name")A[a]=e[a];
else A[a]=j0.zD(e[a])}return A};j0.zD=function(e){if(e.Uz=="Objc")return j0.agN(e.v);else if(e.Uz=="VlLs"){var A=[];
for(var c=0;c<e.v.length;c++)A.push(j0.zD(e.v[c]));return A}else if(e.Uz=="UntF")return e.v.val;else return e.v};
function cu(){}cu.Ja=function(e,A,a,p,N,i){while(A<a){var Z=z.wc(e,A,4);A+=4;if(Z!="8BIM"&&Z!="8B64"){console.log("layer information signature error! "+Z,"PSB = "+N);
alert("Error in PSD file: wrong signature.");return a}var s=z.wc(e,A,4);A+=4;var D=z.q(e,A);A+=4;var n=N&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(s)!=-1;
if(n){D=D<<32|z.$m(e,A);A+=4}var S=["lrFX","PlLd"];if(S.indexOf(s)!=-1){if(D%4!=0)D+=4-D%4;A+=D;continue}switch(s){case"iOpa":p[s]=e[A];
break;case"brst":p[s]=[1,1,1];for(var c=0;c<D;c+=4)p[s][z.q(e,A+c)]=0;break;case"knko":p[s]=e[A];break;
case"infx":p[s]=e[A];break;case"clbl":p[s]=e[A];break;case"lmgm":p[s]=e[A];break;case"vmgm":p[s]=e[A];
break;case"fcmy":p[s]=e[A];break;case"lyid":p[s]=z.q(e,A);break;case"lsct":p[s]={type:z.q(e,A)};if(D>=12)p[s].Mi=z.wc(e,A+8,4);
break;case"lsdk":p.lsct={type:z.q(e,A)};break;case"lyvr":p[s]=z.q(e,A);break;case"lnsr":var F={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
p[s]=z.wc(e,A,4);break;case"lspf":p[s]=z.q(e,A);break;case"lclr":p[s]=z.ex(e,A);break;case"luni":p[s]=z.WN(e,A);
break;case"fxrp":p[s]=new k7(z.VD(e,A),z.VD(e,A+8));break;case"artb":case"artd":p[s]={};j0.oQ(e,p[s],A+4);
break;case"SoCo":p[s]={};j0.oQ(e,p[s],A+4);break;case"GdFl":p[s]={};j0.oQ(e,p[s],A+4);cu.kk(p[s],s);
break;case"PtFl":p[s]={};j0.oQ(e,p[s],A+4);cu.kk(p[s],s);break;case"CgEd":p[s]={};j0.oQ(e,p[s],A+4);
break;case"brit":var $=p.brit=hZ.T$("brit"),m={};$.Brgh.v=z.aq(e,A);$.Cntr.v=z.aq(e,A+2);$.useLegacy.v=!1;
break;case"levl":var J=e.buffer.slice(A,A+D);p[s]=jN.__(J);break;case"curv":p[s]=fi.wC(e,A,D);break;
case"expA":var w=z.ex(e,A),f=p[s]=hZ.T$("expA");f.Exps.v=z.i3(e,A+2);f.Ofst.v=z.i3(e,A+6);f.gammaCorrection.v=z.i3(e,A+10);
break;case"vibA":p[s]={};j0.oQ(e,p[s],A+4);break;case"hue2":p[s]=g1.wC(e,A,D);break;case"blnc":var f=p[s]=hZ.T$(s);
f.PrsL.v=e[A+18]==1;var b=["ShdL","MdtL","HghL"];for(var c=0;c<3;c++)for(var L=0;L<3;L++)f[b[c]].v[L].v=z.aq(e,A+c*6+L*2);
break;case"blwh":var C={};j0.oQ(e,C,A+4);var f=hZ.T$(s),M="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var c=0;c<M.length;c++){f[M[c]]=C[M[c]];delete C[M[c]]}p[s]=f;break;case"phfl":var f=p[s]=hZ.T$(s),y=f.Clr.v,w=z.ex(e,A);
if(w==3){var Q=[z.q(e,A+2),z.q(e,A+6),z.q(e,A+10)],k=32768,E=j.rD(Q[0]/k,Q[1]/k,Q[2]/k);y.Lmnc.v=E.SA;
y.A.v=E.gg;y.B.v=E.k}if(w==2){var _=z.ex(e,A+2);if(_!=7)throw"e";y.Lmnc.v=z.aq(e,A+4)/100;y.A.v=z.aq(e,A+6)/100;
y.B.v=z.aq(e,A+8)/100}var v=A+2+(w==3?12:10);f.Dnst.v=z.q(e,v);v+=4;f.PrsL.v=e[v]==1;break;case"mixr":var V={cX:z.ex(e,A+2)==1,Z:[]};
for(var c=0;c<20;c++)V.Z.push(z.aq(e,A+4+c*2));p[s]=a7.aio(V);break;case"clrL":case"rplc":p[s]={};j0.oQ(e,p[s],A+6);
break;case"nvrt":p[s]={};break;case"post":p[s]=hZ.T$("post");p[s].Lvls.v=z.ex(e,A);break;case"thrs":p[s]=hZ.T$("thrs");
p[s].Lvl.v=z.ex(e,A);break;case"grdm":var R=A,h=e[A+2]==1,P=e[A+3]==1;R+=4;var H=z.wc(e,R,4);if(H=="Perc"||H=="Gcls"||H=="Lnr ")R+=4;
var U=z.WN(e,R);R+=4+U.length*2;var X=h8.ij(e,R,U),x=X[0];R=X[1];var K=z.ex(e,R);R+=2;var T=z.q(e,R);
R+=4;var I=z.ex(e,R)==1;R+=2;var o=z.ex(e,R)==1;R+=2;var l=z.q(e,R);R+=4;var O=z.ex(e,R);R+=2;var g=[],W=[];
for(var c=0;c<4;c++){g.push({t:"long",v:~~(z.ex(e,R+c*2)*100/32768)});W.push({t:"long",v:~~(z.ex(e,R+c*2+8)*100/32768)})}R+=16;
var d=z.ex(e,R);R+=2;if(K==1)x={classID:"Grdn",Nm:{t:"TEXT",v:U},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:I},VctC:{t:"bool",v:o},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:T},Smth:{t:"long",v:l},Mnm:{t:"VlLs",v:g},Mxm:{t:"VlLs",v:W}};
var gT=hZ.T$("grdm");gT.Rvrs.v=h;gT.Grad.v=x;p[s]=gT;break;case"selc":p[s]=bt.wC(e,A,D);break;case"vmsk":case"vsms":var r=p.vmsk=new u.eP,G=z.$m(e,A+4),Y=(G>>0&1)==1;
r.Fv=(G>>1&1)==0;r.isEnabled=(G>>2&1)==0;r.i=bF.XN(e,A+8,D-8,i.m,i.n);break;case"shmd":p[s]={};var fk=z.q(e,A),v=A+4;
for(var c=0;c<fk;c++){var Z=z.wc(e,v,4);v+=4;var eJ=z.wc(e,v,4);v+=4;var eS=e[v];v++;if(Math.max(e[v],e[v+1])!=0)throw"e";
v+=3;var gL=z.q(e,v);v+=4;if(eJ=="cust"||eJ=="cmls"||eJ=="extn"||eJ=="mlst"){var cX=z.q(e,v);if(cX!=16)v+=4;
if(z.q(e,v)==16){var C={};j0.oQ(e,C,v+4,!1);p[s][eJ]=C;if(eJ=="cmls")q.DO.arz(p[s][eJ])}}else{console.log("unknown shmd key: "+eJ+", size: "+gL)}v+=gL}break;
case"shpa":var w=z.q(e,A),kj=z.q(e,A+4);if(kj!=0)console.log("some patterns present!");break;case"TySh":var gq=p[s]={},w=z.ex(e,A);
gq.D=z.Wy(e,A+2);var iL=z.ex(e,A+2+48);gq.LW={};var ew=j0.oQ(e,gq.LW,A+56),dk=eG.aaj();for(var j9 in dk)if(gq.LW[j9]==null)gq.LW[j9]=dk[j9];
gq.ev={};var fh=j0.oQ(e,gq.ev,A+56+ew+6);gq.oc=z.a0Y(e,A+56+ew+6+fh);gq._t=bm.__(gq.LW.EngineData.v);
eG.ac8(gq._t.EngineDict.StyleRun.RunArray);if(gq._t.ResourceDict==null)gq._t.ResourceDict=JSON.parse(JSON.stringify(gq._t.DocumentResources));
delete gq.LW.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var g9=z.q(e,A),k6=z.q(e,A+4);p.lmfx={};
var ew=j0.oQ(e,p.lmfx,A+8);cu.K1(p.lmfx);break;case"FMsk":p[s]=z.AB(e,A,D);break;case"Txt2":p[s]={};
p[s].raw=z.AB(e,A,D);p[s].ln=g6.__(p[s].raw);break;case"Patt":p[s]=bT.Pe(e,A,D);break;case"SoLd":var jx=z.wc(e,A,4),fV=z.q(e,A+4),ao=z.q(e,A+8);
p[s]={};var b8=j0.oQ(e,p[s],A+12);if(p[s].nonAffineTransform==null)p[s].nonAffineTransform=JSON.parse(JSON.stringify(p[s].Trnf));
if(p[s].Impr==null)p[s].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var fV=z.q(e,A);
p[s]={};var b8=j0.oQ(e,p[s],A+4);break;case"vscg":var eJ=z.wc(e,A,4),fV=z.q(e,A+4);p[eJ]={};var b8=j0.oQ(e,p[eJ],A+8);
cu.kk(p[eJ],eJ);break;case"vogk":var ke=z.q(e,A),fV=z.q(e,A+4);p[s]={};var b8=j0.oQ(e,p[s],A+8);p[s]=p[s].keyDescriptorList.v;
for(var c=0;c<p[s].length;c++){var gj=p[s][c].v;if(!j.X.H2(gj))continue;if(gj.keyOriginBoxCorners==null){var jf=j.X.Ic(gj);
gj.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var ay=[jf[0],jf[1],jf[2],jf[1],jf[2],jf[3],jf[0],jf[3]];
if(gj.keyOriginType.v==4)ay=j.X.ze(j.X.GK(gj),gj.keyOriginLineWeight.v);j.X.UD(gj,"keyOriginBoxCorners",ay)}}break;
case"lnk2":case"lnkD__":case"lnk3__":p[s]=[];var R=A;while(R<A+D){var fz=new u.QJ;p[s].push(fz);var ei=z.sg(e,R);
R+=8;var hC=R;fz.type=z.wc(e,R,4);R+=4;if(fz.type!="liFD"){alert("Unknown Linked Layer type: "+fz.type);
break;throw fz.type}fz.Af=z.q(e,R);R+=4;var iI=z.JB(e,R);R+=1+iI.FG.length;fz.h0=iI.FG;fz._c=z.aJ(e,R);
R+=4+fz._c.length*2+2;fz.$e=z.wc(e,R,4);R+=4;fz.eR=z.wc(e,R,4);R+=4;var gQ=z.sg(e,R);R+=8;fz.open=e[R];
R+=1;if(fz.open!=0){var cb={},ew=j0.oQ(e,cb,R+4);if(ew%4!=0)ew+=4-ew%4;console.log(cb);R+=ew+4}fz.open=0;
fz.raw=z.AB(e,R,gQ);R=hC+ei;if(ei%4!=0)R+=4-ei%4}break;case"FEid":var R=A;p[s]=[];var dK=R+D,w=z.q(e,R);
R+=4;while(R<dK){R+=4;var ei=z.q(e,R);R+=4;var X={};p[s].push(X);X.id=z.JB(e,R).FG;R+=X.id.length+1;
var w=z.q(e,R);R+=4;R+=4;var ha=z.q(e,R);R+=4;X.rect=z.q6(e,R);R+=16;var hA=z.q(e,R);R+=4;var dW=z.q(e,R);
R+=4;var fN=new j.js(0);for(var c=0;c<dW+2;c++){var cQ=z.q(e,R);R+=4;if(cQ!=0){R+=4;var h6=z.q(e,R),hh=null;
R+=4;if(c<3||c==25)hh=eO.Ki(!0,hA,e,X.rect.m,X.rect.n,R,h6);if(c==0)fN.o=hh;if(c==1)fN.J=hh;if(c==2)fN.k=hh;
if(c==25)fN.gg=hh;R+=h6}}X.buffer=j.Q(X.rect.O()*4);j.ia(fN,X.buffer);j.jN(X);var bA=e[R];R++;if(bA!=0){X.$=new u.j_;
X.$.rect=z.q6(e,R);R+=16;R+=4;var co=z.q(e,R);R+=4;X.$.channel=eO.Ki(!0,hA,e,X.$.rect.m,X.$.rect.n,R,co);
X.$.color=255;X.$.Yk();R+=co}if(ei%4!=0)R+=4-ei%4}break;case"Lr16":aK.NU(i,e,A);break;case"Anno":p[s]=[];
var ej=A,bk=A+4,kj=z.q(e,bk);bk+=4;for(var c=0;c<kj;c++){var ei=z.q(e,bk);bk+=4;var h5=z.wc(e,bk,4);
bk+=4;if(h5!="txtA")throw h5;var bg=e[bk++],aQ=e[bk++],fw=z.ex(e,bk);bk+=2;var jC=z.q6(e,bk);bk+=16;
var e0=z.q6(e,bk);bk+=16;var y=aV.IJ(e,bk);bk+=10;var eU=z.JB(e,bk);bk+=eU.length;var iV=z.JB(e,bk);
bk+=iV.length;var kh=z.JB(e,bk);bk+=kh.length;var hT=z.q(e,bk);bk+=4;var gi=z.wc(e,bk,4);bk+=4;var bD=z.q(e,bk);
bk+=4;var kt=z.hv(e,bk+2,bD-2>>1);bk+=bD;p[s].push([jC.x,jC.y,y,eU.FG,kt])}break;default:break}var iJ="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(iJ.indexOf(s)==-1)if(D%4!=0)console.log("size not multiple of 4!!!",s);if(s!="luni"&&s!="TySh"&&s!="tySh"&&s!="lfx2"&&s!="iOpa")if(D%4!=0)D+=4-D%4;
A+=D}var m=p.CgEd;if(m){var $=p.brit;if($){$.Brgh.v=m.Brgh?m.Brgh.v:0;$.Cntr.v=m.Cntr?m.Cntr.v:0;$.useLegacy.v=m.useLegacy?m.useLegacy.v:0}delete p.CgEd}var ih=[];
for(var c=0;c<ih.length;c++)delete p[ih[c]];return A};cu.eA=function(e,A,a,p,N){for(var i in a)if(a[i]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+i+"\" tag was present with a null value.");delete a[i]}for(var i in a){var Z=p&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(i)!=-1,D=0;
z.qs(e,A,Z?"8B64":"8BIM");A+=4;var s=A;z.qs(e,A,i);A+=4;z.DM(e,A,0);A+=Z?8:4;switch(i){case"iOpa":z.mp(e,A,a[i],1);
D=4;break;case"brst":D=0;for(var c=0;c<3;c++)if(a[i][c]==0){z.hO(e,A+D,c);D+=4}break;case"knko":z.mp(e,A,a[i],1);
D=4;break;case"infx":z.mp(e,A,a[i],1);D=4;break;case"clbl":z.mp(e,A,a[i],1);D=4;break;case"lmgm":z.mp(e,A,a[i],1);
D=4;break;case"vmgm":z.mp(e,A,a[i],1);D=4;break;case"fcmy":z.mp(e,A,a[i],1);D=4;break;case"lyid":z.hO(e,A,a[i]);
D=4;break;case"lsct":z.hO(e,A,a[i].type);D=4;if(a[i].Mi){z.qs(e,A+4,"8BIM");z.qs(e,A+8,a[i].Mi);D=12}break;
case"lyvr":z.hO(e,A,a[i]);D=4;break;case"lnsr":z.qs(e,A,a[i]);D=4;break;case"lspf":z.hO(e,A,a[i]);D=4;
break;case"lclr":z.tx(e,A,a[i]);D=8;break;case"luni":z.ci(e,A,a[i]);D=4+2*a[i].length;break;case"fxrp":z.kn(e,A,a[i].x);
z.kn(e,A+8,a[i].y);D=16;break;case"artb":case"artd":z.hO(e,A,16);D=j0.HY(e,a[i],A+4)+4;break;case"SoCo":z.hO(e,A,16);
D=j0.HY(e,a[i],A+4)+4;break;case"GdFl":z.hO(e,A,16);D=j0.HY(e,a[i],A+4)+4;break;case"PtFl":z.hO(e,A,16);
D=j0.HY(e,a[i],A+4)+4;break;case"CgEd":var n={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},S=n,F=a[i];
S.Brgh.v=F.Brgh.v;S.Cntr.v=F.Cntr.v;S.useLegacy.v=F.useLegacy.v;z.hO(e,A,16);D=j0.HY(e,n,A+4)+4;break;
case"brit":e.yG(A,8);D=8;break;case"levl":var $=new fL;D=jN.kz($,a[i]);z.hf(e,A,$.data);break;case"curv":D=fi.w_(e,A,a[i]);
break;case"expA":D=14;e.yG(A,14);z.qk(e.data,A,1);z.Kg(e.data,A+2,a[i].Exps?a[i].Exps.v:0);z.Kg(e.data,A+6,a[i].Ofst?a[i].Ofst.v:0);
z.Kg(e.data,A+10,a[i].gammaCorrection?a[i].gammaCorrection.v:1);break;case"vibA":z.hO(e,A,16);D=j0.HY(e,a[i],A+4)+4;
break;case"hue2":D=g1.w_(e,A,a[i]);break;case"blnc":D=19;e.yG(A,D);var m=["ShdL","MdtL","HghL"];for(var c=0;
c<3;c++){var J=a[i][m[c]].v;for(var w=0;w<3;w++)J.push(z.sm(e.data,A+c*6+w*2,J[w].v))}e.data[A+18]=a[i].PrsL.v?1:0;
break;case"blwh":var n={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},f="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var c=0;c<f.length;c++){n[f[c]]=a[i][f[c]]}z.hO(e,A,16);D=j0.HY(e,n,A+4)+4;break;case"phfl":z.tx(e,A,2);
var b=a[i].Clr.v;z.tx(e,A+2,7);z.tx(e,A+4,Math.round(b.Lmnc.v*100));z.tx(e,A+6,Math.round(b.A.v*100));
z.tx(e,A+8,Math.round(b.B.v*100));z.tx(e,A+10,0);var L=A+2+10;e.yG(L,5);z.g_(e.data,L,a[i].Dnst.v);L+=4;
e.data[L]=a[i].PrsL.v?1:0;L++;D=L-A;break;case"mixr":D=44;e.yG(A,D);var C=a7.zY(a[i]);z.qk(e.data,A,1);
z.qk(e.data,A+2,C.cX?1:0);for(var c=0;c<20;c++)z.sm(e.data,A+4+c*2,C.Z[c]);break;case"clrL":case"rplc":z.tx(e,A,1);
z.hO(e,A+2,16);D=j0.HY(e,a[i],A+6)+6;break;case"nvrt":D=0;break;case"post":z.tx(e,A,a[i].Lvls.v);D=2;
break;case"thrs":z.tx(e,A,a[i].Lvl.v);D=2;break;case"grdm":var M=a[i].Rvrs?a[i].Rvrs.v:!1,y=!1,Q=867527939,k=!1,E=!1,_=2048,v=[0,0,0,0],V=[32768,32768,32768,32768],R=a[i].Grad.v,h,P,H=R.Clrs==null?1:0;
if(H==0){h=R;P=JSON.parse(iF.L9.ayt).v}else{h=hZ.T$("grdm").Grad.v;P=R}e.yG(A,4);z.qk(e.data,A,1);e.data[A+2]=M?1:0;
e.data[A+3]=y?1:0;var U=A+4;z.ci(e,U,R.Nm.v);U+=4+R.Nm.v.length*2;U=h8.aia(e,U,h);z.tx(e,U,H);U+=2;z.hO(e,U,P.RndS.v);
U+=4;z.tx(e,U,P.ShTr.v?1:0);U+=2;z.tx(e,U,P.VctC.v?1:0);U+=2;z.hO(e,U,P.Smth.v);U+=4;z.tx(e,U,3);U+=2;
for(var c=0;c<4;c++)z.tx(e,U+c*2,v[c]);U+=8;for(var c=0;c<4;c++)z.tx(e,U+c*2,V[c]);U+=8;U+=2;D=U-A;break;
case"selc":D=bt.w_(e,A,a[i]);break;case"FMsk":z.hf(e,A,a[i]);D=a[i].length;break;case"Txt2":var X=new fL,x=g6.Yq(a[i].ln,X),K=j.Q(x,!0);
for(var c=0;c<x;c++)K[c]=X.data[c];z.hf(e,A,K);D=K.length;break;case"vmsk":var T=a[i],I=0;z.hO(e,A,3);
if(!T.Fv)I+=1<<1;if(!T.isEnabled)I+=1<<2;z.hO(e,A+4,I);D=8;var o=T.i.length;e.yG(A+8,o*26);bF.j0(e.data,A+8,T.i,N.m,N.n);
D+=o*26;break;case"shmd":z.hO(e,A,Object.keys(a[i]).length);var L=A+4;for(var l in a[i]){z.qs(e,L,"8BIM");
L+=4;z.qs(e,L,l);L+=4;z.hO(e,L,0);L+=4;z.hO(e,L,0);L+=4;z.hO(e,L,16);L+=4;var O=j0.HY(e,a[i][l],L);if(O%4!=0)O+=4-O%4;
z.hO(e,L-8,O+4);L+=O}D=L-A;break;case"TySh":var L=A;z.vy(e,L,1);L+=2;var g=a[i],X=new fL;g._t.DocumentResources=JSON.parse(JSON.stringify(g._t.ResourceDict));
var x=bm.Yq(g._t,X),K=j.Q(x,!0);for(var c=0;c<x;c++)K[c]=X.data[c];g.LW.EngineData={t:"tdta",v:K};var W=g._t.EngineDict.Editor.Text;
g.LW.Txt.v=W.substring(0,W.length-1);z.ab7(e,L,g.D);L+=48;z.vy(e,L,50);L+=2;z.hO(e,L,16);L+=4;L+=j0.HY(e,g.LW,L);
z.vy(e,L,1);L+=2;z.hO(e,L,16);L+=4;L+=j0.HY(e,g.ev,L);z.a8d(e,L,g.oc);L+=16;D=L-A;break;case"lmfx":z.hO(e,A,0);
z.hO(e,A+4,16);var n=JSON.parse(JSON.stringify(a[i])),d=!1;cu.mg(n);for(var c=0;c<iF.RU.length;c++)if(n[iF.RU[c]]!=null)d=!0;
z.qs(e,s,d?"lmfx":"lfx2");D=j0.HY(e,n,A+8)+8;break;case"Patt":var L=bT.av(e,A,a[i]);D=L-A;break;case"SoLd":z.qs(e,A,"soLD");
z.hO(e,A+4,4);z.hO(e,A+8,16);D=j0.HY(e,a[i],A+12)+12;break;case"vstk":case"pths":z.hO(e,A,16);D=j0.HY(e,a[i],A+4)+4;
break;case"vscg__":z.qs(e,A,a[i].key);z.hO(e,A+4,16);D=j0.HY(e,a[i].Z,A+8)+8;break;case"vogk":z.hO(e,A,1);
z.hO(e,A+4,16);j.X.ab9(a[i]);for(var c=0;c<a[i].length;c++){var gT=a[i][c].v.keyOriginResolution;if(gT)gT.v=N.l5}var r={classID:"null",keyDescriptorList:{t:"VlLs",v:a[i]}};
D=j0.HY(e,r,A+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var U=A;for(var c=0;c<a[i].length;c++){var G=a[i][c],Y=U;
z.b$(e,U,0);U+=8;z.qs(e,U,G.type);U+=4;z.hO(e,U,G.Af);U+=4;e.yG(U,1);e.data[U]=G.h0.length;U++;z.qs(e,U,G.h0);
U+=G.h0.length;z.ci(e,U,G._c+"\0");U+=4+G._c.length*2+2;z.qs(e,U,G.$e);U+=4;z.qs(e,U,G.eR);U+=4;z.b$(e,U,G.raw.length);
U+=8;e.yG(U,1);e.data[U]=G.open;U++;z.hf(e,U,G.raw);U+=G.raw.length;z.hO(e,U,1);U+=4;U+=11;var fk=U-Y-8;
z.b$(e,Y,fk);if(fk%4!=0){e.yG(U,4-fk%4);U+=4-fk%4}}D=U-A;break;case"FEid":var U=A;z.hO(e,U,3);U+=4;for(var eJ=0;
eJ<a[i].length;eJ++){var eS=a[i][eJ];U+=4;var gL=U;U+=4;z.ii(e,U,eS.id);U+=eS.id.length+1;z.hO(e,U,1);
U+=4;var cX=j.Q(eS.rect.O()),kj=eS.rect,gq=j.Q(kj.O());U+=4;var iL=U;U+=4;z.Pn(e,U,kj);U+=16;z.hO(e,U,8);
U+=4;z.hO(e,U,24);U+=4;for(var c=0;c<24+2;c++){var ew=-1;if(c==0)ew=0;if(c==1)ew=1;if(c==2)ew=2;if(c==25)ew=3;
z.hO(e,U,ew!=-1?1:0);U+=4;if(ew!=-1){j.kI(eS.buffer,cX,ew);j.WP(cX,eS.rect,gq,kj);U+=4;var dk=U;U+=4;
e.yG(U,kj.O()+2);U=eO.gn(!0,gq,e.data,kj.m,kj.n,U,3);z.hO(e,dk,U-(dk+4))}}z.hO(e,iL,U-(iL+4));e.yG(U,1);
e.data[U]=eS.$?1:0;U++;if(eS.$!=null){var j9=kj,fh=j.Q(j9.O());fh.fill(eS.$.color);j.WP(eS.$.channel,eS.$.rect,fh,j9);
z.Pn(e,U,j9);U+=16;U+=4;var g9=U;U+=4;e.yG(U,j9.O()+2);U=eO.gn(!0,fh,e.data,j9.m,j9.n,U,3);z.hO(e,g9,U-(g9+4))}var fk=U-(gL+4);
z.hO(e,gL,fk);if(fk%4!=0)U+=4-fk%4}D=U-A;break;case"Anno":var k6=A,jx=a[i].length;z.tx(e,k6,2);z.tx(e,k6+2,1);
k6+=4;z.hO(e,k6,jx);k6+=4;for(var c=0;c<jx;c++){var fV=a[i][c],ao=fV[0],b8=fV[1],ke=k6;k6+=4;z.qs(e,k6,"txtA");
k6+=4;e.yG(k6,2);e.data[k6]=1;e.data[k6+1]=28;k6+=2;z.tx(e,k6,1);k6+=2;z.Pn(e,k6,new dE(ao,b8,17,21));
k6+=16;z.Pn(e,k6,new dE(ao+8,b8+10,241,141));k6+=16;e.yG(k6,10);aV.e0(e.data,k6,fV[2]);k6+=10;k6+=z.ii(e,k6,fV[3]);
k6+=z.ii(e,k6,"");k6+=z.ii(e,k6,"D:20211012120233+01'00'");var gj=fV[4].length*2;z.hO(e,k6,12+2+gj);
k6+=4;z.qs(e,k6,"txtC");k6+=4;z.hO(e,k6,2+gj);k6+=4;e.yG(k6,2);e.data[k6]=254;e.data[k6+1]=255;k6+=2;
z.akP(e,k6,fV[4]);k6+=gj;z.hO(e,ke,k6-ke)}D=k6-A;break;default:console.log("unknown layer tag: "+i+", size: "+D);
A-=12;continue}var jf=["Txt2","artd","extd","pths"];if(jf.indexOf(i)==-1)if(D%4!=0)D+=4-D%4;if(Z)z.b$(e,A-8,D);
else z.hO(e,A-4,D);if(i!="luni"&&i!="TySh")if(D%4!=0)D+=4-D%4;A+=D}return A};cu.K1=function(e){for(var c=0;
c<iF.order.length;c++){var A=iF.order[c],a=iF.RU[c];if(e[a]==null)e[a]={t:"VlLs",v:[]};if(e[A]!=null){e[a].v.push(e[A]);
delete e[A]}var p=[];for(var N=0;N<e[a].v.length;N++){var i=e[a].v[N];if(i.v.present==null||i.v.present.v==!0)p.push(i)}e[a].v=p}};
cu.mg=function(e){for(var c=0;c<iF.order.length;c++){var A=iF.order[c],a=iF.RU[c],p=e[a].v.length;if(p==0){delete e[a];
continue}if(p==1){e[A]=e[a].v[0];delete e[a];continue}}};cu.kk=function(e,A){if(A=="GdFl"){if(e.Angl==null)e.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(e.Algn==null)e.Algn={v:!0,t:"bool"};if(e.Scl==null)e.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(e.Ofst==null)e.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(e.Rvrs==null)e.Rvrs={v:!1,t:"bool"};if(e.Dthr==null)e.Dthr={v:!1,t:"bool"}}if(A=="PtFl"){if(e.Algn==null)e.Algn={v:!0,t:"bool"};
if(e.Angl==null)e.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(e.Scl==null)e.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(e.phase==null)e.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};cu.clone=function(e,A){var a={};
if(e=="TySh"){a.D=A.D.clone();a.LW=JSON.parse(JSON.stringify(A.LW));a.ev=JSON.parse(JSON.stringify(A.ev));
a.oc=A.oc.clone();a._t=JSON.parse(JSON.stringify(A._t));if(A.add)a.add={vmsk:A.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(A.add.vogk))};
return a}else if(e=="fxrp")return A.clone();else if(e=="vmsk")return A.clone();else return JSON.parse(JSON.stringify(A))};
function gU(e,A){}gU.__=function(e,A,a,p){p=gU.a2K(e,A,a,p);return p};gU.Yq=function(e,A,a,p,N){p=gU.ayl(e,A,a,p,N);
return p};gU.a2K=function(e,A,a,p){var N=p;e.rect=z.q6(a,p);p+=16;var i=z.ex(a,p);p+=2;e.$y=[];var Z=A.l0;
for(var c=0;c<i;c++){e.$y[c]={id:z.aq(a,p),length:(Z?z.sg:z.q)(a,p+2)};p+=Z?10:6}var s=z.wc(a,p,4);p+=4;
if(s!="8BIM"){console.log("Invalid Blend mode signature: "+s);alert("Error in Photoshop file: wrong signature.");
throw"e"}e.Mi=z.wc(a,p,4);p+=4;e.opacity=a[p];p+=1;e.G0=a[p]==1;p+=1;e.OO=a[p];p+=1;if(a[p]!=0)console.log("error in filler!");
p+=1;var D=z.q(a,p);p+=4;var n=p;p=gU.adI(e,a,p);p=gU.a4f(e,a,p);var S=z.JB(a,p);e.name=S.FG;p+=S.length;
if(S.length%4!=0)p+=4-S.length%4;p=cu.Ja(a,p,n+D,e.add,Z,A);if(e.add.lsct){if(e.add.lsct.Mi)e.Mi=e.add.lsct.Mi;
e.add.lsct=e.add.lsct.type}return p};gU.ayl=function(e,A,a,p,N){var i=p;z.Pn(a,p,e.rect);p+=16;var Z=e.aus();
z.tx(a,p,Z.length);p+=2;var s=A.l0;N.push(p);for(var c=0;c<Z.length;c++){z.vy(a,p,Z[c]);if(s)z.b$(a,p+2,0);
else z.hO(a,p+2,0);p+=s?10:6}z.qs(a,p,"8BIM");p+=4;z.qs(a,p,e.Mi);p+=4;z.mp(a,p,e.opacity,1);p+=1;z.mp(a,p,e.G0?1:0,1);
p+=1;z.mp(a,p,e.OO,1);p+=1;z.mp(a,p,0,1);p+=1;var D=p;z.hO(a,p,0);p+=4;var n=p;p=gU.abI(e,a,p);p=gU.a1e(e,a,p);
var S=z.ii(a,p,e.name.slice(0,255));p+=S;if(S%4!=0)p+=4-S%4;if(e.add.lsct){e.add.lsct={type:e.add.lsct};
if(e.Mi=="pass"){e.add.lsct.Mi="pass";e.Mi="norm"}}if(e.Mi=="pass")e.add.lsct={type:e.add.lsct,Mi:"pass"};
if(e.add.brit)e.add.CgEd=e.add.brit;p=cu.eA(a,p,e.add,s,A);delete e.add.CgEd;if(e.add.lsct){if(e.add.lsct.Mi)e.Mi=e.add.lsct.Mi;
e.add.lsct=e.add.lsct.type}var F=p-n;z.hO(a,D,F);return p};gU.adI=function(e,A,a){var p=z.q(A,a);a+=4;
if(p==0)return a;var N=a;e.$=new u.j_;e.$.rect=z.q6(A,a);a+=16;e.$.color=A[a];a+=1;var i=gU.gl(e.$,A,a);
a+=1;if(i){var Z=!1,s=255,D=0,n=255,S=0;for(var c=0;c<e.$y.length;c++)if(e.$y[c].id==-3)Z=!0;if(Z){e.SW=gU.JG(A,a);
a+=18}var F=a,$=A[a];a++;if($>>0&1){s=A[a];a++}if($>>1&1){D=z.VD(A,a);a+=8}if($>>2&1){n=A[a];a++}if($>>3&1){S=z.VD(A,a);
a+=8}if((a-F&1)==1)a++;e.zd=[s,D,n,S]}else{if(p==20)a+=2;else{e.SW=gU.JG(A,a);a+=18}}return N+p};gU.abI=function(e,A,a){z.hO(A,a,0);
a+=4;if(e.$==null)return a;var p=e.tR(),N=e.add.vmsk,i=a,Z=!0;z.hO(A,a,0);z.Pn(A,a,e.$.rect);a+=16;z.mp(A,a,e.$.color);
a+=1;gU.UF(e.$,A,a,Z);a+=1;if(Z){if(e.SW){gU.a1a(A,a,e.SW);a+=18}z.mp(A,a,15);a+=1;z.mp(A,a,p?p.Yi:255);
a+=1;z.kn(A,a,p?p.UO:0);a+=8;z.mp(A,a,N?N.Yi:255);a+=1;z.kn(A,a,N?N.UO:0);a+=8;a++}z.hO(A,i-4,a-i);return a};
gU.JG=function(e,A){var a=new u.j_;gU.gl(a,e,A);A+=1;a.color=e[A];A+=1;a.rect=z.q6(e,A);A+=16;return a};
gU.a1a=function(e,A,a){gU.UF(a,e,A,!1);A+=1;z.mp(e,A,a.color);A+=1;z.Pn(e,A,a.rect);A+=16};gU.gl=function(e,A,a){var p=A[a];
e.Fv=(p>>0&1)==0;e.isEnabled=(p>>1&1)==0;e.VN=(p>>3&1)==1;return p>>4&1};gU.UF=function(e,A,a,p){var N=0;
if(!e.Fv)N+=1<<0;if(!e.isEnabled)N+=1<<1;if(e.VN)N+=1<<3;if(p)N+=1<<4;z.mp(A,a,N)};gU.a4f=function(e,A,a){var p=z.q(A,a);
a+=4;for(var c=0;c<p;c++)e.NM[c]=A[a+c];return a+p};gU.a1e=function(e,A,a){z.hO(A,a,e.NM.length);a+=4;
A.yG(a,40);for(var c=0;c<40;c++){A.data[a+c]=e.NM[c]}return a+40};function eO(){}eO.__=function(e,A,a,p){p=eO.ap2(A,A.l0,A.Nx,A.ag,e,a,p);
return p};eO.kz=function(e,A,a,p,N,i){p=eO.ai7(e,A,a,p,N,i);return p};eO.ap2=function(e,A,a,p,N,i,Z){var s=N.$y,D={},n=Z;
for(var c=0;c<s.length;c++){var S=s[c],F=S.id,$=S.length,m;if(F==-2&&N.$==null)F=-1;if(F==-3)m=N.SW.rect;
else if(F==-2)m=N.$.rect;else m=N.rect;var J=eO.Ki(A,a,i,m.m,m.n,Z,$);Z+=$;if(F==-3)N.SW.channel=J;else if(F==-2)N.$.channel=J;
else D["c"+F]=J}var w=new j.js(0);w.gg=null;if(p==3){w.o=D.c0;w.J=D.c1;w.k=D.c2;w.gg=D["c-1"]}else if(p==1){w.o=D.c0;
w.J=D.c0;w.k=D.c0;w.gg=D["c-1"]}else if(p==4){var f=e.nw.r1039,b=D.c0,L=D.c1,C=D.c2,M=D.c3;if(f){var y=f.a8f,Q=17;
if(y==null){var k=ICC.R(f.buffer);console.log(k);y=f.a8f=ICC.U.sampleLUT(k,Q)}var E={o:b,J:L,k:C,gg:M},_=j.Q(b.length*4);
j.ia(E,_);j.rQ(_);ICC.U.applyLUT4(y,Q,_,_);j.Y_(_,E)}else{for(var c=0;c<b.length;c++){var v=1-b[c]*(1/255),V=1-L[c]*(1/255),R=1-C[c]*(1/255),h=1-M[c]*(1/255),P=UDOC.C.cmykToRgb([v,V,R,h]);
b[c]=P[0]*255;L[c]=P[1]*255;C[c]=P[2]*255}}w.o=b;w.J=L;w.k=C;w.gg=D["c-1"]}if(w.o==null)w.o=j.Q(0);if(w.gg==null&&w.o!=null){w.gg=w.o.slice(0);
w.gg.fill(255)}if(w.J==null)w.J=w.o.slice(0);if(w.k==null)w.k=w.o.slice(0);N.buffer=j.Q(Math.max(0,N.rect.O()*4));
j.ia(w,N.buffer);return Z};eO.ai7=function(e,A,a,p,N,i){var Z=A.aus(),s=new j.js(A.rect.O());j.Y_(A.buffer,s);
for(var c=0;c<Z.length;c++){var D=Z[c],n,S;if(D==-3)n=A.SW.rect;else if(D==-2)n=A.$.rect;else n=A.rect;
if(D==-3)S=A.SW.channel;if(D==-2)S=A.$.channel;if(D==-1)S=s.gg;if(D==0)S=s.o;if(D==1)S=s.J;if(D==2)S=s.k;
a.yG(p,n.O()*3+4);var F=p;p=eO.gn(e,S,a.data,n.m,n.n,p,i[1]?3:1);var $=p-F;if(e)z.aqK(a.data,N+c*10+2,$);
else z.g_(a.data,N+c*6+2,$)}return p};eO.Ki=function(e,A,a,p,N,i,Z){var s=z.ex(a,i);i+=2;return eO.O0(e,A,a,p,N,i,s,Z-2)};
eO.gn=function(e,A,a,p,N,i,Z){z.sm(a,i,Z);i+=2;i=eO.Md(e,A,a,p,N,i,Z);return i};eO.O0=function(e,A,a,p,N,i,Z,s){var D,n=p*N*(A>>>3),S=n&3,F=n+(S==0?0:4-S);
if(s<=0){return j.Q(F)}if(Z>3){console.log("unknown compression: "+Z,p,N,p*N,s);Z=0}if(Z==0){if(i+F<=a.length)D=a.slice(i,i+F);
else{D=j.Q(n);for(var c=0;c<n;c++)D[c]=a[i+c]}i+=n}else if(Z==1){D=j.Q(n);var $=e?4:2,m=eO.Zb(a,D,p,N,i,i+$*N,$);
i+=$*N+m}else if(Z==2||Z==3){var J=new Uint8Array(a.buffer,i+2,s-6),w=j.Q(F);UZIP.inflateRaw(J,w);if(Z==3){if(A==8)for(var f=0;
f<N;f++){var b=f*p+1,L=b+p-1,C=w[b-1];for(var y=b;y<L;y++){C+=w[y];w[y]=C&255}}else for(var f=0;f<N;
f++){var b=f*p+1,L=b+p-1,C=w[2*b-2]<<8|w[2*b-1];for(var y=b;y<L;y++){var Q=y<<1;C+=w[Q]<<8|w[Q+1];w[Q]=C>>>8;
w[Q+1]=C&255}}}if(w.length==F)D=w;else{D=j.Q(F);for(var c=0;c<w.length;c++)D[c]=w[c]}}if(A==16){var k=j.Q(p*N);
for(var c=0;c<n;c+=2)k[c>>>1]=D[c];D=k}return D};eO.Md=function(e,A,a,p,N,i,Z){var s=p*N;if(Z==0)for(var c=0;
c<s;c++)a[i++]=A[c];else if(Z==1){var D=e?4:2,n=eO.bL(A,a,p,N,i,i+D*N,D);i+=D*N+n}else if(Z==2||Z==3){if(Z==3){var S=new Uint8Array(A.length);
for(var F=0;F<N;F++){var $=F*p+1,m=$+p-1,J=A[$-1];S[$-1]=J;for(var w=$;w<m;w++){S[w]=A[w]+(256-J)&255;
J=A[w]}}A=S}a[i]=120;a[i+1]=156;i+=2;var f=pako.deflateRaw(A,{axK:4});z.ahn(a,i,f);i+=f.length+4}else console.log("Unknown compression: "+Z);
return i};eO.Zb=function(e,A,a,p,N,i,Z){if(!(e instanceof Uint8Array)||!(A instanceof Uint8Array))throw"e";
var s=i,D=p|0;if(Z==2)for(var c=0;c<D;c++){var n=z.ex(e,N+(c<<1));eO.TV(e,i,n,A,c*a,a);i+=n}else for(var c=0;
c<D;c++){var n=z.q(e,N+(c<<2));eO.TV(e,i,n,A,c*a,a);i+=n}return i-s};eO.bL=function(e,A,a,p,N,i,Z){var s=i;
if(Z==2)for(var c=0;c<p;c++){var D=eO.hG(e,c*a,a,A,i);z.qk(A,N+c*2,D);i+=D}else for(var c=0;c<p;c++){var D=eO.hG(e,c*a,a,A,i);
z.g_(A,N+c*4,D);i+=D}return i-s};eO.hG=function(e,A,iM,a,p){var N,i,Z,s,D,hF,n;s=A+iM;for(Z=A,i=p;iM>0;
Z=N,iM-=hF){n=iM<128?iM:128;if(Z<=s-3&&e[Z+1]==e[Z+0]&&e[Z+2]==e[Z+0]){for(N=Z+3;N<Z+n&&e[N]==e[Z+0];
)++N;hF=N-Z;a[i++]=1+256-hF;a[i++]=e[Z+0]}else{for(N=Z;N<Z+n;)if(N<=s-3&&e[N+1]==e[N+0]&&e[N+2]==e[N+0])break;
else++N;hF=N-Z;a[i++]=hF-1;for(var c=0;c<hF;c++)a[i+c]=e[Z+c];i+=hF}}return i-p};eO.TV=function(e,A,a,p,N,i){for(var Z=0;
Z<a;){var iM=e[A++];if(iM>=128){var s=e[A++],D=N+(257-iM);p.fill(s,N,D);N=D;Z+=2}else{for(var c=0;c<=iM;
c++)p[N+c]=e[A+c];A+=iM+1;N+=iM+1;Z+=1+1+iM}}};function aK(){}aK.w6=function(e,A,a){return;var p="",N=A;
while(N!=0){var i=N%1e3+"";while(i.length<3)i="0"+i;p=(p==""?i:i+" ")+p;N=Math.floor(N/1e3)}while(p.startsWith("0")&&p!="0")p=p.slice(1);
while(p.length<11)p=" "+p;console.log("===",p,"\t".repeat(e),": "+a)};aK.a7y=function(e){var A={nw:{}},p=0,N=0,s;
A.l0=!1;A.Nx=8;var a=new Uint8Array(e);N=aK.ty(A,a,p);p=N;N=aK.aiQ(A,a,p);p=N;var i=z.q(a,p);p+=4+i;
var Z=A.l0?8:4;if(A.l0)s=z.sg(a,p);else s=z.q(a,p);p+=Z+s;N=aK.ani(A,a,p);return[{WJ:new dE(0,0,A.m,A.n),data:A.buffer.buffer}]};
aK.__=function(e,A){A.l0=!1;A.Nx=8;var a=new Uint8Array(e),p=0,N=0,I,cX=!1,kj=!0,gq=!1,iL=0,fr=0;N=aK.ty(A,a,p);
aK.w6(0,N-p,"PSD Header");p=N;N=aK.aiQ(A,a,p);aK.w6(0,N-p,"Color Mode Data");p=N;N=aK.a96(A,a,p);aK.w6(0,N-p,"Image Resources");
p=N;N=aK.aqv(A,a,p);aK.w6(0,N-p,"Layer And Mask Info");p=N;N=aK.ani(A,a,p);aK.w6(0,N-p,"Merged Image");
p=N;if(A.B.length==0){var i=A.Uo();i.i4("Background");A.B.push(i);i.buffer=A.buffer.slice(0);i.rect=new dE(0,0,A.m,A.n)}if(A.nw.r1005){A.l5=z.adf(A.nw.r1005,0)}if(A.nw.r1026){var a=A.nw.r1026;
for(var c=0;c<a.length;c+=2){var N=A.B[c>>>1];if(N)N.g0=z.ex(a,c)}}if(A.nw.r1072){var a=A.nw.r1072;for(var c=0;
c<a.length;c++){var N=A.B[c];if(N)N.Cd=a[c]==1}}if(A.nw.r1032){A.dc=aK.cJ(A.nw.r1032,0)}delete A.nw.r1036;
A.bo(A.nw.r1039);if(A.nw.r1050){var Z=z.q,s=A.nw.r1050,D=z.q(s,0);if(D==6){var n=4,S=z.q6(s,n);n+=16;
var F=z.WN(s,n);n+=4+F.length*2;var $=Z(s,n);n+=4;var m=A.WM;for(var c=0;c<$;c++){var J=q.RK.Q6(),f;
m.push(J);J=J.v;J.sliceID.v=Z(s,n);n+=4;J.groupID.v=Z(s,n);n+=4;var w=Z(s,n);n+=4;if(w==1){f=Z(s,n);
n+=4}var F=z.WN(s,n);n+=4+F.length*2;var b=Z(s,n);n+=4;var L=[Z(s,n),Z(s,n+4),Z(s,n+8),Z(s,n+12)];n+=16;
q.RK.mN(m,m.length-1,L);var C=J.url.v=z.WN(s,n);n+=4+C.length*2;var M=J.null.v=z.WN(s,n);n+=4+M.length*2;
var y=J.Msge.v=z.WN(s,n);n+=4+y.length*2;var Q=J.altTag.v=z.WN(s,n);n+=4+Q.length*2;J.cellTextIsHTML.v=s[n]==1;
n++;var k=J.cellText.v=z.WN(s,n);n+=4+k.length*2;var E=Z(s,n);n+=4;var _=Z(s,n);n+=4;var v=s.slice(n,n+4);
n+=4;if(w!=2)m.pop()}}else if(D==8){var V={};j0.oQ(s,V,8,!1);var s=A.WM=V.slices.v;for(var c=0;c<s.length;
c++){if(s[c].v.origin.v.ESliceOrigin!="userGenerated"){s.splice(c,1);c--}}}}if(A.nw.r1058){var R=A.nw.r1058,h=UTIF.decode(R.buffer,{parseMN:!1,debug:!1});
fs.oq(h[0],A.gj);delete A.nw.r1058}if(A.nw.r1060){var P=z.lB(A.nw.r1060);fs.alm(P,A.gj);delete A.nw.r1060}if(A.nw.r1065){var a=A.nw.r1065;
A.RA={};j0.oQ(a,A.RA,4,!1)}if(A.nw.r1069){var a=A.nw.r1069,H=[];for(var c=2;c<a.length;c+=4){var f=z.q(a,c);
for(var U=0;U<A.B.length;U++){var N=A.B[U];if(N.add.lyid==f&&N.add.lsct!=3)H.push(U)}}A.g=H}if(A.nw.r1025){var X=A.nw.r1025;
delete A.nw.r1025;var x=bF.XN(X,0,X.length,A.m,A.n),K=new u.eP;K.i=x;A.GI[0]=ar.OX("Working Path",{vmsk:K})}var T=A.add.pths;
delete A.add.pths;var o=A.nw.r3000;if(o){I={};j0.oQ(o,I,4,!1);delete A.nw.r3000}if(T){var l=T.pathSymmetrySelectedPath;
if(l){var O=T.pathList.v[l.v].v,g=O.pathUnicodeName.v;A.o7=g.startsWith("Tile Symmetry")}}for(var W=0;
W<=997;W++){var d="r"+(2e3+W),X=A.nw[d];if(X==null)break;var x=bF.XN(X,0,X.length,A.m,A.n),g="Path "+W;
if(T){var gT=T.pathList.v[W].v;g=gT.pathUnicodeName.v;if(g=="Tile Symmetry 1")continue}var r=I?I.keyRootDescriptorList.v[W].v.keyDescriptorList.v:u.c0(x),K=new u.eP;
K.i=x;A.GI.push(ar.OX(g,{vmsk:K,vogk:r}));delete A.nw[d]}delete A.l0;if(A.nw.r4000){A.Yl=j.Yl.__(A.nw.r4000)}var G=A.nw.r7000,Y=A.nw.r7001;
if(G){var fk=z.lB(G);A.lw=aK.Zy(fk)}if(Y){var fk=z.lB(Y);A.$d=aK.jv(fk)}delete A.nw.r7000;delete A.nw.r7001;
var eJ=new dE(0,0,A.m,A.n),eS=A.add.Txt2,gL=eS;if(gL){gL=gL.ln;if(gL._DocumentResources==null)gL=dp.avj(gL)}var ew=-1;
for(var c=0;c<A.B.length;c++){var N=A.B[c],dk=N.add.lsct,j9=N.add.vmsk,fh=N.tR();if(dk==ez.Nr){iL++;
N.add.lspf=0}else if(dk==ez.MV||dk==ez.St)iL--;if(N.name==""){N.name="Layer "+(c+1);gq=!0}if(gq&&N.yg()&&N.Mi=="norm")N.Mi="pass";
if(N.$f()&&N.MH(A).$){var g9=N.MH(A);g9.$.isEnabled=N.add.SoLd.filterFX.v.filterMaskEnable.v}if(j9&&N.c7()){var k6=iF.kE.default;
if(N.add.vstk==null)N.add.vstk=JSON.parse(JSON.stringify(k6));else{var jx="strokeStyleLineDashSet";if(N.add.vstk[jx]==null)N.add.vstk[jx]=JSON.parse(JSON.stringify(k6[jx]))}N.add.vstk.strokeStyleResolution.v=A.l5}if(j9&&(N.add.vogk==null||j.r.yP(j9.i)!=N.add.vogk.length))N.c0();
if(!1){var fV=N.add.vogk,ao=!0;for(var b8=0;b8<fV.length;b8++){var ke=fV[b8].v.keyShapeInvalidated;if(ke==null||ke.v==!1)ao=!1}if(ao)N.c0()}if(N.add.SoLd&&N.rect.QP()){console.log("redrawing smart instance");
N.kf(A)}if(fh==null&&N.$!=null){if(N.$.VN==!1){N.$.VN=!0;N.SW=N.$.clone()}}fh=N.tR();if(N.zd){var k6=N.zd,K=j9;
if(fh){fh.Yi=k6[0];fh.UO=k6[1]}if(K){K.Yi=k6[2];K.UO=k6[3]}N.zd=null}if(fh!=null&&j9!=null&&(fh.UO+j9.UO!=0||fh.Yi+j9.Yi!=2*255))N.yO(A);
else if(j9!=null&&!N.c7())N.yO();else if(fh&&fh.Yi!=255&&N.c7())N.yO(A);var gj=N.add.artb;if(gj&&gj.artboardBackgroundType==null)gj.artboardBackgroundType={t:"long",v:1};
if(gj&&iL!=0)delete N.add.artb;var jf=N.add.vstk;if(N.c7()&&(N.rect.QP()||j9&&j9.UO!=0||jf&&!jf.fillEnabled.v&&(!jf.strokeEnabled.v||jf.strokeStyleLineWidth.v.val==0)))N.Si(A);
if(N.add.TySh){cX=!0;if(!N.rect.QP())kj=!1}if(N.add.TySh&&gL){ew++;var ay=N.add.TySh._t,fz=eG.Np(ay),ei=gL._DocumentObjects._TextObjects;
if(ei.length<=ew){console.log("Txt2 incomplete");continue}var hC=ei[ew]._Model,iI=hC._StyleRun?hC._StyleRun._RunArray:[],gQ=ay.EngineDict.StyleRun.RunArray;
for(var cb=0;cb<gQ.length;cb++){var dK=gQ[cb].StyleSheet.StyleSheetData;if(iI[cb]==null)continue;var ha=iI[cb]._RunData._StyleSheet._Features;
if(ha&&ha._BaselineDirection)dK.BaselineDirection=parseInt(ha._BaselineDirection.slice(1));if(ha&&ha._FillBackgroundFlag)dK._FillBackgroundFlag=ha._FillBackgroundFlag;
if(ha&&ha._FillBackgroundColor){var hA=ha._FillBackgroundColor,dW=hA._Color._Values.slice(0);for(var U=0;
U<4;U++)dW[U]=parseFloat(dW[U].slice(1));dK._FillBackgroundColor={Type:1,Values:dW}}if(ha&&ha._LineWidth)dK._LineWidth=parseFloat(ha._LineWidth.slice(1))}var fN=ay.EngineDict.ParagraphRun.RunArray,cQ=hC._ParagraphRun._RunArray;
if(cQ==null)cQ=[];var h6=Math.min(cQ.length,fN.length);for(var U=0;U<h6;U++){var hh=fN[U].ParagraphSheet.Properties,bA=gL._DocumentResources._ParagraphSheetSet._Resources,co=cQ[U]._RunData._ParagraphSheet;
if(typeof co=="string")co=bA[parseInt(co.slice(1))]._Resource;var ej=co._Parent==null?co:bA[parseInt(co._Parent.slice(1))]._Resource;
co=co._Features;ej=ej._Features;var bk=co._ParagraphDirection;if(bk==null)bk=ej._ParagraphDirection;
if(bk)hh._Direction=parseInt(bk.slice(1));if(co._ComposerEngine)hh._ComposerEngine=parseInt(co._ComposerEngine.slice(1))}if(hC._AlternateGlyphRun){var cQ=hC._AlternateGlyphRun._RunArray,h6=cQ.length,h5=ay.EngineDict.AlternateGlyphRun=eG.a69();
for(var U=0;U<h6;U++){var co=cQ[U],bg={},aQ=co._RunData._AlternateGlyphSheet;if(aQ)bg.Glyph=parseInt(aQ._Glyph.slice(1));
h5.RunArray.push(bg);h5.RunLengthArray.push(parseInt(co._Length.slice(1)))}}var fw=gL._DocumentResources,jC=fw._TextFrameSet._Resources,e0=jC[ew]._Resource,eU=e0._Data,iV=new bj(1,0,0,1,0,0);
if(e0._0){var kh=parseFloat(e0._0[0].slice(1)),hT=parseFloat(e0._0[1].slice(1));iV.translate(kh,hT)}if(fz){iV.translate(fz[0],fz[1]);
eG.dw(ay,[0,0,fz[2]-fz[0],fz[3]-fz[1]])}else{if(e0._Bezier&&e0._Bezier._Points){var x=e0._Bezier._Points,kh=parseFloat(x[0].slice(1)),hT=parseFloat(x[1].slice(1));
if(kh!=0||hT!=0){iV.translate(kh,hT)}}}if(e0._Data&&e0._Data._FrameMatrix){var gi=e0._Data._FrameMatrix;
gi=gi.map(function(cD){return parseFloat(cD.slice(1))});iV.concat(new bj(gi[0],gi[1],gi[2],gi[3],gi[4],gi[5]))}iV.concat(N.add.TySh.D);
N.add.TySh.D=iV;var b=eU._Type?parseInt(eU._Type.slice(1)):0;if(b==2||b==1&&eU._PathData&&eU._PathData._Spacing=="i-3")if(e0._Bezier){var bD=function(cD){return parseFloat(cD.slice(1))},x=e0._Bezier._Points.map(bD);
if(fz)j.p.D(x,new bj(1,0,0,1,-fz[0],-fz[1]),x);var kt=eU._PathData?eU._PathData._Reversed:!1,iJ=eU._TextOnPathTRange;
if(iJ==null)iJ=["f-3","f-3"];ay.Curve={Points:x,TextOnPathTRange:iJ.map(bD),Reversed:kt==null?!1:kt};
N.add.TySh.add={vmsk:new u.eP,vogk:null};eG.no(N.add.TySh)}if(eU._LineOrientation=="i2")ay._LineOrientation=2}}q.DO.g5(A,!0);
var ih={},ad=[];for(var c=0;c<A.B.length;c++){var aS=A.B[c].add.lyid;if(aS==null)continue;var fr=Math.max(fr,aS);
if(ih[aS]!=null)ad.push(c);else ih[aS]=!0}for(var c=0;c<ad.length;c++)A.B[ad[c]].add.lyid=fr+1+c};aK.cJ=function(e,A){var a=z.q(e,A+12),p=[];
for(var c=0;c<a;c++){var N=e[A+16+c*5+4],i=z.$m(e,A+16+c*5)/32;p.push([N,i])}return p};aK.Zy=function(e){var A=new DOMParser,a=A.parseFromString(e,"text/xml").firstChild.children[0],p=a.getElementsByTagName("variables");
if(p.length==0)return[];p=p[0].children;var N=[],i="varName trait docRef placementMethod align valign clip".split(" ");
for(var Z=0;Z<p.length;Z++){var s=p[Z],D={};N.push(D);for(var n=0;n<i.length;n++){var S=i[n],F=s.getAttribute(S);
if(F==null)continue;D[S]=F}}return N};aK.jv=function(e){var A=new DOMParser,a=A.parseFromString(e,"text/xml").firstChild.children,p=[[]];
if(a==null)return p;for(var c=0;c<a.length;c++){var N=a[c],i=[];p.push(i);for(var Z=0;Z<N.children.length;
Z++){var s=N.children[Z];if(c==0)p[0].push(s.tagName);i.push(s.textContent)}}return p};aK.Yq=function(e,A,a){q.DO.fz(e);
q.DO.g5(e,!1);e.l0=a[3]==!0;var p=[],N=[],J=0,f=1,Q=16,gq=0;for(var c=0;c<e.B.length;c++){var i=e.B[c];
if(i.$f()&&i.MH(e).$){i.add.SoLd.filterFX.v.filterMaskEnable.v=i.MH(e).$.isEnabled}if(i.add.TySh){var Z=i.add.TySh._t,s=eG.y7(Z);
i.add.TySh.LW.TextIndex={t:"long",v:p.length};p.push(Z);if(s==2)eG.Hx(i.add.TySh)}var D=i.add.vstk;if(D)D.strokeStyleResolution.v=e.l5;
if(i.c7()||a[2]&&i.add.SoLd){N[c]=[i.rect,i.buffer];i.rect=new dE;i.buffer=j.Q(0);if(i.add.SoLd){var n=i.MH(e);
if(n!=null){N[c].push(n.buffer);n.buffer=j.Q(n.buffer.length)}}}}if(p.length>0){var S=e.add.Txt2?e.add.Txt2.ln:null;
if(e.add.Txt2==null)e.add.Txt2={};e.add.Txt2.ln=d1.a6K(p,null,S)}var F=[e.add.lnk2,e.add.FEid,e.add.Patt],$=e.ad2(e.B);
e.auB($);e.nw.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);z.acM(e.nw.r1005,0,e.l5);z.acM(e.nw.r1005,8,e.l5);
if(e.h_()){e.nw.r1022=new Uint8Array([0,3+e.l8.length-1,0])}else delete e.nw.r1022;var m=new Uint8Array(e.B.length*2),w=new Uint8Array(e.B.length);
for(var c=0;c<e.B.length;c++){var i=e.B[c],b=i.g0,L=i.Cd?1:0;z.qk(m,c*2,b);w[c]=L;if(b>J)J=b;if(L==0)f=0}if(J>0)e.nw.r1026=m;
if(f<1)e.nw.r1072=w;var C=e.dc,M=C.length,y=e.nw.r1032=j.Q(16+5*M,!0);z.g_(y,0,1);z.g_(y,4,576);z.g_(y,8,576);
z.g_(y,12,M);for(var c=0;c<M;c++){z.xE(y,Q,Math.round(C[c][1]*32));y[Q+4]=C[c][0];Q+=5}if(a[4]!=!0){var k=[e.buffer,new dE(0,0,e.m,e.n)],E=0;
j.ff(k);while(k[E+1].O()>200*200)E+=2;var _=fI.nP("jpg"),v=k[E+1],V=new Uint8Array(_.Eu([[k[E].buffer]],v.m,v.n)),y=e.nw.r1036=j.Q(28+V.length);
z.g_(y,0,1);z.g_(y,4,v.m);z.g_(y,8,v.n);z.g_(y,12,v.m*3);z.g_(y,16,v.O()*3);z.g_(y,20,V.length);z.qk(y,24,24);
z.qk(y,26,1);y.set(V,28)}var R=j.vJ(e.buffer),h=[];if(R)h.push({name:"Transparency",Dv:{o:255,J:0,k:0},C4:100,lT:1});
h=h.concat(e.l8);delete e.nw.r1045;delete e.nw.r1006;delete e.nw.r1077;var P=new fL;Q=0;var H=new Uint8Array(4+h.length*13);
H[3]=1;for(var c=0;c<h.length;c++){var U=h[c],X=U.name+"\0";z.ci(P,Q,X);Q+=4+X.length*2;var x=4+c*13;
aV.e0(H,x,U.Dv);H[x+11]=U.C4;H[x+12]=U.lT}if(Q!=0)e.nw.r1045=P.data.slice(0,Q);e.nw.r1077=H;for(var c=0;
c<e.WM.length;c++)e.WM[e.WM.length-c-1].v.sliceID.v=2+c*3;var K={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:e.WM}},P=new fL;
z.hO(P,0,8);z.hO(P,4,16);var T=j0.HY(P,K,8);e.nw.r1050=P.data.slice(0,T+8);var P=new fL;z.hO(P,0,16);
var T=j0.HY(P,e.RA,4);e.nw.r1065=P.data.slice(0,T+4);var I=e.g;y=e.nw.r1069=j.Q(2+I.length*4,!0);z.qk(y,0,I.length);
for(var c=0;c<I.length;c++)z.g_(y,2+4*c,e.B[I[c]].add.lyid);delete e.nw.r1058;delete e.nw.r1060;if(Object.keys(e.gj).length!=0){var o=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
fs.Tq(e.gj,o[0],a[0]&&a[1]);e.nw.r1058=new Uint8Array(UTIF.encode(o));var l=fs.amG(e.gj);e.nw.r1060=z.Fp(l)}var O=[],g=[],W=e.GI.slice(0);
if(e.o7){var d=bF.Uu([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),gT=new u.eP;
gT.i=d;W.push(ar.OX("Tile Symmetry 1",{vmsk:gT,vogk:u.c0(d)}))}for(var c=0;c<W.length;c++){var r=W[c],d=r.add.vmsk.i;
if(c==0&&d.length==2)continue;var G=j.Q(d.length*26);bF.j0(G,0,d,e.m,e.n);var Y=c==0?1025:2e3+c-1;e.nw["r"+Y]=G;
if(c!=0){var fk={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:r.name}};if(r.name=="Tile Symmetry 1")fk.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
O.push({t:"Objc",v:fk});g.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:r.add.vogk}}})}}if(O.length!=0){e.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:O}};
if(e.o7)e.add.pths.pathSymmetrySelectedPath={t:"long",v:O.length-1};g={classID:"null",keyRootDescriptorList:{t:"VlLs",v:g}};
var P=new fL;z.hO(P,0,16);var T=j0.HY(P,g,4);e.nw.r3000=P.data.slice(0,T+4)}else{delete e.add.pths;delete e.nw.r3000}if(e.Yl){}if(e.lw.length!=0){var eJ="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var c=0;c<e.lw.length;c++){var eS=e.lw[c],gL=[];for(var Y in eS)gL.push(Y+"=\""+eS[Y]+"\"");eJ+="<variable "+gL.join(" ")+">\n</variable>\n"}eJ+="</variables>\n</variableSet>\n</variableSets>";
e.nw.r7000=z.Fp(eJ)}if(e.$d.length!=0){var eJ="<sampleDataSets psdPath=\""+e.name+"\">\n";for(var c=1;
c<e.$d.length;c++){var cX=e.$d[c];eJ+="<sampleDataSet dataSetName=\"Data Set "+c+"\">\n";for(var kj=0;
kj<cX.length;kj++)eJ+="<"+e.$d[0][kj]+">"+cX[kj].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+e.$d[0][kj]+">\n";
eJ+="</sampleDataSet>\n"}eJ+="</sampleDataSets>";e.nw.r7001=z.Fp(eJ)}gq=aK.a4G(e,A,gq,3+h.length);gq=aK.amw(e,A,gq);
gq=aK.a41(e,A,gq);gq=aK.ah3(e,A,gq,a,R);gq=aK.awz(e,A,gq,a[0],R);var iL=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var c=0;c<iL.length;c++)delete e.nw["r"+iL[c]];for(var c=0;c<e.B.length;c++){var i=e.B[c];if(i.c7()||a[2]&&i.add.SoLd){i.rect=N[c][0];
i.buffer=N[c][1];if(N[c][2]){var n=i.MH(e);N[c].push(n.buffer);n.buffer=N[c][2]}}}e.auB(F);q.DO.g5(e,!0);
delete e.l0;return gq};aK.ty=function(e,A,a){var p=z.wc(A,a,4);a+=4;if(p!="8BPS")alert("invalid header signature: "+p);
var N=z.ex(A,a);a+=2;e.l0=N==2;if(N!=1&&N!=2)alert("invalid version: "+N);a+=6;e.jF=z.ex(A,a);a+=2;e.n=z.$m(A,a);
a+=4;e.m=z.$m(A,a);a+=4;e.Nx=z.ex(A,a);a+=2;e.ag=z.ex(A,a);a+=2;return a};aK.a4G=function(e,A,a,p){A.yG(0,64);
z.O2(A.data,a,"8BPS");a+=4;z.qk(A.data,a,e.l0?2:1);a+=2;z.g_(A.data,a,0);a+=4;z.qk(A.data,a,0);a+=2;
z.qk(A.data,a,p);a+=2;z.xE(A.data,a,e.n);a+=4;z.xE(A.data,a,e.m);a+=4;z.qk(A.data,a,8);a+=2;z.qk(A.data,a,3);
a+=2;return a};aK.aiQ=function(e,A,a){var p=z.$m(A,a);a+=4;if(p!=0)e.SY=A.slice(a,a+p);a+=p;return a};
aK.amw=function(e,A,a){z.DM(A,a,0);a+=4;return a};aK.a96=function(e,A,a){var p=z.q(A,a),N=0;a+=4;var i=[];
while(N<p){var Z=z.wc(A,a+N,4);N+=4;var s=z.ex(A,a+N);N+=2;var D=z.JB(A,a+N);N+=D.length;if(Z=="MeSa"&&(s==7e3||s==7001)){}else if(Z!="8BIM"){i.push(s);
console.log("Unknown Image Resources signature: "+Z+", ID: "+s)}var n=z.q(A,a+N);N+=4;if(e.nw["r"+s]!=null)console.log("--- two resources with same ID");
e.nw["r"+s]=z.AB(A,a+N,n);N+=n+(n&1)}for(var c=0;c<i.length;c++)delete e.nw["r"+i[c]];return a+p};aK.a41=function(e,A,a){var p=a,Z=0;
a+=4;var N=[];for(var i in e.nw){N.push(parseInt(i.slice(1)))}N.sort(function(F,$){return F-$});for(var c=0;
c<N.length;c++){var s=N[c];z.qs(A,a+Z,s==7e3||s==7001?"MeSa":"8BIM");Z+=4;z.tx(A,a+Z,s);Z+=2;var D=z.ii(A,a+Z,"");
Z+=D;var n=e.nw["r"+s],S=n.length;z.hO(A,a+Z,S);Z+=4;z.hf(A,a+Z,n);Z+=S;if(S%2==1)Z++}z.hO(A,p,Z);return a+Z};
aK.aqv=function(e,A,a){var p=a,N,i,Z=e.l0?8:4;if(e.l0)N=z.sg(A,a);else N=z.q(A,a);a+=Z;if(N==0)return p+Z;
i=aK.aj9(e,A,a);aK.w6(1,i-a,"Layer Info");a=i;i=aK.ag9(e,A,a);aK.w6(1,i-a,"Global Layer Mask Info");
a=i;i=cu.Ja(A,a,p+Z+N,e.add,e.l0,e);aK.w6(1,i-a,"Project Add Info");a=i;return p+Z+N};aK.ah3=function(e,A,a,p,N){var i=a;
z.hO(A,a,0);a+=4;if(e.l0){z.hO(A,a,0);a+=4}a=aK.aci(e,A,a,p,N);a=aK.a7p(e,A,a);a=cu.eA(A,a,e.add,e.l0,e);
if(e.l0)z.b$(A,i,a-i-8);else z.hO(A,i,a-i-4);return a};aK.aj9=function(e,A,a){var p,N=e.l0?8:4;if(e.l0)p=z.sg(A,a);
else p=z.q(A,a);a+=N;if(p!=0)aK.NU(e,A,a);return a+p};aK.NU=function(e,A,a){var p=z.aq(A,a);a+=2;var N=Math.abs(p);
for(var c=0;c<N;c++){var i=new u;a=gU.__(i,e,A,a);e.B[c]=i}var Z=new dE(0,0,e.m,e.n);for(var c=0;c<N;
c++){var s=e.B[c],D=s.tR(),n=eO.__(s,e,A,a);if(n-a>8)aK.w6(2,n-a,"Lay: "+s.getName());a=n;aK.aw2(s,Z);
if(D)aK.aw2(D,Z)}};aK.aw2=function(e,A){};aK.aci=function(e,A,a,p,N){var i=a,Z=e.l0;a+=Z?8:4;a=aK.a1h(e,A,a,p,N);
var s=a-i-(Z?8:4);if(s%2!=0)s++;if(Z)z.b$(A,i,s);else z.hO(A,i,s);return i+s+(Z?8:4)};aK.a1h=function(e,A,a,p,N){var i=e.B.length;
z.vy(A,a,N?-i:i);a+=2;var Z=[];for(var c=0;c<i;c++)a=gU.Yq(e.B[c],e,A,a,Z);for(var c=0;c<i;c++)a=eO.kz(e.l0,e.B[c],A,a,Z[c],p);
return a};aK.ag9=function(e,A,a){var p=z.q(A,a);a+=4;a+=p;return a};aK.a7p=function(e,A,a){var p=z.hO(A,a,0);
a+=4;return a};aK.ani=function(e,A,a){var p=e.ag,N="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),i=[1,1,1,3,4,1,1,3],Z,w;
if(p!=3){if(p==1||p==2||p==4)console.log("Project will be converted from "+N[p]+" to "+N[3]+" mode.");
else{alert("Color mode "+N[p]+" is not supported yet :(")}if(p==4)e.add.fcmy=1}if(e.nw.r1045){Z=[];var s=e.nw.r1045,D=0;
while(D<s.length){var n=z.aJ(s,D);Z.push(n);D+=4+2+n.length*2}}var S=i[p]+(Z==null||Z[0]=="Transparency"?1:0),F=e.m,$=e.n,m=F*$,J=z.ex(A,a);
a+=2;e.buffer=j.Q(m*4);j.fV(e.buffer,4278190080);var f=a;for(var b=0;b<e.jF;b++){if(J==0){w=eO.O0(e.l0,e.Nx,A,F,$,a,J);
a+=m*(e.Nx>>>3)}else if(J==1){w=j.Q(m);var L=e.l0?4:2;if(b==0)a+=e.jF*$*L;a+=eO.Zb(A,w,F,$,f+b*$*L,a,L)}else{console.log("unknown compression of image data: ",J);
return}if(b<S){j.Ao(w,e.buffer,b);if(e.jF==1&&b==0){j.Ao(w,e.buffer,1);j.Ao(w,e.buffer,2)}}else{var C=new u.j_,M=b-S,y=b-i[e.ag];
C.name=Z?Z[y]:"Alpha";if(C.name=="Quick Mask"){C.MC=!0;e.RN.push(M)}C.rect=new dE(0,0,F,$);C.channel=w;
C.color=0;C.Yk();e.l8[M]=C;if(e.nw.r1077){var s=e.nw.r1077.slice(4+y*13);C.Dv=aV.IJ(s,0);C.C4=s[11];
C.lT=s[12];if(C.lT==2)C.MC=!0}}}e.jF=4;if(e.ag==2)for(var c=0;c<m;c++){var Q=c*4,k=e.buffer[Q];e.buffer[Q]=e.SY[0+k];
e.buffer[Q+1]=e.SY[256+k];e.buffer[Q+2]=e.SY[512+k]}return a};aK.awz=function(e,A,a,p,N){var i=1,Z=16,s=e.m,D=e.n,S,F;
z.tx(A,a,i);a+=2;var n=s*D;if(!p){F=new j.js(s*D);j.Y_(e.buffer,F);var $=F.o,m=F.J,J=F.k,w=F.gg;for(var c=0;
c<n;c++){var f=w[c]*(1/255);$[c]=~~($[c]*f+255*(1-f));m[c]=~~(m[c]*f+255*(1-f));J[c]=~~(J[c]*f+255*(1-f))}}else S=j.Q(n);
var b=[S,S,S];if(!p)b=[F.o,F.J,F.k];if(N)b.push(p?S:F.gg);for(var c=0;c<e.l8.length;c++){b.push(e.l8[c].wx(new dE(0,0,e.m,e.n)))}var L=a;
for(var C=0;C<b.length;C++){A.yG(a,s*D+4);S=b[C];if(i==0||i==2||i==3)a=eO.Md(e.l0,S,A.data,s,D,a,i);
else{var M=e.l0?4:2;if(C==0)a+=b.length*D*M;var y=a;a+=eO.bL(S,A.data,s,D,L+C*D*M,a,M)}}return a};function bm(){}bm.__=function(e){var A={};
bm.N2(e,A,0,0);return A};bm.Yq=function(e,A){var a=0;a=bm.LN(e,A,a,0);return a};bm.N2=function(e,A,a,p){while(e[a]!="<".charCodeAt(0))a++;
a+=2;while(!0){if(e[a]=="/".charCodeAt(0)){a++;var N=z.indexOf(e," ".charCodeAt(0),a,a+50),i=z.indexOf(e,"\n".charCodeAt(0),a,a+50);
if(i==-1)i=Infinity;if(N==-1)N=Infinity;var Z=Math.min(i,N),s=z.wc(e,a,Z-a),D=bm.Ny(e,Z+1,p+1,s);A[s]=D.Z;
a=Z+1;a+=D.size}else if(e[a]==">".charCodeAt(0)){a+=2;break}else{var n=e[a];if(n==10||n==9||n==32)a++;
else{console.log("unknown byte: "+n+", char: "+String.fromCharCode(n),a);a++}}}return a};bm.LN=function(e,A,a,p){z.qs(A,a,"<<\n");
a+=3;var N=bm.am0;for(var i in e){z.mp(A,a,"\t".charCodeAt(0),p+1);a+=p+1;z.qs(A,a,"/"+i);a+=1+i.length;
if(N(e[i])||e[i]instanceof Array){z.qs(A,a," ");a++}else{z.qs(A,a,"\n");a++;z.mp(A,a,"\t".charCodeAt(0),p+1);
a+=p+1}a=bm.fF(e[i],A,a,p+1);z.qs(A,a,"\n");a++}z.mp(A,a,"\t".charCodeAt(0),p);a+=p;z.qs(A,a,">>");a+=2;
return a};bm.Ny=function(e,A,a,p){var N=A,i={size:0,Z:0};while(!0){while(e[A]==" ".charCodeAt(0)||e[A]=="\t".charCodeAt(0)||e[A]=="\n".charCodeAt(0))A++;
if(e[A]=="<".charCodeAt(0)){i.Z={};A=bm.N2(e,i.Z,A,a+1);break}else if(e[A]=="(".charCodeAt(0)){A+=3;
var Z=A;while(!0){if(e[Z-1]!="\\".charCodeAt(0)&&e[Z]==")".charCodeAt(0)&&(e[Z+1]=="\n".charCodeAt(0)||e[Z+1]==" ".charCodeAt(0)))break;
else Z++}i.Z=z.amJ(e,A,Z);A=Z+2;break}else if(e[A]=="[".charCodeAt(0)){A++;i.Z=[];while(e[A]==" ".charCodeAt(0)||e[A]=="\t".charCodeAt(0)||e[A]=="\n".charCodeAt(0))A++;
while(e[A]!="]".charCodeAt(0)){var s=bm.Ny(e,A,a+1,p);i.Z.push(s.Z);A+=s.size;while(e[A]==" ".charCodeAt(0)||e[A]=="\t".charCodeAt(0)||e[A]=="\n".charCodeAt(0))A++}A++;
break}else{var D=z.indexOf(e," ".charCodeAt(0),A,A+50),n=z.indexOf(e,"\n".charCodeAt(0),A,A+50);if(n==-1)n=Infinity;
if(D==-1)D=Infinity;var S=z.wc(e,A,Math.min(D,n)-A).trim(),F=parseFloat(S);if(!isNaN(F)){i.Z=parseFloat(S);
A=Math.min(D,n)+1;break}else if(S=="true"||S=="false"){i.Z=S=="true";A=Math.min(D,n)+1;break}else if(S=="null"||S=="NaN"||S=="undefined"){i.Z=0;
A=Math.min(D,n)+1;break}else{console.log("unknown identifier: "+S);throw"e"}A=Math.min(D,n)+1}}i.size=A-N;
return i};bm.fF=function(e,A,a,p){if(e instanceof Array){var N=e.length==0||typeof e[0]=="number";if(N){z.qs(A,a,"[ ");
a+=2;for(var c=0;c<e.length;c++){var i=e[c]+" ";z.qs(A,a,i);a+=i.length}z.qs(A,a,"]");a+=1}else{z.qs(A,a,"[\n");
a+=2;for(var c=0;c<e.length;c++){z.mp(A,a,"\t".charCodeAt(0),p);a+=p;a=bm.fF(e[c],A,a,p);z.qs(A,a,"\n");
a++}z.mp(A,a,"\t".charCodeAt(0),p);a+=p;z.qs(A,a,"]");a+=1}}else if(e instanceof Object){a=bm.LN(e,A,a,p)}else if(typeof e=="string"){z.qs(A,a,"(");
a++;z.mp(A,a,254);a++;z.mp(A,a,255);a++;a=z.a8_(A,a,e);z.qs(A,a,")");a+=1}else{var i=e+"";z.qs(A,a,i);
a+=i.length}return a};bm.am0=function(e){var A=typeof e;return A=="string"||A=="number"||A=="boolean"};
function g6(){}g6.__=function(e){var A={};g6.auj(e,A,0,0);return A};g6.Yq=function(e,A){var a=0;z.qs(A,a," ");
a++;a=g6.aou(e,A,a,0);a--;A.yG(a,2);A.data[a]=A.data[a+1]=0;a+=2;return a};g6.N2=function(e,A,a,p){while(e[a]!="<".charCodeAt(0)){a++;
console.log("\u0161ipka")}a+=2;a=g6.auj(e,A,a,p);return a};g6.LN=function(e,A,a,p){z.qs(A,a,"<< ");a+=3;
a=g6.aou(e,A,a,p);z.qs(A,a,">>");a+=2;return a};g6.iX=function(e){return e==9||e==10||e==32};g6.auj=function(e,A,a,p){while(!0){while(g6.iX(e[a])||e[a]==0)a++;
if(a>=e.length)break;if(e[a]=="/".charCodeAt(0)){a++;var N=a;while(!g6.iX(e[N]))N++;var i=z.wc(e,a,N-a);
a=N+1;var Z=g6.Ny(e,a,p,i);A["_"+i]=Z.Z;a+=Z.size}else if(e[a]==">".charCodeAt(0)){a+=2;break}else{var s=e[a];
console.log(z.wc(e,a,a+100));console.log("unknown byte: "+s+", char: "+String.fromCharCode(s)+", offset: "+a);
a++;throw"e";return-1}}return a};g6.aou=function(e,A,a,p){for(var N in e){var i=N.substring(1,N.length);
z.qs(A,a,"/"+i);a+=1+i.length;z.qs(A,a," ");a++;a=g6.fF(e[N],A,a,p+1);z.qs(A,a," ");a++}return a};g6.Ny=function(e,A,a,p){var N=A,i={type:"",size:0,Z:0};
while(g6.iX(e[A]))A++;if(e[A]=="<".charCodeAt(0)){i.type="Object";i.Z={};A=g6.N2(e,i.Z,A,a+1)}else if(e[A]=="(".charCodeAt(0)){i.type="String";
A++;if(e[A]==")".charCodeAt(0)){i.Z="e";A++}else{A+=2;var Z=A,s=0;while(!0){if(e[Z]==")".charCodeAt(0)&&e[Z-1]!="\\".charCodeAt(0))break;
else Z+=1}i.Z="s"+z.amJ(e,A,Z);A=Z+2}}else if(e[A]=="[".charCodeAt(0)){A++;i.Z=[];i.type="Array";while(g6.iX(e[A]))A++;
while(e[A]!="]".charCodeAt(0)){var D=g6.Ny(e,A,a+1,p);if(D==-1)return-1;i.Z.push(D.Z);A+=D.size;delete D.size;
while(g6.iX(e[A]))A++}A++}else{var n=A;while(!g6.iX(e[n]))n++;var S=z.wc(e,A,n-A),F=parseFloat(S);if(!isNaN(F)&&S.indexOf(".")!=-1){i.type="Float";
var $=parseFloat(S);i.Z="f"+$}else if(!isNaN(F)&&S.indexOf(".")==-1){i.type="Integer";i.Z="i"+parseInt(S)}else if(S=="true"||S=="false"){i.type="Boolean";
i.Z=S=="true"}else if(S.charAt(0)=="/"){i.type="BString";i.Z=S}else if(S=="NaN"||S=="undefined"){i.type="Float";
i.Z="f0"}else{console.log("unknown value",JSON.stringify(S));throw"e"}A=n+1}i.size=A-N;return i};g6.a8x=function(e){if(e==Math.round(e))return e+".0";
var A=e.toFixed(5);while(A.endsWith("0")&&A[A.length-2]!=".")A=A.slice(0,A.length-1);if(0<e&&e<1)A=A.slice(1);
if(-1<e&&e<0)A="-"+A.slice(2);return A};g6.fF=function(e,A,a,p){var N=typeof e=="string"?e.charAt(0):"";
if(e instanceof Array){z.qs(A,a,"[ ");a+=2;for(var c=0;c<e.length;c++){a=g6.fF(e[c],A,a,p);z.qs(A,a," ");
a++}z.qs(A,a,"]");a+=1}else if(e instanceof Object){a=g6.LN(e,A,a,p)}else if(N=="e"){z.qs(A,a,"()");
a+=2}else if(N=="s"){z.qs(A,a,"(");a++;z.mp(A,a,254);a++;z.mp(A,a,255);a++;a=z.a8_(A,a,e.substring(1));
z.qs(A,a,")");a++}else if(N=="/"){z.qs(A,a,e);a+=e.length}else if(N=="f"){var i=parseFloat(e.substring(1)),Z=g6.a8x(i);
z.qs(A,a,Z);a+=Z.length}else if(N=="i"){z.qs(A,a,e.substring(1));a+=e.length-1}else{var Z=e+"";z.qs(A,a,Z);
a+=Z.length}return a};function z(){}z.ajC=function(iM){var e="";for(var c=3;c>=0;c--)e+=String.fromCharCode(iM>>c*8&255);
return e};z.aw1=function(e){var iM=0;for(var c=e.length-1;c>=0;c--)iM|=e.charCodeAt(c)<<(3-c)*8;return iM};
z.indexOf=function(e,A,a,p){if(a==null)a=0;if(p==null)p=e.length;p=Math.min(p,e.length);for(var c=a;
c<p;c++)if(e[c]==A)return c;return-1};z.vP=function(e,A,a){if(a==null)a=0;var p=A.length,N=e.length-p;
if(typeof A=="string"){var i=[];for(var c=0;c<p;c++)i.push(A.charCodeAt(c));A=i}if(A.length>0){var Z=A[0];
for(var c=a;c<N;c++)if(e[c]==Z){var s=!0;for(var D=1;D<p;D++)if(A[D]!=e[c+D]){s=!1;break}if(s)return c}}return-1};
z.amJ=function(e,A,a){var p=[],i="";while(A<a){var N=e[A++];if(N=="\\".charCodeAt(0))p.push(e[A++]);
else p.push(N)}for(var c=0;c<p.length;c+=2)i+=String.fromCharCode(p[c]<<8|p[c+1]);return i};z.aka=function(e,A,a){var p=new Uint8Array(2);
for(var c=0;c<a.length;c++){z.qk(p,0,a.charCodeAt(c));if(p[0]==")".charCodeAt(0)||p[0]=="(".charCodeAt(0)||p[0]=="\\".charCodeAt(0)){e[A]="\\".charCodeAt(0);
A++}e[A]=p[0];A++;if(p[1]==")".charCodeAt(0)||p[1]=="(".charCodeAt(0)||p[1]=="\\".charCodeAt(0)){e[A]="\\".charCodeAt(0);
A++}e[A]=p[1];A++}return A};z.a8_=function(e,A,a){e.yG(A,4*a.length);return z.aka(e.data,A,a)};z.xy=function(e,A,a){var p="";
for(var c=0;c<a;c++){var N=e[A++]|e[A++]<<8;p+=String.fromCharCode(N)}return p};z.hv=function(e,A,a){var p="";
for(var c=0;c<a;c++){var N=e[A++]<<8|e[A++];p+=String.fromCharCode(N)}return p};z.ab_=function(e,A,a){for(var c=0;
c<a.length;c++){var p=a.charCodeAt(c);z.s8(e,A+2*c,p)}};z.amH=function(e,A,a){for(var c=0;c<a.length;
c++){var p=a.charCodeAt(c);z.qk(e,A+2*c,p)}};z.akP=function(e,A,a){e.yG(A,2*a.length);z.amH(e.data,A,a)};
z.a1Q=function(e,c,A){var a=[],p=0,N=0;A+=c;while(c<A){p=e[c++];if((p&128)==0)N=p;else if((p&224)==192){N=(p&31)<<6;
p=e[c++];N|=p&63}else if((p&240)==224){N=(p&15)<<12;p=e[c++];N|=(p&63)<<6;p=e[c++];N|=p&63}else if((p&248)==240){N=(p&7)<<18;
p=e[c++];N|=(p&63)<<12;p=e[c++];N|=(p&63)<<6;p=e[c++];N|=p&63}else throw"e";a.push(N)}return a};z.an8=window.TextDecoder?new window.TextDecoder("utf8"):null;
z.lB=function(e,A,a){if(A==null)A=0;if(a==null)a=e.length;if(z.an8&&A==0&&a==e.length)return z.an8.decode(e);
var p=z.a1Q(e,A,a),N=p.length;for(var c=0;c<N;c++)p[c]=String.fromCharCode(p[c]);return p.join("")};
z.awb=window.TextEncoder?new window.TextEncoder("utf8"):null;z.Fp=function(e){if(z.awb)return z.awb.encode(e);
var A=new Uint8Array(e.length*4),a=z.dR(e,A,0);return A.slice(0,a)};z.dR=function(e,A,a){var p=e.length,c=0;
for(var N=0;N<p;N++){var i=e.charCodeAt(N);if((i&4294967295-(1<<7)+1)==0){A[a+c]=i;c++}else if((i&4294967295-(1<<11)+1)==0){A[a+c]=192|i>>6;
A[a+c+1]=128|i>>0&63;c+=2}else if((i&4294967295-(1<<16)+1)==0){A[a+c]=224|i>>12;A[a+c+1]=128|i>>6&63;
A[a+c+2]=128|i>>0&63;c+=3}else if((i&4294967295-(1<<21)+1)==0){A[a+c]=240|i>>18;A[a+c+1]=128|i>>12&63;
A[a+c+2]=128|i>>6&63;A[a+c+3]=128|i>>0&63;c+=4}else throw"e"}return c};z.m9=function(e,A){var a=z.q(e,A),p=z.lB(e,A+4,a-1);
return{PV:p,T3:4+a}};z.ahN=function(e,A){var a=z.Jv(e,A),p=z.xy(e,A+4,a);return p};z.WN=function(e,A){var a=z.q(e,A),p=z.hv(e,A+4,a);
return p};z.aJ=function(e,A){var a=z.q(e,A),p=z.hv(e,A+4,a-1);return p};z.anJ=function(e,A,a){z.lJ(e,A,a.length);
A+=4;z.ab_(e,A,a)};z.a2m=function(e,A,a){z.g_(e,A,a.length);A+=4;z.amH(e,A,a)};z.ci=function(e,A,a){e.yG(A,4+2*a.length);
z.a2m(e.data,A,a)};z.ahX=function(e,A,a){e.yG(A,4+2*a.length);z.anJ(e.data,A,a)};z.qS=function(e,A,a){var p=[];
for(var c=0;c<a;c++)p.push(String.fromCharCode(e[A+c]));return p};z.a5t=function(e,A,a){var p=!1,N=e.length-a.length;
for(var c=A;c<N;c++){for(var i=0;i<a.length;i++){if(e[c+i]!=a.charCodeAt(i))break;if(i==a.length-1)return c}}};
z.wc=function(e,A,a){var p="";for(var c=0;c<a;c++)p+=String.fromCharCode(e[A+c]);return p};z.O2=function(e,A,a){for(var c=0;
c<a.length;c++)e[A+c]=a.charCodeAt(c)};z.qs=function(e,A,a){e.yG(A,a.length);z.O2(e.data,A,a)};z.a3p=function(e,A,a){var p="";
for(var c=0;c<a;c++){var N=e[A+c];if(N<10)p+="  ";else if(N<100)p+=" ";p+=N+", "}return p};z.ex=function(e,A){return e[A]<<8|e[A+1]};
z.qk=function(e,A,iM){e[A]=iM>>8&255;e[A+1]=iM&255};z.tx=function(e,A,iM){e.yG(A,4);z.qk(e.data,A,iM)};
z.adf=function(e,A){var a=z.ex(e,A),p=z.ex(e,A+2);return a+p*(1/65536)};z.acM=function(e,A,iM){var a=Math.floor(iM),p=Math.floor((iM-a)*65536);
z.qk(e,A,a);z.qk(e,A+2,p)};z.dn=function(e,A){return e[A+1]<<8|e[A]};z.s8=function(e,A,iM){e[A+1]=iM>>8&255;
e[A]=iM&255};z.Gb=function(e,A,iM){e.yG(A,4);z.s8(e.data,A,iM)};z.aq=function(e,A){z.WV[0]=e[A+1];z.WV[1]=e[A];
return z.nr[0]};z.bf=function(e,A){z.WV[0]=e[A];z.WV[1]=e[A+1];return z.nr[0]};z.sm=z.qk;z.vy=z.tx;z.$m=function(e,A){z.pb[0]=e[A+3];
z.pb[1]=e[A+2];z.pb[2]=e[A+1];z.pb[3]=e[A];return z.MW[0]};z.xE=function(e,A,iM){z.MW[0]=iM;e[A+3]=z.pb[0];
e[A+2]=z.pb[1];e[A+1]=z.pb[2];e[A+0]=z.pb[3]};z.DM=function(e,A,iM){e.yG(A,4);z.xE(e.data,A,iM)};z.y3=function(e,A,a,p){a[p+0]=e[A+0];
a[p+1]=e[A+1];a[p+2]=e[A+2];a[p+3]=e[A+3]};z.Jv=function(e,A){z.y3(e,A,z.pb,0);return z.a7q[0]};z.lJ=function(e,A,iM){z.a7q[0]=iM;
z.y3(z.pb,0,e,A)};z.kP=function(e,A,iM){e.yG(A,4);z.lJ(e.data,A,iM)};z.v2=function(e,A){z.y3(e,A,z.pb,0);
return z.MW[0]};z.aiu=function(e,A,iM){z.MW[0]=iM;z.y3(z.pb,0,e,A)};z.amg=function(e,A,iM){e.yG(A,4);
z.aiu(e.data,A,iM)};z.q=function(e,A){var a=e[A]*(256*256*256)+(e[A+1]<<16|e[A+2]<<8|e[A+3]);return a};
z.g_=function(e,A,iM){e[A]=iM>>24&255;e[A+1]=iM>>16&255;e[A+2]=iM>>8&255;e[A+3]=iM>>0&255};z.hO=function(e,A,iM){e.yG(A,4);
z.g_(e.data,A,iM)};z.sg=function(e,A){return z.q(e,A)<<32|z.q(e,A+4)};z.aqK=function(e,A,iM){z.g_(e,A,iM>>16>>16);
z.g_(e,A+4,iM&4294967295)};z.b$=function(e,A,iM){e.yG(A,8);z.aqK(e.data,A,iM)};z.VD=function(e,A){var a=new Uint8Array(8);
for(var c=0;c<8;c++)a[c]=e[A+7-c];var p=new Float64Array(a.buffer);return p[0]};z.q$=function(e,A){var a=new Uint8Array(8);
for(var c=0;c<8;c++)a[c]=e[A+c];var p=new Float64Array(a.buffer);return p[0]};z.ob=function(e,A,iM){var a=new Float64Array(1);
a[0]=iM;var p=new Uint8Array(a.buffer);for(var c=0;c<4;c++){var N=p[c];p[c]=p[7-c];p[7-c]=N}for(var c=0;
c<8;c++)e[A+c]=p[c]};z.kn=function(e,A,iM){e.yG(A,8);z.ob(e.data,A,iM)};z.i3=function(e,A){z.pb[0]=e[A+3];
z.pb[1]=e[A+2];z.pb[2]=e[A+1];z.pb[3]=e[A+0];return z.ZC[0]};z.Q4=function(e,A){z.pb[0]=e[A+0];z.pb[1]=e[A+1];
z.pb[2]=e[A+2];z.pb[3]=e[A+3];return z.ZC[0]};z.Kg=function(e,A,iM){z.ZC[0]=iM;e[A+0]=z.pb[3];e[A+1]=z.pb[2];
e[A+2]=z.pb[1];e[A+3]=z.pb[0]};z.a9L=function(e,A,iM){e.yG(A,4);z.Kg(e.data,A,iM)};z.Fq=function(e,A,iM){z.ZC[0]=iM;
e[A+0]=z.pb[0];e[A+1]=z.pb[1];e[A+2]=z.pb[2];e[A+3]=z.pb[3]};z.azv=function(e,A,iM){e.yG(A,4);z.Fq(e.data,A,iM)};
z.al1=function(e,A){var a=z.$m(e,A),p=a*(1/(1<<24));return p};z.a1$=function(e,A,a){var p=Math.floor(a*(1<<24));
z.xE(e,A,p)};z.amV=function(e,A,a){e.yG(A,4);z.a1$(e.data,A,a)};z.JB=function(e,A){var a=e[A],p=z.wc(e,A+1,a);
a+=1-a%2;return{FG:p,length:a+1}};z.awu=function(e,A,a){var p=a.length;e[A]=p;z.O2(e,A+1,a);if(p%2==0){e[A+1+p]=0;
++p}return p+1};z.ii=function(e,A,a){e.yG(A,a.length+2);return z.awu(e.data,A,a)};z.Wy=function(e,A){var a=new bj;
a.gg=z.VD(e,A+0*8);a.k=z.VD(e,A+1*8);a.b9=z.VD(e,A+2*8);a.pU=z.VD(e,A+3*8);a.Co=z.VD(e,A+4*8);a.dW=z.VD(e,A+5*8);
return a};z.uw=function(e,A,a){z.ob(e,A+0*8,a.gg);z.ob(e,A+1*8,a.k);z.ob(e,A+2*8,a.b9);z.ob(e,A+3*8,a.pU);
z.ob(e,A+4*8,a.Co);z.ob(e,A+5*8,a.dW)};z.ab7=function(e,A,a){e.yG(A,48);z.uw(e.data,A,a)};z.a0Y=function(e,A){var a=z.i3(e,A),p=z.i3(e,A+4),N=z.i3(e,A+8),i=z.i3(e,A+12);
return new dE(a,p,N-a,i-p)};z.a7k=function(e,A,a){z.Kg(e,A,a.x);z.Kg(e,A+4,a.y);z.Kg(e,A+8,a.x+a.m);
z.Kg(e,A+12,a.y+a.n)};z.a8d=function(e,A,a){e.yG(A,16);z.a7k(e.data,A,a)};z.q6=function(e,A){var a=z.$m(e,A),p=z.$m(e,A+4),N=z.$m(e,A+8),i=z.$m(e,A+12);
return new dE(p,a,i-p,N-a)};z.a0F=function(e,A,a){z.xE(e,A,a.y);z.xE(e,A+4,a.x);z.xE(e,A+8,a.y+a.n);
z.xE(e,A+12,a.x+a.m)};z.Pn=function(e,A,a){e.yG(A,16);z.a0F(e.data,A,a)};z.AB=function(e,A,a){var p=new Uint8Array(a);
for(var c=0;c<a;c++)p[c]=e[A+c];return p};z.ahn=function(e,A,a){e.set(a,A)};z.hf=function(e,A,a){e.yG(A,a.length);
z.ahn(e.data,A,a)};z.a7z=function(e,A,a,iM){if(!iM)iM=1;for(var c=0;c<iM;c++)e[A+c]=a};z.mp=function(e,A,a,iM){if(!iM)iM=1;
e.yG(A,iM);z.a7z(e.data,A,a,iM)};z.nr=new Int16Array(1);z.WV=new Uint8Array(z.nr.buffer);z.MW=new Int32Array(1);
z.a7q=new Uint32Array(z.MW.buffer);z.pb=new Uint8Array(z.MW.buffer);z.ZC=new Float32Array(z.MW.buffer);
function f_(){}f_.__=function(e,A){var a=new Uint8Array(e),p=0,N=z.wc(a,p,9),s=4,D=100;p+=9;var i=z.wc(a,p,4);
p+=4;p++;A.m=z.q(a,p);p+=4;A.n=z.q(a,p);p+=4;var Z=z.q(a,p);p+=4;if(Z!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(i)==-1){D=z.q(a,p);p+=4;if(parseInt(i.slice(1))>=7){D=D}else alert("Unknown XCF version: "+i);
s=8}var n={};p=f_.V$(a,p,n);var S=[];p=f_.$V(a,p,S,s);var F=[];p=f_.$V(a,p,F,s);A.cc=0;for(var c=0;c<S.length;
c++)f_.ahV(a,S[c],A,n,s,D);while(A.cc>0){A.B.push(A.pz());A.cc--}A.B.reverse();delete A.cc;A.buffer=j.Q(A.m*A.n*4);
if(A.B.length==0)console.log("No layers!!!");for(var c=0;c<F.length;c++){var $=f_.ajV(a,F[c],n,s,D);
if($.NI[d_.ar5])A.P={channel:$.ZM,rect:new dE(0,0,A.m,A.n)}}};f_.ahV=function(e,A,a,p,N,i){var Z=a.Uo(),s=z.q(e,A),F=0;
A+=4;var D=z.q(e,A);A+=4;Z.rect=new dE(0,0,s,D);var n=z.q(e,A);A+=4;var S=z.m9(e,A);A+=S.T3;Z.i4(S.PV);
var $={};A=f_.V$(e,A,$);if($[d_.a2g]){var m=$[d_.a2g];F=m.length/4-1}if($[d_.eT]){Z.rect.x=z.$m($[d_.eT],0);
Z.rect.y=z.$m($[d_.eT],4)}if($[d_.asM]){Z.opacity=z.q($[d_.asM],0)}if($[d_.asp]){Z.add.lsct=ez.MV;Z.OO=24}if($[d_.a3C]){var J=z.q($[d_.a3C],0);
Z.Mi=d_.atb[J];if(Z.yg()&&Z.Mi=="norm")Z.Mi="pass"}if($[d_.amF]){if(z.q($[d_.amF],0)==0)Z.OO+=2}if($[d_.alv]){var w=z.q($[d_.alv],0);
Z.add.lsct=w&1==1?ez.MV:ez.St}if($[d_.Hw]){var f=$[d_.Hw];for(var b in f){var L=f[b];if(b=="gimp-text-layer"){var C=f_.ac7(L),M=C.text,y=C.font,Q=C.color,k=C["font-size"];
if(M==null&&C.markup){var E=new DOMParser,_=E.parseFromString(C.markup,"image/svg+xml");while(_.firstChild!=null&&_.firstChild.tagName!=null){_=_.firstChild;
var v=_.getAttribute("font"),V=_.getAttribute("foreground"),R=_.getAttribute("size");if(v!=null)y=v;
if(V!=null){V=CSS.IJ(V);Q=[1,V.o/255,V.J/255,V.k/255]}if(R!=null){k=""+parseFloat(R)/245}}M=_.textContent}Z.add.lnsr="rend";
Z.add.TySh=eG.KP(0,0);Z.add.TySh.oc=new dE(0,0,100,100);Z.add.TySh.D=new bj(1,0,0,1,Z.rect.x,Z.rect.y);
var h=Z.add.TySh._t;eG.f7(h,0,M);var P=eG.p_(h,0,0),H=C.justify,U=C["line-spacing"];if(Q)P.JH.FillColor={Type:1,Values:[1,parseFloat(Q[1]),parseFloat(Q[2]),parseFloat(Q[3])]};
if(k){k=Math.round(parseFloat(k));P.JH.FontSize=k;Z.add.TySh.D.dW+=Math.min(17,k*.17)}if(U){U=Math.round(parseFloat(U)+P.JH.FontSize*1.2);
P.JH.Leading=U;P.JH.AutoLeading=!1}if(H)P.Vx.Justification=["left","right","center","fill"].indexOf(H);
if(y&&y!="Sans-serif"){var X=y.toLowerCase(),x="bold italic semi extra regular condensed light".split(" "),K=X.length;
for(var c=0;c<x.length;c++){var T=X.indexOf(x[c]);if(T!=-1&&T<K&&X[T-1]==" ")K=T}if(K!=X.length)y=y.slice(0,K-1).split(" ").join("")+"-"+y.slice(K).split(" ").join("");
eG.Kv(P,y)}eG.G4(h,0,M.length,P);var I=C["box-width"],o=C["box-height"],l=I?parseFloat(I):Z.rect.m,O=o?parseFloat(o):Z.rect.n;
eG.XX(h,1);eG.dw(h,[0,0,Math.ceil(l),Math.ceil(O)])}else console.log("Unknown property "+b)}}while(a.cc>F){a.B.push(a.pz());
a.cc--}a.cc=F;if(Z.add.lsct==ez.MV||Z.add.lsct==ez.St)a.cc++;var g=N==4?z.q:z.sg,W=g(e,A);A+=N;var d=g(e,A);
A+=N;if(Z.JD()){Z.buffer=j.Q(Z.rect.O()*4);var gT=new j.js(Z.rect.O());f_.a4E(e,W,gT,p,N,i);j.ia(gT,Z.buffer)}if(d!=0){Z.$=new u.j_;
var r=f_.ajV(e,d,p,N,i);Z.$.channel=r.ZM;Z.$.rect=Z.rect.clone();if($[d_.apc])Z.$.isEnabled=z.q($[d_.apc],0)==1;
Z.$.color=Z.$.channel[0];Z.$.Yk()}if(Z.yg())Z.rect=new dE;a.B.push(Z)};f_.ac7=function(e){var A="("+z.lB(e,0,e.length-1)+")",a=[],p={};
f_.amL(A,1,a);f_.axw(a,p);return p};f_.axw=function(e,A){for(var c=0;c<e.length;c++){var a=e[c],p=a[0];
if(a.length==2)A[p]=a[1];else A[p]=a.slice(1)}};f_.amL=function(e,A,a){while(!0){if(A>=e.length)throw"e";
var p=e.charAt(A);A++;if(p=="("){var N=[];A=f_.amL(e,A,N);a.push(N)}else if(p==" "||p=="\n"||p=="\r"){}else if(p==")")return A;
else if(p=="\""){var i=A;while(!0){var Z=e[A];A++;if(Z=="\"")break;if(Z=="\\")A++}a.push(JSON.parse(e.slice(i-1,A)))}else{var i=A-1;
while(e[A]!=" "&&e[A]!=")")A++;a.push(e.slice(i,A))}}};f_.ajV=function(e,A,a,p,N){var i=z.q(e,A);A+=4;
var Z=z.q(e,A);A+=4;var s=z.m9(e,A);A+=s.T3;var D={};A=f_.V$(e,A,D);var n=new j.js(i*Z),S=p==4?z.q:z.sg,F=S(e,A);
A+=p;f_.a4E(e,F,n,a,p,N);return{ZM:n.o,NI:D}};f_.a4E=function(e,A,a,p,N,i){var Z=z.q(e,A);A+=4;var s=z.q(e,A);
A+=4;var D=z.q(e,A);A+=4;var n=N==4?z.q:z.sg,S=n(e,A);A+=N;f_.ak0(e,S,a,p,D,N,i)};f_.ak0=function(e,A,a,p,N,i,Z){var s=z.q(e,A),S=0,c=0;
A+=4;var D=z.q(e,A);A+=4;var n=new dE(0,0,s,D);if(Z==100||Z==150)S=1;else if(Z==200||Z==250)S=2;else if(Z==300||Z==350)S=4;
else if(Z==500||Z==550)S=2;else if(Z==600||Z==650)S=4;else if(Z==700||Z==750)S=8;else{alert("unsupported bit depth "+Z);
throw"e"}var F=N/S,S=Math.round(N/F),$=[];A=f_.$V(e,A,$,i);var m=new j.js(64*64*S),J=new dE,w=p[d_.a5h][0],f=[m.o,m.J,m.k,m.gg];
if(F==3)m.gg.fill(255);var b=Date.now();if($.length!=0)for(var L=0;L<D;L+=64)for(var C=0;C<s;C+=64){var M=Math.min(s-C,64),y=Math.min(D-L,64),Q=M*y;
J.rq(C,L,M,y);f_.aut(e,$[c++],Q*S,w,F,f);if(Z==100||Z==150){}else if(Z==250){for(var k=0;k<F;k++){var E=f[k];
for(var _=0;_<Q;_++){var v=E[_]<<8|E[Q+_];E[_]=Math.min(v>>>8,255)}}}else if(Z==600){var V=f_.a7M(),R=new Uint32Array(1),h=new Float32Array(R.buffer);
for(var k=0;k<F;k++){var E=f[k];for(var _=0;_<Q;_++){R[0]=E[_]<<24|E[Q+_]<<16|E[(Q<<1)+_]<<8|E[(Q<<1)+Q+_]<<0;
var P=h[0];if(P<0)P=0;else if(P>1)P=1;E[_]=V[~~(.5+P*1e3)]}}}else console.log("unknown data format",Z);
j.ge(m,J,a,n)}};f_.a7M=function(){var e=f_.azd;if(e!=null)return e;e=f_.azd=new Uint8Array(1001);for(var c=0;
c<1001;c++)e[c]=~~(.49+255*j.Vq(c*.001));return e};f_.aut=function(e,A,a,p,N,i){if(p==1){for(var Z=0;
Z<N;Z++){var s=i[Z],D=0;while(D<a){var iM=e[A];A++;if(iM<127){var n=e[A];A++;iM++;for(var c=0;c<iM;c++)s[D+c]=n}else if(iM==127){var S=e[A];
A++;var F=e[A];A++;var n=e[A];A++;iM=S<<8|F;for(var c=0;c<iM;c++)s[D+c]=n}else if(iM==128){var S=e[A];
A++;var F=e[A];A++;iM=S<<8|F;for(var c=0;c<iM;c++)s[D+c]=e[A+c];A+=iM}else{iM=256-iM;for(var c=0;c<iM;
c++)s[D+c]=e[A+c];A+=iM}D+=iM}}}else if(p==2){var $=pako.inflate(e.slice(A)),m=Math.round($.length/a);
for(var c=0;c<a;c++){var J=c*m;i[0][c]=$[J];i[1][c]=$[J+1];i[2][c]=$[J+2];i[3][c]=m==3?255:$[J+3]}}else alert("Unknown compression "+p)};
f_.$V=function(e,A,a,p){var N=p==4?z.q:z.sg;while(!0){var i=N(e,A);A+=p;if(i==0)break;else a.push(i)}return A};
f_.V$=function(e,A,a){while(!0){var p=z.q(e,A);A+=4;var N=z.q(e,A);A+=4;if(p==d_.au3)break;else if(p==d_.Hw)a[p]=f_.aqj(e,A,A+N);
else a[p]=z.AB(e,A,N);A+=N}return A};f_.aqj=function(e,A,a){var p={};while(A<a){var N=z.m9(e,A);A+=N.T3;
var i=z.q(e,A);A+=4;if(i!=1)console.log("unknown flags",i);var Z=z.q(e,A);A+=4;p[N.PV]=z.AB(e,A,Z);A+=Z}return p};
var d_={au3:0,agv:1,ai2:2,ayc:3,ar5:4,asi:5,asM:6,a3C:7,amF:8,axh:9,ahd:10,apc:11,a92:12,a3b:13,ak4:14,eT:15,a7s:16,a5h:17,a1l:18,adg:19,afA:20,Hw:21,asb:22,a4_:23,apS:24,apJ:25,a9u:26,amo:27,akD:28,asp:29,a2g:30,alv:31,ayA:32,ahG:33,axF:34,awN:35,alS:36,aeu:37,a12:38,ack:0,a4F:1,aAd:2,alJ:3,aij:1,aaB:2,alV:0,awR:1,aeb:1};
d_.atb="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var f4=function(){var e=!1,A,a,b=0,M;function p(){var k=z.wc(A,a,4);a+=4;return k[3]+k[2]+k[1]+k[0]}function N(){var k=z.wc(A,a,4);
a+=4;return k}function i(){var k=A[a];a+=1;return k}function Z(){var k=z.dn(A,a);a+=2;return k}function s(){var k=z.Jv(A,a);
a+=4;return k}function D(){var k=z.v2(A,a);a+=4;return k}function n(){var k=z.Jv(A,a);a+=8;return k}function S(){var k=z.Q4(A,a);
a+=4;return k}function F(){var k=z.q$(A,a);a+=8;return k}function $(){var k=z.dn(A,a),E=z.lB(A,a+2,k);
a+=2+k;return E}function m(){var k=z.Jv(A,a),E=z.lB(A,a+4,k);a+=4+k;return E}function J(k){a=k;var E=[];
while(a!=0){var _=N();if(_!="#FT4"&&_!="#FT3"&&_!="#FT2")throw _;var v=n(),V=n(),R=n(),h=n(),P=n(),H=s(),U=s(),X=s(),x=Z(),K=i(),T={};
E.push(T);for(var c=0;c<H;c++){var I=s(),o=i();if(o!=0&&o!=1&&o!=2)throw o;var l=[];if(o==0||o==1){var O=n(),g=n(),W=n(),d=s(),gT=i(),r=s(),G=_!="#FT4"?0:s(),Y=null;
if(_=="#FAT"||_=="#FT2"){switch(gT){case 1:gT=1;break;case 2:gT=65;break;case 3:gT=129;break;case 4:gT=193;
break;default:gT=0;break}}if(o==0)Y=$();l=[O,g,W,gT,Y]}T["i"+I]=[o,l]}for(var c=0;c<x;c++){var fk=Z(),eJ=Z(),eS=n(),gL=z.wc(A,a,fk);
a+=fk}a=v}E.reverse();for(var cX=1;cX<E.length;cX++){var T=E[cX],kj=E[cX]=JSON.parse(JSON.stringify(E[cX-1]));
for(var gq in T){var iL=T[gq];if(iL[0]==0)kj[gq]=iL;else if(iL[0]==1){iL[1][4]=kj[gq][1][4];kj[gq]=iL}else if(iL[0]==2)delete kj[gq]}}var ew=E.pop(),dk=[];
for(var gq in ew)dk.push(ew[gq][1]);dk.sort(function(j9,fh){return j9[0]-fh[0]});return dk}function w(k,E,_,v){while(a<A.length){var V=i(),H=null;
if(V==0){if(v){var R=i();if(R!=2){var h=p()}if(R==0)a+=4;v=!1;continue}else{break}}var P=p();if(e)console.log("  ".repeat(E),V,V&127,P,k._type);
if(V>127)H=f(V,E,_);else H=L(V,E,_);if(e)console.log("  ".repeat(E),H);k[P]=H}}function f(k,E,_){var v=[];
k=k&127;if(k==43)a+=4;var V=s();if(k==50){var R=p(),h=Z();if(h!=1)throw"e";for(var c=0;c<V;c++){var P={_status:"NotShared",_type:R};
v.push(P);var H=i();if(H!=1)throw H;w(P,E+1,_)}}else if(k==41){if(V>8)throw V;for(var c=0;c<V;c++)v.push((A[a]>>>c&1)==1);
a++}else for(var c=0;c<V;c++){v.push(L(k,E,_,c!=0));if(k==42)k=2}return v}function L(k,E,_,v){var V=null;
if(k==49){V={};var R=i();if(R!=0){var h=s();if(_==null){V._id=h;V._status=["Shared","Link"][R-1]}if(_&&R==2)V=_[h];
if(R==1){if(_)_[h]=V;var P=i(),H=!1;if(P>1)throw P;V._type=p();if(e)console.log("  ".repeat(E),"new",V._type,P,a);
if(P==0){while(!0){var U=Z();if(U!=0&&U!=1&&U!=2&&U!=4)throw U;if(A[a]!=0){H=!0;break}var X=Z();if(X==512)break;
var x=p();if(X==256)break}}w(V,E+1,_,H)}}}else if(k==50){V={_status:"NotShared"};if(i()==1){V._type=p();
a+=2;w(V,E+1,_)}}else if(k==1)V={type:"byte",value:i()};else if(k==2)V={type:"uint16",value:Z()};else if(k==3)V={type:"uint32",value:s()};
else if(k==4)V={type:"uint64",value:n()};else if(k==7)V={type:"int32",value:D()};else if(k==8)V={type:"int64",value:n()};
else if(k==9)V={type:"float32",value:S()};else if(k==10)V={type:"float64",value:F()};else if(k==21)V={type:"Vec2i",value:[s(),s()]};
else if(k==23)V={type:"Vec4i",value:[s(),s(),s(),s()]};else if(k==33)V={type:"Vec4f",value:[S(),S(),S(),S()]};
else if(k==36)V={type:"Vec2",value:[F(),F()]};else if(k==38)V={type:"Vec4",value:[F(),F(),F(),F()]};
else if(k==40)V={type:"Vec6",value:[F(),F(),F(),F(),F(),F()]};else if(k==41)V={type:"bool",value:i()!=0};
else if(k==42)V={type:"Enum",value:s()};else if(k==43)V={type:"string",value:m()};else if(k==44){if(v!=!0)b=Z();
V={type:"curv16",value:[F(),b==12?[i(),i(),i(),i()]:[s(),s()]]}}else if(k==45){var K=s();V={type:"buff",value:A.slice(a,a+K)};
a+=K}else if(k==47){V={type:"uint32",value:s()}}else if(k==48){var T=[],I=Z();if(I!=1)throw I;while(!0){if(A[a]==135){var o=f(i(),E+1,_),l=f(i(),E+1,_),O=f(i(),E+1,_);
T.push([o,l,O])}else{var g=1;if(A[a]==3){i();g=s()}for(var c=0;c<g;c++){if(i()!=41)throw"e";var h=i();
if(h!=0&&h!=1)throw h;if(i()!=172)throw"e";var W=s(),d=Z(),gT=[];T.push(gT);if(d!=18)throw d;if(W>2e3)throw W;
for(var r=0;r<W;r++)gT.push([F(),F(),i(),i()])}}if(A[a]==0){a++;break}}V={type:"curve",value:T}}else if(k==51){V={type:"EmbeddedData"};
V[p()]=m()}else if(k==52)V={type:"uint32",value:s()};else if(k==56)V={type:"Color32",value:[i(),i(),i(),i()]};
else if(k==60)V={type:"ColorGRAY",value:[S(),S()]};else if(k==68)V={type:"ColorRGBA",value:[S(),S(),S(),S()]};
else if(k==72)V={type:"ColorCMYK",value:[S(),S(),S(),S(),S()]};else{throw k}return k==49||k==50||k==51?V:V.value}function C(k){var E=0,_=k.length;
for(var c=0;c<_;c++)k[c]=E=E+k[c]&255}function y(k){A=k;a=4;var E=s(),_=N();if(_!="nsrP")throw _;var _=N();
if(_!="#Inf")throw _;var v=n();M=n();var V=n(),R=n(),h=n(),P=s(),H=s(),_=N();if(_!="Prot")throw _;var P=s(),U=J(v),X={},x=Date.now();
for(var K=0;K<U.length;K++){var T=U[K],I=T[3],W=null;a=T[0];var _=N();if(_!="#Fil")throw _;var o=I>>>5&1,l=I&3,O=I&192;
switch(O){case 64:O=1;o=0;break;case 128:O=2;break;case 192:O=3;break;default:O=0;o=0}var g=new Uint8Array(A.buffer,a,T[2]);
if(l==0)W=g;else if(l==1)W=pako.inflate(g);else if(l==2)W=fI.UH.nu(g,T[1]);else throw l;if(o==0){if(O==1)C(W);
if(O==2)throw"e"}else throw o;X[T[4]]=W}return X}function Q(k){var E=y(new Uint8Array(k));A=E["doc.dat"];
a=16;var _={};w(_,0,[]);return[E,_,M]}return{alh:Q}}();function g3(){}g3.__=function(){function e(m,J){var w=Date.now(),f=f4.alh(m),b=f[0],L=f[1],C=f[2],M=L.DocR,y=M.DfSz,Q=M.Chld;
if(Q.length!=1)throw"e";var k=Q[0],E=k.SprB;Q=k.Chld;J.m=~~E[2];J.n=~~E[3];J.buffer=j.Q(J.m*J.n*4);var _=[0,{}];
for(var c=0;c<Q.length;c++)N(Q[c],J,b,new bj,_,0);J.Gu(_[0]);console.log(Date.now()-w,"Document created");
w=Date.now()}function A(m){return new bj(m[0],m[3],m[1],m[4],m[2],m[5])}function a(m,J){var w=J.Xfrm;
w=w?A(w):new bj;w.concat(m);return w}function p(m){var J={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[m];
return J?J:"norm"}function N(m,J,w,f,b,L){var C=m._type,M=m.Chld,y=J.Uo();y.i4(m.Desc==null||m.Desc==""?C=="Grup"?"Folder":"Layer":m.Desc);
y.d8(m.Visi);y.opacity=Math.round(255*m.Opac);if(m.FOpc!=1)y.add.iOpa=Math.round(255*m.FOpc);var Q=m.Blnd;
if(Q!=null)y.Mi=p(Q);var k=a(f,m),E=C=="ShpN"||C=="PCrv";if(M){J.B.push(J.pz());y.add.lsct=ez.MV;y.Mi="pass";
y.OO=24;if(C=="ShpN"){var _=m.ShpB;y.Mx(new dE(_[0]+k.Co,_[1]+k.dW,_[2]-_[0],_[3]-_[1]));b[0]++;y.add.artb.Clr={t:"Objc",v:j.M.yN({o:255,J:255,k:255})}}for(var c=0;
c<M.length;c++)N(M[c],J,w,k,b,L+1)}else if(C=="Rstr"||C=="ImgN"||C=="MRst"){var v=m.Bitm,V=v.Bckg,R=Date.now(),h;
if(V==null){h=n(v,w,b[1]);y.rect=h[2].clone();y.buffer=h[1].slice(0);y.rect.x+=k.Co;y.rect.y+=k.dW}if(V||k.nZ()!=1){var P,H=0,U=0;
if(V){var X=w[V.Data],x=z.vP(X,"ataD")+4,K=z.Jv(X,x);x+=4;P=X.slice(x,x+K)}else{H=y.rect.x-k.Co;U=y.rect.y-k.dW;
if(h[3]==null)h[3]=new Uint8Array(fI.nP("PNG").Eu([[y.buffer.buffer]],y.rect.m,y.rect.n));P=h[3].slice(0)}var T=J.je(P,y.getName(),0,0);
T.OO=y.OO;T.opacity=y.opacity;y=T;var I=new bj;I.translate(H,U);I.concat(k);var o=y.rect.clone();o.x=o.y=0;
var l=j.p.wt(o).w;j.p.D(l,I,l);y.add.SoLd.Trnf=q.BD.Jw(l);y.add.SoLd.nonAffineTransform=q.BD.Jw(l);y.kf(J,!1)}}else if(C=="TxtA"||C=="TxtF"){y.add.lnsr="rend";
y.add.TySh=eG.KP(0,0);y.add.TySh.oc=new dE(0,0,100,100);var O=m.TxtH.FrmB,g=new bj,r=0;g.translate(O[0],O[1]);
g.concat(k);y.add.TySh.D=g;var W=y.add.TySh._t,d=m.StSt,gT=d.Blok;if(gT.length!=1)throw"e";for(var G=0;
G<gT.length;G++){var Y=gT[G],fk=r,eJ=0,eS=Y.Glyp.Utf8;eS=eS.replace(/\u2028/g,"\n");eS=eS.replace(/\u2029/g,"\n");
eS=eS.slice(0,eS.length-1);eG.f7(W,r,eS);r+=eS.length;var gL=Y.GAtt.Runs,cX=Y.PAtt.Runs[0],kj=cX.Item.Ints[0];
for(var gq=0;gq<gL.length;gq++){var iL=gL[gq],ew=iL.Indx,dk=iL.Item,j9=dk.Objs,fh=eG.p_(W,fk,1);fh.Vx.Justification=kj==0?0:kj==1?2:1;
eG.Kv(fh,dk.DFnt.Post);fh.JH.FontSize=dk.Doub[0];for(var c=0;c<j9.length;c++){var g9=j9[c];if(g9._type=="FDsc"){var k6=g9.FDeF;
if(k6._type=="FilS"){var jx=D(k6.Colr);fh.JH.FillColor={Type:1,Values:[1,jx[0],jx[1],jx[2]]}}}}eG.G4(W,fk+eJ,fk+Math.min(ew,eS.length),fh);
eJ=ew}}eG.XX(W,1);eG.dw(W,[0,0,Math.round(O[2]-O[0]),Math.round((O[3]-O[1])*1.2)]);J.Px=!0}else if(E){y.OO|=16;
var fV=y.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));fV.strokeEnabled.v=!1;var ao=y.add.vmsk=i(m);
j.r.nM(ao.i,k);if(m.BFFl){var b8=m.BFFl[0].FDeF,ke=b8._type;if(ke=="FilS")y.add.SoCo={classID:"null",Clr:s(b8.Colr)};
else if(ke=="FilG"){var gj=y.add.GdFl=JSON.parse(iF.lZ[iF.order.indexOf("GrFl")]);Z(b8,gj)}else if(ke=="FilN"){y.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.M.yN({o:0,J:0,k:0})}};
fV.fillEnabled.v=!1}else console.log(ke)}if(m.LILn){var jf=m.LILn[0].LDeL,ay=jf.Wght;if(ay!=0){fV.strokeEnabled.v=!0;
fV.strokeStyleLineWidth.v.val=ay;var b8=m.LIFl[0].FDeF,ke=b8._type;if(ke=="FilS")fV.strokeStyleContent.v.Clr=s(b8.Colr);
else if(ke=="FilN")fV.strokeEnabled.v=!1}}y.c0();y.yO(J)}else console.log(C);var fz=m.AdCh,ei=[];if(fz)for(var c=0;
c<fz.length;c++){var hC=fz[c],iI=hC._type;if(iI=="ShpN"||iI=="PCrv"){var ao=y.add.vmsk=i(hC),gQ=a(k,hC);
j.r.nM(ao.i,gQ);y.c0();y.yO(J)}else if(hC.AdjP){var cb=hC.AdjP,dK=cb._type,ha={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[dK];
if(ha==null){console.log(cb);continue}var hA=hZ.R3(ha,{});ei.push(hA);var dW=hA.v.Fltr.v;if(dK=="LevP"){var cQ=jN.ps(dW,0);
cQ[0]=cb.OutB*255;cQ[1]=cb.OutW*255;jN.C6(dW,0,cQ)}else if(dK=="WhBP"){var cQ=jN.ps(dW,2);cQ[4]=100+cb.WBTi*20;
jN.C6(dW,2,cQ);var cQ=jN.ps(dW,3);cQ[4]=100+cb.WBTi*200;jN.C6(dW,3,cQ)}else if(dK=="HSSP"){var cQ=g1.ps(dW,0);
cQ[0]=Math.round(cb.HueA*256);cQ[1]=Math.round(cb.SatA*256);cQ[2]=Math.round(cb.LumA*256);g1.C6(dW,0,cQ)}else if(dK=="RecP"){dW.Clrz.v=!0;
var cQ=g1.ps(dW,0);cQ[0]=Math.round(cb.RecH*100);cQ[1]=Math.round(cb.RecS*100);cQ[2]=Math.round(cb.RecL*100);
g1.C6(dW,0,cQ)}else if(dK=="B&CP"){dW.Brgh.v=Math.round(cb.Brig*100);dW.Cntr.v=Math.round(cb.Ctrs*100-100)}else if(dK=="PosP"){dW.Lvls.v=cb.Post}else if(dK=="VibP"){dW.vibrance.v=cb.Vibr-100;
dW.Strt.v=Math.round(cb.Satu*100)}else if(dK=="ExpP"){dW.Exps.v=cb.Expo;dW.gammaCorrection.v=cb.Gamm/2.2}else if(dK=="ThrP"){dW.Lvl.v=Math.round(cb.Thre*255)}else if(dK=="CrvP"){var h6=cb.Mast["Cnt "],hh=cb.Mast.Vals,cQ=fi.ps(dW,0),bA=cQ[0];
for(var co=0;co<h6;co++){var ej=cQ[co]=JSON.parse(JSON.stringify(bA));ej.v.Hrzn.v=Math.round(hh[co]*255);
ej.v.Vrtc.v=Math.round(hh[4+co]*255)}fi.C6(dW,0,cQ)}}else console.log(hC)}if(ei.length!=0&&y.add.SoLd){y.add.SoLd.filterFX=hZ.Iu();
J.Dh({id:y.add.SoLd.placed.v,rect:new dE,buffer:j.Q(1),$:new u.j_});y.add.SoLd.filterFX.v.filterFXList.v=ei;
y.kf(J,!1)}var bk=m.FiEf;if(bk&&bk.length!=0){var h5=y.add.lmfx=JSON.parse(iF.default);for(var c=0;c<iF.order.length;
c++)h5[iF.RU[c]]={t:"VlLs",v:[]};for(var bg=0;bg<bk.length;bg++){var aQ=bk[bg],fw=aQ._type,jC={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[fw],gj=jC?JSON.parse(iF.lZ[iF.order.indexOf(jC)]):null;
if(fw=="ColO"){gj.Clr=s(aQ.Colr)}else if(fw=="GrdO"){Z(aQ.GrFl.FDeF,gj)}else if(fw=="Shad"||fw=="InnS"||fw=="OutG"||fw=="InnG"){gj.Clr=s(aQ.Colr);
gj.blur.v.val=Math.round(aQ.Radi/2.4);if(aQ.Offs!=null){gj.Dstn.v.val=aQ.Offs;gj.lagl.v.val=Math.round(180-aQ.Angl*180/Math.PI);
gj.uglg.v=!1}}else if(fw=="Strk"){gj.Clr=s(aQ.Colr);gj.Sz.v.val=Math.round(aQ.Radi)}else if(fw=="PhgB"||fw=="BevE"){gj.blur.v.val=Math.round(aQ.Radi);
if(fw=="BevE")gj.bvlS.v.BESl="PlEb"}else if(fw=="Gaus"){if(E&&aQ.Enab){y.add.vmsk.UO=aQ.Radi/2.4;y.add.vmsk.zv=!0;
y.c0();y.yO(J)}}if(jC){gj.enab.v=aQ.Enab;if(gj.Md&&aQ.BlnM!=null)gj.Md.v.BlnM=im.Pj(p(aQ.BlnM));if(gj.Opct&&aQ.Opac!=null)gj.Opct.v.val=Math.round(aQ.Opac*100);
var e0=iF.RU[iF.order.indexOf(jC)];h5[e0].v.unshift({t:"Objc",v:gj})}}}J.B.push(y)}function i(m){var J=new u.eP,w=m._type;
if(w=="PCrv"){var f=m.Crvs.Data,b=[],L=[];for(var c=0;c<f.length;c++){var C=f[c],M=C.length%3;if(M!=1){C=M==2?C[0][2]!=0?C.slice(0,C.length-1):C.slice(1):C.slice(1,C.length-1)}for(var y=0;
y<C.length;y++){var Q=C[y],k=Q[2];if(k!=0)b.push(y==0?"M":"C");L.push(Q[0],Q[1])}}J.i=j.p.Hh({w:L,F:b},!0)}else{var E=m.ShpB,_=m.Shpe,v=_._type,V=E[2]-E[0];
if(v=="ShpE"){J.i=j.r.Qa.CH(E[0],E[1],E[2]-E[0],E[3]-E[1])}else if(v=="ShNR"){var R=[0,0,0,0];if(_.CTyp){R=_.ShCR.slice(0);
for(var c=0;c<4;c++)R[c]*=E[2]-E[0]}J.i=j.r.Qa.Rect(E[0],E[1],E[2]-E[0],E[3]-E[1],R)}else if(v=="ShpT"){J.i=j.p.Hh({F:["M","L","L","Z"],w:[E[0],E[3],E[2],E[3],E[0]+V*.5,E[1]]},!0)}else if(v=="ShTz"){J.i=j.p.Hh({F:["M","L","L","L","Z"],w:[E[0]+V*_.PosL,E[1],E[0]+V*_.PosR,E[1],E[2],E[3],E[0],E[3]]},!0)}else{console.log("--",v);
J.i=j.r.Qa.Rect(E[0],E[1],E[2]-E[0],E[3]-E[1],[0,0,0,0])}}return J}function Z(m,J){var w=m.Grad,f=w.Cols;
J.Type.v.GrdT=m.Type==0?"Lnr":"Rdl";var b=[];for(var c=0;c<f.length;c++){var L=D(f[c]);b.push([w.Posn[c][0],L])}J.Grad.v.Intr.v=0;
j.M.QG(b,J.Grad.v);var C=w.Posn,M=new k7(C[0][0],C[0][1]),y=new k7(C[1][0],C[1][1]);if(m.Type==0)M=new k7((M.x+y.x)/2,(M.y+y.y)/2);
j.M.NB(M,y,new dE(0,0,1,1),J)}function s(m){var J=D(m);return{t:"Objc",v:j.M.yN({o:J[0]*255,J:J[1]*255,k:J[2]*255})}}function D(m){var J=m._col,w=m._type;
if(w=="HSLA"){var f=j.bl(J[0],J[1],J[2]);return[f.o,f.J,f.k,J[3]]}else if(w=="RGBA")return J;else if(w=="CMYK"){var b=1-J[3];
return[(1-J[0])*b,(1-J[1])*b,(1-J[2])*b]}else if(w=="GRAY")return[J[0],J[1],J[2]];else{console.log(J);
throw w}}function n(m,J,w){var f=m.Frmt,V="";if(f!=0&&f!=4&&f!=6)throw f;var b=m.BmpW,L=m.BmpH,C=f==4?5:f==0?4:1,M=Math.ceil(b/256),y=Math.ceil(L/256),Q=new dE(0,0,M,y),k=new dE;
for(var c=0;c<C;c++){var E=new Uint8Array(m["Sta"+(c+1)]),_=j.WC(E,Q);k=k.pg(_)}var v=[];for(var c=0;
c<C;c++){var E=new Uint8Array(m["Sta"+(c+1)]),R=j.Q(k.O());j.WP(E,Q,R,k);v[c]=[];for(var h=0;h<R.length;
h++)v[c][h]=R[h];V+=JSON.stringify(v[c])+","+JSON.stringify(m["Idx"+(c+1)])+","}if(w[V]==null){var P=k.m*256,H=k.n*256,U=new Array(C);
for(var c=0;c<C;c++){var E=U[c]=new Uint8Array(P*H);S(E,m["Idx"+(c+1)],v[c],J,P,H)}var X=j.Q(P*H*4);
if(f==0)j.ia({o:U[0],J:U[1],k:U[2],gg:U[3]},X);else if(f==4){for(var c=0;c<U[0].length;c++){var x=c*4,K=U[0][c]*(1/255),T=U[1][c]*(1/255),I=U[2][c]*(1/255),o=U[3][c]*(1/255),l=UDOC.C.cmykToRgb([K,T,I,o]);
X[x]=l[0]*255;X[x+1]=l[1]*255;X[x+2]=l[2]*255;X[x+3]=U[4][c]}}else{X.fill(255);j.DC(U[0],X)}var O=new dE(0,0,P,H),g={buffer:X,rect:O};
j.jN(g);w[V]=[g.rect,g.buffer]}var _=w[V][2]=w[V][0].clone();_.x+=k.x*256;_.y+=k.y*256;return w[V]}function S(m,J,w,f,b,L){var C=0,M=b>>>8,y=L>>>8;
for(var Q=0;Q<y;Q++)for(var k=0;k<M;k++){var E=k*256,_=Q*256,v=Q*M+k,V=_*b+E,R=w[v];if(R<=1)F(m,V,0,b,256,256);
else if(R==2)F(m,V,4294967295,b,256,256);else if(R==4){var h=J[C];C++;var P=f[h.Data.DatI],H=h.Rect;
if(H==null)H=[0,0,256,256];F(m,V,0,b,256,256);$(m,(_+H[1])*b+E+H[0],P,H[1]*256+H[0],b,256,H[2]-H[0],H[3]-H[1])}else console.log(R)}}function F(m,J,w,f,b,L){var C=J+f*L;
for(;J<C;J+=f){var M=J+b;for(var y=J;y<M;y++){m[y]=w}}}function $(m,J,w,f,b,L,C,M){var y=J+b*M,Q=f+L*M;
for(;J<y&&f<Q;J+=b,f+=L){for(var c=0;c<C;c++)m[J+c]=w[f+c]}}return e}();function fX(){}fX.__=function(e,A){var a=fX,p=fl.parse(e),i=0;
if(p.pages.length>1)console.log(p.pages.length,"pages");var N=[],Z=new dE;for(var s=0;s<p.pages.length;
s++){var D=p.pages[s],n=D.layers,S=a.i9(n,s),$=!1;if(S.O()>8e3*8e3||S.m>3e4||S.n>3e4){a.aet(n,!0);var F=a.i9(n,s);
if(F.O()>=S.O())a.aet(n,!1)}S=a.i9(n,s);for(var m=0;m<n.length;m++){var J=n[m];if(a.bi(J)=="artboard")$=!0}if(!$){console.log("no artboard");
var w={};for(var f in D)w[f]=D[f];w._class="group";D.layers=[w]}N.push(S.clone());if(S.QP())continue;
S.x=0;S.y=i;i+=S.n+200;Z=Z.pg(S)}var b={};if(p.foreignSymbols)for(var c=0;c<p.foreignSymbols.length;
c++){var L=p.foreignSymbols[c].symbolMaster;b[L.symbolID]={EG:L}}a.asu(p.pages,b,A);for(var C in b){var J=b[C].EG,M=a.ann(J.layers)}var y=fX.pl(Z,8192*8192);
A.Px=!0;A.m=Math.round(Z.m/y);A.n=Math.round(Z.n/y);A.buffer=j.Q(A.m*A.n*4);A.Gu(p.pages[0].layers.length);
A.y2={};A.fT=[];i=0;for(var s=0;s<p.pages.length;s++){var Q=p.pages[s],S=N[s],k=new bj(y,0,0,y,S.x,S.y-i);
a.Tv(Q.layers,A,k,p,b,{},[]);i+=S.n+200}delete A.y2;delete A.fT;if(y!=1)alert("File scaled down "+y+"x");
A.ats()};fX.abR=0;fX.bi=function(e){return e._class?e._class:e.$class};fX.pl=function(e,A){var a=1;while(Math.round(e.m/a)*Math.round(e.n/a)>A||Math.max(Math.round(e.m/a),Math.round(e.n/a))>3e4)a++;
if(a!=1&&!window.confirm("Your image is quite large ("+e.m+" x "+e.n+" px).\n"+"Press OK to scale it down "+a+"x, or Cancel to keep the size."))a=1;
return a};fX.i9=function(e,A){var a=[],p=fX;for(var N=0;N<e.length;N++){var i=e[N],Z=p.q6(i.frame);if(A==0||p.bi(i)=="artboard")a.push(Z)}return j.rect.I6(a)};
fX.aet=function(e,A){var a=[],p=fX;for(var N=0;N<e.length;N++){var i=e[N],Z=p.q6(i.frame);Z.m+=150;Z.n+=150;
a.push(Z)}var s=j.rect.I6(a);j.rect.a9c(a,A);var D=j.rect.I6(a);if(D.O()*1.5<s.O()||s.m>3e4&&D.m<=3e4||s.n>3e4&&D.n<=3e4){alert("Re-arranging artboards");
for(var N=0;N<e.length;N++){var n=a[N],i=e[N],S=i.frame;S.x=n.x;S.y=n.y}}};fX.asu=function(e,A,a){var p=fX;
for(var N=0;N<e.length;N++){var i=e[N],Z=p.bi(i);if(["page","artboard","group"].indexOf(Z)!=-1)p.asu(i.layers,A,a);
else if(Z=="symbolMaster")A[i.symbolID]={EG:i}}};fX.ann=function(e){var A=fX;for(var a=0;a<e.length;
a++){var p=e[a],N=A.bi(p),i=null;if(["page","artboard","group"].indexOf(N)!=-1)i=A.ann(p.layers);if(N=="symbolMaster"||N=="symbolInstance")i=p;
if(i!=null)return i}return null};fX.Tv=function(e,A,a,p,N,i,Z){var s=fX,D=[];for(var n=0;n<e.length;
n++){var S=e[n],F=S.frame?s.q6(S.frame):null,$=S.style,b="",k=null,E=!1;if($==null){console.log("no styles")}var m=s.a6P(S,a),J=s.bi(S),w=J=="shapeGroup"||J=="shapePath"||J=="rectangle"||J=="oval"||J=="triangle"||J=="polygon",f=["page","artboard","group"].indexOf(J)!=-1;
if(J=="shapeGroup"){for(var c=0;c<S.layers.length;c++)if(s.bi(S.layers[c])=="shapeGroup")f=!0}var L=S.exportOptions;
if(L){var C=L.exportFormats;if(C==null)C=L.sizes;if(J!="artboard"&&(C&&C.length!=0)){var M=C[0].scale}}var y=A.Uo();
y.d8(S.isVisible);var Q=S.name;if(!(typeof Q=="string"))Q=J;y.i4(b+Q.slice(0,250));if($!=null)k=s.ahI(p,A,$,F,m,y.getName(),w||J=="artboard"||f);
if(J=="rectangle"&&$&&$.fills&&$.fills[0]){var _=$.fills[0];if(_.fillType==4&&_.patternFillType>1&&_.image!=null)E=!0}if(S.shouldBreakMaskChain){while(D.length!=0)s.a9Z(D.pop(),A)}if(f){y.add.lsct=S.layerListExpandedType==2?ez.MV:ez.St;
y.Mi="pass";y.OO=24;y.d8(S.isVisible);A.B.push(A.pz());if(J=="artboard"){var v=F.clone(),V=m.nZ();v.x=-Math.floor(m.Co/V);
v.y=-Math.floor(m.dW/V);v.m=Math.floor(v.m/V);v.n=Math.floor(v.n/V);y.Mx(v);var R=S.backgroundColor,h=R?{o:255*R.red,J:255*R.green,k:255*R.blue}:{o:255,J:255,k:255};
y.add.artb.Clr={t:"Objc",v:j.M.yN(h)};y.add.artb.artboardBackgroundType={t:"long",v:4}}s.Tv(S.layers,A,m,p,N,i,Z)}else if(w&&!E){y.add.vmsk=new u.eP;
y.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));var P=k!=null&&k.frameFXMulti.v.length==1,H=$?$.fills:null,U=$?s.asC(p,H,F,m,y.getName(),A,s._J(Z,S.do_objectID+"_image")):[];
if(U.length==0){if(P)y.add.vstk.fillEnabled.v=!1;else y.add.iOpa=0;y.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.M.yN({o:0,J:0,k:0})}}}else{var X=U[0],x=null,K=null;
if(X.type=="SoFi"){x="SoCo";K=iF.Gw}if(X.type=="GrFl"){x="GdFl";K=iF.wu}if(X.type=="patternFill"){x="PtFl";
K=iF.RE}if(x!=null){y.add[x]={classID:"null"};for(var c=0;c<K.length;c++){var T=K[c];y.add[x][T]=X.Z.v[T]}var I=X.Z.v.Opct.v.val;
if(P&&I==0)y.add.vstk.fillEnabled.v=!1;else y.add.iOpa=Math.round(255*I/100)}}y.OO|=16;y.add.vmsk.i=s.Dz(S.layers?S.layers:[S],S.layers?m:a);
var o=$?$.blur:null;if(o&&o.isEnabled&&o.type<=1)y.add.vmsk.UO=o.radius;if(y.add.vmsk.i.length==2){console.log("shape with no content:",y.getName())}if(P){var l=k.frameFXMulti.v[0].v,O=y.add.vstk,g=$.borders[0];
k.frameFXMulti.v=[];b6.arT(l,O);var W=$.borderOptions,d=$.miterLimit;if(W){var gT=W.dashPattern;O.strokeStyleLineCapType.v.strokeStyleLineCapType=iF.kE.oA[W.lineCapStyle];
O.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iF.kE.join[W.lineJoinStyle];if(gT)O.strokeStyleLineDashSet.v=b6.td(gT,1/l.Sz.v.val);
if(d!=null)O.strokeStyleMiterLimit.v=d}}y.c0();y.yO(A)}else if(J=="bitmap"||E){if(!E&&S.image==null)continue;
var r=E?$.fills[0]:null,G=E?r.image.bdata:S.image.bdata,Y=A.je(G,y.getName(),0,0);Y.OO=y.OO;y=Y;var o=$?$.blur:null,fk=$?$.colorControls:null;
if(o||fk){y.add.SoLd.filterFX=hZ.Iu();A.Dh({id:y.add.SoLd.placed.v,rect:new dE,buffer:j.Q(1),$:new u.j_});
var H=y.add.SoLd.filterFX.v.filterFXList.v;if(o){var eJ=hZ.R3("GsnB",{});eJ.v.enab.v=o.isEnabled;eJ.v.Fltr.v.Rds.v.val=o.radius;
H.push(eJ)}if(fk){var eS=fk.brightness,gL=fk.contrast,cX=fk.hue,kj=fk.saturation;if(cX!=0||kj!=1){var eJ=hZ.R3("hue2",{});
eJ.v.enab.v=fk.isEnabled;g1.C6(eJ.v.Fltr.v,0,[Math.round(cX*180/Math.PI),Math.round((kj-1)*100),0]);
H.push(eJ)}if(eS!=0||gL!=1){var eJ=hZ.R3("brit",{});eJ.v.enab.v=fk.isEnabled;gL=gL-1;if(gL>0)gL/=2;var gq=eJ.v.Fltr.v;
gq.Brgh.v=Math.round(eS*255);gq.Cntr.v=Math.round(gL*255);gq.useLegacy.v=!0;H.push(eJ)}}}if(E){var iL=r.patternFillType;
if(iL==3){var ew=y.rect.m/y.rect.n,dk=F.m/F.n;if(ew<dk){m.translate(-(F.m*(1-ew/dk))/2,0);m.scale(dk/ew,1)}else{m.translate(0,-(F.n*(1-dk/ew))/2);
m.scale(1,ew/dk)}}}F.x=F.y=0;var j9=j.p.wt(F).w;m.rQ();j.p.D(j9,m,j9);y.add.SoLd.Trnf=q.BD.Jw(j9);y.add.SoLd.nonAffineTransform=q.BD.Jw(j9);
y.kf(A,!1)}else if(J=="text"){if(S.attributedString==null)continue;var fh=m.clone(),g9,k6,ke=0;fh.rQ();
fh.gg=fh.pU=Math.min(fh.gg,fh.pU);y.add.lnsr="rend";y.add.TySh=eG.KP(0,0);y.add.TySh.oc=new dE(0,0,F.m,F.n);
y.add.TySh.D=fh;var jx=S.attributedString;if(jx.archivedAttributedString)jx=jx.archivedAttributedString;
var fV=jx.NSString;if(fV==null)fV=jx.string;if(fV==null)fV="";if(fV["NS.string"])fV=fV["NS.string"];
if(i[S.do_objectID]!=null)fV=i[S.do_objectID];var ao=s._J(Z,S.do_objectID+"_stringValue");if(ao)fV=ao.value;
if(jx.attributes!=null){g9=[];k6=[];var b8=jx.attributes;for(var c=0;c<b8.length;c++){g9.push(b8[c].length,c);
k6.push(b8[c].attributes)}}else if(jx.NSAttributeInfo==null){g9=[fV.length,0];k6=[jx.NSAttributes]}else{g9=jx.NSAttributeInfo["NS.data"];
k6=jx.NSAttributes;g9=fX.al_(g9,k6)}for(var c=0;c<g9.length;c+=2)ke+=g9[c];if(ke!=fV.length){while(ke>fV.length){g9[g9.length-2]--;
ke--;if(g9[g9.length-2]==0){g9.pop();g9.pop()}}g9[g9.length-2]+=fV.length-ke}fV=fV.replace(/\u2028/g,"\n");
fV=fV.replace(/\u2029/g,"\n");fV=fV.replace(/\r/g,"\n");var gj=y.add.TySh._t;eG.f7(gj,0,fV);if(fV!=""){var jf=S.textBehaviour,ay=$.textStyle,fz=ay?ay.verticalAlignment:0,ei=s.aei(gj,g9,k6,fV),V=fh.nZ(),hC=eG.p_(gj,0,1),cb=0;
if(hC.JH.Font){var iI=hC.eu[hC.JH.Font].Name;if(iI=="FontAwesome"||iI=="Ionicons")ei*=.87}var gQ=hC.JH.AutoLeading?0:hC.JH.Leading*.6,dK=Math.max(ei,gQ)*V,ha=F.m,dW=F.n;
if(jf==0){eG.XX(gj,0);var fN=eG.i8(hC.Vx);if(fN==1)cb=ha*V;if(fN==2)cb=ha*V*.5;if(fz==0)dK*=1;else dK*=.9}else{eG.XX(gj,1);
eG.dw(gj,[0,0,Math.round(ha),Math.round(dW)]);if(jf==2&&fz==0)dK=dK*.2;else if(jf==2&&fz==1){dK=V*.5*(dW-hC.JH.FontSize)}else if(jf==1&&fz==0)dK=dK*.2;
else dK=dK*.35}y.add.TySh.D.translate(cb,dK)}}else if(J=="symbolInstance"||J=="symbolMaster"){var cQ=S.symbolID;
if(i[S.do_objectID])cQ=i[S.do_objectID].symbolID;var hh=s._J(Z,S.do_objectID+"_symbolID");if(hh)cQ=hh.value;
if(cQ=="")continue;var co={};for(var T in i)co[T]=i[T];if(S.overrides)for(var T in S.overrides)co[T]=S.overrides[T];
var ej=Z.slice(0);if(S.overrideValues)ej=ej.concat(S.overrideValues);var bk=N[cQ];if(bk==null){console.log("Unknown master master",S.symbolID);
continue}var h5=fX.q6(bk.EG.frame),bg=h5.m/F.m,aQ=h5.n/F.n,fw=m.clone();fw.scale(bg,aQ);y.add.lsct=ez.St;
y.Mi="pass";y.OO=24;y.d8(S.isVisible);A.B.push(A.pz());var jC=bk.EG;if(A.fT.indexOf(jC)==-1){A.fT.push(jC);
s.Tv(jC.layers,A,fw,p,N,co,ej);A.fT.pop()}}else if(J=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+J,S);continue}if($&&$.contextSettings){var e0=$.contextSettings,eU=e0.blendMode;
if(eU<s.jY.length){y.Mi=im.U6[im.Jd.indexOf(s.jY[eU])];if(f&&y.Mi=="norm")y.Mi="pass"}y.opacity=Math.round(y.opacity*e0.opacity)}if(k!=null){y.add.lmfx=k}A.B.push(y);
if(S.hasClippingMask&&e.length>1){D.push(y);A.B.push(A.pz())}}while(D.length!=0)s.a9Z(D.pop(),A)};fX._J=function(e,A){for(var c=0;
c<e.length;c++)if(e[c].overrideName.startsWith(A))return e[c]};fX.al_=function(e,A){var a=0,p=[];while(a+1<e.length){var N=e[a];
a++;if(N>127){N+=128*(e[a]-1);a++;if(e[a-1]>127){N+=128*(e[a]-1);a++}}var i=e[a];a++;p.push(N,i)}return p};
fX.aei=function(e,A,a,p){var N=fX,i=0,S=0,F=0;for(var c=0;c<p.length;c++){var Z=p.charCodeAt(c),s=1473<=Z&&Z<=1479||1488<=Z&&Z<=1514||1520<=Z&&Z<=1524,D=1569<=Z&&Z<=1594||1600<=Z&&Z<=1749;
if(s||D)i++}var n=i>p.length/2;for(var c=0;c<A.length;c+=2){var $=A[c],y=14,Q="DejaVuSans";if($==0)continue;
var m=A[c+1],J=a[m],w=eG.p_(e,S,S+$-1),f=J.NSColor;if(f==null){var f=J.MSAttributedStringColorDictionaryAttribute;
if(f==null)f=J.MSAttributedStringColorAttribute;if(f==null)f="0 0 0";else f=[f.red,f.green,f.blue].join(" ")}else if(N.bi(f)=="MSArchivedColor")f=f.dr+" "+f.dg+" "+f.db;
else if(f.NSRGB){f=f.NSRGB;f=z.wc(f,0,f.length-1)}else if(f.NSCMYK){f=f.NSCMYK;f=z.wc(f,0,f.length-1);
f=f.split(" ").map(parseFloat);var b=1-f[0],L=1-f[1],C=1-f[2],M=1-f[3];f=b*M+" "+L*M+" "+C*M}else if(f.NSWhite){f="1 1 1"}f=f.split(" ");
w.JH.FillColor={Type:1,Values:[1,parseFloat(f[0]),parseFloat(f[1]),parseFloat(f[2])]};var k=J.MSAttributedStringFontAttribute;
if(J.NSFont){y=J.NSFont.NSSize;Q=J.NSFont.NSName}else if(k){if(k.attributes){k=k.attributes;y=k.size;
Q=k.name}else{var E=k.NSFontDescriptorAttributes;if(E==null)E=k.UIFontDescriptorAttributes;k=E;y=k.NSFontSizeAttribute;
Q=k.NSFontNameAttribute}if(Q==null)Q="DejaVuSans"}var F=Math.max(F,y);w.JH.FontSize=Math.round(y);eG.Kv(w,Q);
var _=J.NSKern;if(_==null)_=J.kerning;if(_!=null)w.JH.Tracking=Math.round(1e3*_/y);if(J.NSUnderline!=null)w.JH.Underline=J.NSUnderline>0;
var v=J.NSStrikethrough;if(v==null)v=J.strikethroughStyle;if(v!=null)w.JH.Strikethrough=v>0;if(J.MSAttributedStringTextTransformAttribute==1)w.JH.FontCaps=2;
var V=J.NSParagraphStyle;if(V==null)V=J.paragraphStyle;if(V){var R=V.paragraphSpacing;if(R!=null){w.Vx.SpaceAfter=R}var h=V.NSAlignment;
if(h==null)h=V.alignment;if(h!=null){var P=0;if(!1){}else if(h==1)P=1;else if(h==2)P=2;else if(h==4)P=0;
else{P=h;console.log("unknown align",h)}if(n&&P<2)P=1-P;w.Vx.Justification=P}var H=V.NSMinLineHeight;
if(H==null)H=V.minimumLineHeight;if(H!=null){w.JH.AutoLeading=!1;w.JH.Leading=H}}w.Vx._Direction=n?1:0;
eG.G4(e,S,S+$,w);S+=$}return F};fX.ahI=function(e,A,a,p,N,i,Z){var s=fX,D=JSON.parse(iF.default),n=!1;
for(var c=0;c<iF.order.length;c++)D[iF.RU[c]]={t:"VlLs",v:[]};var S=a.fills,F=s.asC(e,S,p,N,i,A);for(var $=0;
$<2;$++){var m=a[["shadows","innerShadows"][$]];if(m==null)continue;var J=["DrSh","IrSh"][$],w=iF.RU[iF.order.indexOf(J)];
for(var c=0;c<m.length;c++){var f=m[c];if(!f.isEnabled)continue;if(f.contextSettings.opacity==0||f.color.alpha==0)continue;
var b=JSON.parse(iF.lZ[iF.order.indexOf(J)]);D[w].v.unshift({t:"Objc",v:b});n=!0;b.Clr.v=s.IJ(f.color);
b.blur.v.val=Math.round(f.blurRadius/N.nZ());var L=N.clone();L.Co=L.dW=0;L.rQ();var C=L.Av(new k7(f.offsetX,f.offsetY)),M=Math.sqrt(C.x*C.x+C.y*C.y);
b.Dstn.v.val=Math.round(M);b.lagl.v.val=Math.round(Math.atan2(C.y,-C.x)*(180/Math.PI));if(b.layerConceals)b.layerConceals.v=F.length!=0;
s.QY(f,b)}}var y=a.borders;if(y!=null&&(F.length==0||a.blur==null||!a.blur.isEnabled))for(var c=0;c<y.length;
c++){var Q=y[c];if(!Q.isEnabled)continue;var b=JSON.parse(iF.lZ[iF.order.indexOf("FrFX")]),w=iF.RU[iF.order.indexOf("FrFX")];
D[w].v.unshift({t:"Objc",v:b});n=!0;b.Clr.v=s.IJ(Q.color);if(Q.fillType!=0&&Q.gradient){var k=s.Dw(Q.gradient,p,N,i),E=["Type","Angl","Ofst","Scl"];
for(var c=0;c<E.length;c++)b[E[c]]=k[E[c]];b.Grad.v=k.Grad.v;b.PntT.v.FrFl="GrFl"}b.Sz.v.val=Math.round(Q.thickness/N.nZ());
b.Styl.v.FStl=["CtrF","InsF","OutF"][Q.position];s.QY(Q,b)}for(var c=Z?1:0;c<F.length;c++){var _=F[c],w=iF.RU[iF.order.indexOf(_.type)];
D[w].v.unshift(_.Z);n=!0}return n?D:null};fX.asC=function(e,A,a,p,N,i,Z){if(A==null)return[];var s=fX,D=[];
for(var c=0;c<A.length;c++)if(A[c].isEnabled)D.push(A[c]);A=D;var n=[];for(var c=0;c<A.length;c++){var S=A[c],F=null,$=null;
if(S.fillType==0){F="SoFi";var m=JSON.parse(iF.lZ[iF.order.indexOf("SoFi")]);$={t:"Objc",v:m};$.v.Clr.v=s.IJ(S.color)}else if(S.fillType==1){F="GrFl";
$={t:"Objc",v:s.Dw(S.gradient,a,p,N)}}else if(S.fillType==4&&S.image!=null){var J=S.image;if(Z)J=Z.value;
var w=fI.ti(J.bdata.buffer);if(w!=null&&w!="pdf"&&w!="eps"){var f,Q=0,k=0,E=0;if(i.y2[J.key])f=i.y2[J.key];
else{var b=fI.nP(w).QS(J.bdata)[0],L=b.WJ.clone();f={};f.id=ar.sY()+"-d71c-11e5-b1ae-a548a96e5f9f";f.name="someImage";
f._q=[new Uint8Array(b.data),L];i.S7(f);i.y2[J.key]=f}var C=f._q[1],m=JSON.parse(iF.lZ[iF.order.indexOf("patternFill")]);
F="patternFill";$={t:"Objc",v:m};var M=S.patternFillType,y=S.patternTileScale;m.Algn.v=!0;m.Ptrn.v.Idnt.v=f.id;
if(M==0){Q=y*C.m/Math.min(C.m,C.n);k=-p.Co;E=-p.dW}else{Q=Math.max(a.m/C.m,a.n/C.n);k=-p.Co-(C.m*Q-a.m)/2;
E=-p.dW-(C.n*Q-a.n)/2}m.Scl.v.val=100*Q*(1/p.nZ());m.phase.v.Hrzn.v=Math.round(k/p.nZ());m.phase.v.Vrtc.v=Math.round(E/p.nZ())}}else if(S.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",S.fillType);
if(F!=null){s.QY(S,$.v);n.push({type:F,Z:$})}}return n};fX.a14=function(e){var A=fX,a=new dE(0,0,1,1);
e=e.slice(0);while(!0){var p=!1;for(var c=0;c<e.length-1;c++){var N=e[c],i=e[c+1],Z=null,s=N.contextSettings;
if(N.fillType==0&&(s==null||s.opacity==1&&s.blendMode==0)&&N.color.alpha==1){var D="norm",n=1,s=i.contextSettings;
if(s){n=s.opacity;D=im.ac(A.jY[s.blendMode])}if(i.fillType==0){Z=JSON.parse(JSON.stringify(i));A.azY(Z.color,N.color,Z.color,a,D,n)}if(i.fillType==1){Z=JSON.parse(JSON.stringify(i));
var S=Z.gradient.stops;for(var F=0;F<S.length;F++)A.azY(S[F].color,N.color,S[F].color,a,D,n)}if(Z!=null&&Z.contextSettings){var s=Z.contextSettings;
s.opacity=1;s.blendMode=0}}if(Z!=null){e.splice(c,0,Z);p=!0;break}}if(!p||e.length<2)break}return e};
fX.azY=function(e,A,a,p,N,i){var Z=fX,s=j.Q(4);Z.aqN(e,s);var D=j.Q(4);Z.aqN(A,D);j.s.eZ(N,s,p,D,p,p,i);
Z.ae8(D,a)};fX.aqN=function(e,A){A[0]=255*e.red;A[1]=255*e.green;A[2]=255*e.blue;A[3]=255*e.alpha};fX.ae8=function(e,A){A.red=e[0]/255;
A.green=e[1]/255;A.blue=e[2]/255;A.alpha=e[3]/255};fX.a9Z=function(e,A){e=e.clone();e.OO=24;e.i4("Mask by "+e.getName());
A.B.push(e);e.add.lsct=ez.MV;e.add.lyid=A.k1();delete e.add.lmfx;delete e.add.SoCo;delete e.add.GdFl;
delete e.add.PtFl;delete e.add.iOpa;if(e.add.vmsk)e.add.vmsk.zv=!0;e.c0();e.yO(A);if((e.OO&16)==16)e.OO-=16;
if((e.OO&2)==2)e.OO-=2;e.Mi="pass";e.opacity=255};fX.jY="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
fX.Dw=function(e,A,a,p){a=a.clone();a.rQ();a.Co=a.dW=0;var N=a.nZ(),$=0,m=0;a.scale(1/N,1/N);var i=fX,Z=JSON.parse(iF.lZ[iF.order.indexOf("GrFl")]),s=Z.Grad.v;
s.Intr.v=0;if(e==null)return Z;var D=e.gradientType,n=i.HL(e.from),S=i.HL(e.to);n.offset(-.5,-.5);S.offset(-.5,-.5);
n=a.Av(n);S=a.Av(S);var F=Math.atan2(-(S.y-n.y),S.x-n.x);Z.Type.v.GrdT=["Lnr","Rdl","Angl"][D];Z.Scl.v.val=100*k7.nR(n,S);
if(D==0){Z.Angl.v.val=180/Math.PI*F;Z.Scl.v.val=100*k7.nR(n,S);$=(n.x+S.x)/2;m=(n.y+S.y)/2}if(D==1){Z.Scl.v.val=200*k7.nR(n,S);
$=n.x;m=n.y}if(D==2){Z.Angl.v.val=180/Math.PI*(F-Math.PI/2)}var J=Z.Ofst.v;J.Hrzn.v.val=$*100;J.Vrtc.v.val=m*100;
var w=[];for(var c=0;c<e.stops.length;c++){var f=e.stops[c],b=f.color;w.push([f.position,b?[b.red,b.green,b.blue]:[0,0,0],b.alpha])}j.M.QG(w,s);
return Z};fX.QY=function(e,A){var a=fX,p=1,N=e.contextSettings;if(N!=null){A.Md.v.BlnM=a.jY[N.blendMode];
p*=N.opacity}else A.Md.v.BlnM=a.jY[0];A.enab.v=e.isEnabled;if(A.uglg!=null)A.uglg.v=!1;if(e.color!=null)p*=e.color.alpha;
A.Opct.v.val=Math.round(p*100)};fX.IJ=function(e){return j.M.yN(e?{o:e.red*255,J:e.green*255,k:e.blue*255}:{o:0,J:0,k:0})};
fX.Dz=function(e,A){var a=fX,p=[{type:6},{type:8,all:0}];for(var N=0;N<e.length;N++){var i=e[N],Z=i.booleanOperation,s=0,D=i._class,J=!1;
if(D=="group"||D=="text"||D=="symbolInstance"||D=="slice"){console.log(D+" inside ShapeGroup");continue}if(Z==-1)s=0;
else if(Z==0)s=1;else if(Z==1)s=2;else if(Z==2)s=3;else if(Z==3)s=0;if(N==0)s=1;var n=fX.q6(i.frame),S=a.a6P(i,A),F=i.path?i.path:i,$=[{type:0,length:0,kR:s,wk:2,JS:0,mH:0}],m=F.points;
for(var c=0;c<m.length;c++){var w=m[c],f=a.HL(w.curveTo),b=a.HL(w.point),L=a.HL(w.curveFrom);J=J||w.hasCurveFrom&&!L.Kx(b)||w.hasCurveTo&&!f.Kx(b)}var C=[];
if(!J){var M=[],iM=m.length;if(iM==0)continue;for(var c=0;c<iM;c++){C[c]=m[c].cornerRadius;var w=a.HL(m[c].point);
M.push(w.x,w.y)}S.scale(1/n.m,1/n.n);S.rQ();j.p.D(M,S,M);$=j.r.Qa.uL(M,C).slice(2);$[0].kR=s}else{var y=m.length;
$[0].length=y;for(var c=0;c<y;c++){var w=m[c],Q=w.curveMode,k=a.HL(w.point);$[1+c]={type:Q==2||Q==4?1:2,x3:w.hasCurveTo?a.HL(w.curveTo):k.clone(),H:k,iD:w.hasCurveFrom?a.HL(w.curveFrom):k.clone()}}S.scale(1/n.m,1/n.n);
S.rQ();j.r.nM($,S);var C=[];for(var c=0;c<y;c++){var w=m[c],Q=w.curveMode,E=w.cornerRadius;if(Q==1&&E!=0)C.push(E);
else C.push(0)}}if(!F.isClosed)for(var c=0;c<$.length;c++)$[c].type+=3;p=p.concat($);var _=a.bi(i);if(S.k==0&&S.b9==0){var v=S.Co,V=S.dW,R=v+S.gg,h=V+S.pU,P=[v,V,R,h]}}return p};
fX.a6P=function(e,A){var a=A.clone(),p=e.frame?fX.q6(e.frame):null;if(p)a.translate(-p.x-p.m/2,-p.y-p.n/2);
if(e.isFlippedHorizontal)a.scale(-1,1);if(e.isFlippedVertical)a.scale(1,-1);a.rotate(-e.rotation*(Math.PI/180));
if(p)a.translate(p.m/2,p.n/2);return a};fX.HL=function(e){e=e.slice(1,e.length-1).split(",");return new k7(parseFloat(e[0]),parseFloat(e[1]))};
fX.q6=function(e){return new dE(e.x,e.y,e.width,e.height)};fX.a0F=function(e){return{_class:"rect",constrainProportions:!1,x:e.x,y:e.y,width:e.m,height:e.n}};
function hz(){}hz.__=function(e,A){var a=Date.now(),p=hz,N=UZIP.parse(e),i=JSON.parse(z.lB(N.manifest)),Z=JSON.parse(z.lB(N["resources/graphics/graphicContent.agc"])).resources,s=[],D=[],n=i.children;
for(var c=0;c<n.length;c++){var S=n[c];if(S.name=="artwork"){var F=S.children;for(var $=0;$<F.length;
$++){var m=F[$],J=JSON.parse(z.lB(N["artwork/"+m.path+"/graphics/graphicContent.agc"])),w=J.children;
if(w.length==0){}else if(w.length==1){if(m["uxdesign#bounds"]){m._node=w[0];s.push(m)}}else{var f=w[0],b=f.transform,L=f.shape;
if(L==null)L={x:0,y:0,width:1e3,height:1e3};if(L.type=="path"){var C=j.p.fX(Typr.U.SVGToPath(L.path).crds);
L={x:C.x,y:C.y,width:C.m,height:C.n}}L=JSON.parse(JSON.stringify(L));if(b){L.x+=b.tx;L.y+=b.ty}m["uxdesign#bounds"]=L;
m._node={type:"artboard",artboard:{children:w}};D.push(m)}}}}if(s.length==0)s=D;var M=[],y=new dE;for(var c=0;
c<s.length;c++){var m=s[c],Q=fX.q6(m["uxdesign#bounds"]);M.push(Q);y=y.pg(Q)}var k=fX.pl(y,8192*8192);
A.Px=!0;A.m=Math.round(y.m/k);A.n=Math.round(y.n/k);A.buffer=j.Q(A.m*A.n*4);A.Gu(s.length);var E=new bj(k,0,0,k,y.x,y.y);
A.y2={};for(var c=0;c<s.length;c++){var m=s[c],Q=fX.q6(m["uxdesign#bounds"]),_=m._node,v=E.clone(),V=Q.clone(),R=v.nZ();
v.translate(-Q.x,-Q.y);V.x=-Math.floor(v.Co/R);V.y=-Math.floor(v.dW/R);V.m=Math.floor(V.m/R);V.n=Math.floor(V.n/R);
v.translate(Q.x,Q.y);hz.dQ(_,A,v,Z,N,V);var h=A.B[A.B.length-1];h.i4(m.name);h.Mx(V);if(c!=s.length-1)h.add.lsct=ez.St}delete A.y2};
hz.Wy=function(e){if(e==null)return new bj;return new bj(e.a,e.b,e.c,e.d,e.tx,e.ty)};hz.dQ=function(e,A,a,p,N,i){var Z=hz,s=e.type,D=e[s],n=e.style,S=Z.Wy(e.transform),J,w="none",f,b="none",L,C;
S.rQ();var F=a.clone();F.concat(S);var $=A.Uo(),m=e.name;$.i4(m?m.slice(0,250):"Layer");if(e.visible!=null)$.d8(e.visible);
if(n){J=n.stroke;w=J?J.type:"none";f=n.fill;b=f?f.type:"none";L=n.filters;C=n.clipPath;if(C&&p.clipPaths[C.ref])C=p.clipPaths[C.ref].children;
else C=null;if(n.opacity!=null)$.opacity=Math.round(255*n.opacity);if(b=="solid"&&f.color.alpha)$.opacity=Math.round($.opacity*f.color.alpha);
if(L){$.add.lmfx=Z.adQ(L);for(var c=0;c<L.length;c++)if(L[c].type=="uxdesign#blur"){var M=L[c],y=M.params,Q=y.brightnessAmount;
if(Q==null)Q=0;Q=Math.abs(Q/100);if((M.visible==null||M.visible==!0)&&y.backgroundEffect)$.opacity=Math.round($.opacity*(Q+(1-Q)*y.fillOpacity))}}if(b=="pattern"&&f.pattern.meta.ux.uid=="")b="none"}if(C==null&&e.meta&&e.meta.ux&&e.meta.ux.clipPathResources)C=e.meta.ux.clipPathResources.children;
if(s=="artboard"||s=="group"){if(C){var k=C[0],E=k.shape,_=E!=null&&E.type=="rect"&&E.width*E.height>1e6;
if(k.type!="text"&&!_){if(E){var S=Z.Wy(k.transform);S.rQ();var v=F.clone();v.concat(S);$.add.vmsk=new u.eP;
$.add.vmsk.i=Z.Dz(E);v=v.clone();v.rQ();j.r.nM($.add.vmsk.i,v);$.c0();$.yO(A)}}else if(!_)alert("Clipping by text has been ignored")}$.add.lsct=ez.MV;
$.Mi="pass";$.OO=24;if(e.visible!=null)$.d8(e.visible);A.B.push(A.pz());var V=D.children,R=f;if(R)R=R.color;
if(R)R=R.value;if(f){if(s=="artboard"&&b=="solid"){$.Mx(new dE(0,0,10,10));$.add.artb.Clr={t:"Objc",v:j.M.yN({o:R.r,J:R.g,k:R.b})};
$.add.artb.artboardBackgroundType={t:"long",v:4}}else{var h=A.Uo();h.i4("BACKGROUND");h.OO|=16;h.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));
h.add.vmsk=new u.eP;h.add.vmsk.i=Z.Dz({type:"rect",x:i.x,y:i.y,width:i.m,height:i.n});Z.GT(f,b,F,i,i,h,A,p,N);
h.c0();h.yO(A);A.B.push(h)}}for(var c=0;c<V.length;c++){hz.dQ(V[c],A,F,p,N,i)}}else if(s=="shape"&&(D.type=="rect"&&(D.r==null||D.r==0)||D.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(D.path)))&&b=="pattern"&&(Math.abs(D.width/D.height-f.pattern.width/f.pattern.height)<.01||n.fill.pattern.meta.ux.scaleBehavior=="fill")){var P=f.pattern,H=P.meta.ux,U=H.uid,X=N["resources/"+U];
if(X==null){console.log(P);return}var x=A.je(X,$.getName(),0,0);x.OO=$.OO;x.opacity=$.opacity;$=x;var K=j.r.km(Z.Dz(D),null),T=j.p.wt(new dE(0,0,P.width,P.height)).w,I=new bj;
I.scale(P.width/K.m,P.height/K.n);if(H.offsetX)I.translate(-H.offsetX*P.width,0);if(H.offsetY)I.translate(0,-H.offsetY*P.height);
F.concat(I);F.rQ();j.p.D(T,F,T);$.add.SoLd.Trnf=q.BD.Jw(T);$.add.SoLd.nonAffineTransform=q.BD.Jw(T);
$.kf(A,!1)}else if(s=="shape"){$.OO|=16;$.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));$.add.vmsk=new u.eP;
$.add.vmsk.i=Z.Dz(D);var K=j.r.km($.add.vmsk.i,null),v=F.clone();v.rQ();j.r.nM($.add.vmsk.i,v);var o=j.r.km($.add.vmsk.i,null);
if(w=="none"){}else{var l=J.color.value,O,g;O="SoFi";var W=JSON.parse(iF.lZ[iF.order.indexOf("SoFi")]);
g={t:"Objc",v:W};g.v.Clr.v=j.M.yN({o:l.r,J:l.g,k:l.b});var d=J.align,gT=J.cap;if(d==null)d="center";
var r=$.add.vstk;r.strokeEnabled.v=!0;r.strokeStyleLineWidth.v.val=J.width;if(d)r.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iF.kE.R0[["inside","center","outside"].indexOf(d)];
if(gT)r.strokeStyleLineCapType.v.strokeStyleLineCapType=iF.kE.oA[["butt","round","square"].indexOf(gT)];
var G=["SoFi","GrFl","patternFill"].indexOf(O),Y=[iF.Gw,iF.wu,iF.RE][G];r.strokeStyleContent.v={classID:iF.kE.GD[0]};
var fk=r.strokeStyleContent.v={classID:iF.kE.GD[G]};for(var c=0;c<Y.length;c++)fk[Y[c]]=g.v[Y[c]]}if(L)for(var c=0;
c<L.length;c++)if(L[c].type=="uxdesign#blur"&&L[c].visible){var eJ=L[c];$.add.vmsk.UO=eJ.params.blurAmount}Z.GT(f,b,F,K,o,$,A,p,N);
$.c0();$.yO(A)}else if(s=="text"&&e.text){var eS=e.text,gL=eS.frame,cX=n.font,kj=n.textAttributes,S=F.clone(),fh=0;
S.rQ();$.add.lnsr="rend";$.add.TySh=eG.KP(0,0);$.add.TySh.oc=new dE(0,0,100,100);$.add.TySh.D=S;var gq=$.add.TySh._t,iL=eS.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
eG.f7(gq,0,iL);if(iL!=""){var ew=eG.p_(gq,0,1),dk=cX.postscriptName;if(dk==null)dk=cX.family;eG.Kv(ew,dk);
ew.JH.FontSize=Math.round(cX.size);if(f){var l=f.color.value;ew.JH.FillColor={Type:1,Values:[1,l.r/255,l.g/255,l.b/255]}}if(kj){if(kj.paragraphAlign)ew.Vx.Justification=["left","right","center"].indexOf(kj.paragraphAlign);
if(kj.letterSpacing)ew.JH.Tracking=Math.round(kj.letterSpacing);if(kj.lineHeight){ew.JH.AutoLeading=!1;
ew.JH.Leading=Math.round(kj.lineHeight)}}eG.G4(gq,0,iL.length,ew)}var j9=e.meta.ux.rangedStyles;if(j9)for(var c=0;
c<j9.length;c++){var D=j9[c],g9=Math.min(D.length,iL.length-fh);if(c==j9.length-1)g9=iL.length-fh;var ew=eG.p_(gq,fh,fh+g9),dk=D.postscriptName;
if(dk==null)dk=D.family;if(dk!=null)eG.Kv(ew,dk);var k6=D.textScript,jx=D.underline,fV=D.fontSize,M=D.fill,ao=D.textTransform;
if(k6&&k6!="none")ew.JH.FontBaseline=k6=="superscript"?1:2;if(jx!=null)ew.JH.Underline=jx;if(fV!=null)ew.JH.FontSize=Math.round(fV);
if(ao!=null)ew.JH.FontCaps=ao=="uppercase"?2:0;if(ao=="lowercase"){eG.BL(gq,fh,fh+g9);eG.f7(gq,fh,iL.slice(fh,fh+g9).toLowerCase())}if(M!=null){var b8=M.value;
ew.JH.FillColor={Type:1,Values:[1,(b8>>>16&255)/255,(b8>>>8&255)/255,(b8>>>0&255)/255]}}eG.G4(gq,fh,fh+g9,ew);
fh+=g9}if(gL.type=="area"||gL.type=="autoHeight"){var ke=gL.width,gj=gL.height;eG.XX(gq,1);eG.dw(gq,[0,0,ke,gj!=null?gj:ke*2])}}else if(s=="syncRef"){var jf=e.syncSourceGuid,fz=p.meta.ux.symbols,ei=Z.SE(fz,jf);
if(ei){var iI=F.clone();iI.concat(Z.Wy(ei.transform));hz.dQ(ei,A,iI,p,N,i)}return}else console.log(s,e);
A.B.push($)};hz.SE=function(e,A){for(var c=0;c<e.length;c++){var a=e[c],p=a.group;if(a.id==A)return a;
if(p){var N=hz.SE(p.children,A);if(N)return N}}return null};hz.Dz=function(e){var A=e.type,a=[{type:6},{type:8,all:0}];
if(A=="rect"){var p=e.r,N=e.x,i=e.y,Z=e.width,s=e.height;a=j.r.Qa.Rect(N,i,Z,s,p?p:0)}else if(A=="circle"){var p=e.r;
a=j.r.Qa.CH(e.cx-p,e.cy-p,2*p,2*p)}else if(A=="ellipse"){var D=e.rx,n=e.ry;a=j.r.Qa.CH(e.cx-D,e.cy-n,2*D,2*n)}else if(A=="path"||A=="compound"){var S=Typr.U.SVGToPath(e.path);
a=j.p.Hh({F:S.cmds,w:S.crds},!1)}else if(A=="line"){var F=e.x1,$=e.x2,m=e.y1,J=e.y2;a=j.r.Qa.uL([F,m,$,J],0,!0)}else if(A=="polygon"){var w=e.points,f=[];
for(var c=0;c<w.length;c++)f.push(w[c].x,w[c].y);a=a.concat(j.r.Qa.uL(f,0,!1).slice(2))}else console.log(A,e);
return a};hz.adQ=function(e){var A=JSON.parse(iF.default);for(var c=0;c<iF.order.length;c++)A[iF.RU[c]]={t:"VlLs",v:[]};
for(var c=0;c<e.length;c++){var a=e[c],p=a.type,N=a.params,i=a.visible;if(p=="dropShadow"){var Z=iF.RU[iF.order.indexOf("DrSh")],s=JSON.parse(iF.lZ[iF.order.indexOf("DrSh")]);
A[Z].v.unshift({t:"Objc",v:s});var D=N.dropShadows;if(D.length!=1)throw"e";var n=D[c],S=n.color,F=S.value,$=n.dx,m=n.dy;
s.Clr.v=j.M.yN({o:F.r,J:F.g,k:F.b});s.Opct.v.val=Math.round((S.alpha!=null?S.alpha:1)*100);s.uglg.v=!1;
s.enab.v=i!=null?i:!0;s.lagl.v.val=Math.round(180/Math.PI*Math.atan2(m,-$));s.Dstn.v.val=Math.round(Math.sqrt($*$+m*m));
s.blur.v.val=Math.round(n.r*2.3)}}return A};hz.GT=function(e,A,a,p,N,i,Z,s,D){var n=hz;if(A=="none"){i.add.vstk.fillEnabled.v=!1;
i.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.M.yN({o:0,J:0,k:0})}}}else{var S,F,$;if(A=="solid"){var m=e.color.value;
S="SoCo";F=iF.Gw;var J=JSON.parse(iF.lZ[iF.order.indexOf("SoFi")]);$={t:"Objc",v:J};$.v.Clr.v=j.M.yN({o:m.r,J:m.g,k:m.b})}else if(A=="gradient"){S="GdFl";
F=iF.wu;var J=JSON.parse(iF.lZ[iF.order.indexOf("GrFl")]),w=J.Grad.v,M,y,Q;w.Intr.v=0;var f=e[A],b=f.ref?s.gradients[f.ref]:f.meta.ux.gradientResources,L=["linear","radial","angular"].indexOf(b.type),C=b.stops;
J.Type.v.GrdT=["Lnr","Rdl","Angl"][L];if(L==0){var M=new k7(f.x1,f.y1),y=new k7(f.x2,f.y2);M.x=y.x+.5*(M.x-y.x);
M.y=y.y+.5*(M.y-y.y)}else{var M=new k7(f.cx,f.cy),y=new k7(f.cx+f.r,f.cy)}Q=N;if(f.units=="objectBoundingBox"){var k=new bj(p.m,0,0,p.n,p.x,p.y);
M=k.Av(M);y=k.Av(y)}var k=n.Wy(f.transform);M=k.Av(M);y=k.Av(y);k=a.clone();k.rQ();M=k.Av(M);y=k.Av(y);
j.M.NB(M,y,Q,J);var E=[];for(var c=0;c<C.length;c++){var _=C[c],v=_.color,m=v.value,V=v.alpha;if(V==null)V=1;
E.push([_.offset,[m.r/255,m.g/255,m.b/255],V])}j.M.QG(E,w);$={t:"Objc",v:J}}else if(A=="pattern"){S="PtFl";
F=iF.RE;var J=JSON.parse(iF.lZ[iF.order.indexOf("patternFill")]),T;$={t:"Objc",v:J};var R=e[A],h=R.meta.ux,P=h.uid,H=D["resources/"+P].buffer,U=h.flipX,X=h.flipY,x=P+U+X,K=fI.ti(H);
if(Z.y2[x])T=Z.y2[x];else{var I=new dE(0,0,R.width,R.height),o;if(I.QP()||K==null){I=new dE(0,0,1,1);
o=new ArrayBuffer(4)}else{var l=fI.nP(K);if(l.S$){var O=new ar;l.QS(H,O);o=O.WR().buffer}else{try{var g=l.QS(H)[0];
o=g.data;I=g.WJ}catch(i1){o=new ArrayBuffer(I.O()*4)}}}T={};T.id=ar.sY()+"-d71c-11e5-b1ae-a548a96e5f9f";
T.name="someImage";T._q=[new Uint8Array(o),I];if(U)j.K.uo(T._q[0].slice(0),T._q[0],I.m,I.n);if(X)j.K.a5T(T._q[0].slice(0),T._q[0],I.m,I.n);
Z.S7(T);Z.y2[x]=T}var W=a.clone();W.rQ();W.translate(p.x,p.y);var d=p.m,gT=p.n,r=T._q[1].m,G=T._q[1].n,Y=Math.max(d/r,gT/G);
if(h.scale)Y*=h.scale;var fk=new bj;fk.translate(-r/2,-G/2);fk.scale(1/r,1/G);if(h.offsetX!=null)fk.translate(h.offsetX,h.offsetY);
fk.scale(r,G);fk.scale(Y,Y);fk.translate(d/2,gT/2);fk.concat(W);b6.a3W(T,J,0,0,1e3,fk)}else console.log(A);
if(S!=null){i.add[S]={classID:"null"};for(var c=0;c<F.length;c++){var eJ=F[c];i.add[S][eJ]=$.v[eJ]}}}};
function er(){}er.__=function(e,A,a){if(a&&a[0]==null)a=null;e=new Uint8Array(e);var p,m=1;if(e[0]==255&&e[1]==254)p=z.xy(e,2,(e.length>>>1)-1);
else p=z.lB(e,0,e.length);var N=new DOMParser,i=N.parseFromString(p,"image/svg+xml"),Z=i.getElementsByTagName("style")[0];
if(Z)Z=Typr.U.SVG.cssMap(Z.textContent);else Z={};var s=i.firstChild;while(s.tagName!="svg")s=s.nextSibling;
var D=new dE(0,0,100,100),n=s.getAttribute("viewBox"),S=s.getAttribute("width"),F=s.getAttribute("height");
if(n){var $=er.ayI(n);D.x=$[0];D.y=$[1];D.m=$[2];D.n=$[3]}else if(S!=null||F!=null){D.m=S!=null?parseFloat(S):parseFloat(F);
D.n=F!=null?parseFloat(F):parseFloat(S)}D=j.p.dE(D);while(a&&Math.max(D.m*m,D.n*m)<Math.max(a[0],a[1]))m++;
while(a==null&&Math.max(D.m,D.n)*m>8192)m*=.5;A.Px=!0;A.m=~~(D.m*m);A.n=~~(D.n*m);A.buffer=j.Q(A.m*A.n*4);
var J=new bj(m,0,0,m,-D.x*m,-D.y*m),w={gP:er.hq(s),aor:Z,VC:0};er.NU(i,s.children,A,J,w,new bj,0);if(A.B.length==0){var f=A.Uo();
f.i4("Layer");A.B.push(f)}};er.ayI=function(e){var A=" ";if(e.indexOf(",")!=-1)A=",";return e.split(A).map(parseFloat)};
er.NU=function(e,A,a,p,N,i,Z,s){var D=er,n=["display","opacity","fill-opacity","filter","clip-path"],S=0;
for(var F=0;F<A.length;F++){var $=A[F],m=$.tagName,J=$.getAttribute("id"),b=13,Q=1,_="clip-path",v=null,K=0;
if(J==null)J=$.getAttribute("data-name");var w=D.hq($,N.aor);for(var f in N.gP)if(n.indexOf(f)==-1&&w[f]==null)w[f]=N.gP[f];
if(w["font-size"])b=D.oH(w["font-size"],b);if($.getAttribute("dx"))p.Co+=D.oH($.getAttribute("dx"),b);
if($.getAttribute("dy"))p.dW+=D.oH($.getAttribute("dy"),b);var L=D.pi($);L.concat(p);var C=$.getAttribute("visibility"),M=w.display,y=a.Uo();
if(C=="hidden"||M=="none")y.d8(!1);y.i4(J!=null?J.split(":::")[0]:"Layer");if(w.opacity)Q*=parseFloat(w.opacity);
if(w["fill-opacity"]){var k=parseFloat(w["fill-opacity"]);if(k!=0)Q*=k}y.opacity=Math.round(255*Q);if(w["mix-blend-mode"]){var E=im.pm.indexOf(w["mix-blend-mode"]);
if(E!=-1)y.Mi=im.U6[E]}if($.getAttribute(_)==null)_="mask";if($.getAttribute(_)!=null||w["clip-path"]){var V=$.getAttribute(_);
if(V==null)V=w["clip-path"];V=V.slice(4,V.length-1);var R=e.getElementById(V.slice(1));if(R){var h=R.children;
v=a.Uo();v.i4("Clip-Path"+(J?": "+J:""));v.add.lsct=Z<2?ez.MV:ez.St;v.Mi="pass";v.OO=24;var P=v.add.vmsk=new u.eP;
a.B.push(a.pz());var H=[];if(R.getAttribute(_)){var V=R.getAttribute(_);V=V.slice(4,V.length-1);H=e.getElementById(V.slice(1)).children}for(var c=0;
c<h.length;c++){var U=D.pi(h[c]);U.concat(L);var X=D.Dz(a,e,h[c],!1).slice(2);j.r.nM(X,U);P.i=P.i.concat(X)}for(var c=0;
c<H.length;c++){var U=D.pi(h[c]);U.concat(L);var X=D.Dz(a,e,H[c],!1).slice(2);for(var x=0;x<X.length;
x++)if(X[c].kR!=null)X[c].kR=3;j.r.nM(X,U);P.i=P.i.concat(X)}v.c0();v.yO();Z++}}if(w.filter&&w.filter!="none"){var T=w.filter,o,l,O,W=!1,d=!1,gT=!1;
T=T.slice(5,T.length-1);var I=e.getElementById(T),g=[0,0,0,.5],r=L.nZ();if(I)for(var c=0;c<I.children.length;
c++){var G=I.children[c];if(G.tagName=="feGaussianBlur"){W=!0;o=parseFloat(G.getAttribute("stdDeviation"))*r}if(G.tagName=="feColorMatrix"){var Y=G.getAttribute("values");
if(Y){Y=Y.split(" ").map(parseFloat);g=[Y[4],Y[9],Y[14],Y[18]]}}if(G.tagName=="feComposite"){gT=!0}if(G.tagName=="feOffset"){d=!0;
var fk=G.getAttribute("dx"),eJ=G.getAttribute("dy");l=parseFloat(fk?fk:0)*r;O=parseFloat(eJ?eJ:0)*r}}if(W&&(gT||d)){var eS=gT?"IrSh":"DrSh";
if(eS=="IrSh"){y.add.iOpa=0}var gL=JSON.parse(iF.lZ[iF.order.indexOf(eS)]);gL.blur.v.val=Math.round(o*2.4);
var cX=Math.sqrt(l*l+O*O);gL.uglg.v=!1;gL.Dstn.v.val=Math.round(cX);gL.lagl.v.val=Math.round(Math.atan2(O,-l)*(180/Math.PI));
gL.Clr.v=j.M.yN({o:g[0]*255,J:g[1]*255,k:g[2]*255});gL.Opct.v.val=Math.round(g[3]*100);D.akJ(y,iF.RU[iF.order.indexOf(eS)],gL)}else if(W)K=o}if(m=="g"||m=="a"||m=="svg"||m=="switch"||(m=="text"||m=="textPath")&&$.children.length>0||m=="symbol"&&s){if(m=="text")i=D.H5($,i);
var kj=$.getAttribute("viewBox"),gq=$.getAttribute("width"),iL=$.getAttribute("height");if(kj&&gq&&iL){var ew=er.ayI(kj),dk=D.H5($),j9=new bj;
j9.translate(-ew[0],-ew[1]);j9.scale(parseFloat(gq)/ew[2],parseFloat(iL)/ew[3]);j9.translate(dk.Co,dk.dW);
j9.concat(L);L=j9}var fh=$.children.length,g9=N.gP;N.gP=w;var k6=N.VC;N.VC=Math.max(N.VC,K);var jx=m!="text"&&m!="textPath"||fh>1;
if(jx){var fV=y.gi();y.add.lsct=Z<2&&fV&&(J==null||!J.endsWith(":::"))?ez.MV:ez.St;y.Mi="pass";y.OO=24;
y.d8(fV);a.B.push(a.pz())}D.NU(e,$.children,a,L,N,i,Z+1);if(jx)a.B.push(y);else{var ao=a.B[a.B.length-1];
ao.opacity=y.opacity;ao.Mi=y.Mi}N.VC=k6;N.gP=g9}else if(m=="use"){var j9=D.H5($);j9.concat(L);var b8=D.GG($),ke=e.getElementById(b8.slice(1));
if(ke){var g9=N.gP;N.gP=w;if(w.filter)ke.setAttribute("filter",w.filter);D.NU(e,[ke],a,j9,N,i,Z+1,!0);
N.gP=g9}}else if(m=="path"||m=="rect"||m=="circle"||m=="ellipse"||m=="polygon"||m=="polyline"||m=="line"){y.OO|=16;
y.add.vmsk=new u.eP;y.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));y.add.vstk.strokeEnabled.v=!1;
var gj=y.add.vstk,P=y.add.vmsk,jf=w.fill,ay=jf=="none"||w["fill-opacity"]&&parseFloat(w["fill-opacity"])==0;
P.i=D.Dz(a,e,$,w["fill-rule"]=="evenodd",ay);j.r.nM(P.i,L);var fz=j.r.km(P.i),ei=w.stroke,iI=w["stroke-width"],gQ=w["stroke-dasharray"],cb=w["stroke-linejoin"],dK=w["stroke-linecap"],ha=w["paint-order"];
if(ei==null||ei=="none"||ei=="null"){}else{var hA=D.amz(e,ei,L,fz,a),dW=["SoFi","GrFl","patternFill"].indexOf(hA.type),fN=hA.Z.v.Opct.v,hh=1;
if(fN.val!=100){y.opacity=Math.round(y.opacity*fN.val/100);fN.val=100}var cQ=[iF.Gw,iF.wu,iF.RE][dW],h6=gj.strokeStyleContent.v={classID:iF.kE.GD[dW]};
for(var c=0;c<cQ.length;c++)h6[cQ[c]]=hA.Z.v[cQ[c]];iI=iI?parseFloat(iI):1;if(ha&&ha.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){hh=2;
iI/=2}gj.strokeEnabled.v=!0;if(cb)gj.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iF.kE.join[["miter","round","bevel"].indexOf(cb)];
if(dK)gj.strokeStyleLineCapType.v.strokeStyleLineCapType=iF.kE.oA[["butt","round","square"].indexOf(dK)];
gj.strokeStyleLineWidth.v.val=iI*L.nZ();gj.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iF.kE.R0[hh];
gj.strokeStyleOpacity.v.val=100*(w["stroke-opacity"]?parseFloat(w["stroke-opacity"]):1);if(gQ!=null&&gQ!="none")gj.strokeStyleLineDashSet.v=b6.td(gQ.split(",").map(parseFloat),1/iI)}if(ay){y.add.vstk.fillEnabled.v=!1;
y.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.M.yN({o:0,J:0,k:0})}}}else{var hA=D.amz(e,jf,L,fz,a),bA=null,co=null;
if(hA.type=="SoFi"){bA="SoCo";co=iF.Gw}if(hA.type=="GrFl"){bA="GdFl";co=iF.wu}if(hA.type=="patternFill"){bA="PtFl";
co=iF.RE}if(bA!=null){var fN=hA.Z.v.Opct.v;if(fN.val!=100){y.opacity=Math.round(y.opacity*fN.val/100);
fN.val=100}y.add[bA]={classID:"null"};for(var c=0;c<co.length;c++){var f=co[c];y.add[bA][f]=hA.Z.v[f]}}}var ej=Math.max(K,N.VC);
if(ej!=0)y.add.vmsk.UO=ej;y.c0();y.yO(a);a.B.push(y)}else if((m=="text"||m=="tspan")&&$.textContent!=""){i=D.H5($,i);
var j9=i.clone(),O=0;j9.concat(L);j9.translate(S,0);if($.children.length>0){var bk=D.hq($.children[0],N.aor);
for(var f in bk)if(n.indexOf(f)==-1)w[f]=bk[f]}var h5=w["xml:space"],bg=$.textContent;if(h5=="preserve")bg=bg.replace(/\t/g," ").replace(/\n/g," ");
if(J==null)y.i4(bg);y.add.lnsr="rend";y.add.TySh=eG.KP(0,0);y.add.TySh.oc=new dE(0,0,100,100);y.add.TySh.D=j9.clone();
var aQ=y.add.TySh._t;eG.f7(aQ,0,bg);if(m=="tspan")S+=b*bg.length*.5*j9.nZ();var jf=w.fill,fw=w["font-weight"],jC=w["font-family"],e0=w["text-decoration"],ei=w.stroke,iI=w["stroke-width"],eU=w["dominant-baseline"];
if(eU=="text-before-edge")O=b;else if(eU=="middle")O=b/2;else if(eU=="hanging")O=b;if(O!=0)y.add.TySh.D.translate(0,O);
var iV=eG.p_(aQ,0,1);if(jf&&jf!="none"){var g=CSS.IJ(jf);iV.JH.FillColor={Type:1,Values:[1,g.o/255,g.J/255,g.k/255]}}if(e0=="underline")iV.JH.Underline=!0;
iV.JH.FontSize=Math.round(b);eG.Kv(iV,"LiberationSans");if(fw=="bold")eG.Kv(iV,"LiberationSans-Bold");
if(jC){jC=jC.split(",")[0].trim();if(jC[0]=="\"")jC=jC.slice(1);if(jC[jC.length-1]=="\"")jC=jC.slice(0,jC.length-1);
var kh=jC+":"+(fw?fw:"normal"),hT={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(hT[kh])eG.Kv(iV,hT[kh]);else eG.Kv(iV,jC)}if(w["text-anchor"])iV.Vx.Justification=["start","end","middle"].indexOf(w["text-anchor"]);
eG.G4(aQ,0,bg.length,iV);if(ei==null||ei=="none"){}else{var gL=JSON.parse(iF.lZ[iF.order.indexOf("FrFX")]);
gL.Clr.v=j.M.yN(CSS.IJ(ei));gL.Sz.v.val=Math.round(parseFloat(iI)*j9.nZ());D.akJ(y,"frameFXMulti",gL)}a.B.push(y)}else if(m=="image"){var b8=D.GG($);
if(b8&&b8.slice(0,4)=="data"){var gi=fI.dD(b8),bD=gi,kt=a.je(bD,y.getName(),0,0);kt.OO=y.OO;y=kt;var iJ=y.rect.clone();
iJ.x=iJ.y=0;var ih=$.getAttribute("width"),fr=$.getAttribute("height");if(ih)iJ.m=parseFloat(ih);if(fr)iJ.n=parseFloat(fr);
var ad=D.H5($);ad.concat(L);var aS=j.p.wt(iJ).w;j.p.D(aS,ad,aS);y.add.SoLd.Trnf=q.BD.Jw(aS);y.add.SoLd.nonAffineTransform=q.BD.Jw(aS);
y.kf(a,!1);a.B.push(y)}}else console.log("unknown tag: "+m,$.children.length,$.textContent.length);if(v!=null){a.B.push(v);
Z--}}};er.akJ=function(e,A,a){var p=e.add.lmfx;if(p==null){var p=e.add.lmfx=JSON.parse(iF.default);for(var c=0;
c<iF.order.length;c++)p[iF.RU[c]]={t:"VlLs",v:[]}}p[A].v.push({t:"Objc",v:a})};er.Dz=function(e,A,a,p,N){var i=er,Z=[{type:6},{type:8,all:0}],s=a.tagName;
if(s=="use"){var D=i.GG(a),n=A.getElementById(D.slice(1)),S=new bj;if(n.tagName!="rect")S=i.H5(n);S.concat(i.pi(n));
Z=i.Dz(e,A,n,p,N);j.r.nM(Z,S)}else if(s=="path"){var F=a.getAttribute("d");if(F==null)return Z;var $=Typr.U.SVGToPath(F);
Z=j.p.Hh({w:$.crds,F:$.cmds},p,N)}else if(s=="rect"){var m=a.getAttribute("rx"),J=i.H5(a),w=new k7(0,0);
i.tA("width",a,e,w,!0);i.tA("height",a,e,w,!1);Z=j.r.Qa.Rect(J.Co,J.dW,w.x,w.y,m?parseFloat(m):0)}else if(s=="circle"||s=="ellipse"){var f=[0,0,0,0],b=["cx","cy","rx","ry","r"];
for(var c=0;c<5;c++){var L=a.getAttribute(b[c]);if(L){L=parseFloat(L);if(c<4)f[c]=L;else f[2]=f[3]=L}}Z=j.r.Qa.CH(f[0]-f[2],f[1]-f[3],2*f[2],2*f[3])}else if(s=="polygon"||s=="polyline"||s=="line"){var C;
if(s=="line")C=[a.getAttribute("x1"),a.getAttribute("y1"),a.getAttribute("x2"),a.getAttribute("y2")].map(parseFloat);
else C=a.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
Z=j.r.Qa.uL(C,0,s!="polygon")}return Z};er.oH=function(e,A){if(e.charAt(e.length-1)=="m")return A*parseFloat(e.slice(0,e.length-2));
else return parseFloat(e)};er.amz=function(e,A,a,p,N){var i,Z,s=er,D=JSON.parse(iF.lZ[iF.order.indexOf("SoFi")]),n=A!=null?A.indexOf("("):-1;
if(n!=-1){var S=A.indexOf(")"),F=A.slice(0,n).trim(),$=A.slice(n+1,S).trim();if($.charAt(0)=="'")$=$.slice(1,$.length-1);
if(F=="url"){if($.charAt(0)=="#"){var m=e.getElementById($.slice(1));if(m&&m.tagName.toLowerCase().endsWith("gradient")){var J=s.Dw(e,m,a,p);
i="GrFl";Z={t:"Objc",v:J}}else if(m&&m.tagName.toLowerCase()=="pattern"&&m.children[0]&&m.children[0].tagName=="use"){i="SoFi";
Z={t:"Objc",v:D};var w=m.children[0],f=s.pi(w),b=s.GG(w),L=e.getElementById(b.slice(1)),C=fI.dD(s.GG(L)).buffer,M=fI.nP(fI.ti(C)),y=M.QS(C)[0],Q={};
Q.id=ar.sY()+"-d71c-11e5-b1ae-a548a96e5f9f";Q.name="someImage";Q._q=[new Uint8Array(y.data),y.WJ];N.S7(Q);
var D=JSON.parse(iF.lZ[iF.order.indexOf("patternFill")]);D.Scl.v.val=Math.round(100*p.m*f.gg);var k=D.phase.v;
k.Hrzn.v=Math.round(p.x+f.Co*p.m);k.Vrtc.v=Math.round(p.y+f.dW*p.n);D.Ptrn.v.Idnt.v=Q.id;i="patternFill";
Z={t:"Objc",v:D}}else{i="SoFi";Z={t:"Objc",v:D}}}else console.log("unknown url",$)}else if(F=="rgb"||F=="rgba"){i="SoFi";
Z={t:"Objc",v:D};Z.v.Clr.v=j.M.yN(CSS.IJ(A));if(F=="rgba")Z.v.Opct.v.val=Math.round(100*parseFloat(A.split(",").pop()))}else console.log("unknown fill",A)}else{i="SoFi";
Z={t:"Objc",v:D};var E=CSS.IJ(A);Z.v.Clr.v=j.M.yN(E);if(E.gg!=null)Z.v.Opct.v.val=Math.round(100*E.gg/255)}return{type:i,Z:Z}};
er.pi=function(e){var A=new bj,a=e.getAttribute("transform");if(a)A=er.J8(a);var p=e.getAttribute("style");
if(p!=null){var N={};er.mm(N,p,["transform"]);p=N.transform;if(p)A.concat(er.J8(p))}return A};er.H5=function(e,A){var a=new bj,p=e.getAttribute("x"),N=e.getAttribute("y");
if(p)a.Co=parseFloat(p);else if(A)a.Co=A.Co;if(N)a.dW=parseFloat(N);else if(A)a.dW=A.dW;return a};er.J8=function(e){var A=Typr.U.SVG.readTrnf(e);
return new bj(A[0],A[1],A[2],A[3],A[4],A[5])};er.hq=function(e,A){var a={},p="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var c=0;c<p.length;c++){var N=e.getAttribute(p[c]);if(N!=null&&N!="inherit")a[p[c]]=N}var i=e.getAttribute("class");
if(A!=null&&i!=null&&A["."+i]!=null)er.mm(a,A["."+i],p);var Z=e.getAttribute("id");if(A!=null&&Z!=null&&A["#"+Z]!=null)er.mm(a,A["#"+Z],p);
var s=e.getAttribute("style");if(s!=null)er.mm(a,s,p);return a};er.mm=function(e,A,a){A=A.trim().split(";");
for(var c=0;c<A.length;c++){var p=A[c].split(":"),N=p[0]?p[0].trim():"",i=p[1]?p[1].trim():"";for(var Z=0;
Z<a.length;Z++)if(N==a[Z]&&i!="inherit")e[a[Z]]=i}};er.GG=function(e){var A=e.getAttribute("xlink:href");
if(A==null)A=e.getAttribute("href");if(A==null)A=e.getAttribute("xl:href");return A};er.tA=function(e,A,a,p,N){var i=A.getAttribute(e);
if(i==null)return;var Z=parseFloat(i);if(i.endsWith("%"))Z*=(N?a.m:a.n)/100;if(N)p.x=Z;else p.y=Z};er.Dw=function(e,A,a,p){var N=er,i=N.tA,Z=new bj,s=A.getAttribute("gradientTransform"),m=!1;
if(s)Z=N.J8(s);Z.concat(a);var D=JSON.parse(iF.lZ[iF.order.indexOf("GrFl")]),n=D.Grad.v;n.Intr.v=0;var S=A.tagName,F=new k7(0,0),$=new k7(p.m,0);
if(S=="linearGradient"){D.Type.v.GrdT="Lnr";i("x1",A,p,F,!0);i("y1",A,p,F,!1);i("x2",A,p,$,!0);i("y2",A,p,$,!1);
F.x=$.x+.5*(F.x-$.x);F.y=$.y+.5*(F.y-$.y)}if(S=="radialGradient"){D.Type.v.GrdT="Rdl";if(A.getAttribute("cx"))F.x=parseFloat(A.getAttribute("cx"));
if(A.getAttribute("cy"))F.y=parseFloat(A.getAttribute("cy"));$.rq(F.x,F.y);if(A.getAttribute("r"))$.x+=parseFloat(A.getAttribute("r"))}var J=A;
while(!0){if(J.getAttribute("gradientUnits")=="userSpaceOnUse")m=!0;var w=N.GG(J);if(w==null)break;J=e.getElementById(w.slice(1))}if(m){F=Z.Av(F);
$=Z.Av($)}else{F.x=p.x+F.x*p.m;F.y=p.y+F.y*p.n;$.x=p.x+$.x*p.m;$.y=p.y+$.y*p.n}j.M.NB(F,$,p,D);var f=A.children;
if(f.length==0){var b=N.GG(A);if(b==null)throw"gradient has no stops";var L=e.getElementById(b.slice(1));
if(L==null){console.log(b.slice(1))}else{var C=N.Dw(e,L,Z,p);D.Grad=C.Grad}}else{var M=[];for(var c=0;
c<f.length;c++){var y=f[c],Q=N.hq(y),k=Q["stop-color"],E=Q["stop-opacity"],_=y.getAttribute("offset");
if(k==null)k="#000000";E=E==null?1:parseFloat(E);var v=_?parseFloat(_):0;if(_&&_.endsWith("%"))v/=100;
k=CSS.IJ(k);if(k.gg!=null)E*=k.gg/255;M.push([v,[k.o/255,k.J/255,k.k/255],parseFloat(E)])}j.M.QG(M,n)}return D};
er.kz=function(){var e=null,A=null,a="",p="";function N(k,E,_){var v=[],P=" { ",H=" } ",U=!1;A=E;p=E.fB?"":"\t";
a=E.fB?"":" ";var V=E.aaW,R=E.aaX;v.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+k.m+" "+k.n+"\" width=\""+V+"\" height=\""+R+"\">");
if(!E.fB)v.push(i(1)+"<title>"+L(k.name.split(".")[0])+"</title>");var h={kh:[],eL:[],i2:0,Zd:0,P0:0,KF:{},q5:{},SS:0,Sc:{},ay2:{},us:0,de:[]};
J(k,h,k.root.children,1,E,_);if(h.kh.length!=0){v.push(i(1)+"<defs>");v=v.concat(h.kh);v.push(i(1)+"</defs>")}v.push(i(1)+"<style>");
if(E.fB){P="{";H="}"}for(var c=0;c<k.B.length;c++)if(k.B[c].add.TySh)U=!0;if(U&&!E.a2k&&!E.a8Z)v.push(i(2)+"tspan"+P+"white-space:pre"+H);
for(var X in h.Sc)v.push(i(2)+"."+X+P+h.Sc[X]+H);v.push(i(1)+"</style>");v=v.concat(h.eL);v.push("</svg>");
v=v.join(E.fB?"":"\n");return z.Fp(v)}function i(iM){var k="";for(var c=0;c<iM;c++)k+=p;return k}function Z(iM,k){if(k==null)k=1;
var E=""+parseFloat(iM.toFixed(k));if(E.startsWith("0."))E=E.slice(1);return E}function s(k,E){var _=k.add.lmfx;
if(_)_=_[E].v[0];if(_)_=_.v;if(_&&!_.enab.v)_=null;return _}function D(k,E){var _=s(k,"frameFXMulti");
if(_){var v=_.Sz.v.val;if(_.Styl.v.FStl=="OutF"){E.push("paint-order:stroke fill markers");v*=2}m(E,CSS.E3(_.Clr.v),1);
if(v!=1)E.push("stroke-width: "+v);E.push("stroke-linejoin: round;")}}var n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function S(k){var E=n.length,_="";for(var v=1;v<10;v++){var V=(E-10)*~~Math.pow(E,v-1);if(k<V){for(var c=0;
c<v;c++){var R=c==v-1?10:0,h=E-R,P=k%h;_=n[P+R]+_;k=Math.floor((k-P)/h)}break}k-=V}return _}function F(k,E,_,v){if(k.length!=0){if(v==null)v="s";
var V=k.join(";"),R=E.ay2[V];if(R==null){R=A.fB?S(E.us):v+E.us;E.us++;E.ay2[V]=R;E.Sc[R]=V}if(_)_.push(R);
return R}}function $(k){if(A.fB&&k.length==7&&k[0]=="#"){if(k[1]==k[2]&&k[3]==k[4]&&k[5]==k[6])k="#"+k[1]+k[3]+k[5]}return k}function m(k,E,_){E=$(E);
if(E!="#000"||_==1)k.push((_==0?"fill:":"stroke:")+a+E)}function J(k,E,_,v,V,R){var h=!1;for(var P=0;
P<_.length;P++){var H=_[P].j,U=H.add.lsct;if(!H.G0&&_[P+1]&&_[P+1].j.G0&&H.c7()&&H.add.vmsk){var X=[];
M(H,H.add.vmsk,E,X);E.eL.push(i(v)+"<g "+X[0]+">");v++;h=!0}else if(!H.G0&&_[P-1]&&_[P-1].j.G0&&h){v--;
E.eL.push(i(v)+"</g>");h=!1}var x=H.add.vmsk,K=H.add.vogk,T=H.add.vstk,I=H.add.TySh;if(x&&!x.isEnabled)x=T=null;
var o=[];if(!V.hidden&&!H.gi())continue;var l=H.opacity/255,O=H.add.iOpa?H.add.iOpa/255:1;if(H.yg()){l*=O;
O=1}if(l!=1)o.push("opacity:"+a+Z(l));if(O!=1)o.push("fill-opacity:"+a+Z(O));if(H.Mi!="norm"){var g=im.pm[im.U6.indexOf(H.Mi)];
if(g!=null)o.push("mix-blend-mode:"+a+g)}if(!H.gi())o.push("display:"+a+"none");var X=[],W=[],d=H.getName(),gT=d.indexOf(" .");
if(!V.fB)X.push("id=\""+L(d)+"\"");var r=b6.kY(H.add.lmfx,H.add),G=r[0],Y=r[1];if(H.yg()){var fk=_[P].children;
if(!(fk.length==1&&fk[0].j.add.SoLd&&!V.f2)){if(e&&H.getName().split("-").length==3){e.push({lO:H.getName(),VP:0,Cq:[]})}M(H,x,E,X);
if(o.length!=0)X.push("style=\""+o.join(";")+"\"");var eJ=b(X,W),eS=V.fB&&eJ=="";if(!eS)E.eL.push(i(v)+"<g"+(eJ==""?"":" "+eJ)+">");
J(k,E,fk,v+1,V,R);if(!eS)E.eL.push(i(v)+"</g>")}}else if(H.c7()&&x==null){var gL=new dE(0,0,k.m,k.n);
y(k,o,H.add,E,gL,V);if(o.length!=0)X.push("style=\""+o.join(";")+"\"");E.eL.push(i(v)+"<rect width=\""+k.m+"\" height=\""+k.n+"\" "+b(X,W)+"/>")}else if(x&&H.add.SoLd==null){var gL=j.r.km(x.i,null,!0),cX,kj=null,gq=0,iL;
y(k,o,H.add,E,gL,V);F(o,E,W);if(K.length!=0){cX=K[0].v;kj=cX.keyOriginType;if(kj)kj=kj.v;if(kj==2){var ew=j.X.q1(cX);
gq=ew[0];for(var c=0;c<3;c++)if(gq!=ew[c+1])kj=null}}if(K.length==1&&kj==5&&Math.abs(j.X.wG(cX))<1e-4){var gL=j.X.Ic(cX),dk=(gL[0]+gL[2])/2,j9=(gL[1]+gL[3])/2,fh=dk-gL[0],g9=j9-gL[1],k6=Math.abs(fh-g9)<.01,jx=k6?"r=\""+Z(fh)+"\"":"rx=\""+Z(fh)+"\" ry=\""+Z(g9)+"\"";
iL="<"+(k6?"circle":"ellipse")+" "+b(X,W)+" cx=\""+Z(dk)+"\" cy=\""+Z(j9)+"\" "+jx+"/>"}else if(K.length==1&&kj==2&&gq!=0&&Math.abs(j.X.wG(cX))<1e-4){var gL=j.X.Ic(cX),fV=gL[0],ao=gL[1],b8=gL[2]-gL[0],ke=gL[3]-gL[1],gj="";
if(fV!=0)gj+=" x=\""+Z(fV)+"\"";if(ao!=0)gj+=" y=\""+Z(ao)+"\"";gj+=" width=\""+Z(b8)+"\"";gj+=" height=\""+Z(ke)+"\"";
gj+=" rx=\""+Z(gq)+"\"";iL="<rect "+b(X,W)+gj+"></rect>"}else{var jf=j.r.Mh(x.i,1);if(jf.r4!=0){X.push("fill-rule=\"evenodd\"")}iL="<path "+b(X,W)+" d=\""+jf.cH+"\"/>"}E.eL.push(i(v)+iL);
if(e&&e[e.length-1]){var ay=j.p.rh(x.i);ay.w=ay.w.map(Math.round);var fz=e[e.length-1];fz.VP+=JSON.stringify(ay).length;
fz.Cq.push([o[0].split("#").pop(),ay])}}else if(I&&V.a2k){a=V.fB?"":" ";var ei=I._t,iI=new dl(ei,R),gQ=null;
if(G)gQ=CSS.E3(G.Clr.v);if(Y){var gL=H.rect.clone();Q(Y,E,gL,V);gQ="url(#g"+E.i2+")"}if(gQ)o.push("fill:"+a+gQ);
D(H,o);var cb=ek.xe(iI,I),dK=j.p.C8(cb);for(var ha in dK){var hA=o.slice(0),dW=W.slice(0),fN=X.slice(0);
if(gQ==null){m(hA,ha.slice(0,7),0);if(ha.length>7){var cQ=ha.slice(7).split("-");console.log(cQ);m(hA,cQ[1],1);
if(cQ[2]!="1")hA.push("stroke-width:"+a+cQ[2])}}F(hA,E,dW);var h6=dK[ha],cQ=Typr.U.pathToSVG({crds:h6.w,cmds:h6.F},1);
E.eL.push(i(v)+"<path "+b(fN,dW)+(V.fB?"":" "+f(I))+" d=\""+cQ+"\"/>")}}else if(I&&!V.a8Z){var ei=I._t,hh=I.D.clone(),gQ=null;
o.push("transform:"+a+C(hh));var bA=eG.Ob(ei),iI=new dl(ei,R);D(H,o);if(o.length!=0)X.push("style=\""+o.join(";")+"\"");
E.eL.push(i(v)+"<text "+b(X,W)+" >");if(G)gQ=CSS.E3(G.Clr.v);if(Y){var gL=H.rect.clone();gL.x-=hh.Co;
gL.y-=hh.dW;Q(Y,E,gL,V);gQ=" url(#g"+E.i2+")"}for(var c=0;c<iI.Vx.length;c++){var co=iI.Vx[c];if(co.H4.length==1&&co.H4[0].kF)continue;
for(var ej=0;ej<co.Re.length;ej++){var bk=co.Re[ej],j9=co.my.y+bk.my.y,h5=co.H4[bk.start].start,bg=co.H4[bk.end-1].end,aQ=eG.anw(ei,h5,bg),fw="";
for(var jC=0;jC<aQ.length;jC++){var e0=iI.VG(h5),eU=aQ[jC],iV=eG.p_(ei,h5,h5),kh=iV.eu[iV.JH.Font].Name,ha=eG.kq(iV.JH.FillColor),hT=Math.round(iV.JH.FontSize),gi=bA.slice(h5,h5+eU);
if(iV.JH.FontCaps==2)gi=gi.toUpperCase();var bD=new bj;bD.translate(e0.nd.x,-j9);var kt=[];CSS.a3j(kt,iV,null,!0,!0,gQ);
var iJ=F(kt,E,null,"t");iJ=iJ?" class=\""+iJ+"\"":"";var dk=e0.nd.x,ih=w(iV,gi);fw+="<tspan "+(jC==0?"x=\""+Z(e0.nd.x)+"\"":"")+" y=\""+Z(j9)+"\""+iJ+ih+">"+L(gi)+"</tspan>";
h5+=eU}E.eL.push(i(v+1)+fw)}}E.eL.push(i(v)+"</text>")}else if(H.add.SoLd&&V.f2&&G==null){var fr=H.add.SoLd,ad=fr.Idnt.v,aS=0,cD=fr.Crop?fr.Crop.v:null;
if(E.q5[ad]!=null)aS=E.q5[ad];else{E.SS++;aS=E.SS;E.q5[ad]=E.SS;var dR=k.Bu(ad,cD),jT="";if(dR==null)return;
var cz=dR.G9,b0=fI.ti(dR.raw.buffer);if(b0=="pdf"){var bW=new ar("h");fI.nP("PDF").QS(dR.raw.buffer,bW);
bW.WF();bW.Ht();bW.U();bW.HD();if(fr.Crop&&fr.Crop.v==1){q.v9.UE(bW,bW.root.V0(bW,!0))}var aU=fI.nP("SVG").Eu(bW,bW.m,bW.n,null,{de:R});
jT="data:image/svg+xml;base64,"+fI.$v(aU)}else if(b0=="jpg"||b0=="png"||b0=="gif"||b0=="svg"){var ff={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
jT="data:"+ff[b0]+";base64,"+fI.$v(dR.raw.buffer)}else{jT=fI.di(cz[0].buffer,cz[1].m,cz[1].n)}E.kh.push(i(2)+"<image width=\""+cz[1].m+"\" height=\""+cz[1].n+"\" id=\"img"+aS+"\" href=\""+jT+"\"/>")}var ca=j.K.Ba(fr),cT=[];
M(H,x,E,cT);if(cT.length!=0)E.eL.push(i(v)+"<g "+b(cT,W)+">");if(o.length!=0)X.push("style=\""+o.join(";")+"\"");
var b3=b(X,W);E.eL.push(i(v)+"<use "+b3+" href=\"#img"+aS+"\" transform=\""+C(ca)+"\"/>");if(cT.length!=0)E.eL.push(i(v)+"</g>")}else if(!H.rect.QP()&&(V.f2||I)){if(o.length!=0)X.push("style=\""+o.join(";")+"\"");
var b3=b(X,W),hK=H.buffer;if(G)hK=b6.axo(hK,G,H.rect);var cS=H.rect;E.SS++;var jT=fI.di(hK.buffer,cS.m,cS.n,"png",null,!0);
E.kh.push(i(2)+"<image "+f(I)+" width=\""+H.rect.m+"\" height=\""+H.rect.n+"\" id=\"img"+E.SS+"\" href=\""+jT+"\"/>");
E.eL.push(i(v)+"<use "+b3+" href=\"#img"+E.SS+"\" x=\""+cS.x+"\" y=\""+cS.y+"\"/>")}}if(h){v--;E.eL.push(i(v)+"</g>");
h=!1}}function w(k,E){var _=k.JH.Tracking,v="";if(_!=null&&_!=0){_=Math.round(_*k.JH.FontSize/1e3);v=" dx=\"0";
for(var V=1;V<E.length;V++)v+=" "+_;v+="\" "}return v}function f(k){if(k==null)return"";var E=k._t,_=eG.Ob(E);
_=L(_.slice(0,_.length-1));return"aria-label=\""+_+"\" "}function b(k,E){if(E.length!=0)k.push("class=\""+E.join(" ")+"\"");
return k.join(" ")}function L(k){return String(k).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function C(k){var E=[k.gg,k.k,k.b9,k.pU,k.Co,k.dW];
for(var c=0;c<6;c++)E[c]=Z(E[c],3);return"matrix("+E.join(",")+")"}function M(k,E,_,v){if(E||k.add.artb){var V;
if(E)V=j.r.Mh(E.i).cH;else{var R=k.jP(),h=j.p.wt(R);V=Typr.U.pathToSVG({crds:h.w,cmds:h.F},1)}_.P0++;
v.push("clip-path=\"url(#cp"+_.P0+")\"");_.kh.push(i(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+_.P0+"\">");
_.kh.push(i(3)+"<path d=\""+V+"\"/>");_.kh.push(i(2)+"</clipPath>")}}function y(k,E,_,v,V,R){var h=_.vstk,P=_.vmsk,H=_.lmfx,U=[];
if(P&&P.UO!=0){var X=Z(P.UO);if(v.KF[X]==null){v.Zd++;v.KF[X]=v.Zd;v.kh.push(i(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+v.Zd+"\"> <feGaussianBlur stdDeviation=\""+X+"\"/> </filter>")}U.push("url(#f"+v.KF[X]+")")}if(H)for(var c=0;
c<iF.order.length;c++){var x=iF.order[c],K=iF.RU[c],T=H[K].v;for(var I=0;I<T.length;I++){var o=T[I].v,l=o.classID;
if(!o.enab.v)continue;if(l=="OrGl"||l=="DrSh"){v.Zd++;U.push("url(#f"+v.Zd+")");var O=0,g=0,W=o.blur.v.val/2.4,d=o.Opct.v.val/100;
if(l=="DrSh"){var gT=o.uglg&&o.uglg.v?k.RO():o.lagl.v.val;gT=gT*(Math.PI/180);var r=o.Dstn.v.val;O=-Math.cos(gT)*r;
g=Math.sin(gT)*r}if(l=="OrGl")d/=o.Inpr.v.val/100;var G="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+v.Zd+"\" >";
G+="<feDropShadow dx=\""+O+"\" dy=\""+g+"\" stdDeviation=\""+W+"\" flood-color=\""+CSS.E3(o.Clr.v)+"\" flood-opacity=\""+Z(d)+"\"/>";
G+="</filter>";v.kh.push(i(2)+G)}}}if(U.length!=0)E.push("filter:"+a+U.join(" "));var Y=b6.kY(H,_),fk=Y[0],eJ=Y[1];
if(h&&!h.fillEnabled.v)E.push("fill:"+a+"none");else if(fk){var eS=CSS.E3(fk.Clr.v);m(E,eS,0)}else if(eJ){Q(eJ,v,V,R);
m(E,"url(#g"+v.i2+")",0)}if(h==null||!h.strokeEnabled.v)h=b6.mG(H);if(h&&h.strokeEnabled.v){var gL=h.strokeStyleContent.v,cX=gL.classID;
if(cX=="solidColorLayer")m(E,CSS.E3(gL.Clr.v),1);else{Q(gL,v,V,R);m(E,"url(#g"+v.i2+")",1)}var kj=iF.kE.oA.indexOf(h.strokeStyleLineCapType.v.strokeStyleLineCapType),gq=iF.kE.join.indexOf(h.strokeStyleLineJoinType.v.strokeStyleLineJoinType),iL=h.strokeStyleOpacity.v.val/100,ew=h.strokeStyleLineWidth.v.val,dk=iF.kE.R0.indexOf(h.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(dk==2){ew*=2;E.push("paint-order:stroke fill markers")}var j9=h.strokeStyleLineDashSet.v,fh=[];for(var c=0;
c<j9.length;c++)fh.push(Math.round(j9[c].v.val*ew));if(kj!=0)E.push("stroke-linecap:"+a+["butt","round","square"][kj]);
if(gq!=0)E.push("stroke-linejoin:"+a+["miter","round","bevel"][gq]);if(iL!=1)E.push("stroke-opacity:"+a+Z(iL));
if(ew!=1)E.push("stroke-width:"+a+Z(ew));if(fh.length!=0)E.push("stroke-dasharray:"+a+fh.join(","))}}function Q(k,E,_,v){E.i2++;
var V=k.Grad.v,R=JSON.parse(JSON.stringify(V.Clrs.v)),h=JSON.parse(JSON.stringify(V.Trns.v)),P=k.Ofst.v,H=k.Type.v.GrdT,U=H=="Rdl"||H=="Dmnd"?1:0,X=(U==1?"radial":"linear")+"Gradient",x=j.M.J0(k,_),T="";
if(U==0){x[0].x=x[1].x+2*(x[0].x-x[1].x);x[0].y=x[1].y+2*(x[0].y-x[1].y)}var K=i(2)+"<"+X+" id=\"g"+E.i2+"\"";
if(v.fB){if(E.i2==1)E.kh.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");T=" href=\"#P\""}else T=" gradientUnits=\"userSpaceOnUse\"";
if(U==0)E.kh.push(K+" x1=\""+Z(x[0].x)+"\" y1=\""+Z(x[0].y)+"\" x2=\""+Z(x[1].x)+"\" y2=\""+Z(x[1].y)+"\""+T+">");
if(U==1)E.kh.push(K+" cx=\""+Z(x[0].x)+"\" cy=\""+Z(x[0].y)+"\" r=\""+Z(k7.nR(x[0],x[1]))+"\""+T+">");
var I=k.Rvrs.v,o=j.M.aK(V,I);for(var c=0;c<o.length;c++){var l=o[c],O=l[0],g=l[1],W=l[2];W=W==1?"":" stop-opacity=\""+Z(W)+"\"";
var d=O==0&&v.fB?"":" offset=\""+Z(O)+"\"",gT=CSS.e0({o:g[0]*255,J:g[1]*255,k:g[2]*255});gT=v.fB&&gT=="#000000"?"":" stop-color=\""+$(gT)+"\"";
E.kh.push(i(3)+"<stop"+d+gT+W+"/>")}E.kh.push(i(2)+"</"+X+">")}er.uw=C;return N}();er.Qa=function(e,A,a,p,N){var i=[],Z=er.Qa,s=!1,D={SB:e,Ps:A,bv:[!0,!0,!0],MG:!1,Q_:a,afc:0};
D.Ab=Math.round(Math.max(e,A)*(.02+Z.UK(D)*.03));D.Sg=Z.amD(D);D.M6=Z.a6f(D.Sg,(Z.UK(D)<.5?-1:1)*(.2+Z.UK(D)*.3));
if(Z.UK(D)<.5){var n=D.Sg;D.Sg=D.M6;D.M6=n}D.aak=Z.UK(D)<.4&&Z.aj4(D.M6,{o:1,J:1,k:1})>.3;D.a3G=Z.UK(D)<.5?0:1;
i.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+e+" "+A+"\" width=\""+e+"\" height=\""+A+"\">");
D.Hv=p[Math.floor(Z.Zp(D)*p.length)];D.MJ=p[Math.floor(Z.Zp(D)*p.length)];i.push("<style>");i.push("@font-face {  font-family: "+D.Hv[2]+";  src: url(rsrc/fonts/"+D.Hv[5]+");  }");
i.push("@font-face {  font-family: "+D.MJ[2]+";  src: url(rsrc/fonts/"+D.MJ[5]+");  }");i.push("</style>");
var S=[0,0,e,A],F=S;if(N==null)i.push("<path style=\"fill: "+Z.aw(D.Sg)+"\" d=\""+Z.Rect(S[0],S[1],S[2]-S[0],S[3]-S[1])+"\" id=\"Background\" />");
else{D.MG=!0;Z.auV(D,S,i,N)}if(Z.UK(D)<.25&&!D.MG){D.bv[0]=D.bv[2]=!1;Z.a9z(S,D,i);F=S}else if(Z.UK(D)<.25||D.MG)F=S;
else{var $=.52+Z.UK(D)*.2;if(Z.UK(D)<.5)$=1-$;var m=S.slice(0),J=S.slice(0);if(Z.UK(D)<.5)m[2]=J[0]=Math.round($*e);
else m[3]=J[1]=Math.round($*A);if(Z.UK(D)<.5){var n=m;m=J;J=n}F=m;Z.aud(D,J,i,N)}Z.aie(D,F,i);i.push("</svg>");
i=i.join("\n");var w=j.Q(Math.round(i.length*1.5)),f=z.dR(i,w,0);return[w.buffer.slice(0,f),D.Hi]};er.Qa.a9z=function(e,A,a){var p=er.Qa,N=e[2]-e[0],i=e[3]-e[1];
if(p.UK(A)<.5){a.push("<path id=\"Border\" style=\"fill: "+p.aw(A.M6)+"\" d=\""+p.alo(e[0],e[1],e[2]-e[0],e[3]-e[1],A.Ab)+"\" />")}else if(p.UK(A)<-.4){p.aul(A,e,a)}else{var Z=p.UK(A)<.5?0:1,s=(Z==0?i:N)/4,D=p.VL(A,Z,e,a,s,!0),D=p.VL(A,Z+2,e,a,s,!0,D)}};
er.Qa.aie=function(e,A,a){var p=er.Qa,N="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),i=2*Math.floor(p.UK(e)*N.length/2),Z=A[2]-A[0],s=A[3]-A[1],n=0,F=0;
e.V8=(e.SB+Z)*.5*(.04+p.UK(e)*.05);e.V8=Math.min(e.V8,s*.4,Z*.12);e.V8=Math.round(e.V8);var D=Math.min(e.V8*N[i].length*(.35+.3*p.UK(e)),Z*.9),S=(A[1]+A[3])/2,$=j.UQ(e.Sg)<.85?{o:1,J:1,k:1}:{o:.1,J:.1,k:.1};
if(p.UK(e)<.25&&e.bv[0]){F=0;n=A[0]+e.Ab}else if(p.UK(e)<.33&&e.bv[2]){F=2;n=A[2]-e.Ab}else{F=1;n=(A[0]+A[2])/2}var m=$.o==1?"0,0,0":"255,255,255",J=e.MG&&p.UK(e)<1;
if(J){var w=A[0],f=Z,b=S-e.V8*1.1,L=e.V8*2.2,C=.7;if(F==1&&p.UK(e)<.5){w=b=.2*Math.min(Z,s);f=Z-2*b;
L=s-b-b}else if(p.UK(e)<.7){w=b=0;f=Z;L=s;C=.25}a.push("<path id=\"Strip\" style=\"fill: rgb("+m+"); opacity: "+C+"\" d=\""+p.Rect(w,b,f,L)+"\" />")}if(p.UK(e)<.4){var M=e.V8*.07;
M*=1.5+p.UK(e)*1;if(F==-1&&Z/s<3&&!J){a.push("<path id=\"Bar-bottom\" style=\"fill: "+p.aw($)+"\" d=\""+p.Rect(n-D/2,S+e.V8*1.1-M/2,D,M)+"\" />");
a.push("<path id=\"Bar-top\"    style=\"fill: "+p.aw($)+"\" d=\""+p.Rect(n-D/2,S-e.V8*1.1-M/2,D,M)+"\" />")}if(F!=1){a.push("<path id=\"Bar\" style=\"fill: "+p.aw($)+"\" d=\""+p.Rect(n-M/2,S-e.V8*.8,M,e.V8*.8*2)+"\" />");
n+=(F==0?1:-1)*e.V8/3}}var y=e.V8*.4;a.push(p.auQ(N[i+1],n,S+y*1.6,y,$,F,e.MJ));a.push(p.auQ(N[i],n,S+e.V8*.04,e.V8,$,F,e.Hv))};
er.Qa.aud=function(e,A,a,p){var N=A[2]-A[0],i=A[3]-A[1],Z=Math.max(N,i),s=Math.min(N,i),D=er.Qa;if(Z/s<5&&!e.MG&&!1){D.auV(e,A,a,p)}else if(D.UK(e)<0)a.push("<path style=\"fill: "+D.aw(e.M6)+"\" d=\""+D.Rect(A[0],A[1],N,i)+"\" />");
else{var n=0;if(A[3]!=e.Ps)n=0;if(A[2]!=e.SB)n=3;if(A[0]!=0)n=1;if(A[1]!=0)n=2;var S=n+2&3;if(Z/s<3){var F=D.ahC(S),$=F[Math.round(D.UK(e)*(F.length-1))],m=$.lO.slice(0,4),J=m.indexOf(1);
$=JSON.parse(JSON.stringify($));var w=-1;if(m!="0000"){var f=new bj;if($.lO[5]=="0"){if(J==3&&n==1){w=1;
f.scale(-1,1)}else w=J}else{var b=S;while(b==S)b=Math.floor(D.UK(e)*4)&3;f.rotate((-J+b)*Math.PI/2)}D.D($,f)}var L=D.i9($),C=N-2*e.Ab,M=i-2*e.Ab;
if(w!=-1){if((w&1)==0)M-=e.Ab;else C-=e.Ab}var y=Math.min(C/L.m,M/L.n),Q=new bj;Q.translate(-L.x,-L.y);
Q.scale(y,y);var k=(N-L.m*y)/2,E=(i-L.n*y)/2;if(w!=-1){if(w==3)k=0;if(w==0)E=0;if(w==1)k=N-L.m*y;if(w==2)E=i-L.n*y}Q.translate(A[0]+k,A[1]+E);
D.oW(e,$,Q,e.M6,a)}else{D.VL(e,n,A,a,1e9)}}};er.Qa.auV=function(e,A,a,p){var N=A[2]-A[0],i=A[3]-A[1],Z=Math.max(N,i),s=Math.min(N,i),D=er.Qa,n=D.Zp(e),S,F,$,m=p[0]instanceof ArrayBuffer;
if(m){S="data:image/jpg;base64,"+c6.dd(p[0]);F=p[1];$=p[2]}else{var J=Math.floor(n*p.length),w=p[J];
e.Hi=w;S=w.webformatURL;F=w.webformatWidth;$=w.webformatHeight}var f=A[0],b=A[1],L=N,C=i;if(N/i>F/$){C=L*$/F;
b=b-(C-i)/2}else{L=C*F/$;f=f-(L-N)/2}if(m){a.push("<defs>");a.push("<image width=\""+F+"\" height=\""+$+"\" id=\"Background\" href=\""+S+"\" />");
a.push("</defs>");var M=L/F;a.push("<use href=\"#Background\" transform=\""+er.uw(new bj(M,0,0,M,f,b))+"\" />")}else{var y="cp"+Math.random();
a.push("<clipPath id=\""+y+"\">");a.push("<path style=\"fill: "+D.aw(e.M6)+"\" d=\""+D.Rect(A[0],A[1],N,i)+"\" />");
a.push("</clipPath>");a.push("<image  clip-path=\"url(#"+y+")\" xlink:href=\""+S+"\" x=\""+f+"\" y=\""+b+"\" width=\""+L+"\" height=\""+C+"\" />")}};
er.Qa.auQ=function(e,A,a,p,N,i,Z){var s=er.Qa;return"<text x=\""+A+"\" y=\""+a+"\" style=\"fill:"+s.aw(N)+"; font-size:"+p+"px; text-anchor:"+["start","middle","end"][i]+"; font-family:"+Z[2]+";\"><tspan>"+e+"</tspan></text>"};
er.Qa.oW=function(e,A,a,p,N){var i=er.Qa,Z=[];for(var c=0;c<A.Cq.length;c++){Z.push(p);if(e.aak){p=(c&1)==e.a3G?{o:1,J:1,k:1}:Z[0]}}N.push("<g id=\""+A.lO.split("-")[2]+":::\" style=\"transform: "+er.uw(a)+";\" >");
for(var c=0;c<A.Cq.length;c++){var s=A.Cq[c];p=Z.pop();N.push("<path style=\"fill: "+(p?i.aw(p):"#"+s[0])+"\" d=\""+Typr.U.pathToSVG({crds:s[1].w,cmds:s[1].F})+"\" />")}N.push("</g>")};
er.Qa.aul=function(e,A,a){var p=er.Qa,N=er.Qa.qY,i=[];for(var c=0;c<N.length;c++){var Z=N[c],s=Z.lO.slice(0,4);
if(s!="1001")continue;i.push(Z)}var Z=i[Math.floor(p.UK(e)*i.length)];if(p.UK(e)<.5)p.D(Z,new bj(0,1,1,0,0,0));
var D=A[3]-A[1],n=A[2]-A[0],S=p.i9(Z),F=.7*Math.min(n,D,.5*Math.max(n,D))/Math.max(S.m,S.n),$=new bj;
$.scale(F,F);if(p.UK(e)<.5){$.scale(1,-1);$.translate(0,D)}p.oW(e,Z,$,e.M6,a);$.rotate(Math.PI);$.translate(n,D);
p.oW(e,Z,$,e.M6,a)};er.Qa.ahC=function(e){var A=er.Qa.qY,a=[];for(var c=0;c<A.length;c++){var p=A[c],N=p.lO.slice(0,4);
if(N=="0000"){a.push(p);continue}if(["1000","0100","0010","0001"].indexOf(N)==-1)continue;var i=N.indexOf("1");
if(p.lO[5]=="0"&&e==i&&i!=3)continue;a.push(p)}return a};er.Qa.VL=function(e,A,a,p,N,i,Z){var s=er.Qa.qY,D=er.Qa,n=[],L,C;
for(var c=0;c<s.length;c++){var S=s[c],F=S.lO.slice(0,4);if(["1110","1101","1011","0111"].indexOf(F)==-1)continue;
var $=F.indexOf("0")+2&3;if(S.lO[5]=="0")if(i==!0||A!=$&&!(A==1&&$==3))continue;n.push(S)}var m=Z!=null?Z:Math.floor(D.UK(e)*n.length),S=n[m],S=JSON.parse(JSON.stringify(S)),F=S.lO.slice(0,4),$=F.indexOf("0")+2&3;
if($==3&&A==1)j.D(S,new bj(1,0,0,-1,0,1e3));var J=new bj;J.translate(-500,-500);J.rotate(-$*Math.PI/2);
J.translate(500,500);D.D(S,J);var w=a[3]-a[1],f=a[2]-a[0],b=D.i9(S);if(b.y<0){b.n+=b.y;b.y=0}if(b.y>0){b.n+=b.y;
b.y=0}if((A&1)==0){C=w;L=f}else{L=w;C=f}var M=Math.min(Math.min(.5+.5*D.UK(e))*Math.min(f,w),N)/b.n,y=Math.ceil(L/(1e3*M)),Q=new bj,k=new bj;
k.scale(M,M);if(A==0||A==2){k.translate(-(f/2),-(w/2));k.rotate(-A*Math.PI/2);k.translate(f/2+a[0],w/2+a[1])}else{k.rotate(Math.PI/2);
k.scale(1,-1);k.translate(a[0],a[1]);if(A==1){k.scale(-1,1);k.translate(f,0)}}p.push("<g id=\"Border-"+["top","right","bottom","left"][A]+":::\">");
for(var c=0;c<y;c++){var E=Q.clone();E.concat(k);D.oW(e,S,E,e.M6,p);Q.translate(1e3-2,0)}p.push("</g>");
return m};er.Qa.Rect=function(e,A,a,p){return Typr.U.pathToSVG({crds:[e,A,e+a,A,e+a,A+p,e,A+p],cmds:["M","L","L","L","Z"]})};
er.Qa.alo=function(e,A,a,p,N){var i=[e,A,e+a,A,e+a,A+p,e,A+p];e+=N;A+=N;a-=2*N;p-=2*N;i.push(e,A,e,A+p,e+a,A+p,e+a,A);
return Typr.U.pathToSVG({crds:i,cmds:"M L L L Z M L L L Z".split(" ")})};er.Qa.a6f=function(e,A){var a=j.fv(e.o,e.J,e.k);
a.T3=Math.max(.1,Math.min(.9,a.T3+A));return j.bl(a.Ps,a.PV,a.T3)};er.Qa.aaa=function(e,A){var a=j.fv(e.o,e.J,e.k);
a.Ps+=A;return j.bl(a.Ps,a.PV,a.T3)};er.Qa.a4Y=function(e){var A=j.fv(e.o,e.J,e.k);A.T3=1-A.T3;return j.bl(A.Ps,A.PV,A.T3)};
er.Qa.aj4=function(e,A){var a=e.o-A.o,p=e.J-A.J,N=e.k-A.k;return Math.sqrt(a*a+p*p+N*N)};er.Qa.amD=function(e){var A=er.Qa;
return{o:A.UK(e),J:A.UK(e),k:A.UK(e)}};er.Qa.aw=function(e){return CSS.e0({o:e.o*255,J:e.J*255,k:e.k*255})};
er.Qa.i9=function(e){var A=e.Cq,a=new dE;for(var c=0;c<A.length;c++)a=a.pg(j.p.i9(A[c][1].w));return a};
er.Qa.D=function(e,A){var a=e.Cq;for(var c=0;c<a.length;c++)j.p.D(a[c][1].w,A,a[c][1].w)};er.Qa.UK=function(e){e.afc++;
var A=e.afc&3;if(A==0)e.Q_=er.Qa.Zl(e.Q_);var a=e.Q_>>>8*A&255;return a*(.99999999/255)};er.Qa.Zp=function(e){var A=er.Qa.Zl(e.Q_);
e.Q_=er.Qa.Zl(A);return A*(1/4294967295)};er.Qa.Zl=function(e){e=(e^61^e>>>16)>>>0;e=e+(e<<3)>>>0;e=(e^e>>>4)>>>0;
e=e*668265261>>>0;e=(e^e>>>15)>>>0;return e};er.Qa.qY=[{lO:"0001-0-bird",Cq:[["4b3c34",{F:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),w:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{F:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),w:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{F:"M C C C C C C C C C C C C L Z".split(" "),w:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{lO:"0001-0-bird2",Cq:[["ff7f2a",{F:"M L L L Z M L L L Z".split(" "),w:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{F:"M C C C C C C C C C C C L Z".split(" "),w:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{F:"M C C C C C C L Z M C C Z".split(" "),w:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{F:"M L L L Z M L L L Z".split(" "),w:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{F:"M L C C C C C C C C L Z".split(" "),w:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{F:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),w:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{lO:"0000-1-flower",Cq:[["7a59a2",{F:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),w:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{lO:"0000-1-flower",Cq:[["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),w:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{lO:"0000-1-flower",Cq:[["ffac42",{F:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),w:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{lO:"0000-1-flower",Cq:[["d04040",{F:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),w:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{lO:"0000-1-flower",Cq:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),w:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{F:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),w:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{lO:"0000-0-hearts",Cq:[["d17070",{F:"M C C C C C C C C C L Z".split(" "),w:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{F:"M C C C C C C C C C L Z".split(" "),w:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{F:"M C C C C C C C C C L Z".split(" "),w:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{lO:"0000-0-anchor",Cq:[["2a3b66",{F:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),w:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{lO:"0000-1-leaf",Cq:[["fbb600",{F:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),w:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{lO:"0000-1-acorn",Cq:[["a05a2c",{F:"M C C C C C C C L Z".split(" "),w:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{F:"M C C C C C C C C C C C Z".split(" "),w:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{lO:"0000-0-skull",Cq:[["808080",{F:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),w:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{lO:"0000-0-ghost",Cq:[["e6e6e6",{F:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),w:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{F:"M C C C C Z M C C C C Z".split(" "),w:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{lO:"1001-1-rose",Cq:[["9e1460",{F:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),w:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{F:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),w:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{lO:"1001-1-curls",Cq:[["53a7ab",{F:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),w:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{F:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),w:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{lO:"0111-0-pines",Cq:[["e9e9e9",{F:"M C C C C C C C C L L L Z".split(" "),w:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{F:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),w:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{lO:"0111-0-flowers",Cq:[["8cae40",{F:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),w:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),w:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{lO:"1101-1-confetti",Cq:[["e789ff",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{lO:"1101-1-branch",Cq:[["7f500b",{F:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),w:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),w:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{lO:"1101-1-sticks",Cq:[["ec7272",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{lO:"1101-1-dots",Cq:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),w:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),w:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{F:["M","C","C","Z"],w:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{lO:"1101-1-strips",Cq:[["ffc88c",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),w:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{F:["M","C","C","Z"],w:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{lO:"1101-1-circs",Cq:[["ec7272",{F:"M C C C C Z M C C C C Z".split(" "),w:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{F:"M C C C C Z M C C C C Z".split(" "),w:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{F:["M","C","C","Z"],w:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{lO:"1101-1-squares",Cq:[["014ea7",{F:"M L L L L Z M L L L L Z".split(" "),w:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{F:"M L L L L Z M L L L L Z".split(" "),w:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{F:["M","C","C","Z"],w:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{lO:"1101-0-christmas",Cq:[["014ea7",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),w:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),w:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var fl={};fl.parse=function(e){var A=new Uint8Array(e),a=null;if(A[0]==80&&A[1]==75){var p=Date.now(),N=UZIP.parse(A.buffer),a=N["document.json"];
a=JSON.parse(z.lB(a,0,a.length));fl.Kq(a,N)}else{var i=jI.parse(e);a=fl.aqE(i[2][0][1])}return a};fl.Kq=function(e,A){var a=typeof e;
if(a=="string"||a=="number"||a=="boolean")return e;if(e instanceof Array){for(var c=0;c<e.length;c++)e[c]=fl.Kq(e[c],A);
return e}var p=e._class;if(p==null)return e;if(p=="MSJSONFileReference"){var N=e._ref;if(!1){}else if(A[N+".json"]!=null){var i=A[N+".json"],Z=i.length;
for(var c=0;c<Z;c++)if(i[c]==11||i[c]==3)i[c]=32;var s=z.lB(i,0,Z);e=JSON.parse(s)}else if(A[N+".png"]!=null)return{key:N.split("/").pop(),bdata:A[N+".png"]};
else if(A[N+".jpg"]!=null)return{key:N.split("/").pop(),bdata:A[N+".jpg"]};else if(A[N+".pdf"]!=null)return{key:N.split("/").pop(),bdata:A[N+".pdf"]};
else if(A[N]!=null)return{key:N.split("/").pop(),bdata:A[N]};else{console.log(e,A);return}}else if(p=="MSAttributedString"){var s=atob(e.archivedAttributedString._archive),D=s.length,n=new Uint8Array(D);
for(var c=0;c<D;c++)n[c]=s.charCodeAt(c);e.archivedAttributedString=fl.aqE(n)}for(var S in e)e[S]=fl.Kq(e[S],A);
return e};fl.alk=function(e,A,a,p){if(e instanceof Uint8Array)return null;if(p.indexOf(e)!=-1)return null;
p.push(e);if(e==A)return a;for(var N in e){a.push(N);var i=fl.alk(e[N],A,a,p);if(i){console.log(e,i);
throw"e"}a.pop()}};fl.aqE=function(e){var A=b_.parse(e,0),a=A.$objects,p=new Uint8Array(a.length),N=fl.bV(a,p,A.$top.root);
for(var c=0;c<a.length;c++)if(p[c]==0&&c!=0){console.log(c,a[c]);fl.alk(N,c,[],[])}for(var c=0;c<a.length;
c++){var i=a[c];if(i._class&&(i._class=="bitmap"||i._class=="fill"&&i.fillType==4&&(i.image||i.imageSHA))){var Z=i.image,s=i.imageSHA,D=null,n=null;
if(Z=="$null")Z=null;if(s=="$null")s=null;if(Z&&Z.data){n=Z.sha1["NS.bytes"];n=btoa(z.wc(n,0,n.length));
D=Z.data instanceof Uint8Array?Z.data:Z.data["NS.bytes"]}else if(Z==null&&s==null){var S=fI.nP("PNG").Eu([[j.Q(4).buffer]],1,1);
D=new Uint8Array(S)}else{var F=(N.assets?N.assets.imageCollection:N.images).images;if(s)n=s instanceof Uint8Array?s:s["NS.bytes"];
else n=Z.sha1["NS.bytes"];n=btoa(z.wc(n,0,n.length));var D=F[n].data;if(D["NS.bytes"])D=D["NS.bytes"]}D=new Uint8Array(D.buffer.slice(D.byteOffset,D.byteOffset+D.length));
delete i.imageSHA;i.image={key:n,bdata:D}}}return N};fl.a8U=function(e){return e.slice(0,11)=="MSImmutable"?"MS"+e.slice(11):e};
fl.bV=function(e,A,a){var p=e[a];if(A[a]==1){return p}A[a]=1;if(typeof p=="string")return p;if(typeof p=="number")return p;
if(typeof p=="boolean")return p;if(p instanceof Array)return p;if(p instanceof Uint8Array){return p}if(e[p.$class]==null){if(p.$class==null&&p["NS.data"]!=null)return p;
console.log(a,p);throw"e"}var N=e[p.$class],i=fl.a8U(N.$classname);A[p.$class]=1;p.$class=i;if(fl.asw[i]){delete p.$class;
p._class=fl.asw[i]}var Z=fl.bV;if(i=="NSMutableArray"||i=="NSArray"){var s=[];if(p["NS.objects"]!=null)for(var c=0;
c<p["NS.objects"].length;c++)s.push(Z(e,A,p["NS.objects"][c]));else for(var c=0;p["NS.object."+c]!=null;
c++)s.push(Z(e,A,p["NS.object."+c]));e[a]=s;return s}if(i=="NSDictionary"||i=="NSMutableDictionary"){var D={$class:i};
if(p["NS.keys"]!=null)for(var c=0;c<p["NS.keys"].length;c++){var n=Z(e,A,p["NS.keys"][c]);if(n instanceof Uint8Array)n=btoa(fl.X6.wc(n,0,n.length));
else if(typeof n!="string"&&typeof n!="number")n=btoa(fl.X6.wc(n["NS.bytes"],0,n["NS.bytes"].length));
D[n]=Z(e,A,p["NS.objects"][c])}else for(var c=0;p["NS.key."+c]!=null;c++){var n=Z(e,A,p["NS.key."+c]);
if(n instanceof Uint8Array)n=btoa(fl.X6.wc(n,0,n.length));else if(typeof n!="string"&&typeof n!="number")n=btoa(fl.X6.wc(n["NS.bytes"],0,n["NS.bytes"].length));
D[n]=Z(e,A,p["NS.object."+c])}for(var S in p)delete p[S];for(var S in D)p[S]=D[S];return p}if(i=="NSURL")return{$class:i,base:Z(e,A,p["NS.base"]),relative:Z(e,A,p["NS.relative"])};
if(fl.a4A.indexOf(i)!=-1){e[a]=Z(e,A,p.array_do);return e[a]}if(p.do_objectID!=null)p.do_objectID=Z(e,A,p.do_objectID);
if(fl.amM.indexOf(i)!=-1)return p;var F=fl.a2M[i];if(F==null){console.log(e,p);throw"unknown class "+i}for(var c=0;
c<F.length;c++)if(p[F[c]]!=null)p[F[c]]=Z(e,A,p[F[c]]);if(i=="MSTextLayer"){var $=p,m,J,w,f;if($.attributedString)m=$.attributedString.archivedAttributedString;
else m=$.storage;f=m.NSString;if(typeof f!="string")f=z.lB(f["NS.bytes"],0,f["NS.bytes"].length);if(m.NSAttributeInfo)J=m.NSAttributeInfo["NS.bytes"];
else{var b=f.length,L=[];while(b>0){var C=Math.min(100,b);L.push(C,0);b-=C}J=new Uint8Array(L)}w=m.NSAttributes instanceof Array?m.NSAttributes:[m.NSAttributes];
var M={$class:"NSAttributedString",NSString:f,NSAttributes:w};$.attributedString={_class:"MSAttributedString",archivedAttributedString:M};
M.NSAttributeInfo={$class:"NSMutableData","NS.data":J};delete $.storage}return p};fl.X6={ex:function(e,A){return e[A+1]<<8|e[A]},q:function(e,A){return e[A+3]<<24|e[A+2]<<16|e[A+1]<<8|e[A]},wc:function(e,A,a){var p="";
for(var c=0;c<a;c++)p+=String.fromCharCode(e[A+c]);return p}};fl.asw={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
fl.a4A=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
fl.amM="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
fl.a2M={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var b_={};b_.parse=function(e,A){var a=z.wc(e,A,8);A+=8;var p=e.length-32,N=b_.parse.a1p(e,p),i=[];if(N.zL==1){var A=p-N.zL*N.fH;
for(var c=0;c<N.fH;c++)i.push(e[A+c])}else if(N.zL==2){var A=p-N.zL*N.fH;for(var c=0;c<N.fH;c++)i.push(z.ex(e,A+c*2))}else if(N.zL==4){var A=p-N.zL*N.fH;
for(var c=0;c<N.fH;c++)i.push(z.q(e,A+c*4))}else{throw"e"}var Z=b_.parse.bV(e,i,N.root,N);return Z};
b_.parse.bV=function(e,A,a,p){var N=b_.X6,i=p.awc,Z=i==4?N.q:i==2?N.ex:N.a53,s=b_.parse,D=A[a],n=e[D],S=n>>4,F=n&15,m=null;
D+=1;if([4,5,6,10,12,13].indexOf(S)!=-1&&F==15){var $=s.$m(e,D);D+=$.VP;F=$.Z}if(!1){}else if(S==0)m=F==8?!1:F==9?!0:null;
else if(S==1)m=s.$m(e,D-1).Z;else if(S==2)m=1<<F==4?z.i3(e,D):z.VD(e,D);else if(S==3)m=z.VD(e,D);else if(S==4)m=new Uint8Array(e.buffer,D,F);
else if(S==5)m=z.wc(e,D,F);else if(S==6)m=z.hv(e,D,F);else if(S==8){m=0;for(var c=0;c<F+1;c++)m=m<<8|e[D+c]}else if(S==10){m=[];
for(var c=0;c<F;c++)m.push(s.bV(e,A,Z(e,D+i*c),p))}else if(S==12){m=[];for(var c=0;c<F;c++)m.push(s.bV(e,A,Z(e,D+i*c),p))}else if(S==13){m={};
for(var c=0;c<F;c++){var J=s.bV(e,A,Z(e,D+i*c),p),w=s.bV(e,A,Z(e,D+i*(F+c)),p);m[J]=w}}else throw"unknown mask "+S;
return m};b_.parse.$m=function(e,A){var a=1<<(e[A]&15),p=0;for(var c=0;c<a;c++)p=p<<8|e[A+1+c];return{Z:p,VP:a+1}};
b_.parse.a1p=function(e,A){var a={};A+=6;a.zL=e[A];A++;a.awc=e[A];A++;A+=4;a.fH=z.q(e,A);A+=4;A+=4;a.root=z.q(e,A);
A+=4;A+=4;a.ajP=z.q(e,A);A+=4;return a};b_.X6={a53:function(e,A){return e[A]},ex:function(e,A){return e[A]<<8|e[A+1]},q:function(e,A){return e[A]<<24|e[A+1]<<16|e[A+2]<<8|e[A+3]},wc:function(e,A,a){var p="";
for(var c=0;c<a;c++)p+=String.fromCharCode(e[A+c]);return p}};var jI={parse:function(e){var A=new Uint8Array(e),a=jI.ty(A),p=[],N=new Uint8Array(A.length),i=[];
p.push(i);jI.k9(A,a,1,N,i);for(var c=0;c<i.length;c++){var Z=[];p.push(Z);jI.k9(A,a,i[c][3],N,Z,c==11);
i[c][3]=c+1}return p},k9:function(e,A,a,p,N,i){a--;var Z=a*A.nt+(a==0?100:0),s=e[Z],D=jI.ex(e,Z+1),n=jI.ex(e,Z+3),S=jI.ex(e,Z+5),$=0;
if(S==0)S=65536;var F=e[Z+7];Z+=8;if(s==2||s==5){$=jI.q(e,Z);Z+=4}for(var m=0;m<n;m++){var J=a*A.nt+jI.ex(e,Z+2*m),w=-1,f=0,b=0,L=0;
if(s==2||s==5){w=jI.q(e,J);J+=4}if(s==2||s==10||s==13){f=jI.Pr(e,J);J+=f.VP}if(s==5||s==13){b=jI.Pr(e,J);
J+=b.VP}if(s==2||s==5){jI.k9(e,A,w,p,N,i);continue}var C=A.nt-(a==0?100:0),M=f.HG,y=s==13?C-35:Math.floor((C-12)*64/255)-23,Q=Math.floor((C-12)*32/255)-23,k=Q+(M-Q)%(C-4);
if(M<=y){jI.GZ(e,J,p,0,M)}else{var E=k<=y?k:Q,_=0;jI.GZ(e,J,p,0,E);_+=E;L=jI.q(e,J+E);while(L!=0){var v=(L-1)*A.nt;
L=jI.q(e,v);var V=Math.min(A.nt-4,M-_);jI.GZ(e,v+4,p,_,V);_+=V}}N.push(jI.a8F(p,M))}if($!=0)jI.k9(e,A,$,p,N,i)},a8F:function(e,A){var a=0,p=jI.Pr(e,a);
a+=p.VP;var N=[],i=[];while(a<p.HG){var Z=jI.Pr(e,a);a+=Z.VP;N.push(Z.HG)}if(a!=p.HG)throw"e";for(var c=0;
c<N.length;c++){var Z=N[c];if(!1){}else if(Z==0)i.push(null);else if(Z==1){i.push(jI.a0f(e,a));a+=1}else if(Z==2){i.push(jI.aq(e,a));
a+=2}else if(Z==3){i.push(jI.akq(e,a));a+=3}else if(Z==4){i.push(jI.$m(e,a));a+=4}else if(Z==5){i.push(jI.q(e,a+2));
a+=6}else if(Z==6){i.push(jI.q(e,a)+":"+jI.q(e,a+4));a+=8}else if(Z==7){i.push(jI.a70(e,a));a+=8}else if(Z==8)i.push(0);
else if(Z==9)i.push(1);else if(Z>=12&&(Z&1)==0){var s=Z-12>>1,D=new Uint8Array(s);jI.GZ(e,a,D,0,s);i.push(D);
a+=s}else if(Z>=13&&(Z&1)==1){var s=Z-13>>1;i.push(jI.lB(e,a,s));a+=s}else throw"unknonw type "+Z}return i},ty:function(e){if(!(e[18]==1&&e[19]==1&&e[20]==0&&e[21]==64&&e[22]==32&&e[23]==32))throw"unexpected SQL3 header";
var A={o0:jI.wc(e,0,15),nt:jI.ex(e,16),ank:jI.q(e,24),size:jI.q(e,28),aoc:jI.q(e,32),aiU:jI.q(e,36),atS:jI.q(e,40),ajZ:jI.q(e,44),a9n:jI.q(e,48),a3w:jI.q(e,52),ahf:jI.q(e,56),as_:jI.q(e,60),a4q:jI.q(e,64)!=0,aml:jI.q(e,68),afX:jI.q(e,92),agc:jI.q(e,96)};
if(A.nt==1)A.nt=65536;if(A.ahf!=1)throw"unsupported text encoding "+A.ahf;return A},a7b:function(e,A){return e[A]<<16|e[A+1]<<8|e[A+2]},akq:function(e,A){var a=jI.a7b(e,A),p=a&8388608;
return p?-(16777215-a+1):a},a0f:function(e,A){jI.zz[0]=e[A];return jI.am4[0]},$m:function(e,A){var a=jI.zz;
for(var c=0;c<4;c++)a[c]=e[A+3-c];return jI.a2i[0]},aq:function(e,A){var a=jI.zz;a[0]=e[A+1];a[1]=e[A];
return jI.afa[0]},ex:function(e,A){return e[A]<<8|e[A+1]},q:function(e,A){var a=jI.zz;for(var c=0;c<4;
c++)a[c]=e[A+3-c];return jI.a0A[0]},a70:function(e,A){var a=jI.zz;for(var c=0;c<8;c++)a[c]=e[A+7-c];
return jI.aai[0]},Pr:function(e,A){var a=A,iM=0;while(!0){var p=e[A];A++;iM=iM*128+(p&127);if(p<128)break}return{HG:iM,VP:A-a}},wc:function(e,A,a){var p="";
for(var c=0;c<a;c++)p+=String.fromCharCode(e[A+c]);return p},lB:function(e,A,a){var p="";for(var c=0;
c<a;c++)p+="%"+jI.ap8(e[A+c].toString(16));try{p=decodeURIComponent(p);return p}catch(i1){return p}},GZ:function(e,A,a,p,N){if(e[A+N-1]==null||a[p+N-1]==null){console.log(A,p,N);
throw"e"}for(var c=0;c<N;c++)a[p+c]=e[A+c]},ap8:function(iM){return iM.length<2?"0"+iM:iM}};jI.zz=new Uint8Array(8);
jI.am4=new Int8Array(jI.zz.buffer);jI.afa=new Int16Array(jI.zz.buffer);jI.a2i=new Int32Array(jI.zz.buffer);
jI.a0A=new Uint32Array(jI.zz.buffer);jI.aai=new Float64Array(jI.zz.buffer);jI.alW=function(e,A){var a=e[0],p={};
for(var c=0;c<a.length;c++){var N=a[c],i=N[1];if(N[0]!="table")continue;var Z=N[4];Z=Z.slice(Z.indexOf("(")+1,Z.indexOf(")"));
Z=Z.split(",");for(var s=0;s<Z.length;s++){var D=Z[s].trim().split(" ")[0];if(A&&D.startsWith(i))D=D.slice(i.length);
Z[s]=D}var n=p[i]=[],S=e[N[3]];for(var s=0;s<S.length;s++){var F=S[s],$={};n.push($);for(var m=0;m<Z.length;
m++){if($[Z[m]]!=null)throw"e";$[Z[m]]=F[m]}}}return p};function aG(e,A,a){this.Ru=e;this.Yh=A;this.ayn=a;
this.v7=new k7(0,0);this.SO=-1;this.vK=0;this.H3=0;this.yZ=new dE;this.JM=[];this.q_=null;this.aaL=null;
this.NN=null;this.uA=null;this.Lt=null;this.ao0=null}aG.prototype.StartPage=function(e,A,a,p,N){var i=this.Yh,Z=i.nZ(),s=1,D=(a-e)*(p-A);
if(N!=null)D=N;while(D*Z*Z/(s*s)>2*8192*8192)s++;i.scale(1/s,1/s);this.aaL=[e,A,a,p];var s=i.nZ();e=Math.round(e*s);
A=Math.round(A*s);a=Math.round(a*s);p=Math.round(p*s);var n=this.Ru,S=this.NN;if(S==null){i.Co=-e}else{var F=S[2]-S[0]+30,$=Math.round(a-e)+30;
if(this.v7.x+F+$>8192){i.Co=-e;this.v7.x=0;this.v7.y+=this.H3+120;this.H3=0}else{i.Co+=F;this.v7.x+=F}}i.dW=this.v7.y+(this.ayn?p:-A);
this.H3=Math.max(this.H3,Math.round(p-A));this.NN=[e,A,a,p];this.aji=[];n.B.push(n.pz())};aG.prototype.StartTGroup=function(e){this.bE();
var A=this.Ru;A.B.push(A.pz());var a=aG.Zz[e.bmode];if(a==null)a="norm";var p=A.Uo();p.i4("<Group>");
p.add.lsct=ez.MV;p.Mi=a=="norm"?"pass":a;p.OO=24;p.opacity=Math.round(255*e.ca);this.aji.push(p)};aG.prototype.EndTGroup=function(){this.Ru.B.push(this.aji.pop())};
aG.prototype.aiv=function(){var e=this.Ru,A=e.B[e.B.length-1];return A};aG.prototype.acc=function(){var e=JSON.parse(JSON.stringify(iF.kE.default));
e.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";e.strokeEnabled.v=!1;
e.fillEnabled.v=!1;return e};aG.prototype.ajJ=function(){var e=this.Ru,A=e.Uo();A.i4("Path "+e.B.length);
this.Ru.B.push(A);A.OO|=16;A.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.M.yN({o:0,J:0,k:0})}};A.add.vmsk=new u.eP;
A.add.vstk=this.acc();return A};aG.prototype.gx=function(e){var A={w:e.crds,F:e.cmds},a=j.p.Hh(A,!1);
j.r.nM(a,this.Yh);return a};aG.a6W=function(e,A){for(var c=0;c<e.length;c++)if(e[c].kR!=null)e[c].kR=A};
aG.agO=function(e){return Math.sqrt(Math.abs(e[0]*e[3]-e[1]*e[2]))};aG.cI=function(e){return j.M.yN({o:e[0]*255,J:e[1]*255,k:e[2]*255})};
aG.mA=function(e){return new bj(e[0],e[1],e[2],e[3],e[4],e[5])};aG.prototype.Stroke=function(e){if(this.SO!=-1&&this.SO!=this.vK)return;
if(e.pth.cmds.length<=1)return;var A=this.gx(e.pth);if(A.length<=2)return;this.PJ(e);aG.a6W(A,-1);A[2].kR=1;
var a=aG.cI(e.COLR),p=this.aiv(),N=this.acc();aG.ht(N,e,this.Yh.nZ(),a);var i=p!=null&&p.add.vmsk!=null&&!p.yg(),Z=i&&!p.add.vstk.strokeEnabled.v&&u.eP.aqb(p.add.vmsk.i,A,!0),s=i&&!p.add.vstk.fillEnabled.v&&JSON.stringify(N)==JSON.stringify(p.add.vstk);
if(s){p.add.vmsk.i=p.add.vmsk.i.concat(A.slice(2))}else if(Z){p.add.vstk=N;N.fillEnabled.v=!0}else{p=this.ajJ();
p.add.vmsk.i=A;p.add.vstk=N}};aG.ht=function(e,A,a,p){e.strokeEnabled.v=!0;e.strokeStyleMiterLimit.v=A.mlimit;
e.strokeStyleLineDashSet.v=b6.td(A.dash,1/A.lwidth);e.strokeStyleLineDashOffset.v.val=A.doff;e.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iF.kE.join[A.ljoin];
e.strokeStyleLineCapType.v.strokeStyleLineCapType=iF.kE.oA[A.lcap];e.strokeStyleLineWidth.v.val=Math.max(.4,A.lwidth*aG.agO(A.ctm)*a);
e.strokeStyleContent.v.Clr.v=p};aG.prototype.Fill=function(e,A){if(this.SO!=-1&&this.SO!=this.vK)return;
if(e.ca==0)return;var a=e.pth.cmds;if(a.length==0)return;if(a.length==2&&JSON.stringify(a)=="[\"M\",\"L\"]")return;
var p=j.p.i9(e.pth.crds),N=j.p.i9(e.cpth.crds);if(p.Yn(N).QP())return;var i=e.pth,Z=UDOC.G.isBox(i,[p.x,p.y,p.x+p.m,p.y+p.n]),s=e.cpth,D=UDOC.G.isBox(s,[N.x,N.y,N.x+N.m,N.y+N.n]);
if(Z&&D&&p.O()>N.O()*2){var n=p.Yn(N),S=n.x,F=n.y,$=S+n.m,m=F+n.n;i={cmds:["M","L","L","L","Z"],crds:[S,F,$,F,$,m,S,m]};
p=n}else if(this.uA==null&&UDOC.G.isBox(i,[p.x,p.y,p.x+p.m,p.y+p.n])&&p.XH(N)){i=s;p=N}else this.PJ(e);
var J=this.gx(i),w=j.p.wt(p);j.p.D(w.w,this.Yh,w.w);p=j.p.i9(w.w);var f=aG.aln(e.colr,this.Yh,p),b=this.aiv(),L=b!=null&&b.opacity==Math.round(255*e.ca)&&b.add.vstk!=null&&!b.add.vstk.strokeEnabled.v&&b.add.SoCo&&f.type=="SoFi"&&JSON.stringify(b.add.SoCo.Clr.v)==JSON.stringify(f.Z.v.Clr.v);
if(L){var C=!1;for(var c=0;c<J.length;c++){if(J[c].kR==0||J[c].kR==2)C=!0}if(C){var M=j.p.i9(j.r.Dt(b.add.vmsk.i)),y=j.p.i9(j.r.Dt(J));
L=M.Yn(y).QP()}}if(L){var Q=b.add.vmsk.i;for(var c=2;c<J.length;c++)Q.push(J[c])}else{b=this.ajJ();delete b.add.SoCo;
b.add.vmsk.i=u.eP.Zo(J);aG.GT(e.colr,b,this.Yh,p);aG.aps(e,b)}};aG.GT=function(e,A,a,p){var N=aG.aln(e,a,p),i=null,Z=null;
A.add.vstk.fillEnabled.v=!0;if(N.type=="SoFi"){i="SoCo";Z=iF.Gw}if(N.type=="GrFl"){i="GdFl";Z=iF.wu}if(N.type=="patternFill"){i="PtFl";
Z=iF.RE}if(i!=null){A.add[i]={classID:"null"};for(var c=0;c<Z.length;c++){var s=Z[c];A.add[i][s]=N.Z.v[s]}}};
aG.prototype.PJ=function(e){var A=this.Ru,a=e.cpth,p=a.cmds.join(""),N=a.crds,i=p+" "+N.join(","),Z=UDOC.G.isBox(a,this.aaL);
if(Z&&this.uA==null)return;if(i==this.uA)return;this.bE();if(!Z){this.uA=i;A.B.push(A.pz());var s=A.Uo();
s.i4("Mask");s.add.lsct=ez.St;s.Mi="pass";s.OO=24;var D=s.add.vmsk=new u.eP;D.i=this.gx(e.cpth);if(UDOC.G.isBox(a)){this.Lt=j.r.km(D.i);
this.Lt.Fu(3,3)}else this.Lt=null;this.ao0=s}};aG.prototype.bE=function(){var e=this.Ru;if(this.uA!=null){var A=e.B.length-1,c=A,a=!1;
while(c>=0&&e.B[c].add.lsct!=ez.Nr)c--;var p=this.Lt;if(p){var N=new dE,i=A;while(i>c){N=e.B[i].SK(this.Ru,!1,!0);
i--}a=p.XH(N)}if(a){this.JM.splice(c,1);e.B.splice(c,1)}else{e.B.push(this.ao0)}this.uA=null}};aG.aln=function(e,A,a){var p,N;
if(e.length!=null){p="SoFi";var i=JSON.parse(iF.lZ[iF.order.indexOf("SoFi")]);N={t:"Objc",v:i};N.v.Clr.v=aG.cI(e)}else{var Z=aG.a6N(e,A,a);
p="GrFl";N={t:"Objc",v:Z}}return{type:p,Z:N}};aG.a6N=function(e,A,a){var p=JSON.parse(iF.lZ[iF.order.indexOf("GrFl")]),N=p.Grad.v;
N.Intr.v=0;var i=aG.mA(e.mat);i.concat(A);var Z=new k7(0,0),s=new k7(a.m,0),D=e.crds;if(e.typ=="rad"){p.Type.v.GrdT="Rdl";
var n=.7;Z.x=(1-n)*D[0]+n*D[3];Z.y=(1-n)*D[1]+n*D[4];s.x=Z.x;s.y=Z.y;s.x+=Math.max(D[2],D[5])}else{p.Type.v.GrdT="Lnr";
Z.x=D[0];Z.y=D[1];s.x=D[2];s.y=D[3];Z.x=s.x+.5*(Z.x-s.x);Z.y=s.y+.5*(Z.y-s.y)}Z=i.Av(Z);s=i.Av(s);j.M.NB(Z,s,a,p);
var S=e.grad;j.M.QG(S,N);return p};aG.prototype.PutText=function(e,A,a,p){var N=A.charCodeAt(0),m=null;
if(this.SO!=-1&&this.SO!=this.vK)return;if(A.length==0||A.length==1&&(N==0||N==8203))return;this.PJ(e);
var i=this.Ru,Z=e.font,s=Math.round(255*e.ca);if(e.font.Tmode==3)s=0;var D=aG.mA(e.ctm);D.concat(this.Yh);
var n=aG.mA(Z.Tm);n.concat(D);var S=n.nZ(),F=new bj(1/S,0,0,-1/S,0,0);F.concat(n);var $=Z.Tfs*S,J=i.B.length-1;
while(J>=0&&i.B[J].add.TySh==null)J--;if(F.k*F.k+F.b9*F.b9<.001&&p==null&&J>=0&&i.B[J].add.TySh&&i.B[J].opacity==s){var w=i.B[J],f=this.JM[J],b=w.add.TySh.D,L=(b.Co+f.Rj-F.Co)/$,C=Math.abs(L),M=A.indexOf(" ")==-1,y=b.gg==F.gg&&b.k==F.k&&b.b9==F.b9&&b.pU==F.pU,Q=y&&Math.abs(f.XZ-F.dW)<1e-5&&C<.6,k=F.dW-f.XZ;
if(Q){m=w;f.Rj=F.Co-b.Co;if(L>.2&&M&&[".",",","?",":","!"].indexOf(A)==-1)A=" "+A}else if(y&&Math.abs(F.Co-b.Co)<1e-5&&0<k&&k<$*1.7&&f.a5H==$){m=w;
this.anQ(f);f.XZ=F.dW;A="\n"+A}}if(m==null){J=i.B.length;this.JM[J]={Gd:[],Rj:0,XZ:F.dW,Ur:"",a5H:$};
m=i.Uo();i.B.push(m);m.add.lnsr="rend";m.add.TySh=eG.KP(0,0);m.add.TySh.D=F}var f=this.JM[J];f.Rj+=a*$;
f.Ur+=A;var E=m.add.TySh._t,_=eG.Ob(E);if(p){eG.XX(E,1);var v=[0,0,Math.ceil(p[0]*S),Math.ceil(p[1]*S)];
eG.dw(E,v)}var V=_.length-1,R=V+A.length;eG.f7(E,V,A);if(this.q_==null)this.q_=eG.p_(E,V,V);var h=this.q_;
h.JH.FontSize=Math.round($);h.JH.Tracking=Math.round(Z.Tc*100);h.JH.Underline=Z.Tun==1;h.JH.FillColor={Type:1,Values:[1,e.colr[0],e.colr[1],e.colr[2]]};
if(Z.Tal!=null)h.Vx.Justification=Z.Tal;if(f.Gd.length!=0){h.JH.AutoLeading=!1;h.JH.Leading=f.XZ-f.Gd[f.Gd.length-1].y}var P=Z.Tf;
P=P.replace(/#2B/g,"+");P=P.replace(/#2C/g,"-");P=P.split("+").pop();var H={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(H[P])P=H[P];eG.Kv(h,P);eG.G4(E,V,R-1,h);m.H0();m.opacity=s};aG.prototype.anQ=function(e){e.Gd.push({SB:e.Rj,Uz:e.Ur.slice(e.Gd.length==0?0:1)+"\n",y:e.XZ,PV:e.a5H});
e.Rj=0;e.Ur=""};aG.prototype.pO=function(e,A,a){return new Uint8Array(fI.nP("PNG").Eu([[e.buffer,0]],A,a))};
aG.prototype.PutImage=function(e,A,a,p,N,i,Z){if(this.SO!=-1&&this.SO!=this.vK)return;var s=this.Ru,D=e.font.Tmode;
if(D==7&&s.B[s.B.length-1].add.TySh){return}this.PJ(e);var n=aG.mA(e.ctm);n.concat(this.Yh);var S=new bj(1/a,0,0,-1/p,0,1);
S.concat(n);n=S;A=aG.au7(A,a,p,i,!1);if(N)N=aG.au7(N,a,p,Z,!0);if(N==null){if(A.length==a*p*4)A=this.pO(A,a,p)}else{A=this.axt(A,a,p,i,!1);
N=this.axt(N,a,p,Z,!0);var F=j.Q(a*p);j.kI(N,F,0);j.Ao(F,A,3);A=this.pO(A,a,p)}var $=s.je(A,"Bitmap",0,0),m=$.rect.clone();
m.x=m.y=0;var J=j.p.wt(m).w;j.p.D(J,n,J);$.add.SoLd.Trnf=q.BD.Jw(J);$.add.SoLd.nonAffineTransform=q.BD.Jw(J);
$.kf(s,!1);aG.aps(e,$);s.B.push($)};aG.aps=function(e,A){A.opacity=Math.round(255*e.ca);var a=aG.Zz[e.bmode];
if(a==null)console.log("Unknown blend mode",a);else A.Mi=a};aG.Zz={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
aG.apT=function(e){if(e=="pass")e="norm";for(var A in aG.Zz)if(aG.Zz[A]==e)return A};aG.au7=function(e,A,a,p,N){var i=fI.ti(e.buffer);
if(i=="jpg"){try{e=new Uint8Array(fI.nP("JPG").a5y(e.buffer))}catch(i1){e=new Uint8Array(A*a*4)}}else if(i=="jb2"){e=new Uint8Array(fI.nP("JPG").QS(e.buffer,p,N)[0].data)}else if(e.length!=A*a*4){var Z=new Uint8Array(A*a*4),s=Math.ceil(A/8),D=new Uint8Array(a*s);
UTIF.decode._decodeG4(e,0,e.length,D,0,A,1);var n=D[0]==(N?255:0);for(var S=0;S<a;S++){var F=s*S;for(var $=0;
$<A;$++){var c=S*A+$,m=c*4,J=(D[F+($>>3)]>>7-($&7)&1)*255;if(n)J=255-J;Z[m]=J;Z[m+1]=J;Z[m+2]=J;Z[m+3]=255}}e=Z}return e};
aG.prototype.axt=function(e,A,a,p,N){if(e.length!=A*a*4){var i=fI.ti(e.buffer);if(i=="jb2")throw"e";
var Z=fI.nP(i);if(Z==null||i=="tga")Z=fI.nP("jpg");e=new Uint8Array(Z.QS(e,p,N)[0].data)}return e};aG.prototype.ShowPage=function(){var e=this.Ru;
this.vK++;var A=this.NN;this.bE();var a=e.Uo();e.B.push(a);var p=new dE(Math.round(this.v7.x),Math.round(this.v7.y),Math.round(A[2]-A[0]),Math.round(A[3]-A[1]));
if(p.QP())p.m=p.n=2e3;this.yZ=this.yZ.pg(p);a.Mx(p);a.add.artb.artboardBackgroundType.v=1;a.i4("Page "+this.vK);
a.add.lsct=ez.St;a.Mi="pass";a.OO=24};aG.prototype.Print=function(e){console.log("Print:",e)};aG.prototype.Done=function(){var e=this.Ru;
if(this.vK==1)e.B[e.B.length-1].add.lsct=ez.MV;e.Gu(this.vK);for(var c=0;c<e.B.length;c++){var A=e.B[c],a=A.add.vmsk,p=A.add.TySh,N=this.JM[c];
A.c0();if(a){var i=!1;for(var Z=0;Z<a.i.length;Z++){var s=a.i[Z];if((s.type==0||s.type==3)&&s.length>32767)i=!0}if(i){e.B.splice(c,1);
c--;continue}}A.yO(e);if(p&&N&&N.Gd.length!=0){this.anQ(N);var D=p._t,n=N.Gd.length,S=N.Gd[0],F=0,$=0;
for(var Z=0;Z<n;Z++)F=Math.max(F,N.Gd[Z].SB);eG.XX(D,1);p.D.dW-=S.PV*.7;eG.dw(D,[0,0,Math.ceil(F*1.1),Math.ceil(N.Gd[n-1].y-S.y+S.PV*2)])}if(p){var D=p._t;
eG.a9y(D);var m=eG.Ob(D).split("\n");for(var Z=0;Z<m.length-1;Z++){var J=m[Z],w=0;for(var f=0;f<J.length;
f++){var b=J.charCodeAt(f);if(1473<=b&&b<=1524)w++}if(w>J.length/2){m[Z]=J.split("").reverse().join("");
var L=D.EngineDict.ParagraphRun.RunArray[Z].ParagraphSheet.Properties;L._Direction=1;L.Justification=eG.i8(L)}}eG.Oy(D,m.join("\n"))}}e.Px=!0;
e.m=this.yZ.m;e.n=this.yZ.n;e.buffer=j.Q(this.yZ.O()*4)};var ju={};ju.gJ=null;ju.kz=function(e,A,a,p,N,i){if(N==null)N=e.m;
if(i==null)i=e.n;ju.gJ=e;var Z=!1,s=[e.root],D=e.root.children;if(e.add.artd){Z=!0;for(var c=0;c<D.length;
c++)if(D[c].j.add.artb==null)Z=!1;if(Z)s=D}var n=new dE(0,0,e.m,e.n),S=A[0];S=S.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
S=S.split(" ");var F=[];for(var c=0;c<S.length;c++){var $=S[c];if($=="-"){var m=F.pop(),J=parseInt(S[c+1]);
while(m<J){F.push(m);m++}}else F.push(parseInt($))}S=F;for(var c=0;c<S.length;c++)if(isNaN(S[c])||S[c]<1||S[c]>s.length){S.splice(c,1);
c--}var w=N/e.m,f=i/e.n,b=w*72/e.l5,L=f*72/e.l5,C=A[5];if(C==null)C=0;var M=72*C,y=72*C;for(var Q=0;
Q<s.length;Q++){var c=Q;if(A[2])c=s.length-1-Q;if(S.length!=0&&S.indexOf(c+1)==-1)continue;var k=s[c],E=Z?k.j.jP():n;
if(!k.j.gi())continue;var _=Math.round(E.m*b+2*M),v=Math.round(E.n*L+2*y);a.StartPage(0,0,_,v);var V=UDOC.getState(),R=new bj;
R.translate(-E.x,-E.y-E.n);R.scale(b,-L);R.translate(M,y);if(Z){var h=k.j.add.artb,P=h.artboardBackgroundType.v;
if(P!=1&&P!=3){var H=k.j.UY(),U=M*b,X=y*L,x=U+E.m*b,K=X+E.n*L;V.colr=[(H>>>0&255)/255,(H>>>8&255)/255,(H>>>16&255)/255];
V.pth={cmds:["M","L","L","L","Z"],crds:[U,X,x,X,x,K,U,K]};a.Fill(V)}}if(A[3]){var T=e.WR();if(!n.Kx(E)){T=j.Q(E.O()*4);
j._M(e.WR(),n,T,E)}var I=e.x_();if(I)ICC.U.applyLUT(I[e.add.fcmy==1?5:3],I[2],T,T);if(A[1]!=100){var o=fI.nP("JPG").Eu([[T.buffer]],E.m,E.n,[A[1]]);
T=new Uint8Array(o)}var l=new bj;l.translate(E.x,E.y);ju.mQ(V,a,T,E,l,R)}else{ju.aiC(e,k,V,a,R,A,p);
if(M!=0){var U=M,X=y,x=U+E.m,K=X+E.n,O=x+M,g=K+M;V.ca=1;V.colr=[1,1,1];V.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,g,O,g,O,0,U,X,x,X,x,K,U,K]};
a.Fill(V)}}if(A[6]){var W=[[0,0],[1,0],[1,1],[0,1]],d=50,gT=5,r=d*.5,G=gT*.5;V.colr=[.1,.1,.1];for(var Q in W){var Y=W[Q],fk=[Q==0||Q==3?-1:1,Q==0||Q==1?-1:1],eJ=[M-r+G*fk[0]+Y[0]*e.m,y-(fk[1]!=1?gT:0)+Y[1]*e.n],eS=[M-(fk[0]!=1?gT:0)+Y[0]*e.m,y-r+G*fk[1]+Y[1]*e.n];
V.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[eJ[0],eJ[1],eJ[0]+d,eJ[1],eJ[0]+d,eJ[1]+gT,eJ[0],eJ[1]+gT,eS[0],eS[1],eS[0]+gT,eS[1],eS[0]+gT,eS[1]+d,eS[0],eS[1]+d]};
a.Fill(V)}}a.ShowPage()}a.Done();ju.gJ=null};ju.Pt=function(e){e=j.M.kq(e);return[e.o/255,e.J/255,e.k/255]};
ju.aiC=function(e,A,a,p,N,i,Z){var s=A.j,D=s.add.lsct,n=s.add.lmfx,S=s.add.vmsk,F=s.add.vstk,$=s.add.TySh,b,L,V;
if(!s.gi())return;var m=s.opacity/255,J=s.add.iOpa!=null?s.add.iOpa/255:1;a.bmode=aG.apT(s.Mi);var w=a.ca;
a.ca=a.CA=m*J;var f=n;if(f)f=f.solidFillMulti.v[0];if(f)f=f.v;if(f&&!f.enab.v)f=null;var C=s.rect;if(s.TC()&&(!s.yg()||s.P5&&s.P5.UU)){if(s.yg()){b=s.P5.UU;
C=s.P5.age}else{b=j.Q(s.rect.O());j.kI(s.buffer,b,3)}L=b6.s4(n,s.add.fxrp,b,C,e,C).type;var M=["DrSh","OrGl"];
if(J!=1||F&&!F.fillEnabled.v){var y=b.slice(0);j.rQ(y);for(var c=0;c<M.length;c++){var Q=L[M[c]];for(var k=0;
k<Q.length;k++){var E=Q[k],_=E.bj.clone();_.x+=C.x;_.y+=C.y;j.R7(y,C,E.Qi,_)}}}}if(L)ju.agI(s,b,C,L,a,p,N,i,!0);
var v=b6.aiE(s,!1);if(v){p.StartTGroup(a);V=a;a=UDOC.getState()}var R=S&&!s.c7();if(R){var h=j.p.ef(S.i,!1),P=h.cH;
j.p.D(P.w,N,P.w);a.cpth={cmds:P.F,crds:P.w}}if(s.yg()){for(var c=0;c<A.children.length;c++)ju.aiC(e,A.children[c],a,p,N,i,Z)}else if(S&&s.c7()&&s.add.PtFl==null){var H=S.i,U=j.r.km(H),X=!1;
if(F.fillEnabled.v){var x=b6.kY(n,s.add),K=x[0],T=x[1];a.colr=ju.FJ(K?K:T,N,U);X=!0}var I=b6.mG(n);if(!F.strokeEnabled.v&&I)F=I;
var h=j.p.ef(H,F.strokeEnabled.v),P=h.cH;j.p.D(P.w,N,P.w);a.pth={cmds:P.F,crds:P.w};ju.aeR(p,a,X,F,N,U,h.r4!=0)}else if($&&i[4]){var o=$._t,l=new dl(o,Z),P=ek.xe(l,$),O=j.p.C8(P),g=b6.mG(n);
for(var W in O){var d=parseInt(W.slice(1,7),16),gT=0;a.colr=f?ju.Pt(f.Clr.v):ju.ag_(d);var r=O[W];j.p.D(r.w,N,r.w);
r=j.p.a1j(r);a.pth={cmds:r.F,crds:r.w};var F=g;if(W.length>7){F=JSON.parse(JSON.stringify(iF.kE.default));
var G=W.slice(7).split("-"),d=parseInt(G[1].slice(1),16),Y=ju.ag_(d);F.strokeEnabled.v=!0;F.strokeStyleLineWidth.v.val=parseFloat(G[2]);
F.strokeStyleContent.v.Clr.v=f?f.Clr.v:j.M.yN({o:Y[0]*255,J:Y[1]*255,k:Y[2]*255});F.strokeStyleMiterLimit.v=parseFloat(G[2])}ju.aeR(p,a,!0,F,N,null,!1)}}else if($){var o=JSON.parse(JSON.stringify($._t));
eG.a9y(o);var fk=$.D.clone(),eJ=new bj(1,0,0,-1,0,0);eJ.concat(fk);eJ.concat(N);var eS=eG.Ob(o),l=new dl(o,Z);
for(var c=0;c<l.Vx.length;c++){var gL=l.Vx[c];if(gL.H4.length==1&&gL.H4[0].kF)continue;for(var k=0;k<gL.Re.length;
k++){var cX=gL.Re[k],kj=gL.my.y+cX.my.y,gq=gL.H4[cX.start].start,iL=gL.H4[cX.end-1].end,ew=eG.anw(o,gq,iL);
for(var dk=0;dk<ew.length;dk++){var j9=l.VG(gq),fh=ew[dk],g9=eG.p_(o,gq,gq),k6=g9.eu[g9.JH.Font].Name;
a.font.Tf=k6;var W=eG.kq(g9.JH.FillColor);a.colr=f?ju.Pt(f.Clr.v):[W.o/255,W.J/255,W.k/255];var jx=a.font.Tfs=Math.round(g9.JH.FontSize),fV=eS.slice(gq,gq+fh);
if(g9.JH.FontCaps==2)fV=fV.toUpperCase();var ao=new bj;ao.translate(j9.nd.x,-kj);ao.concat(eJ);a.ctm=[ao.gg,ao.k,ao.b9,ao.pU,ao.Co,ao.dW];
p.PutText(a,fV,0);for(var b8=0;b8<2;b8++){var ke=g9.JH[b8==0?"Strikethrough":"Underline"];if(!ke)continue;
var gj=l.VG(gq+fh-1),jf=b8==0?.27:-.2,ay=jx*jf,fz=jx*(jf+.07),gT=gj.nd.x+gj.nd.m-j9.nd.x,ei=[0,ay,gT,ay,gT,fz,0,fz];
j.p.D(ei,ao,ei);a.pth={cmds:["M","L","L","L","Z"],crds:ei};p.Fill(a)}a.ctm=[1,0,0,1,0,0];gq+=fh}}}}else if(!s.rect.QP()){var iI,cb,dK=!1,ha=new bj,hA=s.add.SoLd,dW=!0;
if(hA)dW=j.K.jI(j.K.wK(q.BD.KR(hA.Trnf)));var fN=e.x_();if(hA&&dW&&fN==null){var cQ=hA.Idnt.v,h6=e.Bu(cQ,hA.Crop?hA.Crop.v:null),ej="";
if(h6==null)return;var hh=h6.G9,co=fI.ti(h6.raw.buffer);if(i[7].indexOf(co)!=-1){iI=h6.raw;dK=!0}else iI=hh[0];
cb=hh[1];ha=j.K.Ba(hA)}else{iI=s.buffer;cb=s.rect;ha.translate(cb.x,cb.y);if(fN){iI=iI.slice(0);ICC.U.applyLUT(fN[e.add.fcmy==1?5:3],fN[2],iI,iI)}}if(f&&!dK)iI=b6.axo(iI,f,cb);
ju.mQ(a,p,iI,cb,ha,N);if(f&&dK){var ei=[0,0,cb.m,0,cb.m,cb.n,0,cb.n];j.p.D(ei,ha,ei);j.p.D(ei,N,ei);
var bk=JSON.parse(JSON.stringify(a));bk.ca=f.Opct.v.val/100;bk.pth={cmds:["M","L","L","L","Z"],crds:ei};
bk.colr=ju.Pt(f.Clr.v);p.Fill(bk)}}if(R)a.cpth=null;if(v){p.EndTGroup();a=V}a.ca=a.CA=w;if(L)ju.agI(s,b,C,L,a,p,N,i,!1)};
ju.aeR=function(e,A,a,p,N,i,Z){var s=!1,D=0,n=0;if(p&&p.strokeEnabled.v){var S=p.strokeStyleContent.v,$=p.strokeStyleLineDashSet.v;
D=iF.kE.R0.indexOf(p.strokeStyleLineAlignment.v.strokeStyleLineAlignment);A.COLR=ju.FJ(S,N,i);n=p.strokeStyleLineWidth.v.val*N.nZ();
A.mlimit=p.strokeStyleMiterLimit.v*N.nZ();A.doff=p.strokeStyleLineDashOffset.v.val;A.ljoin=iF.kE.join.indexOf(p.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
A.lcap=iF.kE.oA.indexOf(p.strokeStyleLineCapType.v.strokeStyleLineCapType);A.dash=[];for(var c=0;c<$.length;
c++)A.dash.push($[c].v.val*n);if(A.dash.length==1&&A.dash[0]==0)A.dash=[];s=!0}var m=D==2;if(a&&!m)e.Fill(A,Z);
if(s){A.lwidth=n*(D==2?2:1);e.Stroke(A)}if(a&&m)e.Fill(A,Z)};ju.ai3=function(e){var A=ju.gJ;if(A==null)return e;
var a=A.x_();if(a&&A.add.fcmy){var p=new Uint8Array(4);p[0]=.5+e[0]*255;p[1]=.5+e[1]*255;p[2]=.5+e[2]*255;
ICC.U.applyLUT(a[A.add.fcmy==1?5:3],a[2],p,p);e=[p[0]/255,p[1]/255,p[2]/255]}return e};ju.Pt=function(e){e=j.M.kq(e);
return ju.ai3([e.o/255,e.J/255,e.k/255])};ju.ag_=function(e){return ju.ai3([(e>>>16&255)/255,(e>>>8&255)/255,(e&255)/255])};
ju.FJ=function(e,A,a){if(e.Clr)return ju.Pt(e.Clr.v);var p=e,N=p.Rvrs?p.Rvrs.v:!1,i=p.Type.v.GrdT,Z,s=i=="Rdl"||i=="Dmnd"?"rad":"lin",D=j.M.J0(p,a),n=A.Av(D[0]),S=A.Av(D[1]);
if(s=="rad")Z=[n.x,n.y,0,n.x,n.y,k7.nR(n,S)];else{n.rq(S.x+(n.x-S.x)*2,S.y+(n.y-S.y)*2);Z=[n.x,n.y,S.x,S.y]}var F=j.M.aK(p.Grad.v,N);
return{typ:s,mat:[1,0,0,1,0,0],grad:F,crds:Z}};ju.agI=function(e,A,a,p,N,i,Z,s,D){var n=a.clone(),S=A;
if(e.add.TySh&&!s[3]&&!s[4])return;var F=N.ca,$=N.bmode;for(var c=iF.order.length-1;c>=0;c--){var m=iF.order[c];
if(m=="GrFl"||m=="SoFi")continue;if((e.add.vmsk||e.add.TySh)&&m=="FrFX")continue;var J=p[m],w=c>7||m=="FrFX";
if(w!=D)continue;for(var f=0;f<J.length;f++){var b=J[f];if(b.bj==null)b=b.I2?b.I2:b.ie;var L=b.bj.clone();
L.offset(n.x,n.y);if(!w){if(!n.XH(L)){var C=n.pg(L),M=j.Q(C.O());j.WP(S,n,M,C);S=M;n=C}j.R7(S,n,b.Qi,L)}if(w&&m=="FrFX"&&b.zs)j.R7(b.zs,L,b.Qi,L);
var y=new bj;y.translate(L.x,L.y);N.ca=b.RZ;N.bmode=aG.apT(b.UM);ju.mQ(N,i,b.Qi,L,y,Z)}}N.ca=F;N.bmode=$};
ju.mQ=function(e,A,a,p,N,i){var Z=new bj;Z.scale(p.m,-p.n);Z.translate(0,p.n);Z.concat(N);Z.concat(i);
e.ctm=[Z.gg,Z.k,Z.b9,Z.pU,Z.Co,Z.dW];A.PutImage(e,a,p.m,p.n);e.ctm=[1,0,0,1,0,0]};var cL={};cL.__=function(e){var A=new Uint8Array(e);
return cL.eC(A,0)};cL.eC=function(e,A){var a=z.q,p=z.wc,N={h0:p(e,A,4),R:A+8,size:a(e,A+4)},i=N.h0=="FORM"||N.h0=="LIST"||N.h0=="CAT ";
if(i)N.GD=p(e,A+8,4);if(N.size<0||N.R+N.size>e.length)throw"e";if(i){N.sub=[];A+=12;var Z=N.R+N.size;
while(A<Z){var s=cL.eC(e,A);N.sub.push(s);A+=8+s.size+(s.size&1)}}return N};var hn={};hn.__=function(e,A){var a=new Uint8Array(e);
return hn.eC(a,0,A)};hn.eC=function(e,A,a){var p=z.Jv,N=z.wc,i={h0:N(e,A,4),R:A+8,size:p(e,A+4)};if(a&&a[i.size]!=null)i.size=a[i.size];
if(i.h0=="RIFF"||i.h0=="LIST"){i.GD=N(e,A+8,4)}if(i.size<0||i.R+i.size>e.length)throw"e";if(i.h0=="RIFF"||i.h0=="LIST"&&(i.GD!="cmpr"&&i.GD!="stlt")){i.sub=[];
A+=12;var Z=i.R+i.size;while(A<Z){var s=hn.eC(e,A,a);i.sub.push(s);A+=8+s.size+(s.size&1)}}return i};
var c1=function(){function e(g,W){var d=null;if(g.sub==null)return d;for(var c=0;c<g.sub.length;c++){var gT=g.sub[c];
if(gT.h0==W||gT.GD==W)d=gT}return d}function A(g){if(g==32)return 300;else if(g<49)return 0;else if(g<58)return 100*(g-48);
else if(g<65)return 0;return 100*(g-55)}var a;function p(g,W){var d=new Uint8Array(g);W.Px=!0;a={};var gT=z.wc(d,0,2);
if(gT=="WL"){alert("Unsupported CDR version")}else{var r,G,Y,eS,fh=300,jx=0;if(gT=="PK"){G=UZIP.parse(d);
d=G["content/root.dat"];Y=z.lB(G["content/dataFileList.dat"]).split("\n")}r=hn.__(d.buffer);console.log(r);
var fk=A(d[11]),eJ={data:d,R:0,mP:fk};eJ.x7=eJ.mP<600?16:32;k(d,eJ,Y,G,r.sub,0);var gL=[];if(G){eS=e(r,"doc ");
N(eS);var cX=r.sub;for(var c=0;c<cX.length;c++)if(cX[c].GD=="page")gL.push(cX[c]);gL=gL.slice(1)}else if(e(r,"cmpr")==null){eS=e(r,"page");
gL.push(eS)}else{var kj=e(r,"cmpr").sub;eS=kj[0];gL=[kj.slice(1)[1]];N(eS)}var gq=e(eS,"mcfg").Z,iL=gq.aaM,ew=iL.x*.1,dk=iL.x*gL.length+ew*(gL.length-1),j9=iL.y;
fh/=fX.pl(new dE(0,0,Math.round(dk*fh),Math.round(j9*fh)),8192*8192);var g9=Math.round(dk*fh),k6=Math.round(j9*fh);
W.m=g9;W.n=k6;W.buffer=j.Q(W.m*W.n*4);for(var c=0;c<gL.length;c++){var fV=new bj(fh,0,0,-fh,iL.x*fh/2+jx,iL.y*fh/2);
i(gL[c],eS,W,fV);var ao=W.B[W.B.length-1];ao.Mx(new dE(Math.round(jx),0,Math.round(iL.x*fh),Math.round(iL.y*fh)));
ao.i4("Page "+(c+1));jx+=iL.x*fh+ew*fh}W.Gu(gL.length)}}function N(g){var W=e(g,"filt").sub,d=e(g,"otlt").sub,gT=e(g,"fntt");
if(gT)gT=gT.sub;g.vI={};for(var c=0;c<W.length;c++)g.vI[W[c].sub[0].Z.id]=W[c].sub[0].Z;g.IY={};for(var c=0;
c<d.length;c++)g.IY[d[c].Z.id]=d[c].Z;if(gT){g.fonts={};for(var c=0;c<gT.length;c++)g.fonts[gT[c].Z.id]=gT[c].Z}}function i(g,W,d,gT){var r=g.GD?g.GD:g.h0,G=e(g,"lgob"),Y=e(g,"txsm"),fk=null,eJ=null;
if(G){fk=e(G,"trfl");eJ=e(G,"loda")}else if(e(g,"lobj"))eJ=e(g,"lobj");var eS=fk?fk.sub[0]._T.clone():new bj;
eS.concat(gT);var gL=d.Uo();if(r=="page"||r=="layr"||r=="grp "){gL.i4((r=="page"?"Page":"Group")+" "+d.B.length);
gL.add.lsct=ez.MV;gL.Mi="pass";gL.OO=24;var cX=[];if(r=="page")cX=e(g,"gobj").sub;if(r=="layr")cX=g.sub.slice(2);
if(r=="grp ")cX=g.sub.slice(4);if(cX.length==0)return;d.B.push(d.pz());for(var c=cX.length-1;c>=0;c--)i(cX[c],W,d,gT)}else if(r=="obj "&&eJ.Z&&eJ.Z.path){var kj,gq;
if(W.vI){kj=W.vI[eJ.Z.a6H];gq=W.IY[eJ.Z.acJ]}if(kj==null)kj=eJ.Z.a6V;if(gq==null)gq=eJ.Z.a5G;gL=Z(d,eJ.Z.path,gT,eS,kj,gq)}else if(r=="obj "&&Y){var iL=eJ.Z.azk,ew=eJ.Z.apB,fh="";
gL.add.TySh=eG.KP(0,0);var dk=eS.nZ();gL.add.TySh.D.translate(eS.Co,eS.dW);var j9=gL.add.TySh._t,g9=Y.Z.RI;
if(g9==null)return;for(var c=0;c<g9.length;c++){var k6=g9[c],jx=fh.length;fh+=k6.text+"\n";eG.f7(j9,jx,k6.text+"\n");
if(k6.text=="")continue;var fV=s(k6.arE,W),ao=fV.awZ,b8=W.fonts[ao.ax1],ke=eG.p_(j9,jx,fh.length);if(fV.align==3)ke.Vx.Justification=1;
else if(fV.align==2)ke.Vx.Justification=2;else ke.Vx.Justification=0;var gj=fV.fill.Z;if(b8.UJ)eG.Kv(ke,b8.UJ);
ke.JH.FillColor={Type:1,Values:[1,gj[0],gj[1],gj[2]]};ke.JH.FontSize=Math.round(ao.fontSize*gT.nZ());
eG.G4(j9,jx,fh.length-1,ke)}if(ew){eG.XX(j9,0)}else{eG.XX(j9,1);eG.dw(j9,[0,0,Math.round(iL.x*eS.gg),Math.round(-iL.y*eS.pU)])}gL.i4(fh.slice(0,10))}else{gL=null}if(gL)d.B.push(gL)}function Z(g,W,d,gT,r,G){var Y=g.Uo();
Y.i4("Object "+g.B.length);Y.OO|=16;Y.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));var fk=Y.add.vstk;
fk.strokeEnabled.v=!1;Y.add.vmsk=new u.eP;Y.add.vmsk.i=j.p.Hh(W,!1);j.r.nM(Y.add.vmsk.i,gT);var eJ=r&&r.type!=0,eS=eJ&&r.Z!=null?r.Z:[0,0,0];
aG.GT(eS,Y,gT,j.r.km(Y.add.vmsk.i));fk.fillEnabled.v=eJ;if(G&&G.arW!=1){fk.strokeEnabled.v=!0;fk.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var gL=fk.strokeStyleLineWidth.v.val=G.lineWidth*d.nZ(),cX=G.color;fk.strokeStyleContent.v.Clr.v=j.M.yN({o:cX[0]*255,J:cX[1]*255,k:cX[2]*255});
if(G.xA.length!=0)fk.strokeStyleLineDashSet.v=b6.td(G.xA,4/gL);var kj=G.akH,gq=G.asO;if(gq!=0){var iL=W.w,c=iL.length-4,ew=iL[c],dk=iL[c+1],j9=iL[c+2],fh=iL[c+3],g9=new bj;
g9.scale(.15,.15);g9.rotate(-Math.PI/2+Math.atan2(fh-dk,-(j9-ew)));g9.translate(j9,fh);g9.concat(gT);
if(a[gq]){var k6=Z(g,a[gq],d,g9,cX,null);g.B.push(k6)}}}Y.c0();Y.yO(g);return Y}function s(g,W){var d=e(W,"stlt").Z,gT=JSON.parse(JSON.stringify(d.me[g]));
if(gT.iR!=0){var r=d.me[gT.iR];for(var G in r)if(gT[G]==null||gT[G]==0)gT[G]=r[G];delete gT.iR}gT.align=d.ayR[gT.auh];
gT.fill=W.vI[d.alQ[gT.ads]];gT.afq=W.IY[d.ahj[gT.ak2]];gT.awZ=d.any[gT.awe];return gT}function D(c){var iM=c.data[c.R];
c.R+=1;return iM}function n(c){var iM=z.dn(c.data,c.R);c.R+=2;return iM}function S(c){var iM=z.Jv(c.data,c.R);
c.R+=4;return iM}function F(c){var iM=z.Jv(c.data,c.R);c.R+=8;return iM}function $(c){var iM=z.bf(c.data,c.R);
c.R+=2;return iM}function m(c){var iM=z.v2(c.data,c.R);c.R+=4;return iM}function J(c){var iM=z.q$(c.data,c.R);
c.R+=8;return iM}function w(c){if(c.R>=c.data.length)throw"e";var g=0;while(c.data[c.R+g]!=0)g++;var W=z.wc(c.data,c.R,g);
c.R+=g+1;return W}function f(c){var g="";while(!0){var W=n(c);if(W==0)break;g+=String.fromCharCode(W)}return g}function b(g){var W=S(g),d=(W&4294901760)>>>16,gT=(W&65535)/65535;
return d+gT}function L(g){if(g.mP<600)return Math.PI*$(g)/1800;return Math.PI*m(g)/18e7}function C(g){if(g.mP<1500)return M(g);
else return J(g)/254e3}function M(g){if(g.mP<600)return $(g)/1e3;else return m(g)/254e3}function y(g){if(g.mP<600)return n(g);
else return S(g)}function Q(g){if(g.mP<600)return $(g);else return m(g)}function k(g,W,d,gT,r,G){var Y,fk,eJ;
for(var eS=0;eS<r.length;eS++){var gL=W.mP,cX=r[eS];W.data=g;W.R=cX.R+(cX.h0=="LIST"?4:0);if(gT&&cX.sub==null){Y=S(W);
fk=S(W);eJ=S(W);var kj=n(W);if(kj!=0)throw"e";var gq=n(W);if(gq>32)throw"e";W.R-=16;if(Y!=4294967295){W.data=gT["content/data/"+d[Y]];
W.R=eJ}}if(cX.h0=="vrsn"){if(cX.size==16)W.R+=8;var iL=n(W);W.mP=iL;console.log("Version",iL);W.x7=iL<600?16:32}else if(cX.h0=="DISP"){}else if(cX.h0=="LIST"&&cX.GD=="cmpr"){var ew=S(W),dk=S(W),j9=S(W),fh=S(W),g9=new Uint8Array(W.data.buffer,W.R+8+2,ew-6-8),k6=pako.inflateRaw(g9),b8=0;
W.R+=ew;g9=new Uint8Array(W.data.buffer,W.R+8+2);var jx=pako.inflateRaw(g9),fV=[];for(var ao=0;ao<jx.length;
ao+=4)fV.push(z.Jv(jx,ao));cX.sub=[];while(b8<k6.length){var ke=hn.eC(k6,b8,fV);b8=ke.R+ke.size;cX.sub.push(ke)}var gj={data:k6,R:0,mP:gL,x7:W.x7};
k(k6,gj,d,gT,cX.sub,G+1)}else if(cX.h0=="LIST"&&cX.GD=="stlt"||cX.h0=="stlt"){if(Y==4294967295)return;
var jf=W.R,hh=32;cX.Z={};var ay=S(W);if(ay==0)return;cX.Z.alQ=H(W,gL>=1300);cX.Z.ahj=H(W);cX.Z.any={};
var fz=S(W);for(var c=0;c<fz;c++){var ei=S(W);W.R+=gL<1e3?12:20;var hC=n(W),iI=n(W);W.R+=8;var gQ=M(W);
W.R+=gL<1e3?12:20;cX.Z.any[ei]={ax1:hC,arC:iI,fontSize:gQ}}cX.Z.ayR=H(W);var cb=S(W);W.R+=52*cb;var dK=S(W);
W.R+=152*dK;var ha=S(W);W.R+=784*ha;var hA=S(W);for(var c=0;c<hA;c++){W.R+=40;if(gL>1300)W.R+=4;if(gL>=1300){if(S(W))W.R+=68;
else W.R+=12}else{W.R+=20;if(gL>=1e3)W.R+=8;if(S(W))W.R+=8;W.R+=8}}var dW=S(W);cX.Z.a6l={};for(var c=0;
c<dW;c++){var fN=S(W),cQ={};W.R+=12;cQ.right=M(W);cQ.ajF=M(W);cQ.left=M(W);cX.Z.a6l[fN]=cQ}var h6=S(W);
if(gL>=1300)hh+=4;W.R+=hh*h6;var bA=S(W);W.R+=28*bA;if(gL>800){var co=S(W);W.R+=12*co}cX.Z.me={};for(var c=0;
c<ay;c++){var ej=S(W),bk=S(W),h5={};h5.iR=S(W);W.R+=8;var bg=S(W);if(gL>=1200)bg*=2;W.R+=bg;h5.ads=S(W);
h5.ak2=S(W);if(ej>1){h5.awe=S(W);h5.auh=S(W);h5.an9=S(W);h5.azV=S(W);if(gL>800)h5.axu=S(W)}if(ej>2){h5.avK=S(W);
h5.ah7=S(W);h5.agQ=S(W);h5.a5a=S(W);h5.a1R=S(W)}cX.Z.me[bk]=h5}}else if(cX.h0=="LIST")k(g,W,d,gT,cX.sub,G+1);
else if(cX.h0=="txsm"){cX.Z={};if(gL<600)throw"e";if(gL<700)throw"e";if(gL>=1600){cX.Z=P(W);return}if(gL>=1500)W.R+=37;
else W.R+=36;if(S(W)){if(gL<800)W.R+=32}if(gL<800)W.R+=4;cX.Z.ayb=S(W);cX.Z.RI=[];W.R+=48;if(gL>=800){if(S(W)){W.R+=32;
if(gL>=1300)W.R+=8}}if(gL>=1500)W.R+=12;var ej=S(W),aQ=1,fw=!1;if(!ej){if(gL>=800)W.R+=4;if(gL>800)W.R+=2;
if(gL>=1400)W.R+=2;W.R+=24;if(gL<800)W.R+=8;aQ=S(W)}for(var ao=0;ao<aQ;ao++){var jC=S(W),c=0;if(gL>=1300&&ej)W.R++;
W.R++;var ay=S(W),e0=[];for(c=0;c<ay;c++){var eU=D(W),kh=0;D(W);var iV=D(W);if(gL>=800)kh=D(W);var h5={};
if(iV&1){h5.ax1=n(W);var hT=n(W);if(hT)h5.abK=hT}if(iV&2)W.R+=4;if(iV&4)h5.ajb=M(W);if(iV&8)W.R+=4;if(iV&16)W.R+=4;
if(iV&32)W.R+=4;if(iV&64){h5.ads=S(W);if(gL>=1500)W.R+=48}if(iV&128){h5.ak2=S(W)}if(kh&8){if(gL>=1300){var gi=S(W);
if(W.R+gi*2>=W.data.length){fw=!0;break}W.R+=gi*2}else W.R+=4}if(kh&32){var bD=D(W);if(bD)W.R+=52}if(eU==2)if(gL>=1300)W.R+=48;
e0.push(h5)}if(fw){break}var kt=S(W);if(W.R+kt*4>W.data.length)break;var iJ=[];for(c=0;c<kt;c++){var ih=0;
if(gL>=1200)ih=F(W)&4294967295;else ih=S(W);iJ[c]=ih>>16|ih&1}var fr=kt;if(gL>=1200)fr=S(W);var ad=w(W);
cX.Z.RI.push({arE:jC,text:ad,me:e0})}}else if(cX.h0=="arrw")cX.Z=E(W);else if(cX.h0=="font"){var aS=W.R,cD=n(W),dR=n(W),cz="";
W.R+=14;if(W.mP>=1200)cz=f(W);else cz=w(W);cX.Z={id:cD,ajg:dR,name:cz};if(gT){var b0=aS+fk;while(W.data[W.R]==0)W.R++;
W.R+=2;var jT=f(W);while(W.data[W.R]==0)W.R++;while(W.data[W.R]<=2)W.R+=4;cX.Z.UJ=f(W)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(cX.h0)!=-1){}else if(cX.h0=="flgs")cX.Z=S(W);
else if(cX.h0=="bbox"){var bW=M(W),aU=M(W),ff=M(W),ca=M(W);cX.Z=new dE(bW,aU,ff-bW,ca-aU)}else if(cX.h0=="fild"){var cT=S(W),hK;
if(gL>=1300)W.R+=8;var b3=n(W);if(b3==0){}else if(b3==1){W.R+=gL>=1300?13:2;hK=l(W)}else if(b3==2){W.R+=gL>=1300?8:2;
var cS=D(W),e3=0;if(gL>=1300){W.R+=17;e3=$(W)}else if(gL>=600){W.R+=19;e3=m(W)}else{W.R+=11;e3=$(W)}var j8=L(W),jd=.5+Q(W),eX=.5+Q(W)-.5;
if(gL>=600)W.R+=2;var h4=y(W)&255,ky=D(W)/100;W.R++;var iY=y(W)&65535;if(gL>=1300)W.R+=3;var iX=[];for(var c=0;
c<iY;c++){var h9=l(W);if(gL>=1400)W.R+=26;else if(gL>=1300)W.R+=5;var cY=(y(W)&65535)/100;if(gL>=1300)W.R+=3;
iX.push([cY,h9])}hK={typ:cS==1?"lin":"rad",crds:[jd-Math.cos(j8)/2,eX-Math.sin(j8)/2,jd,eX],grad:iX,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",b3);
cX.Z={id:cT,type:b3,Z:hK}}else if(cX.h0=="outl"){var fO=S(W);if(gL>=1300){var hf=0,hQ=0;while(hf!=1){W.R+=hQ;
hf=S(W);hQ=S(W)}}var aC=n(W),ds=n(W),e7=n(W);if(gL<1300&&gL>=600)W.R+=2;var jv=M(W),ak=n(W)/100;if(gL>=600)W.R+=2;
var gs=L(W);if(gL>=1300)W.R+=46;else if(gL>=600)W.R+=52;var hK=l(W);if(gL<600)W.R+=10;else W.R+=16;var gk=n(W),i7=W.R,fQ=[];
for(var c=0;c<gk;++c)fQ.push(n(W));if(gL<600)W.R=i7+20;else W.R=i7+22;var fv=S(W),ea=S(W);cX.Z={id:fO,arW:aC,ati:ds,adz:e7,lineWidth:jv,color:hK,xA:fQ,akH:fv,asO:ea}}else if(cX.h0=="mcfg"){if(1300<=gL)W.R+=12;
else if(900<=gL)W.R+=4;else if(600<=gL&&gL<700)W.R+=28;var ce=0,jR=0;if(gL<400){W.R+=2;var bW=M(W),aU=M(W),ff=M(W),ca=M(W);
ce=Math.abs(ff-bW);jR=Math.abs(ca-aU)}else{ce=M(W);jR=M(W)}cX.Z={aaM:new k7(ce,jR)}}else if(cX.h0=="loda"||cX.h0=="lobj"){var jf=W.R,e2=y(W),d3=y(W),ix=y(W),ex=y(W),e8=y(W),e_=[],cH=[],c=0,gK=null;
W.R=jf+ix;while(c<d3)e_[c++]=y(W);W.R=jf+ex;while(c>0)cH[--c]=y(W);cX.Z={};for(c=0;c<d3;c++){W.R=jf+e_[c];
var fn=cH[c];if(fn==30){if(gL>=400&&e8==1||gL<400&&e8==0){cX.Z.path=h(W)}else if(gL>=400&&e8==2||gL<400&&e8==1){cX.Z.path=R(W)}else if(gL>=400&&e8==3||gL<400&&e8==2){cX.Z.path=K(W)}else if(e8==37){cX.Z.path=x(W)}else if(gL>=400&&e8==4||gL<400&&e8==3){cX.Z.apB=U(W)}else if(gL>=400&&e8==6||gL<400&&e8==5){cX.Z.azk=X(W)}else console.log(e8)}else if(fn==20){if(gL<400)cX.Z.a6V=v(W);
else cX.Z.a6H=S(W)}else if(fn==10){if(gL<400)cX.Z.a5G=V(W);else cX.Z.acJ=S(W)}else if(fn==200)cX.Z.au0=y(W);
else if(fn==100){if(gL<400)gK=_(W)}}if(gK&&cX.Z.path)j.p.D(cX.Z.path.w,gK,cX.Z.path.w)}else if(cX.h0=="trfd"){var jf=W.R,e2=y(W),d3=y(W),ix=y(W);
W.R=jf+ix;var e_=[];for(var c=0;c<d3;c++)e_[c]=y(W);for(var c=0;c<d3;c++){W.R=jf+e_[c];if(gL>=1300)W.R+=8;
var g5=n(W);if(g5==8){var ja,jq,bW,g8,gd,aU;if(gL>=600)W.R+=6;if(gL>=500){ja=J(W);jq=J(W);bW=J(W)/(gL<600?1e3:254e3);
g8=J(W);gd=J(W);aU=J(W)/(gL<600?1e3:254e3)}else throw"e";cX._T=new bj(ja,g8,jq,gd,bW,aU)}else console.log(g5)}}else if(!1){console.log(cX);
var bi=Math.min(cX.size,32);console.log(z.qS(g,cX.R,bi));console.log(z.a3p(g,cX.R,bi))}}}function E(g){var W=S(g);
g.R+=4;var d=n(g);g.R+=4;var gT=[];for(var r=0;r<d;r++)gT.push(D(g));g.R+=1;var G=[];for(var Y=0;Y<d;
Y++){var fk=[];fk[1]=M(g);fk[0]=M(g);G.push(fk)}var eJ=I(G,gT);a[W]=eJ}function _(g){var W=0,d=0,gT=0,r=0,G=0,Y=0;
if(g.mP>=300){var fk=g.R;g.R+=10;var eJ=y(g);g.R=fk+eJ;W=b(g);d=b(g);gT=m(g)/1e3;r=b(g);G=b(g);Y=m(g)/1e3}else{gT=M(g);
Y=M(g);W=b(g);d=b(g);gT+=b(g)/1e3;r=b(g);G=b(g);Y+=b(g)/1e3}return new bj(W,d,r,G,gT,Y)}function v(g){var W=D(g);
if(W==0)return null;else if(W==1)return l(g);else console.log(W)}function V(g){var W=D(g);W<<=1;var d=M(g),gT=n(g)/100,r=L(g),G=l(g);
return{arW:W,lineWidth:d,color:G,xA:[],akH:0,asO:0}}function R(g){var W=M(g),d=M(g),gT=L(g),r=L(g),G=j.p.rh(j.r.Qa.CH(0,0,W,d));
return G}function h(g){var W=g.mP,d=C(g),gT=C(g),r=0,G=0,Y=0,fk=0,eJ=0,eS=1,gL=1;if(W<1500){fk=C(g);
Y=W<900?fk:C(g);G=W<900?fk:C(g);r=W<900?fk:C(g)}else{var cX=J(g);if(cX!=0)eS=cX;cX=J(g);if(cX!=0)gL=cX;
var kj=D(g);g.R+=7;if(kj==0){fk=J(g);eJ=D(g);g.R+=15;Y=J(g);g.R+=16;G=J(g);g.R+=16;r=J(g);var gq=Math.abs(d*eS/2),iL=Math.abs(gT*gL/2);
fk*=gq<iL?gq:iL;Y*=gq<iL?gq:iL;G*=gq<iL?gq:iL;r*=gq<iL?gq:iL}else{fk=C(g);eJ=D(g);g.R+=15;Y=C(g);g.R+=16;
G=C(g);g.R+=16;r=C(g)}}return j.p.rh(j.r.Qa.Rect(0,0,d,gT,[r,G,Y,fk]))}function P(g){var W=S(g),gT=0;
g.R+=37;var d=S(g);for(var c=0;c<d;c++){var r=S(g);gT=r;g.R+=48;var G=S(g);if(G==1)g.R+=12*4;else g.R+=8;
if(!W){g.R+=16;var Y=S(g);if(g.mP>1600)g.R+=Y;else g.R+=Y*2}}var fk={ayb:gT,RI:[]},eJ=S(g);for(var eS=0;
eS<eJ;eS++){var gL=S(g),ao="";g.R+=1;if(W)g.R+=1;var cX=S(g);if(g.mP<1700)cX*=2;var kj=z.wc(g.data,g.R,cX);
g.R+=cX;var gq=S(g);for(var c=0;c<gq;c++){g.R+=2;var iL=n(g),ew=n(g);if(ew&4){var dk=S(g);dk*=2;g.R+=dk}if(iL||ew&4){var j9=S(g);
if(g.mP<1700)j9*=2;var fh=z.wc(g.data,g.R,j9);g.R+=j9}}var g9=S(g),k6=[];for(var c=0;c<g9;c++){var jx=F(g)&4294967295;
k6[c]=jx>>16|jx&1}var fV=S(g);for(var c=0;c<g9;c++){var b8=k6[c],ke=0;if(b8==0||b8==2||b8==4||b8==6)ke=g.data[g.R++];
else if(b8==1||b8==3)ke=g.data[g.R++]+g.data[g.R++]*256;else throw b8;ao+=String.fromCharCode(ke)}var gj=ao.split("\r");
for(var c=0;c<gj.length;c++)fk.RI.push({text:gj[c],arE:gL,me:[]})}return fk}function H(g,W){var d={},gT=S(g);
for(var c=0;c<gT;c++){var r=S(g);g.R+=4;var G=S(g);d[r]=G;if(W)g.R+=48}return d}function U(g){var W=M(g),d=M(g);
return new k7(W,d)}function X(g){g.R+=4;var W=M(g),d=M(g);return new k7(W,d)}function x(g){g.R+=4;var W=n(g)+n(g);
g.R+=16;var d=T(g,W);return d}function K(g){var W=n(g);g.R+=2;return T(g,W)}function T(g,W){var d=[],gT=[];
for(var c=0;c<W;c++)d.push([M(g),M(g)]);for(var c=0;c<W;c++)gT.push(D(g));return I(d,gT)}function I(g,W){var d={w:[],F:[]},gT=0,r=0,G=0;
for(var c=0;c<g.length;c++){var gT=g[c][0],r=g[c][1],Y=W[c];if(!(Y&64)&&!(Y&128)){d.w.push(gT,r);d.F.push("M");
G+=2}else if(Y&64&&!(Y&128)){d.w.push(gT,r);d.F.push("L");G+=2}else if(!(Y&64)&&Y&128){d.w.push(gT,r);
d.F.push("C");G+=6}else if(Y&64&&Y&128){d.w.push(gT,r)}}if(G!=d.w.length)throw"e";return d}function o(g,W){var d=z.Jv;
W+=8;var gT=d(g,W);W+=4;var r=d(g,W);W+=4;W+=4*7;var G=W,Y=j.Q(gT*r*4);W+=1024;for(var fk=0;fk<r;fk++)for(var eJ=0;
eJ<gT;eJ++){var c=fk*gT+eJ,eS=(r-fk-1)*gT+eJ,gL=g[W+c]<<2,cX=eS<<2;Y[cX+0]=g[G+gL+2];Y[cX+1]=g[G+gL+1];
Y[cX+2]=g[G+gL+0];Y[cX+3]=255}return{Qi:Y,rect:new dE(0,0,gT,r)}}function l(g){var W=g.mP,d=0,gT=0,r=0;
if(W>=500){d=n(g);if(d==1&&W>=1300)d=25;if(d==30){d=25;gT=30}else{gT=n(g);g.R+=4}r=S(g)}else if(W>=400)throw"e";
else{d=D(g);r=S(g)}return O(d,gT,r)}function O(g,W,d){var gT=[0,0,0];if(g==2||g==3||g==9||g==17){var r=[d>>>0&255,d>>>8&255,d>>>16&255,d>>>24&255];
if(g==2)for(var c=0;c<4;c++)r[c]=Math.round(255*r[c]/100);for(var c=0;c<4;c++)r[c]/=255;gT=UDOC.C.cmykToRgb(r)}else if(g==1||g==5){gT=[d>>>0&255,d>>>8&255,d>>>16&255];
for(var c=0;c<3;c++)gT[c]=gT[c]/255;if(g==5)gT.reverse()}else console.log("Unknown color model "+g,d,d.toString(16));
return gT}return{__:p}}(),jP=function(){var e,A,a=new ArrayBuffer(4),p=new Uint8Array(a),N=new Uint32Array(a),i=new Float32Array(a);
function Z($,m){for(var J=0;J<$.length;J++)if($[J][0]==m)return $[J]}function s(){var $=0,m=0,J=0;do{J=e[A++];
$|=(J&127)<<m;m+=7}while(J&128&&m<35);return $>>>0}function D($,m,J,w,f){e=$;A=m;var b=w[0]=="mesg",L=w[2],C={},M=1,y=b?1e9:L.length;
while(M<=y){var Q=M;if(b){Q=s();if(Q==0)break}var k=Z(L,Q),E=k[2],_=k[1]==1,v=_?s():1,V=new Array(v);
if(E==3){if(!_)throw"e";V=e.slice(A,A+v);A+=v}else for(var c=0;c<v;c++){var R;if((E&1)==1){if(E==1)R=e[A++]==1;
else if(E==3)R=e[A++];else if(E==5){var h=s();R=h&1?~(h>>>1):h>>>1}else if(E==7)R=s();else if(E==9){if(e[A]==0){R=0;
A++}else{p[0]=e[A];p[1]=e[A+1];p[2]=e[A+2];p[3]=e[A+3];var P=N[0];N[0]=P<<23|P>>>9;R=i[0];A+=4}}else if(E==11){var H=n(e,A);
R=H[0];A+=H[1]+1}else throw E}else{var U=J[E>>>1];if(U[0]=="enum"){var X=e[A++];if(X>127)throw"e";R=U[2][X]}else{var x=D(e,A,J,U,f+1);
R=x[0];A=x[1]}}V[c]=R}C[k[3]]=_?V:V[0];M++}return[C,A]}function n($,m){var J=m;while($[J]!=0)J++;return[z.lB($,m,J-m),J-m]}function S($,m){var J=m;
while($[J]!=0)J++;for(var c=m;c<J;c++)if($[c]>127)throw"e";return z.wc($,m,J-m)}function F($){e=$;A=1;
var m=[];while(A<$.length){var J=A,w=m.length,f=S($,A);A+=f.length+1;var b=s();if(b>2)throw"e";var L=s(),C=[];
for(var c=0;c<L;c++){var M=S($,A);A+=M.length+1;var y=s(),Q=s(),k=s();C.push(b==0?M:[k,Q,y,M])}m.push([["enum","strc","mesg"][b],f,C])}return m}return{ags:F,ak3:D}}();
function gm(){}gm.__=function(e,A){var a=new Uint8Array(e),p=8,N,S=0,X=0;if(a[0]==80&&a[1]==75){N=UZIP.parse(e);
a=N["canvas.fig"]}var i=z.Jv(a,p);p+=4;var Z=[];while(p<a.length){var s=z.Jv(a,p);p+=4;var D=a.slice(p,p+s);
if(a[p]==137&&a[p+1]==80){}else D=UZIP.inflateRaw(D);Z.push(D);p+=s}var n=jP.ags(Z[0]);for(var c=0;c<n.length;
c++)if(n[c][1]=="Message")S=c;var F=jP.ak3(Z[1],0,n,n[S],0)[0],$={N5:{},wX:{},afk:{},nN:N},m=F.nodeChanges;
for(var J=0;J<m.length;J++){var w=m[J],f=w.guid;$.wX[f.sessionID+","+f.localID]=w}for(var J=0;J<m.length;
J++){var w=m[J],f=w.parentIndex;if(f){var b=gm.SE($.wX,f.guid);if(b.children==null)b.children=[];b.children.push(w)}}var L=m[0],C=L.children,M=new dE,y=[],Q=[];
for(var f=0;f<C.length;f++){var k=C[f],E=k.children;if(k.name=="Internal Only Canvas"||E==null)continue;
var _=new dE;for(var c=0;c<E.length;c++){var v=E[c],V=v.transform,R=v.size;if(V.m00==1&&V.m10==0&&V.m01==0&&V.m11==1){var h=new dE(V.m02,V.m12,R.x,R.y);
_=_.pg(h)}}var P=M.n==0?0:M.n+100,H=_.clone();H.x=0;H.y=P;M=M.pg(H);y[f]=_;Q[f]=P}var U=fX.pl(new dE(0,0,M.m,M.n),8192*8192);
A.m=Math.round(M.m/U);A.n=Math.round(M.n/U);A.buffer=j.Q(A.m*A.n*4);for(var f=0;f<C.length;f++){var k=C[f],E=k.children;
if(k.name=="Internal Only Canvas"||E==null)continue;E.sort(gm.a0E);var x=new bj(1,0,0,1,-y[f].x,Q[f]-y[f].y);
x.scale(1/U,1/U);for(var c=0;c<E.length;c++){var v=E[c];gm.dQ(v,[],x,F.blobs,A,0,$);X++}}A.Gu(X);A.Px=!0;
if(U!=1)alert("File scaled down "+U+"x")};gm.dQ=function(e,A,a,p,N,i,Z){var s=gm,v=!1,V,P,H,U;A=JSON.parse(JSON.stringify(A));
var D=e.overrideKey?e.overrideKey:e.guid;for(var c=0;c<A.length;c++){var n=A[c],S=n.guidPath.guids;if(s.arh(S[0],D)){if(S.length==1){var F={};
for(var $ in e)F[$]=n[$]!=null?n[$]:e[$];e=F}else n.guidPath.guids=S.slice(1)}}var m=e.type,J=e.children,w=e.size,f=e.effects,b=N.Uo();
b.i4(e.name);b.d8(e.visible);b.opacity=Math.round(e.opacity*255);var L=s.Wy(e.transform),C=L.clone();
C.concat(a);if(w==null)w={x:0,y:0};var M=new dE(Math.round(C.Co),Math.round(C.dW),Math.round(w.x*C.nZ()),Math.round(w.y*C.nZ()));
if(M.m==0||isNaN(M.m))M.m=100;if(M.n==0||isNaN(M.n))M.n=100;var y=e.fillPaints,Q=e.inheritFillStyleID;
if(Q){var F=s.SE(Z.wX,Q);if(F)y=F.fillPaints}if(y==null)y=[];var y=s.a4J(y),k=y[0],E=e.strokePaints,Q=e.inheritFillStyleIDForStroke;
if(Q){var F=s.SE(Z.wX,Q);if(F)E=F.fillPaints}if(E==null)E=[];var E=s.a4J(E),_="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(m)!=-1;
if(_||m=="FRAME"){V=new u.eP;s.a07(e,p,V);v=j.r.$F(V.i);j.r.nM(V.i,C);var R=j.p.dE(j.r.km(V.i));if(!R.QP())M=R;
if(Z.N5.Ed&&k){var h=u.eP.Zo(Z.N5.Ed.i);for(var c=2;c<h.length;c++)if(h[c].kR!=null)h[c].kR=3;V.i=V.i.concat(h.slice(2))}}if(k&&k.type=="IMAGE"){U=k.imageScaleMode;
P=s.WR(p,gm.qV(k),Z);var X=P.WJ.m/P.WJ.n,x=w.x/w.y;H=Math.abs(X-x)}if(m=="FRAME"){}else if(_&&v&&P&&(U=="FIT"||U=="FILL"&&H<=.05)){var K=s.WR(p,gm.qV(k),Z,!0),T=N.je(K,b.getName(),0,0);
T.OO=b.OO;T.opacity=b.opacity;b=T;var I=new dE(0,0,w.x,w.y);if(U=="FIT"){var o=P.WJ.m,l=P.WJ.n,O=Math.min(w.x/o,w.y/l),g=o*O,W=l*O;
I=new dE(I.x+(I.m-g)/2,I.y+(I.n-W)/2,g,W)}var d=j.p.wt(I).w;j.p.D(d,C,d);b.add.SoLd.Trnf=q.BD.Jw(d);
b.add.SoLd.nonAffineTransform=q.BD.Jw(d);var gT=[],f=e.effects,r=k.paintFilter;if(f)for(var c=0;c<f.length;
c++)if(f[c].type=="FOREGROUND_BLUR"){var G=f[c],Y=hZ.R3("GsnB",{});gT.push(Y);Y.v.enab.v=G.visible;Y.v.Fltr.v.Rds.v.val=G.radius/2.4}if(r&&r.exposure!=0){var Y=hZ.R3("brit",{});
gT.push(Y);Y.v.Fltr.v.Brgh.v=Math.round(r.exposure*160);Y.v.Fltr.v.useLegacy.v=!0}if(r&&r.vibrance!=0){var Y=hZ.R3("vibA",{});
gT.push(Y);console.log(Y);Y.v.Fltr.v.Strt.v=Math.round(Math.round(r.vibrance*100))}if(gT.length!=0){b.add.SoLd.filterFX=hZ.Iu();
N.Dh({id:b.add.SoLd.placed.v,rect:new dE,buffer:j.Q(1),$:new u.j_});b.add.SoLd.filterFX.v.filterFXList.v=gT}b.kf(N,!1);
s.ajO(Z,b,N)}else if(_){s.am5(b,V,e,k,E,C,M,p,N,Z);if(f)for(var c=0;c<f.length;c++){var G=f[c];if(G.type!="FOREGROUND_BLUR")continue;
V.UO=G.radius/2.4}b.c0();b.yO(N)}else if(m=="TEXT"){var fk=e.textData,eJ=fk.layoutSize,eS=["LEFT","RIGHT","CENTER"].indexOf(e.textAlignHorizontal);
b.add.lnsr="rend";b.add.TySh=eG.KP(0,0);b.add.TySh.oc=new dE(0,0,100,100);var gL=C.clone();b.add.TySh.D=gL;
var cX=b.add.TySh._t,kj=fk.characters;if(e.textCase=="TITLE"){for(var c=0;c<kj.length;c++)if(c==0||kj[c-1]==" "){var gq=kj.slice(0,c),iL=kj.slice(c+1);
kj=gq+kj[c].toUpperCase()+iL}}kj=kj.replace(/\u2028/g,"\n");kj=kj.replace(/\u2029/g,"\n");kj=kj.replace(/\r\n/g," \n");
eG.f7(cX,0,kj);var ew=e.textAutoResize,dk=fk.baselines;if(ew=="WIDTH_AND_HEIGHT"){var j9=eS==0?0:eS==1?eJ.x:eJ.x/2,fh=dk?dk[0].position.y:0;
gL.translate(j9*C.nZ(),fh*C.nZ());eG.XX(cX,0)}else if(ew=="HEIGHT"||ew=="NONE"||ew==null){var fh=dk?dk[0].position.y-e.fontSize*.7:0;
gL.translate(0,fh*C.nZ());eG.XX(cX,1);eG.dw(cX,[0,0,Math.round(eJ.x),Math.round((ew=="NONE"?1.8:1)*eJ.y)])}else throw ew;
if(kj!=""){var g9=eG.p_(cX,0,1);s.awt(e,C,w,g9,b,p,N,Z);eG.G4(cX,0,kj.length,g9);var k6=fk.characterStyleIDs,jx=fk.styleOverrideTable;
if(k6){k6=k6.slice(0);for(var c=0;c<k6.length;c++)if(kj[c]=="\n")k6[c]=-c-1;var fV=[0],ao=0,b8=0;for(var c=0;
c<k6.length;c++){b8++;var ke=k6[c];if(c==0||ke==k6[c-1]){}else{fV.push(b8-1,c);b8=1}}fV.push(b8);for(var c=0;
c<fV.length;c+=2){var gj=fV[c],jf=fV[c+1];if(kj[gj]=="\n")continue;var ke=k6[gj];if(ke!=0){var ay;for(var fz=0;
fz<jx.length;fz++)if(jx[fz].styleID==ke)ay=jx[fz];var g9=eG.p_(cX,gj,gj+1);s.awt(ay,C,w,g9,b,p,N,Z);
eG.G4(cX,gj,gj+jf-1,g9)}}}}}else if(m=="SYMBOL"){}else if(m=="INSTANCE"){var ei=e.symbolData,hC=ei.symbolOverrides,F=s.SE(Z.wX,ei.symbolID);
if(F)J=F.children;else console.log(e.name,"symbol not found",ei.symbolID);A=A.slice(0);for(var c=0;c<hC.length;
c++)A.push(hC[c])}else console.log(m);if(!1){}else if(J&&!_){N.B.push(N.pz());var iI=!1,gQ=i==0&&m!="SYMBOL"&&m!="INSTANCE";
if(gQ){if(M.QP())console.log(M);b.Mx(M)}k=y[y.length-1];if(gQ&&k&&k.type=="SOLID"){var cb=k.color;b.add.artb.artboardBackgroundType.v=4;
b.add.artb.Clr=s.IJ(cb)}else if((k||E[0])&&V){var dK=N.Uo();dK.i4("Background");s.am5(dK,V,e,k,E,C,M,p,N,Z);
dK.c0();dK.yO(N);N.B.push(dK);iI=!0}J.sort(s.a0E);var ha=Z.N5;Z.N5={};for(var hA=0;hA<J.length;hA++)s.dQ(J[hA],A,C,p,N,i+1,Z);
Z.N5=ha;b.add.lsct=!1?ez.MV:ez.St;b.Mi="pass";var dW=b.gi();b.OO=24;b.d8(dW);var fN=i!=0&&y.length!=0&&!e.frameMaskDisabled&&e.containerSupportsFillStrokeAndCorners;
if(!iI&&fN&&V){b.add.vmsk=V;b.c0();b.yO(N)}else s.ajO(Z,b,N);N.B.push(b)}else if(e.mask){if(V){Z.N5.Ed=V}}else{var cQ=[],h5=1;
if(f)for(var h6=0;h6<f.length;h6++){var G=f[h6],hh=G.color,bA=G.type,co=["DROP_SHADOW","INNER_SHADOW"].indexOf(bA);
if(co!=-1){var ej=["DrSh","IrSh"][co],bk=JSON.parse(iF.lZ[iF.order.indexOf(ej)]);cQ.push([ej,bk]);bk.enab.v=G.visible;
bk.Md.v.BlnM=im.Pj(s.azn(G.blendMode));bk.Opct.v.val=Math.round(100*hh.a);bk.blur.v.val=Math.round(G.radius*C.nZ());
bk.Clr=s.IJ(hh);var j9=G.offset.x,fh=G.offset.y;bk.uglg.v=!1;bk.lagl.v.val=Math.round(180/Math.PI*Math.atan2(fh,-j9));
bk.Dstn.v.val=Math.round(Math.sqrt(j9*j9+fh*fh)*C.nZ())}}if(m=="TEXT"&&y[0]&&y[0].type!="SOLID")h5=0;
for(var c=h5;c<y.length;c++){var bg=y[c],aQ=s.DK(e,bg,C,M,p,N,Z);if(aQ[0]=="GdFl")cQ.push(["GrFl",aQ[1]]);
else if(aQ[0]=="SoCo")cQ.push(["SoFi",aQ[1]]);else if(aQ[0]=="PtFl")cQ.push(["patternFill",aQ[1]]);else if(aQ[0]=="None"){}else throw aQ}if(!_)for(var c=0;
c<E.length;c++){var bg=E[c],aQ=s.DK(e,bg,C,M,p,N,Z);if(aQ[0]=="SoCo"){var bk=JSON.parse(iF.lZ[iF.order.indexOf("FrFX")]);
cQ.push(["FrFX",bk]);bk.enab=aQ[1].enab;bk.Opct=aQ[1].Opct;bk.Md=aQ[1].Md;bk.Clr=aQ[1].Clr;bk.Sz.v.val=e.strokeWeight}}if(cQ.length!=0){var fw=JSON.parse(iF.default);
for(var c=0;c<iF.order.length;c++)fw[iF.RU[c]]={t:"VlLs",v:[]};for(var c=0;c<cQ.length;c++){var jC=cQ[c],ej=iF.RU[iF.order.indexOf(jC[0])];
fw[ej].v.unshift({t:"Objc",v:jC[1]})}if(J==null)b.add.lmfx=fw}N.B.push(b)}};gm.am5=function(e,A,a,p,N,i,Z,s,D,n){var S=gm;
e.OO|=16;e.add.vmsk=A;var F=e.add.vstk=JSON.parse(JSON.stringify(iF.kE.default)),$=S.DK(a,p,i,Z,s,D,n);
if($[0]=="None"){F.fillEnabled.v=!1;e.add.SoCo=$[1]}else{S.xX($,e);e.add[$[0]]=$[1]}var $=S.DK(a,N[0],i,Z,s,D,n);
if($[0]!="None"){var F=e.add.vstk;F.strokeEnabled.v=!0;F.strokeStyleLineWidth.v.val=a.strokeWeight*i.nZ();
F.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iF.kE.R0[["INSIDE","CENTER","OUTSIDE"].indexOf(a.strokeAlign)];
var m={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[$[0]],J=["SoFi","GrFl","patternFill"].indexOf(m),w=[iF.Gw,iF.wu,iF.RE][J];
F.strokeStyleContent.v={classID:iF.kE.GD[0]};var f=a.dashPattern;if(f)F.strokeStyleLineDashSet.v=b6.td(f,1/a.strokeWeight);
var b=F.strokeStyleContent.v={classID:iF.kE.GD[J]};for(var c=0;c<w.length;c++)b[w[c]]=$[1][w[c]];if(!F.fillEnabled.v)S.xX($,e)}};
gm.xX=function(e,A){var a=e[1].Opct.v.val;if(a!=100)A.opacity=Math.round(A.opacity/255*(a/100)*255)};
gm.a0E=function(e,A){var a=e.parentIndex.position,p=A.parentIndex.position;return a>p?1:-1};gm.a4J=function(e){for(var c=1;
c<e.length;c++){var A=e[c];if(A.type=="IMAGE"&&A.opacity==1){e=e.slice(c);break}}for(var c=0;c<e.length;
c++){var A=e[c],a=A.imageThumbnail;if(A.type=="IMAGE"&&(A.image==null||A.image.dataBlob==null)&&a&&a.dataBlob)A.image=a;
if(!A.visible){e.splice(c,1);c--}}return e};gm.ajO=function(e,A,a){if(e.N5.Ed){A.add.vmsk=e.N5.Ed.clone();
A.c0();A.yO(a)}};gm.awt=function(e,A,a,p,N,i,Z,s){var D=e.fontSize,n=e.lineHeight,S=e.fontName,F=e.textAlignHorizontal,$=e.textTracking,m=e.textCase,J=e.textDecoration;
if(D==null)D=p.JH.FontSize;if(S)eG.Kv(p,S.postscript);if(D!=null)p.JH.FontSize=Math.round(D);if(J=="UNDERLINE")p.JH.Underline=!0;
if($)p.JH.Tracking=Math.round($*1e3);if(m)p.JH.FontCaps=m=="UPPER"?2:0;if(n&&(n.units!="PERCENT"||n.value!=100)){if(D==null)D=15;
var w=n.value;if(n.units=="PERCENT")w=1*D*w/100;if(n.units=="RAW")w=1*D*w;p.JH.AutoLeading=!1;p.JH.Leading=Math.round(w)}if(F)p.Vx.Justification=["LEFT","RIGHT","CENTER"].indexOf(F);
var f=e.fillPaints,b=e.inheritFillStyleID;if(b){var L=gm.SE(s.wX,b);if(L)f=L.fillPaints}if(f&&f[0]){var C=gm.DK(e,f[0],A,a,i,Z,s);
if(C[0]=="SoCo"){var M=j.M.kq(C[1].Clr.v);p.JH.FillColor={Type:1,Values:[1,M.o/255,M.J/255,M.k/255]};
gm.xX(C,N)}}};gm.DK=function(e,A,a,p,N,i,Z){var s=gm,D,n,S=e.size;if(A){var F=A.type,$=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(F);
if(F=="SOLID"){D="SoCo";var m=A.color;n=JSON.parse(iF.lZ[iF.order.indexOf("SoFi")]);n.Clr=s.IJ(m)}else if($!=-1){var J=JSON.parse(iF.lZ[iF.order.indexOf("GrFl")]),w=J.Grad.v;
w.Intr.v=0;J.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][$];var f=[],b=A.stops;for(var c=0;c<b.length;c++){var L=b[c],C=L.color;
f.push([L.position,[C.r,C.g,C.b],C.a])}j.M.QG(f,w);var M=s.Wy(A.transform);M.rQ();var y=M.clone();if(S)y.scale(S.x,S.y);
y.concat(a);var Q=new k7(0,.5),k=new k7(1,.5);Q=y.Av(Q);k=y.Av(k);if(!0){Q.x=k.x+.5*(Q.x-k.x);Q.y=k.y+.5*(Q.y-k.y)}j.M.NB(Q,k,p,J);
if($==3){if(y.gg*y.pU-y.k*y.b9<0)J.Rvrs.v=!J.Rvrs.v}D="GdFl";n=J}else if(F=="IMAGE"){var J=JSON.parse(iF.lZ[iF.order.indexOf("patternFill")]),M=s.Wy(A.transform);
M.rQ();var E=gm.qV(A),_=Z.afk[E];if(_==null){var v=s.WR(N,E,Z);_=Z.afk[E]={};_.id=ar.sY()+"-d71c-11e5-b1ae-a548a96e5f9f";
_._q=[new Uint8Array(v.data),v.WJ];if(M.gg<0){var V=_._q[0].slice(0);j.K.uo(V,_._q[0],v.WJ.m,v.WJ.n)}_.name="someImage";
i.S7(_)}if(M.gg<0)M.gg=-M.gg;var R=["FILL","FIT","STRETCH","TILE"].indexOf(A.imageScaleMode),h=R==3?A.scale:1;
b6.a3W(_,J,S.x,S.y,R,a,M,h);D="PtFl";n=J}else throw F;if(n)n.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(A.opacity*100)}}}if(D==null||A.opacity<.001){D="None";
n={classID:"null",Clr:{t:"Objc",v:j.M.yN({o:0,J:0,k:0})}}}return[D,n]};gm.qV=function(e){var A=e.image,a=A.dataBlob;
if(a==null)a=A.hash.reduce((av,g4)=>av+g4.toString(16).padStart(2,"0"),"");return a};gm.WR=function(e,A,a,p){if(e[A]){var N=e[A];
if(p)return N.bytes;if(N.rslt)return N.rslt;var i=N.bytes.buffer,Z=fI.ti(i),s=fI.nP(Z);try{N.rslt=s.QS(i)[0]}catch(i1){N.rslt={data:j.Q(4),WJ:new dE(0,0,1,1)}}return N.rslt}else{if(p)return a.nN["images/"+A];
var i=a.nN["images/"+A].buffer;if(a.nN["images/-"+A])return a.nN["images/-"+A];var Z=fI.ti(i),s=fI.nP(Z);
a.nN["images/-"+A]=s.QS(i)[0];return a.nN["images/-"+A]}};gm.a07=function(e,A,a){var p=e.type,N=e.size,i=e.cornerRadius,n;
if(i==null)i=0;var Z=N.x,s=N.y,D=[i,i,i,i],S=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var c=0;c<4;c++)if(e[S[c]]!=null)D[c]=e[S[c]];if(p=="RECTANGLE"||p=="ROUNDED_RECTANGLE"||p=="FRAME"){n=j.r.Qa.Rect(0,0,Z,s,D)}else if(p=="ELLIPSE"){var F=e.arcData,$=F?F.startingAngle:0,m=F?F.endingAngle:2*Math.PI,J=F?F.innerRadius:0;
if($==0&&m>1.999*Math.PI)n=j.r.Qa.CH(0,0,Z,s,0);else n=j.r.Qa.acy(Z/2,s/2,s/2,$,m);if(J!=0&&J!=1){var w=u.eP.Zo(n).slice(3);
w.reverse();for(var c=0;c<w.length;c++){var f=w[c],b=f.x3;f.x3=f.iD;f.iD=b}var L=new bj;L.translate(-Z/2,-s/2);
L.scale(J,J);L.translate(Z/2,s/2);j.r.nM(w,L);n=n.concat(w);n[2].length*=2}}else if(p=="LINE"){n=j.r.Qa.Rect(0,0,Z,s,0);
n.pop();n.pop();n[2].length=2}else if(p=="STAR"){n=j.r.Qa.l1(Z/2,s/2,Z/2,2*Math.PI*(1/4),5,0,e.starInnerScale)}else if(p=="REGULAR_POLYGON"){n=j.r.Qa.et(.5,.5,.5,Math.PI/2,e.count,0);
var C=new bj;C.scale(Z,s);j.r.nM(n,C)}else if(p=="BOOLEAN_OPERATION"){n=[{type:6},{type:8,all:0}];var M=e.children,y=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(e.booleanOperation);
if(y==-1)throw e;if(M==null)M=[];for(var c=0;c<M.length;c++){var Q=M[c],k=new u.eP,E=gm.a07(Q,A,k);if(k.i==null)continue;
j.r.nM(k.i,gm.Wy(Q.transform));n=n.concat(k.i.slice(2))}for(var c=3;c<n.length;c++)if(n[c].kR!=null)n[c].kR=y}else if(p=="VECTOR"){var _,v,I=3;
if(!0){var V=e.vectorData;if(V==null)return;_=V.normalizedSize;v=V.vectorNetworkBlob}var R=A[v].bytes,h=new Uint32Array(R.buffer),P=new Float32Array(R.buffer),H=h[0],U=h[1],X=h[2],x=[],K=[],T=[],o=I+H*3,l=o+U*7;
for(var c=0;c<H;c++){var O=I+c*3,g=new k7(P[O+1],P[O+2]);x.push(g)}for(var c=0;c<U;c++){var W=o+c*7;
K.push([h[W+0],h[W+1],P[W+2],P[W+3],h[W+4],P[W+5],P[W+6]])}for(var c=0;c<X;c++){var d=h[l+1],gT=T[c]=[];
l+=2;for(var r=0;r<d;r++){var G=h[l++],Y=gT[r]=[];for(var fk=0;fk<G;fk++)Y[fk]=h[l+fk];l+=G}}if(l!=h.length)throw"e";
if(X==0){var eJ=-1;for(var c=0;c<U;c++){if(eJ==-1){}else{var eS=-1;for(var r=c;r<U;r++)if(K[r][4]==eJ)eS=r;
for(var r=c;r<U;r++)if(K[r][1]==eJ)eS=r;if(eS!=-1){var gL=0,b=K[eS];K[eS]=K[c];K[c]=b;if(b[1]!=eJ){gL=b[1];
b[1]=b[4];b[4]=gL;gL=b[2];b[2]=b[5];b[5]=gL;gL=b[3];b[3]=b[6];b[6]=gL}}}eJ=K[c][4]}T.push([[]]);for(var c=0;
c<U;c++)T[0][0].push(c)}var cX=[],kj=[];for(var gq=0;gq<T.length;gq++){for(var iL=0;iL<T[gq].length;
iL++){var ew=T[gq][iL],dk=0;if(ew.length>1){var j9=K[ew[0]],fh=K[ew[1]];dk=j9[4]==fh[1]?1:0}for(var c=0;
c<ew.length;c++){var g9=K[ew[c]],jx=1,fV=4;if(dk==0){jx=4;fV=1}var ao=x[g9[jx]],b8=x[g9[fV]];if(c==0){kj.push("M");
cX.push(ao.x,ao.y)}kj.push("C");cX.push(ao.x+g9[jx+1],ao.y+g9[jx+2],b8.x+g9[fV+1],b8.y+g9[fV+2],b8.x,b8.y)}}}n=j.p.Hh({w:cX,F:kj},!1);
if(i!=0){var D=[],ke=n[2].length;for(var c=0;c<ke;c++)D.push(i);if(j.r.R_(n))j.r.wg(n,2,D)}var gj=new bj;
gj.scale(_.x==0?1:N.x/_.x,_.y==0?1:N.y/_.y);j.r.nM(n,gj)}a.i=n};gm.SE=function(e,A){return e[A.sessionID+","+A.localID]};
gm.arh=function(e,A){return e.sessionID==A.sessionID&&e.localID==A.localID};gm.azn=function(e){var A={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[e];
if(A==null)throw e;return A};gm.IJ=function(e){return{t:"Objc",v:j.M.yN({o:e.r*255,J:e.g*255,k:e.b*255})}};
gm.Wy=function(e){var A=[e.m00,e.m10,e.m01,e.m11,e.m02,e.m12];for(var c=0;c<6;c++)if(Math.abs(A[c])<1e-20)A[c]=0;
return new bj(A[0],A[1],A[2],A[3],A[4],A[5])};function be(){}be.__=function(){var e=z.wc;function A(m,J,w,f){var b=f?[]:{};
while(J<m.length-1&&m[J]!=125){var L=e(m,J,3),C=e(m,J+3,1),M;J+=4;J++;if(C=="v"){var y=A(m,J,w+1,L=="ELM"||L=="TIL");
M=y.Z;J=y.R}else if(C=="i"||C=="f"){var Q=J;while(m[Q]!=125)Q++;var k=e(m,J,Q-J);M=C=="i"?parseInt(k,16):parseFloat(k);
J=Q+1}else if(C=="s"){var E=z.ex(m,J),k="";J+=2;for(var c=0;c<E;c++)k+=String.fromCharCode(m[J+2*c+1]);
M=k;J=J+2*E+1}else if(C=="b"){M=m[J]==49;J=J+2}else throw"e";if(f)b.push([L,M]);else if(b[L]==null)b[L]=M;
else{if(!(b[L]instanceof Array))b[L]=[b[L]];b[L].push(M)}}J++;return{Z:b,R:J}}function a(m,J){var w=p(m).slice(1),m=J.Clr.v;
m.Rd.v=w[0]*255;m.Grn.v=w[1]*255;m.Bl.v=w[2]*255}function p(m){return[(m>>>24&255)/255,(m>>>16&255)/255,(m>>>8&255)/255,(m>>>0&255)/255]}function N(m,J){var w=J&4278190080|(J&255)<<16|(J>>>8&255)<<8|J>>>16&255;
new Uint32Array(m.buffer).fill(w)}function i(m,J){var w=m.TSZ,f=m.WPX,b=m.HPX,L=m.TIL,C=new dE(0,0,f,b),M=j.Q(f*b*4),y=0;
for(var Q=0;Q<b;Q+=w)for(var k=0;k<f;k+=w){var E=new dE(k,Q,w,w),_,v=L[y];if(v[0]=="TMC"){_=j.Q(E.O()*4);
N(_,v[1])}else if(v[0]=="TID"){_=J[v[1]]}j._M(_,E,M,C);y++}return[M,C]}function Z(m,J){m=new Uint8Array(m);
var w=8,f,b={},U=0;while(w<m.length){var L=z.q(m,w);w+=4;var C=e(m,w,4);w+=4;if(C=="mkTS"){var M=pako.inflate(m.slice(w,w+L)),y=A(M,0,0);
f=y.Z}else if(C=="mkBT"){var Q=z.q(m,w+4),k=z.q(m,w+8),M=pako.inflate(m.slice(w+76,w+L));if(k==0)for(var c=0;
c<M.length;c+=4){var E=M[c],_=M[c+1],v=M[c+2],V=M[c+3];M[c+3]=E;M[c+2]=V;M[c+1]=v;M[c]=_}else{var R=j.Q(M.length*4);
R.fill(255);j.DC(M,R);M=R}b[Q]=M}w+=L+4}var h=f.PDC,P=h?h instanceof Array?h:[h]:[f.MKB],H=new dE;for(var c=0;
c<P.length;c++){var X=P[c];H=H.pg(new dE(0,U,X.WID,X.HIT));U+=X.HIT+100}J.m=H.m;J.n=H.n;J.buffer=j.Q(H.O()*4);
J.Gu(P.length);U=0;for(var x=0;x<P.length;x++){J.B.push(J.pz());var X=P[x],K=X.WID,T=X.HIT,I=X.BGC,o=(X.LYL?X:f).LYL.LAY,g=3;
for(var c=0;c<o.length;c++)D(o[c],J,null,b,new bj(1,0,0,1,-X.XLC,-X.YLC+U));var l=J.Uo();J.B.push(l);
var O=new dE(0,U,K,T);U+=T+100;l.Mx(O);if(I>>>24!=0){var W=j.M.yN({o:I>>>16&255,J:I>>>8&255,k:I>>>0&255});
l.add.artb.Clr={t:"Objc",v:W};g=4}l.add.artb.artboardBackgroundType.v=g;l.i4(X.PGN?X.PGN:"Page "+(x+1));
l.add.lsct=ez.St;l.Mi="pass";l.OO=24}}function s(m,J,w){var f=m[J];return f instanceof Array?f[w]:f}function D(m,J,w,f,b){var L=J.Uo();
if(m.VIS!=null)L.d8(m.VIS);if(m.VIF!=null)L.d8(m.VIF.VIS);if(m.OPA!=null)L.opacity=Math.round(255*m.OPA/1e3);
L.Mi=m.CLL||w=="GRP"?"pass":"norm";if(m.BLD!=null){var C=m.BLD,M={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[C+""];
if(M==null)console.log(m.OBN,C);else L.Mi=M;if(C==30)L.opacity>>>=1}if(m.CLL){L.i4(m.LNM);J.B.push(J.pz());
var y=m.CLL.CEL;if(y.length==null)y=[y];for(var Q=y.length-1;Q>=0;Q--){var k=y[Q].ELM;for(var c=k.length-1;
c>=0;c--)D(k[c][1],J,k[c][0],f,b)}L.add.lsct=m.DIS?ez.MV:ez.St;L.OO|=24}else if(w=="GRP"){var E=L.add.lmfx=S(m.EFL),_;
J.B.push(J.pz());var k=m.ELM;if(m.MNA){_=k[0][1];k=k.slice(1)}L.i4("Group: "+k.length+" objects");for(var c=k.length-1;
c>=0;c--)D(k[c][1],J,k[c][0],f,b);if(_){if(m.MRX){var v=i(_,f),V=L.$=new u.j_;V.rect=v[1].clone();V.rect.x=_.XLC;
V.rect.y=_.YLC+b.dW;V.channel=j.Q(V.rect.O());j.kI(v[0],V.channel,0);j.rQ(V.channel)}else{n(L,_,b);L.c0();
L.yO(J)}}L.add.lsct=ez.St;L.OO|=24}else if(w=="IMG"){L.i4(m.OBN?m.OBN:"Bitmap");var v=i(m,f);L.rect=v[1].clone();
L.rect.x=m.XLC;L.rect.y=m.YLC+b.dW;L.buffer=v[0]}else if(w=="TXT"){var R=m.TFS,h=R.TRN instanceof Array?R.TRN.length:1,X="",x="Arial",K=20,T=0;
L.add.lnsr="rend";L.add.TySh=eG.KP(0,0);L.add.TySh.oc=new dE(0,0,100,100);var P=new bj(1,0,0,1,m.LFT,m.TOP);
if(m.MTX){var H=m.MTX,V=new bj(H.M00,H.M01,H.M10,H.M11,H.M20,H.M21);P.concat(V)}P.concat(b);L.add.TySh.D=P;
var U=L.add.TySh._t;for(var c=0;c<h;c++){var I=s(R,"TRN",c);if(I==null)continue;I=I.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
I=I.replaceAll("\x03","\n").replaceAll("\r","\n");eG.f7(U,X.length,I);var o=eG.p_(U,0,1),l=s(R,"FON",c);
if(l)x=l;eG.Kv(o,x);var O=s(R,"PTS",c);if(O!=null)K=O;o.JH.FontSize=Math.round(K);var g=s(R,"LED",c);
if(g!=null){o.JH.Leading=g*K;o.JH.AutoLeading=!1}var W=s(R,"UND",c);if(W!=null){o.JH.Underline=W}var d=s(R,"ITL",c);
if(d!=null){o.JH.FauxItalic=d}var gT=s(R,"FCL",c);if(gT!=null)T=gT;o.JH.FillColor={Type:1,Values:p(T)};
var r=s(R,"JST",c);if(r!=null)o.Vx.Justification=[0,2,1,3,5,4,6,7,8][r];eG.G4(U,X.length,X.length+I.length,o);
X+=I}L.i4(X.slice(0,255));var G=m.RIT-m.LFT,Y=m.BOT-m.TOP;if(m.IMG){D(m.IMG,J,"IMG",f,b);var fk=J.B.pop();
L.buffer=fk.buffer;L.rect=fk.rect.clone()}eG.XX(U,1);eG.dw(U,[0,0,G,Y])}else if(w=="PTH"){L.i4(m.OBN?m.OBN:"Path");
L.OO|=16;var eJ=!1;n(L,m,b);var eS=L.add.vmsk,gL=L.add.vstk,cX=j.r.km(eS.i),kj=m.PAT,gq=kj.BPL,iL=kj.FPL,ew=kj.TXF;
if(iL&&iL.FEF)eS.UO+=iL.FEF/2.4;if(gq){var dk=gq.CAT;gL.strokeEnabled.v=!0;gL.strokeStyleLineWidth.v.val=gq.BDI;
gL.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iF.kE.R0[m.BRP];a(kj.BCL,gL.strokeStyleContent.v);
if(dk!="bc_Basic"&&dk!="bc_Pencil")eJ=!0}if(iL==null){gL.fillEnabled.v=!1;L.add.SoCo=JSON.parse(iF.lZ[iF.order.indexOf("SoFi")]);
a(0,L.add.SoCo)}else if(iL.CAT=="fc_Solid"){L.add.SoCo=JSON.parse(iF.lZ[iF.order.indexOf("SoFi")]);a(m.PAT.FCL,L.add.SoCo)}else if(iL.CAT=="fc_Linear"||iL.CAT=="fc_Circular"||iL.CAT=="fc_Elliptical"){var j9=iL.CAT=="fc_Linear",fh=L.add.GdFl=JSON.parse(iF.lZ[iF.order.indexOf("GrFl")]),g9=fh.Grad.v,k6=[],jx=iL.FGL,fV,ao=[];
if(jx.FGY){var b8=jx.FGY,fV=b8.FG0.FGI,ao=b8.FG1.FGI}else fV=jx.FGV.FGI;for(var c=0;c<fV.length;c++){var ke=fV[c],gj=p(ke.FGC),jf=1;
if(ao.length==fV.length)jf=p(ao[c].FGC)[0];k6.push([ke.FGP,gj.slice(1),jf])}fh.Type.v.GrdT=j9?"Lnr":"Rdl";
j.M.QG(k6,g9);g9.Intr.v=0;var ay=m.PRI?m.PRI:m,fz=new k7(ay.PSX,ay.PSY),ei=new k7(ay.PEX,ay.PEY);if(iL.CAT=="fc_Elliptical"&&ay.PFX!=null){var hC=new k7(ay.PFX,ay.PFY),iI=k7.nR(fz,ei),gQ=k7.nR(fz,hC);
if(gQ<iI){var cb=iI;iI=gQ;gQ=cb}ei=new k7(fz.x+(iI+gQ)/2,fz.y);if(iI/gQ<.5)eJ=!0}if(j9){fz.x=(fz.x+ei.x)/2;
fz.y=(fz.y+ei.y)/2}j.M.NB(fz,ei,cX,fh)}else console.log(iL.CAT);var E=L.add.lmfx=S(m.EFL,eS);if(iL&&iL.FTB!=0&&ew){var v=i(ew.MSK,f),dK={};
dK.id=ar.sY()+"-d71c-11e5-b1ae-a548a96e5f9f";dK.name="someImage";dK._q=v;J.S7(dK);var ha=v[0];for(var c=0;
c<ha.length;c+=4){ha[c+3]=255-ha[c];ha[c]=ha[c+1]=ha[c+2]=255}var fh=JSON.parse(iF.lZ[iF.order.indexOf("patternFill")]);
fh.Opct.v.val=Math.round(iL.FTB/10);fh.Algn.v=!0;fh.Ptrn.v.Idnt.v=dK.id;E.patternFillMulti.v.unshift({t:"Objc",v:fh})}if(eJ&&m.IMG){D(m.IMG,J,"IMG",f,b);
var hA=J.B[J.B.length-1];hA.opacity=L.opacity;return}L.c0();L.yO(J)}else if(w=="URL")return;else{console.log("unknown layer type",w,m);
L.i4("Layer")}J.B.push(L)}function n(m,J,w){if(J.PBL==null)return;var f=m.add.vmsk=new u.eP,b=m.add.vstk=JSON.parse(JSON.stringify(iF.kE.default)),L=J.PBL.PBP;
if(!(L instanceof Array))L=[L];for(var C=0;C<L.length;C++){var M=L[C].PBT;if(M==null)continue;if(!(M instanceof Array))M=[M];
var y=L[C].ISC?0:3;f.i.push({type:y,length:M.length,kR:0,wk:2,JS:0,mH:0});for(var c=0;c<M.length;c++){var Q=M[c],k=Q.XLC,E=Q.YLC,_=[k,E,k,E,k,E],v="XPC YPC XLC YLC XSC YSC".split(" ");
for(var V=0;V<6;V++){var R=v[V],h=Q[R];if(h!=null)_[V]=h}f.i.push({type:y+2,H:new k7(k,E),x3:new k7(_[0],_[1]),iD:new k7(_[4],_[5])})}}j.r.nM(f.i,w)}function S(m,J){var w=JSON.parse(iF.default);
for(var c=0;c<iF.order.length;c++)w[iF.RU[c]]={t:"VlLs",v:[]};if(m==null)return w;var f=m.EPS;if(!(f instanceof Array))f=[f];
for(var c=0;c<f.length;c++){var b=f[c].DCE,L={};for(var C=0;C<b.length;C++)L[b[C].DCK]=b[C].DCV;if(L.EffectIsVisible=="false")continue;
var M=L.mkbFile_WriteOnly_TemporaryEffectUiName;if(M=="Gaussian Blur..."&&J){J.UO+=parseFloat(L.gaussian_blur_radius);
continue}var y=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(M);if(y==-1){continue}var Q=["DrSh","ebbl","IrGl","OrGl"][y],k=iF.RU[iF.order.indexOf(Q)],E=JSON.parse(iF.lZ[iF.order.indexOf(Q)]);
w[k].v.unshift({t:"Objc",v:E});if(Q=="DrSh"){E.uglg.v=!1;F(L,"ShadowDistance",E,"Dstn");F(L,"ShadowBlur",E,"blur");
F(L,"ShadowAngle",E,"lagl",180);E.Opct.v.val=100;$(L,"ShadowColor",E,"Clr")}if(Q=="IrGl"){E.Md.v.BlnM="Nrml";
var _=L.MaskSoftness,v=L.GlowWidth;if(_&&v){_=parseInt(_);v=parseInt(v);E.blur.v.val=v+_;E.Ckmt.v.val=Math.round(100*v/(v+_))}F(L,"BevelContrast",E,"Opct");
$(L,"OuterBevelColor",E,"Clr")}if(Q=="OrGl"){E.Md.v.BlnM="Nrml";var _=L.MaskSoftness,v=L.GlowWidth;if(_&&v){_=parseInt(_);
v=parseInt(v);E.blur.v.val=v+_}F(L,"BevelContrast",E,"Opct");$(L,"OuterBevelColor",E,"Clr")}if(Q=="ebbl"){E.uglg.v=!1;
F(L,"BevelWidth",E,"blur");F(L,"AngleSoftness",E,"Sftn");F(L,"BevelContrast",E,"srgR");F(L,"LightAngle",E,"lagl")}}return w}function F(m,J,w,f,b){var L=m[J];
if(b==null)b=0;if(L)w[f].v.val=parseInt(L)+b}function $(m,J,w,f){var b=m[J];if(b){b=b.slice(1);if(b.length==6)b=b+"ff";
if(b.length!=8)throw"e";var L=p(parseInt(b,16)),C=w[f].v;C.Rd.v=L[0]*255;C.Grn.v=L[1]*255;C.Bl.v=L[2]*255;
w.Opct.v.val=Math.round(w.Opct.v.val/100*L[3]*100)}}return Z}();function hN(){}hN.__=function(){function e(h,P,H){var U=!1,X=Date.now(),x=y(h,U);
if(U)console.log("part found",Date.now()-X);X=Date.now();var K=M(x),T=K.Layer,I=K.Header;if(U)console.log(K);
var o=T[0];o=K.Layer[0];if(U)console.log("document parsed",Date.now()-X);X=Date.now();K.Setup.Gradient=C(K.Setup.Gradient,x);
if(U)console.log("grads loaded",Date.now()-X);X=Date.now();K.Setup.Pattern=L(K.Setup.Pattern,x);if(U)console.log("patts loaded",Date.now()-X);
X=Date.now();K.Setup.DocumentData=b(K.Setup.DocumentData,x).pop();if(U)console.log("docdata loaded",Date.now()-X);
X=Date.now();K.Setup.SVGFilter=b(K.Setup.SVGFilter,x);if(U)console.log("svgfilter loaded",Date.now()-X);
X=Date.now();var l=I.Cropmarks,O=I.BoundingBox.split(" ").map(parseFloat),g=I.ArtSize?I.ArtSize.split(" ").map(parseFloat):[O[2]-O[0],O[3]-O[1]];
P.m=Math.round(g[0]);P.n=Math.round(g[1]);var W=[1,0,0,1,-O[0]+(P.m-(O[2]-O[0]))/2,-O[1]+(P.n-(O[3]-O[1]))/2];
W[3]=-1;W[5]=P.n-W[5];if(l){l=l.split(" ").map(parseFloat);P.m=Math.round(l[2]-l[0]);P.n=Math.round(l[3]-l[1]);
W=[1,0,0,-1,-l[0],P.n+l[1]]}var d=K.Setup.DocumentData;if(d&&d[0]&&d[0].ArtboardArray){var gT=d[0].ArtboardArray;
if(gT.length!=1)console.log(gT.length,"artboards");var r=new dE,G=[];for(var c=0;c<gT.length;c++){var Y=gT[c],fk=Y.PositionPoint1,eJ=Y.PositionPoint2,eS=fk[0],gL=Math.min(fk[1],eJ[1]),cX=eJ[0],kj=Math.max(fk[1],eJ[1]),gq=new dE(eS,gL,cX-eS,kj-gL);
G.push(gq);r=r.pg(gq)}P.m=Math.round(r.m);P.n=Math.round(r.n);W[4]=-r.x;W[5]=r.y+P.n;if(gT.length!=1){P.B.push(P.pz());
for(var c=0;c<G.length;c++){var Y=gT[c],gq=G[c],iL=P.Uo();iL.i4(Y.Name);P.B.push(iL);iL.add.SoCo=JSON.parse(iF.lZ[iF.order.indexOf("SoFi")]);
var ew=iL.add.SoCo.Clr.v;n(ew,[1,1,1]);var eS=gq.x,gL=gq.y,cX=eS+gq.m,kj=gL+gq.n,dk=[eS,gL,cX,gL,cX,kj,eS,kj];
j.p.D(dk,F(W),dk);m(iL,{cmds:["M","L","L","L","Z"],crds:dk},P);iL.add.vstk=JSON.parse(JSON.stringify(iF.kE.default))}var iL=P.Uo();
iL.i4("_Artboards_");iL.add.lsct=ez.St;iL.Mi="pass";iL.OO=24;P.B.push(iL)}}if(d&&d[0]&&d[0]["#document"]){var j9=d[0]["#document"],fh=j9["xmlnode-children"][0];
if(fh&&fh["xmlnode-children"])fh=fh["xmlnode-children"][0];if(fh["xmlnode-nodename"]=="variableSets"){var g9=fh["xmlnode-children"][0]["xmlnode-children"],k6=g9[0],jx=g9[1],fV=R(k6);
P.lw=aK.Zy("<variableSets><variableSet>"+fV+"</variableSet></variableSets>");if(jx){var ao=R(jx),b8=P.$d=aK.jv(ao);
for(var c=0;c<b8.length;c++)for(var ke=0;ke<b8[c].length;ke++)b8[c][ke]=b8[c][ke].trim()}}}var gj=1/fX.pl(new dE(0,0,P.m,P.n),8192*8192);
while(P.m*P.n*gj*gj<800*800)gj*=2;while(H&&Math.max(P.m*gj,P.n*gj)<Math.max(H[0],H[1]))gj++;P.m=Math.round(P.m*gj);
P.n=Math.round(P.n*gj);P.l5=Math.round(72*gj);P.buffer=j.Q(P.m*P.n*4);for(var c=0;c<6;c++)W[c]*=gj;a=[0,0,0];
p=[0,0,0];N="SoCo";for(var jf=0;jf<T.length;jf++){var ay=T[jf];ay.Raster=A(ay,"Raster");ay.Place=A(ay,"Place");
var fz=w(x,ay);i(P,fz,W,K,ay,x)}if(U)console.log("layers created",Date.now()-X);X=Date.now()}function A(h,P){var H=h.Layer,U=h[P];
if(U==null)U=[];if(H){for(var c=0;c<H.length;c++){var X=H[c],x=X[P]=A(X,P);U=U.concat(x)}U.sort(function(K,T){return K._begin-T._begin})}return U}var a,p,N;
function i(h,P,H,U,X,x){var K="",T=0,I="",o=!1,l={},O=UDOC.G,g=UDOC.getState(),W="norm",d=1,gT=!1,r=0,Y=null,fk=!1,eJ=0,eS=null,gL,cX,kj=0,gq=0,iL=0,j9=0,fh=!1;
g.ctm=H;var G=[],ew=[],dk=[];for(var g9=0;g9<P.length;g9++){var k6=P[g9],b8=1e9;if(k6[0]=="%"){if(k6=="%_/ArtDictionary :"&&eJ==0)Y=[k6.slice(2)];
else if(Y!=null){if(k6=="%_"&&eJ==0){var jx=E(Y)[0],fV=jx.AI10_ArtUID;if(fV&&!fV.startsWith("XMLID"))h.B[h.B.length-1].i4(v(fV));
Y=null}else{Y.push(k6.slice(fk?1:2));if(k6=="%_X=")eJ++;if(k6=="%_X+")eJ--;if(k6=="%_/Binary : /ASCII85Decode ,")fk=!0;
if(fk&&k6.endsWith("~>"))fk=!1}}else if(eS){gL+=(gL==""?"":" ")+k6.slice(2);if(gL.endsWith("X#")){eS.push(gL.slice(0,gL.length-3));
gL=""}}continue}else if(k6=="/Mesh X!"){eS=[];gL="";continue}else if(k6=="/End X!"){Z(eS,g,h);eS=null;
continue}var ao="Xa XR m l c f U u *U w J j M d".split(" "),ke=-1,gj=k6.indexOf("(")!=-1;for(var c=0;
c<ao.length;c++){var jf=k6.indexOf(" "+ao[c]+" ");if(jf!=-1&&jf<b8&&!gj){b8=jf;ke=c}}if(ke!=-1){o=!0;
var ay=b8+1+ao[ke].length;P[g9]=k6.slice(0,ay);var fz=P[g9+1];if(fz==null||fz[0]=="%"||ke>9)P.splice(g9+1,0,k6.slice(ay));
else P[g9+1]=(k6.slice(ay)+" "+fz).replace(/\s\s+/g," ");g9--;continue}k6=k6.trim();var ei=k6.split(" "),hC=ei[ei.length-1],iI=hC.toLowerCase(),gQ=ei.map(parseFloat);
if(hC=="m")O.moveTo(g,gQ[0],gQ[1]);else if(hC=="L"||hC=="l")O.lineTo(g,gQ[0],gQ[1]);else if(hC=="V"||hC=="v"){var cb=g.pth.crds,dK=g.cpos[0],ha=g.cpos[1];
O.curveTo(g,dK,ha,gQ[0],gQ[1],gQ[2],gQ[3]);var hA=cb.length;cb[hA-6]=dK;cb[hA-5]=ha}else if(hC=="Y"||hC=="y")O.curveTo(g,gQ[0],gQ[1],gQ[2],gQ[3],gQ[2],gQ[3]);
else if(hC=="C"||hC=="c")O.curveTo(g,gQ[0],gQ[1],gQ[2],gQ[3],gQ[4],gQ[5]);else if(hC=="H"||hC=="h"){if(hC==iI)O.closePath(g);
G.push(JSON.parse(JSON.stringify(g.pth)))}else if(hC=="Xy"){W=["norm","mul ","scrn","over","sLit",null,"div "][gQ[0]];
d=gQ[1];if(W==null){W="norm";console.log("unknown blend mode",gQ[0])}}else if(hC=="Xd"){var dW=h.B[h.B.length-1];
dW.opacity=Math.round(255*d);dW.Mi=dW.yg()&&W=="norm"?"pass":W}else if(hC=="AE")kj=gQ[0];else if(hC=="Ae")gq=gQ[0];
else if(hC=="Xw")iL=gQ[0];else if(hC=="*"){var fN=g.pth.crds,cQ=g.ctm,jf=fN[0]==fN[2]?0:1;h.dc.push([jf,fN[jf]]);
O.newPath(g)}else if(hC=="XN")cX=k6.split(" ")[0];else if(hC=="XI"){var h6=X.Raster,hh,bA;if(h6==null||h6.length==0){console.log("no Raster");
continue}if(k6!="XI"){continue}else{if(h6[T].Data==null){continue}var co=h6[T++].Data,ej=co._begin,bk=co._end;
while(x[ej]!=88)ej++;ej+=3;hh=x.slice(ej,bk);bA=P[g9-2].split(" ").map(parseFloat)}var h5=bA.slice(8),bg=h5[2],aQ=h5[3],fw=bg*aQ,jC=j.Q(fw*4);
jC.fill(255);var e0=h5[7],eU=h5[8],iV=h5[6],kh=Math.ceil(bg*e0*iV/8);if(e0==1){if(iV==8)for(var c=0;
c<fw;c++)for(var hT=0;hT<3;hT++)jC[4*c+hT]=hh[c];else if(iV==1)for(var gi=0;gi<aQ;gi++)for(var bD=0;
bD<bg;bD++)for(var hT=0;hT<3;hT++)jC[4*(gi*bg+bD)+hT]=255*(hh[gi*kh+(bD>>>3)]>>>7-(bD&7)&1);else throw iV}else if(e0==3)for(var c=0;
c<fw;c++)for(var hT=0;hT<3;hT++)jC[4*c+hT]=hh[3*c+hT];else if(e0==4||e0==5)for(var c=0;c<fw;c++){var kt=$([hh[e0*c+0]/255,hh[e0*c+1]/255,hh[e0*c+2]/255,hh[e0*c+3]/255]);
jC[4*c+0]=kt[0]*255;jC[4*c+1]=kt[1]*255;jC[4*c+2]=kt[2]*255}else if(e0==7)for(var c=0;c<fw;c++){jC[4*c+0]=hh[e0*c+0];
jC[4*c+1]=hh[e0*c+1];jC[4*c+2]=hh[e0*c+2]}else console.log("unknown number of channels",e0);if(eU==1){var iJ=aQ*kh;
for(var c=0;c<fw;c++)jC[4*c+3]=hh[iJ+c]}var ih=j.EL(jC,bg,aQ)?"JPG":"PNG";if(bg*aQ<700*700)ih="PNG";
var fr=fI.nP(ih).Eu([[jC.buffer]],bg,aQ),ad=h.je(new Uint8Array(fr),"<Image>",0,0);h.B.push(ad);ad.Mi=W;
ad.opacity=Math.round(255*d);ad.d8(iL==0);var H=new bj;H.scale(1,-1);H.concat(F(bA.slice(1)));H.concat(F(g.ctm));
var aS=ad.rect.clone();aS.x=aS.y=0;var ei=j.p.wt(aS).w;j.p.D(ei,H,ei);ad.add.SoLd.Trnf=q.BD.Jw(ei);ad.add.SoLd.nonAffineTransform=q.BD.Jw(ei);
ad.kf(h,!1)}else if(hC=="Ln"){K=D(k6)}else if(hC=="u"||hC=="q"||hC=="Lb"){ew.push(gq==1);dk.push((hC=="Lb"?1-gQ[0]:iL)==0);
if(gT)continue;h.B.push(h.pz())}else if(hC=="U"||hC=="Q"||hC=="LB"){if(ew.length==0||dk.length==0)throw g9;
var cD=ew.pop(),dR=dk.pop();if(hC=="LB")cD=kj==1;if(gT)continue;var ad=h.Uo();ad.i4((hC=="U"?"<Group>":"<Clip Group>")+I);
if(hC=="LB")ad.i4(K);if(hC=="Q"&&G.length!=0){var cz=G.pop(),b0=UDOC.G.isBox(cz,[0,0,h.m,h.n]);if(!b0)m(ad,cz,h)}ad.add.lsct=cD?ez.MV:ez.St;
ad.Mi="pass";ad.OO=24;ad.d8(dR);h.B.push(ad);if(fh){if(h.B[h.B.length-3].getName()=="</Layer group>"){h.B.pop();
h.B.splice(h.B.length-2,1)}fh=!1}}else if(hC=="Bb"||hC=="Bh"||hC=="BB"){}else if(hC=="Bg"){var jT=U.Setup.Gradient,bW=jT[D(k6)];
if(bW==null){console.log("gradient not found");for(var aU in jT){bW=jT[aU];break}}N="GdFl";a=s(bW.lT,bW.aoy)}else if(hC=="Bm"||hC=="Xm"){var ff=a.Type.v.GrdT;
if(ff=="Lnr"&&hC!="Xm"||ff=="Rdl"&&hC!="Bm")continue;var ca=new k7(0,0),cT=new k7(1,0),b3=new bj;b3.concat(F(gQ));
b3.concat(F(g.ctm));ca=b3.Av(ca);cT=b3.Av(cT);var hK=j.p.i9(g.pth.crds);if(hK.QP())hK=j.p.i9([ca.x,ca.y,cT.x,cT.y]);
if(ff=="Lnr"){ca.x=(ca.x+cT.x)/2;ca.y=(ca.y+cT.y)/2}j.M.NB(ca,cT,hK,a)}else if(hC=="p"){var cS=D(k6),e3=U.Setup.Pattern[cS];
if(e3.raw==null){var hK=e3.aV,bg=Math.round(hK[2]-hK[0]),aQ=Math.round(hK[3]-hK[1]),jx=new ar;jx.m=bg;
jx.n=aQ;jx.buffer=j.Q(bg*aQ*4);i(jx,e3.Gd,[1,0,0,-1,-e3.aV[0],aQ+e3.aV[1]],U,X,x);e3.raw=new Uint8Array(fI.nP("PSD").Eu(jx))}var j8=k6.slice(k6.indexOf(")")+2),jd=j8.slice(0,j8.indexOf("[")-1).split(" ").map(parseFloat),eX=j8.slice(j8.indexOf("[")+1,j8.indexOf("]")).split(" ").map(parseFloat);
N="patt";a=[cS,jd,eX]}else if(hC=="J"||hC=="j"||hC=="w"||hC=="M"||hC=="d"){for(var c=1;c<ei.length;c++){var h4=ei[c],ky=gQ[c-1];
if(h4=="w")g.lwidth=ky;if(h4=="j")g.ljoin=ky;if(h4=="J")g.lcap=ky;if(h4=="d"){var iY=k6.slice(k6.indexOf("[")+1,k6.indexOf("]")).trim();
if(iY.length!=0){var iX=iY.split(" ").map(parseFloat);g.dash=iX}else if(iY=="")g.dash=[]}}}else if(iI=="xa"||iI=="xx"){var h9=gQ[4]==null?gQ.slice(0,3):[gQ[4],gQ[5],gQ[6]];
if(iI=="xx"&&gQ[gQ.length-2]==2)h9=$(gQ);N="SoCo";if(hC=="Xa"||hC=="Xx")a=h9;else p=h9}else if(iI=="xk"){var h9,cY=gQ[gQ.length-2],fO=gQ[gQ.length-3];
if(cY==0)h9=$(gQ);else if(cY==1){h9=[gQ[4],gQ[5],gQ[6]];for(var c=0;c<3;c++)h9[c]=fO*1+(1-fO)*h9[c]}else throw k6;
N="SoCo";if(hC=="Xk")a=h9;else p=h9}else if(iI=="k"||iI=="x"){if(iI=="x"){gQ.pop();var hf=1-gQ.pop();
for(var c=0;c<4;c++)gQ[c]*=hf}var h9=$(gQ);N="SoCo";if(hC==iI)a=h9;else p=h9}else if(iI=="g"){var h9=[gQ[0],gQ[0],gQ[0]];
N="SoCo";if(hC==iI)a=h9;else p=h9}else if(iI=="n"){if(!gT)O.newPath(g)}else if(hC=="*u"){gT=!0;r=0}else if(hC=="*U"||iI=="s"||iI=="f"||iI=="b"){if(hC!="*U"&&gT){if(iI=="f"||iI=="b")r|=1;
if(iI=="s"||iI=="b")r|=2;continue}if(hC==iI)O.closePath(g);if(hC=="*U"){gT=!1}var ad;if(N=="patt"){var e3=U.Setup.Pattern[a[0]];
ad=h.je(e3.raw,"<Pattern>",0,0);var aS=ad.rect.clone();aS.x=aS.y=0;var ei=j.p.wt(aS).w,eX=F(a[2]);eX.Co=eX.dW=0;
j.p.D(ei,eX,ei);ad.add.SoLd.Trnf=q.BD.Jw(ei);ad.add.SoLd.nonAffineTransform=q.BD.Jw(ei);ad.kf(h,!1)}else{ad=h.Uo();
ad.OO|=16;var hQ=ad.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));hQ.strokeEnabled.v=hQ.fillEnabled.v=!1;
if(N=="SoCo"){ad.add.SoCo=JSON.parse(iF.lZ[iF.order.indexOf("SoFi")]);var aC=ad.add.SoCo.Clr.v;n(aC,a)}if(N=="GdFl")ad.add.GdFl=a;
if(iI=="f"||iI=="b"||hC=="*U"&&r&1)hQ.fillEnabled.v=!0;if(iI=="s"||iI=="b"||hC=="*U"&&r&2)aG.ht(hQ,g,1,aG.cI(p))}ad.i4("<"+(hC=="*U"?"Compound ":"")+"Path>"+I);
ad.Mi=W;ad.opacity=Math.round(255*d);ad.d8(iL==0);m(ad,g.pth,h);h.B.push(ad);O.newPath(g)}else if(hC==","&&ei[0]=="/XMLUID"){var dW=h.B[h.B.length-1];
for(var c=0;c<h.lw.length;c++)if("("+h.lw[c].docRef+")"==ei[2])h.lw[c].docRef="id('"+dW.add.lyid+"')"}else if(hC==","&&ei[1]=="/FreeUndo"){j9=gQ[0]}else if(hC==","&&ei[1]=="/StoryIndex"){var ds=U.Setup.TextDocument,fv=null;
if(!(ds instanceof Array))ds=U.Setup.TextDocument=f(ds,x);var e7=ds[0],jv=ds[2];if(e7._DocumentResources)e7=ds[0]=dp.amT(e7);
else dp.avj(e7);var ad=h.Uo();ad.add.lnsr="rend";ad.add.TySh=eG.KP(0,0);var ak=gQ[0];if(j9==1){for(var c=1;
c<60;c++){var fz=P[g9+c];if(fz.endsWith("/StoryIndex ,")){ak=parseFloat(fz.slice(2,fz.indexOf(" ")));
fh=!0;break}}j9=0}var gs=d1.atj(e7),gk=ad.add.TySh._t=gs[ak];if(gk==null){console.log("text not found");
fh=!1;continue}ad.i4(eG.Ob(gk).slice(0,50));ad.Mi=W;ad.opacity=Math.round(255*d);ad.d8(iL==0);var hf=e7._1._1[ak]._1._0[0]._0;
hf=parseInt(hf.slice(1));var i7=e7._0._8._0,fQ=i7[hf]._0;if(fQ._0)fv=S(fQ._0);else if(fQ._1)fv=S(fQ._1._0);
else fv=S(fQ._2._2).slice(3);if(fv.length!=2){var hK=j.p.i9(fv);fv=[hK.x,hK.y];if(hK.O()!=0){eG.XX(gk,1);
eG.dw(gk,[0,0,Math.round(hK.m),Math.round(hK.n)])}}var ea=new bj,jR=new bj(1,0,0,1,fv[0],fv[1]),e2=new bj(1,0,0,1,-jv[0],-jv[1]),d3=F(g.ctm),ix=new bj;
if(fQ._2&&fQ._2._2){var H=S(fQ._2._2);ix=new bj(H[0],H[1],H[2],H[3],H[4],H[5])}ea.concat(jR);ea.concat(ix);
ea.concat(e2);ea.scale(1,-1);ea.concat(d3);ad.add.TySh.D=ea;h.B.push(ad);h.Px=!0}else if(hC=="Tp"){l._T=F(gQ)}else if(hC=="Tf"){l.font=ei[0].slice(2)}else if(hC=="Tk"){var ad=h.Uo();
ad.add.lnsr="rend";var ex=ad.add.TySh=eG.KP(0,0),gk=ex._t,b3=l._T.clone(),e8=b3.nZ();b3.concat(F(g.ctm));
var e_=new bj(1/e8,0,0,-1/e8,0,0);e_.concat(b3);ex.D=e_;var cH=D(k6);ad.i4(cH);eG.f7(gk,0,cH);var gK=eG.p_(gk,0,cH.length);
gK.JH.FontSize=e8;gK.JH.FillColor={Type:1,Values:[1,a[0],a[1],a[2]]};eG.Kv(gK,l.font);eG.G4(gk,0,cH.length,gK);
h.B.push(ad);h.Px=!0}else if(o&&gQ.length>3){var fn=!1;for(var c=0;c<gQ.length;c++)if(isNaN(gQ[c]))fn=!0;
if(!fn)P[g9+1]=(k6+" "+P[g9+1]).replace(/\s\s+/g," ")}}}function Z(h,P,H){var U=UDOC.G,X=[],x=[],K="/DeviceGray",T=1,I=[],o=1;
for(var l=0;l<h.length;l++){var O=h[l];if(O.endsWith(" /CS")){var g=O.indexOf("/NChannel"),W=O.indexOf("/Process");
if(O.startsWith("/DeviceRGB")){K="/DeviceRGB";T=3}else if(O.startsWith("/DeviceGray")){K="/DeviceGray";
T=1}else if(O.startsWith("/DeviceCMYK")){K="/DeviceCMYK";T=4;I=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(g!=-1){K="/DeviceCMYK";
T=parseInt(O.slice(g-2,g-1));var d=1;for(var c=0;c<T;c++){d=O.indexOf("[",d);I[T-1-c]=O.slice(d+1,d+8).split(" ").map(parseFloat);
d++}}else if(W){K="/DeviceGray";T=1}else throw O}else if(O[0]=="["){var gT=O.indexOf("]"),r=O.slice(1,gT).split(" ").map(parseFloat),G=O.slice(gT+2),Y,fk,eJ,eS,gL,cX;
if(G=="/Size"||G=="/P"||G=="/R")continue;if(G=="/S"||G=="/A"){Y=r[0];fk=r[1];eJ=r[2];eS=r[3];gL=r[4];
cX=r[5]}else if(G=="/N"){var kj=T+(o==1?0:1),gq;Y=r[kj+0];fk=r[kj+1];eJ=r[kj+2];eS=r[kj+3];gL=r[kj+5];
cX=r[kj+6];if(K=="/DeviceRGB")gq=r.slice(0,3);else if(K=="/DeviceGray")gq=[r[0],r[0],r[0]];else if(K=="/DeviceCMYK"){var iL=[0,0,0,0];
for(var c=0;c<T;c++){var ew=r[c],dk=I[c];iL[0]+=ew*dk[0];iL[1]+=ew*dk[1];iL[2]+=ew*dk[2];iL[3]+=ew*dk[3]}gq=$(iL)}else throw gq;
gq.push(r[T]);x.push([gq,Y,fk])}else throw G;X.push([G,gL,cX,Y,fk,eJ,eS])}else if(O=="/E"){var j9=X.slice(0),fh=0;
for(var c=0;c<X.length;c++){var g9=X[c][0];if(g9=="/N"){fh++;continue}var k6=c,jx=c+1;while(X[jx][0]!="/N"&&jx<X.length)jx++;
if(fh==0||fh==3){for(var fV=0;fV<jx-k6;fV++)j9[k6+fV]=X[jx-1-fV]}else for(var fV=k6;fV<jx;fV++){var ao=j9[fV],b8=ao[1];
ao[1]=ao[5];ao[5]=b8;b8=ao[2];ao[2]=ao[6];ao[6]=b8}c=jx-1}X=[];for(var c=0;c<j9.length;c++){var ao=j9[c];
X.push(ao[1],ao[2],ao[3],ao[4],ao[5],ao[6])}var ke=X.length;U.moveTo(P,X[2],X[3]);for(var c=0;c<ke;c+=6){var eJ=X[(c+4)%ke],eS=X[(c+5)%ke],gL=X[(c+6)%ke],cX=X[(c+7)%ke],Y=X[(c+8)%ke],fk=X[(c+9)%ke];
U.curveTo(P,eJ,eS,gL,cX,Y,fk)}U.closePath(P);X=[]}else if(O.endsWith("/Version"))o=parseFloat(O[0])}var gj=H.Uo();
gj.OO|=16;gj.i4("<Mesh>");var jf=gj.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));jf.strokeEnabled.v=!1;
if(x.length>=2){var ay=0,fz=0,ei=0;for(var c=0;c<x.length;c++)for(var fV=c+1;fV<x.length;fV++){var hC=x[c][0],iI=x[fV][0],gQ=hC[0]-iI[0],cb=hC[1]-iI[1],dK=hC[2]-iI[2],ha=Math.sqrt(gQ*gQ+cb*cb+dK*dK);
if(ha>ei){ei=ha;ay=c;fz=fV}}var hA=x[ay],dW=x[fz],fN=gj.add.GdFl=s(0,[[0,hA[0]],[1,dW[0]]]),cQ=F(P.ctm),h6=cQ.Av(new k7(hA[1],hA[2])),hh=cQ.Av(new k7(dW[1],dW[2])),bA=j.p.i9(P.pth.crds);
h6.x=(h6.x+hh.x)/2;h6.y=(h6.y+hh.y)/2;j.M.NB(h6,hh,bA,fN)}m(gj,P.pth,H);H.B.push(gj);U.newPath(P)}function s(h,P){var a=JSON.parse(iF.lZ[iF.order.indexOf("GrFl")]),H=a.Grad.v;
H.Intr.v=0;a.Type.v.GrdT=["Lnr","Rdl"][h];j.M.QG(P,H);return a}function D(h){var P=h.indexOf(")");while(h[P-1]=="\\")P=h.indexOf(")",P+1);
return h.slice(h.indexOf("(")+1,P).replaceAll("\\","")}function n(h,a){h.Rd.v=a[0]*255;h.Grn.v=a[1]*255;
h.Bl.v=a[2]*255}function S(h){var P=[];for(var c=0;c<h.length;c++)P[c]=parseFloat(h[c].slice(1));return P}function F(h){return new bj(h[0],h[1],h[2],h[3],h[4],h[5])}function $(h){return j.k4(h)}function m(h,P,H){h.add.vmsk=new u.eP;
if(P.crds.length!=0)h.add.vmsk.i=J(P);h.c0();h.yO(H)}function J(h){var P={w:h.crds,F:h.cmds},H=j.p.Hh(P,!1);
return H}function w(h,P){var H=[],o=0,W=0;for(var U=0;U<2;U++){var X=P[["Raster","Place"][U]];if(X){for(var c=0;
c<X.length;c++){var x=X[c][["Data","PlacedObjectPreview"][U]];if(x==null)continue;var K=x._begin,T=x._end;
if(K>T)K=T;H.push([K,T])}}}H.sort(function(gT,r){return gT[0]-r[0]});var I=[P._begin];for(var c=0;c<H.length;
c++){var l=H[c],K=l[0]+32;I.push(K,l[1]);o+=l[1]-K}I.push(P._end);var O=P._end-P._begin,g=new Uint8Array(O-o);
for(var c=0;c<I.length;c+=2){var K=I[c],d=I[c+1]-K;g.set(new Uint8Array(h.buffer,K,d),W);W+=d}return z.lB(g).split(/\r\n|\r|\n/)}function f(h,P){if(h==null)return[];
var H=w(P,h),U="",X="",x=0,K;for(var c=2;c<H.length;c++){var T=H[c];if(T[0]=="%"){if(x==0)U+=T.slice(1);
else X+=T.slice(1)}else if(T==";")x++;else if(T.endsWith("/RulerOrigin ,"))K=T.split(" ").slice(0,2).map(parseFloat)}var I=[U,X],o=[];
for(var c=0;c<2;c++){var l=I[c],O=new Uint8Array(l.length);z.O2(O,0,l);var g=FromPS.F.ASCII85Decode({buff:O,off:0}),W=g6.__(g);
o.push(W)}o.push(K);return o}function b(h,P){if(h==null)return[];var H=w(P,h);H=H.slice(1);for(var c=0;
c<H.length;c++){var U=H[c];if(U[0]=="%")H[c]=U.slice(U[1]=="_"?2:1)}var X=E(H);return X}function L(h,P){var H={};
if(h==null)return H;for(var c=0;c<h.length;c++){var U=w(P,h[c]),X=U[1],x=D(X),K=X.slice(X.indexOf(")")+2).split(" ").map(parseFloat),T=[];
for(var I=2;I<U.length;I++)T.push(U[I].slice(2));H[x]={aV:K,Gd:T}}return H}function C(h,P){var H={},U,X;
if(h==null)return H;var x=[];for(var c=0;c<h.length;c++){var K=w(P,h[c]);for(var T=0;T<K.length;T++){var I=K[T];
if(I.endsWith("%_Bs")){var o=I.slice(0,I.length-4);if(!o.endsWith(" "))o+=" ";I=o+"%_BS"}if(I[0]=="("){U=D(I);
var l=I.split(")"),O=l[1].split(" ");X=parseInt(O[1])}else if(I.endsWith("%_BS")){var l=I.split(" "),gT,r=1;
l.pop();l=l.map(parseFloat);var g=l.pop(),W=l.pop(),d=l.pop();if(d==0)gT=[l[0],l[0],l[0]];else if(d==2||d==4)gT=[l[4],l[5],l[6]];
else if(d==1||d==3)gT=$(l);else if(d==6){if(l.length==3)gT=[l[0],l[0],l[0]];else gT=$(l);r=l.pop()}else{throw d}x.push([g/100,gT,r,W/100])}else if(I=="BD"){for(var G=0;
G<x.length-1;G++)x[G][3]=x[G+1][3];x.sort(function(Y,fk){return Y[0]-fk[0]});H[U]={lT:X,aoy:x};x=[]}}}return H}function M(h){var P="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),H=Date.now(),U=0,X=[],x={Header:{}},K=[x],T=h.length;
while(U<T){var I=U;while(I!=T&&h[I]!=13&&h[I]!=10){I++}if(h[U]==37&&h[U+1]==95&&h[U+2]==37)U+=2;if(h[U]==37&&(h[U+1]==37||h[U+1]==65)){var o=z.wc(h,U,I-U);
if(o=="%%EOF")break;if(o=="%%EndComments"||o=="%EndComments"||o=="%AI5_Begin_NonPrinting"||o=="%AI5_End_NonPrinting--"||o.startsWith("%AI17_Begin_Content_if_version_gt")||o=="%AI17_End_Versioned_Content"){}else{var l=o.indexOf("Begin"),O=Math.max(o.indexOf("_End"),o.indexOf("%End"));
if(l!=-1&&o[l-1]!="%"&&o[l-1]!="_")l=-1;if(l!=-1){var g=o.slice(l+5).split(":")[0],W={_begin:U,_end:U},d=K[K.length-1];
if(P.indexOf(g)!=-1){if(d[g]==null)d[g]=[];d[g].push(W)}else{if(d[g]!=null){console.log(K);throw o}d[g]=W}K.push(W);
if(o.startsWith("%%BeginData")){I=z.vP(h,"%%EndData",U)}else if(o=="%AI9_BeginDocumentData")I=z.vP(h,"%AI9_EndDocumentData",I);
else if(o=="%AI11_BeginTextDocument")I=z.vP(h,"%AI11_EndTextDocument",I)}else if(O!=-1){if(K.length>1)K.pop()._end=U}else if(K.length==1&&(o.startsWith("%AI")||o.startsWith("%%")&&o.indexOf(" ")!=-1)){var gT=1;
if(o.startsWith("%AI"))while(o[gT]!="_"&&gT<o.length)gT++;var r=o.indexOf(":");if(r==-1)r=o.indexOf(" ");
var G=o.slice(gT+1,r),Y=o.slice(r+1).trim();x.Header[G]=Y}}}U=I;if(h[U]==13)U++;if(h[U]==10)U++}return x}function y(h,P){var H=Date.now(),U=new Uint8Array(h),X,x=U[2]==68;
if(P)console.log(!x?"EPS":"PDF");if(x){var K=z.vP(U,"/AIMetaData "),eS=!1,gL=!1;while(U[K]!=60)K--;K--;
var T=z.vP(U,">>",K),I=z.wc(U,K+2,T-K-2).split("/"),o=[];for(var c=0;c<I.length;c++){var l=I[c],O=l.startsWith("AIPrivateData"),g=l.startsWith("AIPDFPrivateData");
if(!O&&!g)continue;var W=l.trim().split(/\s+/),d=parseInt(W[1]),gT=parseInt(W[0].slice(O?13:16));o.push([gT,d])}if(P)console.log("--- map made",Date.now()-H);
H=Date.now();var r=FromPDF.indexOfXref(U),G=[],Y=FromPDF.readXrefTrail(U,r,G),fk={buff:U,off:0},eJ=new Array(o.length),cX=K;
for(var c=0;c<o.length;c++){var gT=o[c][0],d=o[c][1],kj=FromPDF.getIndirect(d,0,fk,G),gq=kj.buff,iL=kj["/Filter"],ew=0;
if(iL!=null&&typeof iL=="string")iL=[iL];var dk=z.wc(gq,ew,ew+20);if(dk=="%AI12_CompressedData"){ew+=20;
eS=!0}else if(dk=="%AI24_ZStandard_Data"){ew+=20;gL=!0}gq=new Uint8Array(gq.buffer,gq.byteOffset+ew,gq.length-ew);
if(iL)for(var j9=0;j9<iL.length;j9++){var fh=iL[j9];if(fh=="/FlateDecode")gq=pako.inflate(gq);else if(fh=="/ASCIIHexDecode")gq=FromPS.F.HexDecode({buff:gq,off:0});
else if(fh=="/ASCII85Decode")gq=FromPS.F.ASCII85Decode({buff:gq,off:0});else throw fh}eJ[gT-1]=gq}if(P)console.log("--- arrays found",Date.now()-H);
H=Date.now();var g9=z.wc(eJ[0],0,13);if(g9=="%%BoundingBox"||g9=="%AI7_Thumbnai")eJ=eJ.slice(1);if(g9=="%AI24_ZStanda"){eJ[0]=eJ[0].slice(20);
gL=!0}if(z.wc(eJ[0],0,13)=="%AI12_Compres"){eJ[0]=eJ[0].slice(20);eS=!0}X=Q(eJ);if(P)console.log("--- concatenated",Date.now()-H);
H=Date.now();if(eS)X=UZIP.inflate(X);if(gL)X=fI.UH.nu(X);if(P)console.log("--- inflated",Date.now()-H);
H=Date.now()}else{var k6=z.lB(U);if(k6.indexOf("%AI5_BeginLayer")!=-1){X=U}else{var jx=k6.split(/[\n\r]+/),fV=[],ao=!1;
for(var b8=0;b8<jx.length;b8++){var ke=jx[b8].trim();if(ke=="%AI9_PrivateDataEnd"){ao=!1;break}else if(ke=="%AI9_DataStream"||ke=="%AI24_DataStream"){ao=!0}else if(ao)fV.push(ke.slice(1))}var gj=z.Fp(fV.join("")),jf=FromPS.F.ASCII85Decode({buff:gj,off:0});
if(jf[0]==120&&jf[1]==156)X=UZIP.inflate(jf);else X=fI.UH.nu(jf)}}return X}function Q(h){var P=0,U=0;
for(var c=0;c<h.length;c++)P+=h[c].length;var H=new Uint8Array(P);for(var c=0;c<h.length;c++){var X=h[c];
H.set(X,U);U+=X.length}return H}function k(h,P){for(var c=0;c<P.length;c++)if(h.startsWith(P[c]))return!0;
return!1}function E(h){var P=[],H=[],top=-1,U,X=null,x=null,K=null,T=0;for(var I=0;I<h.length;I++){var o=h[I];
if(U){o=U+o;U=null}var l="\t".repeat(P.length);if(X!=null){X.push(o);if(o.endsWith("~>")){var O=z.Fp(X.join("")),g=FromPS.F.ASCII85Decode({off:0,buff:O});
P.push(g);H.push(!1);top++;X=null}}else if(K!=null){if(o=="X+"){if(T==1){P.push(K);H.push(!1);top++;
K=null}else T--}else if(o=="X=")T++;else K.push(o)}else if(x!=null){if(o=="/Def ; "){P.push(x);H.push(!1);
top++;x=null}else x.push(o)}else if(o=="/Binary : /ASCII85Decode ,"){X=[]}else if(o=="X="){K=[];T++}else if(o=="/FillStyle : 0 O"){x=["0 O"]}else if(o=="/SVGFilter :"||o=="; /Def ;")continue;
else if(o.startsWith("/XMLUIDREF :")){var W=_(o);P[top][W[4]]=W[2]}else if(o.startsWith("/")&&o[1].toUpperCase()!=o[1].toLowerCase()){if(o.startsWith("/XMLUID")){var W=_(o);
if(H[top])throw"e";P[top][W[4]]=W[2]}if(o.startsWith("/GObjRef")){var W=_(o);if(W.length==7){if(H[top])throw"e";
P[top][W[5]]=W[2]}else{if(!H[top])throw"e";P[top].push(W[2])}}else{var d=o.startsWith("/Array")||o.startsWith("/Document");
P.push(d?[]:{});H.push(d);top++}}else if(o.endsWith(",")){var gT,r,W=_(o);W.pop();if(W[0]==";"||W.length==1||o==" ,"){r=P.pop();
H.pop();top--;gT=H[top]?null:W.pop()}else{gT=H[top]?null:W.pop();var G=W.pop(),Y=W[0];if(G=="/Int")r=parseInt(Y);
else if(G=="/Real")r=parseFloat(Y);else if(G=="/Bool")r=Y=="1";else if(G=="/String"||G=="/UnicodeString")r=W.join("");
else if(G=="/RealMatrix"||G=="/RealPoint"||G=="/RealPointRelToROrigin")r=W.map(parseFloat);else throw G}if(H[top])P[top].push(r);
else P[top][gT]=r}else if(o==";"){}else if(o==""){}else{if(o.indexOf("/RealPoint")!=-1){}else if(o.startsWith("(")&&o.endsWith(")")){}else if(o.endsWith("/RealMatrix")){}else throw o;
U=U?U+o:o}}return P}function _(h){var P=0,H=[];while(P<h.length){var U=h[P],X=U.charCodeAt(0);if(U==" ")P++;
else if(U==","||U==";"||U==":"){H.push(U);P++}else if(U=="("){var x=P+1;while(!(h[x]==")"&&h[x-1]!="\\"))x++;
var K=h.slice(P+1,x);H.push(K);P=x+1}else if(U=="/"||U=="-"||48<=X&&X<=57){var x=P;while(h[x]!=" ")x++;
H.push(h.slice(P,x));P=x}else throw U}return H}function v(h){var P="";for(var c=0;c<h.length;c++){if(h[c]=="_"&&h[c+1]=="x"){var iM=parseInt(h.slice(c+2,c+4),16);
P+=String.fromCharCode(iM);c+=4}else if(h[c]=="_")P+=" ";else P+=h[c]}return P}function V(h){var P="xmlnode-nodename",H="xmlnode-nodevalue",U="xmlnode-attributes",X="xmlnode-children",x=h[P],K=h[U],T=h[X],I={_nam:x};
for(var o in K){var l=K[o];if(Object.keys(l[U]).length!=0||l[X].length!=0)throw"e";if(l[P]!=o)throw"e";
I[o]=l[H]}if(T.length==0)return I;var O=I.cln=[];for(var c=0;c<T.length;c++)O.push(V(T[c]));return I}function R(h){var P="xmlnode-nodename",H="xmlnode-nodevalue",U="xmlnode-attributes",X="xmlnode-children",x=h[P].split(":").pop().replace("#",""),K=h[U],T=h[X],I="<"+x;
for(var o in K)if(o!="xmlns"&&o!="xmlns:v")I+=" "+o.split(":").pop()+"=\""+K[o][H]+"\"";I+=">"+(T.length==0?"":"\n");
for(var c=0;c<T.length;c++)I+=R(T[c]);if(h[H])I+=h[H];return I+"</"+x+">\n"}return e}();function cq(){}cq.__=function(){var e,A,a,p,N,b,L,C;
function i(U){return z.q$(e,U)}function Z(U){return z.dn(e,U)}function s(U){return z.Jv(e,U)}function D(U){return z.v2(e,U)}function n(U,X){var x=[];
for(var c=0;c<X;c++)x.push(s(U+c*4));return x}function S(U,X){var x=[];for(var c=0;c<X;c++)x.push(i(U+c*8));
return x}function F(U){return s((U+1)*4096-12)}function $(U){return s((U+1)*4096-8)}function m(U,A,X,x){if(p[U]==null)p[U]=[];
p[U].push([x,new Uint8Array(e.buffer,A,X)])}function J(U,X,x,K){var T=a[U],A=T*4096;A=A+s(A+4096-24-12-X*4);
var I=Z(A),o=e[A+2],l=e[A+3];if(X!=o)throw o;if(l==0)m(K,A+4,x,9);else{var O=Z(A+6),g=s(A+8);m(K,A+12,I-12,9);
J(g,O,x-(I-12),K)}}function w(){var U=s(352),X=s(U*4096+128),x=s(936);a=[];p={};N={};for(var c=0;c<1e9;
c++){var K=s(x*4096+128+c*4);if(K==0)break;var T=n(K*4096+128,4096-128-12>>>2);a=a.concat(T)}for(var I=0;
I<a.length;I++){var o=a[I],l=F(o);if(l!=6)continue;var A=o*4096,O=s(A);A+=4;for(var c=0;c<O;c++){var g=s(A);
A+=4;var W=s(A);A+=4;var d=s(A);A+=4;var gT=s(A);A+=4;if(g==0)N[W]=d;else{var r=d&65535,G=d>>>16;if(G==0)m(W,gT*4096,r,8);
else J(gT,G,r,W)}}}var b={};for(var Y in p){var fk=p[Y],eJ=fk.length;if(eJ==1)b[Y]=fk[0][1];else{var eS=0,A=0;
for(var c=0;c<eJ;c++)eS+=fk[c][1].length;var gL=b[Y]=new Uint8Array(eS);for(var c=0;c<eJ;c++){gL.set(fk[c][1],A);
A+=fk[c][1].length}}}return b}function f(A,U){var X=U?s(A):Z(A),x="";A+=U?4:2;while(x.length<X){var K=e[A++],T=e[A++],I=0,o="";
K+=(T&15)*256;T=T&240;for(var c=0;c<K;c++){if(T==64)I=e[A++];else if(T==128)I=e[A++]|e[A++]<<8;else throw T;
o+=String.fromCharCode(I)}x+=o}return[x,A]}function M(A,U,X){var x=n(A,U);for(var c=0;c<U;c++){X.push(c);
if(x[c]>L)throw"e";x[c]=Q(x[c],X);X.pop()}return x}var y={};function Q(U,X){if(C.indexOf(U)!=-1)return b[U];
if(U==0)return null;if(b[U]==null)return null;if(!(b[U]instanceof Uint8Array))return b[U];var x=e,A=0;
e=b[U];C.push(U);var K=N[U].toString(16),T=b[U]={_type:H[K]?H[K]+":"+K:"typ-"+K,_eid:U};while(A+8<e.length){var I=s(A);
A+=4;var o=I.toString(16),l=s(A);A+=4;var O=A+l;if(A+l>e.length){T._bin=e;break}k(o,V,T,A,l,X);A=O}e=x;
C.pop();return T}function k(U,X,x,A,K,T){var I=X[U+":"+x._type];if(I==null)I=X[U];T.push(I?I[0]==""?U:I[0]:U);
if(I){var o=I[0],l=null,O=I[1];if(o=="")o=O+"-"+U;if(h[O]&&K!=h[O]){console.log(O);console.log(U,I);
console.log(e.slice(A,A+K));throw"e"}if(O=="mat")l=S(A,6);else if(O=="mmat")l=[Q(s(A),T),S(A+6,6)];else if(O=="rect")l=S(A,4);
else if(O=="mrct"){l=S(A,4);l.push(Z(A+32))}else if(O=="doub")l=i(A);else if(O=="pointArr"){var g=Z(A);
l=n(A+2,g*2)}else if(O=="usrt")l=Z(A);else if(O=="uint")l=s(A);else if(O=="pntr"||O=="ptr6"){l=Q(s(A),T)}else if(O=="bool2"){if(Z(A)!=0&&Z(A)!=1)throw Z(A);
l=Z(A)==1}else if(O=="bool4"){if(s(A)!=0&&s(A)!=1)throw U+","+s(A);l=s(A)==1}else if(O=="color"){if(K!=38&&K!=30)throw K;
var W=s(A),d=Z(A+4);l=[W];for(var c=0;c<d;c++)l.push(i(A+6+c*8))}else if(O=="path"){var gT=A+K;l=[];
var r=s(A);A+=4;for(var c=0;c<r;c++){var G=[[]];l.push(G);var Y=s(A);A+=4;for(var fk=0;fk<Y;fk++){var W=s(A);
A+=4;if(W<2){G[0].push([W,i(A),i(A+8),i(A+16),i(A+24),i(A+32),i(A+40)]);A+=48}else if(W==2){G[0].push([W,i(A),i(A+8)]);
A+=16}else throw W}G.push(Z(A));A+=2}}else if(O=="ptrAndList"){var eJ=s(A),eS=s(A+4);l=M(A+8,eS,T);l.unshift(Q(eJ,T))}else if(O=="ptrArray"||O=="ptrArrayX"){var gL=K>>2;
if(O=="ptrArray"){gL=s(A);A+=4;if(K!=4+gL*4)throw K}l=M(A,gL,T)}else if(O=="ptrArray2"){var gL=s(A);
A+=4;l=M(A,gL,T);A+=gL*4;gL=s(A);A+=4;l.push(M(A,gL,T))}else if(O=="cldrn"){var cX=s(A),kj=s(A+4),gL=s(A+8);
l={c:Q(cX,T),LY:Q(kj,T),BW:M(A+12,gL,T)};if(K!=12+gL*4){console.log(U,sa);throw"e"}if(cX==0)throw cX}else if(O=="aprnc"){var gL=s(A);
A+=4;l={};for(var c=0;c<gL;c++){var gq=s(A),iL=Z(A+4),ew=Z(A+6);A+=8;var dk=P[gq.toString(16)];if(dk==null)dk="prm-"+gq.toString(16);
else dk=v(dk);l[dk]=[];for(var fk=0;fk<ew;fk++){var j9=s(A),fh=Z(A+4),g9=null;A+=6;if(j9==28264)g9=i(A);
else if(j9==28263)g9=s(A);else if(j9==279)g9=Q(s(A),T);else if(j9==28261)g9=Z(A)==1;else if(j9==28265)g9=[i(A),i(A+4)];
else if(j9==83231)g9=f(A+3)[0];else if(j9==28259||j9==28260||j9==23094||j9==67679){g9=e.slice(A,A+fh)}else throw j9.toString(16);
l[dk].push(g9);A+=fh}}}else if(O=="lopts"){l={ay8:Z(A+0)==1,show:Z(A+2)==1,aya:Z(A+4)==1,BR:s(A+10),name:f(A+21)[0]}}else if(O=="origin"){var gT=A+K;
if(e[A++]!=1)throw"e";var g=s(A);A+=4;var k6=z.wc(e,A,g);A+=g;if(e[A++]!=1)throw"e";var jx=e[A++];if(jx!=1&&jx!=53)throw jx;
var fV=Z(A);A+=2;if(fV!=0&&fV!=1)throw fV;var ao=s(A);A+=4;if(ao!=0&&ao!=1)throw ao;var b8=s(A);A+=4;
if(b8!=0&&b8!=2&&b8!=3)throw b8;var ke=s(A);A+=4;var gj=f(A,!0);A=gj[1];gj=gj[0];var jf=s(A),ay=s(A+4);
A+=8;var fz=s(A);A+=4;if(fz!=0)throw fz;var ei=s(A);A+=4;A+=3;var hC=f(A)[0];A+=2+2+hC.length;l={file:k6,id:gj,qm:hC}}else if(O=="string")l=f(A+3)[0];
else if(O=="relEnt"){var iI=Z(A);A+=2;l=[];for(var c=0;c<iI;c++)l.push([s(A+c*8),Q(s(A+c*8+4),T)])}else if(O=="textData"){var gT=A+K,gQ=s(A);
A+=4;var gq=s(A);A+=4;var d=Z(A);A+=2;var cb=[];for(var c=0;c<d;c++){var dK=s(A);A+=4;if(gQ==514)cb.push(f(A,!0)[0]);
else if(gQ==515){var ha=s(A),U=s(A+4),hA=E(A+8,T);cb.push([ha,Q(U,T),hA])}else if(gQ==516){var ha=s(A),U=s(A+4),dW=Z(A+8),hA=E(A+8,T);
cb.push([ha,Q(U,T),hA])}else cb.push(e.slice(A,A+dK));A+=dK}if(gT-A!=12)throw gT-A;l=cb}else if(O=="storyProps"){var fN=s(A);
if(Z(A+4)>1)throw"e";var cQ=Q(s(A+6),T),d=s(A+10),h6=Q(s(A+14+d*4),T);l={aeO:fN,anV:cQ,BW:M(A+14,d,T),aqM:h6,aoH:n(A+14+d*4+4,4)}}else if(O=="styleProps")l=E(A,T);
else if(O=="bounds"){var hh=A,iI=s(A);A+=4;l=[];for(var c=0;c<iI;c++){var bA=[];l.push(bA);for(var fk=0;
fk<4;fk++)bA.push(i(A+fk*8));A+=32;bA.push(e[A]);A++}if(A!=hh+K)throw"e"}else if(O=="columnPos"){var iI=s(A);
A+=4;l=[S(A,iI),i(A+iI*8)];A+=iI*8+8}else if(O=="StyleName"){l=[s(A+4)]}else if(O=="fontName"){var gT=A+K;
l=[Z(A)];A+=2;for(var c=0;c<2;c++){var k6=f(A+3);A=k6[1];l.push(k6[0])}l.push(s(A));A+=4;var co=Z(A);
A+=2;l.push(co);var ej=Z(A);A+=2;var bk=[];l.push(bk);for(var h5=0;h5<ej;h5++){var bg=[];bk.push(bg);
var k6=f(A+3);A=k6[1];bg.push(k6[0]);var aQ=Z(A);A+=2;var k6=z.wc(e,A,aQ);A+=aQ;bg.push(k6);for(var c=0;
c<3;c++){var k6=f(A+3);A=k6[1];bg.push(k6[0])}bg.push(s(A));A+=4;var k6=f(A,!0);A=k6[1];bg.push(k6[0])}if(A+4!=gT)throw"e";
l.push(s(A))}else throw O;if(x[o]!=null){console.log(o,x[o],l);console.log(T.slice(0));console.log(eid,U,A,x[o],I,l);
throw"e"}x[o]=l}else{var fw=e.slice(A,A+K);x["prop-"+U]=fw}T.pop()}function E(A,U){var X=Z(A);A+=2;var x={};
for(var c=0;c<X;c++){var K=s(A);A+=4;var T=K.toString(16),I=Z(A);A+=2;var o=Z(A);A+=2;for(var l=0;l<o;
l++){var O=s(A);A+=4;var g=Z(A);A+=2;k(T,R,x,A,g,U);A+=g}}return x}function _(U){e=new Uint8Array(U);
b=w();var X=b[2147483649];X=z.lB(X,4,X.length-4);delete b[2147483649];L=0;for(var x in b)L=Math.max(L,parseInt(x));
C=[];var K={};for(var x in b)K[x]=b[x];for(var x in b)Q(parseInt(x),[]);return b}function v(U){U=U.split(" ").join("");
return U[0].toLowerCase()+U.slice(1)}var V={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},R={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},h={mmat:54,mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},P={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},H={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return _}();function eC(){}eC.__=function(){var e=0;function A(n,S){var F=cq.__(n),v=1;e=0;var $=F[1],m=$.spreads,J=[],w=new dE;
for(var f=0;f<m.length;f++){var b=m[f],L=b.children.BW,C=p(b),M=L[0].children.BW,y=new dE;for(var Q=0;
Q<M.length;Q++){var k=M[Q],E=p(k);E.concat(C);var _=a(k);_.offset(E.Co,E.dW);_=j.p.dE(_);y=y.pg(_)}J.push(y);
w=w.pg(y)}while(Math.sqrt(w.O())*v<1e3)v++;S.m=w.m*v;S.n=w.n*v;S.buffer=new Uint8Array(4*S.m*S.n);S.Px=!0;
S.Gu(m.length);for(var f=0;f<m.length;f++){var b=m[f],L=b.children.BW,V=S.Uo();V.OO=24;V.add.lsct=ez.MV;
V.i4("Artboard "+(f+1));var R=J[f].clone();R.offset(-w.x,-w.y);R.x*=v;R.y*=v;R.m*=v;R.n*=v;R=j.p.dE(R);
V.Mx(R);V.Mi="pass";S.B.push(S.pz());var C=p(b);C.translate(-w.x,-w.y);C.scale(v,v);var h={};for(var P=0;
P<L.length-1;P++){var H=L[P],U=H.children.BW,X=S.Uo(),x=H.layer.lopts;if(x.name=="Internal_pages_layer_name"||h[x.name])continue;
h[x.name]=!0;X.OO=24;X.add.lsct=ez.MV;X.i4(x.name);X.d8(x.show);if(x.ay8)X.add.lspf=1<<31;X.Mi="pass";
S.B.push(S.pz());for(var c=0;c<U.length;c++)Z(U[c],S,C,F);S.B.push(X)}S.B.push(V)}}function a(n){var S=n.rect;
return new dE(S[0],S[1],S[2]-S[0],S[3]-S[1])}function p(n){var S=n.transform;return new bj(S[0],S[1],S[2],S[3],S[4],S[5])}function N(n){var S=n.color,F=n.parentFill,m;
if(S==null&&F)S=F.color;if(S==null){console.log("strange color",n);return[0,0,0]}var $=S[0];if($==5)m=S.slice(1);
else if($==6)m=UDOC.C.cmykToRgb(S.slice(1));else if($==7){var J=j.j5(S[1],S[2],S[3]);m=[J.o/255,J.J/255,J.k/255]}else if($==14){m=S.slice(1);
console.log("unsure about the color")}else{console.log(S);throw $}return m}function i(n,S){var c=0,F=0;
while(F+n[c][0]<=S){F+=n[c][0];c++}n=n[c][1].textData;c=0;while(F+n[c][0]<=S){F+=n[c][0];c++}return n[c]}function Z(n,S,F,$){var m=n.transform?p(n):new bj;
m.concat(F);F=m;var J=n.path,w=n.appearance,f=n.visible,b=n.children?n.children.BW:null,L=S.Uo();if(f!=null)L.d8(f);
var C=b&&b.length==1&&b[0].bitmapFill,M=n["bool2-1623"]&&b&&b.length==1&&b[0].rect&&b[0]._type.startsWith("TextFrame");
if(C){L.i4("bitmap");var y=b[0],Q=a(y),k=p(y);k.concat(F);var E=y.bitmapFill.bitmap;E=$[E]._bin;if(E.length!=E.buffer.byteLength)E=E.slice(0);
var _=S.je(E,"img.jpg",0,0);_.OO=L.OO;L=_;var v=[0,0,Q.m,0,Q.m,Q.n,0,Q.n];j.p.D(v,k,v);L.add.SoLd.Trnf=q.BD.Jw(v);
L.add.SoLd.nonAffineTransform=q.BD.Jw(v);L.kf(S,!1);var V=y.path;if(V&&V.length!=0)L.add.vmsk=D(V,k,w);
else if(J&&J.length!=0)L.add.vmsk=D(J,F,w);L.c0();L.yO(S)}else if(M){if(w&&w.strokeSwatch){var R=S.Uo();
s(R,S,w,J,F);S.B.push(R)}var h=b[0],Q=a(h),k=p(h),G=0;k.concat(F);var P=h.children.BW[0],H=P.obj228,U=H[0].story[1],X=U.stoProps.anV.relEnt,x=U.stoProps.BW[0].relEnt,K=U.stoProps.BW[1]["ptrArrayX-210"][0].textData,T=$[X[0][1].textData[0][1].name[0]],I=T?T.styProps:{};
K=K.join("").replace(/\r/g,"\n");var o=-1;while((o=K.indexOf("\uFFFC"))!=-1){K=K.slice(0,o)+(K[o-1]=="\n"?" ":" ")+K.slice(o+1)}L.i4(K.slice(0,255));
L.add.lnsr="rend";L.add.TySh=eG.KP(0,0);L.add.TySh.oc=Q;L.add.TySh.D=k;var l=L.add.TySh._t;eG.f7(l,0,K);
var O=eG.p_(l,0,K.length);O.JH.FontSize=10;eG.G4(l,0,K.length,O);var g=[];if(K.length!=0){var W=i(X,0),d=i(x,0),gT=1;
for(var c=1;c<K.length;c++){var J=i(X,c),r=i(x,c);if(J!=W||r!=d){g.push(gT);gT=0}W=J;d=r;gT++}if(gT!=0)g.push(gT)}for(var c=0;
c<g.length;c++){var Y=i(x,G),fk=g[c],eJ=Math.min(G+fk,K.length-1),eS=Y[2],gL=Y[1].styProps;if(gL==null)gL={};
var cX=i(X,G),kj=cX[1].styProps,gq=cX[2],iL={};for(var ew in I)iL[ew]=I[ew];for(var ew in kj)iL[ew]=kj[ew];
for(var ew in gq)iL[ew]=gq[ew];for(var ew in gL)iL[ew]=gL[ew];for(var ew in eS)iL[ew]=eS[ew];var O=eG.p_(l,G,eJ),dk=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],j9=dk.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var fh=0;fh<j9.length;fh++){var ew=j9[fh],g9=fh<dk.length?O.JH:O.Vx;if(iL[ew]!=null)g9[ew]=iL[ew]}if(iL.fillColor){var k6=N(iL.fillColor);
O.JH.FillColor={Type:1,Values:[1].concat(k6)}}if(iL.font){var jx=iL.font.name[5],fV=iL.fontStyle;if(fV==null)fV="Regular";
for(var ao=0;ao<jx.length;ao++)if(jx[ao][0]==fV)eG.Kv(O,jx[ao][1])}if(iL.leading!=null&&iL.leading>1){O.JH.Leading=iL.leading;
O.JH.AutoLeading=!1}if(iL.align!=null)O.Vx.Justification=[0,2,1,6,3,5,4,0,0,0][iL.align];eG.G4(l,G,eJ,O);
G+=fk}eG.XX(l,1);eG.dw(l,[0,0,Math.round(Q.m),Math.round(Q.n)])}else if(n._type.startsWith("Path")&&(b==null||b.length==0)&&J){s(L,S,w,J,F)}else{var b8=n["prop-14526"];
if(b==null&&b8){var ke=$[z.Jv(b8,20)];b=[ke]}if(b){if(J&&J.length!=0){L.add.vmsk=D(J,F,w);L.c0();L.yO(S)}L.i4("group");
L.OO=24;L.add.lsct=ez.MV;S.B.push(S.pz());for(var c=0;c<b.length;c++)Z(b[c],S,F,$)}}if(w){var gj=w.objectBlendingMode,jf=w.objectOpacity,ay=w.fillTint;
if(gj)L.Mi="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[gj[0]];
if(jf)L.opacity=Math.round(L.opacity*jf[0]/100);if(!C&&ay)L.opacity=Math.round(L.opacity*ay[0]/100)}if(n.name)L.i4(n.name);
else if(w&&w.name)L.i4(w.name[0]);S.B.push(L)}function s(n,S,F,$,m){n.i4("path");n.OO|=16;var J=n.add.vstk=JSON.parse(JSON.stringify(iF.kE.default)),w=[0,0,0];
if(F){var f=F.strokeSwatch,b=F.fillSwatch,L=F.strokeWeight;J.strokeEnabled.v=f!=null;J.fillEnabled.v=b!=null;
if(f){J.strokeStyleLineWidth.v.val=L?L[0]:1;w=N(f[0]);J.strokeStyleContent.v.Clr.v=j.M.yN({o:w[0]*255,J:w[1]*255,k:w[2]*255})}if(b){w=N(b[0])}}n.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.M.yN({o:w[0]*255,J:w[1]*255,k:w[2]*255})}};
n.add.vmsk=D($,m,F);n.c0();n.yO(S)}function D(n,S,F){var $=new u.eP,m=$.i;for(var J=0;J<n.length;J++){var w=n[J],f=w[0].length,b=w[1]==0,L=b?0:3;
m.push({type:L,length:f,kR:0,wk:2,JS:0,mH:0});for(var c=0;c<f;c++){var C=w[0][c],M=C[0],y=new k7(C[1],C[2]),Q=new k7(C[3],C[4]),k=new k7(C[5],C[6]);
if(M==0||M==1)m.push({type:L+2,x3:y,H:Q,iD:k});else if(M==2)m.push({type:L+2,x3:y,H:y,iD:y});else throw M}}j.r.nM(m,S);
return $}return A}();var dO=function(e){function A(Z,s){var D=[];for(var c=0;c<9;c++){var n=z.q(Z,s+c*4);
if(c%3==2)D.push((n>>>30)+(n&1073741823)/1073741823);else D.push((n>>>16)+(n&65535)/65535)}return D}function a(Z,s,D,n){var S={},F=z.q,$=z.ex;
while(s<D){var m=s,J=z.q(Z,s);s+=4;var w=z.wc(Z,s,4);s+=4;if(J==0)throw"e";if(J==1){J=z.sg(Z,s);s+=8}var f=m+J,b="".padStart(n,"\t"),L={};
if(w=="mvhd"){var C=Z[s];if(C!=0)throw"e";s+=4;L.ai5=F(Z,s);s+=4;L.acO=F(Z,s);s+=4;L.eU=F(Z,s);s+=4;
L.duration=F(Z,s);s+=4;L.az6=F(Z,s);s+=4;L.volume=$(Z,s);s+=2;s+=10;L.a4$=A(Z,s);s+=4*9;L.a2a=[];for(var c=0;
c<6;c++)L.a2a.push(F(Z,s+c*4));s+=4*6;L.alM=F(Z,s);s+=4}else if(w=="tkhd"){var C=Z[s];if(C!=0)throw"e";
s+=4;L.ai5=F(Z,s);s+=4;L.acO=F(Z,s);s+=4;L.atI=F(Z,s);s+=4;s+=4;L.duration=F(Z,s);s+=4;s+=8;L.j=$(Z,s);
s+=2;L.a9P=$(Z,s);s+=2;L.volume=$(Z,s);s+=2;s+=2;L.a4$=A(Z,s);s+=4*9;L.SB=F(Z,s)>>>16;s+=4;L.Ps=F(Z,s)>>>16;
s+=4}else if(w=="mdhd"){L.OO=F(Z,s);s+=4;L.ai5=F(Z,s);s+=4;L.acO=F(Z,s);s+=4;L.eU=F(Z,s);s+=4;L.duration=F(Z,s);
s+=4;L.lang=$(Z,s);s+=2;L.Xr=$(Z,s);s+=2}else if(w=="hdlr"){var M=F(Z,s);s+=4;if(M!=0)throw M;L.lT=z.wc(Z,s,4);
s+=4;L.aq2=z.wc(Z,s,4);s+=4;L.af6=F(Z,s);s+=4;L.OO=F(Z,s);s+=4;L.a0o=F(Z,s);s+=4;var y=s;while(Z[y]!=0)y++;
L.name=z.wc(Z,s,y-s);s+=y-s+1}else if(w=="stsd"){var M=F(Z,s);s+=4;if(M!=0)throw M;var Q=F(Z,s);s+=4;
if(Q!=1)throw Q;var k=F(Z,s);s+=4;L.OC=z.wc(Z,s,4);s+=4;if(L.OC=="mett"){L.agm=z.wc(Z,s,f-s)}else{for(var c=0;
c<6;c++)if(Z[s+c]!=0)throw"e";s+=6;L.ayK=$(Z,s);s+=2;L.a7G=$(Z,s);s+=2;L.a3X=$(Z,s);s+=2;L.a4v=F(Z,s);
s+=4;if("mp4v avc1 encv s263 vp09 hvc1".split(" ").indexOf(L.OC)!=-1){L.aw6=F(Z,s);s+=4;L.afM=F(Z,s);
s+=4;L.aqg=[$(Z,s),$(Z,s+2)];s+=4;L.adP=[F(Z,s)/(1<<16),F(Z,s+4)/(1<<16)];s+=8;var E=F(Z,s);s+=4;if(E!=0)throw"e";
var _=$(Z,s);s+=2;if(_!=1)throw"e";var v=Z[s];s++;L.a04=z.wc(Z,s,v);s+=31;L.a0j=$(Z,s);s+=2;var V=$(Z,s);
s+=2;if(V!=65535)throw"e";if(s!=f)L.auE=a(Z,s,f,n+1)}else if(["mp4a","enca","samr","sawb","ec-3"].indexOf(L.OC)!=-1){L.l8=$(Z,s);
s+=2;L.axc=$(Z,s);s+=2;var R=$(Z,s);s+=2;if(R!=0)throw R;var h=$(Z,s);s+=2;if(h!=0)throw h;L.aoe=F(Z,s)/(1<<16);
s+=4}else if(L.OC=="tx3g"){}else throw L.OC}}else if(w=="stts"||w=="stsz"||w=="stco"||w=="stsc"||w=="ctts"){var M=F(Z,s),P=0,U=0;
s+=4;if(M!=0)throw M;if(w=="stsz"){P=F(Z,s);s+=4}var H=F(Z,s)*(w=="stsc"?3:w=="stts"||w=="ctts"?2:1);
s+=4;L=[];for(var c=0;c<H;c++){if(P!=0)L.push(P);else{L.push(F(Z,s));s+=4}}for(var c=0;c<H;c++)U+=L[c]}else if(w=="co64"){var M=F(Z,s);
s+=4;if(M!=0)throw M;var H=F(Z,s);s+=4;L=[];for(var c=0;c<H;c++){L.push(z.sg(Z,s));s+=8}}else if(w=="moov"||w=="trak"||w=="mdia"||w=="minf"||w=="dinf"||w=="stbl"){L=a(Z,s,f,n+1)}else{L.R=s;
L.SZ=J}s=f;if(w=="trak"){if(S[w]==null)S[w]=[];S[w].push(L)}else{if(S[w]!=null)throw w;S[w]=L}}return S}function p(Z){var s=new Uint8Array(Z);
return a(s,0,s.length,0)}function N(Z,s,D){var n=i(Z,s),S=n.mdia.minf.stbl,F=S.stsc,$=0,m=0;for(var c=0;
c<F.length;c+=3){var J=(c+3<F.length?F[c+3]:1e4)-F[c],w=m+J*F[c+1];if(m<=D&&D<w){while(m+F[c+1]<=D){$++;
m+=F[c+1]}break}$+=J;m=w}var f=S.stco;if(f==null)f=S.co64;var b=f[$];while(m<D){b+=S.stsz[m];m++}return[b,S.stsz[D]]}function i(Z,s){var D=Z.moov.trak;
for(var c=0;c<D.length;c++)if(D[c].mdia.hdlr.aq2==s)return D[c]}return{__:p,aiG:N,at4:i}}(),q={};q.V=function(e){return window.devicePixelRatio||1};
q.aO=function(e,A){return(A.a89=="touch"?12:8)*q.V()/e.u.N};q.$w=function(e,A,a){this.name=e;this.id=A;
this.p2=null;if(a!=null)this.JX=a};q.$w.prototype.nc=function(e,A,a,p,N){};q.$w.prototype.enable=function(e,A,a,p,N,i){var Z=new k4(t.E.L,!0);
Z.data={d:t.c.Jn,J5:"default"};A.S(Z)};q.$w.prototype.disable=function(e,A,a,p,N){};q.$w.prototype.ahM=function(e,A,a,p,N){return!1};
q.$w.prototype.MD=function(e,A,a,p,N){};q.$w.prototype.jZ=function(e,A,a,p,N){};q.$w.prototype.D1=function(e,A,a,p,N){};
q.$w.prototype.$Q=function(e,A,a,p,N,i){};q.$w.prototype.rZ=function(e,A,a,p,N){};q.$w.prototype.CE=function(e,A,a,p){};
q.$w.prototype.XV=function(e,A,a,p){};q.$w.prototype.Jf=function(e,A){};q.$w.prototype.rf=function(e,A){};
q.$w.prototype.vH=function(e,A,a,p,N){};q.$w.prototype.Mv=function(e,A){};q.$w.prototype.uc=function(e,A){return!1};
q.$w.prototype.I1=function(e,A){return!1};q.$w.prototype.xV=function(){return!1};q.$w.prototype.u1=function(e,A){return!0};
q.$w.prototype.CK=function(){return null};q.$w.prototype.rm=function(e,A,a){};q.$w.prototype.awW=function(){return!1};
q.$w.prototype.xQ=function(e,A,a,p){};q.$w.prototype.track=function(e){var A=new k4(t.E.wH,!0);A.data=e;
e.bb=!0;this.p2.S(A)};q.$w.UL=function(e,A,a,p){var N=10*q.V()*(e.a89=="touch"?2:1),i=e.x+N,Z=e.y-N,s=j.qC.Wa(A.m,a.l5,p,a.m,!0),D=j.qC.Wa(A.n,a.l5,p,a.n,!0);
while(s.length<D.length)s=" "+s;while(s.length>D.length)D=" "+D;q.$w.nI(i,Z,[i1.get([12,41]).charAt(0)+": "+s,i1.get([12,42]).charAt(0)+": "+D],a)};
q.$w.nI=function(e,A,a,p){function N(n,w,f,b,L,C){n.beginPath();n.moveTo(w,f+C);n.arcTo(w,f+L,w+C,f+L,C);
n.arcTo(w+b,f+L,w+b,f+L-C,C);n.arcTo(w+b,f,w+b-C,f,C);n.arcTo(w,f,w,f+C,C)}var i=q.V(),Z=Math.round,s=Z(11*i),D=q.$w.agC,S=0;
if(D==null)D=q.$w.agC=document.createElement("canvas");var n=D.getContext("2d");n.font=s+"px monospace";
for(var c=0;c<a.length;c++)S=Math.max(S,n.measureText(a[c]).width);var F=Z(S+12*i),$=Z((a.length*14+5)*i),m=new dE(e,A-$,F,$);
if(D.width!=F||D.height!=$){D.width=F;D.height=$;n.font=s+"px monospace"}n.clearRect(0,0,F,$);n.fillStyle="rgba(0,0,3,0.8)";
N(n,0,0,F,$,Z(4*i));n.fill();n.fillStyle="rgba(255,255,255,1)";for(var c=0;c<a.length;c++)n.fillText(a[c],Z(6*i),Z((c+1)*13*i));
var J=[n.getImageData(0,0,F,$).data,m.clone()];if(p)p.I.NC=[J];return J};q.$w.agC=null;q.Mf="0";q.aN="1";
q.a3q="2";q.aA5="3";q.y6="5";q.akl="6";q.a9Q="7";q.CR="8";q.dC="9";q.x1="10";q.QE="11";q.Gc="12";q.cv="13";
q.Ud="14";q.ho="16";q.xS="18";q.Kf="19";q.YV="20";q.$K="21";q.yU="22";q.TD="23";q.BE="24";q.QU="25";
q.Wt="27";q.FD="31";q.iw="32";q.Kb="34";q.ajW="35";q.To="36";q._E="37";q.h8="38";q.Za="39";q.A0="40";
q.qh="41";q.yD="42";q.Wp="43";q.a2x="44";q.L1="47";q.v8="48";q.gS="51";q.Cj="52";q.vM="54";q.Nt="55";
q.Mo="56";q.v0="57";q.Im="58";q.wI="59";q.yp="60";q._B="61";q.M5="70";q.lE="100";q.ID="101";q.wS="102";
q.Fr="103";q.WS="120";q.Dx="230";q.ah8="231";q.sf="232";q._b="233";q.fg="234";q.ws="235";q.eQ="236";
q.a6S=function(e){var A=q.PS,a=null;for(var p in A)if(A[p][1].indexOf(e[1].classID)!=-1)a=p;return a};
q.PS={};q.PS[q.TD]=["tools/brush",["PbTl"]];q.PS[q.BE]=["tools/pencil",["PcTl"]];q.PS[q.FD]=["tools/eraser",["ErTl"]];
q.Wn=function(e,A,a){q.$w.call(this,e,A,a);this.tg={brush:e?fR.gF():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.w7=null;this.jl=null;this.D_=null;this.tL=null;this.p5=null;this.kv=null;this.CC=null;this.rW=null;
this.p1=null;this.Ls=null;this.cF=null;this.II=null;this._i=null;this.AV=1;this.c8=!1;this.oV=null;this.caller=null};
q.Wn.prototype=new q.$w;q.Wn.prototype.I1=function(e,A){return e.x2&&A.l(g4.Kp)};q.Wn.prototype.jZ=function(e,A,a,p,N){if(p.l(g4.uJ)){this.kv=new k7(N.x,N.y);
var i=this.tg.brush.Brsh.v,Z=i.Dmtr.v.val,s=i.Hrdn!=null?i.Hrdn.v.val:-1;this.CC=[Z,s,!0,JSON.parse(JSON.stringify(this.tg.brush)),N];
this.V2(a)}};q.Wn.prototype.k2=function(e,A,a){var p=this.CC,N=e.u.N,i=a.x-p[4].x,Z=a.y-p[4].y,s=p[0],D=p[1],n=Math.abs(i)>Math.abs(Z);
if(n&&p[2]){var S=Math.round(2*i/N);s+=S;a.x-=i-.5*S*N}if(!n&&!p[2]&&D!=-1){var S=Math.round(.25*Z);
D+=S;a.y-=Z-4*S}s=Math.max(1,s);D=p[1]==-1?-1:Math.max(0,Math.min(100,D));var F=p[3];F.Brsh.v.Dmtr.v.val=s;
if(D!=-1)F.Brsh.v.Hrdn.v.val=D;this.CC=[s,D,n,F,a];var $=jF.MS(F,A.TM.Cu,N),m=$[1];m.x=Math.round(this.kv.x-m.m/2);
m.y=Math.round(this.kv.y-m.n/2);e.I.Qh=[$];var J=e.u.FT(this.kv.x,this.kv.y);e.I.Eh={VK:[],zm:[J.x-s/2,J.y,J.x+s/2,J.y]};
if(D!=-1)e.I.Eh.zm.push(J.x+50/N,J.y-D/2,J.x+50/N,J.y+D/2);e.De=!0};q.Wn.prototype.rZ=function(e,A,a,p,N){if(this.id==q.YV||this.id==q.$K)return;
if(this.kv){this.kv=null;this.z6(JSON.parse(JSON.stringify(this.CC[3])));e.I.Qh=[];e.I.Eh=null;e.De=!0;
return}var i=new k4(t.E.L,!0);i.data={d:t.c.FF,G:this.id,apa:"showBrushOpts",QT:new k7(N.Qb+4,N.aG)};
A.S(i)};q.Wn.prototype.z6=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.iK,hP:ac.uO,dF:e};this.caller.S(A)};
q.Wn.fk=function(e,A,a,p,N,i){if(e==null)e="FrgC";if(A==null)A="norm";if(a==null)a=1;if(N==null)N=!1;
var Z={classID:"Fl",Usng:{t:"enum",v:{FlCn:e}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(a*100)}},PrsT:{t:"bool",v:N},Md:{t:"enum",v:{BlnM:im.Pj(A)}}};
if(e=="Clr")Z.Clr={t:"Objc",v:p};if(e=="contentAware")Z.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(e=="Ptrn")Z.Ptrn={t:"Objc",v:i};return{_h:"fill",h2:Z}};q.Wn.prototype.nc=function(e,A,a,p,N){this.p2=A;
var i=a.RN.length;if(i==0&&!a.VX())return;var Z=i!=0?-1-a.RN[0]:a.g[0],s=a.B[Z];if(e.d=="fromAction"){var D=e.Rl,n=D.h2;
if(n&&n.null&&n.null.v[0]&&n.null.v[0].v.classID=="Path"){var S=a.sz(),F=S[0],$=S[1],m=F[$.length==0?0:$[0]].add.vmsk;
if(D._h=="fill"){var J=m.tR(),w=N.lM,f=this.tg,b=w>>16&255,L=w>>8&255,C=w>>0&255;this.PX(a,s,J,b,L,C,Math.round(f.opacity*255),f.bmode,"Fill Path")}else{for(var M=0;
M<1e3;M++){var y=j.r.VS(m.i,M,!0);if(y==-1){this.$Q(a,A,N,p,null);break}var Q=m.i[y],k=m.i.slice(y,y+1+Q.length),E=j.p.rh(k,!0).w,_=E.slice(0,8);
for(var v=8;v<E.length;v+=6)_.push(E[v-2],E[v-1],E[v],E[v+1],E[v+2],E[v+3],E[v+4],E[v+5]);var V={};V.Points=_;
V.TextOnPathTRange=m.Cq.slice(0);var V=dl.mu(V,2,Q.type==3),R=V[0];if(M==0)this.MD(a,A,N,p,a.u.mc(R[0],R[1]));
else this.jl.moveTo(R[0],R[1]);var h=R.length,P=Q.type==0?h+2:h;for(var c=2;c<P;c+=2){var H=a.u.mc(R[c%h],R[(c+1)%h]);
H.x2=!0;this.D1(a,A,N,p,H,this.tg.flow)}this.jl.finish();this.Z2(a)}}}else if(D._h=="fill"){var U=n.PrsT?n.PrsT.v:!1,X=s?s.add.lspf:0;
if(U&&s){s.add.lspf=X==null?1:X|1}var x=(n.Opct?n.Opct.v.val:100)/100,K=n.Md?im.ac(n.Md.v.BlnM):"norm",T=n.Usng.v.FlCn;
if(T=="contentAware"){if(a.P==null){alert("Select an area to heal first.");return}if(!a.VX())return;
this.li(a);this.Rm(a,0);var I=a.P,o=j.Q(I.rect.O()*4);j.Ao(I.channel,o,3);this.hX(a,"sheal",o,I.rect,I.rect);
this.U(a,I.rect);this.finish(a,I.rect)}else if(T=="Ptrn"){var l=N.px,O=a.P?a.P.rect.clone():new dE(0,0,a.m,a.n),g=j.Q(O.O()*4);
b6.h6(n,g,O,l,new k7(0,0));this.ZR(a,s,a.P,g,"norm",[6,48,0,2])}else{var w;if(T=="FrgC")w=N.lM;else if(T=="BckC")w=N.dG;
else if(T=="Blck")w=0;else if(T=="Wht")w=16777215;else if(T=="Gry")w=8421504;else if(T=="Clr"){var W=j.M.kq(n.Clr.v);
w=W.o<<16|W.J<<8|W.k}var b=w>>16&255,L=w>>8&255,C=w>>0&255;this.PX(a,s,a.P,b,L,C,Math.round(255*x),K,[2,3])}if(U&&s){s.add.lspf=X==null?0:X}}else if(D._h=="delete"){var d=Z<0?1:s.os,I=a.P,Y;
if(I==null)return;var gT=Z<0?a.l8[-Z-1]:d<=0?null:d==1?s.tR():s.MH(a).$,O=d<=0?s.rect:gT.rect,r=d<=0?I.rect.Yn(O):I.rect.clone();
if(r.QP())return;var G=r.O();if(d<=0){Y=j.Q(G*4);j._M(s.buffer,s.rect,Y,r)}else{Y=j.Q(G);gT.extend(r);
j.WP(gT.channel,gT.rect,Y,r)}if(0<=Z&&s.EV(a,I)){if(d<=0){j.fV(Y,0);j._M(s.b0.aV,s.b0.ZU,Y,r)}else{Y.fill(255);
j.WP(s.b0.aV,s.b0.ZU,Y,r)}}else{if(d<=0){var fk=j.Q(Y.length>>2);j.kI(Y,fk,3);j.s.xL(j.ou(I.rect.O()),I.rect,fk,r,I.channel,r,1);
j.Ao(fk,Y,3)}else{var eJ=j.Q(I.rect.O()),b=N.dG>>>16&255,L=N.dG>>8&255,C=N.dG>>0&255;eJ.fill(Math.round(j.hT(b,L,C)));
j.s.xL(eJ,I.rect,Y,r,I.channel,r,1)}}this.vf(a,!0,[2,2],Z,d,r,Y)}}if(e.d=="stroke"){var eS=e.a0n,I=a.P;
if(I==null){I={rect:s.rect.clone(),channel:j.Q(s.rect.O())};j.kI(s.buffer,I.channel,3)}var gL=b6.on(eS),cX=q.ns.auT(I,Math.ceil(gL[0]),Math.ceil(gL[1])),w=j.M.kq(eS.Clr.v),b=Math.round(w.o),L=Math.round(w.J),C=Math.round(w.k);
this.PX(a,s,cX,b,L,C,Math.round(255*eS.Opct.v.val/100),im.ac(eS.Md.v.BlnM),[14,9])}if(e.d=="fillBMP"){this.ZR(a,s,a.P,e.Jr,e.UM,e.fQ)}if(e.d=="draw"){var kj=e.ZK,gq=kj.rect;
this.li(a);var iL=a.B[a.g[0]];if(e.akL&&iL&&iL.os<=0&&a.RN.length==0){gq=q.TN.avi(kj,a);iL.buffer=kj.buffer.slice(0);
iL.rect=gq.clone()}else{var ew=this.tg.bmode;this.tg.bmode="norm";this.hX(a,"draw",kj.buffer,gq,gq.Yn(new dE(0,0,a.m,a.n)));
this.tg.bmode=ew}this.U(a,gq);a.Xz=!0;this.finish(a,gq,e.fQ,e.akL)}};q.Wn.prototype.PX=function(e,A,a,p,N,i,Z,s,D){var n=a==null?new dE(0,0,e.m,e.n):a.rect,S=Z<<24|i<<16|N<<8|p<<0,F=j.Q(n.O()*4);
j.fV(F,S);this.ZR(e,A,a,F,s,D)};q.Wn.prototype.ZR=function(e,A,a,p,N,i){var Z=e.RN.length!=0?-1-e.RN[0]:e.g[0],s=Z<0?1:A.os,D=Z<0?e.l8[-1-Z]:s<=0?null:s==1?A.tR():A.MH(e).$,n=s<=0?A.rect:D.rect,S=a==null?new dE(0,0,e.m,e.n):a.rect,F=a==null?j.fo(e.m*e.n):a.channel;
if(a!=null)j.Qr(F,p);var $=S.O(),m=j.Q($*4);if(s<=0)j._M(A.buffer,A.rect,m,S);else{D.extend(S);m.fill(255);
j.DC(D.bF(S),m)}if(0<=Z&&a&&A.EV(e,a)&&s<=0){var J=A.b0.y9,w=A.b0.y9.slice(0);if(s<=0)j.GZ(p,w);else j.GZ(fullc,w);
var f=new af([2,3],this);f.data={d:"drawtemp",j:e.g[0],Bn:s,axb:J,a1w:w};e.G2(f);this.Jf(f.data,e)}else{if(s<=0){var b;
if(A.xF(0)){b=j.Q(S.O());j.kI(m,b,3)}j.s.eZ(N,p,S,m,S,S,1);if(A.xF(0))j.Ao(b,m,3)}else{j.s.eZ(N,p,S,m,S,S,1);
var L=j.Q($);j.U2(m,L);m=L}this.vf(e,!0,i,Z,s,S,m)}};q.Wn.prototype.uc=function(e){if(g4.p0.indexOf(e)!=-1)return!0;
return!1};q.Wn.prototype.CE=function(e,A,a,p){var N=this.tg.brush,i=p.l(g4.uJ),Z=i!=this.c8,s=q.Wn.Ck(N,p);
if(s!=null)this.z6(s);if(!p.l(g4.YC)&&p.hi()!=-1){var D=g4._P(Math.round(this.tg.opacity*100),p.hi())/100;
this.NQ({opacity:D},A)}if(this.id==q.CR&&Z&&e!=null){var n=this.tg.qsmode;if(n==2)n=e.P==null?0:1;else n=2;
this.NQ({qsmode:n},A)}this.c8=i;if(Z){if(e)this.AV=e.u.N;this.V2(a,p)}};q.Wn.Ck=function(e,A){var a=e.Brsh.v.Dmtr.v.val,p=e.Brsh.v.Hrdn!=null?e.Brsh.v.Hrdn.v.val:-1,N=a,i=p,Z=A.l(g4.Kp);
if(A.l(g4.CA)){if(Z)p=25*Math.floor((p-1)/25);else{if(a<=10)a--;else if(a<=50)a=5*Math.floor((a-1)/5);
else if(a<=100)a=10*Math.floor((a-1)/10);else if(a<=200)a=25*Math.floor((a-1)/25);else if(a<=400)a=50*Math.floor((a-1)/50);
else a=100*Math.floor((a-1)/100)}}if(A.l(g4.KY)){if(Z)p=25*Math.ceil((p+1)/25);else{if(a<10)a++;else if(a<50)a=5*Math.ceil((a+1)/5);
else if(a<100)a=10*Math.ceil((a+1)/10);else if(a<200)a=25*Math.ceil((a+1)/25);else if(a<400)a=50*Math.ceil((a+1)/50);
else a=100*Math.ceil((a+1)/100)}}a=Math.max(1,a);p=Math.max(0,Math.min(100,p));if(i==-1)p=-1;if(a!=N||p!=i){var s=JSON.parse(JSON.stringify(e));
s.Brsh.v.Dmtr.v.val=a;if(i!=-1)s.Brsh.v.Hrdn.v.val=p;return s}return null};q.Wn.prototype.V2=function(e,A,a,p){if(e.TM.list.length==0)return;
var N=this.id,i;if((N==q.Wt||N==q.Kf||N==q.TD||N==q.BE)&&(A!=null&&A.l(g4.uJ)||this.tg.alt[0]))i="crosshair";
else{var Z=this.AV,s=this.tg.brush;if((N==q.Wt||N==q.Kf)&&a&&this.II&&this.II.length==this.cF.O()*4){var D=a.u.FT(p.x,p.y),n=this.apC(D),S=this.II,F=this.cF,$=new dE(F.x+n.x,F.y+n.y,F.m,F.n),m=jF.MS(s,e.TM.Cu,Z),J=m[0],w=m[1],f=Math.ceil(w.m/Z),b=new dE(Math.round(D.x-f/2),Math.round(D.y-f/2),f,f),L=j.Q(b.O()*4),C,M;
j._M(S,$,L,b);if(Z==1){C=L;M=b}else{var y=new bj(Z,0,0,Z,0,0),Q=q.BD.xM([L,b],y,!0);M=w.clone();M.x=Q.rect.x;
M.y=Q.rect.y;if(M.Kx(Q.rect))C=Q.buffer;else{C=j.Q(M.O()*4);j._M(Q.buffer,Q.rect,C,M)}}var k=this.tg.opacity/255;
for(var c=0;c<C.length;c+=4)C[c+3]=k*(J[c+3]*C[c+3]);jF.adv(new Uint32Array(C.buffer),M,4278190080,4294967295);
i={Hi:C,nd:M,JZ:new k7(M.m/2,M.n/2)}}else i=jF.h9(s,e.TM.Cu,Z,N==q.QU||N==q.iw)}var E=new k4(t.E.L,!0);
E.data={d:t.c.Jn,J5:i};if(this.caller)this.caller.S(E)};q.Wn.prototype.enable=function(e,A,a,p){this.w7=a;
this.caller=A;this.z6(JSON.parse(JSON.stringify(this.tg.brush)));if(e&&e.u.N!=0)this.AV=e.u.N;this.V2(a,p)};
q.Wn.prototype.Mv=function(e,A){if(A==ac.uO){this.tg.brush=e.TM.oS;this.V2(e)}};q.Wn.prototype.vH=function(e,A,a,p,N){for(var i in e)this.tg[i]=e[i];
if(this.tg.alt[0])this.V2(N,p,a)};q.Wn.prototype.aku=function(e){var A=e.RN.length!=0?-1-e.RN[0]:e.g[0],a=e.B[A],p=A<0?1:a.os,N=A<0?e.l8[-A-1]:p<=0?null:p==1?a.tR():a.MH(e).$,i=N?N.channel:a.buffer,Z=(N?N.rect:a.rect).clone();
return[a,p,N,i,Z]};q.Wn.prototype.li=function(e,A){this._i=e.P==null?null:{rect:e.P.rect.clone(),channel:e.P.channel.slice(0)};
var a=this.Ls,p=this.aku(e),N=p[0],i=p[1],Z=p[2];this.Ls=p[3];this.p1=p[4];var s=new dE(0,0,e.m,e.n),D=s.pg(this.p1);
if((this.qK()&&i<=0||D.Kx(this.p1))&&A!=!0){if(a&&a.length==this.Ls.length){a.set(this.Ls);this.Ls=a}else this.Ls=this.Ls.slice(0)}else{if(Z)Z.extend(D);
else N.extend(D)}};q.Wn.prototype.Rm=function(e,A){var a=this.aku(e),p=a[1],N=a[3],i=a[4],Z=[N,i],s=A!=null?A:this.tg.sfrom;
if(p<=0&&s!=0){Z[1]=new dE(0,0,e.m,e.n);Z[0]=e.WR(s==1&&e.g[0]!=e.B.length-1?e.g[0]:null).slice(0)}this.cF=Z[1].clone();
this.II=Z[0].slice(0)};q.Wn.prototype.Y$=function(e,A,a){if(e.l(g4.uJ)){var p=new k4(t.E.v,!0);p.G=q.Ud;
p.data={d:"pickhere",a9d:a};A.S(p);return!0}return!1};q.Wn.prototype.oZ=function(e,A,a,p,N,i){if(this.id!=q.CR&&!e.VX(this.caller)){this.jl=null;
return}if(this.id!=q.CR&&this.jl)return;this.li(e);var Z=new dE(0,0,e.m,e.n),s=null;if(i!=null){var D=e.RN.length!=0?-1-e.RN[0]:e.g[0],n=e.B[D],S=D<0?e.l8[-D-1]:n.os<=0?null:n.os==1?n.tR():n.MH(e).$;
s=j.Q(Z.O()*4);if(S)q.Wn.TR(this.Ls,this.p1,S.color,s,Z);else j._M(this.Ls,this.p1,s,Z)}var F=this.tg;
if(this.jl&&this.id==q.CR&&F.qsmode!=0&&e.P!=null){}else{var $=A.lM,m=A.dG;if(this.oV=="erase"){var J=$;
$=m;m=J}var w=this.id==q.CR?this.p1:Z;this.jl=new jF(F.brush,A.TM.Cu,A.TM.tV,{a_:N,lW:i,aqZ:F.smth*50/e.u.N,DA:this.id==q.BE||F.emode==1,o7:e.o7},$,m,w,s)}if(this.id==q.CR){this.jl.aeQ(F.brush,F.qsmode==2?0:16777215)}var f=e.u.FT(p.x,p.y);
if(a.l(g4.Kp)&&this.D_){var b=this.D_;this.jl.moveTo(b.x,b.y,p.SI);this.jl.lineTo(.001*b.x+.999*f.x,.001*b.y+.999*f.y,p.SI);
this.jl.lineTo(f.x,f.y,p.SI)}else this.jl.moveTo(f.x,f.y,p.SI);this.D_=f;this.tL=f.clone();this.p5=new am(f,e.u.xj)};
q.Wn.prototype.By=function(e,A,a){if(e&&e.u.N!=0&&e.u.N!=this.AV){this.AV=e.u.N;this.V2(a)}};q.Wn.prototype.EW=function(e,A,a,p){if(this.jl==null)return;
var N=e.B[e.g[0]],i=e.u.FT(p.x,p.y),Z=this.p5.ZF(i,a);if(Z.Kx(this.D_))return 1;this.jl.lineTo(Z.x,Z.y,p.SI);
this.D_=Z;if(this.id==q.Wt||this.id==q.Kf){var s=this.YH(),D=11;s=e.u.mc(i.x-s.x,i.y-s.y);var n=D>>>1,S=new dE(Math.round(s.x)-n,Math.round(s.y)-n,D,D),F=j.Q(S.O()*4);
j.fV(16777215);for(var c=0;c<D;c++)F[(c*D+n)*4+3]=F[(D*n+c)*4+3]=255;e.I.NC=[[F,S]];e.De=!0}};q.Wn.prototype.XV=function(e,A,a,p){if(a.zX!=this.id)return;
if(this.id!=q.CR||e==null)return;if(e.P==null||e.g[0]!=this.a88){this.a88=e.g[0];this.NQ({qsmode:0},A)}};
q.Wn.prototype.U=function(e,A){if(e.RN.length!=0){e.De=!0;return}var a=e.B[e.g[0]];if(A==null){A=this.jl.Nd();
if(this.qK()&&a.os<=0)A=A.Yn(this.p1)}var p=a.os;if(p==1||p==3){var N=Math.round((p==1?a.tR():a.MH(e).$).UO*2.4);
A=A.clone();A.Fu(N,N)}if(A.QP())return;if(p<=0){a.U(A)}if(p==1){a.tR().zv=!0;a.yO(e,A)}if(p==3){a.U(A)}e.U(e.root.er(A,e,e.g[0],!0))};
q.Wn.prototype.$Q=function(e,A,a,p,N){if(this.jl==null)return;this.jl.finish();if(this.id!=q.xS&&this.id!=q.Kf&&this.id!=q.CR)this.Z2(e);
if(this.id==q.Wt||this.id==q.Kf){e.I.NC=[];e.De=!0}if(this.id==q.CR){var i=e.P;e.P=this._i;var Z=new k4(t.E.v,!0);
Z.data={d:"setsel",fQ:this.name,P:i};Z.G=q.aN;A.S(Z);if(this.tg.qsmode==0)this.NQ({qsmode:1},A)}else{this.finish(e,this.jl.$L());
this.jl=null;this.rW=null}this.dir=0};q.Wn.prototype.NQ=function(e,A){for(var a in e)this.tg[a]=e[a];
var p=new k4(t.E.L,!0);p.data={d:t.c.FF,G:this.id,Tf:e};A.S(p)};q.Wn.prototype.qK=function(){var e=this.id;
return e==q.CR||e==q.FD||e==q.Za||e==q.A0||e==q.qh||e==q.yU};q.Wn.prototype.finish=function(e,A,a,p,N){var i=e.RN.length!=0?-1-e.RN[0]:e.g[0],Z=e.B[i],s=i<0?1:Z.os,D=i<0?e.l8[-i-1]:s<=0?null:s==1?Z.tR():Z.MH(e).$,n=D?D.rect:Z.rect,$;
if(this.qK()||!n.Kx(this.p1)){if(D==null){if(this.qK())Z.Yk();else{var S=A.pg(this.p1),F=j.Q(S.O()*4);
j._M(Z.buffer,Z.rect,F,S);Z.buffer=F;Z.rect=S}}else D.Yk();this.U(e,n)}if(s<=0){$=j.Q(A.O()*4);j._M(this.Ls,this.p1,$,A)}else{$=j.Q(A.O());
$.fill(D.color);j.WP(this.Ls,this.p1,$,A)}this.vf(e,!1,a?a:this.name,i,s,A,$,p,N)};q.Wn.prototype.vf=function(e,A,a,p,N,i,Z,s,D){var n=Z;
if(N>0){n=j.Q(i.O()*4);q.Wn.TR(Z,i,0,n,i)}var S=new af(a,this);S.data=[{j:p,Bn:N,nd:i,bD:n}];if(s)S.data.nV=[e.P,null];
if(D)S.data.nV=[this._i,e.P];e.G2(S);if(A)this.Jf(S.data,e);else if(s)e.P=null;q.ML.a8Y(e,S.data)};q.Wn.prototype.rf=function(e,A){this.a0_(e,A,!1)};
q.Wn.prototype.Jf=function(e,A){this.a0_(e,A,!0)};q.Wn.prototype.a0_=function(e,A,a){if(e.d=="drawtemp"){var p=a?e.a1w:e.axb,N=A.B[e.j];
N.b0.y9=p;N.YT(A,0,0,A.P);N.U();A.Xz=!0}else{q.ML.c6(A,e);if(e.nV){A.P=e.nV[a?1:0];A.zQ=!0}}A.U()};q.Wn.prototype.Z2=function(e){this.hX(e,this.oV,this.jl.yn(),this.jl.V0(),this.jl.Nd());
this.U(e)};q.Wn.prototype.hX=function(e,A,a,p,N){var i=this.tg,Z=e.B[e.g[0]],s=e.RN.length!=0?e.l8[e.RN[0]]:Z.os<=0?null:Z.os==1?Z.tR():Z.MH(e).$,D=j.Q(N.O()*4),n,S=Z.xF(0);
if(s==null){if(this.id==q.$K&&A=="heal")j._M(Z.buffer,Z.rect,D,N);else j._M(this.Ls,this.p1,D,N);if(S){n=j.Q(N.O());
j.kI(D,n,3)}}else{q.Wn.TR(this.Ls,this.p1,s.color,D,N)}if(e.P&&A!="qselect"){var F=N.Yn(e.P.rect),$=j.Q(F.O()*4);
if(A=="copy"){var m=j.Q(F.O());j.WP(e.P.channel,e.P.rect,m,F);j._M(D,N,$,F);j.s.Lq(a,p,$,F,m,F,0,F,1,!1)}else{j._M(a,p,$,F);
j.R7(e.P.channel,e.P.rect,$,F)}a=$;p=F}function J(b,gq){var ew=Math.max(gq.x,Math.min(gq.x+gq.m-1,b.x)),dk=Math.max(gq.y,Math.min(gq.y+gq.n-1,b.y));
return new k7(ew,dk)}if(A=="idraw"||A=="ierase"){if(this.rW==null)this.rW=j.Q(this.p1.O());var w=this.tg.samp,f=this.w7.dG,b=J(this.D_,N),L=w==0?b:this.tL,C=L.x,M=L.y,y=q.dS.u3(this.Ls,this.p1,[L,new k7(C-2,M),new k7(C+2,M),new k7(C,M-2),new k7(C,M+2)]);
if(w==2)y=[[f>>>16&255,f>>>8&255,f>>>0&255,255]];var Q=q.dS.bQ(D,N,b,y,this.tg.wconf),k=j.Q(N.O());j.WP(this.rW,this.p1,k,N);
j.ab.pg(Q,k,k);j.WP(k,N,this.rW,this.p1);j.R7(k,N,a,p);A=A.slice(1)}if(A=="erase"&&(q.ML.a6T(e)!=16777215||s))A="draw";
if(A=="draw")j.s.eZ(i.bmode,a,p,D,N,N,i.opacity);else if(A=="erase"){var E=j.Q(N.O()*4);j._M(a,p,E,N);
if(s==null){var _=j.Q(N.O());j.kI(E,_,3);j.IA(_,i.opacity);j.rQ(_);j.R7(_,N,D,N)}else{j.fV(E,0,4278190080);
j.s.eZ("norm",E,N,D,N,N,i.opacity)}}else if(A=="clone"||A=="heal"){var v=this.YH(),V=this.cF.clone();
V.offset(v.x,v.y);var R=N.clone();R.Fu(1,1);var h=j.Q(R.O()*4),P=j.Q(R.O());j._M(a,p,h,R);j.kI(h,P,3);
j.fV(h,0);if(s==null){j._M(this.II,V,h,R);var H=j.Q(R.O());j.kI(h,H,3);j.t_(H,P)}else q.Wn.TR(this.II,V,s.color,h,R);
if(A=="clone"){j.Ao(P,h,3);j.s.eZ(i.bmode,h,R,D,N,N,i.opacity)}if(A=="heal"){var U=P.slice(0);j.round(U,20);
var X=j.Q(R.O()*4);if(s==null)j._M(this.Ls,this.p1,X,R);else q.Wn.TR(this.Ls,this.p1,s.color,X,R);j.s.Lq(h,R,X,R,U,R,0,R,1,!1);
j.x5.hb(X,U,R);j.s.Lq(X,R,D,N,P,R,0,N,1,!1)}}else if(A=="dodge"||A=="burn"){var h=j.Q(N.O()*4),T=1,I=0,o=0,l=0;
j._M(a,p,h,N);var x=N.O()*4,K=q.Wn.j9;if(this.c8){if(A=="dodge")A="burn";else A="dodge"}var O=i.rng;
if(A=="dodge"){I=[1-T/2,1,1+T][O];o=[1,1/(1+T),1][O];l=[T/2,0,0][O]}if(A=="burn"){I=[1/(1-T/2),1,1-T/2][O];
o=[1,1+T,1][O];l=[-(T/2)/(1-T/2),0,0][O]}for(var c=0;c<x;c+=4){var g=h[c+3];D[c+0]=K(D[c+0],I,o,l,g);
D[c+1]=K(D[c+1],I,o,l,g);D[c+2]=K(D[c+2],I,o,l,g)}}else if(A=="sponge"||A=="redeye"){var h=j.Q(N.O()*4),P=j.Q(N.O());
j._M(a,p,h,N);j.kI(h,P,3);j.GZ(D,h);var W=i.smode;if(this.c8)W=1-W;var d=hZ.T$("hue2");if(A=="sponge")g1.C6(d,0,[0,[-50,46][W],[6,5][W]]);
else g1.C6(d,1,{uf:[265,305,25,55],e6:[0,-90,-70]});var gT=a7.EN("hue2",d);a7.Eo(gT,h,h,N);j.s.Lq(h,N,D,N,P,N,0,N,1,!1)}else if(A=="copy")j._M(a,p,D,N);
else if(A=="sheal"){var h=j.Q(N.O()*4),P=j.Q(N.O());j._M(a,p,h,N);j.kI(h,P,3);h.fill(0);var r=this.II,G=this.cF;
if(s){r=j.Q(G.O()*4);q.Wn.TR(this.II,G,0,r,G)}var Y=j.qJ.hb(r,G,P,h,N);if(Y!=0)j._M(r,G,h,N);if(this.tg.sfrom==0)j._M(h,N,D,N);
else{j._M(this.Ls,this.p1,D,N);j.Ao(P,h,3);j.s.eZ("norm",h,N,D,N,N,1)}}else if(A=="qselect"){var fk=this.p1,eJ=fk.m,eS=fk.n,gL=eJ*eS,cX=this.jl.yn(),y=this.Ls,kj=q.ns.Y4,P=kj.Hk;
P.fill(128);for(var c=0;c<gL;c++){var gq=cX[c<<2],iL=cX[(c<<2)+3];if(iL==255&&(gq==0||gq==255))P[c]=gq}P[0]=P[eJ-1]=0;
P[(eS>>>1)*eJ]=P[(eS>>>1)*eJ+eJ-1]=0;q.ku.HS(kj,!0);e.P={rect:fk,channel:kj.P.slice(0)};e.zQ=!0}if(s==null){if(S)j.Ao(n,D,3);
j._M(D,N,Z.buffer,Z.rect)}else q.Wn.l2(D,N,s)};q.Wn.YH=function(){return null};q.Wn.j9=function(e,A,a,p,N){var i=e*(1/255),Z=p+A*Math.pow(i,a),s=Math.round(Z*N+i*(255-N));
return Math.max(0,Math.min(255,s))};q.Wn.TR=function(e,A,a,p,N){var i=j.Q(N.O());i.fill(a);j.WP(e,A,i,N);
p.fill(255);j.DC(i,p)};q.Wn.l2=function(e,A,a){var p=j.Q(A.O());j.U2(e,p);j.WP(p,A,a.channel,a.rect)};
q.ns=function(e,A,a){q.$w.call(this,e,A,a);this.tg={binop:0,feat:0,cstr:{Uz:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.LD=new k7(-1,-1);this.$Y=new k7(-1,-1);this.tr="default";this.p2=null;this.mz=!1;this.d4=new eV;
this.Bh=!1;this.ds=null;this.zO=null;this.WT=!1;this.mE=!1};q.ns.prototype=new q.$w;q.ns.prototype.af9=function(){var e=this.tg,A=[e.binop,e.feat];
if(this.id==q.dC)A.push(e.wconf);return A};q.ns.prototype.avs=function(e,A,a){var p=this.tg;p.binop=e[0];
p.feat=e[1];p.wconf=e[2];this.e8(a)};q.ns.prototype.e8=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.FF,G:this.id,tg:this.tg};
e.S(A)};q.ns.Y4={key:""};q.ns.qf=function(e,A,a){var p={_h:e,h2:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(A)p.h2.T=A;if(a!=null)p.h2.AntA={t:"bool",v:a};return p};q.ns.k7=function(e,A,a){return q.ns.qf("set",{t:"Objc",v:{classID:e,Top:{t:"UntF",v:{type:"#Pxl",val:A.y}},Left:{t:"UntF",v:{type:"#Pxl",val:A.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:A.y+A.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:A.x+A.m}}}},a)};
q.ns.cx=function(e,A,a){var p=[],N=[],Z="set";for(var c=0;c<e.length;c+=2){p.push(e[c]);N.push(e[c+1])}var i={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:p},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:N}]}}}};
if(A)Z=["set","addTo","subtractFrom","interfaceWhite"][A];return q.ns.qf(Z,i,a)};q.ns.au8=function(e,A,a){var p={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:e.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:e.y}}}},N=q.ns.qf("set",p);
N.h2.Tlrn={t:"long",v:A[0]};N.h2.AntA={t:"bool",v:A[1]};N.h2.Cntg={t:"bool",v:A[2]};if(a==!0)N.h2.Mrgd={t:"bool",v:a};
return N};q.ns.ec=function(e){return q.ns.qf("set",{t:"enum",v:{Ordn:e?"Al":"None"}})};q.ns.eD=function(e,A,a){var p={classID:"null"};
if(e!="border")p.selectionModifyEffectAtCanvasBounds={t:"bool",v:a};var N={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[e[0]];
p[N]={t:"UntF",v:{type:"#Pxl",val:A}};return{_h:e,h2:p}};q.ns.acg=function(e,A,a){var p={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},N={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:A}}]};
if(a)N.v.push({t:"name",v:{classID:"Lyr",val:a}});var i=[{classID:"null",null:p,T:N},{classID:"null",null:N,T:p},{classID:"null",null:N,From:p},{classID:"null",null:N,With:p}],Z=["set","add","subtract","interfaceIconFrameDimmed"];
return{_h:Z[e],h2:i[e]}};q.ns.a84=function(e,A){var a=new k4(t.E.L,!0);a.data={d:t.c.iK,hP:ac.VH};if(!A.Z8)e.S(a);
a.data={d:t.c.iK,hP:ac.O7};if(!A.tz.ar)e.S(a)};q.ns.prototype.nc=function(e,A,a,p,N){q.ns.a84(A,N);this.p2=A;
var i=e.d,Z,s,D=new dE(0,0,a.m,a.n),dK=!1,ha,dW,fN,cQ;if(i=="fromAction"){var n=e.Rl,S=n._h,F=n.h2,$=F?F.selectionModifyEffectAtCanvasBounds:null,m=$&&$.v;
if(S=="colorRange"){if(F.Clrs){var J=F.Clrs.v.Clrs,w=0,f=255,b=["Shdw","Mdtn","Hghl"].indexOf(J),y=.4;
if(b==0)f=60;else if(b==1){w=100;f=150}else w=190;var L=["shadows","midtones","highlights"][b],C=F[L+"LowerLimit"],M=F[L+"UpperLimit"];
if(C)w=C.v;if(M)f=M.v;var Q=F[L+"Fuzziness"];if(Q)y=Q.v/100;Z=q.ns.b7(a,w,f,y,!0)}else{var w=F.Mnm.v,f=F.Mxm.v,y;
w={SA:w.Lmnc.v,gg:w.A.v,k:w.B.v};f={SA:f.Lmnc.v,gg:f.A.v,k:f.B.v};y=F.Fzns.v/200;Z=q.ns.b7(a,w,f,y)}s=[7,8]}else if(S=="inverse"){if(a.P==null){alert("No selection!");
return}Z={channel:j.Q(D.O()),rect:D};j.WP(a.P.channel,a.P.rect,Z.channel,Z.rect);j.rQ(Z.channel);s=[7,2]}else if(S=="expand"){var k=F.By.v.val,E=a.P.rect.clone();
E.Fu(k,k);var _=j.Q(E.O()),v=j.Q(E.O());j.WP(a.P.channel,a.P.rect,v,E);j.style.stroke(v,_,E,k);Z={channel:_,rect:E};
s=[7,4]}else if(S=="contract"){var k=F.By.v.val,V=a.P.rect.clone();V.Fu(1,1);if(!m)V=V.Yn(D);var v=j.Q(V.O()),R=j.Q(v.length);
j.WP(a.P.channel,a.P.rect,v,V);j.rQ(v);j.style.stroke(v,R,V,k);j.rQ(R);Z={channel:R,rect:V};j.Yk(Z);
s=[7,5]}else if(S=="border"){var k=F.Wdth.v.val;Z=q.ns.auT(a.P,k/2,k/2);s=[7,9]}else if(S=="feather"||S=="smoothness"){var k=F.Rds.v.val;
Z=q.ns.apU(a.P,k,S=="smoothness",D,m);s=S=="feather"?[7,6]:[19,3,0]}else if(S=="move"){var h=F.T.v,E=a.P.rect.clone();
E.x+=h.Hrzn.v.val;E.y+=h.Vrtc.v.val;Z={channel:a.P.channel,rect:E};s=[7,7]}else if(S=="grow"||S=="similar"){var P=this.tg.wconf.slice(0);
if(F.Tlrn)P[0]=F.Tlrn.v;P[2]=S=="grow";var H=a.WR(),U=new dE(0,0,a.m,a.n),X=a.P.rect,x=Math.round(Math.sqrt(X.O())/10),K=j.Q(U.O());
j.WP(a.P.channel,X,K,U);var T=[];for(var I=0;I<X.n;I+=x)for(var o=(X.O()+I)%x;o<X.m;o+=x)if(a.P.channel[I*X.m+o]==255){var l=new k7(X.x+o,X.y+I);
T.push(l);if(P[2])j.ab.pg(q.dS.bQ(H,U,l,null,P),K,K)}if(!P[2])j.ab.pg(q.dS.bQ(H,U,l,q.dS.u3(H,U,T),P),K,K);
Z={channel:K,rect:U};s=S=="grow"?"Grow Selection":"Similar Selection";console.log(F)}else{var O=F.null.v,g=F.AntA!=null&&F.AntA.v;
function W(iV){var kh=iV.Top.v.val,bA=iV.Left.v.val;return new dE(bA,kh,iV.Rght.v.val-bA,iV.Btom.v.val-kh)}function d(iV){var kh=iV[0].arr,hT=iV[1].arr,gi={w:[],F:[]};
for(var c=0;c<kh.length;c++){gi.F.push(c==0?"M":"L");gi.w.push(kh[c],hT[c])}gi.F.push("Z");return gi}var gT=["set","addTo","subtractFrom","interfaceWhite"].indexOf(S),r=F.T?F.T.v:null;
if(r&&r.classID=="Elps"){Z=this.ayi(q.AD.a6O(W(r)));s=[10,4]}else if(r&&r.classID=="Rctn"){var G=W(r);
Z={channel:j.Q(G.O()),rect:G.clone()};Z.channel.fill(255);s=[10,15]}else if(r&&r.classID=="ObSl"){var G=W(r),Y=q.ns.Y4,fk=Y.rect,eJ=Y.Hk,eS=fk.m,gL=fk.n,cX=G.x-fk.x,kj=cX+G.m-1,gq=Math.max(cX,Math.min(kj,cX+kj>>>1)),iL=G.y-fk.y,ew=iL+G.n-1,dk=Math.max(iL,Math.min(ew,iL+ew>>>1)),j9=Math.max(cX,0),fh=Math.min(kj,eS),g9=Math.max(iL,0),k6=Math.min(ew,gL);
eJ.fill(128);if(0<=iL)for(var o=j9;o<fh;o++)eJ[iL*eS+o]=0;if(ew<gL)for(var o=j9;o<fh;o++)eJ[ew*eS+o]=0;
if(0<=cX)for(var I=g9;I<k6;I++)eJ[I*eS+cX]=0;if(kj<eS)for(var I=g9;I<k6;I++)eJ[I*eS+kj]=0;var jx=q.rX.azP,fV=Math.round(G.m*jx),ao=Math.round(G.n*jx);
for(var o=Math.max(0,gq-fV);o<Math.min(eS,gq+fV);o++)eJ[dk*eS+o]=255;for(var I=Math.max(0,dk-ao);I<Math.min(gL,dk+ao);
I++)eJ[I*eS+gq]=255;q.ku.HS(Y,!0);Z={channel:Y.P.slice(0),rect:fk.clone()};s=[10,44]}else if(r&&r.classID=="Plgn"){Z=this.ayi(d(r.Pts.v.arr));
s=[10,9]}else if(r&&r.classID=="Pnt"){Z=q.dS.aoC(a,new k7(r.Hrzn.v.val,r.Vrtc.v.val),[F.Tlrn.v,g,F.Cntg==null||F.Cntg.v],F.Mrgd?F.Mrgd.v:!1);
s=[10,12]}else if(r&&r.Ordn=="None"){Z=null;s=[7,1]}else if(r&&r.Ordn=="Al"){var b8=D;if(a.g.length!=0){var ke=a.root.WG(a.g[0]);
while(ke.parent&&ke.parent.parent)ke=ke.parent;if(ke.j.add.artb)b8=ke.j.jP()}Z={channel:j.Q(b8.O()),rect:b8};
Z.channel.fill(255);s=[7,0]}else if(r&&r[0]&&r[0].v.keyID=="WrPt"){var gj={d:"frompath",U9:[-1,0,0]};
this.nc(gj,A,a,p,N);return}else{var jf=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(S),ay=S=="set"?r:O,fz=ay[0].v.enum,gj;
if(fz=="Trsp"||fz=="Msk"||fz=="vectorMask"||fz=="Trgt"){var ei=a.g[0];if(ay.length==2)ei=gb.Hb(a,ay[1]);
var hC=["Trsp","Msk","vectorMask"].indexOf(fz);if(fz=="Trgt"&&a.B[ei].os==1)hC=1;gj={d:"fromlayer",U9:[ei,hC,jf]}}else{if(ay[0].t=="name"){var ei=0;
for(var c=0;c<a.l8.length;c++)if(a.l8[c].name==ay[0].v.val)ei=c;gj={d:"fromchannel",U9:[-5-ei,0,jf]}}else{var iI=["RGB","Rd","Grn","Bl"].indexOf(fz);
gj={d:"fromchannel",U9:[-1-iI,0,jf]}}}this.nc(gj,A,a,p,N);return}if(Z){if(!g)j.round(Z.channel);if(F.Fthr)Z=q.ns.apU(Z,F.Fthr.v.val,!1);
if(S!="set"&&a.P!=null)Z=j.ab.yz(Z,a.P,gT)}}if(S=="expand"||S=="contract")if(!m&&!D.contains(Z.rect)){var gQ=Z.rect.Yn(D),cb=j.Q(gQ.O());
j.WP(Z.channel,Z.rect,cb,gQ);Z.channel=cb;Z.rect=gQ}}if(i=="qmask"){dK=!0;var h6=a.h_(),U=new dE(0,0,a.m,a.n);
if(h6){Z=h6.rect.Kx(U)&&j.ne(h6.channel,255)?null:{rect:h6.rect.clone(),channel:h6.channel.slice(0)};
ha=h6}else{Z=null;dW=new u.j_;dW.color=0;dW.name="Quick Mask";dW.MC=!0;if(a.P){dW.rect=a.P.rect.clone();
dW.channel=a.P.channel.slice(0)}else{dW.rect=U;dW.channel=j.Q(dW.rect.O());dW.channel.fill(255)}}s=[6,6,1];
a.Xz=!0}if(i=="setsel"){Z=e.P;s=e.fQ}if(i=="crange"){var w=e.z$,f=e.el;Z=q.ns.b7(a,w,f,e.GR);s=[7,8]}if(i=="fromlayer"||i=="fromchannel"||i=="frompath"){var hh=e.U9[0],hC=e.U9[1],gT=e.U9[2];
if(i=="fromlayer"){if(hh==null)hh=a.g[0];var bA=a.B[hh];if(hC==0){var co=bA.rect,ej=bA.buffer;if(co.QP())return;
var bk=j.Q(ej.length>>>2);j.kI(ej,bk,3);Z={channel:bk,rect:co.clone()}}else{if(bA.$==null)bA.yO(a);var h5=hC==1?bA.tR():bA.$;
Z=q.ns.aih(h5,D)}this.track(q.ns.acg(gT,["Trsp","Msk"][hC],bA.getName()))}else if(i=="frompath"){var bg=a.sz(),aQ=bg[1],bg=bg[0],e0=!0;
if(hh==null)if(bg.length==0||aQ.length==0)return;var fw=bg[aQ[0]];if(hh!=null)for(var c=0;c<bg.length;
c++)if(bg[c].g2==hh)fw=bg[c];var h5=fw.add.vmsk.tR(),jC=h5.V0();if(jC.O()==0)return;var bk=h5.W8();if(e.U9[3]!=null)e0=e.U9[3];
if(!e0){bk=bk.slice(0);j.round(bk)}fN=[JSON.stringify(a.Lj),JSON.stringify(a.AH)];cQ=["[]","[]"];a.Lj=[];
a.AH=[];Z={channel:bk,rect:jC}}else{if(hh==null)hh=q.ns.azJ(a);Z=q.ns.amv(a,hh)}if(gT!=0&&a.P)Z=j.ab.yz(Z,a.P,gT);
s=[14,11]}if(Z!=null&&j.ne(Z.channel,0)){Z=null;s=[7,1]}if(Z)j.Yk(Z);var eU=new af(s,this);eU.data={d:"changesel",_i:a.P,zE:Z,h_:dK,aez:ha,aqU:dW,Ol:fN,ah$:cQ};
a.G2(eU);this.Jf(eU.data,a)};q.ns.azJ=function(e){var A=0;if(e.RN.length!=0)A=-5-e.RN[0];else if(JSON.stringify(e.u.$n)=="[1,1,1]")A=-1;
else A=-2-e.u.$n.indexOf(1);return A};q.ns.amv=function(e,A){var a,p=new dE(0,0,e.m,e.n);if(-5<A&A<0){var N=-A-1,i=e.WR(),Z=j.Q(p.O());
if(N==0)j.U2(i,Z);else j.kI(i,Z,N-1);a={channel:Z,rect:p.clone()}}if(A<-4){a=q.ns.aih(e.l8[-A-5],p)}return a};
q.ns.aih=function(e,A){var a,p;if(e.kq()==0){p=e.V0().clone();if(p.O()==0)return;a=e.W8()}else{p=A;a=j.Q(p.O());
e.wx(p,a)}return{channel:a,rect:p}};q.ns.prototype.I1=function(e){return this.Bh||e.x2&&this.id!=q.y6};
q.ns.prototype.qO=function(e,A,a){var p=new k4(A,!0);p.data=a;e.S(p)};q.ns.prototype.a45=function(e,A){var a=new k4(t.E.L,!0);
a.data={d:t.c.Jn,J5:A};e.S(a)};q.ns.prototype.V0=function(e,A,a){A=e.P==null||this.d4.t6(1)||this.d4.Cs(1)?A:null;
var p=this.LD,N=this.$Y;if(a){p.x=Math.max(0,Math.min(e.m,p.x));p.y=Math.max(0,Math.min(e.n,p.y));N.x=Math.max(0,Math.min(e.m,N.x));
N.y=Math.max(0,Math.min(e.n,N.y))}var i=q.oW.Pf(p,N,A,!0,this.tg.cstr),Z=i[0].x,s=i[0].y,D=new dE(Z,s,i[1].x-Z,i[1].y-s);
if(a){D.x=Math.max(D.x,0);D.y=Math.max(D.y,0)}return D};q.ns.prototype.MD=function(e,A,a,p,N){this.mE=!0;
if(this.Hd())return;this.p2=A;this.mz=!1;this.d4.MD(p);this.LD=e.u.FT(N.x,N.y);this.LD=q.GS.zp(e,this.LD,a);
if(this.agf(e,this.LD,p)){this.Bh=!0;this.ds=e.P.rect.clone();return}this.ME(e,a,p,N);e.u.IT=new dE};
q.ns.prototype.agf=function(e,A,a){var p=a.l(g4.Kp),N=a.l(g4.uJ);if(e.P&&!p&&!N&&this.tg.binop==0)return j.x4(A,e.P.channel,e.P.rect);
return!1};q.ns.prototype.D1=function(e,A,a,p,N){this.p2=A;if(this.WT)return;var i=e.u.FT(N.x,N.y);if(k7.nR(this.LD,i)*e.u.N>5){this.mz=!0;
this.d4.D1()}if(p.l(g4.QD)){if(this.zO==null)this.zO=new k7(i.x-this.LD.x,i.y-this.LD.y);this.LD.x=i.x-this.zO.x;
this.LD.y=i.y-this.zO.y}else this.zO=null;this.$Y=i;if(!this.Bh)this.$Y=q.GS.zp(e,this.$Y,a);if(this.agf(e,this.$Y,p))this.a45(A,"move");
else this.a45(A,this.tr);if(this.Bh){var Z=this.ds.clone();Z.x+=this.$Y.x-this.LD.x;Z.y+=this.$Y.y-this.LD.y;
var s=q.GS.rg(e,Z,a);e.P.rect.x=Math.round(this.$Y.x-this.LD.x+this.ds.x+s[0]);e.P.rect.y=Math.round(this.$Y.y-this.LD.y+this.ds.y+s[1]);
e.zQ=!0;q.GS.hj(e,Z,s);return}this.m3(e,a,p,N,A);if(e.u.IT)e.u.IT=this.V0(e,p)};q.ns.prototype.Hd=function(){return!1};
q.ns.prototype.$Q=function(e,A,a,p,N,i){var Z=this.mE;this.mE=!1;if(i||!Z)return;e.u.IT=null;this.$Y=e.u.FT(N.x,N.y);
this.$Y=q.GS.zp(e,this.$Y,a);if(this.Bh){this.Bh=!1;if(e!=null&&e.I.bz){e.I.bz=null;e.De=!0}if(this.$Y.Kx(this.LD)&&this.TU()==0){this.qO(A,t.E.wH,q.ns.ec());
return}this.af7(e,this.ds,e.P.rect.clone());return}this.fG(e,a,p,N,A);q.ns.a84(A,a);this.d4.$Q();this.yQ(A)};
q.ns.prototype.af7=function(e,A,a){var p=e.rU();if(p!=null&&p.G==this&&p.data.d=="movesel"){}else{p=new af([7,7],this);
p.data={d:"movesel",yX:A};e.G2(p)}p.data.Gf=a;this.Jf(p.data,e)};q.ns.prototype.jZ=function(e,A,a,p,N){this.WT=!0};
q.ns.prototype.rZ=function(e,A,a,p,N){var i=new k4(t.E.L,!0);i.data={d:t.c.FF,G:this.id,AQ:N,Ru:e,PC:a};
A.S(i);this.WT=!1};q.ns.prototype.CE=function(e,A,a,p){this.d4.CE(p);if(e!=null&&e.P!=null){var N=p._X();
if(N.x!=0||N.y!=0){var i=e.P.rect.clone();i.x+=N.x;i.y+=N.y;this.af7(e,e.P.rect.clone(),i)}}this.yQ(A)};
q.ns.prototype.yQ=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.FF,G:this.id,RZ:this.TU()};e.S(A)};
q.ns.prototype.TU=function(){var e=this.d4.t6(0),A=this.d4.Cs(0);return q.ns.Y2(this.tg.binop,e,A)};
q.ns.Y2=function(e,A,a){if(A)e=1;if(a)e=2;if(A&&a)e=3;return e};q.ns.prototype.finish=function(e,A,a,p){var N=e.P,i=this.getSelection(e,A,a,p);
if(i==null)i=q.ns.ec();else{var Z=this.tg.feat,s=this.TU();if(Z!=0)i.h2.Fthr={t:"UntF",v:{type:"#Pxl",val:Z}};
if(s!=0&&s!=4)i._h=["","addTo","subtractFrom","interfaceWhite",""][s]}this.qO(this.p2,t.E.wH,i);this.LD.rq(-1,-1);
this.$Y.rq(-1,-1)};q.ns.prototype.getSelection=function(e,A,a,p){return null};q.ns.prototype.ME=function(e,A,a,p){};
q.ns.prototype.m3=function(e,A,a,p){};q.ns.prototype.fG=function(e,A,a,p){};q.ns.prototype.rf=function(e,A){var a=e.d;
if(a=="changesel")A.P=e._i;if(a=="movesel")A.P.rect=e.yX;if(e.h_){if(e.aez){A.RN=[A.l8.length];A.l8.push(e.aez)}else{A.l8.pop();
A.RN=[]}}if(e.Ol){A.Lj=JSON.parse(e.Ol[0]);A.AH=JSON.parse(e.Ol[1])}A.zQ=!0};q.ns.prototype.Jf=function(e,A){var a=e.d;
if(a=="changesel")A.P=e.zE;if(a=="movesel")A.P.rect=e.Gf;if(e.h_){if(e.aqU){A.RN=[A.l8.length];A.l8.push(e.aqU)}else{A.l8.pop();
A.RN=[]}}if(e.Ol){A.Lj=JSON.parse(e.ah$[0]);A.AH=JSON.parse(e.ah$[1])}A.zQ=!0};q.ns.prototype.vH=function(e){this.tg=e.tg};
q.ns.prototype.ayi=function(e){var A=j.p.fX(e.w);if(A.QP())return null;var a=j.wv(A.m,A.n);a.save();
a.beginPath();a.translate(-A.x,-A.y);Typr.U.pathToContext({cmds:e.F,crds:e.w},a);a.closePath();a.fill();
a.restore();var p=j.Q(A.O()),N=a.getImageData(0,0,A.m,A.n);j.kI(N.data,p,3);return{rect:A,channel:p}};
q.ns.apU=function(e,A,a,p,N){if(a)A=Math.round(A*.7);var i=Math.ceil(2.6*A),Z=e.rect.clone();Z.Fu(i,i);
if(p&&!N)Z=Z.Yn(p);var s=j.Q(Z.O()),D=j.Q(s.length);j.WP(e.channel,e.rect,D,Z);j.Vr.vq(D,s,Z,A);if(a){var n=s.length;
for(var c=0;c<n;c++){var S=(s[c]-128)*A*2.5;s[c]=Math.max(0,Math.min(255,Math.round(128+S)))}}return{channel:s,rect:Z}};
q.ns.auT=function(e,A,a){var p=Math.max(1,Math.ceil(a)),N=e.rect.clone();N.Fu(p,p);var i=N.O(),Z={channel:j.Q(i),rect:N},s=j.Q(i);
j.WP(e.channel,e.rect,s,Z.rect);if(a!=0)j.style.stroke(s,Z.channel,Z.rect,a);else j.GZ(s,Z.channel);
var D=j.Q(i);j.rQ(s);if(A!=0)j.style.stroke(s,D,Z.rect,A);else j.GZ(s,D);j.ab.Yn(Z.channel,D,Z.channel);
return Z};q.ns.b7=function(e,A,a,p,N){var i=new dE(0,0,e.m,e.n),Z=e.WR();if(e.P){var s=e.P.rect.Yn(i),D=j.Q(s.O()*4);
j._M(Z,i,D,s);i=s;Z=D}var n=i.O(),S=j.Q(n),F=1/p;if(N){if(A>=a)A=a-1;var $=A*(1-p),m=A,J=a,w=a+(255-a)*p,f=$==m?0:1/(m-$),b=J==w?0:1/(w-J);
for(var c=0;c<n;c++){var L=c<<2,C=j.hT(Z[L],Z[L+1],Z[L+2]),M=0;if(C<$)M=0;else if(C<m)M=(C-$)*f;else if(C<=J)M=1;
else if(C<=w)M=1-(C-J)*b;else M=0;S[c]=Z[L+3]*M*M}}else for(var c=0;c<n;c++){var L=c<<2,y=j.v_(Z[L],Z[L+1],Z[L+2]),M=j.W2(y,A,a,p,F);
S[c]=Z[L+3]*M}return{rect:i,channel:S}};q.xr=function(){q.Wn.call(this,[10,18],q.To,"tools/blur");this.oV="copy"};
q.xr.prototype=new q.Wn;q.xr.prototype.MD=function(e,A,a,p,N){var i=p.l(g4.uJ)?jF.w1:jF.To;this.oZ(e,a,p,N,this.tg.strn,i);
if(this.jl==null)return;this.Z2(e)};q.xr.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);if(this.kv)this.k2(e,a,N);
if(this.jl==null)return;if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.gY=function(){q.Wn.call(this,[10,0],q.TD,"tools/brush");
this.oV="draw"};q.gY.prototype=new q.Wn;q.gY.prototype.MD=function(e,A,a,p,N){if(this.Y$(p,A,N))return;
this.oZ(e,a,p,N,this.tg.flow);if(this.jl==null)return;this.Z2(e)};q.gY.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);
if(this.kv)this.k2(e,a,N);if(this.jl==null)return;if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.MX=function(){q.Wn.call(this,[10,42],q.QU,"tools/crepl");
this.oV="idraw";this.tg.bmode="hue "};q.MX.prototype=new q.Wn;q.MX.prototype.MD=function(e,A,a,p,N){if(this.Y$(p,A,N))return;
this.oZ(e,a,p,N,this.tg.flow);if(this.jl==null)return;this.Z2(e)};q.MX.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);
if(this.kv)this.k2(e,a,N);if(this.jl==null)return;if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.d5=function(){q.Wn.call(this,[10,43],q.yU,"tools/redeye");
this.tg.smode=0;this.oV="redeye"};q.d5.prototype=new q.Wn;q.d5.prototype.MD=function(e,A,a,p,N){this.oZ(e,a,p,N,this.tg.flow);
if(this.jl==null)return;this.Z2(e)};q.d5.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);if(this.kv)this.k2(e,a,N);
if(this.jl==null)return;if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.WY=function(){q.Wn.call(this,[10,38],q.BE,"tools/pencil");
this.oV="draw"};q.WY.prototype=new q.Wn;q.WY.prototype.MD=function(e,A,a,p,N){if(this.Y$(p,A,N))return;
this.oZ(e,a,p,N,this.tg.flow);if(this.jl==null)return;this.Z2(e)};q.WY.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);
if(this.kv)this.k2(e,a,N);if(this.jl==null)return;if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.hl=function(){q.Wn.call(this,[10,22],q.A0,"tools/burn");
this.oV="burn"};q.hl.prototype=new q.Wn;q.hl.prototype.MD=function(e,A,a,p,N){this.oZ(e,a,p,N,this.tg.expo/Math.E);
if(this.jl==null)return;this.Z2(e)};q.hl.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);if(this.kv)this.k2(e,a,N);
if(this.jl==null)return;if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.J9=function(e,A,a){q.Wn.call(this,e==""?null:e?e:[10,1],A?A:q.Wt,a?a:"tools/clone");
this.oV="clone";this.KW=null;this.R=null};q.J9.prototype=new q.Wn;q.J9.prototype.MD=function(e,A,a,p,N){var i=this.tg,Z=i.alt[0];
if(p.l(g4.uJ)||p.l(g4.t7)||Z){this.KW=e.u.FT(N.x,N.y);this.R=null;if(Z)this.NQ({alt:[!1]},A);this.Rm(e);
this.V2(a,p,e,N);return}if(this.KW==null){alert(i1.get([15,7,0]));return}this.V2(a,p);this.oZ(e,a,p,N,this.tg.flow);
if(this.jl==null)return;this.R=this.apC(e.u.FT(N.x,N.y));this.Z2(e)};q.J9.prototype.apC=function(e){var A=this.R;
if(A==null||!this.tg.algnd)A=new k7(Math.round(e.x-this.KW.x),Math.round(e.y-this.KW.y));return A};q.J9.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);
if(this.kv)this.k2(e,a,N);if(this.jl==null){if(this.KW!=null)this.V2(a,p,e,N);return}if(!N.x2||this.KW==null)return;
this.EW(e,a,p,N);this.Z2(e)};q.J9.prototype.YH=function(){return this.R};q.v9=function(e,A,a){q.$w.call(this,e,A,a);
this.hk={jj:{Uz:0,x:0,y:0},UE:!1};this.On=!1;this.jH=null;this.cursor=null;this.anU=0;this.FN=null;this.LD=null;
this.Kd=null;this.pq=!1};q.v9.prototype=new q.$w;q.v9.prototype.xV=function(){return this.jH!=null};
q.v9.prototype.I1=function(e){return this.LD!=null||this.jH&&this.jH.al9()};q.v9.prototype.MD=function(e,A,a,p,N){this.FN=N;
var i=e.u.FT(N.x,N.y),Z=this.hk.jj,s=Z.Uz!=0?Z.x/Z.y:null,D=this.pq;this.pq=!1;if(this.jH){var n=this.jH.YO(i,e.u.N);
if(D&&n==null){this.jH.clear(e);this.jH=null}else{this.jH.MD(e,a,p,i,s,!1,N);return}}this.LD=q.GS.zp(e,i,a)};
q.v9.prototype.hA=function(e,A,a){if(a==null)a=[e.x,e.y,e.x+e.m,e.y,e.x+e.m,e.y+e.n,e.x,e.y+e.n];return new bd(a,!0,!1,this.id==q.QE,!0,A,this.id==q.QE?2:0,this.id==q.QE?4:3)};
q.v9.prototype.V2=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.Jn,J5:this.cursor};e.S(A)};q.v9.prototype.enable=function(e,A,a,p){this.p2=A;
this.cursor="crosshair";this.V2(A);if(e!=null&&this.jH==null){var N=e.P?{d0:"cropby",ai0:3}:{d0:"config",hk:this.hk,avr:!0};
this.vH(N,A,e,p,a);if(e.P==null&&this.hk.jj.Uz==0)this.pq=!0}};q.v9.prototype.D1=function(e,A,a,p,N){this.FN=N;
var i=e.u.FT(N.x,N.y);if(!N.x2){var Z="crosshair";if(this.jH){var s=this.jH.YO(i,e.u.N,null,N);if(s)Z=s;
else Z="default"}if(Z!=this.cursor){this.cursor=Z;this.V2(A)}}if(this.jH)this.jH.D1(e,a,p,i);else if(this.LD){if(this.On){e.I.kp={F:["M","L"],w:[this.LD.x,this.LD.y,i.x,i.y]}}else{var D=q.oW.Pf(this.LD,q.GS.zp(e,i,a),p,!0,this.hk.jj),n=D[0].x,S=D[0].y,F=this.Kd=new dE(n,S,D[1].x-n,D[1].y-S);
e.I.kp=j.p.wt(F);q.$w.UL(N,F,e,a)}e.De=!0}};q.v9.a4x=function(e,A,a){var p,N,s,D;if(A<=a){p=A;N=a}else{p=a;
N=A}var i=e-Math.floor((e+Math.PI)/(2*Math.PI))*2*Math.PI;i=Math.abs(i);if(i>Math.PI/2)i=Math.PI-i;var Z=p/(N*Math.sin(i)+p*Math.cos(i));
if(A<=a){s=p*Z;D=N*Z}else{s=N*Z;D=p*Z}return{SB:s,Ps:D}};q.v9.prototype.$Q=function(e,A,a,p,N){this.FN=N;
var i=e.u.FT(N.x,N.y);if(this.jH==null){var Z=this.Kd;if(this.LD&&(Z||this.On)){if(this.On){var s=this.LD,D=i;
if(s.x>D.x){var n=s;s=D;D=n}var s=Math.atan2(-(D.y-s.y),D.x-s.x),S=q.v9.a4x(s,e.m,e.n),F=[0,0,S.SB,0,S.SB,S.Ps,0,S.Ps],$=new bj;
$.translate(-S.SB/2,-S.Ps/2);$.rotate(s);$.translate(e.m/2,e.n/2);j.p.D(F,$,F);this.jH=this.hA(Z,!1,F);
e.I.kp=null;this.On=!1}else{var m=this.hk.jj;this.jH=this.hA(Z,m.Uz!=0)}this.jH.vE(e,a);this.Kd=null;
this.qO(A,t.E.L,{d:t.c.FF,G:this.id,eG:!0});this.LD=null;e.I.NC=[];e.De=!0}return}this.jH.$Q(e,a,p,i);
this.qO(A,t.E.L,{d:t.c.FF,G:this.id,eG:!0});var F=this.jH.$c();if(Math.abs(F[0]-F[4])<2&&Math.abs(F[1]-F[5])<2){this.disable(e,A,null,p);
return}if(Date.now()-this.anU<200&&this.jH.An(i)){this.qT(e,a);this.disable(e,A,a,p);return}this.anU=Date.now()};
q.v9.prototype.CE=function(e,A,a,p){var N=this.jH;if(N==null||this.FN&&this.FN.x2)return;if(p.l(g4.e2)){this.qT(e,a);
this.disable(e,A,a,p)}else if(p.l(g4.EO)){this.disable(e,A,a,p)}else N.CE(e,a,p)};q.v9.a1V=function(e,A,a){var p={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:e[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:e[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:e[1]+e[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:e[0]+e[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:A!=null?A:0}},Dlt:{t:"bool",v:a!=null?a:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{_h:"crop",h2:p}};q.v9.lA=function(e,A){if(A==null)A=[!0,!0,!0,!0];var a={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][e]}}},p=["Top","Left","Btom","Rght"];
for(var c=0;c<4;c++)a[p[c]]={t:"bool",v:A[c]};return{_h:"trim",h2:a}};q.v9.axW=function(e,A,a,p){var N={classID:"null"};
if(p!=null){N.Wdth={t:"UntF",v:{type:"#Pxl",val:e}};N.Hght={t:"UntF",v:{type:"#Pxl",val:A}};N.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][p]}}}if(a!=null)N.Rslt={t:"UntF",v:{type:"#Rsl",val:a}};
return{_h:"imageSize",h2:N}};q.v9.a6L=function(e,A,a){if(a==null)a=4;var p=Math.floor(a/3),N=a%3;return{_h:"canvasSize",h2:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:e}},Hght:{t:"UntF",v:{type:"#Pxl",val:A}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][N]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][p]}}}}};
q.v9.prototype.nc=function(e,A,a,p,N){var i=new dE(0,0,a.m,a.n),Z=[11,3],s=a.l5,D=a.m/2,n=a.n/2,S=1,O,g,W;
if(e.d=="fromAction"){var F=e.Rl,$=F._h,m=F.h2,J=a.m/a.n,w=m.Wdth?m.Wdth.v.val:-1,f=m.Hght?m.Hght.v.val:-1,s=m.Rslt?m.Rslt.v.val:null,b=m.Wdth?m.Wdth.v.type:m.Hght?m.Hght.v.type:-1,L=1,C;
if(b=="#Prc"){if(w!=-1)w=Math.round(a.m*w/100);if(f!=-1)f=Math.round(a.n*f/100)}if($=="imageSize"){if(m.Intr){if(m.Intr.v.Intp=="Nrst")L=0;
if(m.Intr.v.Intp=="bicubicSharper")L=2;if(w==-1&&f==-1){var M=s/a.l5;w=Math.round(a.m*M);f=Math.round(a.n*M)}if(m.CnsP&&m.CnsP.v){if(w==-1)w=Math.round(f*J);
if(f==-1)f=Math.round(w/J)}}else{if(b=="#Prc")s=Math.round(a.l5*(a.m/w));else if(b==-1)s=Math.round(s);
else throw"e";w=a.m;f=a.n}C={d:"imgsize",qN:w,Um:f,Od:s,OV:L}}else if($=="canvasSize"){if(w==-1)w=a.m;
if(f==-1)f=a.n;if(m.Rltv&&m.Rltv.v==!0){if(m.Wdth)w+=a.m;if(m.Hght)f+=a.n}var y=m.Vrtc?m.Vrtc.v.VrtL:"Cntr",Q=m.Hrzn?m.Hrzn.v.HrzL:"Cntr";
C={d:"canvsize",qN:w,Um:f,Ri:3*["Top","Cntr","Btom"].indexOf(y)+["Left","Cntr","Rght"].indexOf(Q)}}else if($=="revealAll"){C={d:"revealAll"}}else if($=="trim"){var k={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[m.trimBasedOn.v.trimBasedOn];
if(k==null)throw"e";var E=["Top","Left","Btom","Rght"],_=[!0,!0,!0,!0];for(var c=0;c<4;c++)if(m[E[c]])_[c]=m[E[c]].v;
C={d:"trim",ako:k,n9:_}}else if($=="crop"){var v,V,R,h;if(m.T){var P=m.T.v,v=Math.round(P.Left.v.val),V=Math.round(P.Top.v.val),R=Math.round(P.Rght.v.val)-v,h=Math.round(P.Btom.v.val)-V}else{var H=a.P.rect;
v=H.x;V=H.y;R=H.m;h=H.n}C={d:"canvsize",qN:R,Um:h,R:new k7(v,V),a5S:m.Dlt!=null&&m.Dlt.v}}else console.log(F);
if(C)this.nc(C,A,a,p,N);return}else if(e.d=="imgsize"){i=new dE(0,0,e.qN,e.Um);if(e.Od)s=e.Od;S=e.OV}else if(e.d=="canvsize"){var U=e.Ri!=null?e.Ri:0;
i=new dE(0,0,e.qN,e.Um);var X=a.m-e.qN,x=a.n-e.Um,K=Math.round(X/2),T=Math.round(x/2);if(U==1||U==4||U==7)i.x=K;
if(U==2||U==5||U==8)i.x=X;if(U==3||U==4||U==5)i.y=T;if(U==6||U==7||U==8)i.y=x;if(e.R){i.x=e.R.x;i.y=e.R.y}}else if(e.d=="rot"&&(e.Z+2*Math.PI)%(Math.PI/2)!=0){var I=j.p.wt(i).w,o=new bj;
o.translate(-D,-n);o.rotate(e.Z);o.translate(D,n);j.p.D(I,o,I);i=j.p.fX(I)}else if(e.d=="rot"&&e.Z!=Math.PI&&e.Z!=-Math.PI){i=new dE(D-a.n/2,n-a.m/2,a.n,a.m);
if((a.m+a.n&1)==1){D=Math.floor(D);n=Math.floor(n);i=new dE(D-Math.floor(a.n/2),n-Math.floor(a.m/2),a.n,a.m);
if((a.m&1)==1&&e.Z!=-Math.PI/2)i.y--;if((a.n&1)==1&&e.Z==-Math.PI/2)i.x--}}else if(e.d=="trim"){Z=[11,12,0];
var l=a.WR(),H=new dE(0,0,a.m,a.n);i=j.cB(l,H,e.ako,e.n9);if(i.QP())i=H}else if(e.d=="revealAll"){Z=[11,12,2];
i=a.root.V0(a,!0)}var d=e.d=="canvsize"&&e.a5S;if(e.d=="imgsize"||e.d=="rot"||e.d=="scl"||d){var gT=new bj;
if(e.d=="imgsize"){Z=[11,10];gT.scale(e.qN/a.m,e.Um/a.n);W=a.ek();for(var c=0;c<W[0].length;c++)W[0][c][1]*=W[0][c][0]==0?gT.gg:gT.pU}else if(d){}else{gT.translate(-D,-n);
if(e.d=="rot")gT.rotate(e.Z);if(e.d=="scl")gT.scale(e.Z.x,e.Z.y);gT.translate(D,n);Z=e.fQ}g=j.K.s1(gT);
O=this._2(a,N,!0,g,S,d?i:null)}else if(e.d=="auto-align"){if(a.g.length<2){alert("Select two or more layers.");
return}var r=[];for(var c=0;c<a.g.length;c++){var G=a.B[a.g[c]];if(!G.JD()&&G.add.SoLd==null){alert("Unsupported layer selected.");
return}if(G.rect.QP()){alert("Empty layer selected.");return}r.push([G.buffer,G.rect])}var Y=j.z_.J6(r,0);
if(Y==null){alert("No similarity found.");return}g=Y[1];var fk=a.g;a.g=a.g.slice(1);O=this._2(a,N,!1,Y.slice(1),S);
a.g=fk;i=a.root.V0(a,!0);Z=[2,10,1]}var eJ=new dE(0,0,a.m,a.n);if(!i.QP()&&(!i.Kx(eJ)||O!=null)){var eS=new af(Z,this);
eS.data={axS:a.l5,Od:s,gs:O,SR:g,Ky:q.v9.ado(a,i,eJ,O!=null)};if(W){eS.data.aA4=a.ek();eS.data.aqa=W}q.v9.a83(a,eS.data,i);
a.G2(eS);this.Jf(eS.data,a)}};q.v9.ado=function(e,A,a,p){if(e.WM.length==0)return null;var N=JSON.stringify(e.WM),i=JSON.parse(N);
q.RK.api(i,A,a,p);i=JSON.stringify(i);return[N,i]};q.v9.prototype._2=function(e,A,a,p,N,i){var Z={B:[],cR:null,X_:null};
if(a){for(var c=0;c<e.B.length;c++)Z.B.push(c);for(var c=0;c<e.GI.length;c++)Z.B.push(-1-c);for(var c=0;
c<e.l8.length;c++)Z.B.push(-1e3-c)}else Z.B=e.g.slice(0);Z.cR=q.BD.jo(e,Z.B,!0);q.BD.Gn(e,A,Z.B,Z.cR,N,p,null,!0,i);
Z.X_=q.BD.jo(e,Z.B,!0);return Z};q.v9.prototype.Jf=function(e,A){if(e.Od)A.l5=e.Od;if(e.Ky)A.WM=JSON.parse(e.Ky[1]);
if(e.gs){q.v9.es(A,j.K.Gr(e.SR));q.BD.Lx(A,e.gs.B,e.gs.X_);if(e.aqa)A.sT(e.aqa)}q.v9.BN(A,e)};q.v9.prototype.rf=function(e,A){if(e.axS)A.l5=e.axS;
if(e.Ky)A.WM=JSON.parse(e.Ky[0]);q.v9.sN(A,e);if(e.sI)A.u.R.Ad(e.sI);A.aoB();if(e.gs){var a=j.K.Gr(e.SR).clone();
a.rQ();q.v9.es(A,a);q.BD.Lx(A,e.gs.B,e.gs.cR);if(e.aA4)A.sT(e.aA4)}};q.v9.es=function(e,A){for(var c=0;
c<e.B.length;c++){var a=e.B[c];if(a.add.artb==null)continue;var p=j.p.wt(a.jP()).w;j.p.D(p,A,p);var N=j.p.fX(p);
a.Mx(N)}};q.v9.Ua=function(e){var A=new dE,a=0,p=e.root.children.length;for(var c=0;c<p;c++){var N=e.root.children[c].j;
if(N.add.artb==null)continue;A=A.pg(N.jP());a++}var i=new dE(0,0,e.m,e.n);if(!A.QP()&&!i.Kx(A))return A;
return null};q.v9.iF=function(e){var A=q.v9.Ua(e);if(A)q.v9.UE(e,A,!0);return A};q.v9.UE=function(e,A,a){var p=e.m,N=e.n,i=A.m,Z=A.n,s=A.x==0&&A.y==0;
if(s&&p==i&&N==Z)return;e.m=i;e.n=Z;var D=[];for(var c=0;c<e.B.length;c++)D.push(c);if(!s)q.GS.jQ(e,D,null,-A.x,-A.y);
for(var c=0;c<e.B.length;c++){e.B[c].yO(e)}e.aoB();if(a){var n=e.u.R,S=e.u.N;n.x+=Math.round((A.x+(i-p)/2)*S);
n.y+=Math.round((A.y+(Z-N)/2)*S)}else e.u.R.rq(0,0);if(e.P)e.P.rect.offset(-A.x,-A.y);var F=e.ek();for(var $=0;
$<F[0].length;$++)if(F[1][$]==-1){var m=e.dc[$];m[1]-=m[0]==0?A.x:A.y}for(var c=0;c<e.l8.length;c++)e.l8[c].rect.offset(-A.x,-A.y)};
q.v9.prototype.vH=function(e,A,a,p,N){if(e.d0=="commit"){this.qT(a,N);this.disable(a,A,null,p)}else if(e.d0=="cancel"){this.disable(a,A,null,p)}var i=null,Z=new dE(0,0,a.m,a.n),s=this.hk.jj;
if(e.d0=="config"){this.hk=e.hk;s=this.hk.jj;if(a==null||!e.avr)return;i=Z;if(s.Uz==1){var D=s.x/s.y;
if(i.m/D<i.n)i.n=Math.round(i.m/D);else i.m=Math.round(i.n*D)}if(s.Uz==2){i.m=s.x;i.n=s.y}i.x=Math.round((a.m-i.m)/2);
i.y=Math.round((a.n-i.n)/2)}if(e.d0=="straighten"){alert("Draw a line in the image.");this.On=!0}if(e.d0=="cropby"){if(a==null)return;
var n=e.ai0,i;if(n==0)i=a.root.V0(a,!0);if(n==1){if(a.g.length==0)alert("No layer is selected.");else{var S=a.root.WG(a.g[0]);
i=S.V0(a,!0)}}if(n==2){if(a.g.length==0)alert("No layer is selected.");else{i=j.cB(a.WR(),Z,0);if(i.QP())i=Z.clone()}}if(n==3){if(a.P!=null)i=a.P.rect;
else alert("There is no selection.")}if(n==4){i=new dE(0,0,a.m,a.n)}}if(i&&i.QP())i=null;if(i!=null){this.jH=this.hA(i,s.Uz!=0);
this.jH.vE(a,N);this.qO(A,t.E.L,{d:t.c.FF,G:this.id,eG:!0})}};q.v9.prototype.qT=function(e,A){var a=this.jH.$c(),p=j.p.fX(a),N=this.awI(e,a),i=!1,Z=this.hk.jj,s=this.hk.UE,D=Z.x,n=Z.y,$;
if(this.id==q.x1&&Z.Uz==2&&N.O()!=D*n){N=new dE(N.x,N.y,D,n);i=!0}var S=j.K.wK(a,N);S=j.K.rQ(S);var F=j.K.jI(S),m=Math.atan2(S[3],S[0]);
if(Math.abs(m)>1e-9||!F||i||s)$=this._2(e,A,!0,S,1,p);var J=new af(this.name,this),w=new dE(0,0,e.m,e.n);
J.data={gs:$,SR:S,sI:e.u.R.clone(),Ky:q.v9.ado(e,N,w,!1)};q.v9.a83(e,J.data,N);e.G2(J);this.Jf(J.data,e);
this.track(q.v9.a1V([p.x,p.y,p.m,p.n],null,s))};q.v9.a83=function(e,A,a){if(a==null)return;A.yX=new dE(0,0,e.m,e.n);
A.Gf=a};q.v9.BN=function(e,A){if(A.Gf==null)return;q.v9.UE(e,A.Gf)};q.v9.sN=function(e,A){if(A.Gf==null)return;
var a=A.yX.clone();a.offset(-A.Gf.x,-A.Gf.y);q.v9.UE(e,a)};q.v9.prototype.awI=function(e,A){var a=j.K.wK(A),p=j.K.jI(a),N=j.K.Gr(a),i=N.Co,Z=N.dW,s=Math.atan2(N.k,N.gg);
N.rotate(s);var D=new dE(i,Z,N.gg,N.pU);if(!p){function n(C,c,M){var y=C[c]-C[M],Q=C[c+1]-C[M+1];return Math.sqrt(y*y+Q*Q)}var S=n(A,0,2),F=n(A,4,6),$=Math.max(S,F),m=n(A,2,4),J=n(A,6,0),w=Math.max(m,J),f=q.v9.ax4(A,e.m/2,e.n/2),b,L;
if(isNaN(f)||f==Infinity||f==-Infinity||Math.min(f,1/f)<.1)f=(S+F)/(m+J);if($/w>f){b=$*1;L=b/f}else{L=w*1;
b=L*f}D.m=b;D.n=L}D.x=Math.round(D.x);D.y=Math.round(D.y);D.m=Math.round(D.m);D.n=Math.round(D.n);return D};
q.v9.ax4=function(e,A,a){var p=e[0]-A,N=e[1]-a,i=e[2]-A,Z=e[3]-a,s=e[6]-A,D=e[7]-a,n=e[4]-A,S=e[5]-a,F=((N-S)*s-(p-n)*D+p*S-N*n)/((Z-S)*s-(i-n)*D+i*S-Z*n),$=((N-S)*i-(p-n)*Z+p*S-N*n)/((D-S)*i-(s-n)*Z+s*S-D*n),m=-(($*D-N)*(F*Z-N)+($*s-p)*(F*i-p))/(($-1)*(F-1));
function J(f){return f*f}var w=Math.sqrt((J(F-1)+J(F*Z-N)/m+J(F*i-p)/m)/(J($-1)+J($*D-N)/m+J($*s-p)/m));
if(F==1&&$==1)w=Math.sqrt((J(Z-N)+J(i-p))/(J(D-N)+J(s-p)));return w};q.v9.prototype.disable=function(e,A,a,p){if(e==null)return;
if(this.jH)this.jH.clear(e);this.jH=null;this.qO(A,t.E.L,{d:t.c.FF,G:this.id,eG:!1})};q.v9.prototype.qO=function(e,A,a,p){var N=new k4(A,!0);
N.data=a;if(p)N.G=p;e.S(N)};q.agW=function(){q.v9.call(this,[10,2],q.x1,"tools/rcrop")};q.agW.prototype=new q.v9;
q.acF=function(){q.v9.call(this,[10,39],q.QE,"tools/pcrop")};q.acF.prototype=new q.v9;q.fs=function(){q.Wn.call(this,[10,21],q.Za,"tools/dodge");
this.oV="dodge"};q.fs.prototype=new q.Wn;q.fs.prototype.MD=function(e,A,a,p,N){this.oZ(e,a,p,N,this.tg.expo/Math.PI);
if(this.jl==null)return;this.Z2(e)};q.fs.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);if(this.kv)this.k2(e,a,N);
if(this.jl==null)return;if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.In=function(){q.Wn.call(this,[10,3],q.FD,"tools/eraser");
this.oV="erase"};q.In.prototype=new q.Wn;q.In.prototype.MD=function(e,A,a,p,N){this.oZ(e,a,p,N,this.tg.flow);
if(this.jl==null)return;this.Z2(e)};q.In.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);if(this.kv)this.k2(e,a,N);
if(this.jl==null)return;if(!N.x2)return;var i=this.EW(e,a,p,N);this.Z2(e)};q.vt=function(){q.Wn.call(this,[10,45],q.iw,"tools/beraser");
this.oV="ierase"};q.vt.prototype=new q.Wn;q.vt.prototype.MD=function(e,A,a,p,N){if(this.Y$(p,A,N))return;
this.oZ(e,a,p,N,this.tg.flow);if(this.jl==null)return;this.Z2(e)};q.vt.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);
if(this.kv)this.k2(e,a,N);if(this.jl==null)return;if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.uR=function(){q.ns.call(this,[10,15],q.aN,"tools/rselect");
this.tr="crosshair"};q.uR.prototype=new q.ns;q.uR.prototype.m3=function(e,A,a,p){if(!p.x2||!this.mz)return;
var N=this.V0(e,a,!0);e.I.kp=j.p.wt(N);e.De=!0;q.$w.UL(p,N,e,A)};q.uR.prototype.fG=function(e,A,a,p){e.I.kp=null;
e.I.NC=[];e.De=!0;this.finish(e,A,a,p)};q.uR.prototype.getSelection=function(e,A,a,p){if(this.LD.Kx(this.$Y)||!this.mz)return null;
var N=this.V0(e,a,!0);if(N.QP())return null;return q.ns.k7("Rctn",N,this.tg.anta)};q.AD=function(){q.ns.call(this,[10,4],q.a3q,"tools/eselect");
this.tr="crosshair"};q.AD.prototype=new q.ns;q.AD.prototype.m3=function(e,A,a,p){if(!p.x2||!this.mz)return;
var N=this.V0(e,a);e.I.kp=q.AD.a6O(N);e.De=!0;q.$w.UL(p,N,e,A)};q.AD.prototype.fG=function(e,A,a,p){e.I.kp=null;
e.I.NC=[];e.De=!0;this.finish(e,A,a,p)};q.AD.prototype.getSelection=function(e,A,a,p){if(this.LD.Kx(this.$Y)||!this.mz)return null;
var N=this.V0(e,a);if(!N.CS(new dE(0,0,e.m,e.n)))return null;return q.ns.k7("Elps",N,this.tg.anta)};
q.AD.a6O=function(e){var A=e.x,a=e.y,p=e.x+e.m,N=e.y+e.n,i=(A+p)/2,Z=(a+N)/2,s=(A-p)/2,D=(a-N)/2,n=.5522848,S={w:[i,Z-D],F:["M","C","C","C","C"]};
S.w.push(i+n*s,Z-D,i+s,Z-n*D,i+s,Z);S.w.push(i+s,Z+n*D,i+n*s,Z+D,i,Z+D);S.w.push(i-n*s,Z+D,i-s,Z+n*D,i-s,Z);
S.w.push(i-s,Z-n*D,i-n*s,Z-D,i,Z-D);return S};q.ap=function(e){q.$w.call(this,[10,5],e?q.Fr:q.Ud,"tools/eyedropper");
this.Rb=null;this.Bi=0;this.jf=null;this.oK=1;this.YY=2;this.azb=!0;this.Bs=!1};q.ap.prototype=new q.$w;
q.ap.prototype.I1=function(e){return e.x2};q.ap.prototype.nc=function(e,A,a,p,N){if(e.d=="pickhere")this.Fx(a,A,N,null,e.a9d);
if(e.d=="supertool")this.Rb=e.G};q.ap.prototype.MD=function(e,A,a,p,N){var i=this.Rb;if(i){i.MD(e,A,a,p,N);
return}this.Bi=a.lM;this.jf=N;var Z=this.Fx(e,null,a,p,N);this.V2(e,A,Z,N)};q.ap.prototype.D1=function(e,A,a,p,N){var i=this.Rb;
if(i){i.D1(e,A,a,p,N);return}var Z=this.jf;if(Z){var s=N.x-Z.x,D=N.y-Z.y,n=1,S=new k7(Z.x+s*n,Z.y+D*n),F=this.Fx(e,null,a,p,S);
this.V2(e,A,F,S,new k7(s*(1-n),D*(1-n)))}};q.ap.prototype.V2=function(e,A,a,p,N){var i=this.azb,Z=this.Bs,n=12,S=11;
if(e.u.N>4)Z=!1;if(!Z&&!i)return;if(N==null)N=new k7(0,0);var s=new dE(0,0,e.m,e.n),D=e.WR(),F=(n*2+1)*S,$=new k7(F/2,F/2),m=new dE(0,0,F,F),J=j.Q(m.O()*4),w=e.u.FT(p.x,p.y),f=Math.floor(w.x),b=Math.floor(w.y),L=new bj;
L.scale(1/S,1/S);L.translate(f-n,b-n);if(Z)j.scale._K(D,s,L,J,m);var C=(n-3.4)*S,M=(n-1.7)*S,y=n*S;for(var Q=0;
Q<F;Q++)for(var k=0;k<F;k++){var E=k7.nR(new k7(k,Q),$);if(E>C){if(i){var _=Math.max(0,C-E+1),v=(Q*F+k)*4,V=J[v+3]<<24|J[v]<<16|J[v+1]<<8|J[v+2],R=255<<24|(Q<y+S*.5?a:this.Bi);
if(E>M){_=Math.max(0,M-E+1);V=R;R=4286611584}else if(!Z){V=R&16777215}J[v+0]=(1-_)*(R>>>16&255)+_*(V>>>16&255);
J[v+1]=(1-_)*(R>>>8&255)+_*(V>>>8&255);J[v+2]=(1-_)*(R>>>0&255)+_*(V>>>0&255);J[v+3]=(1-_)*(R>>>24&255)+_*(V>>>24&255)}if(E>y){J[(Q*F+k)*4+3]=Math.max(0,255*(y-E+1))}}}function h(c){var W=c<<2;
J[W]=0;J[W+1]=0;J[W+2]=0;J[W+3]=255}function P(c){var W=c<<2;J[W]=255;J[W+1]=255;J[W+2]=255;J[W+3]=255}var H=this.oK*S+2,U=F-H>>>1,X=U+H-1;
if(Z&&H<F)for(var c=0;c<H;c++){var x=U*F+U+c,K=X*F+U+c,T=(U+c)*F+U,I=(U+c)*F+X;h(x);h(K);h(T);h(I);if(c!=0&&c!=H-1){P(x+F);
P(K-F);P(T+1);P(I-1)}}if(!Z)for(var c=-9;c<=9;c++){if(-3<c&&c<3)continue;var o=F>>>1,k=o*F+o+c,Q=(o+c)*F+o;
P(k-F);h(k);P(k+F);P(Q-1);h(Q);P(Q+1)}var l=q.$w.nI(0,0,["#"+j.yj(a),"RGB "+(a>>>16&255)+","+(a>>>8&255)+","+(a>>>0&255)]),s=l[1];
s.y=0;s.x=F-s.m>>>1;j._M(l[0],s,J,m);var O={Hi:J,nd:m,JZ:new k7($.x+N.x,$.y+N.y)},g=new k4(t.E.L,!0);
g.data={d:t.c.Jn,J5:O};A.S(g)};q.ap.prototype.$Q=function(e,A,a,p,N,i){this.Fx(e,A,a,p,N);var Z=this.Rb;
if(Z){Z.$Q(e,A,a,p,N);return}if(this.jf){this.jf=null;if(i)this.Fx(e,A,a,p,N,this.Bi);var s=new k4(t.E.L,!0);
s.data={d:t.c.Jn,J5:"default"};A.S(s)}};q.ap.prototype.Fx=function(e,A,a,p,N,i){if(i==null)i=q.ap.Xg(e,N,this.oK,this.YY);
var Z=new k4(t.E.L);Z.data={d:t.c.iK,hP:ac.V9,dy:p&&p.l(g4.uJ)?1:0,Z:i};if(A)A.S(Z);return i};q.ap.Xg=function(e,A,a,p){if(p==null)p=2;
var N=e.u.FT(A.x,A.y),i,Z,s=e.g.length==1&&e.B[e.g[0]].os>0,D=e.RN.length!=0,M=0,y=0,Q=0;if(s||D){var n;
if(D)n=e.l8[e.RN[0]];else{var S=e.B[e.g[0]];n=S.os==1?S.tR():S.acx()}Z=n.V0();if(!Z.QX(N))return n.color==0?0:16777215;
i=j.Q(Z.O()*4);i.fill(255);var F=n.W8();j.DC(F,i)}else if(p==0&&e.g.length!=0){var S=e.B[e.g[0]];i=S.buffer;
Z=S.rect}else{i=p==2?e.WR():e.WR(e.g[0]);Z=new dE(0,0,e.m,e.n)}var $=Math.floor(N.x)-Z.x,m=Math.floor(N.y)-Z.y,J=(a-1)/2,w=Math.max(0,$-J),f=Math.max(0,m-J),b=Math.min(Z.m,$+J+1),L=Math.min(Z.n,m+J+1),C=(b-w)*(L-f);
for(var $=w;$<b;$++)for(var m=f;m<L;m++){var c=4*(m*Z.m+$);M+=i[c];y+=i[c+1];Q+=i[c+2]}M=Math.round(M/C);
y=Math.round(y/C);Q=Math.round(Q/C);return M<<16|y<<8|Q};q.ap.prototype.vH=function(e){var A=e.tg;this.oK=[1,3,5,11,31][A[0]];
this.YY=A[1];this.azb=A[2];this.Bs=A[3]};q.Q$=function(){q.$w.call(this,[10,6],q.Kb,"tools/gradient");
this.tg={M:JSON.parse(iF.L9.ajr).v,gP:"Lnr",J1:!1,Mu:!1,a2V:"norm",a_:1};this.WE=!1;this.Jo=null};q.Q$.prototype=new q.$w;
q.Q$.prototype.enable=function(e,A,a,p){var N=new k4(t.E.L,!0);N.data={d:t.c.Jn,J5:"default"};A.S(N)};
q.Q$.prototype.vH=function(e){this.tg=e.hP};q.Q$.prototype.MD=function(e,A,a,p,N){if(!e.VX())return;
this.Jo=e.u.FT(N.x,N.y);this.Jo=q.GS.zp(e,this.Jo,a);this.WE=!0};q.Q$.prototype.D1=function(e,A,a,p,N){if(!this.WE)return;
var i=e.u.FT(N.x,N.y);i=q.GS.zp(e,i,a);if(p.l(g4.Kp))i=q.Q$.aC(this.Jo,i);e.I.kp={w:[this.Jo.x,this.Jo.y,i.x,i.y],F:["M","L"]};
e.I.n8=[this.Jo.x,this.Jo.y,i.x,i.y];e.De=!0};q.Q$.prototype.$Q=function(e,A,a,p,N){if(!this.WE)return;
var i=e.B[e.g[0]],Z=e.u.FT(N.x,N.y);Z=q.GS.zp(e,Z,a);if(p.l(g4.Kp))Z=q.Q$.aC(this.Jo,Z);var s=Z.QC(this.Jo),D=k7.hB(this.Jo,Z,.5),n=Math.atan2(s.y,s.x),S=k7.nR(this.Jo,Z),F=Math.sin(n),$=Math.cos(n);
if(S>2){var m;if(e.P)m=e.P.rect;else m=new dE(0,0,e.m,e.n);var J=j.Q(m.O()*4),w=this.tg,f=w.gP;if(f!="Lnr"){S*=2;
D=this.Jo}j.M.zg(w.M,J,m,[$*1/S,F*1/S,-F*1/S,$*1/S],D.x,D.y,w.J1,iF.M.types.indexOf(f),a.lM,a.dG,null,w.Mu);
var b=Math.round(w.a_*256),L=J.length;if(b!=256)for(var c=0;c<L;c+=4)J[c+3]=J[c+3]*b>>>8;var C=new k4(t.E.v);
C.G=q.FD;C.data={d:"fillBMP",Jr:J,UM:w.a2V,fQ:this.name};A.S(C)}e.I.kp=null;e.I.n8=[];e.De=!0;this.WE=!1};
q.Q$.prototype.nc=function(e,A,a,p,N){function i($){$=$.v;var m=$.Hrzn.v.val,J=$.Vrtc.v.val;return a.u.mc(m,J)}if(e.d=="fromAction"){var Z=this.tg,s=this.tg={};
for(var D in Z)s[D]=Z[D];var n=e.Rl.h2;if(n.Opct)s.a_=n.Opct.v.val/100;if(n.Dthr)s.Mu=n.Dthr.v;if(n.Grad)s.M=n.Grad.v;
if(n.Type)s.gP=n.Type.v.GrdT;var S=i(n.From),F=i(n.T);this.MD(a,A,N,p,S);this.$Q(a,A,N,p,F);this.tg=Z}};
q.Q$.aC=function(e,A){if(e.Kx(A))return e;var a=A.x-e.x,p=A.y-e.y,N=Math.abs(a),i=Math.abs(p);if(N>i)i=N/2>i?0:N;
if(i>N)N=i/2>N?0:i;N=a>0?N:-N;i=p>0?i:-i;var Z=Math.sqrt(a*a+p*p)/Math.sqrt(N*N+i*i);return new k7(e.x+N*Z,e.y+i*Z)};
q.Q$.HF=function(e,A,a,p,N,i,Z){var s=new dE(0,0,A,a),D=j.Q(A*a*4);j.c4(D,A,a,4);var n=Math.sin(p),S=Math.cos(p),F=j.Q(A*a*4);
j.M.zg(e,F,s,[S*1/A,n*1/A,-n*1/a,S*1/a],A/2,a/2,!1,0,N,i);j.s.eZ("norm",F,s,D,s,s,1);if(Z)Z.putImageData(new ImageData(new Uint8ClampedArray(D.buffer),A,a),0,0);
else return fI.di(D.buffer,A,a,null,null,!0)};q.Q$.al7=function(e,A,a){var p=JSON.parse(JSON.stringify(e));
if(p.Clrs)for(var c=0;c<p.Clrs.v.length;c++){var N=p.Clrs.v[c].v,i=N.Type.v.Clry;if(i=="UsrS")continue;
var Z=i=="FrgC"?A:a;N.Type.v.Clry="UsrS";N.Clr={t:"Objc",v:j.M.yN({o:Z>>16&255,J:Z>>8&255,k:Z&255})}}return p};
q.n2=function(){q.$w.call(this,[10,7],q.wI,"tools/hand");this.ta=!1;this.jf=new k7(0,0);this.UA=null;
this.ro=0};q.n2.prototype=new q.$w;q.n2.prototype.vH=function(e,A,a,p){this.ta=e.ta};q.n2.prototype.nc=function(e,A,a,p,N){var i=e.d;
if(i=="setcls"){a.u.$n=e.$n;a.De=!0;a.W$=!0}if(i=="scroll"&&!p.l(g4.uJ)){if(p.l(g4.YC))q.n2.$S(a,a.u.R.x-e.PW.y,a.u.R.y-e.PW.x);
else q.n2.$S(a,a.u.R.x-e.PW.x,a.u.R.y-e.PW.y)}};q.n2.prototype.enable=function(e,A,a,p){this.UA=null;
var N=new k4(t.E.L,!0);N.data={d:t.c.Jn,J5:"grab"};A.S(N);if(e&&Date.now()-this.ro<300){N.type=t.E.v;
N.G=q._B;N.data={d:"adapt",Z:"fitscr"};A.S(N)}this.ro=Date.now()};q.n2.prototype.MD=function(e,A,a,p,N){this.UA=e.u.R.clone();
this.jf.rq(N.x,N.y)};q.n2.prototype.D1=function(e,A,a,p,N){if(!N.x2)return;if(this.UA==null)this.MD(e,A,a,p,N);
var i=this.ta?A.oY:[e];for(var c=0;c<i.length;c++)q.n2.$S(i[c],this.UA.x+(N.x-this.jf.x),this.UA.y+(N.y-this.jf.y))};
q.n2.prototype.$Q=function(e,A,a,p,N){this.UA=null};q.n2.$S=function(e,A,a){var p=e.u.N,N=e.u.eL,i=N.m,Z=N.n,s=e.m*p,D=e.n*p,n=s<i&&D<Z,S=i/2+s/2-64,F=Z/2+D/2-64;
e.u.R.rq(Math.max(-S,Math.min(S,A)),Math.max(-F,Math.min(F,a)));e.W$=!0};q.GQ=function(){q.$w.call(this,[10,47],q.yp,"tools/rview");
this.jf=new k7(0,0);this.D_=null;this.dU=null;this.ro=0};q.GQ.prototype=new q.$w;q.GQ.prototype.enable=function(e,A,a,p){this.UA=null;
var N=new k4(t.E.L,!0);N.data={d:t.c.Jn,J5:"grab"};A.S(N);if(e&&Date.now()-this.ro<300&&e.u.xj!=0){e.u.xj=0;
e.De=!0}this.ro=Date.now();if(e)this._F(e,A)};q.GQ.prototype.disable=function(e,A,a,p,N){if(e)this._F(e,A)};
q.GQ.prototype.xQ=function(e,A,a,p){if(e)this._F(e,A)};q.GQ.prototype.MD=function(e,A,a,p,N){this.jf.rq(N.x,N.y);
var i=e.u;this.D_=i.FT(i.eL.m/2,i.eL.n/2);this.dU=i.gz();var Z=i.FT(i.eL.m/2,i.eL.n/2),s=Math.min(i.eL.m,i.eL.n)*.35/i.N,D=s*.2,n=Z.x,S=Z.y;
e.I.kp={F:"M L L L L L".split(" "),w:[n,S,n,S-s,n+D,S,n,S+s,n-D,S,n,S-s]};e.De=!0};q.GQ.prototype.a47=function(e){var A=e.u,a=A.FT(A.eL.m/2,A.eL.n/2);
e.I.kp={F:["M","L"],w:[a.x,a.y,a.x,a.y-200]}};q.GQ.prototype.D1=function(e,A,a,p,N){if(!N.x2)return;
var i=e.u,Z=this.D_,s=this.jf,D=new k7(i.eL.m/2,i.eL.n/2),n=Math.atan2(N.y-D.y,N.x-D.x),S=Math.atan2(s.y-D.y,s.x-D.x),F=Math.atan2(this.dU.k,this.dU.gg),$=n-S,m=Math.PI/4;
if(p.l(g4.Kp)){$=F+m*Math.round(($-F)/m)}this.aiT(e,A,this.dU.clone(),Z,$)};q.GQ.prototype.$Q=function(e,A,a,p,N){e.I.kp=null;
e.De=!0};q.GQ.prototype.vH=function(e,A,a,p){this.aiT(a,A,null,null,e.A2-a.u.xj);a.u.xj=e.A2};q.GQ.prototype.aiT=function(e,A,a,p,N){var i=e.u;
if(a==null)a=i.gz();if(p==null)p=i.FT(i.eL.m/2,i.eL.n/2);a.translate(-p.x,-p.y);a.rotate(N);a.translate(p.x,p.y);
i.aqq(a);if(e.m*i.N<i.eL.m&&e.n*i.N<i.eL.n)i.R.rq(0,0);e.De=!0;this._F(e,A)};q.GQ.prototype._F=function(e,A){var a=new k4(t.E.L,!0);
a.data={d:t.c.FF,G:this.id,A2:e.u.xj};A.S(a)};q.mv=function(){q.J9.call(this,[10,25],q.Kf,"tools/hbrush")};
q.mv.prototype=new q.J9("");q.mv.prototype.$Q=function(e,A,a,p,N){if(this.jl==null)return;this.hX(e,"heal",this.jl.yn(),this.jl.V0(),this.jl.$L());
this.U(e,this.jl.$L());q.Wn.prototype.$Q.call(this,e,A,a,p,N);if(!this.tg.algnd)this.R=null};q.n7=function(e){q.$w.call(this,e?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],e?q.v8:q.L1,e?"tools/vtype":"tools/htype");
this.Y5=[];this.PC=null;this.caller=null;this.vV=1;this.r3=null;this.aoq=0;this.mX=0;this.a27=null;this.oM=null;
this.MT=null;this.mD=null;this.Vh=null;this.v$=null;this.aaT=null;this.B9=null;this.jH=null;this.XG=null;
this.a6u=null;this.z4=!1;this.Hm=!1;this.eV=!1;this.nl=null;this.lt=null;this.a5s=null;this.SD=!1;this.lH=!1;
this.Tw=-1;this.n4=-1;this.Wi=document.createElement("textarea");this.Wi.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.Wi.addEventListener("input",this.Eg.bind(this),!1);this.Wi.addEventListener("keydown",this.aee.bind(this),!1);
this.Wi.addEventListener("keyup",this.a6m.bind(this),!1)};q.n7.prototype=new q.$w;q.n7.prototype.I1=function(e){return e.x2};
q.n7.prototype.XV=function(e,A,a,p){if(this.MT!=null||this.id==q.v8)return;this.caller=A;var N=this.aab(e);
if(N.length!=0){var i=null,Z=[],s=[];for(var c=0;c<N.length;c++){var D=e.B[N[c]],n=D.add.TySh,S=0,F=eG.Ob(n._t).length-2,$=eG.p_(n._t,S,F);
eG.tH($,n.D.nZ());if($.JH.Font!=null)$.JH.Font=$.eu[$.JH.Font].Name;i=$.eu;Z.push($.JH);s.push($.Vx)}var $={eu:i,JH:eG._n(Z),Vx:eG._n(s)};
if($.JH.Font!=null)eG.Kv($,$.JH.Font);this.acH(A,$,n)}};q.n7.prototype.aab=function(e){var A=[];for(var c=0;
c<e.g.length;c++)if(e.B[e.g[c]]&&e.B[e.g[c]].add.TySh)A.push(e.g[c]);return A};q.n7.prototype.nc=function(e,A,a,p,N){var i=e.d=="insertGlyph",Z=e.d=="copyText",s=e.d=="selectAll";
if((i||Z||e.d=="insertText"||s)&&this.MT){var D=i?String.fromCharCode(65533):e.Z,n=this.Wi,S=n.value,F=n.selectionStart,$=n.selectionEnd;
if(Z){c6.uX(new Blob([S.slice(F,$)],{type:"text/plain"}))}else if(s){this.Tw=n.selectionStart=0;this.n4=n.selectionEnd=S.length;
this.fn(a);n.focus()}else{n.value=S.slice(0,F)+D+S.slice($);n.selectionStart=n.selectionEnd=F+D.length;
this.Eg(null,i?e.Z:null);n.focus()}}if(e.d=="updateStyles"){if(this.MT==null){var m=this.aab(a),J=!1;
if(m.length!=0){this.Ai(a,A,N,m);for(var c=0;c<m.length;c++){var w=a.B[m[c]],f=w.add.TySh;eG.xt(f,this.vV);
this.MT=w;var b=eG.Ob(f._t);this.Tw=0;this.n4=b.length-1;eG.G4(f._t,this.Tw,this.n4,this.AN(N,f));var L=this.R6(a,N);
if(L==!1)J=!0}if(J){this.SD=!0;return}this.Oe(a,A)}return}this.Vt(N)}if(e.d.startsWith("warp")){var C=this.lH;
if(e.d=="warp"||e.d=="warpCancel"){if(this.MT==null)return;if(e.d=="warp")this.MT.add.TySh.ev=e.Ww;else this.MT.add.TySh.ev=this.aaT;
this.R6(a,N);if(!C)this.fn(a)}if(e.d!="warp")this.Wi.focus();if((e.d=="warpConfirm"||e.d=="warpCancel")&&C){this.lH=!1;
if(e.d=="warpConfirm")this.Oe(a,A);else this.aL(a,A)}}if(e.d=="editCurr"){if(N.zX!=q.L1){this.r3=N.zX;
var M=new k4(t.E.L,!0);M.data={d:t.c.sk,G:q.L1};A.S(M)}if(this.MT!=null)this.disable(a,A,N,p);this.PC=N;
this.caller=A;this.Ai(a,A,N,[e.zK]);var b=eG.Ob(this.MT.add.TySh._t);this.Tw=0;this.n4=b.length-1;this.fn(a);
this.Tc();this.Wi.focus()}if(e.d=="switchPntPrgr"){if(this.MT)return;var w=a.B[a.g[0]],f=w.add.TySh,y=f.D.nZ(),Q=JSON.parse(JSON.stringify(f._t)),k=eG.y7(Q),E=k==1?eG.Np(Q):[0,0,Math.round(w.rect.m*1.05/y),Math.round(w.rect.n*1.25/y)],_=eG.p_(Q,0,0),v=_.eu[_.JH.Font].Name,V=N.de.as(v),R=[0,E[2],E[2]/2][_.Vx.Justification%3],h=V?dl.IG(V,v,_.JH):_.JH.FontSize*.8;
eG.XX(Q,1-k);if(k==0){R=-R;h=-h;eG.dw(Q,[0,0,E[2],E[3]])}var P=new bj(1,0,0,1,R,h);P.concat(f.D);this.nc({cO:a.g[0],d:"newED",Aj:Q,D:P,atv:[16,3,k==1?0:1]},A,a,p,N)}if(e.d=="newED"){var w=a.B[e.cO],f=w.add.TySh,H=this.YA(a,[e.cO]);
f._t=e.Aj;if(e.D)f.D=e.D;if(ek.Sh(f,N.de,A)){ek.R6(w,N.de,a);a.U()}else a.Px=!0;var U=new af(e.atv?e.atv:this.name,this);
U.data={f6:H,Wd:this.YA(a,[e.cO])};a.G2(U)}if(e.d=="fromAction"){var X=e.Rl.h2.Usng.v,x=X.TxtC.v,K=[];
for(var c=0;c<2;c++){var T=x[c==0?"Hrzn":"Vrtc"].v,D=T.val;if(T.type=="#Prc")D=(c==0?a.m:a.n)*(D/100);
K[c]=D}this.eb(a,A,N,p,a.u.mc(K[0],K[1]),!0);var w=a.B[a.g[0]],f=w.add.TySh,I=f._t,S=eG.Ob(I);eG.BL(I,0,S.length-1);
eG.f7(I,0,X.Txt.v.replace(/\r/g,"\n"));S=eG.Ob(I);for(var k=0;k<2;k++){var o=X[k==0?"Txtt":"paragraphStyleRange"].v;
for(var c=0;c<o.length;c++){var l=o[c].v,F=l.From.v,$=Math.min(l.T.v-1,S.length-1);l=l[k==0?"TxtS":"paragraphStyle"].v;
var O=eG.p_(I,F,$),g=k==0?O.JH:O.Vx;for(var W in l){var d=l[W].v;if(W=="Sz")g.FontSize=Math.round(d.val*(d.type=="#Pnt"?a.l5/72:1));
else if(W=="fontPostScriptName")eG.Kv(O,d);else if(W=="Algn")g.Justification={Left:1,Cntr:2}[d.Alg];
else if(W=="leading")g.Leading=l[W].v.val;else if(W=="baselineShift")g.BaselineShift=l[W].v.val;else if(W=="autoLeading")g.AutoLeading=l[W].v;
else if(W=="syntheticBold")g.FauxBold=l[W].v;else if(W=="syntheticItalic")g.FauxItalic=l[W].v;else if(W=="Trck")g.Tracking=l[W].v;
else if(W=="verticalScale")g.VerticalScale=l[W].v/100;else if(W=="horizontalScale")g.HorizontalScale=l[W].v/100;
else if(W=="Clr")g.FillColor={Type:1,Values:[1,d.Rd.v/255,d.Grn.v/255,d.Bl.v/255]}}eG.G4(I,F,$,O)}}if(ek.sQ(a,N.de,A))ek.R6(w,N.de,a);
else a.Px=!0;a.U();this.Oe(a,A)}};q.n7.prototype.Vt=function(e){var A=Math.min(this.Tw,this.n4),a=Math.max(this.Tw,this.n4),p=this.MT.add.TySh;
eG.xt(p,this.vV);var N=this.AN(e,p);eG.G4(p._t,A,a-1,N);var i=this.caller.w3(),Z=this.R6(i,e);if(Z)this.fn(i);
if(document.activeElement.tagName.toLowerCase()!="input")this.Wi.focus()};q.n7.prototype.uc=function(e){return this.Y5.indexOf(e)!=-1};
q.n7.prototype.enable=function(e,A,a,p){var N=this.Wi;A.e.appendChild(N);this.B9="default";this.V2(A)};
q.n7.prototype.xV=function(){return this.MT!=null};q.n7.R1=function(e,A){for(var c=e.B.length-1;c>=0;
c--){var a=e.B[c];if(a.add.TySh&&a.rect.QX(A)&&e.a78(c)){var p=a.xF(31);return p?-2:c}}return-1};q.n7.prototype.MD=function(e,A,a,p,N){this.PC=a;
this.caller=A;var i=e.u.FT(N.x,N.y),Z=this.MT==null;if(Z){var s=q.n7.R1(e,i);if(s==-2){alert(i1.get([6,57,0]));
return}if(s>=0&&!p.l(g4.Kp)){if(!ek.Sh(e.B[s].add.TySh,a.de,A)){alert("Fonts not loaded yet");return}this.Ai(e,A,a,[s])}else{this.eV=!0;
this.nl=N;return}}var D=Z?-1:eG.y7(this.MT.add.TySh._t),n=this.XG?this.XG:this.jH;if(n&&n.MD(e,a,p,i,null,null,N)&&j.Ww.$O(this.MT.add.TySh.ev)||!Z&&j.p.LS(i,this.MT.rect)>20/e.u.N&&(D==0||D==1)){this.z4=!0;
this.lt=i;this.a5s=this.MT.add.TySh.D.clone();if(this.Tw==-1&&this.n4==-1)this.Tw=this.n4=this.uH(i)}else{if(this.Vh==null){alert("Fonts not loaded yet");
return}this.Hm=!0;this.Tw=this.n4=this.uH(i);var S=Date.now();if(S-this.aoq>300)this.mX=0;this.mX++;
this.aoq=S;if(this.mX==2)this.agL();if(this.mX==3)this.avt();if(this.mX>1){this.Hm=!1}}this.Tc();this.fn(e)};
q.n7.prototype.Ai=function(e,A,a,p){var N=e.B[p[0]];this.MT=N;this.qO(A,t.E.L,{d:t.c.FF,G:this.id,d0:"showactive"});
this.mD=p;e.g=p.slice(0);e.xI();e.ew=!0;this.v$=this.YA(e,p);this.Xh(N.add.TySh);this.R6(e,a)};q.n7.prototype.Xh=function(e){if(eG.y7(e._t)!=1)return;
var A=eG.Np(e._t);A=new dE(0,0,A[2]-A[0],A[3]-A[1]);var a=[A.x,A.y,A.x+A.m,A.y,A.x+A.m,A.y+A.n,A.x,A.y+A.n];
j.p.D(a,e.D,a);this.jH=new bd(a,!1,!1,!1,!0)};q.n7.prototype.agL=function(){var e=eG.Ob(this.MT.add.TySh._t);
this.Tw=this.ail(e,this.Tw);this.n4=this.a4h(e,this.Tw)};q.n7.prototype.ail=function(e,A){var a=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",p=[];
for(var c=0;c<a.length;c++)p.push(a.charAt(c));var N=p.indexOf(e[A])==-1?!0:!1;for(var c=A-1;c>=0;c--)if(p.indexOf(e.charAt(c))!=-1==N)return c+1;
return 0};q.n7.prototype.a4h=function(e,A){var a=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",p=[];for(var c=0;
c<a.length;c++)p.push(a.charAt(c));var N=p.indexOf(e[A])==-1?!0:!1;for(var c=A+1;c<e.length;c++)if(p.indexOf(e.charAt(c))!=-1==N)return c;
return e.length-1};q.n7.prototype.avt=function(){var e=this.Vh.azM(this.Tw);this.Tw=e[0];this.n4=e[1]};
q.n7.prototype.V2=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.Jn,J5:this.B9};e.S(A)};q.n7.prototype.D1=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y),Z=this.MT;
if(!N.x2){var s="default",D=this.jH,n=this.XG?this.XG:D;if(n&&j.Ww.$O(Z.add.TySh.ev)){var S=n.YO(i,e.u.N,null,N);
if(S)s=S;else if(n==D&&D.An(i))s="text"}else if(Z&&j.p.LS(i,Z.rect)>20/e.u.N)s="move";else if(q.n7.R1(e,i)>=0)s="text";
if(s!=this.B9){this.B9=s;this.V2(A)}}var F=this.nl;if(this.eV&&Math.min(N.x-F.x,N.y-F.y)>4/e.u.N){this.eV=!1;
this.eb(e,A,a,p,N);Z=this.MT;this.z4=!0;this.jH=new bd(null,!1,!1,!1,!0);var $=e.u.FT(this.nl.x,this.nl.y);
$.x=Math.round($.x);$.y=Math.round($.y);this.jH.MD(e,a,p,$,null,null,N,e.u.xj)}if(this.z4){var m=Z.add.TySh;
if(this.XG){this.XG.D1(e,a,p,i);var J=j.K.Gr(j.K.wK(this.XG.$c(),this.a6u));m.D=J;this.R6(e,a);eG.no(m)}else if(this.jH){this.jH.D1(e,a,p,i);
var w=m.D.clone(),f=Math.atan2(w.k,w.gg);w.rotate(f);var J=j.K.Gr(j.K.wK(this.jH.$c())),b=Math.atan2(J.k,J.gg);
J.rotate(b);if(!isNaN(J.gg)&&J.gg*J.pU-J.k*J.b9!=0){var L=new dE(0,0,J.gg/w.gg,J.pU/w.pU),C=Math.round(L.m),M=Math.round(L.n),y=m._t.Curve;
if(y){var Q=eG.Np(m._t),k=new bj(C/Q[2],0,0,M/Q[3],0,0);j.p.D(y.Points,k,y.Points);eG.no(m)}eG.dw(m._t,[0,0,C,M]);
m.D=j.K.Gr(j.K.wK(this.jH.$c(),L));this.R6(e,a);eG.no(m)}}else{var E=i.x-this.lt.x,_=i.y-this.lt.y;m.D=this.a5s.clone();
var v=new k7(m.D.Co+E,m.D.dW+_);v=q.GS.zp(e,v,a);m.D.Co=v.x;m.D.dW=v.y;this.R6(e,a)}}if(this.Hm)this.n4=this.uH(i);
if(this.z4||this.Hm)this.fn(e)};q.n7.prototype.eb=function(e,A,a,p,N,i){var Z=e.sz(),s=Z[0],D=Z[1],n=e.Uo();
n.add.lnsr="rend";var S=e.B.slice(0);n.i4("Text layer "+S.length);this.MT=n;var F=e.g.length==0?e.B.length-1:e.g[e.g.length-1],$=F+1;
if(S[F].add.lsct==ez.MV)$--;this.v$={S4:S.slice(0),_i:e.g.slice(0)};S.splice($,0,n);e.g=[$];this.Tw=this.n4=0;
e.Ex(S);this.v$.f_=S.slice(0);this.v$.zE=e.g.slice(0);this.qO(A,t.E.L,{d:t.c.FF,G:this.id,d0:"showactive"});
var m=e.u.FT(N.x,N.y),J=a.ZG;console.log(J);if(this.id==q.v8){J=JSON.parse(JSON.stringify(J));J.JH.BaselineDirection=1}n.add.TySh=eG.KP(m.x,m.y,J,e.u.xj);
var w=n.add.TySh,f=w._t;if(this.id==q.v8)f._LineOrientation=2;eG.xt(w,this.vV);if(N.x2)eG.XX(f,1);else{eG.XX(f,0);
var b=s[D.pop()],L=b?b.add.vmsk:null;if(i)L=null;if(L&&!p.l(g4.Kp)){L=L.clone();var C=L.i,y,Q;for(var c=0;
c<C.length;c++)if(C[c].kR!=null)C[c].kR=0;var M=5/e.u.N;y=j.r.x4(L.i,m,!0,M);if(y.g2==-1)y=j.r.x4(L.i,m);
if(y.g2!=-1){eG.XX(f,1);var k=j.r.VS(C,y.g2),E=j.r.N9(C,y.g2)-1;C=L.i=C.slice(0,2).concat(C.slice(k,k+E+1));
L.g=[];w.add={vmsk:L,vogk:u.c0(C)};f.Curve={};eG.Hx(w);if(y.N5!=null){var _=dl.mu(f.Curve);j.p.D(_[0],w.D,_[0]);
var v=j.p.r5(_[0],m.x,m.y),V=a.ZG.Vx.Justification;if(V==2||V==5){var R=(_[2][v]+_[3]*.5)%_[3];v=dl.jm(R,_[2])}var h=_[1][v];
h=h%E;L.Cq=[h,h];eG.Hx(w)}else this.Xh(w)}}}return n};q.n7.prototype.$Q=function(e,A,a,p,N,i){if(i){this.eV=!1;
return}if(this.MT==null&&!this.eV)return;var Z=e.u.FT(N.x,N.y),s=this.eV;if(this.eV){this.eV=!1;this.eb(e,A,a,p,N);
this.Hm=!0}if(this.z4||this.Hm){this.fn(e);this.Tc();if(s)this.Vt(a)}if(this.z4&&this.jH)this.jH.$Q(e,a,p,Z);
this.z4=this.Hm=!1;this.Wi.focus()};q.n7.prototype.Tc=function(){var e=this.MT.add.TySh,A=Math.min(this.Tw,this.n4),a=Math.max(this.Tw,this.n4),p,N;
if(A==a){var i=eG.Ob(e._t);if(A==0||i.charAt(A-1)=="\n")p=N=A;else p=N=A-1}else{p=A;N=a-1}var Z=eG.p_(e._t,p,N);
eG.tH(Z,e.D.nZ());this.acH(this.caller,Z,e)};q.n7.prototype.acH=function(e,A,a){this.qO(e,t.E.L,{d:t.c.iK,hP:ac.yq,ZG:A});
var p=this.vV=eG.iQ(a);this.qO(this.caller,t.E.L,{d:t.c.FF,G:this.id,d0:"changeAA",pL:p})};q.n7.prototype.rZ=function(e,A,a,p,N){if(e==null)return;
var i=e.u.FT(N.x,N.y),Z=q.n7.R1(e,i);if(Z==-1)return;var s=new k4(t.E.L,!0);s.data={d:t.c.FF,G:this.id,d0:"showpan",agH:this.MT!=null,zK:Z,AQ:N,Ru:e,PC:a};
A.S(s)};q.n7.prototype.aax=function(){var e=this.MT;if(e&&!this.z4&&this.XG!=null){var A=this.caller.w3();
this.XG.$Q(A,this.PC,null,null);this.XG=null;this.Xh(e.add.TySh);this.fn(A)}};q.n7.prototype.disable=function(e,A,a,p){var N=this.MT;
this.Oe(e,A)};q.n7.prototype.vH=function(e,A,a,p,N){if(this.lH)return;if(e.d0=="commit")this.Oe(a,A);
if(e.d0=="cancel")this.aL(a,A);if(e.d0=="changeAA"){this.vV=e.pL;if(a!=null)this.nc({d:"updateStyles"},A,a,p,N)}if(e.d0=="showwarp"){if(a==null)return;
if(this.MT==null){var i=a.B[a.g[0]],Z=i.add.TySh;if(Z==null)return;this.Ai(a,A,N,[a.g[0]]);this.Wi.focus();
this.lH=!0}this.aaT=this.MT.add.TySh.ev;var s=new k4(t.E.L,!0);s.data={d:t.c.Ch,NY:"textwarp"};A.S(s)}};
q.n7.prototype.Mv=function(e,A){if(A!=ac.fD)return;if(this.SD){this.SD=!1;var a=this.caller.w3(),p=this.mD;
for(var c=0;c<p.length;c++){this.MT=a.B[p[c]];this.R6(a,e)}this.Oe(a,this.caller);return}if(this.MT)this.Vt(e)};
q.n7.prototype.AN=function(e,A){var a=JSON.parse(JSON.stringify(e.ZG));eG.tH(a,1/A.D.nZ());return a};
q.n7.prototype.Jf=function(e,A){if(e.f6!=null)this.q2(A,e.Wd);else this.atA(A,e.f_,e.zE)};q.n7.prototype.rf=function(e,A){if(e.f6!=null)this.q2(A,e.f6);
else this.atA(A,e.S4,e._i)};q.n7.prototype.q2=function(e,A){for(var c=0;c<A.length;c++){var a=A[c],p=a.cO,N=e.B[p];
N.buffer=a.bD;N.rect=a.nd.clone();N.U();N.P5._q=null;N.P5.path=null;var i=N.add.TySh;i.ev=a.Ww;i.oc=a.oc.clone();
i.D=a.D.clone();i._t=JSON.parse(JSON.stringify(a._t));N.H0()}e.U()};q.n7.prototype.YA=function(e,A){var a=[];
for(var c=0;c<A.length;c++){var p=A[c],N=e.B[p],i=N.add.TySh;a.push({cO:p,D:i.D.clone(),Ww:JSON.parse(JSON.stringify(i.ev)),oc:i.oc.clone(),_t:JSON.parse(JSON.stringify(i._t)),bD:N.buffer.slice(0),nd:N.rect.clone()})}return a};
q.n7.prototype.atA=function(e,A,a){e.g=a;e.Ex(A);e.U();e.Xz=!0};q.n7.prototype.R6=function(e,A,a){if(a==null)a=!1;
var p=this.MT.add.TySh;if(!ek.Sh(p,A.de,this.caller))return!1;if(!a){var N=eG.Ob(p._t);this.Wi.value=N.slice(0,N.length-1)}var i=this.MT.rect,Z=ek.R6(this.MT,A.de,e);
this.Vh=Z[0];var s=Z[1];if(j.Ww.$O(p.ev))p.oc=new dE;else{if(eG.y7(p._t)==1){var D=eG.Np(p._t),iM=s.oc.y;
p.oc=new dE(0,iM,D[2]-D[0],D[3]-D[1]-iM)}else p.oc=s.oc}e.WF();e.U(e.root.er(s.nd.pg(i),e,e.B.indexOf(this.MT)));
return!0};q.n7.prototype.Eg=function(e,A){if(this.MT==null||this.lH)return;var a=this.Wi.selectionStart,p=this.MT.add.TySh,N=eG.Ob(p._t),i=this.Wi.value+"\n",Z=Math.min(this.Tw,this.n4),s=Math.max(this.Tw,this.n4),$=!1;
this.Tw=Math.min(a,Z);if(i.length-a<N.length-this.n4)this.n4=N.length-i.length+a;if(N!=i){while(this.Tw>0&&N.charAt(this.Tw-1)!=i.charAt(this.Tw-1))this.Tw--}var D=N.substring(0,this.Tw),n=N.substring(this.n4,N.length),S=i.substring(this.Tw,i.length-n.length);
eG.BL(p._t,this.Tw,this.n4);eG.f7(p._t,this.Tw,S);if(A!=null)eG.are(p._t,this.Tw,A);var F=this.AN(this.PC,p),m=-1,J=Array.from(S);
for(var c=0;c<J.length;c++)m=Math.max(m,J[c].codePointAt(0));if(m!=-1&&m>128&&m!=65533&&F.JH.Font!=null){var w=F.eu[F.JH.Font].Name,f=this.PC.de.zc(m,w,F.eu);
if(w!=f){eG.Kv(F,f);$=!0}}if(this.oM!=null&&S==this.oM){var b=JSON.parse(this.a27);F.JH=b.JH;F.eu=b.eu;
$=!0}eG.G4(p._t,this.Tw,this.Tw+S.length-1,F);this.Tw=this.n4=D.length+S.length;var L=this.caller.w3(),C=this.R6(L,this.PC,!0);
if(C)this.fn(L,!0);if($)this.Tc()};q.n7.prototype.a6m=function(e){var A=g4;if(!e.ctrlKey)this.aax();
e.stopPropagation()};q.n7.prototype.aee=function(e){e.stopPropagation();var A=e.ctrlKey||e.metaKey,a=g4,D=0,n=0,C=0,P=!1;
if(this.MT==null||this.lH)return;if(this.MT==null)return;var p=this.caller.w3();if(this.XG==null&&A){var N=this.MT.add.TySh,i=eG.y7(N._t),Z;
if(i==1){Z=eG.Np(N._t);Z=new dE(0,0,Z[2]-Z[0],Z[3]-Z[1])}else Z=this.Vh.ok();var s=[Z.x,Z.y,Z.x+Z.m,Z.y,Z.x+Z.m,Z.y+Z.n,Z.x,Z.y+Z.n];
j.p.D(s,N.D,s);this.XG=new bd(s,!0,!0,!1,!1);this.a6u=Z;this.fn(p)}if(a.ys(e.code,a.nT))D=1;if(a.ys(e.code,a.uh))D=-1;
if(a.ys(e.code,a.XM))n=-1;if(a.ys(e.code,a.TA))n=1;var S=a.ys(e.code,g4.Yz),F=a.ys(e.code,g4.a9S);if(a.ys(e.code,g4.e2)&&A){this.Oe(p,this.caller);
return}if(a.ys(e.code,g4.EO)){this.aL(p,this.caller);return}if(a.ys(e.code,g4.pH)){e.preventDefault();
var $=this.Wi,m=$.value,J=$.selectionStart,w=$.selectionEnd;$.value=m.substring(0,J)+"\t"+m.substring(w);
$.selectionStart=$.selectionEnd=J+1;this.Eg(null);return}var f=a.ys(e.code,a.yR),b=a.ys(e.code,a.Kw);
if(A&&(f||b)){e.preventDefault();var L=new k4(t.E.v,!0);L.G=q._B;L.data={d:"zoom",L8:f};this.caller.S(L)}if(a.ys(e.code,a.Uv))C=1;
if(a.ys(e.code,a.vm))C=-1;var M=this.Tw==this.n4,y=A&&e.shiftKey&&C!=0&&!M;if(y||e.altKey&&D!=0){var Q=JSON.parse(JSON.stringify(this.PC.ZG));
if(y){var k=Q.JH.FontSize;if(k==null)k=16;Q.JH.FontSize=Math.max(1,k+C*(e.altKey?5:1))}else{if(M){Q.JH.Kerning+=20*D;
Q.JH.AutoKerning=!1}else Q.JH.Tracking+=20*D}e.preventDefault();var E=new k4(t.E.L,!0);E.data={d:t.c.iK,hP:ac.yq,ZG:Q};
this.caller.S(E);var L=new k4(t.E.v,!0);L.G=q.L1;L.data={d:"updateStyles"};this.caller.S(L);return}if((a.ys(e.code,a.AA)||a.ys(e.code,a.HJ))&&A){var _=this.Tw,v=this.n4;
if(_>v){var V=_;_=v;v=V}var N=this.MT.add.TySh,R=eG.Ob(N._t);if(_!=v){this.oM=R.slice(_,v);this.a27=JSON.stringify(this.PC.ZG)}}var h=eG.Ob(this.MT.add.TySh._t);
if(D!=0||n!=0||S||F){e.preventDefault();var H=this.Tw;if(D!=0){if(A&&D==-1)H=this.ail(h,this.Tw-1);else if(A&&D==1)H=this.a4h(h,this.Tw);
else{var $=this.Wi,m=$.value;H=this.Tw+D;if(H!=0&&m.codePointAt(H-1)>65535)H+=D}}else if(n!=0){var U=this.Vh.VG(this.Tw);
if(n==-1&&U.in==0)H=0;else if(n==1&&U.in==this.Vh.awq()-1)H=99999999999;else H=this.Vh.amt(new k7(U.nd.x+U.nd.m/2,0),U.in+n)}else if(S){var X=this.Tw-1;
while(X>0&&h.charCodeAt(X)!=10)X--;H=X==0?0:X+1}else if(F){var X=this.Tw;while(X<h.length-1&&h.charCodeAt(X)!=10)X++;
H=X}H=Math.max(0,Math.min(h.length-1,H));if(e.shiftKey)this.Tw=H;else this.Tw=this.n4=H;P=!0}if(a.ys(e.code,g4.c)&&A){this.Tw=0;
this.n4=h.length-1;P=!0}if(P){this.Tc();this.fn(p)}};q.n7.anB=function(e,A){var a=e.length;if(a!=A.length)return!1;
for(var c=0;c<a;c++)if(e[c].cO!=A[c].cO)return!1;return!0};q.n7.prototype.Oe=function(e,A){if(this.MT==null)return;
this.MT.H0();var a=this.v$;if(a instanceof Array){var p=this.YA(e,this.mD),N=e.rU();if(N!=null&&N.G==this&&N.data.f6&&q.n7.anB(N.data.f6,a))N.data.Wd=p;
else{var i=new af(this.name,this);i.data={f6:a,Wd:p};e.G2(i)}}else{var i=new af(this.name,this);i.data={S4:a.S4,f_:a.f_,_i:a._i,zE:a.zE};
e.G2(i)}this.escape(e,A)};q.n7.prototype.aL=function(e,A){if(this.MT==null)return;if(this.v$ instanceof Array){this.q2(e,this.v$);
if(this.MT)eG.no(this.MT.add.TySh)}else{e.g=this.v$._i;e.Ex(this.v$.S4);e.Xz=!0}e.U();this.escape(e,A)};
q.n7.prototype.escape=function(e,A){this.aax();this.MT=null;this.mD=null;this.Vh=null;this.jH=null;this.Wi.blur();
e.I.kp=null;e.I.wP=null;e.I.n8=[];e.De=!0;this.z4=!1;this.Hm=!1;this.Tw=this.n4=-1;this.qO(A,t.E.L,{d:t.c.FF,G:this.id,d0:"hideactive"});
if(this.r3){var a=new k4(t.E.L,!0);a.data={d:t.c.sk,G:this.r3};A.S(a);this.r3=null}};q.n7.prototype.qO=function(e,A,a,p){var N=new k4(A,!0);
N.data=a;if(p)N.G=p;e.S(N)};q.n7.prototype.uH=function(e){var A=this.MT.add.TySh,a=this.Vh,p=A.D.clone();
p.rQ();var N=p.Av(e),i=eG.V0(A,a),Z=j.Ww.uB(A.ev,i),s=j.ay.ahP(Z,N);if(s==null)s=new Float64Array(2);
N=new k7(i.x+s[0]*i.m,i.y+s[1]*i.n);if(a.Ut){var D=a.Ut.clone();D.rQ();N=D.Av(N)}var n=a.amt(N);return n};
q.n7.prototype.fn=function(e,A){if(A==null)A=!1;var a=this.MT.add.TySh,p=eG.y7(a._t),N=this.Vh,i=N?eG.V0(a,N):null;
e.I.n8=[];e.I.kp=null;e.I.wP=null;var Z=this.XG?this.XG:this.jH;if(Z){Z.vE(e,this.PC,!j.Ww.$O(a.ev));
var s=a.D.clone();s.rQ();if(N&&N.Ut&&N.lT==1){var D=N.Ut.clone();D.rQ();s.concat(D)}j.p.D(e.I.n8,s,e.I.n8);
j.p.D(e.I.kp.w,s,e.I.kp.w);if(N&&N.Ut==null&&N.aq4()){var n=i.m-20,S=i.n+8;e.I.kp.w.push(n,S,n+10,S,n+5,S-5,n+5,S+5);
e.I.kp.F.push("M","L","M","L")}}else if(p==0)this.a3L(e,a,N);else e.I.kp={w:[],F:[]};var F=Math.min(this.Tw,this.n4),$=Math.max(this.Tw,this.n4);
if(!A){this.Wi.selectionStart=F;this.Wi.selectionEnd=$}if(N!=null){var m=function(Z,M){var y=Z.x,Q=Z.y+Z.n,k=new bj;
k.translate(-y,-Q);k.rotate(-M);k.translate(y,Q);Z.y+=Z.n*.27;var C=j.p.wt(Z);j.p.D(C.w,k,C.w);return C};
if(F==$){F=Math.max(F,0);var J=N.VG(F);if(J){var w=J.nd,f=this.PC.ZG.JH.FontSize;if(f!=null&&f!=0){f/=a.D.nZ();
w.y+=w.n-f;w.n=f}var b=N.adl(F);if(b!=null&&b.lL==1)w.x+=w.m;var L=m(w,J.xj).w;e.I.kp.F.push("M","L");
e.I.kp.w.push(L[0],L[1]-1,L[6],L[7]-1)}}else{e.I.wP={w:[],F:[]};for(var c=F;c<$;c++){var J=N.VG(c),C=m(J.nd,J.xj);
j.p.concat(e.I.wP,C)}}}e.I.kp=ek.cZ(e.I.kp,a,N);e.I.wP=ek.cZ(e.I.wP,a,N);e.I.n8=ek.cZ({w:e.I.n8},a,N).w;
e.De=!0};q.n7.prototype.a3L=function(e,A,a){if(a==null)return;e.I.n8.push(0,0);if(e.I.kp==null)e.I.kp={F:[],w:[]};
for(var c=0;c<a.Vx.length;c++){var p=a.Vx[c];for(var N=0;N<p.Re.length;N++){var i=p.Re[N],Z=p.my.x+i.my.x+i.nd.x,s=p.my.y+i.my.y+i.nd.y+i.nd.n;
e.I.kp.F.push("M","L");e.I.kp.w.push(Z,s,Z+i.nd.m,s)}}e.De=!0};q.azh=function(){q.n7.call(this,!0)};
q.azh.prototype=new q.n7;q.to=function(){q.ns.call(this,[10,9],q.y6,"tools/lasso");this.tr="crosshair";
this.eJ=null;this.MY=null;this.lt=null};q.to.prototype=new q.ns;q.to.prototype.ME=function(e,A,a,p){this.eJ=this.LD;
this.MY={w:[this.eJ.x,this.eJ.y],F:["M"]}};q.to.prototype.m3=function(e,A,a,p){this.lt=p;var N=this.MY;
if(N==null)return;if(!p.x2){if(this.MY!=null&&this.D2>1&&a.l(g4.uJ)){N.w.pop();N.w.pop();N.w.push(this.$Y.x,this.$Y.y);
e.I.kp=N;e.De=!0}return}N.F.push("L");N.w.push(this.$Y.x,this.$Y.y);this.eJ=this.$Y;if(this.mz){e.I.kp=N;
e.De=!0}};q.to.prototype.xV=function(){return this.MY!=null};q.to.prototype.Hd=function(){return this.MY!=null};
q.to.prototype.CE=function(e,A,a,p){q.ns.prototype.CE.call(this,e,A,a,p);if(this.MY&&this.D2>1&&this.lt&&!this.lt.x2&&!p.l(g4.uJ))this.aqn(e,a,p)};
q.to.prototype.fG=function(e,A,a,p){this.lt=p;var N=this.MY;if(N==null)return;if(this.D2>1&&a.l(g4.uJ)){N.F.push("L");
N.w.push(this.$Y.x,this.$Y.y);return}this.aqn(e,A,a)};q.to.prototype.aqn=function(e,A,a){this.finish(e,A,a,this.lt);
this.MY=null;e.I.kp=null;e.De=!0};q.to.prototype.getSelection=function(e,A,a,p){if(this.LD.Kx(this.$Y)||!this.mz)return null;
return q.ns.cx(this.MY.w,null,this.tg.anta)};q.GS=function(){q.$w.call(this,[10,11],q.Mf,"tools/move");
this.wW=new k7(0,0);this.Pw=new k7(0,0);this.sx=null;this.p5=null;this.cn=new k7(0,0);this.Zg=null;this.w7=null;
this.p2=null;this.ro=0;this.KZ=null;this.KV=[];this.io=null;this.ad=null;this.WE=!1;this.d=0;this.Ov=null;
this.ca=null;this.rV=null;this.pB=!1;this.tg={ix:!1,nQ:!1,Eh:!1,a9i:1};this.a1Y=!1;this.akv=!1;this.jH=null;
this.HP=null;this.ajc=null;var e=[];for(var c=0;c<j.qC.e7.length;c++)e.push({name:j.qC.e7[c],C:function(A,a,p){return{$x:a.tz.sP==p}}});
this.hS=new fx(e);this.hS.h("select",this.Om,this)};q.GS.prototype=new q.$w;q.$w.prototype.I1=function(e){return this.WE&&this.d!=2};
q.GS.prototype.awW=function(){return this.WE&&(this.d==0||this.d==1)};q.GS.prototype.xQ=function(e,A,a,p){this.zC(e,-this.cn.x,-this.cn.y);
this.cn.rq(0,0);this.WQ(e,null,a);this.lo(e)};q.GS.prototype.CK=function(){var e=this.tg;return[e.ix?1:0,e.nQ?1:0,e.Eh?1:0]};
q.GS.prototype.rm=function(e,A,a){var p=this.tg;if(e&&e[0]!=null)p.ix=e[0]==1;if(e&&e[1]!=null)p.nQ=e[1]==1;
if(e&&e[2]!=null)p.Eh=e[2]==1;var N=new k4(t.E.L,!0);N.data={d:t.c.FF,G:this.id,KO:p,a3v:A};a.S(N)};
q.GS.ae_=function(e,A,a,p,N,i,Z){if(Z==null)Z=[!1,!0];var s=e.Ee(null,N,!0),D,n;if(e.add.artd&&e.g.length==1&&e.B[e.g[0]].add.artb){var S=e.B[e.g[0]].jP();
D=e.cf(s,S,S)[0]}else{var F=new dE(0,0,e.m,e.n),D=e.cf(s,Z[0]?F:null,Z[1]?null:F)[0];delete D.add.artd;
if(Z[1]){var m=j.cB(D.WR(),new dE(0,0,D.m,D.n),2);q.v9.UE(D,m)}}if(a!=1){var J=new dE(0,0,Math.round(D.m*a),Math.round(D.n*a));
q.v9.UE(D,J);var w=[];for(var c=0;c<D.B.length;c++)w.push(c);var f=q.BD.jo(D,w,!0);q.v9.es(D,new bj(a,0,0,a,0,0));
q.BD.Gn(D,p,w,f,1,j.K.s1(new bj(a,0,0,a,0,0)),null,!0);D.HD()}else if(n){D.U();D.HD()}var b=[];for(var c=0;
c<A.length;c++)if(D.m*D.n!=0)b.push(fI.Ek(D,A[c].toUpperCase(),null,null,i?i[c]:null,p));return b};q.GS.prototype.aae=function(e,A,a,p,N){if(e==null||e.g.length==0)return;
var i=q.GS.ae_(e,[A],a,p,null)[0],Z=new k4(t.E.L,!0);Z.data={d:t.c.S0,data:i,name:e.B[e.g[0]].getName()+(a==1?"":"@"+a+"x")+"."+A};
N.S(Z)};q.GS.prototype.vH=function(e,A,a,p,N){if(e.dy=="getPNG"){this.aae(a,"png",e.uF,N,A)}else if(e.dy=="getSVG"){this.aae(a,"svg",e.uF,N,A)}if(e.dy=="prms"){this.tg=e;
this.lo(a)}};q.GS.azZ=function(e){var iM=e.length,a=0;e.sort(function(i,Z){return i[0]+i[1]/2-(Z[0]+Z[1]/2)});
var A=e[iM-1][0]+e[iM-1][1]-e[0][0];for(var c=0;c<iM;c++)a+=e[c][1];var p=Math.round((A-a)/(iM-1)),N=e[0][0];
for(var c=0;c<iM;c++){e[c][0]=N;N+=e[c][1]+p}};q.GS.prototype.nc=function(e,A,a,p,N){var i=e.d;if(i=="trsl"){var Z=Math.round(e.ts),s=Math.round(e.fd);
this.cn.rq(Z,s);this.ww(a,A,p,N,!1,e.j);this.zC(a,Z,s);this.WQ(a,null,N)}else if(i=="fcmy"||i=="fvec"){var D=["RGB","CMYK"][e.Z]+" Color";
if(i=="fvec")D=["Raster","Vector"][e.Z]+" Mode";var n=new af(D,this);n.data={d:e.d,Ve:a.add[i]==null?0:a.add[i],pL:e.Z};
a.G2(n);this.Jf(n.data,a)}else if(i=="pview"){var i=new af([8,14],this);i.data={d:e.d};a.G2(i);this.Jf(i.data,a)}else if(i=="lockguides"){if(a)a.ju=!a.ju}else if(i=="gids"||i=="gidsFromLayer"){var S=e.ca,F,$;
if(S==null)S=a.ek();if(i=="gids"){F=e.Ph;var m=S[0].length,J=F[0].length;$=m==J?[23,2]:m>J?[23,3]:[23,4];
if(J==0)$=[11,15,0]}else if(i=="gidsFromLayer"){var w=[],f=[],b=a.nE();for(var c=0;c<a.g.length;c++){var L=a.B[a.g[c]].rect;
if(L.QP())continue;w.push([0,L.x],[1,L.y],[0,L.x+L.m],[1,L.y+L.n]);f.push(b,b,b,b)}$=[11,15,1];F=a.ek();
q.GS.i_(F,[w,f])}if(JSON.stringify(S)==JSON.stringify(F))return;var i=new af($,this);i.data={d:2,ca:S,Ph:F};
a.G2(i);this.Jf(i.data,a)}else if(i=="algn"){var C=e.Z;if(a==null)return;if(a.g.length<2&&!(a.P!=null&&C!=3&&C!=7)){alert(i1.get([15,7,5]));
return}var M=a.P;a.P=null;var L=M?M.rect:q.BD.V0(a);this.ww(a,A,p,N,!1);if(!this.WE)return;var y=this.KZ,Q={},k=[],E=[],_=[];
for(var c=0;c<y.length;c++){var v=y[c];while(a.B[v].getName()=="</Layer group>")v++;var V=a.root.WG(v),R=V;
while(V.parent!=null){V=V.parent;if(y.indexOf(V.index)!=-1)R=V}var h=E.indexOf(R.index);if(h==-1){h=E.length;
E.push(R.index)}k[c]=h}var P=[],H=[],U=[];for(var c=0;c<E.length;c++){var X=q.BD.V0(a,a.Ee(!0,E[c]));
U.push(X);var x=C==3?[X.y,X.n]:[X.x,X.m];P[c]=x;H.push(x)}q.GS.azZ(H);for(var c=0;c<E.length;c++){var X=U[c],K=X.x,T=X.y;
if(C==0)K=L.x;if(C==1)K=L.x+(L.m-X.m)/2;if(C==2)K=L.x+(L.m-X.m);if(C==3)T=P[c][0];if(C==4)T=L.y;if(C==5)T=L.y+(L.n-X.n)/2;
if(C==6)T=L.y+(L.n-X.n);if(C==7)K=P[c][0];_.push(Math.round(K-X.x),Math.round(T-X.y))}var I=[];for(var c=0;
c<y.length;c++){var o=k[c];I[2*c]=_[2*o];I[2*c+1]=_[2*o+1]}this.zC(a,0,0,null,I);var l=C==3||C==7?[20,4,6]:[20,4,C<3?C:C-1];
this.WQ(a,null,N,I,l);a.P=M}else if(i=="disabAuto"){this.rm([!1],null,A)}};q.GS.i_=function(e,A){for(var c=0;
c<A[0].length;c++){var a=A[0][c],p=A[1][c],N=!1;for(var i=0;i<e[0].length;i++){var Z=e[0][i],s=e[1][i];
if(a[0]==Z[0]&&a[1]==Z[1]&&p==s)N=!0}if(!N){e[0].push(a.slice(0));e[1].push(p)}}};q.GS.prototype.enable=function(e,A,a,p,N){this.w7=a;
this.p2=A;this.pB=N?!0:!1;this.lo(e);this.V2("default",A);this.CE(e,A,a,p)};q.GS.prototype.disable=function(e,A,a,p){this.a24(e)};
q.GS.prototype.a24=function(e){if(e==null)return;if(this.jH){this.jH.clear(e);this.jH=null}if(e.I.Eh){e.I.Eh=null;
e.De=!0}if(e.I.bz){e.I.bz=null;e.De=!0}if(e.I.u2[this.id]){delete e.I.u2[this.id];e.De=!0}if(e.I.NC.length!=0){e.I.NC=[];
e.De=!0}};q.GS.prototype.XV=function(e,A,a,p){if(a.zX!=this.id)return;this.lo(e)};q.GS.prototype.lo=function(e,A){if(e==null)return;
var a=this.tg;this.a24(e);if(!this.pB){var p;if(a.nQ||a.Eh)p=j.p.dE(q.BD.V0(e));if(a.nQ&&!p.QP()){this.jH=new bd([p.x,p.y,p.x+p.m,p.y,p.x+p.m,p.y+p.n,p.x,p.y+p.n],!0);
this.jH.vE(e,this.w7)}if(a.Eh){var N=null,S=null,F=!1;if(e.nE()!=-1)N=e.B[e.nE()].jP();else N=new dE(0,0,e.m,e.n);
e.I.Eh={VK:[p],zm:[]};var i=e.I.Eh.zm,Z=p.x+p.m,s=p.y+p.n,D=p.x+Math.floor(p.m/2),n=p.y+Math.floor(p.n/2);
if(A){var $=e.root.x4(new k7(Math.floor(A.x),Math.floor(A.y)));if($){S=j.p.dE($.j.SK(e));if(S.CS(p)){F=(S.XH(p)||p.XH(S))&&!p.Kx(S);
if(!F)S=null}}}this.aop(p,i);if(S!=null){e.I.Eh.VK.push(S);var m=S.x+S.m,J=S.y+S.n,w=S.x+Math.floor(S.m/2),f=S.y+Math.floor(S.n/2);
if(F){var b=D,L=n;if(p.XH(S)){b=w;L=f}i.push(p.x,L,S.x,L);i.push(Z,L,m,L);i.push(b,p.y,b,S.y);i.push(b,s,b,J)}else{this.aop(S,i);
var C=s<S.y||J<p.y,M=Z<S.x||m<p.x;if(Z<S.x)i.push(Z,n,S.x,n);if(m<p.x)i.push(m,n,p.x,n);if(s<S.y)i.push(D,s,D,S.y);
if(J<p.y)i.push(D,J,D,p.y);if(C&&!M){if(p.x<S.x)i.push(p.x,f,S.x,f);if(S.x<p.x)i.push(S.x,n,p.x,n)}}}else{if(p.y>N.y)i.push(D,N.y,D,p.y);
if(s<N.y+N.n)i.push(D,s,D,N.y+N.n);if(p.x>N.x)i.push(N.x,n,p.x,n);if(Z<N.x+N.m)i.push(Z,n,N.x+N.m,n)}e.De=!0}}if(this.d==2&&this.WE){var y=new dE(0,0,e.m,e.n),Q=e.nE();
if(Q!=-1){var k=e.ek(),E=k[1][this.KZ];if(E==-1)E=Q;y=e.B[E].jP()}var _=e.dc[this.KZ],v=_[0],V=(v==0?"X":"Y")+": "+j.qC.Wa(_[1]-(v==0?y.x:y.y),e.l5,this.w7,v==0?y.m:y.n,!0);
q.$w.nI(Math.round(this.sx.x)+10,Math.round(this.sx.y)-10,[V],e);e.De=!0}if(this.d==3&&this.WE){var R=j.p.wt(this.Ov);
e.I.u2[this.id]={kp:R};e.De=!0}};q.GS.prototype.aop=function(e,A){var a=e.m,p=e.n,N=e.x+Math.floor(a*.2),i=e.y+Math.floor(p*.2);
A.push(N,e.y,N,e.y+p);A.push(e.x,i,e.x+a,i)};q.GS.prototype.V2=function(e,A){var a={d:t.c.Jn,J5:e},p=new k4(t.E.L,!0);
p.data=a;A.S(p)};q.GS.prototype.yy=function(e){var A=this.HP.Yy()[0],a=this.Zg,p=this.ajc[A];this.afl(a,p)};
q.GS.prototype.Om=function(e){var A=JSON.parse(JSON.stringify(this.w7.tz));A.sP=this.hS.Yy()[0];var a=new k4(t.E.L,!0);
a.data={d:t.c.iK,hP:ac.vY,pL:A};this.p2.S(a)};q.GS.prototype.rZ=function(e,A,a,p,N){if(this.WE)this.$Q(e,A,a,p,N);
this.Zg=e;this.w7=a;this.p2=A;var i=e.u.FT(N.x,N.y),Z;if(q.GS.Mt(a,N,e.u)){Z=this.hS}else{if(this.HP)this.HP.removeEventListener("select",this.yy);
var s=[];e.root.x4(i,s);if(s.length==0)return;var D=[];this.ajc=s;for(var c=0;c<s.length;c++)D.push({name:e.B[s[c]].getName()});
Z=this.HP=new fx(D);Z.h("select",this.yy,this)}Z.parent=A;Z.f();Z.update(e,a);var n=new k4(t.E.L,!0);
n.data={d:t.c.OY,U7:Z,x:N.Qb+2,y:N.aG+1};A.S(n)};q.GS.prototype.ahM=function(e,A,a,p,N){var i=q.GS.l_(e,N);
return i!=-1||q.GS.Mt(a,N,e.u)};q.GS.l_=function(e,A){if(e==null||e.add.artd==null)return-1;var a=e.u.FT(A.x,A.y),p=12*q.V()/e.u.N;
for(var c=0;c<e.B.length;c++){var N=e.B[c];if(!N.gi()||N.add.artb==null)continue;var i=N.jP(),Z=new dE(i.x,i.y-1.7*p,p*N.getName().length*.5,p);
if(Z.QX(a))return c}return-1};q.GS.prototype.MD=function(e,A,a,p,N){var i=q.GS.l_(e,N),Z=q.GS.ayp(e,e.u.FT(N.x,N.y));
if(i!=-1){e.g=[i];if(a.zX==q.Mf){var s=new k4(t.E.L);s.data={d:t.c.sk,G:q.M5};A.S(s)}return}if(Z!=-1){e.u.g$=Z;
e.W$=!0;var s=new k4(t.E.L,!0);s.data={d:t.c.t2,NY:kc.oy.avH};A.S(s);return}this.sx=N;this.wW.rq(N.x,N.y);
this.Pw=e.u.FT(N.x,N.y);this.p5=new am(this.Pw);this.ww(e,A,p,a,!0)};q.GS.Mt=function(e,A,a,p){var N=j.qC.xH,i=a.eL.n;
return e.Dm&&(0<A.x&&A.x<N||0<A.y&&A.y<N||p&&0<A.x&&A.x<4*N&&i-N<A.y&&A.y<i)};q.GS.prototype.ww=function(e,A,a,p,N,i){var Z,s=this.Pw,D=!1;
if(N){var n=p.Z8&&p.tz.dc;if(q.GS.Mt(p,this.wW,e.u)){Z=e.ek();var S=e.ek(),F=null;if(this.wW.x<j.qC.xH){F=[0,s.x]}if(this.wW.y<j.qC.xH){F=[1,s.y]}S[0].push(F);
S[1].push(e.nE(!0));e.sT(S);if(!n){var $=new k4(t.E.L);if(!p.tz.dc){$.data={d:t.c.iK,hP:ac.Nn};A.S($)}if(!p.Z8){$.data={d:t.c.iK,hP:ac.VH};
A.S($)}n=!0}}var m=this.ayq(e,s);if(n&&m!=null&&!e.ju){this.d=2;this.ca=Z?Z:e.ek();this.KZ=m;this.WE=!0;
this.ad=q.BD.V0(e);return}if(e.RN.length!=0){this.d=4;this.ad=e.l8[e.RN[0]].rect.clone();this.WE=!0;
return}if(this.jH&&this.jH.YO(s,e.u.N,!0,this.sx)!=null){var $=new k4(t.E.L);$.data={d:t.c.sk,G:q.lE,acQ:!0};
A.S($);return}if(e.P&&e.P.rect.QX(s)){var J=Math.round(s.x),w=Math.round(s.y),f=e.P.rect;D=e.P.channel[(w-f.y)*f.m+J-f.x]>128}if(!D&&(!this.pB&&this.tg.ix||this.pB&&this.tg.ix&&(a.l(g4.Kp)||e.g.length<2))){var b=this.aw3(e,s,a);
if(!b){e.g=[];e.AH=null;e.Xz=e.DU=!0;this.d=3;this.Ov=new dE;this.WE=!0;return}}if(a.l(g4.uJ)&&!D){var L=new k4(t.E.v);
L.G=q._b;L.data={d:u.$A,akR:!0};A.S(L)}}if(e.RN.length!=0){this.d=4;this.ad=e.l8[e.RN[0]].rect.clone();
this.WE=!0;return}this.KZ=e.Ee(i==null,i,null,!0);for(var c=0;c<this.KZ.length;c++){var C=this.KZ[c],M=e.B[C];
if(M.xF(2)||M.xF(31)||e.bK(C)){alert(i1.get([6,57,0]));return}}if(e.add.artd&&N){var y=this.KZ,Q=!1;
for(var c=0;c<y.length;c++)if(e.B[y[c]].add.artb)Q=!0;if(!Q){this.io=[e,e.B.slice(0),e.g.slice(0),-1];
this.KZ.sort(function(P,H){return P-H})}}this.KV=q.GS.aix(e,this.KZ);this.d=0;if(e.P&&(!N||D)&&e.g.length==1&&e.VX(!1)){if(!e.amQ()){this.WE=!1;
return}var k=e.B[e.g[0]],E=a.l(g4.uJ);this.d=1;var _=e.history[e.hd];if(_.G==this&&_.data.d==1&&_.data.j==e.g[0]&&k.os==k.b0.os&&!E){this.rV=_}else{var v=k.b0,V=!1,R;
if(!k.EV(e,e.P)||E){V=!0;k.nU(e,e.P,E)}if(k.b0.os<=0){R=j.Q(k.b0.y9.length>>2);j.kI(k.b0.y9,R,3)}else R=e.P.channel.slice(0);
var h={rect:k.b0.r4.clone(),channel:R};this.rV=new af(E?[12,53]:[12,54],this);this.rV.data={d:1,j:e.g[0],b0:k.b0,PR:v,Qs:V,_i:e.P,zE:h,pU:new k7(0,0)};
e.G2(this.rV);e.P=h;e.zQ=!0}}this.WE=!0;this.ad=q.BD.V0(e)};q.GS.prototype.aw3=function(e,A,a){var p=e.root.x4(new k7(Math.floor(A.x),Math.floor(A.y)));
if(p){if(p.j.add.vmsk)e.De=!0;var N=e.B.indexOf(p.j);if(this.tg.a9i==0){var i=e.root.WG(N);while(i.parent&&i.parent.depth!=0&&i.parent.j.add.artb==null)i=i.parent;
N=i.index}if(a.l(g4.Kp)){var Z=e.g.indexOf(N);if(Z==-1)e.g.push(N);else if(e.g.length>1)e.g.splice(Z,1)}else if(e.g.indexOf(N)==-1){this.afl(e,N)}}return p!=null};
q.GS.prototype.afl=function(e,A){e.B[A].os=0;e.g=[A];e.AH=null;e.xI();e.ew=!0;e.Xz=!0};q.GS.ayp=function(e,A){var a=e.add.Anno;
if(a==null||a.length==0)return-1;var p=30/e.u.N;for(var c=0;c<a.length;c++)if(new dE(a[c][0],a[c][1],p,p).QX(A))return c;
return-1};q.GS.prototype.D1=function(e,A,a,p,N){this.sx=N;var i=e.u.FT(N.x,N.y),m,J;if(this.p5&&this.d<2)i=this.p5.ZF(i,p);
if(!this.WE){if(a.Z8&&a.tz.dc&&e&&!e.ju){var Z=this.ayq(e,i),s="default",D=q.GS.l_(e,N);if(Z!=null)s=["col-resize","row-resize"][e.dc[Z][0]];
else if(this.jH){var n=this.jH.YO(i,e.u.N,null,N);if(n)s=n}else if(D!=-1||q.GS.ayp(e,i)!=-1){s="pointer"}this.V2(s,A)}this.lo(e,i);
return}var S=this.Pw,F=Math.round(i.x-S.x)-this.cn.x,$=Math.round(i.y-S.y)-this.cn.y;if(this.ad){if(this.d==2){var w=[];
if(e.P)w.push(e.P.rect);if(this.ad)w.push(this.ad);if(e.u.IT)w.push(e.u.IT);i=q.GS.zp(e,i,a,[!1,w,!0])}else{J=this.ad.clone();
J.offset(this.cn.x+F,this.cn.y+$);m=q.GS.rg(e,J,a);var f=this.p5.aog(p);if(f==1){m[0]=0;m[2]=1e9}if(f==2){m[1]=0;
m[3]=1e9}F+=Math.round(m[0]);$+=Math.round(m[1])}}this.cn.x+=F;this.cn.y+=$;var b=this.io;if(b&&e==b[0]){e.Ex(b[1]);
e.g=b[2].slice(0);b[3]=-1}this.zC(e,F,$,i,null,p.l(g4.Kp));if(b&&e==b[0]){var L=this.ad.clone();L.offset(this.cn.x,this.cn.y);
var C=i,D=e.nE(),M=-1;for(var c=0;c<e.B.length;c++){var y=e.B[c];if(!y.gi()||y.add.artb==null)continue;
var Q=y.jP();if(Q.QX(C))M=c}if(M!=-1&&M!=D){var k=q.TN.fP(e,this.KZ,M,!0,null,!1);e.Ex(k[0]);e.g=k[1];
b[3]=M}}this.lo(e,i);if(m)q.GS.hj(e,J,m)};q.GS.prototype.ayq=function(e,A){var a=q.aO(e,this.sx);A=[A.x,A.y];
var p=e.ek(),N=e.nE();for(var c=0;c<p[0].length;c++){var i=p[0][c],Z=p[1][c];if(Z!=-1&&Z!=N)continue;
if(Math.abs(i[1]-A[i[0]])<a)return c}return null};q.GS.prototype.zC=function(e,A,a,p,N,i){if(this.d==0){if(N)q.GS.gZ(e,this.KZ,this.KV,N);
else q.GS.jQ(e,this.KZ,this.KV,A,a)}else if(this.d==1){var Z=this.rV.data;Z.pU.offset(A,a);q.GS.EH(e,Z.j,A,a)}else if(this.d==2){var s=1e-5;
if(i)s=e.u.N<=1?10:1;else if(e.u.N<=1)s=1;var D=s*Math.round(p.x/s),n=s*Math.round(p.y/s),S=[D,n],F=e.dc[this.KZ];
F[1]=S[F[0]]}else if(this.d==3){var $=this.Pw,m=j.p.fX([$.x,$.y,p.x,p.y]);this.Ov=m;var J=[];e.root.a0b(m,J);
if(JSON.stringify(e.g)!=JSON.stringify(J)){e.g=J;e.Xz=e.DU=!0}}else if(this.d==4){for(var c=0;c<e.RN.length;
c++)e.l8[e.RN[c]].rect.offset(A,a);e.De=!0}};q.GS.EH=function(e,A,a,p){var N=e.B[A];e.P.rect.offset(a,p);
N.YT(e,a,p,e.P);e.zQ=!0;e.U()};q.GS.prototype.$Q=function(e,A,a,p,N,i){this.WQ(e,N,a);this.lo(e);if(Date.now()-this.ro<300&&!i){var Z=q.n7.R1(e,e.u.FT(N.x,N.y));
if(q.GS.Mt(a,N,e.u,!0)){var s=new k4(t.E.L);if(N.y>e.u.eL.n-20){s.data={d:t.c.Ch,NY:"doczoom",Ve:e.u.N*100,lP:{Y:t.E.v,G:q._B,W:{d:"pzoom"}}}}else{s.data={d:t.c.Ch,NY:"preferences"}}A.S(s)}else if(Z>=0){var D=new k4(t.E.v,!0);
D.G=q.L1;D.data={d:"editCurr",zK:Z};A.S(D)}}this.ro=Date.now();q.v9.iF(e)};q.GS.prototype.WQ=function(e,A,a,p,N){if(!this.WE)return;
this.WE=!1;if(this.d==0){if(p){this.ae$(e,null,p,N)}else{if(this.cn.x==0&&this.cn.y==0)return;this.ae$(e,this.cn.clone())}e.W$=!0}else if(this.d==2){var i=0;
A=[A.x,A.y];var Z=this.KZ,s=e.dc[Z],jc=this.ca[0].length,D=e.dc.length;if(a.Dm&&A[s[0]]<j.qC.xH){var n=e.ek();
n[0].splice(Z,1);n[1].splice(Z,1);e.sT(n);i=1;if(jc==D-1)return}if(jc<D)i=2;var S=new af([[23,2],[23,3],[23,4]][i],this);
S.data={d:2,ca:this.ca,Ph:e.ek()};e.G2(S)}else if(this.d==4){var S=new af([12,54],this);S.data={d:4,g:e.RN.slice(0),R:this.cn.clone()};
e.G2(S)}this.cn.rq(0,0)};q.GS.prototype.CE=function(e,A,a,p){var N=p._X(e?e.u.xj:0);if(e!=null&&(N.x!=0||N.y!=0)){if(p.l(g4.uJ)&&e.P==null){var i=new k4(t.E.v);
i.G=q._b;i.data={d:u.$A,akR:!0};A.S(i)}this.cn.rq(N.x,N.y);this.ww(e,A,p,a,!1);if(!this.WE)return;this.zC(e,N.x,N.y);
this.WQ(e,null,a);this.lo(e)}var Z=p.l(g4.YC);if(!this.pB&&this.akv!=Z){if(Z){this.a1Y=this.tg.ix;this.tg.ix=!0}else{this.tg.ix=this.a1Y}this.akv=Z;
var s=new k4(t.E.L,!0);s.data={d:t.c.FF,G:this.id,KO:this.tg};A.S(s)}};q.GS.prototype.rf=function(e,A){if(e.d==0){var a=e.Qd;
if(a){A.Ex(a.S4);A.g=a.Fn.slice(0);A.U();A.Xz=!0}q.GS.gZ(A,e.g,e.a4,e.Jc,!0);q.v9.iF(A)}else if(e.d=="fcmy"||e.d=="fvec"){if(e.Ve==0)delete A.add[e.d];
else A.add[e.d]=e.Ve;A.De=!0}else if(e.d=="pview"){A.o7=!A.o7;A.U()}else if(e.d==2){A.sT(e.ca);A.De=!0}else if(e.d==4){for(var c=0;
c<e.g.length;c++)A.l8[e.g[c]].rect.offset(-e.R.x,-e.R.y);A.De=!0}else{var p=A.B[e.j];if(e.Qs){p.Tj(A,e.PR);
A.P=e._i;A.zQ=!0;A.U();p.U()}else{q.GS.EH(A,e.j,-e.pU.x,-e.pU.y)}}};q.GS.prototype.Jf=function(e,A){if(e.d==0){q.GS.gZ(A,e.g,e.a4,e.Jc);
var a=e.Qd;if(a){A.Ex(a.f_);A.g=a.P6.slice(0);A.U();A.Xz=!0}q.v9.iF(A)}else if(e.d=="fcmy"||e.d=="fvec"){if(e.pL==0)delete A.add[e.d];
else A.add[e.d]=e.pL;A.De=!0}else if(e.d=="pview"){A.o7=!A.o7;A.U()}else if(e.d==2){A.sT(e.Ph);A.De=!0}else if(e.d==4){for(var c=0;
c<e.g.length;c++)A.l8[e.g[c]].rect.offset(e.R.x,e.R.y);A.De=!0}else{var p=A.B[e.j];if(e.Qs){p.b0=e.b0;
A.P=e.zE;q.GS.EH(A,e.j,0,0);p.U()}else{q.GS.EH(A,e.j,e.pU.x,e.pU.y)}}};q.GS.prototype.ae$=function(e,A,a,p){if(a){var N=!0;
for(var c=0;c<a.length;c++)if(a[c]!=0)N=!1;if(N)return}var i=e.history[e.hd],Z=this.io,s=Z!=null&&Z[3]!=-1&&Z[0]==e;
if(!s&&a==null&&i.data&&i.G==this&&i.data.d==0&&JSON.stringify(i.data.g)==JSON.stringify(this.KZ)&&JSON.stringify(i.data.a4)==JSON.stringify(this.KV)){var D=i.data.Jc,n=i.data.a8I.h2.T.v;
n.Hrzn.v.val+=A.x;n.Vrtc.v.val+=A.y;for(var c=0;c<D.length;c+=2){D[c]+=A.x;D[c+1]+=A.y}}else{if(A==null)A=new k7(a[0],a[1]);
var S={_h:"move",h2:{classID:"null",null:gb.o$("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:A.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:A.y}}}}}},F=null;
if(s)F={S4:Z[1],Fn:Z[2],f_:e.B.slice(0),P6:e.g.slice(0)};this.io=null;var $=new af(p?p:[12,54],this);
if(a)$.data={d:0,g:this.KZ,a4:this.KV,Qd:F,Jc:a};else $.data={d:0,g:this.KZ,a4:this.KV,Qd:F,Jc:q.GS.aiV(this.KZ,A.x,A.y)};
$.data.a8I=S;e.G2($);this.track(S)}};q.GS.aiV=function(e,A,a){var p=[];for(var c=0;c<e.length;c++)p.push(A,a);
return p};q.GS.jQ=function(e,A,a,p,N){q.GS.gZ(e,A,a,q.GS.aiV(A,p,N))};q.GS.gZ=function(e,A,a,p,N){if(A.length==0)return;
if(a==null){a=[];for(var c=0;c<A.length;c++){a.push(e.B[A[c]].oC(e,!0))}}var i=new dE,Z=new dE(0,0,e.m,e.n);
for(var c=0;c<A.length;c++){var s=p[2*c],D=p[2*c+1];if(N){s=-s;D=-D}var n=e.B[A[c]],S=a[c];if(n.add.fxrp&&(S.indexOf(0)!=-1||n.c7()))n.add.fxrp.offset(s,D);
for(var F=0;F<S.length;F++){var $=S[F];if($==0){n.rect.offset(s,D);if(n.$f()&&n.MH(e))n.MH(e).rect.offset(s,D);
if(n.add.artb){var m=n.jP();m.offset(s,D);n.Mx(m);var J=n.add.artb.guideIndeces;J=J?J.v:[];for(var w=0;
w<J.length;w++){var f=e.dc[J[w].v];f[1]+=f[0]==0?s:D}}if(n.add.TySh){n.add.TySh.D.translate(s,D);if(n.add.TySh.add){n.add.TySh.add.vmsk.offset(s,D)}}if(n.add.SoLd){var b=new bj(1,0,0,1,s,D),L=n.add.SoLd,C=q.BD.KR(L.Trnf),M=q.BD.KR(L.nonAffineTransform);
j.p.D(C,b,C);j.p.D(M,b,M);L.Trnf=q.BD.Jw(C);L.nonAffineTransform=q.BD.Jw(M);q.BD.a3_(L,b)}}if($==1)n.tR().rect.offset(s,D);
if($==2){n.add.vmsk.offset(s,D);if(n.add.vogk)j.X.D(n.add.vogk,[1,0,s,0,1,D,0,0],[]);if(n.P5.MY){var y=n.P5.MY.cH.w;
j.p.D(y,new bj(1,0,0,1,s,D),y)}}if($==3){n.MH(e).$.rect.offset(s,D);if(S.length==1)n.U()}}if(S.length>0){var Q=n.add.GdFl;
if(Q==null)Q=n.add.PtFl;if(n.c7()&&!n.q7()&&n.add.vmsk!=null&&j.r.Jb(n.add.vmsk.i)&&n.add.vmsk.Yi==255&&(Q==null||Q.Algn&&Q.Algn.v)){n.rect.offset(s,D)}else n.yO(e);
var k=e.root.er(n.SK(e),e,A[c]);if(n.add.artb)k=k.pg(n.jP());i=i.pg(k);k.offset(-s,-D);i=i.pg(k);if(n.TC()&&n.$&&n.$.color==255)i=i.pg(Z);
n.alc()}}e.U(j.p.dE(i))};q.GS.aix=function(e,A){var a=[];for(var c=0;c<A.length;c++){var p=e.B[A[c]];
a.push(p.oC(e))}return a};q.GS.hj=function(e,A,a){var p={w:[],F:[]},N=A.x+a[0],i=A.y+a[1];if(a[2]!=1e9){p.F.push("M","L");
var Z=i+A.n;if(a[4])p.w.push(a[2],Math.min(i,Z,a[4][1]),a[2],Math.max(i,Z,a[4][1]));else p.w.push(a[2],i,a[2],i+A.n)}if(a[3]!=1e9){p.F.push("M","L");
var s=N+A.m;if(a[5])p.w.push(Math.min(N,s,a[5][0]),a[3],Math.max(N,s,a[5][0]),a[3]);else p.w.push(N,a[3],s,a[3])}if(p.w.length!=0){e.I.bz=p;
e.De=!0}};q.GS.zp=function(e,A,a,p){var N=q.GS.afu(e,[[A.x],[A.y]],a,p);return new k7(A.x+N[0],A.y+N[1])};
q.GS.rg=function(e,A,a,p,N){var i=N==!0?1:.5,Z=q.GS.afu(e,[[A.x,A.x+Math.round(A.m*i),A.x+A.m],[A.y,A.y+Math.round(A.n*i),A.y+A.n]],a,p);
return Z};q.GS.afu=function(e,A,a,p){if(p==null)p=[!0,null,!0];var N=[0,0,1e9,1e9,null,null];if(!a.RX)return N;
var i=JSON.parse(JSON.stringify(A));for(var Z=0;Z<2;Z++){var s=1e9,D=A[Z],n=0,S=null;for(var F=0;F<D.length;
F++){var $=q.GS.ar_(e,D[F],i[1-Z][F],Z,a,p),m=$[0];if(m!=1e9)i[Z][F]=m;if(m!=1e9&&Math.abs(m-D[F])<Math.abs(s)){s=m-D[F];
n=m;S=$[1]}}if(s!=1e9){N[Z]=s;N[Z+2]=n;N[Z+4]=S}}return N};q.GS.ar_=function(e,A,a,p,N,i){var Z=1e9,s=null,D=N.po,n=N.tz,S=[e.root];
while(S.length!=0&&D[2]){var F=S.pop(),$=F.j,m=$.rect;if(!$.gi())continue;if(F.children)for(var c=0;
c<F.children.length;c++)S.push(F.children[c]);if(e.g.indexOf(F.index)!=-1||m.QP())continue;var J=m.m,w=J>>>1,f=m.n,b=f>>>1,L=Z;
if(p==0){if(Math.abs(m.x-A)<Math.abs(Z-A))Z=m.x;if(Math.abs(m.x+w-A)<Math.abs(Z-A))Z=m.x+w;if(Math.abs(m.x+J-A)<Math.abs(Z-A))Z=m.x+J}else{if(Math.abs(m.y-A)<Math.abs(Z-A))Z=m.y;
if(Math.abs(m.y+b-A)<Math.abs(Z-A))Z=m.y+b;if(Math.abs(m.y+f-A)<Math.abs(Z-A))Z=m.y+f}if(L!=Z){s=[m.x+w,m.y+b]}}var C=Z;
Z=1e9;if(i[0]&&D[0]&&n.dc&&N.Z8){var M=e.ek(),y=M[0],Q=M[1],k=e.nE();for(var c=0;c<y.length;c++)if((Q[c]==-1||Q[c]==k)&&y[c][0]==p&&Math.abs(y[c][1]-A)<Math.abs(Z-A))Z=y[c][1]}if(D[1]&&n.Qv&&N.Z8){var E=Math.round(j.qC.Ot(n.YF,e.l5,e.m,n.Je));
if(p==1&&n.Oj==1){var _=a*.5*Math.sqrt(4/3),v;E*=Math.sqrt(4/3);v=Math.round((A-_)/E)*E+_;if(Math.abs(v-A)<Math.abs(Z-A))Z=v;
v=Math.round((A+_)/E)*E-_;if(Math.abs(v-A)<Math.abs(Z-A))Z=v}else{var v=Math.round(A/E)*E;if(Math.abs(v-A)<Math.abs(Z-A))Z=v}}var V=e.WM;
if(D[3]&&n.WM&&N.Z8&&V.length!=0){for(var c=0;c<V.length;c++){if(!i[2]&&e.M_.indexOf(c)!=-1)continue;
var R=q.RK.RQ(V,c);for(var h=0;h<3;h+=2)if(R[h+p]!=A&&Math.abs(R[h+p]-A)<Math.abs(Z-A))Z=R[h+p]}}if(i[1])for(var P=0;
P<i[1].length;P++){var m=i[1][P],J=m.m,f=m.n,H=[m.x,m.y,m.x+(J>>>1),m.y+(f>>>1),m.x+J,m.y+f];for(var c=0;
c<6;c+=2)if(Math.abs(H[c+p]-A)<Math.abs(Z-A))Z=H[c+p]}if(D[4]){var m=new dE(0,0,e.m,e.n),k=e.nE();if(k!=-1)m=e.B[k].jP();
var J=m.m,f=m.n,H=[m.x,m.y,m.x+(J>>>1),m.y+(f>>>1),m.x+J,m.y+f];for(var c=0;c<6;c+=2)if(Math.abs(H[c+p]-A)<Math.abs(Z-A))Z=H[c+p]}if(Math.abs(Z-A)<=Math.abs(C-A))s=null;
else Z=C;var U=Math.abs(Z-A)<=4*q.V()/e.u.N?Z:1e9;return[U,s]};q.dS=function(){q.ns.call(this,[10,12],q.dC,"tools/mwand");
this.Ym=null};q.dS.prototype=new q.ns;q.dS.prototype.CK=q.ns.prototype.af9;q.dS.prototype.rm=q.ns.prototype.avs;
q.dS.prototype.ME=function(e,A,a,p){this.Ym=p;this.acp=this.tg.wconf[0];this.finish(e,A,a,p)};q.dS.prototype.m3=function(e,A,a,p,N){if(!p.x2)return;
var i=new k4(t.E.v);i.G=q.sf;i.data={d:"h_stepbck"};N.S(i);var Z=p.x-this.Ym.x,s=Math.max(0,Math.min(255,Math.round(this.acp+Z/4)));
this.tg.wconf[0]=s;this.e8(N);this.finish(e,A,a,this.Ym)};q.dS.prototype.fG=function(e,A,a,p,N){this.tg.wconf[0]=this.acp;
this.e8(N)};q.dS.prototype.getSelection=function(e,A,a,p){var N=this.$Y;N=e.u.FT(p.x,p.y);var i=q.ns.au8(new k7(Math.floor(N.x),Math.floor(N.y)),this.tg.wconf,this.tg.sall);
return i};q.dS.aoC=function(e,A,a,p,N){if(A.x<0||A.x>e.m||A.y<0||A.y>e.n)return null;var i,Z=new dE(0,0,e.m,e.n);
if(p)i=e.WR();else{var s=e.g.length,n=null;if(s!=1){alert(s==0?"No layer selected.":"More than one layer selected.");
return null}var D=e.B[e.g[0]];if(N)n=D.os<=0?null:D.os==1?D.tR():D.MH(e).$;if(n==null&&D.add.lsct!=null&&D.add.lsct!=ez.$i){alert("No layer selected.");
return null}if(n==null&&Z.Kx(D.rect))i=D.buffer;else{i=j.Q(Z.O()*4);if(n==null)j._M(D.buffer,D.rect,i,Z);
else q.Wn.TR(n.channel,n.rect,n.color,i,Z)}}var S=q.dS.bQ(i,Z,A,null,a),F=j.WC(S,Z),$=j.Q(F.O());j.WP(S,Z,$,F);
return{rect:F,channel:$}};q.dS.u3=function(e,A,a){var p=A.m,N=A.n,Z=0,s=0,D=0,n=0;e=new Uint32Array(e.buffer);
var i=[],S=a.length;for(var c=0;c<S;c++){var F=a[c],$=Math.round(F.x-.5-A.x),m=Math.round(F.y-.5-A.y);
$=Math.max(0,Math.min(p-1,$));m=Math.max(0,Math.min(N-1,m));var J=m*p+$,w=e[J];i.push([w&255,w>>8&255,w>>16&255,w>>>24])}return i};
q.dS.bQ=function(e,A,a,p,N){e=new Uint32Array(e.buffer);var i=A.m,Z=A.n,s=i*Z;if(p==null)p=q.dS.u3(e,A,[a]);
var D=Math.round(a.x-.5-A.x),n=Math.round(a.y-.5-A.y),S=n*i+D,F=Date.now(),$=j.Q(i*Z),m=N[0],J=1/m,w=N[1]&&m>0?255:0;
if(N[2]){var f=j.Q($.length),b=new Uint32Array(s),L=1;b[0]=D<<16|n;f[S]=1;while(L>0){var C=b[L-1];L--;
var M=C>>>16,y=C&65535,c=y*i+M,Q=q.dS.WX(e[c],p);if(Q>m){var k=w*(1-Math.max(0,Math.min(1,(Q-m)*J)));
$[c]=~~k}else{$[c]=255;if(y!=Z-1&&f[c+i]==0){b[L++]=M<<16|y+1;f[c+i]=1}if(y!=0&&f[c-i]==0){b[L++]=M<<16|y-1;
f[c-i]=1}if(M!=i-1&&f[c+1]==0){b[L++]=M+1<<16|y;f[c+1]=1}if(M!=0&&f[c-1]==0){b[L++]=M-1<<16|y;f[c-1]=1}}}}else{for(var c=0;
c<s;c++){var Q=q.dS.WX(e[c],p);if(Q<=m)$[c]=255}for(var y=0;y<Z;y++)for(var M=0;M<i;M++){var c=y*i+M;
if($[c]==0&&(M>0&&($[c-1]==255||y>0&&$[c-i-1]==255||y<Z-1&&$[c+i-1]==255)||M<i-1&&($[c+1]==255||y>0&&$[c-i+1]==255||y<Z-1&&$[c+i+1]==255)||y>0&&$[c-i]==255||y<Z-1&&$[c+i]==255)){var Q=q.dS.WX(e[c],p),k=w*(1-Math.max(0,Math.min(1,(Q-m)*J)));
$[c]=~~k}}}return $};q.dS.WX=function(e,A){var a=A.length,p=q.dS.avh(e,A[0]),c=1;while(c!=a){p=Math.min(p,q.dS.avh(e,A[c]));
c++}return p};q.dS.avh=function(e,A){var a=e&255,p=e>>>8&255,N=e>>>16&255,i=e>>>24&255;if(A[3]==0)return i<5?0:255;
var Z=Math.max(Math.abs(a-A[0]),Math.max(Math.abs(p-A[1]),Math.abs(N-A[2])));return i==0?255:Z};q._r=function(e,A){if(A)q.Wn.call(this);
else if(e)q.Wn.call(this,[10,49],q.$K,"tools/camove");else q.Wn.call(this,[10,26],q.YV,"tools/patch");
this.eJ=null;this.MY=null;this.R=null;this.my=null;this.tT=new k7;this.Py=null;this.C_=null};q._r.prototype=new q.Wn;
q._r.prototype.MD=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y);if(e.P&&j.x4(i,e.P.channel,e.P.rect)){var Z=new dE(0,0,e.m,e.n),s=Z.Yn(e.P.rect);
if(!e.VX()||s.QP())return;if(!0){var D=j.Q(s.O());j.WP(e.P.channel,e.P.rect,D,s);e.P={channel:D,rect:s}}this.li(e);
this.Rm(e);this.my=i;this.tT=new k7(i.x-e.P.rect.x,i.y-e.P.rect.y);this.C_=j.Q(e.P.rect.O()*4);this.C_.fill(255);
if(this.tg.patch==1){var n=e.B[e.g[0]];n.nU(e,e.P,!0);if(n.b0==null)this.my=null}this.Py=e.P.rect.clone()}else{this.MY={w:[i.x,i.y],F:["M"]};
this.eJ=i}};q._r.prototype.D1=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y);if(this.my){if(this.tg.patch==1){if(e.RN.length==0){var Z=e.B[e.g[0]].b0,s=i.x-this.tT.x,D=i.y-this.tT.y;
q.GS.EH(e,e.g[0],Math.round(s-Z.r4.x),Math.round(D-Z.r4.y))}}else this.a7f(e,i,"clone")}if(this.eJ){this.MY.F.push("L");
this.MY.w.push(i.x,i.y);this.eJ=i;e.I.kp=this.MY;e.De=!0}};q._r.prototype.$Q=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y);
if(this.my){var Z=e.P.rect.clone();if(this.id==q.$K){var s=e.B[e.g[0]];s.Tj(e,s.b0);e.P.rect=this.Py.clone();
var D=j.Q(e.P.rect.O()*4);j.Ao(e.P.channel,D,3);this.hX(e,"sheal",D,e.P.rect,e.P.rect);e.P.rect=Z;Z=Z.pg(this.Py)}this.a7f(e,i,"heal");
this.finish(e,Z,null,null,!0);e.U(Z);this.my=null}if(this.eJ){var n=q.ns.Y2(this.tg.setop,p.l(g4.Kp),p.l(g4.uJ)),S=new k4(t.E.wH,!0);
if(this.MY.w.length<=4)S.data=q.ns.ec();else S.data=q.ns.cx(this.MY.w,n);A.S(S);this.eJ=null;e.I.kp=null;
e.De=!0}};q._r.prototype.YH=function(){return this.R};q._r.prototype.vH=function(e,A,a,p,N){q.Wn.prototype.vH.call(this,e,A,a,p,N);
this.V2(N,p)};q._r.prototype.V2=function(e,A){var a="auto;";if(A!=null&&A.l(g4.Kp)&&!A.l(g4.uJ)||this.tg.setop=="union")a="copy";
var p=new k4(t.E.L,!0);p.data={d:t.c.Jn,J5:a};if(this.caller)this.caller.S(p)};q._r.prototype.a7f=function(e,A,a){var p=new k7(Math.round(this.my.x-A.x),Math.round(this.my.y-A.y));
if(this.tg.patch==1)p.rq(-p.x,-p.y);this.R=p;this.hX(e,a,this.C_,e.P.rect,e.P.rect);this.U(e,e.P.rect)};
q.a9Y=function(){q._r.call(this,!0);this.tg.patch=1};q.a9Y.prototype=new q._r(!0,!0);q.Zw=function(){q.Wn.call(this,[10,13],q.ajW,"tools/pbucket");
this.hF=!1};q.Zw.prototype=new q.Wn;q.Zw.prototype.enable=function(e,A,a,p){var N=new k4(t.E.L,!0);N.data={d:t.c.Jn,J5:"default"};
A.S(N)};q.Zw.prototype.Mv=function(e,A){};q.Zw.prototype.MD=function(e,A,a,p,N){this.hF=!0};q.Zw.prototype.$Q=function(e,A,a,p,N,i){var Z=this.hF;
this.hF=!1;if(!Z||i)return;if(this.Y$(p,A,N))return;if(!e.VX())return;var s=e.u.FT(N.x,N.y),D=q.dS.aoC(e,s,this.tg.wconf,this.tg.sall,!0);
if(D==null)return;var n=j.Q(D.rect.O()*4);j.fV(n,(a.lM&255)<<16|(a.lM>>8&255)<<8|(a.lM>>16&255)<<0);
j.Ao(D.channel,n,3);this.li(e);this.hX(e,"draw",n,D.rect,D.rect);this.U(e,D.rect);this.finish(e,D.rect)};
q.a6=function(){q.ns.call(this,[10,14],q.akl,"tools/plasso");this.tr="crosshair";this.Y5=[];this.X1=null;
this.MY=null;this.a7O=0};q.a6.prototype=new q.ns;q.a6.prototype.disable=function(e,A,a,p){this.dO(e)};
q.a6.prototype.ME=function(e,A,a,p){this.Y5=[g4.P1,g4.Pk]};q.a6.prototype.uc=function(e){return this.Y5.indexOf(e)!=-1};
q.a6.prototype.I1=function(e){return this.MY!=null};q.a6.prototype.Hd=function(){return this.MY!=null};
q.a6.prototype.xV=function(){return this.MY!=null};q.a6.prototype.m3=function(e,A,a,p){if(this.MY==null)return;
var N=this.MY,i=N.w,Z=i.length-2,s=this.$Y;if(this.d4.Cs(1)&&a.l(g4.uJ)&&p.x2){i.push(0,0);N.F.push("L");
Z+=2}else if(a.l(g4.Kp))s=q.Q$.aC(new k7(i[Z-2],i[Z-1]),s);i[Z]=s.x;i[Z+1]=s.y;e.I.kp=N;e.De=!0};q.a6.prototype.fG=function(e,A,a,p){var N=Date.now();
if(this.MY==null)this.MY={w:[this.$Y.x,this.$Y.y,this.$Y.x,this.$Y.y],F:["M","L"]};else{this.m3(e,A,a,p);
if(N-this.a7O<250||k7.nR(this.$Y,new k7(this.MY.w[0],this.MY.w[1]))<q.aO(e,p)){this.X1=this.MY;this.finish(e,A,a,p);
this.dO(e);return}this.MY.F.push("L");this.MY.w.push(this.$Y.x,this.$Y.y)}this.a7O=N;e.I.kp=this.MY};
q.a6.prototype.dO=function(e){this.MY=null;this.Y5=[];if(e!=null){e.I.kp=null;e.De=!0}};q.a6.prototype.CE=function(e,A,a,p){q.ns.prototype.CE.call(this,e,A,a,p);
if(p.l(g4.EO)&&this.MY==null&&this.X1&&e.P!=null){var N=new k4(t.E.v);N.G=q.sf;N.data={d:"h_stepbck"};
A.S(N);this.ME(e,a,p,null);this.MY=this.X1;return}if(this.MY==null)return;if(p.l(g4.P1)||p.l(g4.Pk)){this.MY.w.pop();
this.MY.w.pop();this.MY.F.pop();this.m3(e,a,p)}if(p.l(g4.e2)){if(this.MY.w.length>4){this.X1=this.MY;
this.finish(e,a,p)}this.MY=null}if(p.l(g4.EO)){this.MY=null}e.I.kp=this.MY;e.De=!0};q.a6.prototype.getSelection=function(e,A,a,p){return q.ns.cx(this.MY.w,null,this.tg.anta)};
q.Wc=function(){q.ns.call(this,[10,10],q.a9Q,"tools/mlasso");this.tr="crosshair";this.Y5=[];this.i=[];
this.uP=[];this.Re=[];this.rJ=null;this.cV=null;this.m6=null;this.ro=0;this.KK=0};q.Wc.prototype=new q.ns;
q.Wc.prototype.disable=function(e,A,a,p){this.clear(e)};q.Wc.prototype.I1=function(e){return this.i.length!=0};
q.Wc.prototype.xV=function(){return this.i.length!=0};q.Wc.prototype.uc=function(e){return this.Y5.indexOf(e)!=-1};
q.Wc.prototype.ME=function(e,A,a,p){this.Y5=[g4.P1,g4.Pk];var N=this.P7(this.LD,e);if(this.i.length!=0&&(k7.nR(N,this.i[0])<q.aO(e,p)||Date.now()-this.ro<300)){this.SQ(e,this.i[0]);
this.finish(e,A,a);this.clear(e);return}this.ro=Date.now();if(this.i.length!=0)N=this.JT(N,e);else{var i=e.m,Z=e.n,s=j.Q(i*Z),D=e.WR(),n=i*Z*4;
for(var c=0;c<n;c+=4)s[c>>>2]=~~(.5+j.hT(D[c],D[c+1],D[c+2])*(D[c+3]*(1/255)));this.rJ=j.Gm.a9s(s,i,Z);
this.m6=new Uint16Array(s.length)}this.SQ(e,N);this.KK=a.l(g4.uJ)?1:0;this.fE(e)};q.Wc.prototype.SQ=function(e,A){var a=this.i;
this.uP[a.length]=this.Re.length;if(a.length!=0){j.Gm.Bd(this.cV,A.y*e.m+A.x);var p=this.C$(e,A);p.reverse();
var N=q.Wc.aqV(e,p);this.Re=this.Re.concat(N)}a.push(A);this.ae3(e)};q.Wc.prototype.ae3=function(e){var A=this.i[this.i.length-1],a=A.y*e.m+A.x;
this.cV=j.Gm.atD(this.rJ.lm,this.rJ.T3,a);this.m6.fill(0)};q.Wc.prototype.P7=function(e,A){return new k7(Math.floor(Math.max(0,Math.min(A.m-1,e.x))),Math.floor(Math.max(0,Math.min(A.n-1,e.y))))};
q.Wc.prototype.clear=function(e){this.Re=[];this.i=[];this.uP=[];this.rJ=null;this.cV=null;this.m6=null;
if(e!=null){e.I.kp=null;e.I.n8=[];e.De=!0}this.Y5=[]};q.Wc.prototype.m3=function(e,A,a,p){var N=this.i,i=N.length;
if(i==0)return;var Z=this.JT(this.P7(this.$Y,e),e),s=this.C$(e,Z);for(var c=0;c<s.length;c++){var D=s[c],n=new k7(D%e.m,Math.floor(D/e.m));
if(this.m6[D]>30&&k7.nR(n,N[i-1])>20){this.SQ(e,n);return}this.m6[D]++}if(this.KK==1&&p.x2)this.SQ(e,Z);
this.fE(e)};q.Wc.prototype.fE=function(e){var A=this.i;if(A.length!=0){var a=this.JT(this.P7(this.$Y,e),e),p=this.C$(e,a);
p.reverse();var N=q.Wc.aqV(e,p),i=this.Re.concat(N),Z=e.I.kp={w:i,F:["M"]};for(var c=2;c<i.length;c+=2)Z.F.push("L")}e.I.n8=[];
for(var c=0;c<A.length;c++)e.I.n8.push(A[c].x+.5,A[c].y+.5);e.De=!0};q.Wc.prototype.fG=function(e,A,a,p){};
q.Wc.prototype.CE=function(e,A,a,p){if(this.i.length==0)return;if(p.l(g4.P1)||p.l(g4.Pk)){this.i.pop();
this.Re=this.Re.slice(0,this.uP[this.i.length]);this.uP.pop();if(this.i.length==0)this.clear(e);else this.ae3(e);
this.fE(e)}if(p.l(g4.e2)){var N=this.P7(this.$Y,e);this.SQ(e,N);this.finish(e,a,p);this.clear(e)}if(p.l(g4.EO)){this.clear(e)}};
q.Wc.prototype.getSelection=function(e,A,a,p){return q.ns.cx(this.Re,null,this.tg.anta)};q.Wc.prototype.C$=function(e,A){var a=this.i[this.i.length-1],p=a.y*e.m+a.x,N=A.y*e.m+A.x;
if(this.KK==1)return[N,p];var i=[N];while(N!=p){N=this.cV.gu[N];i.push(N);if(i.length>5e3){console.log(i);
throw"e"}}return i};q.Wc.aqV=function(e,A){var a=[],p=e.m;for(var c=0;c<A.length;c++){var N=A[c];a.push(N%p+.5,Math.floor(N/p)+.5)}return a};
q.Wc.prototype.JT=function(e,A){var a=A.m,p=A.n,N=e.clone(),Z=3;j.Gm.Bd(this.cV,e.y*a+e.x);var i=this.cV.oF[e.y*a+e.x];
for(var s=-Z+1;s<Z;s++)for(var D=-Z+1;D<Z;D++){var n=e.x+D,S=e.y+s;if(n<0||n>=a||S<0||S>=p)continue;
j.Gm.Bd(this.cV,S*a+n);if(this.cV.oF[S*a+n]<i)N.rq(n,S)}return N};q.A_=function(){q.$w.call(this,[10,36],q.ho,"tools/ruler");
this.Cq=null;this.uM=null;this.iA=null;this.zI=null;this.aE=null};q.A_.prototype=new q.$w;q.A_.prototype.I1=function(e){return e.x2};
q.A_.prototype.enable=function(e,A,a,p){q.$w.prototype.enable.call(this,e,A,p,a);if(e)this.lo(e)};q.A_.prototype.disable=function(e,A,a,p){if(e)this.dO(e)};
q.A_.prototype.nc=function(e,A,a,p,N){this.Cq=this.iA=null;this.lo(a)};q.A_.prototype.MD=function(e,A,a,p,N){var i=q.aO(e,N),Z=e.u.FT(N.x,N.y);
Z.x=Math.round(Z.x);Z.y=Math.round(Z.y);var s=this.Cq;this.uM=s?s.slice(0):null;var D=s&&k7.nR(Z,s[0])<i,n=s&&k7.nR(Z,s[1])<i,S=s&&s[2]&&k7.nR(Z,s[2])<i;
if(D||n||S){if(p.l(g4.uJ)&&s.length==2){if(n){var F=s[0];s[0]=s[1];s[1]=F}s[2]=s[0].clone();this.iA=[2]}else this.iA=[D?0:n?1:2]}else if(s&&q.A_.akE(s[0],s[1],Z)<i&&Math.min(s[0].x,s[1].x)-5<=Z.x&&Z.x<=Math.max(s[0].x,s[1].x)+5&&Math.min(s[0].y,s[1].y)-5<=Z.y&&Z.y<=Math.max(s[0].y,s[1].y)+5){this.iA=[];
this.aE=[];for(var c=0;c<s.length;c++){this.iA.push(c);this.aE.push(s[c].clone())}this.zI=Z}else{this.Cq=[Z.clone(),Z.clone()];
this.iA=[1]}};q.A_.prototype.D1=function(e,A,a,p,N){if(this.iA==null)return;var i=this.Cq,Z=this.iA,s=e.u.FT(N.x,N.y);
s.x=Math.round(s.x);s.y=Math.round(s.y);if(Z.length>1){var D=s.x-this.zI.x,n=s.y-this.zI.y;for(var c=0;
c<i.length;c++){i[c]=this.aE[c].clone();i[c].offset(D,n)}}else{i[Z[0]].rq(s.x,s.y);if(p.l(g4.Kp)){i[Z[0]]=q.Q$.aC(i[1-Z[0]],i[Z[0]])}}this.lo(e);
this.qO(A,t.E.L,{d:t.c.FF,G:this.id,ad9:i[0],YN:i[1],I$:i[2],l5:e.l5,axJ:e.m});e.u.IT=j.p.fX([i[0].x,i[0].y,i[1].x,i[1].y]);
console.log(e.u.IT)};q.A_.prototype.$Q=function(e,A,a,p,N,i){this.iA=null;if(i){this.Cq=this.uM.slice(0);
this.lo(e)}};q.A_.prototype.qO=function(e,A,a){var p=new k4(A,!0);p.data=a;e.S(p)};q.A_.prototype.lo=function(e){var A=this.Cq;
if(A==null)this.dO(e);else{var a=[A[1].x,A[1].y,A[0].x,A[0].y],p=["M","L"];if(A.length>2){a.push(A[2].x,A[2].y);
p.push("L")}e.I.kp={F:p,w:a};e.I.n8=a}e.De=!0};q.A_.prototype.dO=function(e){e.I.kp=null;e.I.n8=[]};
q.A_.akE=function(e,A,a){var p=A.x-e.x,N=A.y-e.y,i=Math.abs(N*a.x-p*a.y+A.x*e.y-A.y*e.x),Z=Math.sqrt(p*p+N*N);
return Z==0?0:i/Z};q.Fl=function(){q.Wn.call(this,[10,19],q._E,"tools/sharpen");this.oV="copy"};q.Fl.prototype=new q.Wn;
q.Fl.prototype.MD=function(e,A,a,p,N){var i=this.tg.pdetail?jF.w1:jF._E;if(p.l(g4.uJ))i=jF.To;this.oZ(e,a,p,N,this.tg.strn,i);
if(this.jl==null)return;this.Z2(e)};q.Fl.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);if(this.kv)this.k2(e,a,N);
if(this.jl==null)return;if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.pK=function(){q.Wn.call(this,[10,24],q.xS,"tools/shbrush");
this.oV="draw";this.tg.opacity=.5};q.pK.prototype=new q.Wn;q.pK.prototype.MD=function(e,A,a,p,N){this.oZ(e,a,p,N,1);
if(this.jl==null)return;this.Rm(e);this.Z2(e)};q.pK.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);
if(this.kv)this.k2(e,a,N);if(this.jl==null)return;if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.pK.prototype.$Q=function(e,A,a,p,N){if(this.jl==null)return;
this.hX(e,"sheal",this.jl.yn(),this.jl.V0(),this.jl.$L(),null);this.U(e,this.jl.$L());q.Wn.prototype.$Q.call(this,e,A,a,p,N)};
q.l9=function(){q.Wn.call(this,[10,20],q.h8,"tools/smudge");this.oV="copy"};q.l9.prototype=new q.Wn;
q.l9.prototype.MD=function(e,A,a,p,N){this.oZ(e,a,p,N,this.tg.strn,jF.h8);if(this.jl==null)return;this.Z2(e)};
q.l9.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);if(this.kv)this.k2(e,a,N);if(this.jl==null)return;
if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.u6=function(){q.Wn.call(this,[10,23],q.qh,"tools/sponge");
this.oV="sponge"};q.u6.prototype=new q.Wn;q.u6.prototype.MD=function(e,A,a,p,N){this.oZ(e,a,p,N,this.tg.flow);
if(this.jl==null)return;this.Z2(e)};q.u6.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);if(this.kv)this.k2(e,a,N);
if(this.jl==null)return;if(!N.x2)return;this.EW(e,a,p,N);this.Z2(e)};q.MQ=function(){q.$w.call(this,[10,17],q._B,"tools/zoom");
this.rQ=!1;this.L8=!0;this.ta=!1;this.BC=0;this.iW=null;this.Jo=null;this.ve=0;this.sI=null;this.at_=0;
this.hS=new fx([{name:[8,0],hY:"Ctrl + +"},{name:[8,1],hY:"Ctrl + -",ks:!0},{name:[20,3],hY:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],hY:"Ctrl + 1"}],[{Y:t.E.v,G:q._B,W:{d:"zoom",L8:!0}},{Y:t.E.v,G:q._B,W:{d:"zoom",L8:!1}},{Y:t.E.v,G:q._B,W:{d:"adapt",Z:"fitscr"}},{Y:t.E.v,G:q._B,W:{d:"adapt",Z:"pixel"}}])};
q.MQ.prototype=new q.$w;q.MQ.prototype.rZ=function(e,A,a,p,N){var i=this.hS;i.f();i.parent=A;i.update(e,a);
var Z=new k4(t.E.L,!0);Z.data={d:t.c.OY,U7:i,x:N.Qb+2,y:N.aG+1};A.S(Z)};q.MQ.prototype.enable=function(e,A,a,p){this.ue(A,p);
if(e&&Date.now()-this.BC<300)this.nc({d:"adapt",Z:"pixel"},A,e,p,a);this.BC=Date.now()};q.MQ.prototype.MD=function(e,A,a,p,N){this.Jo=new k7(N.x,N.y);
this.ve=e.u.N;this.sI=e.u.R.clone()};q.MQ.prototype.D1=function(e,A,a,p,N){if(this.Jo==null)return;var i=Math.exp(Math.log(this.ve)+(N.x-this.Jo.x)/64);
i=Math.max(.02,Math.min(q.MQ.nO[0],i));e.u.N=this.ve;e.u.R=this.sI.clone();this.nc({d:"zoom",N:i,sx:this.Jo,ta:this.ta},A,e,p,a)};
q.MQ.prototype.$Q=function(e,A,a,p,N){if(k7.nR(this.Jo,N)<4){var i=this.abq(p);this.nc({d:"zoom",L8:i,sx:N,ta:this.ta},A,e,p,a)}this.Jo=null};
q.MQ.nO=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
q.MQ.ai_=function(e,A,a,p){var N=1;while(e*N*1/2>a||A*N*1/2>p)N*=1/2;if(e*N*2/3>a||A*N*2/3>p)N*=1/2;
else if(e*N>a||A*N>p)N*=2/3;return N};q.MQ.ap4=function(e,A){var a=q.MQ.aq5(e);if(A&&a==0)return e;if(!A&&a==q.MQ.nO.length-1)return e;
return q.MQ.nO[A?a-1:a+1]};q.MQ.aq5=function(e){var A=0;while(q.MQ.nO[A]>e)A++;return A};q.MQ.CI=function(e,A,a,p){var N=e.M0;
if(p==0||p==null){p=q.MQ.ap4(e.N,a);if(p==e.N)return}var i=e.FT(A.x,A.y);i.x=Math.max(0,Math.min(N.m,i.x));
i.y=Math.max(0,Math.min(N.n,i.y));if(!1){}else{var Z=e.gz(),s=e.N/p;Z.translate(-i.x,-i.y);Z.scale(s,s);
Z.translate(i.x,i.y);e.aqq(Z)}};q.MQ.prototype.nc=function(e,A,a,p,N){if(e.d=="pzoom"){if(typeof e.Z=="string")return;
e={d:"zoom",N:e.Z/100}}var i=0,Z=!1,s=null;if(e.d=="adapt"){var D=0;if(e.Z=="pixel")D=1;if(e.Z=="fitscr"){var D=0,n=a.u.eL.m,S=a.u.eL.n,F=new dE(0,0,a.m,a.n),$=j.p.wt(F).w,m=new bj;
m.rotate(a.u.xj);j.p.D($,m,$);var J=j.p.i9($),w=N.Dm?j.qC.xH+4:8;D=Math.min((n-w*2)/J.m,(S-w*2)/J.n);
a.u.R.rq(0,0)}s=new k7(Math.round(a.u.eL.m/2),Math.round(a.u.eL.n/2));i=D;q.MQ.CI(a.u,s,Z,i);a.W$=!0}if(e.d.startsWith("multi")){function f(v){var H=v[0].x-v[1].x,U=v[0].y-v[1].y;
return Math.sqrt(H*H+U*U)}function b(v){return new k7((v[0].x+v[1].x)/2,(v[0].y+v[1].y)/2)}var L=e.za,C=b(L);
if(e.d=="multidown"){this.iW=[L,a.u.N,a.u.FT(C.x,C.y)]}else{var M=q.MQ.nO;i=this.iW[1]*f(L)/f(this.iW[0]);
i=Math.max(M[M.length-1],Math.min(M[0],i));if(i!=a.u.N)q.MQ.CI(a.u,C,Z,i);var y=this.iW[2],Q=a.u.mc(y.x,y.y),k=a.u.R;
k.x=Math.round(k.x+C.x-Q.x);k.y=Math.round(k.y+C.y-Q.y);a.W$=!0}}if(e.d=="scroll"){s=e.sx;var M=q.MQ.nO,E=e.PW.y,_=1+Math.abs(E)*8e-4*(e.a0y?10:1);
if(E>0)_=1/_;i=a.u.N*_;q.MQ.CI(a.u,s,Z,Math.min(M[0],Math.max(M[M.length-1],i)));a.W$=!0}if(e.d=="zoom"){var v=e.ta?A.oY:[a];
for(var c=0;c<v.length;c++){var V=v[c],R=V.u;s=e.sx?e.sx:new k7(Math.round(R.eL.m/2),Math.round(R.eL.n/2));
if(e.N!=null)i=e.N;else Z=e.L8;q.MQ.CI(R,s,Z,i);V.W$=!0}}if(e.d=="mskView"){var h=a.B[a.g[0]];if(h.os<=0){h.os=1;
a.Xz=!0}var P=h.os==3?h.MH(a).$:h.tR();if(e.Z==0){a.u.$n=[1,1,1];P.MC=!1}if(e.Z==1){a.u.$n=[1,1,1];P.MC=!0}if(e.Z==2){a.u.$n=[0,0,0];
P.MC=!0}for(var c=0;c<a.l8.length;c++)a.l8[c].MC=!1;a.RN=[];a.De=!0}};q.MQ.prototype.CE=function(e,A,a,p){if(this.rQ!=p.l(g4.uJ)){this.rQ=p.l(g4.uJ);
var N={d:t.c.FF,G:this.id,rQ:this.rQ},i=new k4(t.E.L,!0);i.data=N;A.S(i);this.ue(A,p)}};q.MQ.prototype.ue=function(e,A){var a=new k4(t.E.L,!0),p=this.abq(A);
a.data={d:t.c.Jn,J5:p?"zoom-in":"zoom-out"};e.S(a)};q.MQ.prototype.vH=function(e,A,a,p){this.L8=e.L8;
this.ta=e.ta;this.ue(A,p)};q.MQ.prototype.abq=function(e){var A=this.L8;if(e.l(g4.QD)&&e.l(g4.YC))A=!0;
if(this.rQ)A=!A;return A};q.MQ.acD=function(e,A){if(e.l(g4.yR)||e.l(g4.ajj)){A.G=q._B;A.data={d:"zoom",L8:!0}}if(e.l(g4.Kw)){A.G=q._B;
A.data={d:"zoom",L8:!1}}if(e.l(g4.Mg)){A.G=q._B;A.data={d:"adapt",Z:"fitscr"}}if(e.l(g4.vO)){A.G=q._B;
A.data={d:"adapt",Z:"pixel"}}};q.X2=function(e,A,a){q.$w.call(this,e,A,a);this.oO=null;this.w7=null;
this.p2=null;this.atc=0};q.X2.prototype=new q.$w;q.X2.R8=function(e){var A={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},a=e==0?{classID:"null",null:A,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:A,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{_h:e==0?"fill":"stroke",h2:a}};q.X2.prototype.enable=function(e,A,a,p,N){this.w7=a;var i=new k4(t.E.L,!0);
i.data={d:t.c.Jn,J5:"default"};A.S(i)};q.X2.prototype.rZ=function(e,A,a,p,N){var i=e.sz(),Z=i[0],s=i[1];
if(s.length==0)return;var D=Z[s[0]],n=D.add.vmsk,S=e.u.FT(N.x,N.y),F=4*q.V()/e.u.N,$=new dE(S.x-F,S.y-F,F*2,F*2),m=j.r.wy(n.i,$)[0];
if(m.length!=0){n.xw=m;e.De=!0}var J=j.r.x4(n.i,S).g2;if(J!=-1){n.g=[J];e.De=!0}var w=new k4(t.E.L,!0);
w.data={d:t.c.FF,G:this.id,AQ:N,Ru:e,PC:a};A.S(w)};q.X2.prototype.awn=function(e,A){var a=new k4(t.E.L,!0);
a.data={d:t.c.iK,hP:ac.VH};if(!A.Z8)e.S(a);a.data={d:t.c.iK,hP:ac.W5};if(!A.tz.GI)e.S(a)};q.X2.prototype.XV=function(e,A,a,p){if(a.zX!=this.id)return;
if(e.g.length==0)return;var N=e.B[e.g[0]],i=N.add.vmsk,Z=N.add.vstk,s=q.X2.kg(e,e.g[0]);this.oO=e;this.p2=A;
if(N.c7()&&i!=null&&(JSON.stringify(Z)!=JSON.stringify(a.gX)||JSON.stringify(s)!=JSON.stringify(a.wz))){this.atc=Date.now();
var D=new k4(t.E.L,!0);D.data={d:t.c.iK,hP:ac.z9,Z:s};A.S(D);D.data={d:t.c.iK,hP:ac.Rq,Z:Z};A.S(D)}};
q.X2.prototype.Mv=function(e,A){if(this.oO==null)return;if(A==ac.xh||A==ac.z9||A==ac.Rq){if(Date.now()-this.atc<50)return;
var a=A==ac.z9,p=this.oO,N=a?e.wz:e.gX,i=[],Z=p.g;for(var c=0;c<Z.length;c++){var s=Z[c],D=p.B[s];if(!D.c7()||D.add.vmsk==null)continue;
i.push(s)}var n=new k4(t.E.v,!0);n.G=q._b;n.data={d:u.Rw,WD:i,pZ:a,Z:N};if(i.length!=0)this.p2.S(n)}};
q.X2.prototype.aiM=function(e){if(typeof e=="number"){var A=new k4(t.E.wH,!0);A.data=q.oW.fk(0);A.data.h2.Usng.v.Type.v.Clr.v=j.M.yN({o:e>>>16&255,J:e>>>8&255,k:e>>>0&255});
this.p2.S(A)}};q.X2.prototype.nc=function(e,A,a,p,N){this.p2=A;if(e.d=="newfill"){if(e.lT==0){var i=new k4(t.E.L,!0);
i.data={d:t.c.Ch,NY:"colorpicker",Dv:N.lM,og:this.aiM.bind(this)};A.S(i)}}else if(e.d=="pathedit"){var Z=e.dy,s="",D=a.GI.slice(0),n=a.Lj.slice(0),S=a.GI.slice(0),F=a.Lj.slice(0);
if(Z=="rnm"){var $=-1-e.g2,m=D[$],J=ar.OX(e.name,m.add);if($!=0)S[$]=J;else{F=[S.length];S.push(J);S[0]=ar.OX("Work Path")}s="Rename"}else if(Z=="new"){var J=ar.OX("Path "+D.length);
if(e.aaY){var w=a.sz(),f=w[0],b=w[1],C=f[b[0]];J.add.vmsk=C.add.vmsk.clone();J.add.vogk=JSON.parse(JSON.stringify(C.add.vogk));
if(C.g2==-1){var M=S[F[0]]=ar.OX("Path "+D.length);M.name=C.name;M.g2=C.g2}}S.push(J);F=[S.length-1];
s="New"}else if(Z=="del"){if(F.length==0)return;F.sort(function(P,W){return P-W});if(F[0]==0){S[0]=ar.OX(D[0].name);
F=F.slice(1)}var y=0;while(F.length!=0){S.splice(F[0]-y,1);F=F.slice(1);y++}s="Delete"}else if(Z=="fromsel"){var Q=S[0]=ar.OX("Work Path");
F=[0];if(a.P==null)return;var k=a.P.channel.slice(0);for(var c=0;c<k.length;c++)k[c]=k[c]>128?2:1;var E=a.P.rect.clone();
E.Fu(1,1);var _=j.Q(E.O());j.WP(k,a.P.rect,_,E);var v=dN.kO(_,E.m,E.n,Math.round(E.O()*5e-4)),f=dN.sz(v),V=new bj(1,0,0,1,-1+a.P.rect.x,-1+a.P.rect.y);
for(var c=0;c<f.length;c++)j.p.D(f[c].path.w,V,f[c].path.w);for(var c=0;c<f.length;c++){var R=f[c];if(R.color==1&&R.parent==-1)continue;
var h=j.p.Hh(f[c].path,!1);Q.add.vmsk.i=Q.add.vmsk.i.concat(h.slice(2))}Q.add.vogk=u.c0(Q.add.vmsk.i);
s="Selection to"}var P=new af(s+" Path",this);P.data={uM:D,cu:n,arq:S,Uh:F};if(Z=="fromsel"){P.data._i=a.P;
P.data.zE=null}a.G2(P);this.Jf(P.data,a)}else{var H=e.fQ,w=a.sz(e.d=="append"||e.d=="fromAction"),f=w[0],b=w[1],Q=f[b[0]],U=Q.add.vmsk,X=Q.add.vogk,x=U.clone(),K=U.clone(),T=JSON.stringify(X);
if(e.d=="fromAction"){var I=e.Rl,o=I._h,l=I.h2,O=l.T;if(o=="set"){if(O){X.push(j.X.jt(O));K.i.push({type:0,kR:1,length:0});
j.X.MB(X,K);H=[12,76,0]}else throw l}else if(o=="draw"){X=[j.X.jt(l.Shp)];K.i.push({type:0,kR:1,length:0});
j.X.MB(X,K);q.X2.aav(K.i,l.AntA.v,N.lM,A);return}else throw o}else if(e.d=="remove"){if(e.lr&&K.xw.length!=0){K.i=j.r.a5b(K.i,K.xw,X,e.ax9);
var g=j.r.yP(K.i);for(var c=0;c<K.g.length;c++)if(K.g[c]>=g){K.g.splice(c,1);c--}K.xw=[];H="Delete Anchors"}else{if(K.g.length==0)return;
var y=0;for(var c=0;c<K.g.length;c++){X.splice(K.g[c]+y,1);y--}K.i=j.r.acl(K.i,K.g);K.g=[];K.xw=[];if(H==null)H="Delete Paths"}}if(e.d=="append"){q.X2.YZ(e.afR,K,X)}this.R5(a,Q.g2,K,X);
this.Xb(a,H,Q.g2,x,K.clone(),null,T,JSON.stringify(X))}};q.X2.aav=function(e,A,a,p){var N=new u.eP;N.i=N.i.concat(e.slice(2));
var i=N.tR();if(!A)j.round(i.channel);var Z=j.Q(i.rect.O()*4);j.fV(Z,(a&255)<<16|(a>>8&255)<<8|(a>>16&255)<<0);
j.Ao(i.channel,Z,3);var s=new k4(t.E.v,!0);s.G=q.TD;s.data={d:"draw",ZK:{buffer:Z,rect:i.rect.clone()},fQ:this.name};
p.S(s)};q.X2.wJ=function(e,A){var a=j.r.a0g(e.i,e.g),p=[];for(var c=0;c<e.g.length;c++)p.push(JSON.parse(JSON.stringify(A[e.g[c]])));
return[a,p]};q.X2.YZ=function(e,A,a){var p=j.r.yP(A.i),N=j.r.yP(e[0]);A.i=A.i.concat(e[0].slice(2));
A.g=[];for(var c=0;c<N;c++)A.g.push(p+c);for(var c=0;c<N;c++)a.push(JSON.parse(JSON.stringify(e[1][c])))};
q.X2.prototype.uc=function(e,A){if(A==null)return!1;var a=A.sz(),p=a[0],N=a[1];if(N.length==0)return!1;
var i=p[N[0]],Z=i.add.vmsk;if(Z&&Z.g.length+Z.xw.length!=0)return[g4.P1,g4.Pk].indexOf(e)!=-1};q.X2.prototype.CE=function(e,A,a,p){if(e==null)return;
var N=e.sz(),i=N[0],Z=N[1];if(Z.length==0)return;var s=i[Z[0]],D=s.add.vmsk;if(p.l(g4.EO)||p.l(g4.e2)||this.id==q.yD&&p.l(g4.Pq)){D.xw=[];
e.De=!0}if(D.g.length!=0){var n=p._X(e?e.u.xj:0);if(n.x!=0||n.y!=0){var S=D.clone(),F=D.clone(),$=new bj(1,0,0,1,n.x,n.y),m=s.add.vogk,J=JSON.stringify(m);
if(p.l(g4.uJ)){var w=q.X2.wJ(F,m);q.X2.YZ(w,F,m)}j.r.nM(F.i,$,F.g);j.X.D(m,j.K.s1($),F.g);this.R5(e,s.g2,F,m);
this.Xb(e,"Move Paths",s.g2,S,F.clone(),!0,J,JSON.stringify(m))}if(p.l(g4.P1)||p.l(g4.Pk))this.nc({d:"remove",lr:this.id==q.yD},A,e,p,a)}};
q.X2.prototype.Xb=function(e,A,a,p,N,i,Z,s){var D=new af(A,this);D.data={sr:a,TO:p,S_:N,a1T:i,ahK:Z,Ew:s};
e.G2(D)};q.X2.prototype.Jf=function(e,A){if(e.sr!=null)this.R5(A,e.sr,e.S_.clone(),JSON.parse(e.Ew));
else{A.GI=e.arq.slice(0);A.Lj=e.Uh.slice(0);A.De=A.Xz=!0}if(e._i||e.zE){A.P=e.zE;A.zQ=!0}};q.X2.prototype.rf=function(e,A){if(e.sr!=null)this.R5(A,e.sr,e.TO.clone(),JSON.parse(e.ahK));
else{A.GI=e.uM.slice(0);A.Lj=e.cu.slice(0);A.De=A.Xz=!0}if(e._i||e.zE){A.P=e._i;A.zQ=!0}};q.X2.prototype.R5=function(e,A,a,p){var N=A<0?e.GI[-1-A]:A<1e6?e.B[A]:e.B[A-1e6].add.TySh,i=N.add.vmsk;
i.channel=null;i.zv=!0;if(i.SW){i.SW.channel=null;i.SW.zv=!0}N.add.vmsk=a;N.add.vogk=p;if(1e6<=A){eG.Hx(N);
var Z=e.B[A-1e6],s=N,D=this.w7;ek.R6(Z,D.de);e.U()}else if(0<=A){a.zv=!0;N.yO(e);e.U()}e.De=e.Xz=!0};
q.X2.kg=function(e,A){var a=e.B[A],p=a.add.vstk,N=null;if(p&&!p.fillEnabled.v)N={$e:0};else if(a.add.SoCo)N={$e:1,yJ:a.add.SoCo};
else if(a.add.GdFl)N={$e:2,yJ:a.add.GdFl};else if(a.add.PtFl)N={$e:3,yJ:a.add.PtFl};return N};q.X2.GC=function(e,A){var a=e.add.vmsk,p=e.add.vstk,N=A.$e;
if(p)p.fillEnabled.v=N!=0;if(N>0){var i=["SoCo","GdFl","PtFl"][N-1];for(var c=0;c<3;c++)delete e.add[["SoCo","GdFl","PtFl"][c]];
e.add[i]=A.yJ}};q.oW=function(e,A,a,p){q.X2.call(this,e,A,a);this.tg={shape:bF.T$(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{Uz:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.apy=p;this.OD=null;this.wn=null;this.yK=null;this.d4=new eV};q.oW.prototype=new q.X2;q.oW.prototype.I1=function(e){return e.x2&&this.id!=q.Wp};
q.oW.prototype.enable=function(e,A,a,p,N){this.w7=a;var i=new k4(t.E.L,!0);i.data={d:t.c.Jn,J5:"crosshair"};
A.S(i)};q.oW.prototype.CE=function(e,A,a,p){q.X2.prototype.CE.call(this,e,A,a,p);this.d4.CE(p);this.yQ(A,a)};
q.oW.prototype.yQ=function(e,A){var a=new k4(t.E.L,!0);a.data={d:t.c.FF,G:this.id,RZ:this.TU(A)};e.S(a)};
q.oW.prototype.TU=function(e){var A=this.d4.t6(0),a=this.d4.Cs(0),p=q.ns.Y2(this.tg.binop,A,a);if(e.fK==1&&p==0)p=1;
return p};q.oW.prototype.US=function(e,A,a,p){};q.oW.prototype.MD=function(e,A,a,p,N){var i=a.fK;if(i!=2)this.awn(A,a);
if(i==2&&!e.VX())return;var Z=e.u.FT(N.x,N.y);Z=q.GS.zp(e,Z,a);this.yK=[Z.x,Z.y];this.OD=Z;this.wn=new k7(0,0);
this.d4.MD(p)};q.oW.prototype.aa$=function(e,A,a,p){var N=[this.OD.clone(),A.clone()];a=this.d4.t6(1)||a.l(g4.Kp)||this.d4.Cs(1)?a:null;
if(this.apy)N=q.oW.Pf(N[0],N[1],a,!0,this.tg.cstr);if(e)e.u.IT=new dE(N[0].x,N[0].y,N[1].x-N[0].x,N[1].y-N[0].y);
return this.US(N[0],N[1],this.d4.t6(1)&&a.l(g4.Kp),this.yK,e.u,p)};q.oW.prototype.a5u=function(e,A,a){var p=e.u.FT(A.x,A.y);
if(this.id==q.Wp)return p;var N=this.tg.cstr;if(N.Uz==2){var i=new dE(p.x-N.x,p.y-N.y,N.x,N.y),Z=q.GS.rg(e,i,a);
p.x+=Z[0];p.y+=Z[1];q.GS.hj(e,i,Z)}else p=q.GS.zp(e,p,a);return p};q.oW.prototype.D1=function(e,A,a,p,N){if(this.OD==null)return;
var i=this.yK,Z=i.length,s=N?this.a5u(e,N,a):new k7(i[Z-2],i[Z-1]);if(p.l(g4.QD))this.OD=s.QC(this.wn);
else this.wn=s.QC(this.OD);i.push(s.x,s.y);if(this.tg.shape==null)this.tg.shape=a.C3[0];var D=this.aa$(e,s,p,!0)[0],n=j.p.rh(D);
e.I.kp=n;if(this.id!=q.Wp&&this.id!=q.Mo&&this.id!=q.v0)q.$w.UL(N,e.u.IT,e,a);e.De=!0;this.d4.D1()};
q.oW.prototype.awm=function(e,A,a,p){var N=e[4].clone();if(p){N.x-=A/2;N.y-=a/2}if(this.id==q.Mo){A/=2;
a/=2;N.x+=A;N.y+=a;a=-a;A=0}var i=this.US(N,new k7(N.x+A,N.y+a),!1,this.yK);this.aaN(e[0],e[1],e[2],i)};
q.oW.prototype.aaN=function(e,A,a,p){var N=a.fK,i=new k4(t.E.wH,!0);if(N==0)i.data=q.oW.a9t(p[1],a);
else if(N==1){var Z={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:p[1]};
i.data={_h:"set",h2:Z}}else{var Z={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:p[1]};i.data={_h:"draw",h2:Z}}A.S(i);
if(p[1].v.classID=="customShape"&&p[1].v.Nm.v.startsWith("--")){var s=e.sz(),D=s[0],n=s[1],S=D[n.pop()],F=S.add.vmsk,$=S.add.vogk;
j.X.GB($);var m=F.clone();m.i=p[0];this.R5(e,S.g2,m,$)}};q.oW.prototype.$Q=function(e,A,a,p,N,i){if(this.OD==null)return;
var Z=this.a5u(e,N,a),s=this.TU(a),D=a.fK,n=this.yK,S=n.length;if(this.id==q.Wp&&S<=4){}else if(S<=4){Z.x=Math.round(Z.x);
Z.y=Math.round(Z.y);var F=new k4(t.E.L);F.data={d:t.c.Ch,NY:"createshape",awO:this.awm.bind(this),abM:this.name,axL:[e,A,a,p,Z]};
if(!i)A.S(F)}else if(S!=2){var $=this.aa$(e,Z,p),m=$[0],J=e.sz(!0),w=J[0],f=J[1],b=f.length-1;if(D==1&&m.length>2||D==0&&s!=0&&b!=-1&&w[f[b]].g2>=0){m[2].kR=[1,2,3,0][s-1];
var L=w[f.pop()],C=L.add.vmsk,M=L.add.vogk,y=C.clone(),Q=C.clone(),k=JSON.stringify(M);Q.i=Q.i.concat(m.slice(2));
Q.g=[j.r.yP(Q.i)-1];var E=j.X.jt($[1]);M.push(E?E:j.X.ou());this.R5(e,L.g2,Q,M);this.Xb(e,this.name,L.g2,y,Q,null,k,JSON.stringify(M))}else if(D==0){this.aaN(e,A,a,$)}else if(D==2){q.X2.aav(m,this.tg.anta,a.lM,A)}}this.OD=null;
e.I.kp=null;e.I.bz=null;e.I.NC=[];e.u.IT=null;e.De=!0;this.d4.$Q();this.yQ(A,a)};q.oW.prototype.vH=function(e,A,a,p,N){for(var a in e)this.tg[a]=e[a]};
q.oW.Pf=function(e,A,a,p,N){var i=e.x,Z=e.y,s=A.x,D=A.y;if(N&&N.Uz==2){if(p){s=Math.round(s);D=Math.round(D)}i=s-N.x;
Z=D-N.y}else{var n=0;if(N&&N.Uz==1)n=N.y/N.x;else if(a&&a.l(g4.Kp))n=1;if(n!=0){if(p){if(i<s)i=Math.floor(i);
else i=Math.ceil(i);if(Z<D)Z=Math.floor(Z);else Z=Math.ceil(Z)}var S=Math.abs(s-i),F=Math.abs(D-Z),$=S;
if(F/S<n)$*=F/S/n;s=s>i?i+$:i-$;D=D>Z?Z+$*n:Z-$*n}if(a&&a.l(g4.uJ)){i-=s-i;Z-=D-Z}}var e=new k7(i,Z),A=new k7(s,D);
if(p)q.oW.auX(e,A);return[e,A]};q.oW.auX=function(e,A){if(e.x>A.x){var a=e.x;e.x=A.x;A.x=a}if(e.y>A.y){var a=e.y;
e.y=A.y;A.y=a}e.x=Math.floor(e.x);e.y=Math.floor(e.y);A.x=Math.ceil(A.x);A.y=Math.ceil(A.y)};q.oW.aan=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
q.oW.fk=function(e,A){var a=q.oW.aan(),p=a.Usng.v.Type;if(A==null){p.v=JSON.parse(JSON.stringify(iF.o5[e]));
p.v.classID=["solidColorLayer","gradientLayer","patternLayer"][e]}else q.TN.Z$(A,p.v,e);return{_h:"make",h2:a}};
q.oW.a9t=function(e,A){var a=A.wz,p=JSON.parse(JSON.stringify(A.gX));p.fillEnabled.v=a.$e!=0;var N=q.oW.fk(Math.max(0,a.$e-1),a.yJ);
N.h2.Usng.v.Shp=e;N.h2.Usng.v.strokeStyle={t:"Objc",v:p};return N};q.Ey=function(e){q.X2.call(this,e==0?[10,29]:[10,51],e==0?q.yD:q.a2x,e==0?"tools/pen":"tools/cpen");
this.KK=e;this.H8=null;this.dZ=null;this.CU=null;this.afQ=0;this.$W=null;this.vs=!1;this.pD=!1;this.Rf=!1;
this.ey=!1;this.BC=0};q.Ey.prototype=new q.X2;q.Ey.prototype.I1=function(e){return this.dZ!=null};q.Ey.prototype.CE=function(e,A,a,p){if(!p.l(g4.uJ))this.Rf=!1;
if(this.KK==1&&(p.l(g4.P1)||p.l(g4.Pk))&&this.uc(g4.P1,e)){this.nc({d:"remove",lr:!0},A,e,p,a);return}q.X2.prototype.CE.call(this,e,A,a,p)};
q.Ey.prototype.MD=function(e,A,a,p,N){this.H8=N;this.awn(A,a);var i=e.u.FT(N.x,N.y),w,f;i.x=Math.round(i.x);
i.y=Math.round(i.y);var Z=q.GS.zp(e,i,a),s=a.fK,D=this.afQ;if(s==2)s=0;var n=e.sz(s==1),S=n[0],F=n[1],$=S[F.pop()],m=$?$.add.vmsk:null;
if(s==0&&D!=0&&$&&$.g2>=0)s=1;var J=q.aO(e,N);if(m)w=j.r.x4(m.i,i,!0,J);var b=p.l(g4.uJ);if(s==0&&(m==null||m.xw.length==0&&w.g2==-1)){var L=new k4(t.E.wH,!0),C=j.X.Qu("customShape",[0,0,1,1],null,null,null,"--");
L.data=q.oW.a9t(C,a);A.S(L);this.ey=!0;n=e.sz(!0);S=n[0];F=n[1];$=S[F.pop()];m=$.add.vmsk;m.i=m.i.slice(0,2)}var M=$.add.vogk;
this.dZ=m.clone();this.CU=JSON.stringify(M);var y=m.i,Q=j.r.yP(y);f=j.r.wy(m.i,new dE(i.x-J,i.y-J,J*2,J*2),m.xw);
w=j.r.x4(m.i,i,!0,J);var k=f[0].length+f[1].length+f[2].length;if(w.g2!=-1&&f[0].length==0){var E=j.r.VS(y,w.g2),_=y[E].length;
while(_<=w.N5){w.N5-=_;E+=_+1}var v={type:4,x3:Z.clone(),H:Z.clone(),iD:Z.clone()},V=E+2+w.N5,R=E+1+(1+w.N5)%_,h=y[V-1],P=y[R];
if(!h.H.Kx(h.iD)||!P.x3.Kx(P.H)){var H=j.p.amS(h.H,h.iD,P.x3,P.H,w.QT);h.iD=H[0];v.x3=H[1];v.H=H[2];
v.iD=H[3];P.x3=H[4]}y.splice(V,0,v);y[E].length++;m.xw=[V];if(this.KK==1){v.x3.x+=2;this.WA(m)}}else if(k!=0&&b){var U=0;
for(var c=0;c<3;c++)if(f[c].length!=0){U=f[c][0];this.pD=c==1;break}if(f[0].length!=0){var X=m.i.length-1,x=m.i[U];
x.iD=x.H.clone();var K=x.type>=3?3:0;if(U!=X){x.x3=x.H.clone();x.type=K+1;this.Rf=!0}else x.type=K+2}m.xw=[U]}else if(f[0].length==1&&y[f[0][0]-1]&&(y[f[0][0]-1].H!=null||y[f[0][0]-1].type==0||y[f[0][0]-1].length==1)){var U=f[0][0];
if(this.KK==1){var T=y[U],I=T.H,o=Math.abs(j.p.aqL(T.x3.x,T.x3.y,I.x,I.y,T.iD.x,T.iD.y));if(o>.01){T.x3=I.clone();
T.iD=I.clone()}if(Date.now()-this.BC<300){var l=T.x3.Kx(I)&&T.iD.Kx(I);if(l)T.iD.offset(2,2);else{T.x3=I.clone();
T.iD=I.clone()}this.BC=0}else this.BC=Date.now();m.xw=[U];this.WA(m)}else{var E=j.r.VS(y,j.r.r6(y,U)),C=y[E],O=E+C.length;
if(U!=O||C.type==0){y[E].length--;y.splice(U,1);O--;if(C.length==0){y.splice(E,1);O=-1}}if(O!=-1)m.xw=[O];
else m.xw=[]}}else{var g=0;if(m.xw.length!=1){m.g=[Q];y.push({type:3,length:1,kR:[1,2,3,0][Math.max(0,D-1)],wk:0,JS:0,mH:0});
g=y.length;M.push(j.X.ou())}else{var T=m.xw[0],W=j.r.r6(y,T),E=j.r.VS(y,W);T=E+y[E].length;if(k7.nR(i,y[E+1].H)<J){y[E].type=0;
m.xw=[E+1];this.$W=Z;this.vs=!0;this.R5(e,$.g2,m,M);e.De=!0;return}y[E].length++;g=T+1;if(T==E+1&&y[E].length!=2)g=E+1}if(p.l(g4.Kp)&&y[g-1]&&y[g-1].H)Z=q.Q$.aC(y[g-1].H,Z);
var v={type:4,x3:Z.clone(),H:Z.clone(),iD:Z.clone()};y.splice(g,0,v);m.xw=[g];this.$W=Z;if(this.KK==1){v.x3.x+=2;
this.WA(m)}this.BC=Date.now()}this.R5(e,$.g2,m,M);e.De=!0};q.Ey.prototype.WA=function(e){var A=e.i,a=e.xw[0],p=j.r.VS(A,j.r.r6(A,a))+1,N=A[p-1].length;
if(N<3)return;var i=[],Z=[];for(var c=0;c<5;c++){var s=p+(a-p-2+c+5*N)%N;Z.push(s);var D=A[s].H;i.push(D.x,D.y)}var n=j.p.pY(i);
for(var c=1;c<4;c++){var S=c*4,F=A[Z[c]],D=F.H,$=F.x3.Kx(D)&&F.iD.Kx(D);if(!$){F.x3.rq(n[S],n[S+1]);
F.iD.rq(n[S+2],n[S+3])}else{F.x3=D.clone();F.iD=D.clone()}}};q.Ey.prototype.D1=function(e,A,a,p,N){if(this.dZ==null)return;
var i=this.H8;if(i&&k7.nR(i,N)<q.aO({u:{N:1}},N))return;this.H8=null;var Z=e.u.FT(N.x,N.y),s=q.GS.zp(e,Z,a),D=e.sz(a.fK==1),n=D[0],S=D[1],F=n[S.pop()],$=F.add.vmsk,m=$.i,J=m[$.xw[0]];
if(this.KK==1){var w=J.H.Kx(J.x3)&&J.H.Kx(J.iD);J.H=Z.clone();J.x3=Z.clone();J.iD=Z.clone();if(!w)J.x3.x+=2;
this.WA($)}else if(p.l(g4.QD)){if(p.l(g4.Kp))s=q.Q$.aC(this.$W,s);var f=J.H.QC(J.iD),b=J.x3.QC(J.H);
J.iD=s;J.H=s.add(f);J.x3=J.H.add(b)}else{if(p.l(g4.Kp))s=q.Q$.aC(J.H,s);if(this.pD){var L=J.x3;J.x3=J.iD;
J.iD=L}if(this.vs){var C=k7.nR(J.H,s),M=C==0?0:k7.nR(J.H,J.iD)/C;J.iD.x=J.H.x+M*(s.x-J.H.x);J.iD.y=J.H.y+M*(s.y-J.H.y)}else J.iD=s;
if(p.l(g4.uJ)&&!this.Rf)J.type=5;else{J.type=4;J.x3=J.H.add(J.H.QC(s))}this.$W=s;if(this.pD){var L=J.x3;
J.x3=J.iD;J.iD=L}}this.R5(e,F.g2,$,F.add.vogk);e.De=!0};q.Ey.prototype.$Q=function(e,A,a,p,N){if(this.dZ==null)return;
var i=e.sz(a.fK==1),Z=i[0],s=i[1],D=Z[s.pop()],n=D.add.vmsk,S=D.add.vogk;if(this.vs){n.xw=[];this.R5(e,D.g2,n,D.add.vogk)}var F=this.dZ.i.length,$=n.i.length;
if(!this.ey)this.Xb(e,this.vs?"Close Path":(F==$?"Move":F<$?"Add":"Delete")+" Anchor Point",D.g2,this.dZ,n.clone(),null,this.CU,JSON.stringify(S));
this.ey=!1;this.vs=!1;this.pD=!1;this.Rf=!1;this.dZ=null};q.Ey.prototype.vH=function(e,A,a,p,N){this.afQ=e.binop};
q.j7=function(){q.oW.call(this,[10,30],q.Wp,"tools/fpen",!1)};q.j7.prototype=new q.oW;q.j7.prototype.US=function(e,A,a,p,N,i){var Z=p.length-1,s=Math.sqrt((p[Z-1]-p[0])*(p[Z-1]-p[0])+(p[Z]-p[1])*(p[Z]-p[1]))<6/N.N;
return[j.r.UI(p,s,i),j.X.Qu("customShape",[0,0,1,1],null,null,null,"--")]};q.Xy=function(){q.X2.call(this,[10,27],q.gS,"tools/pselect");
this.aQ=null;this._6=!1;this.MY=null;this.dZ=null;this.K_=null;this.CU=null;this.CN=null;this.ad=null;
this.Y6=null;this.p5=null};q.Xy.prototype=new q.X2;q.Xy.prototype.I1=function(e){return e.x2};q.Xy.prototype.MD=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y),Z=e.sz(),s=Z[0],D=Z[1],n,S;
for(var c=0;c<D.length;c++){var F=s[D[c]],$=F.add.vmsk,m=j.r.x4($.i,i).g2;if(m!=-1){this.MY=n=F;S=m}for(var J=0;
J<$.Cq.length;J++){var w=j.r.JQ($.i,$.Cq[J]);if(w==null)continue;var f=k7.nR(w,i);if(f<4*q.V()/e.u.N){var b=e.B[F.g2-1e6].add.TySh,L=b._t.Curve,C=b.D,M=L.Reversed;
L.Reversed=!1;var L=dl.mu(b._t.Curve);L.Reversed=M;j.p.D(L[0],C,L[0]);this.Y6=[L,J,C.gg*C.pU-C.k*C.b9];
this.MY=n=F;S=0}}if(this.Y6)break}if(n!=null){var $=n.add.vmsk;$.xw=[];var y=$.g.indexOf(S);if(p.l(g4.Kp)){if(y==-1){$.g.push(S);
this._6=!0}else $.g.splice(y,1)}else{if(y==-1)$.g=[S];this._6=!0}this.ad=j.r.km($.i,$.g)}this.aQ=i;this.p5=new am(i);
e.Xz=!0;e.De=!0};q.Xy.prototype.D1=function(e,A,a,p,N){if(this.aQ==null)return;var i=e.u.FT(N.x,N.y);
if(this._6){i=this.p5.ZF(i,p);var Z=this.MY;if(this.dZ==null){this.dZ=this.K_=Z.add.vmsk.clone();this.CU=this.CN=JSON.stringify(Z.add.vogk);
if(p.l(g4.uJ)){var s=this.dZ.clone(),D=JSON.parse(this.CU),n=q.X2.wJ(s,D);q.X2.YZ(n,s,D);this.K_=s;this.CN=JSON.stringify(D)}}var s=this.K_.clone(),D=JSON.parse(this.CN);
if(this.Y6){var S=this.Y6,F=S[0][0],$=j.p.r5(F,i.x,i.y);s.Cq[S[1]]=S[0][1][$];var m=F[$*2],J=F[$*2+1],w=(F[$*2+2]-m)*(i.y-J)-(F[$*2+3]-J)*(i.x-m);
if(S[2]<0)w=-w;s.J1=w>0}else{var f=this.ad.clone(),b=f.x,L=f.y;f.offset(i.x-this.aQ.x,i.y-this.aQ.y);
f.x=Math.round(f.x);f.y=Math.round(f.y);var C=q.GS.rg(e,f,a),M=new bj(1,0,0,1,f.x-b+C[0],f.y-L+C[1]);
j.r.nM(s.i,M,s.g);j.X.D(D,j.K.s1(M),s.g);q.GS.hj(e,f,C)}this.R5(e,Z.g2,s,D)}else{var y=this.aQ;e.I.kp=j.p.wt(new dE(y.x,y.y,i.x-y.x,i.y-y.y));
e.De=!0}};q.Xy.prototype.$Q=function(e,A,a,p,N){if(this.aQ==null)return;var i=e.u.FT(N.x,N.y),Z=this.MY,s=Z?Z.add.vmsk:null;
if(this._6){var D=JSON.stringify(Z.add.vogk);if(!this.aQ.Kx(i))this.Xb(e,"Move Paths",Z.g2,this.dZ,s,null,this.CU,D);
if(e!=null&&e.I.bz){e.I.bz=null;e.De=!0}}else{if(s){var n=this.aQ,S=new dE(n.x,n.y,i.x-n.x,i.y-n.y),F=j.r.a1_(s.i,S);
if(p.l(g4.Kp)){for(var c=0;c<F.length;c++)if(s.g.indexOf(F[c])==-1)s.g.push(F[c])}else s.g=F}e.I.kp=null;
e.De=!0}this.aQ=null;this.dZ=null;this.Y6=null;this._6=!1;this.p5=null};q.Xy.prototype.XV=function(e,A,a,p){q.X2.prototype.XV.call(this,e,A,a,p);
if(a.zX!=this.id)return;if(e.g.length==0)return;var N=e.sz(),i=N[0],Z=N[1];if(Z.length==0)return;var s=i[Z[0]],D=s.add.vmsk,n=s.add.vstk,S=s.add.vogk,F=new k4(t.E.L,!0);
F.data={d:t.c.FF,G:this.id,d0:"main",Ed:D?D:null,X:S};A.S(F)};q.Xy.prototype.vH=function(e,A,a,p,N){var i=e.U9;
if(i.Ed){var Z=a.sz(),s=Z[0],D=Z[1];if(D.length==0)return;var n=s[D[0]],S=n.add.vmsk.clone(),F=JSON.stringify(n.add.vogk),$=i.Ed;
this.R5(a,n.g2,$,i.X);var m=[18,5];if(S.i.length==$.i.length)m=S.g[0]==$.g[0]?"Fill Rule":"Path Order";
this.Xb(a,m,n.g2,S,$,null,F,JSON.stringify(i.X))}};q.iI=function(){q.X2.call(this,[10,28],q.Cj,"tools/dselect");
this.aR=-1;this.yk=-1;this.qX=null;this.aQ=null;this.MY=null;this.dZ=null;this.CU=null;this.oO=null;
this.ro=0;this.Os={psnap:!1};this.p5=null};q.iI.prototype=new q.X2;q.iI.prototype.I1=function(e){return e.x2};
q.iI.prototype.vH=function(e){this.Os=e};q.iI.prototype.nc=function(e,A,a,p,N){if(e.d=="crnr"){if(a==null)return;
var i=a.sz(),Z=i[0],s=i[1];if(s.length==0){alert("No paths selected");return}var D=Z[s[0]],n=D.add.vmsk;
if(n.xw.length==0){alert("No corners selected");return}for(var c=0;c<n.xw.length;c++){var S=n.i[n.xw[c]];
if(!S.H.Kx(S.iD)||!S.H.Kx(S.x3)){alert("Only sharp corners can be rounded");return}}if(this.dZ==null){this.dZ=D.add.vmsk.clone();
this.CU=JSON.stringify(D.add.vogk);this.MY=D;this.oO=a}var F=new k4(t.E.L,!0);F.data={d:t.c.Ch,NY:"cornerradius",Ve:5,AJ:this.ash.bind(this)};
A.S(F)}else q.X2.prototype.nc.call(this,e,A,a,p,N)};q.iI.prototype.ash=function(e){if(e=="confirm"){var A=this.oO,a=this.MY,p=a.add.vmsk,N=a.add.vogk;
this.Xb(A,[12,94,0],a.g2,this.dZ,p,null,this.CU,JSON.stringify(N));this.dO();return}var p=this.dZ.clone(),N=JSON.parse(this.CU),i=p.xw;
if(e=="cancel"){}else{var Z=[];for(var c=0;c<i.length;c++){var s=i[c],D=j.r.r6(p.i,s,!0),F=0;if(Z.indexOf(D)!=-1)continue;
Z.push(D);var n=j.r.VS(p.i,D,!0),S=p.i[n].length,$=[];for(var m=0;m<S;m++){var J=p.xw.indexOf(n+m+1)==-1?0:e;
$.push(J);if(J!=0)F++}j.r.wg(p.i,n,$);for(var m=0;m<i.length;m++)if(i[m]>n+S)i[m]+=F}this.VU(p,N);p.xw=[]}this.R5(this.oO,this.MY.g2,p,N);
if(e=="cancel")this.dO()};q.iI.prototype.disable=function(e,A,a,p){this.RS(e)};q.iI.prototype.MD=function(e,A,a,p,N){this.RS(e);
var i=e.u.FT(N.x,N.y),F,$,m;this.qX=i.clone();var Z=e.sz(),s=Z[0],D=Z[1];if(D.length==0)return;var n=q.aO(e,N),S=new dE(i.x-n,i.y-n,n*2,n*2);
for(var J=0;J<D.length;J++){F=this.MY=s[D[J]];$=F.add.vmsk;m=j.r.wy($.i,S);if(m[0].length+m[1].length+m[2].length!=0)break}var w=[!1,!1,!1];
for(var c=0;c<3;c++){for(var f=0;f<m[c].length;f++){var b=m[c][f],L=$.i[b];if($.xw.indexOf(b)!=-1||c==1&&$.xw.indexOf(b-1)!=-1&&!L.H.Kx(L.x3)||c==2&&$.xw.indexOf(b+1)!=-1&&!L.H.Kx(L.iD)){m[c]=[b];
w[c]=!0;break}}}if(m[0].length!=0&&(w[0]||!w[1]&&!w[2])){var C=m[0][0],M=$.xw.indexOf(C);if(p.l(g4.Kp)){if(M==-1)$.xw.push(C);
else{$.xw.splice(M,1);e.De=!0;return}}else if(M==-1)$.xw=[C];this.aR=C;this.yk=0}else if(m[1].length!=0&&w[1]){this.aR=m[1][0];
this.yk=1}else if(m[2].length!=0&&w[2]){this.aR=m[2][0];this.yk=2}else{var y=j.r.x4($.i,i,!0,n);if(y.g2==-1)this.aQ=i;
else{$.g=[y.g2];$.xw=[]}}if(this.dZ==null){this.dZ=F.add.vmsk.clone();this.CU=JSON.stringify(F.add.vogk)}this.p5=new am(i);
e.De=!0};q.iI.prototype.D1=function(e,A,a,p,N){if(e==null)return;var i=e.u.FT(N.x,N.y),Z=this.MY;if(this.aR!=-1){var s=this.dZ.clone(),D=Z.add.vogk,n=s.i[this.aR];
n=[n.H,n.x3,n.iD][this.yk];if(p.l(g4.Kp)){if(this.yk==0){i=this.p5.ZF(i,p);i.x+=n.x-this.qX.x;i.y+=n.y-this.qX.y}else i=q.Q$.aC(s.i[this.aR].H,i)}else{if(this.Os.psnap){i.x=Math.round(i.x);
i.y=Math.round(i.y)}i=q.GS.zp(e,i,a)}if(this.yk==0){var S=new bj(1,0,0,1,i.x-n.x,i.y-n.y);j.r.nM(s.i,S,null,s.xw)}else{var F=s.i[this.aR],$=F.x3,m=F.iD;
if(this.yk==2){$=F.iD;m=F.x3}if(p.l(g4.uJ)&&(F.type==1||F.type==4))F.type++;$.rq(i.x,i.y);if(F.type==1||F.type==4){var J=k7.nR($,F.H),w=k7.nR(m,F.H);
if(w!=0){m.x=F.H.x-($.x-F.H.x)*(w/J);m.y=F.H.y-($.y-F.H.y)*(w/J)}}}this.VU(s,D);this.R5(e,Z.g2,s,D)}else if(this.aQ!=null){var f=this.aQ;
e.I.kp=j.p.wt(new dE(f.x,f.y,i.x-f.x,i.y-f.y));e.De=!0}else{var b=e.sz(),L=b[0],C=b[1],Z,s,Q;if(C.length==0)return;
var M=q.aO(e,N),y=new dE(i.x-M,i.y-M,M*2,M*2);for(var k=0;k<C.length;k++){Z=L[C[k]];s=Z.add.vmsk;Q=j.r.wy(s.i,y);
if(Q[0].length+Q[1].length+Q[2].length!=0)break}this.RS(e);for(var c=0;c<3;c++){for(var E=0;E<Q[c].length;
E++){var _=Q[c][E],v=s.i[_];v=c==0?v.H:c==1?v.x3:v.iD;e.I.Cz.push(e.I.D0.length>>>1);e.I.D0.push(v.x,v.y);
e.De=!0}}}};q.iI.prototype.RS=function(e){if(e&&e.I.D0.length!=0){e.I.D0=[];e.I.Cz=[];e.De=!0}};q.iI.prototype.$Q=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y),Z=this.MY,s=Z?Z.add.vmsk:null,D=Z?Z.add.vogk:null;
if(this.aR!=-1){if(Date.now()-this.ro<300){var n=s.i[this.aR],S=this.yk,F=null;if(S==0){var $=n.x3.Kx(n.H),m=n.iD.Kx(n.H);
if(!$&&!m){F="Anchor Type";if(n.type==1||n.type==4)n.type++;else{n.type--;n.iD=n.H.add(n.H.QC(n.x3))}}else{F="Add Handles";
if($&&m){n.x3.x-=30;n.iD.x+=30}else if($)n.x3=n.H.add(n.H.QC(n.iD));else if(m)n.iD=n.H.add(n.H.QC(n.x3))}}else{F="Remove Handle";
if(S==1)n.x3.Ad(n.H);else n.iD.Ad(n.H)}this.VU(s,D);this.R5(e,Z.g2,s,D);this.Xb(e,F,Z.g2,this.dZ,s,null,this.CU,JSON.stringify(D))}else if(!this.qX.Kx(i)){this.Xb(e,"Drag Anchors",Z.g2,this.dZ,s,null,this.CU,JSON.stringify(D))}this.ro=Date.now()}else if(this.aQ!=null){var J=this.aQ,w=new dE(J.x,J.y,i.x-J.x,i.y-J.y);
if(w.m<0)w.x+=w.m;if(w.n<0)w.y+=w.n;w.m=Math.abs(w.m);w.n=Math.abs(w.n);var f=j.r.wy(s.i,w);s.xw=f[0].concat(p.l(g4.Kp)?s.xw:[]);
e.I.kp=null}this.dO();e.De=!0};q.iI.prototype.dO=function(){this.MY=null;this.dZ=null;this.aQ=null;this.aR=this.yk=-1;
this.p5=null};q.iI.prototype.VU=function(e,A){for(var c=0;c<e.xw.length;c++){var a=j.r.r6(e.i,e.xw[c]);
j.X.T7(A,a)}};q.iI.prototype.CE=function(e,A,a,p){if(e==null)return;var N=e.sz(),i=N[0],Z=N[1];if(Z.length==0)return;
var s=i[Z[0]],D=s.add.vmsk;if(D==null||D.xw.length==0)return;var n=s.add.vogk,S=JSON.stringify(n),F=p._X(e?e.u.xj:0);
if(F.x!=0||F.y!=0){var $=D.clone(),m=D.clone(),J=new bj(1,0,0,1,F.x,F.y);j.r.nM(m.i,J,null,m.xw);this.VU(m,n);
this.R5(e,s.g2,m,n);this.Xb(e,"Move Anchors",e.g[0],$,m.clone(),!0,S,JSON.stringify(n))}if(p.l(g4.P1)||p.l(g4.Pk))this.nc({d:"remove",lr:!0,ax9:!0},A,e,p,a)};
q.iI.prototype.Xb=function(e,A,a,p,N,i,Z,s){var D=e.rU();if(i&&D!=null&&D.G==this&&D.data.a1T&&D.data.sr==a&&JSON.stringify(D.data.TO.xw)==JSON.stringify(p.xw)){D.data.S_=N;
D.data.Ew=s}else{var D=new af(A,this);D.data={sr:a,TO:p,S_:N,a1T:i,ahK:Z,Ew:s};e.G2(D)}};q.Rect=function(){q.oW.call(this,[10,32],q.vM,"tools/rect",!0)};
q.Rect.prototype=new q.oW;q.Rect.prototype.US=function(e,A,a){var p=this.tg.crad,N=A.x-e.x,i=A.y-e.y;
return[j.r.Qa.Rect(e.x,e.y,N,i,p),j.X.Qu("Rctn",[e.x,e.y,A.x,A.y],[p,p,p,p])]};q.CH=function(){q.oW.call(this,[10,33],q.Nt,"tools/ellipse",!0)};
q.CH.prototype=new q.oW;q.CH.prototype.US=function(e,A,a){var p=A.x-e.x,N=A.y-e.y;return[j.r.Qa.CH(e.x,e.y,p,N),j.X.Qu("Elps",[e.x,e.y,A.x,A.y])]};
q.tW=function(){q.oW.call(this,[10,34],q.Mo,"tools/pshape",!1);this.tg.aopts=[!1,!0,50,100,0]};q.tW.prototype=new q.oW;
q.tW.prototype.US=function(e,A,a){var p=this.tg.pshape,N=this.tg.crad,i=this.tg.irad/100,Z=this.tg.sides,s=this.tg.width,D=this.tg.aopts,n=this.tg.length,f;
A=A.clone();var S=e.x,F=e.y,$=A.x,m=A.y,J=Math.sqrt(($-S)*($-S)+(m-F)*(m-F)),w=Math.atan2(-m+F,$-S);
if(a)w=Math.round(w*180/Math.PI/15)*15*Math.PI/180;if(p==0)f=j.r.Qa.et(S,F,J,w,Z,N);if(p==1)f=j.r.Qa.l1(S,F,J,w,Z,N,i);
if(p==2)f=j.r.Qa.Wg(e.x,e.y,A.x,A.y,s,D);if(p==3)f=j.r.Qa.aew(S,F,J,w,n);return[f,j.X.Qu("customShape",[e.x,e.y,A.x,A.y],null,null,null,"--")]};
q.tW.prototype.CE=function(e,A,a,p){q.oW.prototype.CE.call(this,e,A,a,p);var N=p._X(),i=this.tg,Z,s;
if(N.y!=0){var D=-N.y,n=i.pshape;if(n<2){Z="sides";s=Math.max(3,Math.min(100,i.sides+D))}else if(n==2){Z="width";
s=Math.max(1,Math.min(100,i.width+D))}else if(n==3){Z="length";s=Math.max(4,Math.min(40,i.length+D))}}if(N.x!=0){Z="pshape";
s=Math.max(0,Math.min(3,i.pshape+N.x))}if(Z){var S=new k4(t.E.L,!0),F={};F[Z]=s;i[Z]=s;S.data={d:t.c.FF,G:this.id,dy:"vals",aA1:F};
A.S(S);this.D1(e,A,a,p)}};q._e=function(){q.oW.call(this,[10,35],q.v0,"tools/line",!1)};q._e.prototype=new q.oW;
q._e.prototype.US=function(e,A,a){var p=this.tg.width,N=this.tg.aopts;A=A.clone();if(a){A=q.Q$.aC(e,A)}return[j.r.Qa.Wg(e.x,e.y,A.x,A.y,p,N),j.X.Qu("Ln",null,null,[e.x,e.y,A.x,A.y],p,null,N)]};
q.f8=function(){q.oW.call(this,[10,31],q.Im,"tools/cshape",!0)};q.f8.prototype=new q.oW;q.f8.prototype.US=function(e,A,a){var p=this.tg.shape,N=p.aV.m/p.aV.n,i=u.eP.Zo(p.i);
A=A.clone();if(a){A.y=e.y+(A.x-e.x)/N}var Z=A.x-e.x,s=A.y-e.y;j.r.nM(i,new bj(Z,0,0,s,e.x,e.y));return[i,j.X.Qu("customShape",[e.x,e.y,A.x,A.y],null,null,null,p.dt)]};
q.BD=function(e,A,a){q.$w.call(this,e,A,a);this.bY=0;this.B=null;this.cp=null;this.PC=null;this.OV=1;
this.MU=!0;this.Qj=!1;this.cursor=null;this.PR=null;this._i=null;this.Qs=!1;this.cR=null;this.aeD=0;
this.Em=null;this.KK=0;this.yX=null;this.jH=null;this.tF=null;this.kV=null;this.a5r=null;this.Yr=null};
q.BD.prototype=new q.$w;q.BD.Xk=function(e,A,a){var p={classID:"null",null:gb.o$(a?"Lyr":"Dcmn",!0)};
if(e)p.Angl={t:"UntF",v:{type:"#Ang",val:A}};else p.Axis={t:"enum",v:{Ornt:A}};return{_h:e?"rotateEventEnum":"flip",h2:p}};
q.BD.prototype.rZ=function(e,A,a,p,N){var i=new k4(t.E.L,!0);i.data={d:t.c.FF,G:this.id,AQ:N,Ru:e,PC:a};
A.S(i);this.WT=!1};q.BD.prototype.I1=function(e){return this.jH&&this.jH.al9()};q.BD.prototype.nc=function(e,A,a,p,N){this.PC=N;
if(e.d=="again"&&this.Em==null)return;if(!this.u1(a,N))return;if(this.jH){this.a5z(e,this.jH.Jt(),A,a,p,N);
this.cG(a,N,0,!0);this.Ga(a);return}this.an4(a,e.j==null,e.j);this.aqt(a);this.a5z(e,e.aeX,A,a,p,N);
this.Oe(a,A,e.fQ,!1)};q.BD.prototype.a5z=function(e,A,a,p,N,i){var Z=this.yX;if(A==null){var s=e.Ri!=null?e.Ri:4;
A=this.jH.ar2()[s]}var D=A.x,n=A.y;if(e.d=="rot"&&e.Z!=Math.PI&&(Z.m+Z.n&1)==1){D=Math.floor(D);n=Math.floor(n)}var S=new bj;
S.translate(-D,-n);if(e.d=="rot")S.rotate(e.Z);if(e.d=="scl")S.scale(e.Z.x,e.Z.y);if(e.d=="mat")S.concat(e.Z);
S.translate(D,n);if(e.d=="again")S=this.Em;var F=j.K.s1(S);if(e.d=="dtr"){var $=j.K;F=$._n(e.Z,$.Q(-D,-n));
F=$._n($.Q(D,n),F)}var m=this.jH.$c();j.K.D(F,m);this.jH.L4(m);if(e.Lv){var J=e.Lv.v;this.vH({d0:"switchWarp"},a,p,N);
this.vH({d0:"wrp",Lv:J},a,p,N)}};q.BD.prototype.xV=function(){return!0};q.BD.prototype.u1=function(e,A){if(e==null)return!1;
if(this.id==q.ID)return e.P!=null;var a=e.Ee(!0,null,null,!0);if(this.id==q.wS&&e.B[a[0]].rect.QP()){alert("Layer is empty.");
return!1}for(var c=0;c<a.length;c++){var p=e.B[a[c]];if(p.xF(2)||p.xF(31)){alert(i1.get([6,57,0]));return!1}if(p.add.artb){alert("You can not transform the whole artboard");
return!1}if(p.add.TySh)if(!ek.Sh(p.add.TySh,A.de))return!1;if(p.add.SoLd){if(a.length==1&&!j.Ww.$O(p.add.SoLd.warp.v)&&(p.tR()&&p.tR().Fv||p.add.vmsk&&p.add.vmsk.Fv)){alert("Unlink masks before transforming Smart Object");
return!1}if(!e.a8M(p.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+e.v1(p.add.SoLd.Idnt.v)._c+")");
return!1}}}if(e.P==null)return!0;if(!e.VX())return!1;return e.amQ()};q.BD.prototype.MD=function(e,A,a,p,N){var i=this.axs(N,e),Z=i[0],s=i[1],D=this.KK==0?this.jH:this.tF;
e.u.N*=s;this.Qj=D.MD(e,a,p,Z,null,null,N);e.u.N/=s;if(this.Qj&&D.An(Z)){if(Date.now()-this.aeD<250)this.Oe(e,A,null,!0);
this.aeD=Date.now()}};q.BD.prototype.V2=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.Jn,J5:this.cursor};
e.S(A)};q.BD.prototype.axs=function(e,A){var a=1;e=A.u.FT(e.x,e.y);if(this.KK==1){var p=j.K.wK(this.jH.$c(),this.yX);
a=j.K.Gr(p).nZ();var N=j.K.rQ(p);e=j.K.awg(N,e)}return[e,a]};q.BD.prototype.D1=function(e,A,a,p,N){var i=this.axs(N,e),Z=i[0],s=i[1],D=this.KK==0?this.jH:this.tF;
if(!N.x2){var n="default";if(D){var S=D.YO(Z,e.u.N*s,null,N);if(S)n=S}if(n!=this.cursor){this.cursor=n;
this.V2(A)}}if(!this.Qj)return;e.u.N*=s;D.D1(e,a,p,Z,this.MU);e.u.N/=s;this.cG(e,a,0,!0);this.Ga(e);
this.SP(A)};q.BD.prototype.$Q=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y);this.jH.$Q(e,a,p,i);this.Qj=!1};
q.BD.prototype.CE=function(e,A,a,p){if(p.l(g4.e2))this.Oe(e,A,null,!0);else if(p.l(g4.EO))this.aL(e,A);
else{var N=this.jH.CE(e,a,p);if(N){this.cG(e,a,0,!0);this.SP(A)}}};q.BD.prototype.vH=function(e,A,a,p){if(e.d0=="commit")this.Oe(a,A,null,!0);
else if(e.d0=="cancel")this.aL(a,A);else if(e.d0=="switchWarp"){this.KK=1-this.KK;this.a2e();this.Ga(a);
this.SP(A)}else if(e.d0=="wrp"){this.tF.aar(e.Lv);this.Ga(a);this.cG(a,this.PC,0,!0)}else if(e.d0=="ctyp"){this.jH.a1K(e.yd);
this.Ga(a);this.SP(A)}else if(e.d0=="cen"){this.jH.aA9(e.JZ);this.Ga(a);this.cG(a,this.PC,0,!0)}else if(e.d0=="trn"){var N=j.K.s1(e.At),i=this.yX,Z=j.K.wK(this.jH.$c(),this.yX);
N[6]=Z[6],N[7]=Z[7];var s=[i.x,i.y,i.x+i.m,i.y,i.x+i.m,i.y+i.n,i.x,i.y+i.n];j.K.D(N,s);this.OV=e.OV;
this.MU=e.MU;this.jH.L4(s);this.Ga(a);this.cG(a,this.PC,0,!0)}};q.BD.prototype.Ga=function(e){if(this.KK==0)this.jH.vE(e,this.PC);
else{this.tF.vE(e);var A=j.K.wK(this.jH.$c(),this.yX);j.K.D(A,e.I.kp.w);j.K.D(A,e.I.n8)}};q.BD.prototype.Oe=function(e,A,a,p){this.cG(e,this.PC,this.OV);
var N=new af(a?a:this.name,this),b="";if(this.bY==0)N.data={type:this.bY,B:this.B,cR:this.cp,X_:q.BD.jo(e,this.B)};
else if(this.bY==1){var i=e.B[this.B[0]],Z;if(i.b0.os<=0){Z=j.Q(i.b0.r4.O());j.kI(i.b0.y9,Z,3)}else Z=e.P.channel;
var s={rect:i.b0.r4.clone(),channel:Z};N.data={type:this.bY,j:this.B[0],_i:this._i,zE:s,PR:this.PR,Qs:this.Qs,b0:i.b0,cR:this.cR,X_:{nd:i.b0.r4,bD:i.b0.y9}}}else if(this.bY==2){N.data={type:this.bY,_i:this._i,zE:{rect:e.P.rect.clone(),channel:e.P.channel.slice(0)}}}e.G2(N);
var D=this.yX,n=j.K.wK(this.jH.$c(),D),S=j.K.Gr(n),F=this.jH.Jt(),$=new bj;$.translate(F.x,F.y);$.concat(S);
$.translate(-F.x,-F.y);S=$.clone();var m=-Math.atan2(-S.k,S.gg),J=new bj;J.rotate(m);S.concat(J);function w(Q,k){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][k],val:Q}}}var f=gb.o$("Lyr",!0);
if(this.id==q.ID)f.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};var L=q.BD.a2n;for(var C in L)if(L[C]==this.jH.OH)b=C;
if(b==""){b="Qcsi";$.Co=$.dW=0}var M={classID:"null",null:f,FTcs:{t:"enum",v:{QCSt:b}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:w($.Co,0),Vrtc:w($.dW,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:w(Math.atan(S.b9/S.pU)*180/Math.PI,2),Vrtc:w(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:w(100*0,1),Vrtc:w(100*0,1)}},Wdth:w(S.gg*100,1),Hght:w(S.pU*100,1),Angl:w(m*180/Math.PI,2)};
if(b=="Qcsi")M.Pstn={t:"Objc",v:{Hrzn:w(F.x,0),Vrtc:w(F.y,0)}};var y=this.tF?this.tF.nD():null;if(y&&!j.Ww.$O(y)){M.warp={t:"Objc",v:y}}this.p2=A;
this.track({_h:"transform",h2:M});this.escape(e,A,p)};q.BD.a2n={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};
q.BD.prototype.aL=function(e,A){if(this.bY==0)q.BD.Lx(e,this.B,this.cp);else if(this.bY==1){var a=e.B[this.B[0]];
e.P=this._i;if(!this.Qs){a.b0.r4=this.cR.nd;a.b0.y9=this.cR.bD;a.YT(e,0,0,e.P)}else{a.Tj(e,this.PR)}e.U();
e.zQ=!0}else if(this.bY==2){e.P=this._i;e.zQ=!0}this.escape(e,A,!0)};q.BD.prototype.escape=function(e,A,a){this.jH.clear(e);
this.jH=null;this.tF=null;this.Yr=null;this.KK=0;if(a)this.qO(A,t.E.L,{d:t.c.m_})};q.BD.prototype.Jf=function(e,A){if(e.type==0)q.BD.Lx(A,e.B,e.X_);
else{if(e.type==1){var a=A.B[e.j];if(e.Qs){a.b0=e.b0}else{a.b0.r4=e.X_.nd;a.b0.y9=e.X_.bD}a.YT(A,0,0,A.P);
A.U()}A.P={rect:e.zE.rect.clone(),channel:e.zE.channel.slice(0)};A.zQ=!0}};q.BD.prototype.rf=function(e,A){if(e.type==0)q.BD.Lx(A,e.B,e.cR);
else{if(e.type==1){var a=A.B[e.j];if(e.Qs){a.Tj(A,e.PR)}else{a.b0.r4=e.cR.nd;a.b0.y9=e.cR.bD;a.YT(A,0,0,A.P)}A.U()}A.P=e._i;
A.zQ=!0}};q.BD.prototype.an4=function(e,A,a){e.sz();var p=[];if(a==null)for(var c=0;c<e.Lj.length;c++)if(e.GI[e.Lj[c]].add.vmsk.i.length>2)p.push(-1-e.Lj[c]);
var N=[],i=e.u.$n;if(i[0]+i[1]+i[2]==3)if(a!=null||p.length==0||e.AH!=null&&e.AH.length!=0){if(e.g.length==1){var Z=e.B[e.g[0]];
if(Z.yg()&&Z.Bp)N=[e.g[0]]}if(N.length==0)N=e.Ee(A,a,null,!0)}N=N.concat(p);for(var c=0;c<e.RN.length;
c++)N.push(-1e3-e.RN[c]);this.B=N};q.BD.prototype.enable=function(e,A,a,p,N,i){if(this.cursor==null)this.cursor="default";
this.V2(A);if(this.jH)return;this.PC=a;this.an4(e,!0);this.aqt(e,i&&i.qZ!=null&&i.qZ!=-1?i.qZ:null);
this.SP(A);this.Ga(e);if(i&&i.qZ==-1)this.vH({d0:"switchWarp"},A,e,p)};q.BD.prototype.CK=function(){return[this.MU?1:0]};
q.BD.prototype.rm=function(e,A,a){if(e&&e[0]!=null)this.MU=e[0]==1};q.BD.prototype.SP=function(e){var A={d:t.c.FF,G:this.id};
if(this.KK==0){var a=j.K.wK(this.jH.$c(),this.yX),p=j.K.Gr(a);A.At={_T:p,yd:this.jH.aiF(),JZ:this.jH.Jt(),nd:this.yX.clone(),MU:this.MU}}else{A.Lv=this.tF.nD()}A.agw=this.tF!=null;
this.qO(e,t.E.L,A)};q.BD.prototype.aqt=function(e,A){var a=this.id==q.ID,p=!0,N=this.B[0],i=e.B[N],s=null,D=null;
if(a){this.bY=2;this._i=e.P}else if(e.P&&this.B.length==1&&N>=0&&!i.rect.QP()){this.bY=1;this._i=e.P;
this.PR=i.b0;this.Qs=!1;if(!i.EV(e,e.P)){this.Qs=!0;i.nU(e,e.P,!1)}this.cR={bD:i.b0.y9,nd:i.b0.r4}}else{this.bY=0;
this.cp=q.BD.jo(e,this.B,null);for(var c=0;c<this.cp.length;c++)if(this.cp[c][3]!=null)p=!1}var Z=this.bY==1;
if(this.cp&&this.cp.length==1){var n=this.cp[0];if(n[2]!=null&&n[2].X){var S=n[2].Ed.g;if(S.length<2){D=n[2].X[S.length==0?0:S[0]].v;
if(!j.X.H2(D))D=null}}if(n[3]==null)Z=!0;if(n[4]!=null){s=e.B[this.B[0]].add.SoLd;if(n[1]||n[2])Z=!1}}var F=a?e.P.rect.clone():q.BD.V0(e,this.B);
this.yX=F;if(!a&&s){var $=q.BD.KR(s.nonAffineTransform);this.yX=j.p.i9(j.Ww.uB(s.warp.v));if(Z)this.tF=new kq(s.warp.v);
this.kV=j.K.wK($,this.yX);this.jH=new bd($,!0,!0,p,!1,!1,A)}else{if(Z||a)this.tF=new kq(j.Ww.Q(this.yX));
this.kV=[1,0,0,0,1,0,0,0];if(this.id==q.wS)A=3;this.jH=new bd([F.x,F.y,F.x+F.m,F.y,F.x+F.m,F.y+F.n,F.x,F.y+F.n],!0,!0,p,!1,!1,A)}this.a5r=[1,0,0,0,1,0,0,0];
if(this.id==q.wS){var m,J;if(this.cp){var w=this.cp[0][0],f=w.tb;m=f[0];J=f[1]}else if(this.cR){m=this.cR.bD;
J=this.cR.nd}this.Yr=j.mU.a9p(m,J.m,J.n)}};q.BD.V0=function(e,A){if(A==null)A=e.Ee(!0,null,null,!0);
var a=new dE,p=new dE;if(e.P&&A.length==1&&A[0]>=0)a=e.P.rect.clone();else for(var c=0;c<A.length;c++){var N=A[c],i=0<=N?e.B[N]:-1e3<N?e.GI[-1-N]:e.l8[-1e3-N],Z=i.add?i.add.vmsk:null,s=0<=N?i.SK(e,A.length==1,!1,!0):-1e3<N?j.r.km(Z.i,A.length==1&&Z.g.length!=0?Z.g:null):i.rect.clone();
a=a.pg(s);if(N>0&&i.add.artb)p=p.pg(i.jP())}return!p.QP()?p:a};q.BD.prototype.qO=function(e,A,a,p){var N=new k4(A,!0);
N.data=a;if(p)N.G=p;e.S(N)};q.BD.jo=function(e,A,a){var p=[];for(var c=0;c<A.length;c++){var N=A[c],i,Z;
if(N>=0){i=e.B[N];Z=i.oC(e,a,!0)}else if(N>-1e3){i=e.GI[-1-N];Z=[2]}else{p.push([null,null,null,null,null,null,null,e.l8[-1e3-N].clone()]);
continue}var s=[],D=Z.indexOf(0)!=-1;if(D){var n={tb:i.add.SoLd?null:[i.buffer.slice(0),i.rect.clone()]};
s.push(n);if(i.$f()){var S=i.MH(e);n.aa4=S.buffer.slice(0);n.aqi=S.rect.clone()}}else s.push(null);if(Z.indexOf(1)!=-1)s.push(i.tR().clone());
else s.push(null);if(Z.indexOf(2)!=-1)s.push({Ed:i.add.vmsk.clone(),kE:i.add.vstk?JSON.parse(JSON.stringify(i.add.vstk)):null,yJ:i.add.vstk?q.X2.kg(e,N):null,X:i.add.vogk?JSON.parse(JSON.stringify(i.add.vogk)):null});
else s.push(null);if(i.add.TySh&&D){eG.Hx(i.add.TySh);s.push(i.add.TySh.D.clone())}else s.push(null);
if(i.add.SoLd&&D)s.push(JSON.parse(JSON.stringify(i.add.SoLd)));else s.push(null);if(Z.indexOf(3)!=-1)s.push(i.MH(e).$.clone());
else s.push(null);if(i.add.lmfx)s.push(JSON.stringify(i.add.lmfx));else s.push(null);p.push(s)}return p};
q.BD.Lx=function(e,A,a){for(var c=0;c<A.length;c++){var p=A[c],N=0<=p?e.B[p]:-1e3<p?e.GI[-1-p]:e.l8[-1e3-p],i=a[c];
if(i[0]){if(i[0].tb){N.rect=i[0].tb[1].clone();N.buffer=i[0].tb[0].slice(0)}if(N.$f()){var Z=N.MH(e);
Z.buffer=i[0].aa4.slice(0);Z.rect=i[0].aqi.clone()}}if(i[1]){N.tR().channel=i[1].channel.slice(0);N.tR().rect=i[1].rect.clone();
N.tR().zv=!0}if(i[2]){N.add.vmsk=i[2].Ed.clone();if(i[2].yJ)q.X2.GC(N,i[2].yJ);if(i[2].kE)N.add.vstk=JSON.parse(JSON.stringify(i[2].kE));
if(i[2].X)N.add.vogk=JSON.parse(JSON.stringify(i[2].X))}if(i[3]){N.add.TySh.D=i[3].clone();eG.no(N.add.TySh)}if(i[4]){N.add.SoLd=JSON.parse(JSON.stringify(i[4]))}if(i[5]){var s=N.MH(e).$;
s.channel=i[5].channel.slice(0);s.rect=i[5].rect.clone()}if(i[6]){N.add.lmfx=JSON.parse(i[6])}if(i[7]){N.channel=i[7].channel.slice(0);
N.rect=i[7].rect.clone();N.zv=!0}if(0<=p){N.yO(e);N.U();if(i[4])N.kf(e,!1)}}e.U()};q.BD.Gn=function(e,A,a,p,N,i,Z,s,D,n){if(typeof i[0]=="number"){var S=[];
for(var c=0;c<a.length;c++)S[c]=i;i=S}for(var c=0;c<a.length;c++){var F=i[c],$=j.K.Gr(F),m=$.nZ(),J=a[c],w=0<=J?e.B[J]:-1e3<J?e.GI[-1-J]:e.l8[-1e3-J],f=p[c];
if(w.add&&w.add.lmfx&&s)b6.cr(w.add.lmfx,m);if(f[0]&&!f[3]&&!f[4]&&!f[5]){var b=f[0].tb;if(D){var L=D.clone(),C=j.Q(L.O()*4);
j._M(b[0],b[1],C,L);b=[C,L]}var M=q.BD.K0(b,N,F,Z,N==0?w.buffer.buffer:null,null,null,n);if(M){w.rect=M.rect;
w.buffer=M.buffer}}if(f[1]){var y=w.tR();q.BD.hc(e,f[1],y,N,F,Z,y.Fv&&Z&&!j.Ww.$O(Z)&&f[0]?f[0].tb[1]:null);
if(D){var L=w.rect.Yn(D),Q=j.Q(L.O());j.WP(y.channel,y.rect,Q,L);y.channel=Q;y.rect=L}}if(f[2]){var k=Z&&!j.Ww.$O(Z),E=f[2].Ed.clone(),_=a.length==1&&E.g.length!=0,v=a.length==1&&E.xw.length>1;
if(v)_=!1;var V=_?E.g:null,R=v?E.xw:null;if(k){var h=j.Ww.uB(Z);j.K.D(F,h);j.r.alq(E.i,h,V,R)}else j.r.aap(E.i,F,V,R);
if(w.add.vstk&&s){w.add.vstk.strokeStyleLineWidth.v.val=f[2].kE.strokeStyleLineWidth.v.val*m;var P=f[2].yJ;
if(P&&P.$e==3){P=JSON.parse(JSON.stringify(P));var H=P.yJ.phase.v;P.yJ.Scl.v.val=Math.round(P.yJ.Scl.v.val*m);
H.Hrzn.v=Math.round(H.Hrzn.v*m);H.Vrtc.v=Math.round(H.Vrtc.v*m);q.X2.GC(w,P)}}if(w.add.vogk){w.add.vogk=JSON.parse(JSON.stringify(f[2].X));
if(k||v)j.X.GB(w.add.vogk);else j.X.D(w.add.vogk,F,a.length>1?[]:E.g,s)}E.UO*=m;w.add.vmsk=E;if(w.add.vogk)j.X.MB(w.add.vogk,w.add.vmsk)}if(f[3]){var U=f[3].clone();
U.concat($);w.add.TySh.D=U;eG.no(w.add.TySh);ek.R6(w,A.de)}if(f[4]){var X=w.add.SoLd,x=q.BD.KR(f[4].nonAffineTransform);
j.K.D(F,x);var K=j.p.fX(x);if(bd.xx(x)){if(Z){var T=j.p.i9(j.Ww.uB(f[4].warp.v)),Q=j.K.wK(x,T),I=j.p.i9(j.Ww.uB(Z));
x=[I.x,I.y,I.x+I.m,I.y,I.x+I.m,I.y+I.n,I.x,I.y+I.n];j.K.D(Q,x);X.warp.v=Z}var o=j.K.wK(x),l=x;if(!j.K.jI(o)){o[6]=o[7]=0;
l=[0,0,1,0,1,1,0,1];j.K.D(o,l)}X.Trnf=q.BD.Jw(l);X.nonAffineTransform=q.BD.Jw(x);if(X.filterFX)X.filterFX=JSON.parse(JSON.stringify(f[4].filterFX));
q.BD.a3_(X,$);w.kf(e,N==0,A.de)}}if(f[5])q.BD.hc(e,f[5],w.MH(e).$,N,F,Z);if(f[7])q.BD.hc(e,f[7],w,N,F,Z);
if(0<=J){if(N!=0)w.Yk();w.yO(e);w.U()}}e.U()};q.BD.acC=function(e,A){var a=A.nZ(),p=0;j.ej(e);while(a<.45&&p<e.length-4){p+=2;
a*=2;var N=new bj;N.scale(2,2);N.concat(A);A=N}var i=e[p],Z=e[p+1],s=Z.m,D=Z.n,n=j.p.wt(Z).w;j.p.D(n,A,n);
var S=j.p.fX(n),F=j.Q(S.O()),$=S.x,m=S.y,J=S.m,w=S.n,f=A.clone();f.rQ();var b=f.Av(new k7(0,0)),L=f.Av(new k7(1,0)),C=L.x-b.x,M=L.y-b.y,y=s-.51,Q=D-.51;
for(var k=0;k<w;k++){var E=f.gg*($+.5)+f.b9*(k+m+.5)+f.Co,_=f.k*($+.5)+f.pU*(k+m+.5)+f.dW;for(var v=0;
v<J;v++){if(E<.5||E>y||_<.5||_>Q){}else F[k*J+v]=Math.floor(.5+j.K.aaq(E,_,i,s,D));E+=C;_+=M}}return{rect:S,channel:F}};
q.BD.xM=function(e,A,a,p,N,i){if(a==null)a=!1;return q.BD.K0(e,a?0:1,j.K.s1(A),null,p,N,i,a)};q.BD.K0=function(e,A,a,p,N,i,Z,s){if(s==null)s=!1;
if(s&&Z)throw"e";var D={},$=0,m=.3;if(p&&!j.Ww.$O(p)){var n=j.Ww.uB(p);j.K.D(a,n);D.rect=j.p.fX(n);D.buffer=j.Q(D.rect.O()*4);
j.ay.drawImage(n,e[0],e[1].m,e[1].n,D.buffer,D.rect,A==0);return D}j.ff(e);var S=e[0],F=e[1],J=F.O()*j.K.Gr(a).nZ();
if(s&&J>4e6)m=J>8e6?2.2:1.2;while($+3<e.length&&e[$+3].O()>16&&j.K.jI(a)&&j.K.Gr(a).nZ()<m){$+=2;var w=e[$],f=e[$+1],b=F.m/f.m,L=F.n/f.n;
a=j.K._n(a,[1,0,F.x,0,1,F.y,0,0]);a=j.K._n(a,[b,0,0,0,L,0,0,0]);a=j.K._n(a,[1,0,-F.x,0,1,-F.y,0,0]);
F=f;S=w}var C=j.K._n(a,j.K.s1(new bj(F.m,0,0,F.n,F.x,F.y))),M=[0,0,1,0,1,1,0,1];j.K.D(C,M);D.rect=j.p.fX(M);
if(Z)D.rect=D.rect.Yn(Z);if(s){while((D.rect.m&3)!=0)D.rect.m++;while((D.rect.n&3)!=0)D.rect.n++}if(!bd.xx(M)||D.rect.m>1e5||D.rect.n>1e5||D.rect.O()>3e4*3e4)return null;
var y=D.rect.O()*4;if(N&&N.byteLength>=y&&y>=N.byteLength>>2){D.buffer=new Uint8Array(N)}else{D.buffer=j.Q(y)}j.K.drawImage(C,S,F.m,F.n,D.buffer,D.rect,A==0,i,s);
if(A==2&&D.buffer){var Q=D.rect.m,k=D.rect.n,E;E=[0,-1,0,-1,16,-1,0,-1,0];E=j.N_.ZB(E);var _=D.buffer.slice(0);
j.N_.LP(_,D.buffer,Q,k,E,255,!1,!0)}if(D.buffer)return D};q.BD.hc=function(e,A,a,p,N,i,Z){var s=A.rect,D=A.channel;
if(Z){s=Z;D=A.wx(s)}if(A.color==255)j.rQ(D);var n=j.Q(s.O()*4);j.Ao(D,n,3);var S=q.BD.K0([n,s],p,N,i);
if(S){a.rect=S.rect;a.channel=j.Q(S.rect.O());j.kI(S.buffer,a.channel,3);a.zv=!0}if(A.color==255){j.rQ(D);
if(S)j.rQ(a.channel)}};q.BD.a3_=function(e,A){var a=e.filterFX;if(a)a=a.v.filterFXList;if(a)a=a.v;if(a)for(var p=0;
p<a.length;p++){var N=a[p].v.Fltr;if(N==null||N.v.classID!="rigidTransform")continue;N=N.v;console.log(N);
var i=[];for(var Z=0;Z<4;Z++)i.push(N["PuX"+Z].v,N["PuY"+Z].v);j.p.D(i,A,i);for(var Z=0;Z<4;Z++){N["PuX"+Z].v=i[Z*2];
N["PuY"+Z].v=i[Z*2+1]}var s=["PinP","posFinalPins"],D=["originalVertexArray","deformedVertexArray"],n=N.puppetShapeList.v;
for(var S=0;S<n.length;S++){var F=n[S].v;for(var $=0;$<s.length;$++){var m=q.BD.KR(F[s[$]]);j.p.D(m,A,m);
F[s[$]]=q.BD.Jw(m);var J=new Uint8Array(F[D[$]].v),w=new Float32Array(J.buffer);j.p.D(w,A,w);var f=[];
for(var b=0;b<J.length;b++)f[b]=J[b];F[D[$]].v=f}}}};q.BD.KR=function(e){var A=[],a=e.v.length;for(var c=0;
c<a;c++)A.push(e.v[c].v);return A};q.BD.Jw=function(e){var A={t:"VlLs",v:[]},a=e.length;for(var c=0;
c<a;c++)A.v.push({t:"doub",v:e[c]});return A};q.BD.prototype.a2e=function(){var e=j.p.i9(j.Ww.uB(this.tF.nD())),A=j.K.wK(this.jH.$c(),this.yX),a=[e.x,e.y,e.x+e.m,e.y,e.x+e.m,e.y+e.n,e.x,e.y+e.n];
j.K.D(A,a);this.jH.L4(a);this.yX=e};q.BD.prototype.cG=function(e,A,a,p){var N=j.K.wK(this.jH.$c(),this.yX);
N=j.K._n(N,j.K.rQ(this.kV));var i=this.tF?this.tF.nD():null;if(this.bY==0){var Z=this.Em=j.K.Gr(N);if(this.id==q.wS){var s=this.cp[0][0],D=s.tb,n=D[1],S=~~(n.m*Math.max(0,Z.gg)),F=~~(n.n*Math.max(0,Z.pU)),$=new dE(Math.round(Z.gg*n.x+Z.Co),Math.round(Z.pU*n.y+Z.dW),S,F),m=j.mU.D(this.Yr,$),J=e.B[this.B[0]];
J.buffer=m;J.rect=$;J.U();e.U()}else q.BD.Gn(e,A,this.B,this.cp,a,N,i,null,null,p)}else if(this.bY==1){var w=e.B[this.B[0]],n=this.cR.nd;
if(w.os<=0){var f=this.cR.bD,b=this._i,L=null;if(i&&!j.Ww.$O(i)&&!b.rect.Kx(n)){var m=j.Q(b.rect.O()*4);
j._M(f,n,m,b.rect);f=m;n=b.rect}if(this.id==q.wS){var Z=this.Em=j.K.Gr(N),S=~~(n.m*Math.max(0,Z.gg)),F=~~(n.n*Math.max(0,Z.pU)),$=new dE(Math.round(Z.gg*n.x+Z.Co),Math.round(Z.pU*n.y+Z.dW),S,F),m=j.mU.D(this.Yr,$);
L={buffer:m,rect:$}}else L=q.BD.K0([f,n],a,N,i);if(L){w.b0.y9=L.buffer;w.b0.r4=L.rect;var C=j.Q(L.rect.O());
j.kI(w.b0.y9,C,3);e.P={channel:C,rect:w.b0.r4.clone()}}}else{var M=j.Q(n.O()*4);j.Ao(this.cR.bD,M,3);
var L=q.BD.K0([M,n],a,N,i);if(L){w.b0.y9=j.Q(L.rect.O());j.kI(L.buffer,w.b0.y9,3);w.b0.r4=L.rect}this.abc(e,a,N,i)}w.YT(e,0,0,e.P);
if(a!=0){w.Yk();j.Yk(e.P)}e.zQ=!0;e.U()}else if(this.bY==2)this.abc(e,a,N,i)};q.BD.prototype.abc=function(e,A,a,p){var N=this._i.rect,i=j.Q(N.O()*4);
j.Ao(this._i.channel,i,3);var Z=q.BD.K0([i,N],A,a,p),s=j.Q(Z.rect.O());j.kI(Z.buffer,s,3);e.P={channel:s,rect:Z.rect};
e.zQ=!0};q.BD.prototype.disable=function(e,A,a,p){if(this.jH)this.Oe(e,A,null,!0)};q.a6R=function(){q.BD.call(this,[10,16],q.lE,"tools/transform")};
q.a6R.prototype=new q.BD;q.a3Q=function(){q.BD.call(this,[7,10],q.ID,"tools/transform")};q.a3Q.prototype=new q.BD;
q.ae9=function(){q.BD.call(this,[10,48],q.wS,"tools/transform")};q.ae9.prototype=new q.BD;q.lK=function(e,A,a){q.$w.call(this,[10,46],q.WS,"tools/transform");
this.eH=[1,1,2,!0];this.yC="rigidTransform";this.SH=null;this.a8P=null;this.ez=null;this.VO=null;this.lt=null;
this.uD=null;this.fC=[]};q.lK.prototype=new q.$w;q.lK.prototype.xV=function(){return!0};q.lK.arB=function(e){if(e==null)return!1;
if(e.g.length!=1)return!1;var A=e.B[e.g[0]];return A.add.SoLd||e.VX(!1)};q.lK.prototype.u1=function(e,A){return q.lK.arB(e)};
q.lK.prototype.enable=function(e,A,a,p,N,i,Z){this.a8P=i._Z;var s=i._Z,D,w=null;if(s){var n=e.B[s.j];
if(n.add.SoLd.filterFX!=null){var S=n.add.SoLd.filterFX.v.filterFXList.v;if(S[s.index])D=JSON.parse(JSON.stringify(S[s.index].v.Fltr.v))}}var F=D==null,n=e.B[e.g[0]],$=n.buffer,m=n.rect,J=n.add.SoLd;
if(J){var f=J.nonAffineTransform.v;w=[];for(var c=0;c<4;c++)w.push(f[c*2].v,f[c*2+1].v);if(F)this.GJ("edit",A);
var b=n.MH(e);$=b.buffer;m=b.rect}this.SH={buffer:$.slice(0),rect:m.clone(),ama:w};if(F)D=q.lK.i0(this.SH,this.eH);
this.ez=D;this.VO=q.lK.ce(this.ez,this.eH);this.bs();this.lo(e);if(F)this.Se(A);var L=new k4(t.E.L,!0);
L.data={d:t.c.FF,G:this.id,hP:this.eH};A.S(L);L.data={d:t.c.Jn,J5:"default"};A.S(L)};q.lK.prototype.disable=function(e,A,a,p){if(this.VO)this.Oe(e,A,!0)};
q.lK.prototype.bs=function(e){var A=this.VO;this.fC=[];for(var c=0;c<A.length;c++){var a=A[c];for(var p=0;
p<a.g.length;p++)this.fC.push([c,a.g[c]]);a.jz=j.ao.I0(a);if(e)j.ao.P9(a)}};q.lK.prototype.vH=function(e,A,a,p){if(e.d0=="commit")this.Oe(a,A,!0);
else if(e.d0=="cancel")this.aL(a,A,!0);else if(e.d0=="prm"){var N=!1;for(var c=0;c<3;c++)if(this.eH[c]!=e.hP[c])N=!0;
this.eH=e.hP;if(N){this.ez=q.lK.i0(this.SH,this.eH,this.ez);this.VO=q.lK.ce(this.ez,this.eH);this.bs(!0);
this.Se(A)}this.lo(a)}else if(e.d0=="moveDepth"){var i=this.VO;for(var Z=0;Z<i.length;Z++){var s=i[Z];
for(var c=0;c<s.g.length;c++){var D=s.g[c];s.fm[D]+=e.acP?1:-1}}this.Se(A)}};q.lK.prototype.uc=function(e,A){return e==g4.P1||e==g4.Pk};
q.lK.prototype.CE=function(e,A,a,p){var N=p._X();if(p.l(g4.e2))this.Oe(e,A,!0);else if(p.l(g4.EO))this.aL(e,A,!0);
else if(p.l(g4.P1)||p.l(g4.Pk)){var i=this.VO;for(var Z=0;Z<i.length;Z++){var s=i[Z];s.g.sort(function(S,F){return F-S});
for(var c=0;c<s.g.length;c++){var D=s.g[c],n=D*2;s.fm.splice(D,1);s.pp.splice(D,1);s.Sy.splice(D,1);
s.xB.splice(D,1);s.wR.splice(n,2);s.CT.splice(n,2)}s.g=[];if(s.xB.length==0){s.Ix=s.P8.slice(0);s.u0=s.P8.slice(0)}}this.bs(!0);
this.Se(A);this.lo(e)}else if(N.x!=0||N.y!=0){this.awj(e,N.x,N.y,A);this.F_=null}};q.lK.prototype.Oe=function(e,A,a){this.GJ("confirm",A);
this.escape(e,A,a)};q.lK.prototype.aL=function(e,A,a){this.GJ("cancel",A);this.escape(e,A,a)};q.lK.prototype.escape=function(e,A,a){e.I.kp=null;
e.I.D0=[];e.De=!0;this.VO=null;var p=new k4(t.E.L,!0);p.data={d:t.c.m_};if(a)A.S(p)};q.lK.prototype.MD=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y),Z=i.x,s=i.y,D=this.VO,n=null,S=[0,2,4,1.2,1.2,1.2],F=-1,$=q.aO(e,N);
for(var c=0;c<D.length;c++){var m=D[c],J=j.p.r5(m.CT,Z,s,$);if(J!=-1)n=[c,J];if(F==-1&&j.ao.OZ.abT(m.u0,m.Ox,Z,s))F=c}if(n==null&&F!=-1){var m=D[F];
q.lK.atm(m,Z,s,Z,s,0);n=[F,m.xB.length-1];m.jz=j.ao.I0(m)}this.lt=i;if(n){var w=D[n[0]].g.indexOf(n[1])!=-1;
if(p.l(g4.Kp)&&!w){D[n[0]].g.push(n[1]);this.fC.push(n)}else if(!w){D[n[0]].g=[n[1]];this.fC=[n]}}this.lo(e)};
q.lK.atm=function(e,A,a,p,N,i){var Z=j.p.r5(e.u0,A,a);e.xB.push(Z);e.CT.push(p,N);e.wR.push(e.u0[Z*2]-A,e.u0[Z*2+1]-a);
e.Sy.push(0);e.pp.push(!1);e.fm.push(i)};q.lK.prototype.D1=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y),Z=this.lt;
if(Z)this.awj(e,i.x-Z.x,i.y-Z.y,A)};q.lK.prototype.awj=function(e,A,a,p){var N={},i=this.fC,Z=this.VO;
if(this.F_==null){this.F_=[];for(var c=0;c<Z.length;c++)this.F_.push(Z[c].CT.slice(0))}for(var c=0;c<i.length;
c++){var s=this.fC[c],D=s[0],n=Z[s[0]],S=s[1]*2;n.CT[S+0]=this.F_[D][S+0]+A;n.CT[S+1]=this.F_[D][S+1]+a;
N[D]=D}for(var D in N)j.ao.P9(this.VO[N[D]]);this.lo(e);this.Se(p)};q.lK.prototype.GJ=function(e,A){var a=new k4(t.E.v,!0);
a.G=q.ws;a.data={d:e,_Z:this.a8P,yC:this.yC,HG:this.ez};A.S(a)};q.lK.prototype.$Q=function(e,A,a,p,N){this.lt=null;
this.F_=null};q.lK.prototype.Se=function(e){q.lK.a1J(this.VO,this.eH,this.ez);this.GJ("edit",e)};q.lK.prototype.lo=function(e){var A=this.VO,a=this.ez;
e.I.kp={w:[],F:[]};e.I.D0=[];e.I.Cz=[];for(var c=0;c<A.length;c++){var p=A[c];for(var N=0;N<p.g.length;
N++)e.I.Cz.push((e.I.D0.length>>>1)+p.g[N]);e.I.D0=e.I.D0.concat(p.CT);if(this.eH[3])j.p.concat(e.I.kp,j.p.awA(p.u0,p.Ox))}e.De=!0};
q.lK.i0=function(e,A,a){var p=e.buffer,N=e.rect,i=e.ama,Z=hZ.T$("rigidTransform");if(i)for(var c=0;c<4;
c++){Z["PuX"+c].v=i[c*2];Z["PuY"+c].v=i[c*2+1]}var s=Z.puppetShapeList.v,D=j.ao.avI(p,N.m,N.n,A[1],A[2]),n=[];
for(var S=0;S<D.length;S++){var F={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
F.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var $=D[S];s.push({t:"Objc",v:F});var m=$.P8.slice(0);j.p.D(m,new bj(1,0,0,1,N.x,N.y),m);var J=$.Ox;
for(var c=0;c<J.length;c+=3){var w=J[c+1];J[c+1]=J[c+2];J[c+2]=w}n.push({Ox:J,P8:m,Ix:m,u0:m,xB:[],wR:[],CT:[],jz:null,g:[],Sy:[],pp:[],fm:[]})}if(a){var f=q.lK.ce(a,[]),b=n[0];
for(var c=0;c<f.length;c++){var L=f[c];for(var C=0;C<L.g.length;C++)b.g.push((b.CT.length>>>1)+L.g[C]);
for(var C=0;C<L.xB.length;C++){var M=L.xB[C]*2,y=L.P8[M]-L.wR[C*2],Q=L.P8[M+1]-L.wR[C*2+1];q.lK.atm(b,y,Q,L.CT[C*2],L.CT[C*2+1],L.fm[C])}}}q.lK.a1J(n,A,Z);
return Z};q.lK.ce=function(e,A){var a=q.BD.KR,p=e.puppetShapeList.v,N=[];for(var i=0;i<p.length;i++){var Z=p[i].v;
A[0]=Z.meshRigidity.v-1;A[1]=Z.meshQuality.v-1;A[2]=Z.meshExpansion.v;var s=Z.pinVertexIndices.v.length,D=Z.meshBoundaryPath.v.pathComponents.v;
if(D.length!=0){var n=D[0].v.SbpL.v[0].v.Pts;n.v=[]}var S=new Uint32Array(new Uint8Array(Z.indexArray.v).buffer),F=new Float32Array(new Uint8Array(Z.originalVertexArray.v).buffer),$=new Float32Array(new Uint8Array(Z.deformedVertexArray.v).buffer),m=[],J=[],w=[];
for(var c=0;c<S.length;c++)m.push(S[c]);for(var c=0;c<F.length;c++){J.push(F[c]);w.push($[c])}var f=a(Z.pinVertexIndices),b=a(Z.pinOffsets),L=a(Z.posFinalPins),C=a(Z.PnRt),M=a(Z.PnOv),y=a(Z.PnDp),Q=a(Z.selectedPin);
N.push({Ox:m,P8:J,Ix:w.slice(0),u0:w,xB:f,wR:b,CT:L,jz:null,Sy:C,pp:M,fm:y,g:Q})}return N};q.lK.a1J=function(e,A,a){function p($,m){var J=[];
for(var c=0;c<$.length;c++)J.push({t:m,v:$[c]});return J}function N($,m,J){var w=new(J?Uint32Array:Float32Array)($),f=new Uint8Array(w.buffer);
for(var c=0;c<f.length;c++)m[c]=f[c]}var i=a.puppetShapeList.v;for(var Z=0;Z<i.length;Z++){var s=e[Z],D=i[Z].v;
D.meshRigidity.v=A[0]+1;D.meshQuality.v=A[1]+1;D.meshExpansion.v=A[2];N(s.Ox,D.indexArray.v,!0);N(s.P8,D.originalVertexArray.v);
N(s.u0,D.deformedVertexArray.v);var n=[];for(var c=0;c<s.xB.length;c++){var S=s.xB[c]*2,F=c*2;n[F]=s.P8[S]-s.wR[F];
n[F+1]=s.P8[S+1]-s.wR[F+1]}D.PinP.v=p(n,"doub");D.pinVertexIndices.v=p(s.xB,"long");D.pinOffsets.v=p(s.wR,"doub");
D.posFinalPins.v=p(s.CT,"doub");D.PnRt.v=p(s.Sy,"long");D.PnOv.v=p(s.pp,"bool");D.PnDp.v=p(s.fm,"doub");
D.selectedPin.v=p(s.g,"long")}};q.RK=function(e,A,a){q.$w.call(this,e?e:[10,40],A?A:q.Gc,a?a:"tools/slice");
this.gJ=null;this.p2=null;this.PY=null;this.a0U=null;this.Zv=null;this.hS=null};q.RK.prototype=new q.$w;
q.RK.x4=function(e,A){var a=-1;for(var c=0;c<e.length;c++){var p=q.RK.RQ(e,c);if(p[0]<=A.x&&A.x<=p[2]&&p[1]<=A.y&&A.y<=p[3]){a=c;
break}}return a};q.RK.prototype.nc=function(e,A,a,p,N){if(a==null)return;this.xO(a);if(e.d=="fromAction"){var i=e.Rl,Z=i._h,s=i.h2,D=a.ek(),n=a.nE(),S=n==-1?new dE(0,0,a.m,a.n):a.B[n].jP();
if(Z=="divide"){if(a.M_.length!=0){var F=a.M_[0],$=q.RK.RQ(a.WM,F);S=new dE($[0],$[1],$[2]-$[0],$[3]-$[1]);
a.WM.splice(F,1);a.M_=[]}D=[[],[]];for(var m=0;m<2;m++){var J=["Across","Down"][m],w=s["pixels"+J]?0:1,f=s[["pixels","slices"][w]+J];
if(f==null)continue;f=f.v;var b=m==0?S.x:S.y,L=m==0?S.m:S.n;if(w==0)for(var c=1;c*f<L;c++){D[0].push([m,b+c*f]);
D[1].push(n)}else{var C=Math.floor(L/f);for(var c=1;c<f;c++){D[0].push([m,b+c*C]);D[1].push(n)}}}}var M=[S.x,S.x+S.m],y=[S.y,S.y+S.n];
for(var c=0;c<D[0].length;c++){var Q=D[0][c],k=Math.round(Q[1]),E=D[1][c];if(E!=-1&&E!=n)continue;if(Q[0]==0&&M.indexOf(k)==-1)M.push(k);
if(Q[0]==1&&y.indexOf(k)==-1)y.push(k)}M.sort(function(x,K){return x-K});y.sort(function(x,K){return x-K});
for(var _=1;_<y.length;_++)for(var v=1;v<M.length;v++){a.WM.push(q.RK.Q6());q.RK.mN(a.WM,a.WM.length-1,[M[v-1],y[_-1],M[v],y[_]]);
a.De=!0}}else if(e.d=="reorder"){if(a.M_.length==0)return;var V=a.WM,R=a.M_;R.sort(function(x,K){return x-K});
console.log(R);var h=V.slice(0),P=[],H=[];for(var c=0;c<R.length;c++){var F=R[c],U=V[F];H.push(U);h.splice(h.indexOf(U),1)}var X=Math.max(0,Math.min(h.length,R[0]-e.dir));
for(var c=0;c<H.length;c++){h.splice(X+c,0,H[c]);P.push(X+c)}a.WM=h;a.M_=P}else if(e.d=="delete"){var V=a.WM.slice(0);
for(var c=0;c<a.M_.length;c++)a.WM.splice(a.WM.indexOf(V[a.M_[c]]),1);a.M_=[]}else if(e.d=="deleteAll"){a.WM=[];
a.M_=[]}else{a.WM[a.M_[0]].v=e;a.De=!0}this.t1(a)};q.RK.prototype.enable=function(e,A,a,p,N,i){q.$w.prototype.enable.call(this,e,A,a,p,N,i);
if(!a.tz.WM){var Z=new k4(t.E.L,!0);Z.data={d:t.c.iK,hP:ac.jX};A.S(Z)}};q.RK.prototype.disable=function(){this.gJ=null;
this.p2=null};q.RK.prototype.rZ=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y),Z=q.RK.x4(e.WM,i);if(Z==-1)return;
this.gJ=e;this.p2=A;e.M_=[Z];e.De=!0;if(this.hS==null){this.hS=new fx([{name:[5,4]},{name:[8,11,1],tJ:!0}]);
this.hS.h("select",this.Om,this)}var s=this.hS;s.parent=A;s.f();s.update(e,a);var D=new k4(t.E.L,!0);
D.data={d:t.c.OY,U7:s,x:N.Qb+2,y:N.aG+1};A.S(D)};q.RK.prototype.Om=function(e){var A=this.hS.Yy()[0],a=this.gJ;
if(A==0){this.xO(a);a.WM.splice(a.M_[0],1);a.M_=[];a.De=!0;this.t1(a)}if(A==1){var p=new k4(t.E.L,!0);
p.data={d:t.c.Ch,NY:"soptions",Z:a.WM[a.M_[0]].v};this.p2.S(p)}};q.RK.prototype.MD=function(e,A,a,p,N){if(e==null)return;
this.xO(e);var i=e.u.FT(N.x,N.y);i=q.GS.zp(e,i,a,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
this.Zv=i;e.WM.unshift(q.RK.Q6());e.M_=[0];q.RK.mN(e.WM,0,[i.x,i.y,i.x+20,i.y+20]);e.De=!0};q.RK.prototype.D1=function(e,A,a,p,N){if(this.PY==null)return;
var i=e.u.FT(N.x,N.y),Z=this.Zv;i=q.GS.zp(e,i,a,[!0,null,!1]);i.x=Math.round(i.x);i.y=Math.round(i.y);
var s=[Z.x,Z.y,i.x,i.y];q.RK.abL(s);q.RK.mN(e.WM,0,s);e.De=!0};q.RK.prototype.$Q=function(e,A,a,p,N){this.t1(e);
this.Zv=null};q.RK.prototype.xO=function(e){this.PY=JSON.stringify(e.WM);this.a0U=JSON.stringify(e.M_)};
q.RK.prototype.t1=function(e){var A=JSON.stringify(e.WM);if(A!=this.PY){var a=new af(this.name,this);
a.data={cR:this.PY,X_:A,a06:this.a0U,ata:JSON.stringify(e.M_)};e.G2(a)}this.PY=null};q.RK.prototype.rf=function(e,A){A.WM=JSON.parse(e.cR);
A.M_=JSON.parse(e.a06);A.De=!0};q.RK.prototype.Jf=function(e,A){A.WM=JSON.parse(e.X_);A.M_=JSON.parse(e.ata);
A.De=!0};q.RK.prototype.uc=function(e,A){return A!=null&&A.M_.length!=0&&(e==g4.P1||e==g4.Pk)};q.RK.prototype.CE=function(e,A,a,p){if(e==null)return;
if(p.l(g4.P1)||p.l(g4.Pk))this.nc({d:"delete"},A,e,p,a);var N=p._X();if(N.x!=0||N.y!=0){this.xO(e);q.RK.Hm(e,N);
this.t1(e)}};q.RK.prototype.vH=function(e,A,a,p,N){};q.RK.api=function(e,A,a,p){var N=new k7(-A.x,-A.y),i=A.m/a.m,Z=A.n/a.n,s=[0,0,A.m,A.n];
for(var c=0;c<e.length;c++){var D=q.RK.RQ(e,c);if(p){D[0]=Math.round(D[0]*i);D[1]=Math.round(D[1]*Z);
D[2]=Math.round(D[2]*i);D[3]=Math.round(D[3]*Z)}else{q.RK.dL(D,N);q.RK.a8e(D,s)}if(D[0]>=D[2]||D[1]>=D[3]){e.splice(c,1);
c--;continue}q.RK.mN(e,c,D)}};q.RK.Hm=function(e,A){var a=e.WM;for(var c=0;c<e.M_.length;c++){var p=q.RK.RQ(a,e.M_[c]);
q.RK.dL(p,A);q.RK.mN(a,e.M_[c],p)}};q.RK.a8e=function(e,A){if(e[0]<A[0])e[0]=A[0];if(e[1]<A[1])e[1]=A[1];
if(A[2]<e[2])e[2]=A[2];if(A[3]<e[3])e[3]=A[3]};q.RK.dL=function(e,A){e[0]=Math.round(e[0]+A.x);e[2]=Math.round(e[2]+A.x);
e[1]=Math.round(e[1]+A.y);e[3]=Math.round(e[3]+A.y)};q.RK.mN=function(e,c,A){var a=e[c].v.bounds.v;a.Left.v=A[0];
a.Top.v=A[1];a.Rght.v=A[2];a.Btom.v=A[3]};q.RK.RQ=function(e,c){var A=e[c].v.bounds.v;return[A.Left.v,A.Top.v,A.Rght.v,A.Btom.v,c]};
q.RK.abL=function(e){if(e[2]<e[0]){var A=e[0];e[0]=e[2];e[2]=A}if(e[2]==e[0])e[2]++;if(e[3]<e[1]){var A=e[1];
e[1]=e[3];e[3]=A}if(e[3]==e[1])e[3]++};q.RK.i9=function(e,A){var a=1e9,p=-1e9,N=1e9,i=-1e9;for(var c=0;
c<A.length;c++){var Z=q.RK.RQ(e,A[c]);a=Math.min(a,Z[0]);N=Math.min(N,Z[1]);p=Math.max(p,Z[2]);i=Math.max(i,Z[3])}return[a,N,p,i]};
q.RK.Q6=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
q.KT=function(){q.RK.call(this,[10,41],q.cv,"tools/sselect");this.Zv=null;this.YX=null;this.J2=null;
this.uD=null;this.AX=!1};q.KT.prototype=new q.RK;q.KT.prototype.MD=function(e,A,a,p,N){if(e==null)return;
var i=e.u.FT(N.x,N.y),Z=q.KT.agr(i,4/e.u.N,e.WM,e.M_);Z.pop();if(Z.length!=0){this.Zv=i;this.J2=Z;this.xO(e);
return}var s=e.WM,D=q.RK.x4(s,i);if(D==-1)e.M_=[];else{var n=e.M_.indexOf(D);if(p.l(g4.Kp)){if(n==-1)e.M_.push(D);
else e.M_.splice(n,1)}else{e.M_.sort(function(w,f){return w-f});if(n==-1)e.M_=[D];this.Zv=i;this.xO(e);
this.YX=q.RK.i9(s,e.M_);this.uD=[];for(var c=0;c<e.M_.length;c++)this.uD.push(q.RK.RQ(s,e.M_[c]));if(p.l(g4.uJ)){var S=s.slice(0),F=e.M_,$=[];
for(var c=0;c<F.length;c++){var D=F[c],m=S[D],J=s.indexOf(m);$.push(J);s.splice(J,0,JSON.parse(JSON.stringify(m)))}e.M_=$}}}e.De=!0};
q.KT.prototype.D1=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y);if(this.Zv==null){var Z=q.KT.agr(i,4/e.u.N,e.WM,e.M_),s=Z.pop(),D=Z.length==0?"default":["ew","nwse","ns","nesw"][s]+"-resize",n=new k4(t.E.L,!0);
n.data={d:t.c.Jn,J5:D};A.S(n);return}if(!this.AX&&i.Kx(this.Zv))return;this.AX=!0;var S=e.WM,Z=this.J2;
if(Z){i=q.GS.zp(e,i,a,[!0,null,!1]);var F=Math.round(i.x),$=Math.round(i.y);for(var c=0;c<Z.length;c+=2){var m=q.RK.RQ(S,Z[c]),J=Z[c+1];
m[J]=(J&1)==0?F:$;q.RK.abL(m);q.RK.mN(S,Z[c],m)}}else{var w=i.QC(this.Zv),f=this.YX.slice(0);q.RK.dL(f,w);
var b=new dE(f[0],f[1],f[2]-f[0],f[3]-f[1]),C=q.GS.rg(e,b,a,[!0,null,!1],!0);q.GS.hj(e,b,C);w.x+=C[0];
w.y+=C[1];for(var c=0;c<e.M_.length;c++)q.RK.mN(S,e.M_[c],this.uD[c]);q.RK.Hm(e,w)}e.De=!0};q.KT.prototype.$Q=function(e,A,a,p,N){if(this.Zv==null)return;
this.t1(e);e.I.bz=null;e.De=!0;this.Zv=null;this.J2=null;this.uD=null;this.AX=!1};q.KT.agr=function(e,A,a,p){var N=e.x,i=e.y,Z=[],s=-1,D=[];
for(var c=0;c<p.length;c++){var n=p[c],S=q.RK.RQ(a,n),F=S[0],$=S[1],m=S[2],J=S[3];if(N<F-A||m+A<N||i<$-A||J+A<i)continue;
var w=[N<F+A,i<$+A,m-A<N,J-A<i],f=-1;for(var b=0;b<4;b++){if(w[b]&&w[b+1&3])f=1+2*(b&1);if(w[b])Z.push(n,b)}if(f==-1){if(w[0]||w[2])f=0;
if(w[1]||w[3])f=2}if(f!=-1){s=f;D.push(n)}}var L=Z.length;for(var c=0;c<L;c+=2){var n=Z[c],C=Z[c+1],M=q.RK.RQ(a,n)[C];
for(var b=0;b<p.length;b++){var y=p[b];if(D.indexOf(y)!=-1)continue;var S=q.RK.RQ(a,y);if(S[C&1]==M)Z.push(y,C&1);
if(S[2+(C&1)]==M)Z.push(y,2+(C&1))}}Z.push(s);return Z};q.rX=function(){q.ns.call(this,[10,44],q.aA5,"tools/oselect");
this.tr="crosshair";this.a67=0};q.rX.prototype=new q.ns;q.rX.prototype.ME=function(e,A,a,p){if(Math.random()<1/(1+this.a67)){alert("The cross should be fully inside the object.",3500);
this.a67++}};q.rX.prototype.m3=function(e,A,a,p){q.ku.$a(e,q.ns.Y4,this.p2);if(!p.x2||!this.mz)return;
var N=this.V0(e,a,!1),i=N.m,Z=N.n,s=N.x,D=N.y,n=N.x+i,S=N.y+Z,F=s+i/2,$=D+Z/2,m=q.rX.azP;e.I.kp={w:[s,D,n,D,n,S,s,S,F-i*m,$,F+i*m,$,F,$-Z*m,F,$+Z*m],F:"M L L L Z M L M L".split(" ")};
e.De=!0};q.rX.azP=.12;q.rX.prototype.fG=function(e,A,a,p){e.I.kp=null;e.De=!0;this.finish(e,A,a,p)};
q.rX.prototype.getSelection=function(e,A,a,p){if(this.LD.Kx(this.$Y)||!this.mz)return null;var N=this.V0(e,a,!1),i=e.B[e.g[0]];
if(N.QP()||!N.CS(i.rect))return null;return q.ns.k7("ObSl",N)};q.ku=function(){q.Wn.call(this,[10,37],q.CR,"tools/qselect");
this.oV="qselect"};q.ku.prototype=new q.Wn;q.ku.prototype.MD=function(e,A,a,p,N){q.ku.$a(e,q.ns.Y4,A,!0);
this.oZ(e,a,p,N,1);if(this.jl==null)return;this.Z2(e)};q.ku.prototype.D1=function(e,A,a,p,N){this.By(e,A,a);
q.ku.$a(e,q.ns.Y4,A);if(this.kv)this.k2(e,a,N);if(this.jl==null)return;if(!N.x2)return;var i=this.EW(e,a,p,N);
if(i!=1)this.Z2(e)};q.ku.$a=function(e,A,a,p){if(e&&A.key!=q.ku.P4(e)){A.key=q.ku.P4(e);var N=e.B[e.g[0]].rect.O(),Z="Image Analysis ...";
if(N==0)return;var i=N>1e6&&p!=!0,s=new k4(t.E.L,!0);s.data={d:t.c.H7,pS:Z};if(i)a.S(s);var D=function(){var n=q.ku.aqm(e);
for(var S in n)A[S]=n[S];var s=new k4(t.E.L,!0);s.data={d:t.c.sL,pS:Z};if(i)a.S(s)};if(p)D();else setTimeout(D,30)}};
q.ku.P4=function(e){var A=e.g[0],a=e.B[A],p=a.rect,N=p.m,i=p.n,Z=N*i,s=a.buffer;return[A,p.x,p.y,N,i,s[0],s[1],s[2],s[3]].join(",")};
q.ku.aqm=function(e){var A=e.g[0],a=e.B[A],p=a.rect,N=p.m,i=p.n,Z=N*i,s=a.buffer,D=Date.now(),n=j.Q(Z);
n.fill(128);var S=j.jT.MP(s,N,i);console.log(Date.now()-D);var F={key:q.ku.P4(e),sD:s,rect:p.clone(),SB:N,Ps:i,GR:12,ase:!1,Hk:n,ET:S,P:j.Q(Z),Lu:null,cQ:null,tM:null};
q.ku.HS(F);return F};q.ku.HS=function(e,A){var a=e.SB,p=e.Ps,N=0,i=0,Z=Date.now(),s=e.Lu!=null&&j.jT.ad$(e.ET.Ox,e.Lu.Ox,e.Lu.t7,e.Hk);
N=Date.now()-Z;Z=Date.now();if(!s&&!e.ase){e.Lu=j.jT.UI(e.ET,a,p,e.Hk,e.GR);if(!j.jT.ad$(e.ET.Ox,e.Lu.Ox,e.Lu.t7,e.Hk)){e.ase=!0;
console.log("conflict")}e.cQ=j.jT.ayr(e.sD,a,p,e.Lu.Ox,e.Lu.t7);e.tM=[e.cQ[0].slice(0),[]];i=Date.now()-Z;
Z=Date.now()}var Z=Date.now();if(A){e.tM[0].set(e.cQ[0]);var D=e.cQ[1],n=e.tM[1];for(var S=0;S<D.length;
S++)n[S]=D[S].slice(0);j.jT.av0(e.Lu.Ox,a,p,e.Lu.t7,e.Hk,e.P,e.tM)}};q.Rt=function(){q.$w.call(this,[10,50],q.M5,"tools/artb");
this.ZE=null;this.IX=!1;this.jH=null;this.Ag=!1;this.akk=null;this.O3=100;this.OG=null;this.ro=0};q.Rt.prototype=new q.$w;
q.Rt.prototype.nc=function(e,A,a,p,N){this.zu(a,e.azE,A,e.qZ)};q.Rt.acq=function(e,A){var a=e[0],p=0,N=0;
if(a==0)N=-1;else if(a==1)p=1;else if(a==2)N=1;else p=-1;return[20/A.XI,e[1]+p*60/A.XI,e[2]+N*60/A.XI]};
q.Rt.prototype.vH=function(e,A,a,p,N){this.ZE=e.hP;this.ro=Date.now()};q.Rt.prototype.XV=function(e,A,a,p){if(a.zX!=this.id)return;
if(e==null||e.g.length!=1){this.dO(e);return}var N=e.g[0],i=e.B[N],Z=i.add.artb;if(Z==null){this.dO(e);
return}if(this.Ag)return;if(Date.now()-this.ro>50){this.ZE={};var s=["artboardBackgroundType","Clr"];
for(var c=0;c<s.length;c++)if(Z[s[c]])this.ZE[s[c]]=JSON.parse(JSON.stringify(Z[s[c]]));var D=new k4(t.E.L,!0);
D.data={d:t.c.FF,G:this.id,KO:this.ZE};A.S(D)}var n=i.jP(),S=j.p.wt(n).w,F=this.jH=new bd(S,!0,!1,!1,!0,!1,3,!1);
F.vE(e,a,!1);var $={w:[1,0],F:["M"]};for(var c=1;c<30;c++){var m=Math.PI*2*c/30;$.w.push(Math.cos(m),Math.sin(m));
$.F.push("L")}$.F.push("Z","M","L","M","L");$.w.push(-.5,0,.5,0,0,-.5,0,.5);var J=n.x+n.m/2,w=n.y+n.n/2,f=this.O3*1.1,b=this.akk=[J,n.y,n.x+n.m,w,J,n.y+n.n,n.x,w],C=[0,-f,f,0,0,f,-f,0],M=e.root.children;
e.I.ss=[];for(var c=0;c<4;c++){var y=new k7(b[c*2]+C[c*2],b[c*2+1]+C[c*2+1]),Q=!1;for(var k=0;k<M.length;
k++){var i=M[k].j;if(i.add.artb==null)continue;var n=i.jP();if(n.QX(y))Q=!0}if(Q){b[c*2]=1e9;continue}e.I.ss.push([c,b[c*2],b[c*2+1]])}};
q.Rt.prototype.disable=function(e,A,a,p,N){this.dO(e)};q.Rt.prototype.dO=function(e){if(this.jH){this.jH.clear(e);
this.jH=null;e.I.ss=null}};q.Rt.prototype.MD=function(e,A,a,p,N){this.ro=Date.now();var i=e.u.FT(N.x,N.y),Z=this.jH;
if(Z){var s=new k4(t.E.v),D=Z.axx(null,i,e,N);if(D<9){this.Ag=Z.MD(e,a,p,i,null,!0,N);return}else if(Z.An(i)){s.G=q.Mf;
s.data={d:"disabAuto"};A.S(s);var n=new k4(t.E.L);n.data={d:t.c.sk,G:q.Mf,acQ:!0};A.S(n);return}else{var S=-1,F=e.I.ss;
for(var c=0;c<F.length;c++){var $=q.Rt.acq(F[c],e.u);if(k7.nR(i,new k7($[1],$[2]))<$[0])S=F[c][0]}if(S!=-1){var m=e.B[e.g[0]].jP(),J=m.clone(),w=(S==0||S==2?m.n:m.m)+this.O3;
if(S==0||S==3)w=-w;if(S==0||S==2)m.y+=w;else m.x+=w;if(p.l(g4.uJ)){var f=new dE(0,0,e.m,e.n);s.G=q._b;
s.data={d:u.$A};A.S(s);q.GS.jQ(e,e.Ee(null,e.g[0],null,!0),null,m.x-J.x,m.y-J.y);e.g=e.g.slice(e.g.length-1);
var b=q.v9.iF(e);if(b){var C=e.rU();C.data.yX=f;C.data.Gf=b;C.data.P6=e.g}}else this.zu(e,m,A);return}}}this.OG=q.GS.zp(e,i,a)};
q.Rt.prototype.zu=function(e,A,a,p){if(p==null)p=0;var N=e.B.slice(0),i=[e.B.length+1],Z=e.Uo();Z.i4(i1.get([1,16,0])+" "+(e.add.artd==null?1:e.root.children.length+1));
Z.add.lsct=ez.MV;Z.Mx(A);if(this.ZE){var s=Z.add.artb,D=this.ZE;for(var n in D)s[n]=D[n]}Z.Mi="pass";
Z.OO=24;if(p==0){if(e.add.artd||A.Yn(new dE(0,0,e.m,e.n)).QP())N.push(e.pz());else N.unshift(e.pz())}else{var S=e.Ee();
S.sort(function(w,f){return w-f});var F=q.TN.fP(e,S,N.length-1,!1,null,!1),$=F.pop(),m=F.pop();N=F.pop();
N.splice(e.B.length-S.length,0,e.pz())}N.push(Z);var J=new k4(t.E.v);J.G=q._b;J.data={d:u.U4,f_:N,zE:i,fQ:[1,16,2]};
a.S(J)};q.Rt.prototype.D1=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y),Z=this.jH,s=this.OG;if(Z){if(this.Ag){Z.D1(e,a,p,i)}else{var D=Z.YO(i,e.u.N,null,N);
if(D==null)D="default";var n=new k4(t.E.L,!0);n.data={d:t.c.Jn,J5:D};A.S(n)}}if(s){var S=this.RQ(e,i,p,a);
e.I.kp=j.p.wt(S);e.De=!0;q.$w.UL(N,S,e,a)}};q.Rt.prototype.$Q=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y),Z=this.OG;
if(this.Ag){this.jH.$Q(e,a,p,i);this.Ag=!1;var s=j.p.fX(this.jH.$c()),D=u.DI(s),n=e.B[e.g[0]],S=JSON.parse(JSON.stringify(n.add.artb));
S.artboardRect.v=D;var F=new k4(t.E.v,!0);F.G=q._b;F.data={d:u.O9,md:S};A.S(F)}if(Z){var $=this.RQ(e,i,p,a);
if($.O()>20)this.zu(e,$,A);e.I.kp=null;e.De=!0;this.OG=null;e.I.NC=[]}};q.Rt.prototype.RQ=function(e,A,a,p){var N=this.OG,i=q.GS.zp(e,A,p),Z=q.oW.Pf(N,i,a,!0);
N=Z[0];i=Z[1];return j.p.fX([N.x,N.y,i.x,i.y])};function bd(e,A,a,p,N,i,Z,s){this.uM=null;this.Cq=e?e.slice(0):null;
this.OH=4;this.$Y=null;this.bk=null;this._W=null;this.LK=-1;this.Q7=null;this.alw=!1;this.a9I=[];for(var c=0;
c<8;c++)this.a9I.push(fI.an2(0,PIMG.rotate,-.5,-.5,-45-c*45));this.abG=A;this.axZ=a;this.a2q=p;this.ayJ=N;
this.Lg=i;this.qZ=Z;this.a5J=s==null?1:s}bd.prototype.al9=function(){return this.LK!=-1};bd.prototype.$c=function(){return this.Cq.slice(0)};
bd.prototype.L4=function(e){this.Cq=e};bd.prototype.ar2=function(){return this.k5(this.Cq)};bd.prototype.aiF=function(){return this.OH};
bd.prototype.a1K=function(e){this.OH=e};bd.prototype.Jt=function(e){if(e==null)e=this.Cq;if(this.OH==9)return this.$Y;
else return this.k5(e)[this.OH]};bd.prototype.aA9=function(e){if(this.OH==9)this.$Y=e.clone();else{var A=this.Jt(),a=new bj(1,0,0,1,e.x-A.x,e.y-A.y);
j.p.D(this.Cq,a,this.Cq)}};bd.prototype.YO=function(e,A,a,p){var N=this.Hu(null,e,A,p),i;if(N==9)return"default";
if(N==10){if(a)return null;return!this.abG?"move":null}if(N==-1||N==4)return null;if(N==11){var Z=this.Jt().QC(e);
i=90-Math.atan2(Z.y,Z.x)*180/Math.PI;var s=Math.round(8*(i/360));s=(s+8)%8;return this.a9I[s]}else{var D=this.VA(e,this.Cq);
i=[135,90,45,180,0,0,225,270,315][N];var n=j.K.wK(this.Cq);i+=Math.atan2(-n[3],n[0])*180/Math.PI;var S="ew nesw ns nwse ew nesw ns nwse".split(" "),s=Math.round(8*(i/360));
s=(s+8)%8;return S[s]+"-resize"}};bd.prototype.VA=function(e,A){var a=j.K.rQ(j.K.wK(A)),p=new Float64Array(2);
j.K.Rc(e.x,e.y,a,p);return new k7(p[0],p[1])};bd.prototype.An=function(e){var A=this.VA(e,this.Cq);return 0<=A.x&&A.x<=1&&0<=A.y&&A.y<=1};
bd.prototype.MD=function(e,A,a,p,N,i,Z,s){this.alw=i;this.Q7=p;var D=e.u.N,n;if(this.Cq==null)p=q.GS.zp(e,p,A);
this._W=p.clone();if(this.Cq==null){if(s==null)s=0;var S=new bj;S.rotate(s);var F=S.Av(new k7(1,1));
this._W.offset(F.x,F.y);var $=N==null?1:1/N,m=this.Cq=[0,0,1,0,1,$,0,$];S.translate(p.x,p.y);j.p.D(this.Cq,S,this.Cq);
n=8}else{n=this.Hu(a,p,D,Z);if(0<=n&&n<=8)this._W=this.k5(this.Cq)[n];if(n==9){this.OH=9;this.$Y=p.clone()}}this.uM=this.Cq.slice(0);
this.LK=n;this.vE(e,A);this.bk=this.Jt();return n!=-1};bd.prototype.axx=function(e,A,a,p){return this.Hu(e,A,a.u.N,p)};
bd.prototype.Hu=function(e,A,a,p){var N=-1,i=this.k5(),Z=[0,2,6,8,1,3,5,7],s=p?q.aO({u:{N:a}},p):8*q.V()/a,D=k7.nR(i[0],i[2]),n=k7.nR(i[0],i[6]),S=this.VA(A,this.Cq);
S.x*=D;S.y*=n;var F=new dE(0,0,D,n);F.Fu(s,s);if(N==-1)if(k7.nR(this.Jt(),A)<s)N=9;if(N==-1)for(var c=0;
c<Z.length;c++)if(k7.nR(i[Z[c]],A)<s)N=Z[c];if(N==-1&&F.QX(S)){if(Math.abs(S.y-0)<s)N=1;if(Math.abs(S.x-0)<s)N=3;
if(Math.abs(S.y-n)<s)N=7;if(Math.abs(S.x-D)<s)N=5}if(N==-1&&e&&e.l(g4.uJ))N=9;if(N==-1||this.qZ==4){if(this.An(A)){if(this.abG)N=10}else{F.Fu(3*s,3*s);
N=F.QX(S)&&this.qZ!=3?11:10}}return N};bd.prototype.D1=function(e,A,a,p,N){if(this.LK==-1)return;this.Q7=p;
var i=a.l(g4.Kp),Z=a.l(g4.uJ),s=a.l(g4.YC),D=e.u.N,n=this._W,S=this.LK,F=this.k5(),$=q.GS.zp(e,n,A),m=q.GS.zp(e,p,A),J,w;
if(S==9){var F=this.k5(),f=-1;for(var c=0;c<F.length;c++)if(k7.nR(F[c],m)*D<10)f=c;this.OH=f==-1?9:f;
this.$Y=i?q.Q$.aC($,m):m.clone()}else if(S==10){w=j.p.i9(this.uM);var b=w.x,L=w.y;w.offset(p.x-n.x,p.y-n.y);
if(this.apr()){w.x=Math.round(w.x);w.y=Math.round(w.y)}J=q.GS.rg(e,w,A);var C=new bj(1,0,0,1,w.x-b+J[0],w.y-L+J[1]);
j.p.D(this.uM,C,this.Cq)}else if(S==11){var M=this.Jt(this.uM),y=M.QC(p),Q=M.QC(n),k=Math.atan2(y.y,y.x),E=Math.atan2(Q.y,Q.x),C=new bj(1,0,0,1,-M.x,-M.y),_=Math.PI/12;
if(i)C.rotate(Math.round((E-k)/_)*_);else C.rotate(E-k);C.translate(M.x,M.y);j.p.D(this.uM,C,this.Cq)}else{if(N&&!s)i=!i;
var v,V=this.uM,R=S==0||S==2||S==6||S==8;if(this.qZ==1){if(R)i=Z=s=!0}else if(this.qZ==2&&R&&this.alw!=!0)s=!0;
if(this.qZ==3)s=!1;if(this.a2q&&R&&s){var c=[0,0,2,0,0,0,6,0,4,0][S],h=-1,P=m.x,H=m.y;if(i){var U=c+6&7,X=c+10&7,x=bd.ahR(V[c],V[c+1],V[U],V[U+1],m.x,m.y),K=bd.ahR(V[c],V[c+1],V[X],V[X+1],m.x,m.y),T=x[2]<K[2]?x:K;
P=T[0];H=T[1];if(Z)h=x[2]<K[2]?U:X}else if(Z)h=c+4&7;v=V.slice(0);if(h!=-1){var I=V[h],o=V[h+1],l=(V[c]+I)/2,O=(V[c+1]+o)/2;
v[h]=l-(P-l);v[h+1]=O-(H-O)}v[c]=P;v[c+1]=H}else if(R&&Z){var M=this.bk,g=M.x,W=M.y,d=$.x-g,gT=$.y-W,r=1,G=1;
if(Math.abs(d)>=1)r=(m.x-g)/d;if(Math.abs(gT)>=1)G=(m.y-W)/gT;if(i||this.Lg)r=G=(r+G)/2;var C=new bj;
C.translate(-g,-W);C.scale(r,G);C.translate(g,W);v=V.slice(0);j.p.D(v,C,v)}else{if(this.apr()){m.x=Math.round(m.x);
m.y=Math.round(m.y)}var Y=[0,1,2,5,8,7,6,3],fk=Y[(Y.indexOf(S)+4)%8],eJ=[];for(var c=0;c<3;c++)for(var h=0;
h<3;h++)eJ.push(new k7(h/2,c/2));var M=this.bk,eS=this.VA(m,V),gL=this.VA(n,V),cX=Z&&(this.OH==4||this.OH==9)?this.VA(M,V):eJ[fk],kj=new bj,gq=new bj,r=(eS.x-cX.x)/(gL.x-cX.x);
if(r==0)r=1e-4;var G=(eS.y-cX.y)/(gL.y-cX.y);if(G==0)G=1e-4;if(this.ayJ){r=Math.max(r,0);G=Math.max(G,0)}if(S==0||S==2||S==6||S==8){if(i||this.Lg)kj.scale(r,r);
else kj.scale(r,G)}if(S==1||S==3||S==5||S==7){var iL=this.Lg||i,ew=s&&i;if(S==1||S==7)kj.scale(iL?G:1,ew?1:G);
else kj.scale(ew?1:r,iL?r:1);if(this.axZ&&s){if(S==1||S==7)gq.b9=(eS.x-cX.x)/(eS.y-cX.y);else gq.k=(eS.y-cX.y)/(eS.x-cX.x)}}var C=new bj;
C.translate(-cX.x,-cX.y);C.concat(kj);C.concat(gq);C.translate(cX.x,cX.y);v=[0,0,1,0,1,1,0,1];j.p.D(v,C,v);
var T=j.K.wK(V);j.K.D(T,v)}if(bd.xx(v))this.Cq=v}this.vE(e,A);if(J)q.GS.hj(e,w,J)};bd.ahR=function(e,A,a,p,N,i){var Z=a-e,s=p-A,D=N-e,n=i-A,S=Z*Z+s*s,F=D*Z+n*s,$=F/S,m=e+$*Z,J=A+$*s,w=N-m,f=i-J;
return[m,J,Math.sqrt(w*w+f*f)]};bd.prototype.apr=function(){var e=this.Cq;return Math.abs(e[1]-e[3])<1e-6&&Math.abs(e[2]-e[4])<1e-6||Math.abs(e[0]-e[2])<1e-6&&Math.abs(e[3]-e[5])<1e-6};
bd.xx=function(e){return j.p.d_(e)||j.p.d_([e[6],e[7],e[4],e[5],e[2],e[3],e[0],e[1]])};bd.prototype.$Q=function(e,A,a,p){this.LK=-1;
this.Q7=null;e.I.bz=null;e.I.NC=[];e.De=!0};bd.prototype.CE=function(e,A,a){var p=a._X(e?e.u.xj:0);if(p.x||p.y){var N=new bj(1,0,0,1,p.x,p.y);
j.p.D(this.Cq,N,this.Cq);this.vE(e,A);return!0}return!1};bd.prototype.k5=function(e){if(e==null)e=this.Cq;
var A=e[6]-e[0],a=e[7]-e[1],p=e[4]-e[2],N=e[5]-e[3],i=[e[0],e[1],e[2],e[3],e[0]+A/2,e[1]+a/2,e[2]+p/2,e[3]+N/2,e[6],e[7],e[4],e[5]],Z=[];
for(var c=0;c<3;c++){var s=c*4,D=i[s+0],n=i[s+1],S=i[s+2],F=i[s+3];Z.push(new k7(D,n));Z.push(new k7(D+(S-D)/2,n+(F-n)/2));
Z.push(new k7(S,F))}return Z};bd.prototype.vE=function(e,A,a){if(a==null)a=!1;var p=this.k5(),N=p[0],i=p[2],Z=p[6],s=p[8];
e.I.kp={F:[],w:[]};e.I.kp.F.push("M","L","L","L","Z");e.I.kp.w.push(N.x,N.y,i.x,i.y,s.x,s.y,Z.x,Z.y);
var D=this.a5J;if(D>1){e.I.lD=JSON.parse(JSON.stringify(e.I.kp));var n=i.QC(N),S=Z.QC(N),F=s.QC(i),$=s.QC(Z);
for(var c=1;c<D;c++){e.I.kp.F.push("M","L","M","L");var m=c/D;e.I.kp.w.push(N.x+n.x*m,N.y+n.y*m,Z.x+$.x*m,Z.y+$.y*m);
e.I.kp.w.push(N.x+S.x*m,N.y+S.y*m,i.x+F.x*m,i.y+F.y*m)}}e.u.IT=new dE(0,0,k7.nR(p[0],p[2]),k7.nR(p[0],p[6]));
if(this.LK!=-1&&this.LK<9&&this.Q7){var J=e.u.mc(this.Q7.x,this.Q7.y);q.$w.UL(J,e.u.IT,e,A)}if(!a){e.I.n8=[];
for(var c=0;c<p.length;c++)if(c!=4)e.I.n8.push(p[c].x,p[c].y);var w=this.Jt();e.I.n8.push(w.x,w.y)}e.De=!0};
bd.prototype.clear=function(e){e.u.IT=null;e.I.bz=null;e.I.kp=null;e.I.lD=null;e.I.n8=[];e.De=!0};function kq(e,A){this.Ww=null;
this.LK=-1;this.aar(e)}kq.prototype.nD=function(){return JSON.parse(JSON.stringify(this.Ww))};kq.prototype.aar=function(e){this.Ww=JSON.parse(JSON.stringify(e))};
kq.prototype.An=function(e){return!0};kq.prototype.YO=function(e,A,a,p){var N=this.Hu(e,A,p);if(N==-1)return"default";
return"pointer"};kq.prototype.MD=function(e,A,a,p,N,i,Z){this.LK=this.Hu(p,e.u.N,Z);return this.LK!=-1};
kq.prototype.Hu=function(e,A,a){var p=this.aga(),N=-1,i=1e6;for(var c=0;c<p.length;c++){var Z=k7.nR(p[c],e);
if(Z<i){N=c;i=Z}}return i<(a?q.aO({u:{N:A}},a)*2:20*q.V()/A)?N:-1};kq.prototype.D1=function(e,A,a,p){if(this.LK==-1)return;
var N=e.u.N,i=this.LK,Z=j.Ww.uB(this.Ww);Z[i*2]=p.x;Z[i*2+1]=p.y;j.Ww.bp(Z,this.Ww)};kq.prototype.$Q=function(e,A,a,p){this.LK=-1;
e.De=!0};kq.prototype.CE=function(e,A,a){var p=a._X();if(p.x||p.y){var N=new bj(1,0,0,1,p.x,p.y);j.p.D(this.Cq,N,this.Cq);
this.vE(e)}};kq.prototype.aga=function(e){var A=j.Ww.uB(this.Ww),a=[];for(var c=0;c<A.length;c+=2)a.push(new k7(A[c],A[c+1]));
return a};kq.prototype.vE=function(e){var A=this.aga();e.I.kp={F:[],w:[]};e.I.kp.F.push("M","C","C","C","C");
var a=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var c=0;c<a.length;c++)e.I.kp.w.push(A[a[c]].x,A[a[c]].y);
e.I.kp.F.push("M","L","L","M","L","L","M","L","L","M","L","L");a=[4,0,1,2,3,7,11,15,14,13,12,8];for(var c=0;
c<a.length;c++)e.I.kp.w.push(A[a[c]].x,A[a[c]].y);e.I.n8=[];for(var c=0;c<A.length;c++)e.I.n8.push(A[c].x,A[c].y);
e.De=!0};kq.prototype.clear=function(e){e.I.kp=null;e.I.n8=[];e.De=!0};function eV(){this.tc=!1;this.aa=!1;
this.azL=!1;this.ad7=!1;this.A1=!1;this.c8=!1;this.qg=0;this.D2=0}eV.prototype.MD=function(e){this.tc=!0;
this.aa=!1;this.A1=e.l(g4.Kp);this.c8=e.l(g4.uJ);this.qg=this.A1?0:1;this.D2=this.c8?0:1};eV.prototype.CE=function(e){var A=this.ad7=e.l(g4.Kp),a=this.azL=e.l(g4.uJ);
if(this.aa){if(this.qg==0&&!A)this.qg++;if(this.qg==1&&A)this.qg++;if(this.D2==0&&!a)this.D2++;if(this.D2==1&&a)this.D2++}};
eV.prototype.D1=function(){this.aa=!0};eV.prototype.$Q=function(){this.tc=!1};eV.prototype.Cs=function(c){if(c==0)return this.tc?this.c8:this.azL;
if(c==1)return this.aa?this.D2==2:!1};eV.prototype.t6=function(c){if(c==0)return this.tc?this.A1:this.ad7;
if(c==1)return this.aa?this.qg==2:!1};q.History=function(){q.$w.call(this,"History",q.sf);this.Q2=!0;
this.amb=0};q.History.prototype=new q.$w;q.History.prototype.nc=function(e,A,a,p){a.W$=!0;if(e.d=="h_itemchange"){if(e.index<a.hd)for(var c=a.hd;
c>e.index;c--)this.kL(a);if(e.index>a.hd)for(var c=a.hd;c<e.index;c++)this.vg(a)}if(e.d=="h_stepfwd")this.vg(a);
if(e.d=="h_stepbck")this.kL(a);if(e.d=="h_undoredo"){var N=this.Q2||this.amb!=a.hd;if(N){this.kL(a);
N=!1}else{this.vg(a);N=!0}this.Q2=N;this.amb=a.hd}if(e.d=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
a.history=[new af([1,0],null)];a.hd=0}else this.Q2=!0};q.History.prototype.kL=function(e){if(e.hd==0)return;
var A=e.history[e.hd];A.G.rf(A.data,e);e.hd--};q.History.prototype.vg=function(e){if(e.hd==e.history.length-1)return;
var A=e.history[e.hd+1];A.G.Jf(A.data,e);e.hd++};q.TN=function(){q.$w.call(this,"Layers",q._b);this.p2=null};
q.TN.prototype=new q.$w;q.TN.prototype.nc=function(e,A,a,p,N){this.p2=A;var i=e.d,Z=e.j!=null?e.j:a.g.length!=0?a.g[0]:a.B.length-1,s=a.B[Z];
a.Xz=!0;var D=p.l(g4.uJ),n=p.l(g4.Kp),S=p.l(g4.YC);if(i==u.ZD&&a.P==null&&(a.g.length>1||!a.VX(!1)))i=u.$A;
if(i==u.FO){var F=new af([6,33],this),$=s.yg()?["pass"].concat(im.U6):im.U6,m=$[e.pL],J=e.j!=null?[e.j]:a.g,w=JSON.stringify(J),f=[];
for(var c=0;c<J.length;c++)f.push(a.B[J[c]].Mi);F.data={d:i,WD:w,aW:f,pL:m};a.G2(F);this.Jf(F.data,a);
this.track(gb.TP("Md",{t:"enum",v:{BlnM:im.Pj(m)}}))}if(i==u.MN){var F,b=a.rU(),J=e.j!=null?[e.j]:a.g,w=JSON.stringify(J);
if(b&&b.data&&b.data.d==i&&b.data.WD==w)F=b;else{var L=gb.TP("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(L);var f=[];for(var c=0;c<J.length;c++)f.push(a.B[J[c]].opacity);F=new af([6,32],this);F.data={d:i,WD:w,aW:f,pL:e.pL,If:L.h2};
a.G2(F)}F.data.pL=e.pL;F.data.If.T.v.Opct.v.val=Math.round(e.pL*100/255);this.Jf(F.data,a)}if(i==u.Bf){if(s.add.iOpa==null)s.add.iOpa=255;
var F,b=a.rU();if(b&&b.data&&b.data.d==i&&b.data.j==Z)F=b;else{F=new af("Fill Opacity Change",this);
F.data={d:i,j:Z,aW:s.add.iOpa,pL:e.pL};a.G2(F)}F.data.pL=e.pL;this.Jf(F.data,a)}if(i==u.kX){var C=e.pL,M=e.j!=null?[e.j]:a.g.slice(0),y=[],Q=[],F;
for(var k=0;k<M.length;k++){var E=a.B[M[k]];if(E.add.lspf==null)E.add.lspf=0;var f=E.add.lspf,m=f;for(var c=0;
c<C[0].length;c++){var _=C[1][c],v=1<<_;if((m&v)==0&&C[0][c])m^=v;else if((m&v)!=0&&!C[0][c])m^=v}y.push(f);
Q.push(m)}var b=a.rU(),J=JSON.stringify(M);if(b&&b.data&&b.data.d==i&&JSON.stringify(b.data.WD)==J){F=b;
F.data.pL=Q}else{var F=new af([6,57,1],this);F.data={d:i,WD:J,aW:y,pL:Q};a.G2(F)}this.Jf(F.data,a)}if(i==u.TF){var V="----",R=e.tD,m=null;
for(var c=0;c<gg.ip.KM.length;c++)if(s.add[gg.ip.KM[c]])V=gg.ip.KM[c];var h=s.add[V];if(R=="TySh")m=eG.KP(50,50,N.ZG);
var F=new af("Layer Type",this);F.data={d:i,j:Z,aj$:[V,h],tD:[R,m]};a.G2(F);this.Jf(F.data,a)}if(i==u.g9){var M=[];
if(D){var P=a.rU(),H=P?P.data:null;if(P!=null&&P.G==this&&H.d==u.g9&&H.WD.length!=1){var U=new k4(t.E.v);
U.G=q.sf;U.data={d:"h_stepbck"};A.S(U);if(H.j==Z)return}var X=a.root.WG(Z),x=X,K=[e.j];while(x.parent!=a.root){K.push(x.parent.index);
x=x.parent}for(var c=0;c<a.B.length;c++){var T=a.B[c],x=a.root.WG(c),I=K.indexOf(c)!=-1?!0:T.gi()&&X.depth<x.depth;
if(I!=T.gi())M.push(c)}}else if(e.WD)M=e.WD;else{M.push(Z);var o=a.B[Z].gi(),L={_h:o?"hide":"show",h2:{classID:o?"Hd":"Shw",null:{t:"VlLs",v:[gb.o$("Lyr",!0)]}}};
this.track(L)}var F=new af("Layer visibility",this,!0);F.data={d:i,WD:M,j:Z};a.G2(F);this.Jf(F.data,a)}if(i==u.ml){if(N.zX==q.M5){var l=new k4(t.E.L);
l.data={d:t.c.sk,G:q.Mf};A.S(l)}var O=e.atZ,g=e.wq,gT,escape=!1,r=!1;if(e.Sa){if(S&&(g==0||g==1||g==2)){var W=0;
if(n)W++;if(D)W+=2;var d=new k4(t.E.v,!0);d.G=q.aN;d.data={d:"fromlayer",U9:[e.j,g,W]};A.S(d);return}}var L={_h:"select",h2:{classID:"null",MkVs:{t:"bool",v:!1}}};
a.a73();if(p.l(g4.YC)||e.DE==0){var G=a.g.indexOf(Z);if(G==-1)a.g.push(Z);else if(a.g.length>1){if(e.DE!=0)a.g.splice(G,1)}a.g.sort(function(F,em){return F-em});
L.h2.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};gT=Z}else if(n&&!D&&g>0){i=g==1?u.SM:g==2?u.Ts:u.si;
escape=!0}else if((n||e.DE==1)&&a.g.length>0){var Y=Math.min(Z,a.g[0]),fk=Math.max(Z,a.g[a.g.length-1]);
a.g=[];for(var c=Y;c<=fk;c++)if(a.B[c].add.lsct!=ez.Nr)a.g.push(c);L.h2.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
gT=Z}else{gT=Z;if(Z>=a.B.length)return;var T=a.B[Z];if(T&&T.yg()&&e.aeI)T.add.lsct=ez.MV;else if(a.g.length==1&&a.g[0]==Z&&Math.max(0,g)==T.os){r=!0;
a.Xz=!1}if(!r){a.g=[Z];a.xI()}}if(!r){if(gT!=null&&gT<a.B.length){L.h2.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:a.B[gT].getName()}}]},this.track(L)}if(!escape){console.log("no escape");
if(a.g.length==1){var eJ=a.g[0];for(var c=0;c<a.B.length;c++){if(c==eJ)continue;var E=a.B[c];E.os=0;
E.Bp=!1}var s=a.B[eJ];if(g==2){s.Bp=!s.Bp;a.Lj=[]}else if(s){s.os=g<=0?0:g}}else for(var c=0;c<a.B.length;
c++){var E=a.B[c];E.os=0;E.Bp=!1}a.AH=null;a.W$=!0}}if(e.Sa&&D){if((g==1||g==3)&&O!=null){var d=new k4(t.E.v,!0);
d.G=q._B;d.data={d:"mskView",Z:O!=0?0:n?1:2};A.S(d)}else{this.nc({d:u.Ta,j:e.j},A,a,p,N)}}}if(i==u.SM||i==u.si){var eS=i==u.SM,gL=eS?s.tR():s.MH(a).$;
if(gL==null)return;var F=new af(gL.isEnabled?eS?[6,15]:[6,42]:eS?[6,14]:[6,41],this);F.data={d:i,j:Z};
a.G2(F);this.Jf(F.data,a)}if(i==u.Ts){var gL=s.add.vmsk;if(gL==null)return;var F=new af(gL.isEnabled?[6,17]:[6,16],this);
F.data={d:i,j:Z};a.G2(F);this.Jf(F.data,a)}if(i==u.a0M){var cX=s.add.lsct==ez.MV?ez.St:ez.MV,x=a.root.WG(a.B.indexOf(s)),iL=!1;
if(p.l(g4.YC)){var kj=x.parent;for(var c=0;c<kj.children.length;c++){var gq=kj.children[c].j;if(gq.yg())gq.add.lsct=cX}}else s.add.lsct=cX;
for(var c=0;c<a.g.length;c++){var ew=a.g[c];if(x.$g<ew&&ew<x.index)iL=!0}if(iL)a.g=[x.index];a.W$=!0}if(i==u.Ta){if(!a._j(Z))return;
var F=new af(s.G0?[6,19]:[6,18],this);F.data={d:i,j:Z};a.G2(F);if(e.pL==null||e.pL!=s.G0)this.Jf(F.data,a)}if(i==u.a2G){if(s.lu())s.OO-=32;
else s.OO+=32;a.W$=!0}if(i==u.Cy||i==u.QB){var F;if(i==u.Cy)F=new af(s.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(i==u.QB)F=new af(s.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);F.data={d:i,j:Z};a.G2(F);this.Jf(F.data,a)}if(i==u.N1||i==u.xo){var eJ=e.index,F;
if(i==u.N1)F=new af(s.add.lmfx[iF.RU[eJ[0]]].v[eJ[1]].v.enab.v?[6,30,0]:[6,29],this);if(i==u.xo)F=new af(s.add.SoLd.filterFX.v.filterFXList.v[eJ].v.enab.v?[6,44]:[6,43],this);
F.data={d:i,j:Z,index:e.index};a.G2(F);this.Jf(F.data,a)}if(i==u.qr){if(e.src==e.Gt)return;var dk=a.B[e.src],j9=a.B[e.Gt],fh=dk.add.lmfx?JSON.stringify(dk.add.lmfx):"",g9=j9.add.lmfx?JSON.stringify(j9.add.lmfx):"";
if(j9.add.lmfx==null){j9.add.lmfx=JSON.parse(iF.default);for(var c=0;c<iF.order.length;c++)j9.add.lmfx[iF.RU[c]]={t:"VlLs",v:[]}}if(e.ra==null){j9.add.lmfx=JSON.parse(fh);
if(!D)delete dk.add.lmfx}else{var k6=e.ra[0],jx=iF.RU[k6];if(iF.arZ.indexOf(iF.order[k6])==-1)j9.add.lmfx[jx].v=[];
j9.add.lmfx[jx].v.push(dk.add.lmfx[jx].v[e.ra[1]]);if(!D)dk.add.lmfx[jx].v.splice(e.ra[1],1)}var fV=dk.add.lmfx?JSON.stringify(dk.add.lmfx):"",ao=j9.add.lmfx?JSON.stringify(j9.add.lmfx):"";
if(!j9.lu())j9.OO+=32;var F=new af("Move Layer Styles",this);F.data={d:i,fM:e.src,I5:e.Gt,abg:fh,a7Q:g9,ard:fV,amI:ao};
a.G2(F);this.Jf(F.data,a)}if(i==u.lN){if(e.src!=null)Z=e.src;var E=a.B[Z],b8=JSON.stringify(E.add.SoLd),ke=JSON.parse(b8),gj=ke.filterFX.v.filterFXList.v;
gj.splice(e.ra,1);var F=new af([6,53],this);F.data={d:u.We,a4:[{sr:Z,Ff:[b8,JSON.stringify(ke)]}]};a.G2(F);
this.Jf(F.data,a)}if(i==u.axr){var jf=D,dk=a.B[e.src],j9=a.B[e.Gt],ay=[];if(dk!=j9&&j9.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(dk==j9&&!jf&&e.ra==e.wo)return;if(dk==j9&&e.ra==-1)return;var fz=dk.MH(a),b8=JSON.stringify(dk.add.SoLd),ke=JSON.parse(b8),gj=ke.filterFX.v.filterFXList.v;
if(dk==j9){gj.splice(e.wo,0,gj[e.ra]);if(!jf)gj.splice(e.ra+(e.ra<e.wo?0:1),1);ay.push({sr:e.src,Ff:[b8,JSON.stringify(ke)]})}else if(e.ra==-1){var ei=ke.filterFX;
if(!jf){delete ke.filterFX;ay.push({sr:e.src,Ff:[b8,JSON.stringify(ke)],zA:[fz,null]})}var hC=j9.$f()?j9.MH(a):null,iI=ar.a7x(fz),gQ=JSON.stringify(j9.add.SoLd),cb=JSON.parse(gQ);
cb.placed.v=iI.id;cb.filterFX=ei;ay.push({sr:e.Gt,Ff:[gQ,JSON.stringify(cb)],zA:[hC,iI]})}else{var dK=gj[e.ra];
if(!jf){gj.splice(e.ra,1);ay.push({sr:e.src,Ff:[b8,JSON.stringify(ke)]})}var gQ=JSON.stringify(j9.add.SoLd),cb=JSON.parse(gQ);
if(cb.filterFX==null)cb.filterFX=hZ.Iu();var ha=cb.filterFX.v.filterFXList.v;ha.splice(e.wo,0,dK);var hA={sr:e.Gt,Ff:[gQ,JSON.stringify(cb)]};
if(!j9.$f()){var iI=ar.ath(j9.add.SoLd.placed.v);hA.zA=[null,iI]}ay.push(hA)}var F=new af([6,52],this);
F.data={d:u.We,a4:ay};a.G2(F);this.Jf(F.data,a)}if(i==u.HW){var gL=s.tR(),F=new af(gL.Fv?[6,26]:[6,25],this);
F.data={d:i,j:Z};a.G2(F);this.Jf(F.data,a);this.track({_h:"set",h2:{classID:"setd",null:{t:"obj ",v:[gb.o$("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:gL.Fv}}}}})}if(i==u.EZ){var gL=s.add.vmsk,F=new af(gL.Fv?[6,28]:[6,27],this);
F.data={d:i,j:Z};a.G2(F);this.Jf(F.data,a)}if(i==u.Wq){var F=new af("Variables / Datasets",this),dW=JSON.stringify([a.lw,a.$d]);
if(dW==e.Z)return;F.data={d:i,ayQ:dW,as5:e.Z};a.G2(F);this.Jf(F.data,a)}if(i==u.E7){var fN=[],F;for(var c=0;
c<a.g.length;c++){var k=a.g[c],T=a.B[k];if(T.add.vogk)fN.push(k,JSON.stringify(T.add.vogk))}for(var c=0;
c<a.Lj.length;c++){var k=a.Lj[c],T=a.GI[k];if(T.add.vogk)fN.push(-1-k,JSON.stringify(T.add.vogk))}j.X.auK(a,e.Z,e.atr);
var cQ=[];for(var c=0;c<a.g.length;c++){var k=a.g[c],T=a.B[k];if(T.add.vogk)cQ.push(k,JSON.stringify(T.add.vogk))}for(var c=0;
c<a.Lj.length;c++){var k=a.Lj[c],T=a.GI[k];if(T.add.vogk)cQ.push(-1-k,JSON.stringify(T.add.vogk))}var b=a.rU();
if(b&&b.data&&b.data.d==i){var h6=!0;for(var c=0;c<fN.length;c+=2)if(fN[c]!=b.data.rI[c])h6=!1;if(h6){F=b;
F.data.Tf=cQ}}if(F==null){var F=new af([12,91,1],this);F.data={d:i,rI:fN,Tf:cQ};a.G2(F)}this.Jf(F.data,a)}if(i==u.O9){var hh=JSON.stringify(s.add.artb),bA=JSON.stringify(e.md),F;
a.B[Z].add.artb=JSON.parse(bA);var co=new dE(0,0,a.m,a.n),ej=q.v9.Ua(a),b=a.rU();if(b&&b.data&&b.data.d==i&&b.data.j==Z){F=b;
F.data.md=bA}if(F==null){var F=new af("Editing Artboard",this);F.data={d:i,j:Z,a0i:hh,md:bA,yX:co};a.G2(F)}F.data.Gf=ej;
this.Jf(F.data,a)}if(i==u.JC){var cQ=a.l8.slice(0),bk=a.RN.slice(0),h5=a.P,bg=a.P;if(e.dy=="fromAction"){var aQ=e.Z._h,fw=e.Z.h2;
if(aQ=="make"||aQ=="duplicate"){var jC=cQ.length,eU=!1,iV=!1;if(a.h_())jC--;var e0=new u.j_;e0.name="Alpha "+(jC+1);
if(aQ=="make"){var kh=fw.Nw.v;e0.color=0;bk=[jC];e0.MC=!0;e0.C4=kh.Opct.v;if(kh.Nm)e0.name=kh.Nm.v;if(kh.classID=="SCch"){eU=!0;
bg=null;e0.lT=1}}else{var hT=fw.null.v[0].v;if(hT.keyID=="fsel")eU=!0;else{var gi=q.ns.azJ(a);bg=q.ns.amv(a,gi);
e0.color=0;e0.rect=bg.rect;e0.channel=bg.channel}}if(eU){e0.color=0;if(a.P){e0.rect=a.P.rect.clone();
e0.channel=a.P.channel.slice(0)}if(iV){e0.color=255-e0.color;j.rQ(e0.channel)}}for(var c=0;c<a.l8.length;
c++)a.l8[c].MC=!1;a.u.$n=[0,0,0];cQ.splice(jC,0,e0)}else if(aQ=="delete"){if(s&&s.tR()&&s.os==1){this.nc({d:u.xG},A,a,p,N);
return}var bD=a.RN;bD.sort(function(F,em){return em-F});if(bD.length==0)return;for(var c=0;c<bD.length;
c++)cQ.splice(bD[c],1);bk=[];a.u.$n=[1,1,1]}else if(aQ=="hide"){cQ[bk[0]]=cQ[bk[0]].clone();cQ[bk[0]].MC=!1}}if(e.dy=="rnm"){cQ[e.g2]=cQ[e.g2].clone();
cQ[e.g2].name=e.name}var F=new af("Channel Edit",this);F.data={d:i,rI:a.l8.slice(0),cu:a.RN.slice(0),Tf:cQ,Uh:bk,_i:h5,zE:bg};
this.Jf(F.data,a);a.G2(F)}if(i==u.U4){var kt=new dE(0,0,a.m,a.n),F=new af(e.fQ,this);F.data={d:u.U4,S4:a.B.slice(0),f_:e.f_,Fn:a.g.slice(0),P6:e.zE};
a.G2(F);this.Jf(F.data,a);var iJ=q.v9.iF(a);if(iJ){F.data.yX=kt;F.data.Gf=iJ}}if(i==u.vR){var ih=a.Ee(null,e.j),ad=1e10;
if(ih.length==0)return;if(a.B.length==ih.length){alert("Project must have at least 1 layer");return}var fr=[];
for(var c=0;c<a.B.length;c++)if(ih.indexOf(c)==-1)fr.push(a.B[c]);for(var c=0;c<ih.length;c++)ad=Math.min(ad,ih[c]);
ad=Math.max(ad-1,0);while(fr[ad].name=="</Layer group>")ad++;this.track({_h:"delete",h2:{classID:"Dlt",null:gb.o$("Lyr",!0)}});
var co=new dE(0,0,a.m,a.n),F=new af([6,31],this);F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:[ad]};
a.G2(F);this.Jf(F.data,a);var ej=q.v9.Ua(a);if(ej){F.data.Gf=ej;F.data.yX=co;q.v9.iF(a)}}if(i==u.RW){if(!p.l(g4.Kp))return;
var F=new af("Switch Layer Link",this);F.data={d:i,j:e.j};a.G2(F);this.Jf(F.data,a)}if(i==u.pE){var bD=e.a91?e.a91:a.g,aS=0,cz=!1;
if(bD.length==0)return;if(bD.length==1&&a.B[bD[0]].g0==0){alert(i1.get([15,7,5]));return}var cD=[];for(var c=0;
c<a.B.length;c++){var dR=a.B[c].g0;cD.push(dR);aS=Math.max(aS,dR)}var b0=-1,jT=-1;for(var c=0;c<bD.length;
c++){var dR=a.B[bD[c]].g0;if(dR==0)cz=!0;else if(b0==-1||b0==dR)b0=dR;else jT=dR}if(!cz)for(var c=0;
c<bD.length;c++)a.B[bD[c]].g0=0;else if(b0!=-1&&jT==-1)for(var c=0;c<bD.length;c++)a.B[bD[c]].g0=b0;
else for(var c=0;c<bD.length;c++)a.B[bD[c]].g0=aS+1;var bW=[];for(var c=0;c<a.B.length;c++){var dR=a.B[c].g0;
if(bW[dR]==null)bW[dR]=0;bW[dR]++}for(var c=0;c<a.B.length;c++){var dR=a.B[c].g0;if(bW[dR]==1)a.B[c].g0=0}var aU=cD;
cD=[];for(var c=0;c<a.B.length;c++){var dR=a.B[c].g0;cD.push(dR);aS=Math.max(aS,dR)}var F=new af(cz?[6,54,0]:[6,54,1],this);
F.data={d:u.pE,ayg:aU,abi:cD};a.G2(F);this.Jf(F.data,a)}if(i==u.$A&&(e.j!=null||a.g.length!=0)||i==u.QV){var ff=a.s2(i==u.$A?e.j:Z,null,e.akR),ca;
if(i==u.QV){var E=ff[0],aQ=E.add.SoLd.Idnt.v,cT=a.v1(aQ).clone();E.add.SoLd.Idnt.v=cT.h0=ar.sY()+aQ.slice(8);
a.add.lnk2.push(cT)}if(i==u.$A){var b3={_h:"duplicate",h2:{classID:"null",null:gb.o$("Lyr",!0)}};if(e.Xt){ff[ff.length-1].i4(e.Xt);
b3.Nm={t:"TEXT",v:e.Xt}}this.track(b3);e.a4e=e.j}i=u.WH;e.B=ff;e.lC=a;e.K5=a}if(i==u.WH){var hK,cS,e3=e.lC,j8=e.K5,iY=0,iX=0,hQ=!1,aC,gs=0,gk=0;
if(e3!=j8){console.log("ADDLAYERS different projs");var hK=new dE(0,0,e3.m,e3.n),cS=new dE(0,0,j8.m,j8.n),jd=[],eX=[];
for(var c=0;c<e.B.length;c++){var E=e.B[c];if(E.add.SoLd==null)continue;var aQ=E.add.SoLd.Idnt.v;if(jd.indexOf(aQ)==-1){jd.push(aQ);
eX.push(ar.sY()+aQ.slice(8))}E.add.SoLd.Idnt.v=eX[jd.indexOf(aQ)];var fz=E.MH(e3);if(fz){e3.PN(fz);j8.Dh(fz)}}if(jd.length>0){if(j8.add.lnk2==null)j8.add.lnk2=[];
for(var c=0;c<jd.length;c++){var h4=e3.v1(jd[c]),cT=h4.clone();cT.h0=eX[c];j8.add.lnk2.push(cT)}}}var h5=j8.g.slice(0);
h5.sort(function(F,em){return F-em});var fr=j8.B.slice(0),bg=[],ky=-1;for(var c=0;c<h5.length;c++)ky=Math.max(ky,h5[c]);
if(e.a4e!=null)ky=e.a4e;var h9=e3.nE();if(e.UT){ky=e.UT-1;var cY=j8.B[e.UT].jP();iY+=cY.x;iX+=cY.y}if(h9!=-1&&(e3!=j8||e.UT)){var fO=e3.B[h9].jP();
iY-=fO.x;iX-=fO.y}var hf=j8.ek();for(var c=0;c<hf[0].length;c++){var ds=hf[1][c];if(ds!=-1)hf[1][c]=fr[ds]}ky++;
for(var c=0;c<e.B.length;c++){var T=e.B[c],e7=T.add.artb;fr.splice(ky,0,T);bg.push(ky);ky++;if(e7){aC=!0;
var jv=e7.guideIndeces;if(jv){jv=jv.v;for(var ak=0;ak<jv.length;ak++){hf[0].push(e3.dc[jv[ak].v].slice(0));
hf[1].push(T);hQ=!0}}}}for(var c=0;c<hf[0].length;c++){var ds=hf[1][c];if(ds!=-1)hf[1][c]=fr.indexOf(ds)}for(var c=0;
c<e.B.length;c++){var T=e.B[c];if(T.add.lsct==ez.Nr){if(gs==0)gk++;gs++}else if(T.yg())gs--}if(gk==1)bg=[ky-1];
var F=new af([6,0],this);F.data={d:u.U4,S4:j8.B.slice(0),f_:fr,Fn:h5,P6:bg};if(hQ){F.data.yx=[j8.ek(),hf]}j8.G2(F);
this.Jf(F.data,j8);if(iY!=0||iX!=0)q.GS.jQ(j8,j8.Ee(),null,iY,iX);if(aC){F.data.yX=new dE(0,0,j8.m,j8.n);
F.data.Gf=q.v9.Ua(j8);q.v9.iF(j8)}}if(i==u.a4Z){var i7=e.j!=null?[e.j]:a.Ee(),fr=a.B.slice(0);for(var c=0;
c<i7.length;c++){var T=a.B[i7[c]].clone();T.ga(a);fr.splice(i7[c],1,T)}var F=new af([6,8],this);F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:a.g.slice(0)};
a.G2(F);this.Jf(F.data,a)}if(i==u.adT){var fr=a.B.slice(0),T=fr[a.g[0]]=fr[a.g[0]].clone(),fQ=T.add.lmfx,fv,cY;
delete T.add.lmfx;var ce=a.g[0],jR=ce+1;if(T.yg()){var e2=a.B[a.g[0]].P5;cY=e2.age;fv=e2.UU;var x=a.root.WG(ce);
ce=x.$g}else{cY=T.rect;fv=j.Q(cY.O());j.kI(T.buffer,fv,3)}var d3=b6.s4(fQ,T.add.fxrp,fv,cY,a,cY).type;
for(var c=0;c<iF.order.length;c++){var ix=iF.order[c],ex=d3[ix];ex.reverse();for(var ak=0;ak<ex.length;
ak++){var e8=ex[ak],J=a.Uo(),e_=c>7;if(ix=="ebbl"){if(e8.ie||e8.I2){var cH=e8.ie?e8.ie:e8.I2;if(e8.ie)delete e8.ie;
else delete e8.I2;if(e8.I2||e8.kw)ak--}else if(e8.kw||e8.r_){var cH=e8.r_?e8.r_:e8.kw;if(e8.r_){delete e8.r_;
if(e8.kw)ak--}e_=!0}e8=cH}J.Mi=e8.UM;J.opacity=Math.round(255*e8.RZ);J.buffer=e8.Qi;J.rect=e8.bj.clone();
J.rect.offset(cY.x,cY.y);if(ix=="FrFX"){J.buffer=J.buffer.slice(0);j.Ao(e8.zs?e8.zs:e8.kj,J.buffer,3);
if(e8.zs){e_=!0;delete e8.zs;if(e8.kj)ak--}}J.G0=!e_;J.i4(T.getName()+"'s "+i1.get(iF.names[c]));fr.splice(e_?ce:jR,0,J);
if(e_)jR++}}var F=new af("Styles to Layers",this);F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:[jR-1]};
a.G2(F);this.Jf(F.data,a)}if(i==u.Rn){var i7=a.Ee(),fr=a.B.slice(0),gK=new dE(0,0,a.m,a.n);for(var c=0;
c<i7.length;c++){var fn=a.B[i7[c]],g5=fn.gi();fn.d8(!0);var ja=a.root.WG(i7[c]);if(fn.yg())continue;
if(ja==null)continue;var T=fn.clone();T.ga(a);var jq=ja.V0(a,!0),g8=a.B;a.Ex([fn]);a.U();a.HD();T.buffer=j.Q(jq.O()*4);
j._M(a.WR(),gK,T.buffer,jq);T.rect=jq;T.opacity=255;T.add.iOpa=255;T.Mi="norm";T.U();T.P5.g4=!0;a.Ex(g8);
if(T.add.lmfx)delete T.add.lmfx;T.$=T.SW=null;fr.splice(i7[c],1,T);T.d8(g5);fn.d8(g5)}var F=new af([6,34],this);
F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:a.g.slice(0)};a.G2(F);this.Jf(F.data,a)}if(i==u.asK){var i7=a.Ee(),fr=a.B.slice(0);
for(var c=0;c<i7.length;c++){var T=a.B[i7[c]],gd=T.add.TySh;if(gd==null)continue;var E=new dl(gd._t,N.de),bi=j.p.C8(ek.xe(E,gd));
for(var io in bi){var hg=bi[io],gq=T.clone();delete gq.add.TySh;gq.OO=gq.OO|1<<4;gq.add.SoCo=JSON.parse(JSON.stringify(iF.o5[0]));
var bY=gq.add.SoCo.Clr.v;bY.Rd.v=parseInt(io.slice(1,3),16);bY.Grn.v=parseInt(io.slice(3,5),16);bY.Bl.v=parseInt(io.slice(5,7),16);
var gz=new u.eP;gz.i=j.p.Hh(hg,!1);if(gq.add.vmsk!=null){gq.add.vmsk.afO();gz.concat(gq.add.vmsk)}gq.add.vmsk=gz;
gq.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));gq.c0();gq.yO(a);fr.splice(fr.indexOf(T),0,gq)}fr.splice(fr.indexOf(T),1)}var bg=a.g.slice(0);
for(var c=bg.length-1;c>=0;c--)if(bg[c]>=fr.length)bg.splice(c,1);var F=new af([6,40],this);F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:bg};
a.G2(F);this.Jf(F.data,a)}if(i==u.GU){var fc=a.g.length,f9,dP;if(fc<2){alert("Select two or more layers.");
return}for(var c=0;c<fc;c++){var fO=a.B[a.g[c]].rect;f9=c==0?fO:f9.Yn(fO);dP=c==0?fO:dP.pg(fO)}if(f9.O()*1.2>dP.O()){alert("stacking images");
var dA=[],eq=[];for(var c=0;c<fc;c++){var T=a.B[a.g[c]];dA.push(T.buffer);eq.push(T.rect)}var ef=j.a0W.H1(dA,eq),ir=ef[0],d5=ef[1],hV=[];
for(var c=0;c<fc;c++){var gL=new u.j_;gL.color=255;gL.rect=d5;gL.channel=ir[c];hV.push(a.g[c],null,gL)}var F=new af("Focus-Stack",this);
F.data={d:u.zV,Vf:hV};a.G2(F);this.Jf(F.data,a);return}if(!a.Fa())return;var gq=a.B[a.g[0]].clone(),fr=[];
for(var c=0;c<a.B.length;c++)if(a.g.indexOf(c)==-1)fr.push(a.B[c]);fr.splice(a.g[0],0,gq);for(var c=1;
c<fc;c++)if(a.B[a.g[c]].rect.O()>2e6){alert("Blended areas are too large.");return}for(var c=1;c<fc;
c++){var T=a.B[a.g[c]],d5=T.rect.clone();d5.Fu(1,1);var em=j.Q(d5.O()*4);j._M(T.buffer,T.rect,em,d5);
gq.extend(d5);var gM=j.Q(d5.O()*4);j._M(gq.buffer,gq.rect,gM,d5);var F=j.Q(d5.O());j.kI(em,F,3);j.round(F,200);
j.Ao(F,em,3);j.s.eZ("norm",em,d5,gM,d5,d5,1);j.x5.hb(gM,F,d5);j._M(gM,d5,gq.buffer,gq.rect)}var F=new af([2,10,0],this);
F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:[a.g[0]]};a.G2(F);this.Jf(F.data,a)}if(i==u.bm){var fr=a.B.slice(0),bk=a.g.slice(0);
for(var c=0;c<fr.length;c++){var T=fr[c],h2=T.add.vmsk;if(T.c7()&&h2&&T.add.vstk.strokeEnabled.v&&!T.add.vstk.fillEnabled.v){var cK=h2.i,jO=0,aJ=-1;
for(var ak=0;ak<cK.length;ak++){if((cK[ak].type==0||cK[ak].type==3)&&cK[ak].kR!=-1){jO++;if(cK[ak].type==3&&aJ==-1){cK[ak].wk=cK[ak].kR=1;
aJ=ak}}}if(jO>1&&aJ!=-1&&jO<10){console.log("separating an open path into a new layer");T=T.clone();
h2=T.add.vmsk;cK=h2.i;var J=cK[aJ].length,a3=T.clone();a3.add.lyid=a.k1();h2.i=cK.slice(0,2).concat(cK.slice(aJ,aJ+J+1));
h2.g=[];T.yO(a);T.U();var az=a3.add.vmsk.i;a3.add.vmsk.i=az.slice(0,aJ).concat(az.slice(aJ+J+1,az.length));
a3.add.vmsk.g=[];a3.yO(a);fr[c]=T;fr.splice(c+1,0,a3);for(var ak=0;ak<bk.length;ak++)if(bk[ak]>c)bk[ak]++;
var eR=bk.indexOf(c);if(eR!=-1){bk.splice(eR+1,0,c+1)}}}}if(fr.length!=a.B.length){var F=new af("Splitting open paths",this);
F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:bk};a.G2(F);this.Jf(F.data,a)}}if(i==u.Zq){this.nc({d:u.bm},A,a,p,N);
var h5=a.g.slice(0),g8=a.B.slice(0),i7=a.Ee();if(i7.length==0)return;a.a98(i7,!1,e.qm);var F=new af([6,36,0],this);
F.data={d:u.U4,S4:g8,f_:a.B.slice(),Fn:h5,P6:a.g.slice(0)};a.G2(F);this.Jf(F.data,a)}if(i==u.ayM){var b8=s.add.SoLd;
if(b8==null)return;var aQ=b8.Idnt.v,da=a.v1(aQ);da.WR(!1);var kf=da.G9[0],d5=da.G9[1];if(j.vJ(kf)){alert("The smart object contains transparency.");
return}var cy=fI.nP("jpg").Eu([[kf.buffer]],d5.m,d5.n,[90]);this.nc({d:u.FA,data:new Uint8Array(cy),_c:"image.jpg"},A,a,p,N);
console.log(a.add);return}if(i==u.FA){var gK=e.M0,aQ=e.id;if(gK==null)gK=a;if(aQ==null)aQ=s.add.SoLd.Idnt.v;
var h4=gK.v1(aQ),cT=h4.clone();cT.raw=e.data;cT._c=e._c;var fa=fI.ti(e.data.buffer);if(fa=="psd"){cT.eR="8BIM";
cT.$e="8BPB"}else{cT.eR="    ";cT.$e="    "}cT.WR(!1);h4.WR(!1);var F=new af([6,36,1],this);F.data={d:u.FA,id:aQ,uY:h4,PA:cT};
gK.G2(F);this.Jf(F.data,gK)}if(i==u.DY){var F=new af([6,36,4],this);F.data={d:i,j:Z,Ve:s.add.SoLd.Impr.v.classID,pL:e.pL};
a.G2(F);this.Jf(F.data,a)}if(i==u.aws){var dd,iu;if(e.Ez){dd=e.M0;iu=e.Ez}else{e.M0.WF();e.M0.Ht();e.M0.U();
e.M0.HD();e.M0.WR();dd=fI.nP("PSD").Eu(e.M0,0,0,[!0,!0]);iu=e.M0.name}if(!(dd instanceof ArrayBuffer))throw"e";
dd=new Uint8Array(dd);var G=e.zK;if(G==null){if(a.g.length==0)G=a.g.length;else{var ew=a.g[a.g.length-1],J=a.B[ew];
G=J.yg()?ew:ew+1}}var gO=new dE(0,0,a.m,a.n),fb=a.nE();if(fb!=-1)gO=a.B[fb].jP();var bb=a.je(dd,iu,null,null,gO,N.de,A),fr=a.B.slice(0);
fr.splice(G,0,bb);var F=new af([6,36,2],this);F.data={d:u.U4,S4:a.B.slice(),f_:fr,Fn:a.g.slice(0),P6:[fr.indexOf(bb)]};
a.G2(F);this.Jf(F.data,a)}if(i==u.cN&&e.dy=="merge"){var iw=[],jy=a.root.children,eh=0;for(var c=0;c<jy.length;
c++){var x=jy[c],T=x.j,aP=x.children,bB=!0;if(!T.yg()||aP.length==0)continue;for(var ak=0;ak<aP.length;
ak++)if(!aP[ak].j.getName().startsWith("_a_")){bB=!1;break}if(bB)iw.push(a.B.indexOf(T))}var gl=[];for(var c=0;
c<iw.length;c++)if(a.g.indexOf(iw[c])!=-1)gl.push(iw[c]);if(gl.length>=2)iw=gl;if(iw.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var i4=[];for(var c=0;c<iw.length;c++)i4.push(a.B[iw[c]].getName());var ex=[];for(var km=0;km<iw.length;
km++){var x=a.root.WG(iw[km]),hA=[[],[],0,km];ex.push(hA);for(var c=0;c<x.children.length;c++){var k=x.children[c].index,T=x.children[c].j,e0=T.getName(),aN=20,gv=e0.split(",");
if(gv.length>1){var bX=parseInt(gv.pop());if(!isNaN(bX)&&bX!=0)aN=bX}hA[0].push(T);hA[1].push(aN);hA[2]+=aN}}ex.sort(function(F,em){return em[2]-F[2]});
var hG=ex[0],as=hG[2];for(var ds=1;ds<ex.length;ds++){var hA=ex[ds],cU=1,hm=hA[1].slice(0),dq=0;while((cU+1)*hA[2]<=hG[2]){cU++;
hm=hm.concat(hA[1])}hA[1]=hm;hA[2]*=cU;var kp=hG[2]/hA[2];for(var c=0;c<hA[1].length;c++){var hu=Math.floor(hA[1][c]*kp);
hA[1][c]=hu;dq+=hu}while(dq<as){dq++;hA[1][hA[1].length-1]++}hA[2]=dq}var cV=[],iE=[],hu=[];for(var c=0;
c<ex.length;c++){cV.push(0);iE.push(0)}while(eh<as){var eb=1e9,jC=-1;for(var c=0;c<ex.length;c++){var iy=ex[c][1],ce=cV[c];
if(ce!=iy.length&&iE[c]+iy[ce]<eh+eb){jC=c;eb=iE[c]+iy[ce]-eh}}iE[jC]+=ex[jC][1][cV[jC]];cV[jC]++;if(eb!=0){hu.push(eb);
eh+=eb}}for(var c=1;c<hu.length;c++){var eF=hu[c];if(eF<16&&(hu[c-1]<16||c<hu.length-1&&16<=hu[c+1])){hu[c-1]+=eF;
hu.splice(c,1);c--}}var g5=[],gK=new dE(0,0,a.m,a.n);for(var c=0;c<a.B.length;c++){g5[c]=a.B[c].gi();
a.B[c].d8(!1)}var iz=a.g.slice(0);a.g=iw;var ih=a.Ee();ih.sort(function(F,em){return F-em});var fr=[];
for(var c=0;c<a.B.length;c++){if(ih.indexOf(c)==-1)fr.push(a.B[c])}ex.sort(function(F,em){return F[3]-em[3]});
function bR(iy,f8){var c=0,cp=0;while(cp+iy[c]<=f8){cp+=iy[c];c++}return c}eh=0;fr.splice(ih[0],0,a.pz());
for(var a6=0;a6<hu.length;a6++){var M=[];for(var c=0;c<ex.length;c++){var ce=bR(ex[c][1],eh)%ex[c][0].length,T=ex[c][0][ce];
M.push(T)}var T=a.Uo();for(var c=0;c<ex.length;c++){var gE=M[c],kj=a.B[iw[c]];gE.d8(!0);kj.d8(!0)}a.U();
a.HD();var kf=a.WR();T.rect=j.cB(kf,gK,2);T.buffer=j.Q(T.rect.O()*4);j._M(kf,gK,T.buffer,T.rect);for(var c=0;
c<ex.length;c++){var gE=M[c],kj=a.B[iw[c]];gE.d8(!1);kj.d8(!1)}T.d8(a6==0);T.i4("_a_frm"+a6+","+hu[a6]);
fr.splice(ih[0]+1+a6,0,T);eh+=hu[a6]}var T=a.Uo();T.i4(i4.join(" + "));T.Mi="pass";T.add.lsct=ez.St;
T.OO=24;fr.splice(ih[0]+1+hu.length,0,T);for(var c=0;c<a.B.length;c++)a.B[c].d8(g5[c]);var F=new af([6,12,0],this);
F.data={d:u.U4,S4:a.B,f_:fr,Fn:iz,P6:[ih[0]+1+hu.length]};a.G2(F);this.Jf(F.data,a)}if(i==u.dq||i==u.CP){var fC=a.g.length==1,jB=!0,bb=null,bg;
if(fC&&a.g[0]==0)return;var g8=a.B.slice(0),h5=a.g.slice(0);if(fC)a.g=[Z,Z-1];if(i==u.CP){a.g=[];for(var c=0;
c<a.B.length;c++)if(a.B[c].gi())a.g.push(c)}var i7=a.Ee();i7.sort(function(F,em){return F-em});var j7=new dE,gK=new dE(0,0,a.m,a.n);
for(var c=0;c<i7.length;c++){var k=i7[c],T=a.B[k];if(T.yg()||T.getName()=="</Layer group>")continue;
jB=jB&&T.c7()&&T.add.vmsk!=null;j7=j7.pg(a.root.WG(k).V0(a,!0))}if(jB){var h2=null;for(var c=0;c<i7.length;
c++){var J=a.B[i7[c]];if(J.rect.O()==0)continue;if(bb==null){bb=J.clone();h2=bb.add.vmsk}else{var J=a.B[i7[c]],az=u.eP.Zo(J.add.vmsk.i);
h2.i=h2.i.concat(az.slice(2));bb.add.vogk=bb.add.vogk.concat(JSON.parse(JSON.stringify(J.add.vogk)))}}bb.add.vmsk.zv=!0;
bb.yO(a)}else if(gK.XH(j7)){bb=a.Uo();bb.i4(a.B[i7[i7.length-1]].getName());bb.rect=j7;bb.buffer=j.Q(j7.O()*4);
var dY=a.add.artd;delete a.add.artd;var bq=a.WR(i7);if(dY)a.add.artd=dY;j._M(bq,gK,bb.buffer,j7);bb.Yk();
bb.U()}else{a.a98(i7,!0);bb=a.B[a.g[0]];a.B.splice(a.g[0],1);var aD=a.v1(bb.add.SoLd.Idnt.v);a.add.lnk2.splice(a.add.lnk2.indexOf(aD),1);
delete bb.add.SoLd}var c9=D,jW=-1;if(e.h2&&e.h2.Dplc&&e.h2.Dplc.v)c9=!0;if(c9&&i==u.CP&&a.B[h5[0]].JD()&&a.B[h5[0]].rect.QP()){jW=h5[0]}if(jW!=-1||fC){var du=a.B[jW!=-1?jW:Z-1];
bb.i4(du.getName());bb.add.lclr=du.add.lclr}var fr=[];for(var c=0;c<a.B.length;c++)if(c9||i7.indexOf(c)==-1)if(c!=jW)fr.push(a.B[c]);
var gc=i7[i7.length-1],ks=gc==a.B.length-1?null:a.B[gc+1],bH=ks?fr.indexOf(ks):fr.length;fr.splice(bH,0,bb);
bg=[bH];var F=new af([6,12,0],this);F.data={d:u.U4,S4:g8,f_:fr,Fn:h5,P6:bg};a.G2(F);this.Jf(F.data,a)}if(i==u.as0){var gq=a.Uo();
gq.rect=new dE(0,0,a.m,a.n);gq.buffer=j.Q(gq.rect.O()*4);j.fV(gq.buffer,4294967295);j.s.eZ("norm",a.WR(),gq.rect,gq.buffer,gq.rect,gq.rect,1);
gq.i4("Background");gq.add.lspf=1<<2;var F=new af([6,12,1],this);F.data={d:u.U4,S4:a.B.slice(),f_:[gq],Fn:a.g.slice(0),P6:[0]};
a.G2(F);this.Jf(F.data,a)}var cd=i==u.ZD||i==u.VQ;if(i==u.g1||i==u.kr||i==u.hD||i==u.Q0||cd){var T=cd?a.s2()[0]:a.Uo(),d6=i1.get([0,3]),ag=e.Xt,fF=!1,ev,fE;
if(i==u.hD)d6=i1.get([12,76,1]);if(cd){if(a.P){var fn=a.B[a.g[0]],bN=fn.jw(a,a.P);if(bN==null){alert("Copied area is empty");
return}T.rect=bN.rect;T.buffer=bN.bD;T.ga(a);T.d8(!0)}else ag=T.getName();T.add.lspf=0;T.G0=!1;if((T.OO&1)!=0)T.OO--}if(i==u.Q0){T.rect=q.TN.avi(e.ZK,a);
T.buffer=e.ZK.buffer.slice(0);if(e.GE&&a.P){T.$=new u.j_;T.$.rect=a.P.rect;T.$.color=0;T.$.channel=a.P.channel.slice(0)}}if(i==u.g1){this.track({_h:"make",h2:{classID:"Mk",null:gb.o$("Lyr")}})}if(i==u.kr){T.OO|=16;
var hc=e.h2.Usng.v,cE=hc.Type.v,ft=a7.TX[cE.classID];d6=i1.get(a7.names[ft]);if(hc.Nm)ag=hc.Nm.v;T.add[ft]=hZ.T$(ft);
if(T.add[ft]==null)T.add[ft]={};for(var gF in cE)T.add[ft][gF]=JSON.parse(JSON.stringify(cE[gF]));T.$=q.TN.a4K(a);
T.os=1}if(i==u.hD){T.OO|=16;var fw=e.h2,hc=fw.Usng.v,iT=hc.Type.v,bJ=hc.Shp;if(hc.Nm)ag=hc.Nm.v;if(bJ==null){var jL=a.sz(),bi=jL[0],dX=jL[1];
if(dX.length!=0&&bi[dX[0]].g2<0){var jH=bi[dX[0]].add;T.add.vmsk=jH.vmsk.clone();T.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));
T.add.vogk=JSON.parse(JSON.stringify(jH.vogk));a.Lj=[]}else T.$=q.TN.a4K(a)}else{T.add.vmsk=new u.eP;
T.add.vstk=JSON.parse(JSON.stringify(hc.strokeStyle?hc.strokeStyle.v:iF.kE.default));T.add.vogk=[];if(bJ){var hM=j.X.jt(bJ);
if(hM){T.add.vogk=[hM];T.add.vmsk.i.push({type:0,kR:1,length:0});j.X.MB(T.add.vogk,T.add.vmsk)}else{bJ=bJ.v;
var fU=bJ.classID;if(fU=="Plgn"){var a_=bJ.Cntr.v,fO=bJ.corner.v;a_=new k7(a_.Hrzn.v.val,a_.Vrtc.v.val);
fO=new k7(fO.Hrzn.v.val,fO.Vrtc.v.val);T.add.vmsk.i=j.r.Qa.et(a_.x,a_.y,Math.sqrt(fO.x*fO.x+fO.y*fO.y),Math.atan2(fO.y,fO.x),bJ.sides.v,0)}else if(fU=="customShape"){var dU=j.X.hr(bJ),i6=dU[2]-dU[0],kr=dU[3]-dU[1],eZ=N.C3,kw,at;
for(var c=0;c<eZ.length;c++)if(eZ[c].dt==bJ.Nm.v)kw=eZ[c];if(kw){at=u.eP.Zo(kw.i);j.r.nM(at,new bj(i6,0,0,kr,dU[0],dU[1]))}else at=j.r.Qa.Rect(dU[0],dU[1],i6,kr,0);
T.add.vmsk.i=at}T.c0()}}}var cI={solidColorLayer:0,gradientLayer:1,patternLayer:2}[iT.classID],ij=["SoCo","GdFl","PtFl"][cI];
T.add[ij]=JSON.parse(JSON.stringify(iF.o5[cI]));if(cI==0)T.add[ij].Clr.v=j.M.yN(j.ft(N.lM));q.TN.Z$(iT,T.add[ij],cI);
if(bJ==null)d6=i1.get([6,48,0,cI]);if(ij=="PtFl"){var fM=T.add[ij].Ptrn.v,gv=b6.La(fM,N.px);if(gv==null)gv=b6.La(fM,a.add.Patt);
fM.Idnt.v=gv.id;a.S7(gv)}T.yO(a)}var fc=q.TN.c_(a,d6+" ");T.i4(d6+" "+(fc+1));if(ag)T.i4(ag);var he=a.g.length==0?a.B.length-1:a.g[a.g.length-1],cF=a.B[he];
if(i==u.hD&&cF.JD()&&cF.rect.QP()){fF=!0;T.i4(cF.getName());ev=he}else{ev=he+(i==u.g1&&S&&!n?0:1);if(cF&&cF.add.lsct==ez.MV)ev--}if(e.a6X)ev=Math.max(0,ev-1);
var fr=a.B.slice(0);if(i==u.VQ){var kv=fr[a.g[0]]=fr[a.g[0]].clone(),g$=a.P.channel.slice(0);j.rQ(g$);
j.R7(g$,a.P.rect,kv.buffer,kv.rect)}fr.splice(ev,fF?1:0,T);var eK=[5,2];if(i==u.g1)eK=[6,13];if(i==u.kr)eK=[6,1];
if(i==u.hD){eK=[6,48,1];var bJ=e.h2.Usng.v.Shp;if(bJ){var iO={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[bJ.v.classID];
if(iO)eK=iO}}if(cd){eK=[6,49,i==u.ZD?0:1]}if(cd||i==u.hD||i==u.Q0||i==u.kr)if(a.P)fE=[a.P,null];var F=new af(eK,this);
F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:[ev],HM:fE};a.G2(F);this.Jf(F.data,a);if(i==u.hD&&bJ==null&&cI!=0||i==u.kr){var l=new k4(t.E.L);
l.data={d:t.c.t2,NY:kc.oy.LH};A.S(l)}}if(i==u.aP){var T=a.Uo(),d6=i1.get([0,4]),fc=q.TN.c_(a,d6+" ");
T.i4(d6+" "+(fc+1));T.Mi="pass";T.add.lsct=ez.MV;T.OO=24;if(e.Xt)T.i4(e.Xt);if(e.SN!=null)T.add.lclr=e.SN;
var iQ=a.pz(),he=Z,ev=he+(S?0:1),fr=a.B.slice(0);fr.splice(ev,0,iQ,T);var F=new af([6,20],this);F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:[ev+1]};
a.G2(F);this.Jf(F.data,a)}if(i==u.gv||i==u.E4){var id=i==u.gv?e.source:a.g[0],it,kb,bC=a.g.indexOf(id)!=-1,bS=D|e.a2s,dJ,eb=null;
if(bC)dJ=a.Ee();else dJ=a.OJ(id);dJ.sort(function(F,em){return F-em});if(i==u.gv){it=e.target;kb=e.mK>.5}else if(e.target!=null){it=Math.min(e.target,a.B.length-1);
kb=e.target<a.B.length;a.ew=!0}else{var eP=e.dy;kb=eP>1;if(eP==0){it=a.B.length-1}if(eP==1){it=dJ[dJ.length-1]+1;
var J=a.OJ(it);if(J.indexOf(id)==-1)it+=J.length-1}if(eP==2){it=dJ[0]-1;var J=a.OJ(it);if(J.indexOf(id)==-1)it-=J.length-1}if(eP==3){it=0;
if(a.B[0].add.lnsr=="bgnd")it++}if(it<0||it>a.B.length-1)return;a.ew=!0}if(dJ.indexOf(it)!=-1&&!bS)return;
var g2=q.TN.fP(a,dJ,it,kb,bS?a.s2(bC?null:id):null,i==u.gv&&e.mK>.8),hs=g2.pop(),bk=g2.pop(),fr=g2.pop(),dv=a.g;
a.g=[id];var h9=a.nE();a.g=[it];var c3=a.nE();if(c3==it&&!kb)c3=-1;a.g=dv;if(id==h9){}else if(h9!=c3){var eb=new k7(0,0);
if(h9!=-1){var d5=a.B[h9].jP();eb.x-=d5.x;eb.y-=d5.y}if(c3!=-1){var d5=a.B[c3].jP();eb.x+=d5.x;eb.y+=d5.y}}var F=new af(bS?[6,0]:[6,35],this);
F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:bk,Ih:eb};a.G2(F);this.Jf(F.data,a);var fw={classID:"move",null:gb.o$("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:hs+(kb?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:bS}};
this.track({_h:"move",h2:fw})}if(i==u.Aw){if(e.Gi){if(s==null||!s.yg())return;var x=a.root.WG(Z),ji=a.B.indexOf(x.a4l),fr=a.B.slice(0);
fr.splice(Z,1);fr.splice(ji,1);var bk=[];for(var c=ji;c<Z-1;c++)bk.push(c);var F=new af("Ungroup Layers",this);
F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:bk};a.G2(F);this.Jf(F.data,a)}else{var T=a.Uo(),iH=i1.get([0,4])+" ";
T.i4(iH+(q.TN.c_(a,iH)+1));T.Mi="pass";if(e.Xt)T.i4(e.Xt);if(e.SN!=null)T.add.lclr=e.SN;T.add.lsct=a.g.length==1?ez.MV:ez.St;
T.OO=24;var iQ=a.pz(),dJ=a.Ee();if(dJ.length==0)return;dJ.sort(function(F,em){return F-em});var fr=[];
for(var c=0;c<a.B.length;c++)if(dJ.indexOf(c)==-1)fr.push(a.B[c]);var he=a.g[a.g.length-1]-dJ.length;
fr.splice(he+1,0,iQ);for(var c=0;c<dJ.length;c++)fr.splice(he+2+c,0,a.B[dJ[c]]);fr.splice(he+2+dJ.length,0,T);
var F=new af([6,9],this);F.data={d:u.U4,S4:a.B.slice(0),f_:fr,Fn:a.g.slice(0),P6:[fr.indexOf(T)]};a.G2(F);
this.Jf(F.data,a);var L={_h:"make",bb:!0};L.h2={classID:"Mk",null:gb.o$("layerSection"),From:gb.o$("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:T.getName()}}}};
this.track(L)}}if(i==u.amC){if(a.g.length!=1)return;var G=a.g[0],gG=D;if(a.B[G].tR()==null&&!p.l(g4.YC)){i=u.Mm;
e.qZ=a.P?!gG?"RvlS":"HdSl":!gG?"RvlA":"HdAl"}else{i=u.cl;e.amj=!0}}if(i==u.Mm){if(a.g.length!=1)return;
var G=a.g[0],T=a.B[G];if(T.add.vmsk&&T.$==null)T.yO(a);var jJ=T.tR();if(jJ==null||e.aq3){var F=new af([6,21],this),cr=new u.j_,ip=e.qZ,e1=ip=="RvlS"||ip=="HdSl";
if(ip=="RvlS"||ip=="HdAl"||ip=="Trns")cr.color=0;if(e1){cr.channel=a.P.channel.slice(0);cr.rect=a.P.rect.clone();
if(ip=="HdSl")j.rQ(cr.channel)}if(ip=="Trns"){cr.rect=T.rect.clone();cr.channel=j.Q(T.rect.O());j.kI(T.buffer,cr.channel,3)}F.data={d:u.zV,Vf:[G,jJ,cr],HM:e1?[a.P,null]:null};
a.G2(F);this.Jf(F.data,a);a.B[G].os=1;this.track({_h:"make",h2:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:ip}}}})}}else if(i==u.atF){var dk=a.B[e.src],j9=a.B[e.Gt],F=new af([6,21],this),aO=dk.tR(),aF=j9.tR(),gL=[e.src,aO,null,e.Gt,aF,aO];
if(D||n){var e0=aO.clone();if(D)gL=[e.Gt,aF,e0];else gL[5]=e0;if(n){j.rQ(e0.channel);e0.color=255-e0.color}}F.data={d:u.zV,Vf:gL};
a.G2(F);this.Jf(F.data,a)}if(i==u.xG){if(a.g.length!=1)return;var G=Z,cW=a.B[G].tR();if(cW!=null){var F=new af([6,22],this);
F.data={d:u.zV,Vf:[Z,cW,null]};a.G2(F);this.Jf(F.data,a)}}if(i==u.JN){var g8=a.B.slice(0),gq=s.clone(),gA=gq.tR();
j.R7(gA.wx(gq.rect),gq.rect,gq.buffer,gq.rect);q.TN.ER(a,gq);gq.Yk();a.B[a.g[0]]=gq;var F=new af([5,8],this);
F.data={d:u.U4,S4:g8,f_:a.B.slice(),Fn:a.g.slice(0),P6:a.g.slice(0)};a.G2(F);this.Jf(F.data,a)}if(i==u.EQ){if(a.g.length!=1)return;
var G=a.g[0];if(a.B[G].MH(a).$==null){var F=new af([6,45],this);F.data={d:i,j:G,$:new u.j_};a.G2(F);
this.Jf(F.data,a)}}if(i==u.Or){if(a.g.length!=1)return;var G=a.g[0];if(a.B[G].MH(a).$!=null){var F=new af([6,46],this);
F.data={d:i,j:G,$:a.B[G].MH(a).$};a.G2(F);this.Jf(F.data,a)}}if(i==u.pG){if(e.src==null&&a.g.length!=1)return;
if(e.src!=null)Z=e.src;if(a.B[Z].$f()){var F=new af([6,47],this),b8=JSON.stringify(a.B[Z].add.SoLd),ke=JSON.parse(b8);
delete ke.filterFX;F.data={d:u.We,a4:[{sr:Z,Ff:[b8,JSON.stringify(ke)],zA:[a.B[Z].MH(a),null]}]};a.G2(F);
this.Jf(F.data,a)}}if(i==u.cl){if(a.g.length!=1)return;if(s.add.vmsk==null){var F=new af([6,23],this),cK=a.sz(),bD=cK[1],cK=cK[0],cr,hM;
if(e.amj&&bD.length!=0){var jH=cK[bD[0]].add;cr=jH.vmsk.clone();hM=jH.vogk}else{cr=new u.eP;hM=[];cr.i[1].all=e.a1b?0:1}F.data={d:i,j:Z,bO:!0,$:cr,X:JSON.stringify(hM),kE:null};
if(s.c7()){F.data.kE=JSON.stringify(iF.kE.default)}a.G2(F);this.Jf(F.data,a)}}if(i==u.N6){var dk=a.B[e.src],j9=a.B[e.Gt];
if(j9.add.vmsk)return;var F=new af([6,23],this),h2=dk.add.vmsk;F.data={j:e.Gt,bO:dk.Bp,$:h2.clone(),X:JSON.stringify(dk.add.vogk),kE:dk.add.vstk?JSON.stringify(dk.add.vstk):null};
if(D){F.data.d=u.cl}else{F.data.d=i;F.data.src=e.src;F.data.Gt=e.Gt}a.G2(F);this.Jf(F.data,a)}if(i==u.OQ||i==u.s$){if(a.g.length!=1)return;
var T=a.B[Z],h2=T.add.vmsk;if(h2!=null){var gY=i==u.s$,F=new af(gY?[6,8]:[6,24],this);F.data={d:u.OQ,j:Z,bO:T.Bp,$:h2,X:JSON.stringify(T.add.vogk),kE:T.add.vstk?JSON.stringify(T.add.vstk):null};
if(gY){F.data.SW=h2.tR(T.add.vstk)}a.G2(F);this.Jf(F.data,a)}}if(i==u.$b){var F=new af("Metadata",this);
F.data={d:i,cR:JSON.stringify(a.gj),X_:JSON.stringify(e.X_)};a.G2(F);this.Jf(F.data,a)}if(i==u.gW){var gR=e.Gt?e.Gt:a,dz=gR.name,ag=e.Z+".psd";
if(dz==ag)return;var F=new af([6,37],this);F.data={d:i,aam:dz,Xt:ag};if(e.a4k!=!0)gR.G2(F);this.Jf(F.data,gR)}if(i==u.cN&&e.dy.endsWith("makeframes")){var cR=[],ck=e.dy.startsWith("make");
for(var c=0;c<a.g.length;c++){var k=a.g[c],T=a.B[k],i_=T.getName(),aa=i_.startsWith("_a_");if(ck==aa||T.add.lsct==ez.Nr)continue;
var e5=ck?"_a_"+i_:i_.slice(3);cR.push([k,i_,e5,T.add.lnsr,null])}var F=new af([6,37],this);F.data={d:u.GA,hP:cR};
a.G2(F);this.Jf(F.data,a)}if(i==u.GA){var dz=s.getName(),ag=e.name.substring(0,255);if(dz==ag)return;
var F=new af([6,37],this);F.data={d:i,hP:[[Z,dz,ag,s.add.lnsr,null]]};a.G2(F);this.Jf(F.data,a);this.track(gb.TP("Nm",{t:"TEXT",v:ag}))}if(i==u.Ye){var d8=a.Ee(),k9=[],iS=[];
for(var c=0;c<d8.length;c++){k9.push(a.B[d8[c]].add.lclr);iS.push(e.apQ)}var F=new af([6,38],this);F.data={d:i,B:d8,ajd:k9,SN:iS};
a.G2(F);this.Jf(F.data,a)}if(i==u.wp){var F=a.history[a.hd];if(F!=null&&F.G==this&&F.data.d==i&&F.data.j==e.Kc&&F.data.pL.OT==e.Br.OT)F.data.pL=e.Br;
else{F=new af("Mask Density / Feather",this);F.data={d:i,j:e.Kc,Ve:a.B[e.Kc].hz(e.Br.OT),pL:e.Br};a.G2(F)}this.Jf(F.data,a)}if(i==u.Rw){var je=JSON.stringify(e.Z),hY=JSON.parse(je),F=a.history[a.hd];
if(F!=null&&F.G==this&&F.data.d==i&&F.data.pZ==e.pZ&&F.data.WD.join(",")==e.WD.join(",")){for(var c=0;
c<e.WD.length;c++)F.data.Jq[c]=hY;if(F.data.h2&&hY.$e!=0)q.TN.Z$(hY.yJ,F.data.h2.T.v,hY.$e-1)}else{F=new af([11,6],this);
F.data={d:i,WD:e.WD,pZ:e.pZ,as7:[],Jq:[]};var jQ=!1;for(var c=0;c<e.WD.length;c++){var k=e.WD[c],T=a.B[k],fg=e.pZ?q.X2.kg(a,k):JSON.parse(JSON.stringify(T.add.vstk));
F.data.as7.push(fg);F.data.Jq.push(hY);if(JSON.stringify(fg)!=je)jQ=!0}if(!jQ)return;a.G2(F);if(e.pZ&&hY.$e>0){var fw=F.data.h2={classID:"setd",null:gb.o$("contentLayer",!0),T:{t:"Objc",v:{}}};
q.TN.Z$(hY.yJ,fw.T.v,hY.$e-1);this.track({_h:"set",h2:fw})}}if(e.pZ&&hY.$e==3)a.S7(b6.La(hY.yJ.Ptrn.v,N.px));
if(!e.pZ){var i8=hY.strokeStyleContent.v;if(i8.classID==iF.kE.GD[2])a.S7(b6.La(i8.Ptrn.v,N.px))}this.Jf(F.data,a)}};
q.TN.fP=function(e,A,a,p,N,i){var Z=e.B[a],s=[];if(N)s=e.B.slice(0);else for(var c=0;c<e.B.length;c++)if(A.indexOf(c)==-1)s.push(e.B[c]);
var D=s.indexOf(Z);if(i&&Z.yg()&&Z.add.lsct==ez.St)D-=e.OJ(a).length-1;var n=[];for(var c=0;c<A.length;
c++){var S=D+(p?0:1)+c,F=N?N[c]:e.B[A[c]];s.splice(S,0,F);n.push(S)}return[s,n,D]};q.TN.Z$=function(e,A,a){var p=[iF.Gw,iF.wu,iF.RE][a];
if(A.classID==null)A.classID=["solidColorLayer","gradientLayer","patternLayer"][a];for(var c=0;c<p.length;
c++)if(e[p[c]])A[p[c]]=JSON.parse(JSON.stringify(e[p[c]]))};q.TN.a4K=function(e){var A=new u.j_;if(e.P!=null){A.color=0;
A.channel=e.P.channel.slice(0);A.rect=e.P.rect.clone()}return A};q.TN.x9=function(e,A,a,p,N){var i=p.m/a.m,Z=p.n/a.n,s=p.m/2,D=p.n/2,n=j.p.wt(p).w;
for(var c=0;c<e.B.length;c++){var S=e.B[c],F=S.add.SoLd;if(F==null||F.Idnt.v!=A)continue;if(i!=1||Z!=1){var $=q.BD.KR(F.nonAffineTransform),m=j.K.wK($,p),J=new bj;
J.translate(-s,-D);J.scale(i,Z);J.translate(s,D);var w=j.K._n(m,j.K.s1(J)),f=n.slice(0);j.K.D(w,f);F.Trnf=q.BD.Jw(f);
F.nonAffineTransform=q.BD.Jw(f);if(j.Ww.$O(F.warp.v)){var b=F.warp.v.bounds.v;b.Rght.v.val=p.m;b.Btom.v.val=p.n}}S.kf(e,null,N)}e.U()};
q.TN.ajn=function(e,A,a){A.color=255-A.color;j.rQ(A.channel);A.zv=!0;e.yO(a);a.U()};q.TN.prototype.rf=function(e,A){var a=e.d,p=A.B[e.j];
A.Xz=!0;if(a==u.FA){A.add.lnk2.splice(A.add.lnk2.indexOf(e.PA),1,e.uY);q.TN.x9(A,e.id,e.PA.G9[1],e.uY.G9[1])}if(a==u.DY){p.add.SoLd.Impr.v.classID=e.Ve;
p.kf(A)}if(a==u.FO){var N=JSON.parse(e.WD);for(var c=0;c<N.length;c++)A.B[N[c]].Mi=e.aW[c];A.U()}if(a==u.MN){var N=JSON.parse(e.WD);
for(var c=0;c<N.length;c++)A.B[N[c]].opacity=e.aW[c];A.U()}if(a==u.kX){var N=JSON.parse(e.WD);for(var c=0;
c<N.length;c++)if(A.B[N[c]].add.lsct!=ez.Nr)A.B[N[c]].add.lspf=e.aW[c]}if(a==u.TF){var i=e.tD,Z=e.aj$;
delete p.add[i[0]];if(Z[0]!="----")p.add[Z[0]]=Z[1]}if(a==u.Bf){p.add.iOpa=e.aW;A.U()}if(a==u.g9){for(var c=0;
c<e.WD.length;c++){var s=A.B[e.WD[c]];s.d8(!s.gi())}A.U()}if(a==u.SM){var D=p.tR();D.isEnabled=!D.isEnabled;
p.yO(A);A.U()}if(a==u.si){var D=p.MH(A).$;D.isEnabled=!D.isEnabled;p.U();A.U()}if(a==u.Ts){var D=p.add.vmsk;
D.isEnabled=!D.isEnabled;if(!D.isEnabled){if(p.SW){p.$=p.SW;p.SW=null}else p.$=null}else if(p.$){p.SW=p.$;
p.$=null}p.yO(A);A.U()}if(a==u.Ta){p.G0=!p.G0;A.U()}if(a==u.Cy){p.add.lmfx.masterFXSwitch.v=!p.add.lmfx.masterFXSwitch.v;
p.P5.g4=!0;A.U()}if(a==u.QB){p.add.SoLd.filterFX.v.enab.v=!p.add.SoLd.filterFX.v.enab.v;p.Dc(A);A.U()}if(a==u.N1){var n=e.index,S=p.add.lmfx[iF.RU[n[0]]].v[n[1]].v;
S.enab.v=!S.enab.v;p.P5.g4=!0;A.U()}if(a==u.qr){var F=A.B[e.fM],$=A.B[e.I5],m=e.abg,J=e.a7Q;if(m=="")delete F.add.lmfx;
else F.add.lmfx=JSON.parse(m);if(J=="")delete $.add.lmfx;else $.add.lmfx=JSON.parse(J);F.P5.g4=!0;$.P5.g4=!0;
A.U()}if(a==u.xo){var w=p.add.SoLd.filterFX.v.filterFXList.v[e.index].v;w.enab.v=!w.enab.v;p.Dc(A);A.U()}if(a==u.a7d){p.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(e.a9k));
p.Dc(A);A.U()}if(a==u.HW){var D=p.tR();D.Fv=!D.Fv}if(a==u.EZ){var D=p.add.vmsk;D.Fv=!D.Fv}if(a==u.Wq){var f=JSON.parse(e.ayQ);
A.lw=f[0];A.$d=f[1]}if(a==u.E7){var f=e.rI;for(var c=0;c<f.length;c+=2){var b=f[c],s=b>=0?A.B[b]:A.GI[-1-b];
s.add.vogk=JSON.parse(f[c+1]);j.X.MB(s.add.vogk,s.add.vmsk);if(b>=0)s.yO(A)}A.U()}if(a==u.O9){p.add.artb=JSON.parse(e.a0i);
A.U();q.v9.sN(A,e)}if(a==u.JC){A.P=e._i;A.l8=e.rI.slice(0);A.RN=e.cu.slice(0);A.De=A.W$=!0}if(a==u.RW){p.Cd=!p.Cd}if(a==u.pE){var L=e.ayg;
for(var c=0;c<L.length;c++)A.B[c].g0=L[c]}if(a==u.U4){if(e.Ih)q.GS.jQ(A,A.g,null,-e.Ih.x,-e.Ih.y);if(e.Fn)A.g=e.Fn;
if(e.HM)A.P=e.HM[0];A.AH=null;A.U();A.Ex(e.S4);q.v9.sN(A,e);if(e.yx)A.sT(e.yx[0])}if(a==u.zV){for(var c=0;
c<e.Vf.length;c+=3)q.TN.ER(A,A.B[e.Vf[c]],e.Vf[c+1]);if(e.HM){var C=e.HM[0];if(C==null)delete A.P;else A.P=C}}if(a==u.EQ){p.MH(A).$=null;
p.U();A.U()}if(a==u.Or){p.MH(A).$=e.$;p.U();A.U()}if(a==u.We){q.TN.agB(A,e.a4,0)}if(a==u.cl){q.TN.BV(A,p,!0)}if(a==u.N6){q.TN.BV(A,A.B[e.Gt],e.$.isEnabled);
q.TN.kN(A,A.B[e.src],e)}if(a==u.OQ){if(e.SW)q.TN.ER(A,p,null);q.TN.kN(A,p,e)}if(a==u.$b){A.gj=JSON.parse(e.cR)}if(a==u.gW){A.name=e.aam}if(a==u.GA){for(var c=0;
c<e.hP.length;c++){var M=e.hP[c],s=A.B[M[0]];s.i4(M[1]);if(M[3])s.add.lnsr=M[3];else delete s.add.lnsr}}if(a==u.Ye){for(var c=0;
c<e.B.length;c++)A.B[e.B[c]].add.lclr=e.ajd[c]}if(a==u.Rw){var y=e.as7;for(var c=0;c<e.WD.length;c++){var s=A.B[e.WD[c]],Q=y[c];
if(!e.pZ)s.add.vstk=JSON.parse(JSON.stringify(Q));else q.X2.GC(s,JSON.parse(JSON.stringify(Q)));s.Si(A)}A.U()}if(a==u.wp){p.a4N(e.Ve);
p.yO(A);A.U()}A.W$=!0};q.TN.prototype.Jf=function(e,A){var a=e.d,p=A.B[e.j];A.Xz=!0;if(a==u.FA){A.add.lnk2.splice(A.add.lnk2.indexOf(e.uY),1,e.PA);
q.TN.x9(A,e.id,e.uY.G9[1],e.PA.G9[1])}if(a==u.DY){p.add.SoLd.Impr.v.classID=e.pL;p.kf(A)}if(a==u.FO){var N=JSON.parse(e.WD);
for(var c=0;c<N.length;c++)A.B[N[c]].Mi=e.pL;A.U()}if(a==u.MN){var N=JSON.parse(e.WD);for(var c=0;c<N.length;
c++)A.B[N[c]].opacity=e.pL;A.U()}if(a==u.kX){var N=JSON.parse(e.WD);for(var c=0;c<N.length;c++)if(A.B[N[c]].add.lsct!=ez.Nr)A.B[N[c]].add.lspf=e.pL[c]}if(a==u.TF){var i=e.aj$,Z=e.tD;
delete p.add[i[0]];if(Z[0]!="----")p.add[Z[0]]=Z[1]}if(a==u.Bf){p.add.iOpa=e.pL;A.U()}if(a==u.g9){for(var c=0;
c<e.WD.length;c++){var s=A.B[e.WD[c]];s.d8(!s.gi())}A.U()}if(a==u.SM){var D=p.tR();D.isEnabled=!D.isEnabled;
p.yO(A);A.U()}if(a==u.si){var D=p.MH(A).$;D.isEnabled=!D.isEnabled;p.U();A.U()}if(a==u.Ts){var D=p.add.vmsk;
D.isEnabled=!D.isEnabled;if(!D.isEnabled){if(p.SW){p.$=p.SW;p.SW=null}else p.$=null}else if(p.$){p.SW=p.$;
p.$=null}p.yO(A);A.U()}if(a==u.Ta){p.G0=!p.G0;A.U()}if(a==u.Cy){p.add.lmfx.masterFXSwitch.v=!p.add.lmfx.masterFXSwitch.v;
p.P5.g4=!0;A.U()}if(a==u.QB){p.add.SoLd.filterFX.v.enab.v=!p.add.SoLd.filterFX.v.enab.v;p.Dc(A);A.U()}if(a==u.N1){var n=e.index,S=p.add.lmfx[iF.RU[n[0]]].v[n[1]].v;
S.enab.v=!S.enab.v;p.P5.g4=!0;A.U()}if(a==u.qr){var F=A.B[e.fM],$=A.B[e.I5],m=e.ard,J=e.amI;if(m=="")delete F.add.lmfx;
else F.add.lmfx=JSON.parse(m);if(J=="")delete $.add.lmfx;else $.add.lmfx=JSON.parse(J);F.P5.g4=!0;$.P5.g4=!0;
A.U()}if(a==u.xo){var w=p.add.SoLd.filterFX.v.filterFXList.v[e.index].v;w.enab.v=!w.enab.v;p.Dc(A);A.U()}if(a==u.a7d){p.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(e.ahq));
p.Dc(A);A.U()}if(a==u.HW){var D=p.tR();D.Fv=!D.Fv}if(a==u.EZ){var D=p.add.vmsk;D.Fv=!D.Fv}if(a==u.Wq){var f=JSON.parse(e.as5);
A.lw=f[0];A.$d=f[1]}if(a==u.E7){var f=e.Tf;for(var c=0;c<f.length;c+=2){var b=f[c],s=b>=0?A.B[b]:A.GI[-1-b];
s.add.vogk=JSON.parse(f[c+1]);j.X.MB(s.add.vogk,s.add.vmsk);if(b>=0)s.yO(A)}A.U()}if(a==u.O9){p.add.artb=JSON.parse(e.md);
A.U();q.v9.BN(A,e)}if(a==u.JC){A.P=e.zE;A.l8=e.Tf.slice(0);A.RN=e.Uh.slice(0);A.De=A.W$=!0}if(a==u.RW){p.Cd=!p.Cd}if(a==u.pE){var L=e.abi;
for(var c=0;c<L.length;c++)A.B[c].g0=L[c]}if(a==u.U4){A.a73();var C=e.f_,M=0,y;for(var c=0;c<C.length;
c++){var s=C[c],Q=s.add.lsct;if(Q==ez.Nr)M++;else if(Q==ez.MV||Q==ez.St)M--;if(s.add.artb&&M!=0)y="Artboards can not be inside folders."}if(y){A.history.pop();
A.hd--;alert(y);return}q.v9.BN(A,e);if(e.P6)A.g=e.P6;if(e.HM)A.P=e.HM[1];A.AH=null;A.U();A.Ex(e.f_);
if(e.Ih)q.GS.jQ(A,A.g,null,e.Ih.x,e.Ih.y);if(e.yx)A.sT(e.yx[1])}if(a==u.zV){for(var c=0;c<e.Vf.length;
c+=3)q.TN.ER(A,A.B[e.Vf[c]],e.Vf[c+2]);if(e.HM){var k=e.HM[1];if(k==null)delete A.P;else A.P=k}}if(a==u.EQ){p.MH(A).$=e.$;
p.os=0;p.U();A.U()}if(a==u.Or){p.MH(A).$=null;p.os=0;p.U();A.U()}if(a==u.We){q.TN.agB(A,e.a4,1)}if(a==u.cl){q.TN.kN(A,p,e)}if(a==u.N6){q.TN.BV(A,A.B[e.src],e.$.isEnabled);
q.TN.kN(A,A.B[e.Gt],e)}if(a==u.OQ){q.TN.BV(A,p,e.$.isEnabled);if(e.SW)q.TN.ER(A,p,e.SW)}if(a==u.$b){A.gj=JSON.parse(e.X_)}if(a==u.gW){A.name=e.Xt}if(a==u.GA){for(var c=0;
c<e.hP.length;c++){var E=e.hP[c],s=A.B[E[0]];s.i4(E[2]);if(E[4])s.add.lnsr=E[4];else delete s.add.lnsr}}if(a==u.Ye){for(var c=0;
c<e.B.length;c++)A.B[e.B[c]].add.lclr=e.SN[c]}if(a==u.Rw){var _=e.Jq;for(var c=0;c<e.WD.length;c++){var s=A.B[e.WD[c]],v=_[c];
if(!e.pZ)s.add.vstk=JSON.parse(JSON.stringify(v));else q.X2.GC(s,JSON.parse(JSON.stringify(v)));s.Si(A)}A.U()}if(a==u.wp){p.a4N(e.pL);
p.yO(A);A.U()}A.W$=!0};q.TN.c_=function(e,A){var a=0;for(var c=0;c<e.B.length;c++){var p=e.B[c].getName();
if(p.startsWith(A)){var N=p.slice(A.length).trim(),i=parseInt(N);if(!isNaN(i)&&i+""==N&&i>a)a=i}}return a};
q.TN.agB=function(e,A,a){for(var c=0;c<A.length;c++){var p=A[c],N=e.B[p.sr];if(p.Ff){N.add.SoLd=JSON.parse(p.Ff[a])}if(p.zA){if(p.zA[1-a]!=null)e.PN(p.zA[1-a]);
if(p.zA[a]!=null)e.Dh(p.zA[a]);else N.os=0}N.kf(e)}};q.TN.avi=function(e,A){var a=e.p1,p=e.rect.clone();
if(a!=null&&(a.x!=A.m||a.y!=A.n)){p.x=Math.floor((A.m-p.m)/2);p.y=Math.floor((A.n-p.n)/2)}else if(a==null){var N=new dE(0,0,A.m,A.n),i=A.nE();
if(i!=-1)N=A.B[i].jP();p.x+=N.x;p.y+=N.y}return p};q.TN.a21=function(e,A){if(A.SW)A.SW=null;else A.$=null;
A.yO(e);e.U();A.os=0};q.TN.ER=function(e,A,a){var p=A.tR();if(p==null&&a==null)return;if(p)q.TN.a21(e,A);
if(a==null)return;if(A.$)A.SW=a;else A.$=a;A.yO(e);e.U()};q.TN.BV=function(e,A,a){if(A.SW&&a){A.$=A.SW;
A.SW=null}else if(A.$&&a){A.$=null}delete A.add.vogk;delete A.add.vstk;delete A.add.vmsk;A.yO(e);A.Bp=!1;
e.AH=[];e.U()};q.TN.kN=function(e,A,a){A.add.vogk=JSON.parse(a.X);if(a.kE)A.add.vstk=JSON.parse(a.kE);
else delete A.add.vstk;A.add.vmsk=a.$.clone();if(A.$&&A.add.vmsk.isEnabled)A.SW=A.$;A.yO(e);A.Bp=a.bO;
e.AH=[e.B.indexOf(A)];e.Lj=[];e.U()};q.HB=function(){q.$w.call(this,"Layer Styles",q.fg);this.$0=null;
this.zh=null;this.eY=null;this.lZ=[];this.Ap=null};q.HB.prototype=new q.$w;q.HB.prototype.nc=function(e,A,a,p,N){var i=e.j;
if(i==null)i=a.g[0];var Z=a.B[i],s=e.g2;if(this.$0==null){this.eY=q.HB.$z(a,Z);this.$0=JSON.stringify(this.eY);
if(Z.add.lmfx)this.zh=JSON.stringify(Z.add.lmfx)}if(Z.add.lmfx==null){Z.add.lmfx=JSON.parse(iF.default);
for(var c=0;c<iF.order.length;c++)Z.add.lmfx[iF.RU[c]]={t:"VlLs",v:[]}}if(e.d=="scaleeffects"){if(e.Z=="confirm"||e.Z=="cancel"){this.nc({d:e.Z},A,a,p,N);
return}Z.add.lmfx=JSON.parse(this.zh);b6.cr(Z.add.lmfx,e.Z/100)}else if(e.d=="changeprop"){var D=null;
if(s!=0){var n=this.lZ[s[0]];if(n==null)n=iF.lZ[s[0]];n=JSON.parse(n);var S=Z.add.lmfx[iF.RU[s[0]]].v;
if(S[s[1]]==null)S[s[1]]={t:"Objc",v:n};D=S[s[1]].v;for(var F in n)if(D[F]==null)D[F]=n[F]}if(e.d=="changeprop"){if(s==0){this.eY[e.NI].v=e.Z;
q.HB.FE(a,Z,this.eY)}else if(e.NI=="lagl"){if(D.uglg&&D.uglg.v){a.Zn(e.Z.val);this.eY.gagl.v.val=a.RO()}else D[e.NI].v=e.Z}else if(e.NI=="Lald"){if(D.uglg.v){a.qt(e.Z.val);
this.eY.ajS=a.B5()}else D[e.NI].v=e.Z}else if((s[0]==3||s[0]==8)&&(e.NI=="Clr"||e.NI=="Grad")){if(e.NI=="Clr"){D.Clr={t:"Objc",v:e.Z};
delete D.Grad}if(e.NI=="Grad"){D.Grad={t:"Objc",v:e.Z};delete D.Clr}}else{D[e.NI].v=e.Z}if(s!=0)this.lZ[s[0]]=JSON.stringify(D)}if(s!=0)if(D.Ptrn)a.S7(b6.La(D.Ptrn.v,N.px))}else if(e.d=="setstl"){var $=e.Z.Lefx;
if($)b6.a9D($,a,N.px);b6.avS(e.Z,Z,null,a);this.eY=q.HB.$z(a,Z)}else if(e.d=="st_dupsingle"){var m=Z.add.lmfx[iF.RU[e.f9[0]]].v;
if(m[e.f9[1]]==null)return;var J=JSON.parse(JSON.stringify(m[e.f9[1]]));m.splice(e.f9[1],0,J)}else if(e.d=="st_movsingle"){var w=e.f9[1],m=Z.add.lmfx[iF.RU[e.f9[0]]].v;
if(m[e.f9[1]]==null)return;var f=Math.max(0,Math.min(m.length-1,w+e.a32)),b=m[f];m[f]=m[w];m[w]=b}else if(e.d=="cancel"){if(this.zh==null)delete Z.add.lmfx;
else Z.add.lmfx=JSON.parse(this.zh);q.HB.FE(a,Z,JSON.parse(this.$0));this.$0=null;this.zh=null}else if(e.d=="confirm"){var L=JSON.stringify(Z.add.lmfx),C=new af([11,6],this);
C.data={B:[i],S9:[this.zh],Sq:[L],W6:[this.$0],Ry:[JSON.stringify(this.eY)]};a.G2(C);this.$0=null;this.zh=null;
if(L!=null){var M=JSON.parse(L);cu.mg(M);M.classID="Lefx";delete M.masterFXSwitch;var y=new k4(t.E.wH);
y.U3=!0;y.data={_h:"set",bb:!0};var Q=gb.o$("Lyr",!0);Q.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
y.data.h2={__name:"Set",classID:"setd",null:Q,T:{t:"Objc",v:M}};A.S(y)}}else if(e.d=="st_copy"){this.Ap=[this.$0,this.zh];
this.$0=null;this.zh=null}else if(e.d=="st_paste"||e.d=="st_clear"){if(e.d=="st_paste"&&this.Ap==null)return;
var k=e.j!=null?[e.j]:a.g.slice(0),E=[],_=[],v=[],V=[];for(var c=0;c<k.length;c++){var Z=a.B[k[c]],R=q.HB.$z(a,Z);
E.push(Z.add.lmfx?JSON.stringify(Z.add.lmfx):null);v.push(JSON.stringify(R));if(e.d=="st_paste"){_.push(this.Ap[1]);
V.push(this.Ap[0])}else{_.push(null);R.lrMd.v=0;R.Opct.v.val=100;R.iOpa.v.val=100;R.blIf={v:[]};for(var h=0;
h<10;h++)R.blIf.v.push(0,0,255,255);V.push(JSON.stringify(R))}}var C=new af([11,6],this);C.data={B:k,S9:E,Sq:_,W6:v,Ry:V};
this.Jf(C.data,a);a.G2(C);this.$0=null;this.zh=null}else{var P=this.eY,M=null;if(e.d=="st_delsingle"){M=JSON.parse(this.zh);
M[iF.RU[e.f9[0]]].v.splice(e.f9[1],1);M=JSON.stringify(M)}if(M==null)delete Z.add.lmfx;else Z.add.lmfx=JSON.parse(M);
if(P!=null)q.HB.FE(a,Z,P);var C=new af([11,6],this);C.data={B:[e.j],S9:[this.zh],Sq:[M],W6:[this.$0],Ry:[JSON.stringify(P)]};
a.G2(C);this.$0=null;this.zh=null}Z.P5.g4=!0;a.Xz=!0;a.U()};q.HB.$z=function(e,A){if(A.add.iOpa==null)A.add.iOpa=255;
if(A.add.brst==null)A.add.brst=[1,1,1];var a=A.yg()?["pass"].concat(im.U6):im.U6;return{lrMd:{v:a.indexOf(A.Mi)},Opct:{v:{type:"#Prc",val:Math.round(A.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(A.add.iOpa*100/255)},t:"UntF"},blIf:{v:A.NM.slice(0)},brst:{v:A.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:e.RO()}},ajS:e.B5(),yg:A.yg()}};
q.HB.FE=function(e,A,a){var p=A.yg()?["pass"].concat(im.U6):im.U6;A.Mi=p[a.lrMd.v];A.opacity=Math.round(a.Opct.v.val*255/100);
A.add.iOpa=Math.round(a.iOpa.v.val*255/100);A.NM=a.blIf.v.slice(0);A.add.brst=a.brst.v.slice(0);e.Zn(a.gagl.v.val);
e.qt(a.ajS)};q.HB.prototype.rf=function(e,A){for(var c=0;c<e.B.length;c++){var a=A.B[e.B[c]],p=e.S9[c];
if(p==null)delete a.add.lmfx;else a.add.lmfx=JSON.parse(p);q.HB.FE(A,a,JSON.parse(e.W6[c]));a.P5.g4=!0}A.Xz=!0;
A.U()};q.HB.prototype.Jf=function(e,A){for(var c=0;c<e.B.length;c++){var a=A.B[e.B[c]],p=e.Sq[c];if(p==null)delete a.add.lmfx;
else a.add.lmfx=JSON.parse(p);q.HB.FE(A,a,JSON.parse(e.Ry[c]));a.P5.g4=!0}A.Xz=!0;A.U()};q.DO=function(){q.$w.call(this,"Layer Comps",q.eQ)};
q.DO.prototype=new q.$w;q.DO.prototype.nc=function(e,A,a,p){var N=JSON.parse(JSON.stringify(a.RA)),i=JSON.parse(JSON.stringify(a.RA)),Z=null,s=null,D=null,n=-1,S=!1;
if(e.d=="delLC"){var F=q.DO.az(a.RA,e.g2),$=a.RA.lastAppliedComp?a.RA.lastAppliedComp.v:0;i.list.v.splice(F,1);
if($==e.g2)delete i.lastAppliedComp;Z="Delete Layer Comp"}if(e.d=="editLC"){var F=q.DO.az(a.RA,e.g2),m=i.list.v[F].v;
if(e.Xt!=null)m.Nm.v=e.Xt;if(e.aeT!=null){var J=e.aeT,w=m.capturedInfo.v,f=w&(1<<J)-1;w=w>>J;if((w&1)==1)w--;
else w++;m.capturedInfo.v=(w<<J)+f}Z="Layer Comp properties"}if(e.d=="setLC"){q.DO.fz(a);if(e.g2==0)delete i.lastAppliedComp;
else i.lastAppliedComp={t:"long",v:e.g2};Z="Switch Layer Comp";S=!0}if(e.d=="updLC"){q.DO.fz(a);s=q.DO.a20(a,e.g2);
D=q.DO.oj(a,e.g2);i.lastAppliedComp={t:"long",v:e.g2};Z="Update Layer Comp";n=e.g2;S=!0}if(e.d=="addLC"){q.DO.fz(a);
var b=1;for(var c=0;c<i.list.v.length;c++)b=Math.max(b,i.list.v[c].v.compID.v)+1;b+=Math.floor(Math.random()*1e4);
var L={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(i.list.v.length+1)},compID:{t:"long",v:b},capturedInfo:{t:"long",v:7}}};
i.list.v.push(L);i.lastAppliedComp={t:"long",v:b};Z="New Layer Comp";var C=q.DO.oj(a,b);q.DO.oh(a,C,b)}var M=new af(Z,this);
M.data={and:N,a1O:i,azD:s,ab5:D,g2:n,fE:S};this.Jf(M.data,a);a.G2(M)};q.DO.prototype.Jf=function(e,A){A.RA=e.a1O;
A.Xz=!0;if(e.ab5)q.DO.oh(A,e.ab5,e.g2);if(e.fE){var a=A.RA.lastAppliedComp?A.RA.lastAppliedComp.v:0,p=q.DO.az(A.RA,a),N=p==-1?null:A.RA.list.v[p].v,i=N?N.capturedInfo.v:7;
q.DO.Mc(A,a,i);A.U()}};q.DO.prototype.rf=function(e,A){A.RA=e.and;A.Xz=!0;if(e.azD)q.DO.oh(A,e.azD,e.g2);
if(e.fE){var a=A.RA.lastAppliedComp?A.RA.lastAppliedComp.v:0,p=q.DO.az(A.RA,a),N=p==-1?null:A.RA.list.v[p].v,i=N?N.capturedInfo.v:7;
q.DO.Mc(A,a,i);A.U()}};q.DO.fz=function(e){if(e.RA.lastAppliedComp!=null||!e.Qe)return;var A=q.DO.oj(e,0);
q.DO.oh(e,A,0);e.Qe=!1};q.DO.DW=function(e,A,a){e.v.Hrzn.v+=A;e.v.Vrtc.v+=a};q.DO.az=function(e,A){var a=e.list.v;
for(var c=0;c<a.length;c++)if(a[c].v.compID.v==A)return c;return-1};q.DO.arz=function(e){var A=e.layerSettings.v,N=null;
if(A.length==0)return;var a="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),p=A[0].v;
if(p.enab==null)p.enab={t:"bool",v:!0};if(p.Ofst==null)p.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var c=0;c<A.length;c++){var i=A[c].v;if(N==null)N=JSON.parse(JSON.stringify(i));else for(var Z=0;
Z<a.length;Z++){var s=a[Z];if(i[s])N[s]=JSON.parse(JSON.stringify(i[s]))}A[c].v=JSON.parse(JSON.stringify(N))}};
q.DO.aba=function(e,A){var a=e.add.shmd.cmls,p=a.layerSettings.v;for(var N=0;N<p.length;N++){var i=p[N].v,Z=i.compList.v[0].v;
if(Z==A)return N}return-1};q.DO.a1H=function(e,A){var a=q.DO.aba(e,A);return a==-1?null:e.add.shmd.cmls.layerSettings.v[a].v};
q.DO.Mc=function(e,A,a){for(var c=0;c<e.B.length;c++){var p=e.B[c],N=p.add.shmd.cmls;if(N==null)continue;
var i=N.layerSettings.v,Z=q.DO.a1H(p,A);if(Z==null){p.d8(!1);continue}if((a&1)!=0){if(Z.enab)p.d8(Z.enab.v);
else p.d8(!0)}if((a&2)!=0){if(Z.Ofst){var s=Z.Ofst.v,D=p.SK(e),n=Math.round(s.Hrzn.v-D.x),S=Math.round(s.Vrtc.v-D.y);
if(n!=0||S!=0)q.GS.jQ(e,[c],null,n,S)}}if((a&4)!=0){if(Z.Lefx){var F=JSON.parse(JSON.stringify(Z.Lefx.v));
cu.K1(F);if(JSON.stringify(F)!=JSON.stringify(p.add.lmfx)){p.add.lmfx=F;p.P5.g4=!0}}else delete p.add.lmfx;
if(Z.blendOptions){var $=Z.blendOptions.v;if($.Opct)p.opacity=Math.round(255*$.Opct.v.val/100);if($.fillOpacity)p.add.iOpa=Math.round(255*$.fillOpacity.v.val/100);
if($.Md)p.Mi=p.add.lsct==ez.Nr?"norm":im.ac($.Md.v.BlnM)}else{p.opacity=255;p.Mi=p.yg()?"pass":"norm";
p.add.iOpa=255}}}};q.DO.a20=function(e,A){var a={};for(var c=0;c<e.B.length;c++){var p=e.B[c];if(p.add.shmd==null||p.add.shmd.cmls==null)continue;
a["l"+p.add.lyid]=JSON.parse(JSON.stringify(q.DO.a1H(p,A)))}return a};q.DO.oj=function(e,A){var a={};
for(var c=0;c<e.B.length;c++){var p=e.B[c],N=p.add.lyid;a["l"+N]=q.DO.aej(e,p,A)}return a};q.DO.aej=function(e,A,a){var p=A.add.shmd?A.add.shmd.cmls:null,N={classID:"null"},i=A.SK(e),Z={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:i.x},Vrtc:{t:"long",v:i.y}}};
N.compList={t:"VlLs",v:[{t:"long",v:a}]};N.enab={t:"bool",v:A.gi()};N.Ofst=JSON.parse(JSON.stringify(Z));
N.FXRefPoint=JSON.parse(JSON.stringify(p&&p.origFXRefPoint?p.origFXRefPoint:Z));N.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:im.Pj(A.Mi)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*A.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:A.add.iOpa!=null?100*A.add.iOpa/255:100}}}};
if(A.add.vmsk){N.vectorMask={t:"Objc",v:{classID:"null"}};N.vectorMask.v.Ofst=JSON.parse(JSON.stringify(Z))}if(A.add.lmfx){N.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(A.add.lmfx))};
cu.mg(N.Lefx.v)}return N};q.DO.at8=function(e,A){var a=A.add.lyid;if(A.add.shmd==null)A.add.shmd={};
if(A.add.shmd.cmls==null){A.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:a},layerSettings:{t:"VlLs",v:[{t:"Objc",v:q.DO.aej(e,A,0)}]}}}};
q.DO.oh=function(e,A,a){for(var c=0;c<e.B.length;c++){var p=e.B[c],N=p.add.lyid;q.DO.at8(e,p);var i=p.add.shmd.cmls,Z=i.layerSettings.v,s=A["l"+N];
if(s!=null)s={t:"Objc",v:JSON.parse(JSON.stringify(s))};var D=q.DO.aba(p,a);if(D==-1){if(s==null)continue;
else Z.push(s)}else{if(s==null)Z.splice(D,1);else Z[D]=s}}};q.DO.g5=function(e,A){for(var c=0;c<e.B.length;
c++){var a=e.B[c],p=a.add.lyid;if(a.add.shmd==null||a.add.shmd.cmls==null)continue;var N=a.SK(e),i=Math.round(N.x),Z=Math.round(N.y);
if(!A){i=-i;Z=-Z}var s=a.add.shmd.cmls,D=s.layerSettings.v;if(s.origFXRefPoint)q.DO.DW(s.origFXRefPoint,-i,-Z);
for(var n=0;n<D.length;n++){var S=D[n].v;q.DO.DW(S.Ofst,i,Z);var F=S.imageMask,$=S.vectorMask;if(F&&F.v.Ofst)q.DO.DW(F.v.Ofst,i,Z);
if($&&$.v.Ofst)q.DO.DW($.v.Ofst,i,Z)}}};q.ML=function(){q.$w.call(this,"Adjust Edit",q.Dx);this.X_=null;
this.zx=null};q.ML.prototype=new q.$w;q.ML.W9=function(e,A,a,p){if(p)A/=4;var N=0,i=0,Z=255,s=0,D=0,n=255;
while(i+e[N]<A){i+=e[N];N++}while(s+e[Z]<A){s+=e[Z];Z--}if(p){N-=Math.round(e[N]/(a/32));Z+=Math.round(e[Z]/(a/32));
if(N<0)D=Math.round(-N*255/(Z-N));if(Z>255)n=255-Math.round((Z-255)*255/(Z-N))}return[Math.max(N,0),Math.min(Z,255),D,n,100]};
q.ML.prototype.nc=function(e,A,a,p,N){var i=e.d;if(i=="auto"){var Z=e.bu,s=q.ML.getData(a);for(var c=0;
c<s.length;c++){var D=s[c],n;if(Z<3){}else{var S=hZ.T$("hue2");g1.C6(S,0,[0,-100,0]);n=a7.EN("hue2",S)}a7.Eo(n,D.bD,D.rP,D.nd)}q.ML.u7(a,s);
q.ML.PE(a,s,Z<3?[4,16,Z]:[19,7,0],this);a.U()}if(i=="edit_layer")this.afV(e,A,a,p);if(i=="edit"||i=="confirm"||i=="cancel")this.dz(e,A,a,N,!0);
if(i=="start"){if(a.g.length==0)return;var F=a.B[a.g[0]];if(F.add.SoLd&&F.os<=0&&a.RN.length==0){var $=new k4(t.E.v,!0);
$.G=q.ws;$.data={d:"start",yC:e.E$,HG:e.HG};A.S($);return}if(!a.Fa(A,null,!0))return;if(bo[e.E$]&&e.HG==null){if(a.g.length!=1)alert("Will be applied to "+a.g.length+" layers.");
var $=new k4(t.E.L,!0);$.data={d:t.c.Ch,NY:"afw_"+e.E$};A.S($)}else{this.dz({d:"edit",HG:e.HG,yC:e.E$},A,a,N);
this.dz({d:"confirm",yC:e.E$},A,a,N)}}};q.ML.prototype.afV=function(e,A,a,p){var N=e.d,i=a.g[0],Z=a.B[i],s=a7.get(Z.add),D=JSON.parse(JSON.stringify(Z.add[s])),$;
for(var n in e.Z)D[n]=e.Z[n];var S=JSON.parse(JSON.stringify(D));for(var n in a7.TX)if(a7.TX[n]==s)S.classID=n;
var F=a.history[a.hd];if(F&&F.G==this&&F.data.Ve!=null&&F.data.j==i)$=F;else{var m=new k4(t.E.wH,!0),J={classID:"setd",null:gb.o$("AdjL",!0),T:{t:"Objc",v:S}};
m.data={bb:!0,_h:"set",h2:J};A.S(m);var $=new af([6,39],this);$.data={j:i,Ve:Z.add[s],pL:D,If:J};a.G2($)}$.data.pL=D;
$.data.If.T.v=S;this.Jf($.data,a)};q.ML.getData=function(e,A,a){var p=[],N=new dE(0,0,e.m,e.n),i=e.RN.length!=0?[-1-e.RN[0]]:e.g;
for(var c=0;c<i.length;c++){var Z=i[c],s=Z<0?null:e.B[Z],D={j:Z,Bn:Z<0?1:s.os};p.push(D);var n=e.l8[-1-Z];
if(0<=Z)n=s.os<=0?null:s.os==1?s.tR():s.MH(e).$;var S=n?n.rect:s.rect;if(e.P){D.nd=e.P.rect.Yn(A||n!=null?N:S)}else D.nd=A||n!=null?S.pg(N):S.clone();
if(a)D.nd=a[c].nd.clone();var F=D.nd.O();D.bD=j.Q(F*4);if(n)q.Wn.TR(n.channel,n.rect,n.color,D.bD,D.nd);
else j._M(s.buffer,S,D.bD,D.nd);D.rP=D.bD.slice(0);if(e.P){D.Vf=j.Q(F);j.WP(e.P.channel,e.P.rect,D.Vf,D.nd)}}return p};
q.ML.ahu=function(e,A,a){if(A==null)return A;var p=a7.eF(e,A),i;if(p==-1)return A;var N=a.length>>>2,Z=j.rH(a),s=.001*N;
if(p==0||p==2)i=[[0,255,0,255,100],q.ML.W9(Z[1],s,N,p==2),q.ML.W9(Z[2],s,N,p==2),q.ML.W9(Z[3],s,N,p==2)];
if(p==1)i=[q.ML.W9(Z[0],s*.33,N,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var D=hZ.T$("levl");
for(var c=0;c<4;c++)jN.C6(D,c,i[c]);return D};q.ML.amB=function(e,A,a,p){var N,i;if(a.t=="name"){var Z=0;
for(var s=0;s<e.B.length;s++)if(e.B[s].getName()==a.v.val)Z=s;if(e==A&&Z==p.j){N=p.bD;i=p.nd}else{var D=e.B[Z];
N=D.buffer;i=D.rect}}else{i=new dE(0,0,e.m,e.n);N=e==A?p.Hi:e.WR()}return[N,i]};q.ML.prototype.dz=function(e,A,a,p){if(this.X_==null){if(e.yC=="aply")a.B[a.g[0]].extend(new dE(0,0,a.m,a.n));
this.X_=q.ML.getData(a,null,e.yC=="fade"?a.rU().data:null);if(e.yC=="aply"||e.yC=="matc")this.X_[0].Hi=a.WR()}if(e.d=="edit"){this.zx=[e.yC,e.HG];
var N=this.X_[0],i=q.ML.ahu(e.yC,e.HG,N.bD),Z=a7.EN(e.yC,i);if(e.yC=="fade"||e.yC=="matc"||e.yC=="aply")Z=e.HG;
if(Z!=null){for(var s=0;s<this.X_.length;s++){var D=this.X_[s];if(e.SV)j.GZ(D.bD,D.rP);else if(e.yC=="fade"){var n=im.ac(e.HG.Md.v.BlnM),S=e.HG.Opct.v.val/100,F=a.rU().data[s];
j.GZ(F.bD,D.rP);if(n=="norm")j.s.Lq(D.bD,D.nd,D.rP,D.nd,null,null,null,D.nd,S);else{var $=b6.yL();$.pd=!0;
for(var c=0;c<F.bD.length;c+=4)if(F.bD[c+3]!=D.bD[c+3]){$=null;break}j.s.eZ(n,D.bD,D.nd,D.rP,D.nd,D.nd,S,$)}}else if(e.yC=="matc"){var m;
if(Z.noReference&&Z.noReference.v)m=D.bD;else{var J=Z.Srce.v,w=J[1].v.val,f=A.oY,b=a;for(var c=0;c<f.length;
c++)if(f[c].name==w)b=f[c];var L=q.ML.amB(b,a,J[0],D);m=L[0]}jb(D.bD,D.nd.m,D.nd.n,m,D.rP,[Z.Lght.v,Z.ClrR.v,Z.Fade.v,Z.neutralizeColor?Z.neutralizeColor.v:!1])}else if(e.yC=="aply"){Z=Z.With.v;
var C=Z.T.v,L=q.ML.amB(a,a,C[1],D),m=L[0],M=L[1],y=Z.Clcl?Z.Clcl.v.Clcn:null,n=y?im.ac(y):"norm",S=Z.Opct?Z.Opct.v.val/100:1,Q=["RGB","Rd","Grn","Bl","Trsp"].indexOf(C[0].v.enum),i=Z.Invr&&Z.Invr.v;
if(i||Q!=0){m=m.slice(0);if(i)j.apL(m);if(Q!=0){var k=j.Q(M.O());j.kI(m,k,Q-1);if(Q==4)j.rQ(k);for(var E=0;
E<3;E++)j.Ao(k,m,E)}}if(y=="Add"||y=="Sbtr"){var _=1/Z.Scl.v,v=Z.Ofst.v,V=y=="Add"?1:-1,R=new Uint8ClampedArray(D.rP.buffer);
for(var c=0;c<m.length;c+=4){R[c]=(D.bD[c]+V*m[c])*_+v;R[c+1]=(D.bD[c+1]+V*m[c+1])*_+v;R[c+2]=(D.bD[c+2]+V*m[c+2])*_+v}}else{var $=b6.yL();
$.pd=Z.PrsT&&Z.PrsT.v;D.rP.fill(0);D.rP.set(D.bD);j.s.eZ(n,m,M,D.rP,D.nd,D.nd,S,$)}}else a7.Eo(Z,D.bD,D.rP,D.nd)}q.ML.u7(a,this.X_)}}if(e.d=="cancel"){q.ML.a8J(a,this.X_);
this.X_=null}if(e.d=="confirm"){var h={fade:[2,11],aply:[2,12],matc:[4,18]},P=h[e.yC];if(P==null)P=a7.names[e.yC];
var H=a7.eF(e.yC,this.zx[1]);if(H!=-1)P=[4,16,H];q.ML.PE(a,this.X_,P,this);this.X_=null;if(H==-1)q.ML.Ya(A,this.zx)}a.U()};
q.ML.Ya=function(e,A){var a=A[0],p=A[1],N,i;if(a7.Li[a]){N=a7.Li[a];if(bo[a])i=p}if(hZ.Li[a]){N=hZ.Li[a];
if(bo[a])i=p}if(a=="fade"){N="fade";i=p}if(a=="matc"){N="matchColor";i=p}if(a=="aply"){N="applyImageEvent";
i=p}if(N==null)return;var Z=new k4(t.E.wH,!0);Z.data={bb:!0,_h:N};if(i){i=JSON.parse(JSON.stringify(i));
Z.data.h2=i}e.S(Z)};q.ML.a8J=function(e,A){q.ML.c6(e,A)};q.ML.PE=function(e,A,a,p){for(var c=0;c<A.length;
c++){var N=A[c],i=e.B[N.j],Z=N.j<0?e.l8[-1-N.j]:N.Bn<=0?null:N.Bn==1?i.tR():i.MH(e).$;if(Z){Z.Yk();Z.zv=!0;
if(i)i.yO(e)}else{i.Yk();i.U()}delete N.rP;delete N.Vf}var s=new af(a,p);s.data=A;e.G2(s);e.Xz=!0};q.ML.u7=function(e,A,a){for(var c=0;
c<A.length;c++){var p=A[c],N=e.B[p.j],i=a?p.bD:p.rP,Z=p.nd;if(p.Bn==0){N.extend(Z);if(p.Vf){j._M(p.bD,Z,N.buffer,N.rect);
j.s.Lq(i,Z,N.buffer,N.rect,p.Vf,Z,0,Z,1)}else j._M(i,Z,N.buffer,N.rect)}else{var s=p.j<0?e.l8[-1-p.j]:p.Bn==1?N.tR():N.MH(e).$;
s.extend(Z);if(p.Vf){var D=j.Q(Z.O()*4);j.GZ(p.bD,D);j.s.Lq(i,Z,D,Z,p.Vf,Z,0,Z,1);q.Wn.l2(D,Z,s)}else q.Wn.l2(i,Z,s);
s.zv=!0;if(N)N.yO(e)}if(N)N.U()}if(!a)q.ML.a8Y(e,A)};q.ML.c6=function(e,A){for(var c=0;c<A.length;c++){var a=A[c],p=e.B[a.j],N=a.nd,i=j.Q(N.O()*4);
if(a.Bn==0){j._M(p.buffer,p.rect,i,N);p.extend(N);j._M(a.bD,N,p.buffer,p.rect);p.Yk()}else{var Z=a.j<0?e.l8[-1-a.j]:a.Bn==1?p.tR():p.MH(e).$;
q.Wn.TR(Z.channel,Z.rect,Z.color,i,N);Z.extend(N);q.Wn.l2(a.bD,N,Z);Z.Yk();Z.zv=!0;if(p)p.yO(e)}a.bD=i;
if(p)p.U()}e.Xz=!0};q.ML.a8Y=function(e,A){var a=q.ML.a6T(e),p=~a;if(a==16777215)return;for(var c=0;
c<A.length;c++){var N=A[c],i=e.B[N.j],Z=N.nd;if(N.Bn!=0)continue;i.extend(Z);var s=Z.x-i.rect.x,D=Z.y-i.rect.y,n=i.rect.m,S=new Uint32Array(N.bD.buffer),F=new Uint32Array(i.buffer.buffer);
for(var $=0;$<Z.n;$++)for(var m=0;m<Z.m;m++){var J=$*Z.m+m,w=($+D)*n+(m+s);F[w]=F[w]&a|S[J]&p}i.Yk();
i.U()}e.U()};q.ML.a6T=function(e){var A=e.u.$n;return A[2]*16711680|A[1]*65280|A[0]*255};q.ML.prototype.rf=function(e,A){var a=A.B[e.j];
if(e.Ve!=null)a.add[a7.get(a.add)]=e.Ve;else q.ML.c6(A,e);A.U()};q.ML.prototype.Jf=function(e,A){var a=A.B[e.j];
if(e.Ve!=null)a.add[a7.get(a.add)]=e.pL;else q.ML.c6(A,e);A.U()};q._y=function(){q.$w.call(this,"Filter Edit",q.ws);
this.X_=null;this.JW=null;this.d=null;this.zx=null};q._y.prototype=new q.$w;q._y.prototype.nc=function(e,A,a,p,N){if(e.d=="start"){if(a.g.length==0)return;
var i=a.B[a.g[0]];if(i.add.SoLd&&i.os<=0&&a.RN.length==0){}else if(!a.Fa(A,null,!0))return;var Z=e.yC;
if((bo[Z]||hZ.a[Z])&&e.HG==null){if(a.g.length!=1)alert("Will be applied to "+a.g.length+" layers.");
var s=new k4(t.E.L,!0);s.data=q._y.atL(Z,this.tv(a,Z));A.S(s)}else{var D={d:"edit",yC:Z,HG:e.HG,_Z:this.tv(a)};
this.nc(D,A,a,p,N);D.d="confirm";delete D.HG;this.nc(D,A,a,p,N)}}if(e.d=="edit"||e.d=="cancel"||e.d=="confirm"){if(e.d=="edit")this.zx=[e.yC,e.HG];
if(e._Z)this.auH(e,A,a,N);else this.av5(e,A,a,N)}if(e.d=="applylast"&&this.zx!=null){var D={d:"edit",yC:this.zx[0],HG:this.zx[1],_Z:this.tv(a)};
this.nc(D,A,a,p,N);D.d="confirm";delete D.HG;this.nc(D,A,a,p,N)}};q._y.atL=function(e,A){var a=hZ.a[e];
if(a)return{d:t.c.sk,G:a,KO:{_Z:A}};else return{d:t.c.Ch,NY:"afw_"+e,_Z:A}};q._y.prototype.tv=function(e,A){var a=e.B[e.g[0]],p;
if(a.add.SoLd&&a.os<=0&&e.RN.length==0){p={j:e.g[0],index:0};if(a.add.SoLd.filterFX!=null){var N=a.add.SoLd.filterFX.v.filterFXList.v;
p.index=N.length;for(var c=0;c<N.length;c++)if(hZ.tp(N[c].v)==A&&hZ.a[A])p.index=c}}return p};q._y.prototype.auH=function(e,A,a,p){var N=a.B[e._Z.j],i=e.yC;
if(e.d=="edit"){if(this.d==null){var Z=hZ.names[i];if(Z==null)Z=a7.names[i];if(i=="blendOptions")Z=[14,10];
this.d=new af(Z,this);this.d.data={_Z:e._Z,a62:JSON.parse(JSON.stringify(N.add.SoLd))}}if(!N.$f()){N.add.SoLd.filterFX=hZ.Iu();
this.d.data.zA=ar.ath(N.add.SoLd.placed.v);a.Dh(this.d.data.zA);N.kf(a)}var s=N.add.SoLd.filterFX.v.filterFXList.v;
if(s[e._Z.index]==null){s.push(hZ.R3(i,p))}if(e.HG){s[e._Z.index].v.enab.v=e.SV!=!0;if(i=="blendOptions")s[e._Z.index].v.blendOptions.v=e.HG;
else s[e._Z.index].v.Fltr.v=e.HG}this.d.data.apN=JSON.parse(JSON.stringify(N.add.SoLd));this.Jf(this.d.data,a)}if(e.d=="cancel"){if(this.d)this.rf(this.d.data,a);
this.d=null}if(e.d=="confirm"){if(this.d)a.G2(this.d);q.ML.Ya(A,this.zx);this.d=null}};q._y.prototype.AA=function(e){return{o:e>>>16,J:e>>>8&255,k:e&255}};
q._y.prototype.av5=function(e,A,a,p){if(this.X_==null){var N=hZ.xJ(e.yC,e.HG);this.X_=q.ML.getData(a,N.x!=0||N.y!=0)}if(e.d=="edit"){var i=JSON.stringify(e.HG);
if((e.HG==null||i!=this.JW)&&e.SV!=!0)for(var c=0;c<this.X_.length;c++){var Z=this.X_[c],s={rect:Z.nd,buffer:Z.bD},D={rect:Z.nd,buffer:Z.rP};
if(e.yC=="Avrg"&&Z.Vf){s.buffer=Z.bD.slice(0);j.Qr(Z.Vf,s.buffer)}hZ.Eo(e.yC,s,e.HG,this.AA(p.lM),this.AA(p.dG),D,[a.add.lnk2?a.add.lnk2:[],a.B[a.g[0]].tR(),a.l8,a.sz()]);
if(e.yC=="Avrg"&&Z.Vf){var n=Z.bD.length;for(var c=0;c<n;c+=4)Z.rP[c+3]=Z.bD[c+3]}this.JW=i}q.ML.u7(a,this.X_,e.SV)}if(e.d=="cancel"){q.ML.a8J(a,this.X_);
this.X_=null;this.JW=null}if(e.d=="confirm"){q.ML.PE(a,this.X_,hZ.names[e.yC],this);this.X_=null;this.JW=null;
q.ML.Ya(A,this.zx)}a.U();a.Xz=!0};q._y.prototype.rf=function(e,A){if(e._Z){var a=A.B[e._Z.j];if(e.zA)A.PN(e.zA);
a.add.SoLd=JSON.parse(JSON.stringify(e.a62));if(a.$f())a.Dc(A);else{a.kf(A);a.os=0}}else q.ML.c6(A,e);
A.U();A.Xz=!0};q._y.prototype.Jf=function(e,A){if(e._Z){var a=A.B[e._Z.j];if(e.zA)A.Dh(e.zA);a.add.SoLd=JSON.parse(JSON.stringify(e.apN));
if(a.$f())a.Dc(A);else a.kf(A);if(!a.lu())a.OO+=32}else q.ML.c6(A,e);A.U();A.Xz=!0};var ac={xh:"0",TD:"1",Pg:"2",vU:"3",gb:"3.5",nn:"4",_x:"5",ka:"6",tB:"7",v:"8",Nb:"8.5",QZ:"8.8",Ah:"9",fD:"10",yq:"11",z9:"12",Rq:"13",uO:"14",UN:"15",kS:"16",SF:"17",V9:"21",Pb:"22",VH:"23",vY:"23.0",Nn:"23.1",Mk:"23.2",W5:"23.3",Ci:"23.4",jX:"23.5",O7:"23.6",a0G:"30",Ea:"31",pR:"40",pc:"41",tO:"42"};
ac.GN={};ac.GN[ac.TD]=["abr","brushes",ed,[9,3],3];ac.GN[ac.Pg]=["grd","gradients",h8,[12,37],4];ac.GN[ac.vU]=["shc","contours",hk,[12,21],0];
ac.GN[ac.gb]=["acv","curves",fi,[4,2],0];ac.GN[ac.nn]=["asl","styles",gp,[12,22],5];ac.GN[ac._x]=["pat","patterns",bT,[12,62],6];
ac.GN[ac.ka]=["csh","shapes",bF,[12,77],7];ac.GN[ac.tB]=["aco","swatches",aV,[9,8],0];ac.GN[ac.v]=["atn","actions",gZ,[9,9],2];
ac.GN[ac.Nb]=["tpl","tpresets",gP,[9,12],0];ac.GN[ac.QZ]=["icc","profiles",eQ,"ICCs",8];function af(e,A,a){if(a==null)a=!1;
this.name=e;this.G=A;this.Tx=a;this.data=null;this.akB=Date.now()}var gb={};gb.o$=function(e,A){var a={t:"Clss",v:{classID:e}};
if(A)a={t:"Enmr",v:{classID:e,typeID:"Ordn",enum:"Trgt"}};return{t:"obj ",v:[a]}};gb.TP=function(e,A){var a={classID:"Lyr"};
a[e]=A;return{_h:"set",h2:{classID:"null",null:gb.o$("Lyr",!0),T:{t:"Objc",v:a}}}};gb.a7C=function(e,A,a,p,N){var i=new k4(t.E.wH,!0),Z=[],c=0,s=gb.wZ(A,a,p,Z);
while(Z.length!=0){var D=Z.pop();c++;if(!D.C)continue;console.log(c-1);if(D._h=="conditional"){var n=e.B[e.g[0]],S=D.h2.null.v.Cndt,F=!1;
if(S=="Bckg")F=!1;else if(S=="Pxel"&&e.VX(!1))F=!0;else if(S=="Adjs"&&a7.get(n.add))F=!0;else if(S=="Shp"&&n.add.vogk)F=!0;
else if(S=="Grup"&&n.yg())F=!0;else if(S=="Opn"&&e!=null)F=!0;else if(S=="32Bt")F=!1;else if(S=="RGB")F=!0;
var $=D.h2.then,m=D.h2.else;if(F&&$)gb.wZ(A,$.v[0].v.val,$.v[1].v.val,Z);if(!F&&m)gb.wZ(A,m.v[0].v.val,m.v[1].v.val,Z)}else if(D._h=="stop"){if(D.h2.Cntn&&D.h2.Cntn.v==!0)window.confirm(D.h2.Msge.v);
else{alert(D.h2.Msge.v);break}}else if(D._h=="play"){var J=D.h2.null.v,w=new k4(t.E.L,!0);w.data={d:t.c.$t,U9:[J[0].v.val,J[1].v.val]};
N.S(w)}else{i.data={_h:D._h,h2:D.h2};N.S(i)}}};gb.wZ=function(e,A,a,p){var N;for(var c=0;c<e.length;
c++){if(e[c].fQ!=a)continue;var i=e[c].eL;for(var Z=0;Z<i.length;Z++){if(i[Z].fQ!=A)continue;N=i[Z].eL}}var s=N.length;
for(var c=0;c<s;c++)p.push(N[s-1-c])};gb.afb=function(e){var A=e._h,a=e.h2,p,Z,s,D,n;if(a&&a.null)p=a.null.v[0];
if(a&&p==null&&a.At)p=a.At.v[0];if(p&&p.t=="obj ")p=p.v[0];var N=p&&p.v?p.v.classID:null,i=["purge"];
if(i.indexOf(A)!=-1)return A[0].toUpperCase()+A.slice(1);if(A=="GEfc"||A=="paintDaubs")return eN.names[a.GEfk.v.GEft][1];
n=a7.Li;for(Z in n)if(n[Z]==A)s=Z;n=hZ.Li;for(Z in n)if(n[Z]==A)D=Z;if(s){var S=a7.eF(s,a);if(S!=-1)return[4,16,S];
return a7.names[s]}if(D)return hZ.names[D];var F=gb.a3Z;if(A=="make"){if(p){if(N=="AdjL")return[6,1];
else if(N=="layerSection")return a.From?[6,9]:[6,20];else if(N=="Lyr")return[6,13];else if(N=="Chnl"&&p.v.enum=="Msk")return[6,2];
else if(N=="contentLayer")return[6,48,1];else if(N=="BckL")return"Make Background Layer";else if(N=="Path")return"Make Path";
else if(N=="TxLr")return"Make Text Layer";else if(N=="slice")return"Make Slices";else if(N=="Dcmn")return[11,7];
else if(N=="Gd")return[23,4]}if(a.Nw){N=a.Nw.v.classID;if(N=="Dcmn")return[11,7];else if(N=="Chnl"||N=="SCch")return"New Channel"}}else if(A=="deselect"){if(N=="Path")return"Deselect current path";
else throw N}else if(A=="draw"){return"Draw"}else if(A=="select"){if(N=="Chnl")return"Select "+(p.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(N=="Mn")return"Select Panel \""+p.v.enum+"\"";else if(N=="Lyr"){if(p.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[p.v.enum]+" Layer";
return"Select Layer \""+p.v.val+"\""}else if(N=="Path")return"Select Path";else if(N=="Brsh")return"Select Brush";
else if(N=="Dcmn")return"Select Document"}else if(F[A]&&N=="Chnl"){var $=p.v.keyID=="fsel";return F[A]+" "+($?"Selection":"Channel")}else if(A=="set"){if(N=="Lyr")return"Set Current Layer";
else if(N=="AdjL")return[6,39];else if(N=="contentLayer")return[6,48,2];else if(N=="Prpr"){var m=p.v.keyID;
if(m=="TxtS")return"Set Text Style";else if(m=="paragraphStyle")return"Set Paragraph Style";else if(m=="Lefx")return[11,6];
else console.log(m)}else if(N=="Clr")return"Set "+(p.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(N=="Brsh")return"Set Brush";else if(N=="Path")return"Set Work Path";else console.log(N)}else if(A=="move"){if(N=="Lyr")return"Move Layer";
else if(N=="Chnl"&&p.v.keyID=="fsel")return[7,7];else console.log(N)}else if(A=="show"||A=="hide"){var J="";
if(N=="Lyr")+"Layer";if(N=="Chnl")+"Channel";return(A=="show"?"Show":"Hide")+" "+J}else if(A=="reset"){if(N=="Clr")return"Reset Colors"}else if(A=="exchange"){if(N=="Clr")return[22,7,0]}else if(A=="rotateEventEnum")return[2,5];
else if(A=="flip"){var w=a.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,w?2:3]]}if(N=="Chnl"){if(A=="duplicate"){if(p.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(A=="delete")return"Delete Channel"}if(A=="transform")return p&&p.v.keyID=="fsel"?[7,10]:[10,16];
var f={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:a?N=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",convertMode:"Convert Mode",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},b=f[A];
if(b==null)b=gb.a9A[A];if(b)return b;return A};gb.a9A={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
gb.a3Z={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
gb.a2C=function(e,A,a,p){var N=e._h,i=e.h2,Z=!1,s=new k4(t.E.v,!0),S,F,$,m;s.G=q._b;var D=new k4(t.E.L,!0),n=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(n.indexOf(N)!=-1)return;m=a7.Li;for(S in m)if(m[S]==N)F=S;m=hZ.Li;for(S in m)if(m[S]==N)$=S;if(N=="fade")F=N;
if(N=="matchColor")F="matc";if(N=="applyImageEvent")F="aply";if(F){s.G=q.Dx;s.data={d:"start",E$:F,HG:i}}else if($){s.G=q.ws;
s.data={d:"start",yC:$,HG:i}}else if(N=="GEfc"||N=="paintDaubs"){s.G=q.ws;s.data={d:"start",yC:"GEfc",HG:i}}else if(N=="imageSize"||N=="canvasSize"||N=="revealAll"||N=="trim"||N=="crop"){s.G=q.x1;
s.data={d:"fromAction",Rl:e}}else if(N=="fill"||N=="stroke"||N=="delete"&&i==null){var J=null;if(p.g.length!=0)J=p.B[p.g[0]];
var w=j.ft(a.lM);if(J!=null&&N=="fill"&&J.add.TySh){var f="var c = new SolidColor();  c.rgb.red="+w.o+";  c.rgb.green="+w.J+";  c.rgb.blue="+w.k+";  app.activeDocument.activeLayer.textItem.color = c;";
D.data={d:t.c.zr,Jk:f}}else if(J!=null&&N=="delete"&&J.add.TySh){s.G=q.L1;s.data={d:"insertText",Z:""}}else if(J!=null&&N=="fill"&&J.c7()){var s=new k4(t.E.wH,!0),i={classID:"setd",null:gb.o$("contentLayer",!0),T:{t:"Objc",v:{}}};
q.TN.Z$({Clr:{v:j.M.yN(j.ft(a.lM))}},i.T.v,0);s.data={_h:"set",h2:i};A.S(s);return}else{s.G=a.zX==q.BE?q.BE:q.TD;
s.data={d:"fromAction",Rl:e}}}else if(N=="colorRange"||N=="grow"||N=="similar"){s.G=q.dC;s.data={d:"fromAction",Rl:e}}else if(N=="set"&&i&&i.T&&i.T.v.Ordn=="Al"&&a.zX==q.L1&&A.UX().xV()){s.G=q.L1;
s.data={d:"selectAll"}}else if(gb.a9A[N]||gb.a3Z[N]&&(!1||i.With&&i.With.v[0].v.keyID=="fsel"||i.From&&i.From.v[0].v.keyID=="fsel"||i.null&&i.null.v[0].v.keyID=="fsel"||i.T.v[0]&&i.T.v[0].v.keyID=="fsel")){s.G=q.aN;
s.data={d:"fromAction",Rl:e}}var b={copyToLayer:u.ZD,cutToLayer:u.VQ,mergeLayersNew:u.dq,rasterizeLayer:u.a4Z,mergeVisible:u.CP,flattenImage:u.as0,newPlacedLayer:u.Zq};
if(b[N])s.data={d:b[N],h2:i};if(s.data){A.S(s);return}if(N=="collapseAllGroupsEvent"){for(var c=0;c<p.B.length;
c++){var J=p.B[c];if(J.yg())J.add.lsct=ez.St}p.W$=!0;return}if(N=="desaturate"){s.G=q.Dx;s.data={d:"auto",bu:3};
if(p&&p.B[p.g[0]].add.SoLd==null)A.S(s);return}if(N=="close"){if(i&&i.Svng.v.YsN=="Ys"){D.data={d:t.c.ae};
A.S(D)}D.data={d:t.c.MZ,Wo:p};A.S(D);return}if(N=="save"){D.data={d:t.c.ae};A.S(D);return}if(N=="copyMerged"){D.data={d:t.c.$u,ZZ:!0,jB:!0};
A.S(D);return}if(N=="placedLayerReplaceContents")D.data={d:t.c.hy,HR:!0};var b={placedLayerEditContents:t.c.ac0,placedLayerExportContents:t.c.aox,copyEvent:t.c.$u,paste:t.c.Et};
if(b[N])D.data={d:b[N],jB:!0};if(D.data){A.S(D);return}var C=i.null?i.null.v:null,M=C?C[0].v.classID:"";
if(N=="make"){if(i.null==null&&i.Nw)M=i.Nw.v.classID;if(M=="AdjL"){s.data={d:u.kr,h2:i}}else if(M=="layerSection"){s.data=i.From?{d:u.Aw}:{d:u.aP};
if(i.Usng){var y=i.Usng.v;if(y.Nm)s.data.Xt=y.Nm.v;if(y.Clr)s.data.SN=gb.zF(y)}}else if(M=="Lyr"){if(i.Usng&&i.Usng.v.length==2)s.data={d:u.adT};
else{s.data={d:u.g1};if(i.Usng)s.data.Xt=i.Usng.v.Nm.v;if(i.below&&i.below.v)s.data.a6X=!0}}else if(M=="Chnl"&&i.At&&i.At.v[0].v.enum=="Msk"){s.data={d:u.Mm,qZ:i.Usng.v.UsrM}}else if(M=="Chnl"||M=="SCch"){s.data={d:u.JC,dy:"fromAction",Z:e}}else if(M=="contentLayer"){s.data={d:u.hD,h2:i}}else if(M=="BckL"){p.B[p.g[0]].ahH();
return}else if(M=="Dcmn"){if(i.Nw==null)return;var Q=i.Nw.v;D.data={d:t.c.nK,M0:ar.a6M(Q,a)}}else if(M=="Ptrn")D.data={d:t.c.hn,hP:0};
else if(M=="Path"){s.G=q.gS;s.data={d:"pathedit",dy:"fromsel"}}else if(M=="TxLr"){s.G=q.L1;s.data={d:"fromAction",Rl:e}}else if(M=="slice"){s.G=q.Gc;
s.data={d:"fromAction",Rl:e}}else if(M=="Gd"){var k=[[],[]],Q=i.Nw.v;k[Q.Ornt.v.Ornt=="Vrtc"?0:1].push(Q.Pstn.v.val);
var E=ey.KQ(k);q.GS.i_(E,p.ek());s.G=q.Mf;s.data={d:"gids",Ph:E}}else{console.log(N,M,i);throw"e"}}else if(N=="divide"){s.G=q.Gc;
s.data={d:"fromAction",Rl:e}}else if(N=="deselect"){if(M=="Path"){p.Lj=[];p.AH=[];p.W$=p.De=!0;return}else throw M}else if(N=="selectNoLayers"){p.g=[];
p.Xz=!0}else if(N=="select"){var _={PcTl:q.BE,PbTl:q.TD,moveTool:q.Mf,cloneStampTool:q.Wt,typeCreateOrEditTool:q.L1,artboardTool:q.M5,marqueeRectTool:q.aN,typeVerticalCreateOrEditTool:q.v8,perspectiveCropTool:q.QE,marqueeEllipTool:q.a3q,eyedropperTool:q.Ud,eraserTool:q.FD,pathComponentSelectTool:q.gS,lassoTool:q.y6,backgroundEraserTool:q.iw,directSelectTool:q.Cj,polySelTool:q.akl,rectangleTool:q.vM,magneticLassoTool:q.a9Q,gradientTool:q.Kb,quickSelectTool:q.CR,bucketTool:q.ajW,ellipseTool:q.Nt,magicWandTool:q.dC,blurTool:q.To,polygonTool:q.Mo,cropTool:q.x1,sharpenTool:q._E,lineTool:q.v0,sliceTool:q.Gc,smudgeTool:q.h8,customShapeTool:q.Im,sliceSelectTool:q.cv,dodgeTool:q.Za,spotHealingBrushTool:q.xS,burnInTool:q.A0,saturationTool:q.qh,penTool:q.yD,redEyeTool:q.yU,freeformPenTool:q.Wp,rulerTool:q.ho,paintbrushTool:q.TD,handTool:q.wI,pencilTool:q.BE,zoomTool:q._B,objectSelectTool:q.aA5,healingBrushTool:q.Kf,patchTool:q.YV,contentAwareMoveTool:q.$K,colorReplacementBrushTool:q.QU,curvaturePenTool:q.a2x,rotareViewTool:q.yp};
if(M=="Lyr"){var v=i.selectionModifier,V=v?v.v.selectionModifierType:null,R=gb.Hb(p,C[0]),h=0;if(R==-1){alert("Layer "+C[0].v.val+" does not exist.");
return}var J=p.B[R];if(J.yg()&&J.tR()&&v==null)h=1;s.data={d:u.ml,j:R,DE:V?["addToSelection","addToSelectionContinuous"].indexOf(V):null,wq:h}}else if(M=="Path"){if(C[0].v.keyID=="WrPt"){p.Lj=[0];
p.W$=p.De=!0;return}else throw C[0]}else if(M=="Chnl"){s.data={d:u.ml,j:R,wq:C&&C[0].v.enum=="RGB"?0:1}}else if(M=="Dcmn"){if(A.oY.length<2)return;
D.data={d:t.c.aa7,dir:i.null.v[0].v.val}}else if(M=="Brsh"){var P=a.TM.list,H;for(var c=0;c<P.length;
c++){if(P[c].v.Nm.v==C[0].v.val)H=P[c].v}D.data={d:t.c.iK,hP:ac.uO,dF:H}}else if(M=="Mn"){if(C[0].v.enum=="Scl")D.data={d:t.c.sk,G:q.lE,KO:{qZ:3}};
if(C[0].v.enum=="Plce")D.data={d:t.c.hy,afr:!0};if(C[0].v.enum=="ZmIn"){s.G=q._B;s.data={d:"zoom",L8:!0}}if(C[0].v.enum=="ZmOt"){s.G=q._B;
s.data={d:"zoom",L8:!1}}if(C[0].v.enum=="FtOn"){s.G=q._B;s.data={d:"adapt",Z:"fitscr"}}}else if(_[M]){D.data={d:t.c.sk,G:_[M]}}else throw M}else if(N=="draw"){s.G=q.gS;
s.data={d:"fromAction",Rl:e}}else if(N=="gradientClassEvent"){s.G=q.Kb;s.data={d:"fromAction",Rl:e}}else if((N=="set"||N=="reset"||N=="exchange")&&M=="Clr"){D.data={d:t.c.iK,hP:ac.V9,dy:N=="reset"?3:2};
if(N=="set"){D.data.dy=C[0].v.keyID=="FrgC"?0:1;var U=j.M.kq(i.T.v);D.data.Z=U.o<<16|U.J<<8|U.k}}else if(N=="set"){if(M=="AdjL"){var X=i.T.v.classID;
X=a7.TX[X];s.G=q.Dx;if(X)s.data={d:"edit_layer",Z:i.T.v}}else if(M=="Lyr"){var x=i.T.v,R=gb.Hb(p,C[0]);
for(var K in x){if(K=="classID")continue;s.G=q._b;if(K=="Nm")s.data={d:u.GA,name:x.Nm.v};else if(K=="Opct")s.data={d:u.MN,pL:Math.round(x.Opct.v.val*255/100)};
else if(K=="fillOpacity")s.data={d:u.Bf,pL:Math.round(x.fillOpacity.v.val*255/100)};else if(K=="Md")s.data={d:u.FO,pL:im.Jd.indexOf(x.Md.v.BlnM)+(p.B[R].yg()?1:0)};
else if(K=="Usrs")s.data={d:u.HW,j:R};else if(K=="Blnd"){s.G=q.fg;s.data={d:"setstl",j:R,Z:{blendOptions:{t:"objc",v:x}}};
A.S(s);s.data={d:"confirm",j:R}}else if(K=="userMaskFeather"||K=="userMaskDensity"){var T=x.userMaskFeather,I=x.userMaskDensity,R=p.g[0],o=p.B[R].hz(0);
if(T)o.s6=T.v.val;if(I)o.Pu=I.v.val;s.data={d:u.wp,Kc:R,Br:o}}else if(K=="Clr"){var w=gb.zF(x);s.data={d:u.Ye,apQ:w}}else if(K=="Lefx")gb.a18(A,R,x.Lefx.v,a);
else{console.log(i);throw K}if(s.data){A.S(s);delete s.data}}s.data={};var J=p.B[R];J.a9_()}else if(M=="Prpr"){var x=JSON.parse(JSON.stringify(i.T.v)),R=gb.Hb(p,i.null.v[1]),J=p.B[R],l=C[0].v.keyID;
if(l=="TxtS"||l=="paragraphStyle"){var O=J.add.TySh,g=JSON.parse(JSON.stringify(O._t)),W=eG.Ob(g),d=eG.p_(g,0,W.length-2);
if(l=="TxtS")eG.a6_(x,d);else eG.a7$(x,d);eG.G4(g,0,W.length-1,d);s.G=q.L1;s.data={d:"newED",cO:R,Aj:g}}else if(l=="Lefx"){for(var gT in x)if(x[gT].v){if(gT=="Scl")x[gT].v.val=100}gb.a18(A,R,x,a);
s.data={}}else throw l}else if(M=="contentLayer"){var R=gb.Hb(p,C[0]),x=i.T.v;if(x.classID=="shapeStyle")x=x.FlCn.v;
var r={solidColorLayer:0,gradientLayer:1,patternLayer:2}[x.classID],G=q.X2.kg(p,R),$=G.$e==r+1?G.yJ:iF.o5[r];
$=JSON.parse(JSON.stringify($));q.TN.Z$(x,$,r);s.data={d:u.Rw,WD:[R],pZ:!0,Z:{$e:r+1,yJ:$}}}else if(M=="Brsh"){var H=JSON.parse(JSON.stringify(a.TM.oS)),Y=i.T.v;
if(Y.masterDiameter)H.Brsh.v.Dmtr.v.val=Y.masterDiameter.v.val;else console.log("unknown brush parameters");
D.data={d:t.c.iK,hP:ac.uO,dF:H}}else if(M=="Path"){s.G=q.gS;s.data={d:"fromAction",Rl:e}}else{console.log(C[0],i);
throw M}}else if(N=="move"){if(M=="Lyr"){var x=i.T.v;if(x.classID=="Ofst"){s.data={d:"trsl",ts:x.Hrzn.v.val,fd:x.Vrtc.v.val};
s.G=q.Mf}else{var fk,eJ;if(x[0].t=="Enmr"){if(x[0].v.enum=="Frnt")eJ=0;else if(x[0].v.enum=="Nxt")eJ=1;
else if(x[0].v.enum=="Prvs")eJ=2;else if(x[0].v.enum=="Back")eJ=3;else throw"e"}else fk=x[0].v.val;s.data={d:u.E4,target:fk,dy:eJ,a2s:i.Dplc?i.Dplc.v:!1}}}else if(M=="Chnl"&&C[0].v.keyID=="fsel"){s.G=q.aN;
s.data={d:"fromAction",Rl:e}}}else if(N=="groupEvent"||N=="ungroup")s.data={d:u.Ta};else if(N=="show"||N=="hide"){var eS=C[0].v;
for(var c=0;c<eS.length;c++){var gL=eS[c],M=gL.v.classID;if(M=="Lyr"){if(s.data==null)s.data={d:u.g9,WD:[]};
var R=gb.Hb(p,gL);if(R==-1)continue;var cX=p.B[R].gi();if(N=="show"&&cX||N=="hide"&&!cX)continue;s.data.WD.push(R)}else if(M=="Chnl"){s.data={d:u.JC,dy:"fromAction",Z:e}}else if(M=="filterFX"){if(gL.v.val!=null)s.data={d:u.xo,index:gL.v.val-1};
s.data={d:u.QB}}}}else if(N=="rotateEventEnum"){s.G=M=="Lyr"?q.lE:q.x1;var kj=i.Angl.v.val;s.data={d:"rot",fQ:[2,5],Z:-kj*Math.PI/180}}else if(N=="flip"){s.G=M=="Lyr"?q.lE:q.x1;
var gq=i.Axis.v.Ornt=="Hrzn",iL=gq?new k7(-1,1):new k7(1,-1);s.data={d:"scl",fQ:[[2,6],[22,4,gq?2:3]],Z:iL}}else if(N=="transform"){var ew=1,dk=1,j9=0,fh=0,g9=0,k6=0,jx=0,jf=null,ay=null;
if(i.Wdth)ew=i.Wdth.v.val/100;if(i.Hght)dk=i.Hght.v.val/100;if(i.Skew){var fV=i.Skew.v;j9=fV.Hrzn.v.val;
fh=fV.Vrtc.v.val}if(i.Ofst){var ao=i.Ofst.v;k6=ao.Hrzn.v.val;jx=ao.Vrtc.v.val}if(i.Angl)g9=i.Angl.v.val;
var ke=new bj;ke.concat(new bj(ew,ew*Math.tan(fh*Math.PI/180),dk*Math.tan(j9*Math.PI/180),dk,0,0));ke.rotate(-g9*Math.PI/180);
ke.translate(k6,jx);var gj=j.K.s1(ke);if(i.Usng){var ao=i.Usng.v;gj[6]=ao.Hrzn.v.val/100;gj[7]=ao.Vrtc.v.val/100}var fz=i.FTcs.v.QCSt;
if(fz=="Qcsi"){var ei=i.Pstn.v;jf=new k7(ei.Hrzn.v.val,ei.Vrtc.v.val)}else ay=q.BD.a2n[fz];var C=i.null;
if(C&&C.v instanceof Array)C=C.v[0];var R=C?gb.Hb(p,C):null;if(R==-1)R=null;s.G=C&&C.v.keyID=="fsel"?q.ID:q.lE;
s.data={d:"dtr",Ri:ay,Z:gj,Lv:i.warp,aeX:jf}}else if(N=="duplicate"){if(M=="Chnl")s.data={d:u.JC,dy:"fromAction",Z:e};
else s.data={d:u.$A,Xt:i.Nm?i.Nm.v:null}}else if(N=="delete"){if(M=="filterFX"){if(C[0].v.val!=null)s.data={d:u.lN,ra:C[0].v.val-1};
else s.data={d:u.pG}}else if(M=="Path"){s.G=q.gS;s.data={d:"pathedit",dy:"del"}}else if(M=="Lyr")s.data={d:u.vR};
else if(M=="Chnl"&&C[0].v.enum=="Msk")s.data={d:u.xG};else if(M=="Chnl")s.data={d:u.JC,dy:"fromAction",Z:e};
else throw M}else if(N=="align"){if(i.Aply&&i.Aply.v.projection=="Auto"){s.G=q.x1;s.data={d:"auto-align"}}else{s.G=q.Mf;
var hC=i.Usng.v.ADSt,F={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[hC];if(F==null)throw hC;s.data={d:"algn",Z:F}}}else if(N=="applyLocking"){var iI=i.layerLocking.v,gQ;
if(iI.protectTransparency)gQ=[[iI.protectTransparency.v],[0]];else if(iI.protectNone)gQ=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(iI);throw"e"}s.data={d:u.kX,pL:gQ}}if(s.data)A.S(s);else if(D.data)A.S(D);else{console.log(e);
alert("Unknown action \""+N+"\"");throw"e"}};gb.a18=function(e,A,a,p){a=JSON.parse(JSON.stringify(a));
cu.K1(a);if(a.masterFXSwitch==null)a.masterFXSwitch={t:"bool",v:!0};console.log(a);var N=iF.RU;for(var i=0;
i<N.length;i++)if(a[N[i]]){for(var c=0;c<a[N[i]].v.length;c++){var Z=a[N[i]].v[c].v,s=Z.TrnS;if(s==null)s=Z.MpgS;
if(s&&s.v.Crv==null){var D=s.v,n=D.Nm.v.split("=").pop(),S=p.nS;for(var F=0;F<S.length;F++){var $=S[F].Nm.v.split("=").pop();
if($==n)D.Crv=JSON.parse(JSON.stringify(S[F].Crv))}if(s.v.Crv==null){console.log(s);throw"e"}}}}var m=new k4(t.E.v,!0);
m.G=q.fg;m.data={d:"setstl",j:A,Z:{Lefx:{t:"objc",v:a}}};e.S(m);m.data={d:"confirm",j:A};e.S(m)};gb.zF=function(e){var A={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[e.Clr.v.Clr];
if(A==null)throw e.Clr.v.Clr;return A};gb.Hb=function(e,A){var a=1e6,p=0,N=e.B.length;for(var c=0;c<e.g.length;
c++){a=Math.min(a,e.g[c]);p=Math.max(p,e.g[c])}var i=A.t,Z=-1;if(i=="name"){var s=A.v.val,Z=-1;for(var c=0;
c<N;c++)if(e.B[c].getName()==s){Z=c;break}}else if(i=="Enmr"){if(e.g.length!=0)Z=e.g[0];if(A.v.enum=="Frwr")Z=p+1;
if(A.v.enum=="Bckw")Z=a-1;if(A.v.enum=="Back")Z=0;if(A.v.enum=="Frnt")Z=N-1;Z=(Z+N)%N}else if(i=="prop"){if(A.v.keyID=="Bckg")Z=0}return Z};
var a7={};a7.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
a7.apA=["expA","clrL","selc"];a7.DR=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];a7.awJ=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
a7.Dl=[[13,1,1],[13,1,4],[13,1,5]];a7.Dn={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
a7.TX=function(){var e=JSON.parse(JSON.stringify(a7.Dn));delete e.GrMp;e.GdMp="grdm";return e}();a7.Li={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
a7.keys={levl:[g4.YC,g4.SA],curv:[g4.YC,g4.Ab],hue2:[g4.YC,g4.L6],nvrt:[g4.YC,g4.ed],blnc:[g4.YC,g4.LY]};
a7.aio=function(e){var A=hZ.T$("mixr");A.Mnch={t:"bool",v:e.cX};function a(p,c){var N={classID:"ChMx"},i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var Z in i)N[Z]={t:"UntF",v:{type:"#Prc",val:p[c+i[Z]]}};return{t:"Objc",v:N}}if(e.cX)A.Gry=a(e.Z,0);
else{A.Rd=a(e.Z,0);A.Grn=a(e.Z,5);A.Bl=a(e.Z,10)}return A};a7.zY=function(e){function A(p,N,c){var i={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var Z in i)if(p[Z])N[c+i[Z]]=p[Z].v.val}var a={cX:!1,Z:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(e.Mnch&&e.Mnch.v)a.cX=!0;if(a.cX)A(e.Gry.v,a.Z,0);else{A(e.Rd.v,a.Z,0);A(e.Grn.v,a.Z,5);A(e.Bl.v,a.Z,10)}return a};
a7.get=function(e){for(var A in a7.names)if(e[A]!=null)return A;return null};a7.EN=function(e,A){var a=a7.O6,p;
if(e=="brit"){var N=A.Brgh?A.Brgh.v:0,i=A.Cntr?A.Cntr.v:0,Z=A.useLegacy?A.useLegacy.v:!1;if(Z){var s=N/255,D=1+i/100;
if(D>1)D=1+Math.tan(Math.PI/2*i/101);var n=(1-D)/2,S=j.mV.Nw(s,s,s),F=[D,0,0,n,0,D,0,n,0,0,D,n,0,0,0,1],$=j.mV.multiply(S,F),m=new j.js(256);
for(var c=0;c<256;c++)m.o[c]=c;j.mV.transform(m,m,$);p={type:a.om,Ut:m.o,nG:m.o,UM:m.o,Zu:!1,wh:!1}}else{var J=1024,w=-30+60*(i+100)/200,f=[];
for(var c=0;c<4;c++)f.push(j.Gh.Q3(c/3*255,c/3*255,!0));f[1].v.Hrzn.v=64;f[1].v.Vrtc.v=64-w;f[2].v.Hrzn.v=128+64;
f[2].v.Vrtc.v=128+64+w;f.sort(function(iY,iX){return iY.v.Hrzn.v-iX.v.Hrzn.v});var b=j.Gh.Tr(f,J);function L(iY,J){var f=[],iM=3;
for(var c=0;c<iM+1;c++)f.push(j.Gh.Q3(c/iM*255,c/iM*255,!0));f[1].v.Hrzn.v=130-iY*26;f[1].v.Vrtc.v=130+iY*51;
f[2].v.Hrzn.v=233-iY*48;f[2].v.Vrtc.v=233+iY*10;return j.Gh.Tr(f,J)}var C=L(Math.abs(N)/100,J);if(N<0){var M=[],y=1/J;
for(var c=0;c<J;c++){var Q=c*y,k=c;while(C[k]>Q&&k>1)k--;M[c]=k*y}C=M}var E=new Uint8Array(J);for(var c=0;
c<J;c++){var _=Math.round((J-1)*C[c]);E[c]=Math.round(255*b[_])}p={type:a.om,Ut:E,nG:E,UM:E,Zu:!1,wh:!1}}}if(e=="levl"){var v=[],V,R,S,h,P,H;
for(var c=0;c<4;c++)v.push(jN.ps(A,c));V=-v[0][0]/255;R=1/(v[0][1]/255-v[0][0]/255);S=j.mV.multiply(j.mV.cD(R,R,R),j.mV.Nw(V,V,V));
h=j.mV.cD(1/(v[1][1]/255-v[1][0]/255),1/(v[2][1]/255-v[2][0]/255),1/(v[3][1]/255-v[3][0]/255));P=j.mV.Nw(-v[1][0]/255,-v[2][0]/255,-v[3][0]/255);
H=j.mV.multiply(h,P);var E=new j.js(256);for(var c=0;c<256;c++)E.o[c]=E.J[c]=E.k[c]=c;var U=1/(v[0][4]/100),X=1/(v[1][4]/100),x=1/(v[2][4]/100),K=1/(v[3][4]/100);
j.mV.transform(E,E,H);for(var c=0;c<256;c++){E.o[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.o[c]/255,X))));
E.J[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.J[c]/255,x))));E.k[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.k[c]/255,K))))}j.mV.transform(E,E,S);
for(var c=0;c<256;c++){E.o[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.o[c]/255,U))));E.J[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.J[c]/255,U))));
E.k[c]=Math.round(Math.max(0,Math.min(255,255*Math.pow(E.k[c]/255,U))))}V=v[0][2]/255;R=v[0][3]/255-v[0][2]/255;
S=j.mV.multiply(j.mV.Nw(V,V,V),j.mV.cD(R,R,R));h=j.mV.cD(v[1][3]/255-v[1][2]/255,v[2][3]/255-v[2][2]/255,v[3][3]/255-v[3][2]/255);
P=j.mV.Nw(v[1][2]/255,v[2][2]/255,v[3][2]/255);H=j.mV.multiply(P,h);j.mV.transform(E,E,j.mV.multiply(S,H));
p={type:a.om,Ut:E.o,nG:E.J,UM:E.k,Zu:!1,wh:!1}}if(e=="curv"){var T=fi.ps(A,0).length==256?1:0,I=[];if(T==0){var o=j.Gh._I(fi.ps(A,0),256);
for(var c=1;c<4;c++){var l=j.Gh._I(fi.ps(A,c),256);I.push(j.Gh.rG(l,o))}}else{var O=[];for(var c=0;c<4;
c++){var g=new Uint8Array(256);O.push(g);var W=fi.ps(A,c);for(var k=0;k<256;k++)g[k]=W[k]}for(var c=1;
c<4;c++)I.push(j.Gh.rG(O[c],O[0]))}p={type:a.om,Ut:I[0],nG:I[1],UM:I[2],Zu:!1,wh:!1}}if(e=="expA"){var d=A.Exps,gT=A.Ofst,r=A.gammaCorrection,G=d?d.v:0,Y=gT?gT.v:0,fk=r?r.v:1,E=new Uint8Array(256);
for(var c=0;c<256;c++){var A=c/255,eJ=Math.pow(Math.abs(Y),1/(Math.PI/2));if(Y>0){A=Math.max(Y/Math.E,A);
A=A*Math.exp(Y/1.75+G/Math.PI);A=(1-eJ)*A+eJ*1}else{A=A*Math.exp(-Y*1.75+G/Math.PI);A=A+-eJ*1.14}A=Math.pow(A,1/fk);
A=Math.max(0,Math.min(1,A));E[c]=Math.round(A*255)}p={type:a.om,Ut:E,nG:E,UM:E,Zu:!1,wh:!1}}if(e=="vibA"){var eS=(A.vibrance?A.vibrance.v:0)/100,gL=(A.Strt?A.Strt.v:0)/100,eJ=1+eS*(eS>0?.25:.5),cX=.8+.2/eJ;
p={type:a.Sw,hP:[eS,gL,cX,eJ]}}if(e=="hue2"){var kj=[],gq=[],iL=[],ew=A.Clrz?A.Clrz.v:!1;for(var c=0;
c<256;c++){kj[c]=c/255;gq[c]=0;iL[c]=0}var dk=g1.ps(A,0),j9=a7.op(dk[1]/100);if(ew){var fh=dk[0]/360;
for(var c=0;c<256;c++){kj[c]=fh;gq[c]=j9}}else{for(var c=0;c<256;c++){var g9=kj[c],k6=gq[c];kj[c]+=dk[0]/360;
for(var k=0;k<6;k++){var jx=g1.ps(A,k+1),fV=jx.e6,ao=jx.uf,eJ=0;for(var b8=1;b8<4;b8++)if(ao[b8]<ao[0])ao[b8]+=360;
var ke=ao[0],gj=ao[1],jf=ao[2],ay=ao[3],fz=g9*360;if(fz<ao[0])fz+=360;var ei=(fz-ke)/(gj-ke),hC=(fz-jf)/(ay-jf);
if(ei<0)eJ=0;else if(ei<1)eJ=ei;else if(hC<0)eJ=1;else if(hC<1)eJ=1-hC;else eJ=0;var D=a7.op(fV[1]/100);
kj[c]+=eJ*fV[0]/360;gq[c]+=eJ*D;iL[c]+=eJ*fV[2]/100}}for(var c=0;c<256;c++){gq[c]=(1+gq[c])*(1+j9)-1;
iL[c]=Math.max(-1,Math.min(1,iL[c]))}}var iI=new Uint8Array(256),gQ=new Uint8Array(256),cb=new Uint8Array(256);
for(var c=0;c<256;c++){var dK=kj[c],gL=gq[c],ha=iL[c];if(dK>1)dK--;if(dK<0)dK++;gL=a7.auU(gL);gL=(1+gL)*.5;
ha=(1+ha)*.5;iI[c]=Math.round(255*dK);gQ[c]=Math.round(255*gL);cb[c]=Math.round(255*ha)}var hA=dk[2]/100,dW=hA<0?-hA:hA,fN=hA<0?0:1;
p={type:a.u$,aqS:iI,x8:gQ,a2p:cb,ap0:dW*fN,YJ:1-dW,a71:dk[2]/100,abk:ew?1:0}}if(e=="nvrt"){var E=new Uint8Array(256);
for(var c=0;c<256;c++)E[c]=255-c;p={type:a.om,Ut:E,nG:E,UM:E,Zu:!1,wh:!1}}if(e=="post"){var cQ=A.Lvls.v,E=new Uint8Array(256),eJ=cQ/255.001,h6=255/(cQ-1);
for(var c=0;c<256;c++)E[c]=Math.floor(c*eJ)*h6;p={type:a.om,Ut:E,nG:E,UM:E,Zu:!1,wh:!1}}if(e=="grdm"){var hh=A.Grad.v,bA=A.Rvrs,J=1024,co;
if(hh.Clrs){var ej=j.M.nA(hh,0,0);co=j.M.P2(hh,ej,J,bA?bA.v:!1)}else{co=j.M.RB(hh,J,bA?bA.v:!1)}var bk=j.Q(J),h5=j.Q(J),bg=j.Q(J);
j.kI(co,bk,0);j.kI(co,h5,1);j.kI(co,bg,2);p={type:a.om,Ut:bk,nG:h5,UM:bg,Zu:!0,wh:!1}}if(e=="selc"){var aQ=new Float32Array(9*3*2),fw=A.NF,jC=A.Mthd?A.Mthd.v.CrcM=="Absl":!1;
for(var k=0;k<9;k++){var e0=k*6,eU=bt.ps(A,k),iV=eU[0]/100,kh=eU[1]/100,hT=eU[2]/100,gi=eU[3]/100;if(jC){aQ[e0]=aQ[e0+1]=aQ[e0+2]=1;
aQ[e0+3]=iV*(1+gi)+gi;aQ[e0+4]=kh*(1+gi)+gi;aQ[e0+5]=hT*(1+gi)+gi}else{aQ[e0+0]=(1+iV)*(1+gi);aQ[e0+1]=(1+kh)*(1+gi);
aQ[e0+2]=(1+hT)*(1+gi)}}p={type:a.at,ahB:aQ}}if(e=="blwh"){var bD="Rd Yllw Grn Cyn Bl Mgnt".split(" "),p=[],ad=0,aS=0;
for(var c=0;c<6;c++)p.push(A[bD[c]].v);p.push(A.useTint.v,A.tintColor.v);var kt=[];for(var c=0;c<6;c++)kt.push((p[c]-50)/50);
var iJ=j.M.kq(p[7]);iJ.o/=255;iJ.J/=255;iJ.k/=255;var ih=j.RR(iJ.o,iJ.J,iJ.k),ha=j.UQ(j.bl(ih.Ps,1,.5)),fr=ih.PV*ih.HG;
if(ha==.5)ad=aS=.5;else{ad=fr*(.5-ha)/(.5/ha-1);aS=1-fr*(.5-ha)-1/(2*(1-ha));aS/=1-1/(2*(1-ha))}p={type:a.Wz,atx:kt,so:p[6]?1:0,aa6:ih.Ps,UQ:ha,auJ:fr,rO:ad,a0e:aS}}if(e=="blnc"){var v=[],cD=["ShdL","MdtL","HghL"];
for(var c=0;c<3;c++){if(A[cD[c]]==null){v[c]=[0,0,0];continue}var cQ=A[cD[c]].v,dR=cQ[0].v/100,cz=cQ[1].v/100,b0=cQ[2].v/100,jT=A.PrsL==null||A.PrsL.v?(Math.min(dR,cz,b0)+Math.max(dR,cz,b0))/2:0;
v[c]=[dR-jT,cz-jT,b0-jT]}var I=[j.Q(256),j.Q(256),j.Q(256)];for(var k=0;k<3;k++)for(var c=0;c<256;c++){var Q=c*(1/255),bW=0,w=0,aU=0;
w=v[2][k];aU=Math.abs(w);if(w<0)bW=Math.pow(Q,Math.SQRT2);else bW=1.63*(Math.pow(Q+.04,.5)-.2);Q=aU*bW+(1-aU)*Q;
w=v[1][k];aU=Math.abs(w);if(w<0)bW=Math.pow(Q,2);else bW=Math.min(2.35*(Math.pow(Q+.09,.5)-.3),Math.pow(Q,1/2));
Q=aU*bW+(1-aU)*Q;w=v[0][k];aU=Math.abs(w);if(w<0)bW=Q<.4?0:Math.pow((Q-.4)/.6,Math.SQRT2);else bW=Math.pow(Q,Math.SQRT2/2);
Q=aU*bW+(1-aU)*Q;Q=Math.max(0,Math.min(1,Q));I[k][c]=Math.round(Q*255)}p={type:a.om,Ut:I[0],nG:I[1],UM:I[2],Zu:!1,wh:!1}}if(e=="phfl"){var ff=j.M.kq(A.Clr.v),ca=[ff.o/255,ff.J/255,ff.k/255],cT=A.Dnst.v/100,I=[j.Q(256),j.Q(256),j.Q(256)];
for(var k=0;k<3;k++)for(var c=0;c<256;c++){var Q=c*(1/255),b3=Q*ca[k];b3=Math.max(0,Math.min(1,b3));
Q=cT*b3+(1-cT)*Q;I[k][c]=Math.round(Q*255)}p={type:a.om,Ut:I[0],nG:I[1],UM:I[2],Zu:!1,wh:A.PrsL.v}}if(e=="thrs"){var E=j.Q(256);
for(var c=A.Lvl.v;c<256;c++)E[c]=255;p={type:a.om,Ut:E,nG:E,UM:E,Zu:!0,wh:!1}}if(e=="mixr"){var hK=a7.zY(A),$=[];
for(var c=0;c<hK.Z.length;c++)if(c%5!=3)$.push(hK.Z[c]/100);if(hK.cX){for(var cS=1;cS<3;cS++)for(var Q=0;
Q<4;Q++)$[cS*4+Q]=$[Q]}p={type:a.BU,_T:$}}if(e=="rplc"){var e3=A.Mnm.v,j8=A.Mxm.v;p={type:a.UC,z$:[e3.Lmnc.v,e3.A.v,e3.B.v],el:[j8.Lmnc.v,j8.A.v,j8.B.v],shift:[A.H.v/360,A.Strt.v/100,A.Lght.v/100],GR:A.Fzns.v/150}}if(e=="clrL"&&A.profile){var jd=new Uint8Array(A.profile.v),eX=ICC.R(jd.buffer),h4=[],ky=17,h4=ICC.U.sampleLUT(eX,ky);
p={type:a.Ue,bD:ICC.U.lutToRGBA8(h4,ky),ai1:h4,lm:ky}}return p};a7.eF=function(e,A){var a=-1;if(e!="levl"||A==null)a=-1;
else if(A.Auto)a=0;else if(A.AuCo)a=1;else if(A.autoBlackWhite)a=2;return a};a7.O6={om:0,u$:1,Sw:2,at:3,Wz:4,BU:5,UC:6,Ue:7};
a7.op=function(e){if(e<0)return e;return Math.pow(Math.tan(Math.PI/2*e),1.3)};a7.auU=function(e){if(e<0)return e;
e=Math.pow(e,1/1.3);return Math.atan2(e,1)/(Math.PI/2)};a7.Eo=function(e,A,a,p){var N=a7.O6,i=Date.now();
if(fG.Jg&&p.O()>300*300&&e.type!=N.om&&e.type!=N.Ue){p=p.clone();p.x=p.y=0;var Z=fG.D9(0,p.m,p.n);Z.set(A);
fG.Wb(Z,p);Z.ll(p);a7.Sk(e,Z.mY,p);Z.get(a);return}if(e.type==N.Ue){var s=e.ai1,D=e.lm;ICC.U.applyLUT(s,D,A,a);
var n=A.length;for(var c=0;c<n;c+=4)a[c+3]=A[c+3]}if(e.type==N.BU)j.mV.q8(A,a,e._T);if(e.type==N.Wz){var S=e.auJ,F=e.UQ,$=e.rO,m=e.a0e,n=A.length;
for(var c=0;c<n;c+=4){var p=A[c]*(1/255),J=A[c+1]*(1/255),w=A[c+2]*(1/255),f=j.fv(p,J,w),b=0;for(var L=0;
L<6;L++)b+=Math.min(1,1.7*(1-f.T3))*f.PV*e.atx[L]*a7.a8h(f.Ps,L*(1/6));var C=Math.max(0,Math.min(1,f.T3*(1+b)));
if(e.so==1){var M=0;if(C<$)M=C*(.5/F);else if(C<m)M=C+S*(.5-F);else M=1-(1-C)*.5/(1-F);f.Ps=e.aa6;f.PV=Math.min(1,S+3*S*Math.abs(C-.5*($+m)));
f.T3=M}else{f.Ps=0;f.PV=0;f.T3=C}var y=j.bl(f.Ps,f.PV,f.T3);a[c]=Math.round(y.o*255);a[c+1]=Math.round(y.J*255);
a[c+2]=Math.round(y.k*255)}}if(e.type==N.at){var Q=e.ahB,n=A.length,k=1/255;for(var c=0;c<n;c+=4){var p=A[c]*k,J=A[c+1]*k,w=A[c+2]*k,f=j.fv(p,J,w),E=Math.max(p,Math.max(J,w)),_=Math.min(p,Math.min(J,w)),v=1-p,V=1-J,R=1-w,h=0,P=0,H=0;
for(var L=0;L<9;L++){var U=L*6,T=0;if(Q[U]==1&&Q[U+1]==1&&Q[U+2]==1&&Q[U+3]==0&&Q[U+4]==0&&Q[U+5]==0)continue;
var X=v*Q[U]+Q[U+3],x=V*Q[U+1]+Q[U+4],K=R*Q[U+2]+Q[U+5];if(L<6)T=a7.a8h(f.Ps,L*(1/6))*f.PV*2*Math.min(f.T3,1-f.T3);
else if(L==6)T=Math.max(0,_-.5)*2;else if(L==7)T=1-(Math.abs(E-.5)+Math.abs(_-.5));else T=Math.max(0,.5-E)*2;
h+=(Math.max(0,Math.min(1,X))-v)*T;P+=(Math.max(0,Math.min(1,x))-V)*T;H+=(Math.max(0,Math.min(1,K))-R)*T}v=Math.max(0,Math.min(1,v+h));
V=Math.max(0,Math.min(1,V+P));R=Math.max(0,Math.min(1,R+H));p=1-v;J=1-V;w=1-R;a[c]=Math.round(p*255);
a[c+1]=Math.round(J*255);a[c+2]=Math.round(w*255)}}if(e.type==N.om){j.av1(A,a,e.Ut,e.nG,e.UM,e.Zu,e.wh)}if(e.type==N.u$){var I=new Uint32Array(A.buffer),o=new Uint32Array(a.buffer),n=I.length;
if(a7.co==null){a7.co=new Float64Array(256);for(var c=0;c<256;c++)a7.co[c]=a7.op(-1+2*c/255)}var l=a7.co;
for(var c=0;c<n;c++){var O=I[c],p=(O&255)*(1/255),J=(O>>>8&255)*(1/255),w=(O>>>16&255)*(1/255),g=O>>>24,W=Math.min(p,J,w),d=Math.max(p,J,w),gT=0,r=0,G=0;
gT=j.fv(p,J,w).Ps;var Y=~~(gT*255+.5),fk=e.aqS[Y]*(1/255),eJ=e.x8[Y]*(1/255)*2-1,eS=e.a2p[Y]*(1/255)*2-1,b=-eS,gL=W;
if(0<eS){b=eS;gL=d}var cX=e.ap0+e.YJ*b*gL,kj=e.YJ*(1-b);p=cX+kj*p;J=cX+kj*J;w=cX+kj*w;d=Math.max(p,J,w);
W=Math.min(p,J,w);G=(d+W)*.5;if(d!=W){var gq=d-W;r=G>.5?gq/(2-(d+W)):gq/(d+W)}var iL=eJ;if(e.abk==0){eJ=l[Math.floor((1+eJ)*127.5)];
iL=Math.min(r*(1+eJ),1)}var y=j.bl(fk,iL,G);p=y.o;J=y.J;w=y.k;o[c]=g<<24|w*255<<16|J*255<<8|p*255}}if(e.type==N.UC){j.GZ(A,a);
var I=new Uint32Array(A.buffer),o=new Uint32Array(a.buffer),n=I.length,ew=e.GR,dk=1/ew,j9={SA:e.z$[0],gg:e.z$[1],k:e.z$[2]},fh={SA:e.el[0],gg:e.el[1],k:e.el[2]};
for(var c=0;c<n;c++){var O=I[c],g9=O&255,k6=O>>>8&255,jx=O>>>16&255,p=g9*(1/255),J=k6*(1/255),w=jx*(1/255),g=O>>>24,fV=j.v_(g9,k6,jx),ao=j.W2(fV,j9,fh,ew,dk);
if(ao==0)continue;var f=j.fv(p,J,w),fk=2+f.Ps+e.shift[0];f.Ps=fk-~~fk;f.PV=Math.max(0,Math.min(1,f.PV+e.shift[1]));
f.T3=Math.max(0,Math.min(1,f.T3+e.shift[2]));var y=j.bl(f.Ps,f.PV,f.T3);p=(1-ao)*p+ao*y.o;J=(1-ao)*J+ao*y.J;
w=(1-ao)*w+ao*y.k;o[c]=g<<24|w*255<<16|J*255<<8|p*255}}if(e.type==N.Sw){var I=new Uint32Array(A.buffer),o=new Uint32Array(a.buffer),n=I.length,b8=e.hP[0],ke=e.hP[1],gj=e.hP[2],b=e.hP[3],jf=j.mV.HZ([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),ay=j.mV.rQ(jf),fz=2.4;
function D(cb){return Math.max(0,Math.min(1,cb))}function ei(cb){return Math.pow(cb,fz)}function hC(cb){return Math.pow(cb,1/fz)}function iI(p,J,w,cb){p=ei(p);
J=ei(J);w=ei(w);var dK=j.mV._f(jf,[p,J,w,1]);dK[0]*=gj;dK[1]*=b;dK[2]*=b;var y=j.mV._f(ay,dK);y[0]=hC(D(y[0]));
y[1]=hC(D(y[1]));y[2]=hC(D(y[2]));return y}for(var c=0;c<n;c++){var O=I[c],p=(O&255)*(1/255),J=(O>>>8&255)*(1/255),w=(O>>>16&255)*(1/255),g=O>>>24,y=iI(p,J,w,b8);
p=y[0];J=y[1];w=y[2];var gQ=j.fv(p,J,w);gQ.PV=Math.max(0,Math.min(1,gQ.PV*(1+ke)));y=j.bl(gQ.Ps,gQ.PV,gQ.T3);
p=y.o;J=y.J;w=y.k;o[c]=g<<24|w*255<<16|J*255<<8|p*255}}};a7.Sk=function(e,A,a){fG.E$.Sk(e,A)};a7.a8h=function(e,A){var a=j.qU(A,e)*6;
return Math.max(0,Math.min(1,a<0?1+a:1-a))};var hZ={};hZ.tp=function(e){var A=e.filterID.v;return A>16777215?z.ajC(A):e.Fltr.v.classID};
hZ.Ii=[{yJ:"GEfc"},{yJ:"LnCr"},{yJ:"Adobe Camera Raw Filter"},{yJ:"LqFy",ks:!0},{Ug:"3D",bS:["lightFilterGradient","Dila"]},{Ug:[24,2],bS:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{Ug:[24,4],bS:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{Ug:[24,6],bS:["AdNs","Dspc","DstS","Mdn ","denoise"]},{Ug:[24,8],bS:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{Ug:[24,10],bS:["Flam","Clds","DfrC","Fbrs","LnsF"]},{Ug:[24,12],bS:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{Ug:[24,14],bS:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{Ug:[24,16],bS:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{Ug:"Fourier",bS:["dDFT","iDFT"]}];
hZ.Li={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
hZ.CY={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",BrightnessContrast:"brit"};
hZ.a={rigidTransform:q.WS};hZ.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
hZ.T$=function(e){var A=null;if(e=="GEfc")A={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:eN.T$("GlwE")}]}};
if(e=="LqFy"){var a={SB:5,Ps:5,map:new Float32Array(5*5*2)},p=new Uint8Array(j_.Yq(a)),N=[];for(var c=0;
c<p.length;c++)N.push(p[c]);A={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:N}}}if(e=="rigidTransform"){A={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(e=="LnCr")A={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(e=="adaptCorrect")A={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(e=="Dfs ")A={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(e=="Fbrs")A={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(e=="Embs")A={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(e=="oilPaint")A={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(e=="TrcC")A={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(e=="Wnd ")A={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(e=="lightFilterGradient")A={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(e=="boxblur")A={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(e=="GsnB")A={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(e=="Bokh")A={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(e=="MtnB")A={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(e=="RdlB")A={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(e=="surfaceBlur")A={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(e=="denoise")A={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(e=="Dspl")A={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(e=="Pnch")A={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(e=="Plr ")A={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(e=="Rple")A={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(e=="Shr ")A={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(e=="Sphr")A={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(e=="Twrl")A={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(e=="Wave")A={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(e=="ZgZg")A={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(e=="AdNs")A={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(e=="DstS")A={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(e=="Mdn ")A={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(e=="ClrH")A={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(e=="Crst")A={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(e=="Mztn")A={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(e=="Msc ")A={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(e=="Pntl")A={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(e=="LnsF")A={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(e=="Dthr")A={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(e=="Part")A={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(e=="Adobe Camera Raw Filter")A={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(e=="smartSharpen")A={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(e=="UnsM")A={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(e=="HghP")A={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(e=="HsbP")A={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(e=="Mxm ")A={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(e=="Mnm ")A={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(e=="Ofst")A={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(e=="Kale")A={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(e=="Rept")A={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(e=="Flam")A={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(e=="Ctoa")A={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(e=="brit")A={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(e=="levl")A={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(e=="curv")A={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(e=="expA")A={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(e=="vibA")A={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(e=="hue2")A={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(e=="blnc")A={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(e=="blwh")A={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(e=="phfl")A={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(e=="grdm")A={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(iF.lZ[6]).Grad};
if(e=="selc")A={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(e=="thrs")A={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(e=="mixr")A={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(e=="clrL")A={__name:"Color Lookup",classID:"colorLookup"};if(e=="post")A={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(e=="rplc")A={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(e=="fade")A={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(e=="aply")A={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(e=="matc"){A={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(e=="Dila")A={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(e=="blendOptions")A={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return A};hZ.kB={sFlam:function(e,A){A[0]=e.Type.v;A[1]=e.Leng.v;A[2]=e.RndL.v;A[3]=e.Widt.v;A[4]=e.Angl.v;
A[5]=e.Intr.v;A[6]=e.Adpt.v;A[7]=e.Clr.v;A[8]=e.Qual.v;A[9]=e.Turb.v;A[10]=e.Jag.v;A[11]=e.Opct.v.val;
A[12]=e.Lins.v;A[13]=e.Botm.v;A[14]=e.Styl.v;A[15]=e.Shap.v;A[16]=e.RnSh.v;A[17]=e.Arng.v},gFlam:function(e,A){e.Type.v=A[0];
e.Leng.v=A[1];e.RndL.v=A[2];e.Widt.v=A[3];e.Angl.v=A[4];e.Intr.v=A[5];e.Adpt.v=A[6];e.Clr.v=A[7];e.Qual.v=A[8];
e.Turb.v=A[9];e.Jag.v=A[10];e.Opct.v.val=A[11];e.Lins.v=A[12];e.Botm.v=A[13];e.Styl.v=A[14];e.Shap.v=A[15];
e.RnSh.v=A[16];e.Arng.v=A[17]},sAdNs:function(e,A){A[0]=e.Nose.v.val;A[1]=["Gsn","Unfr"].indexOf(e.Dstr.v.Dstr);
A[2]=e.Mnch.v},gAdNs:function(e,A){e.Nose.v.val=A[0];e.Dstr.v.Dstr=["Gsn","Unfr"][A[1]];e.Mnch.v=A[2]},sDstS:function(e,A){A[0]=e.Rds.v;
A[1]=e.Thsh.v},gDstS:function(e,A){e.Rds.v=A[0];e.Thsh.v=A[1]},sGsnB:function(e,A){A[0]=e.Rds.v.val},gGsnB:function(e,A){e.Rds.v.val=A[0]},sDila:function(e,A){A[0]=e.Crop.v.val;
A[1]=e.Rds.v.val},gDila:function(e,A){e.Crop.v.val=A[0];e.Rds.v.val=A[1]},sHghP:function(e,A){A[0]=e.Rds.v.val},gHghP:function(e,A){e.Rds.v.val=A[0]},sHsbP:function(e,A){var a=["RGBC","HSBl","HSLC"];
A[0]=a.indexOf(e.Inpt.v.ClrS);A[1]=a.indexOf(e.Otpt.v.ClrS)},gHsbP:function(e,A){var a=["RGBC","HSBl","HSLC"];
e.Inpt.v.ClrS=a[A[0]];e.Otpt.v.ClrS=a[A[1]]},"sMxm ":function(e,A){var a="preserveShape";A[0]=e.Rds.v.val;
A[1]=e[a]?["squareness","Rndn"].indexOf(e[a].v[a]):0},"gMxm ":function(e,A){var a="preserveShape";e.Rds.v.val=A[0];
e[a]={t:"enum",v:{preserveShape:["squareness","Rndn"][A[1]]}}},"sMnm ":function(e,A){var a="preserveShape";
A[0]=e.Rds.v.val;A[1]=e[a]?["squareness","Rndn"].indexOf(e[a].v[a]):0},"gMnm ":function(e,A){var a="preserveShape";
e.Rds.v.val=A[0];e[a]={t:"enum",v:{preserveShape:["squareness","Rndn"][A[1]]}}},sMtnB:function(e,A){A[0]=[e.Angl.v];
A[1]=e.Dstn.v.val;console.log(A)},gMtnB:function(e,A){e.Angl.v=typeof A[0]=="number"?A[0]:A[0][0];e.Dstn.v.val=A[1]},sOfst:function(e,A){A[0]=e.Hrzn.v;
A[1]=e.Vrtc.v;A[2]=["Rpt","Bckg","Wrp"].indexOf(e.Fl.v.FlMd)},gOfst:function(e,A){e.Hrzn.v=A[0];e.Vrtc.v=A[1];
e.Fl.v.FlMd=["Rpt","Bckg","Wrp"][A[2]]},sPnch:function(e,A){A[0]=e.Amnt.v},gPnch:function(e,A){e.Amnt.v=A[0]},"sPlr ":function(e,A){A[0]=["RctP","PlrR"].indexOf(e.Cnvr.v.Cnvr)},"gPlr ":function(e,A){e.Cnvr.v.Cnvr=["RctP","PlrR"][A[0]]},sRple:function(e,A){A[0]=e.Amnt.v;
A[1]=["Sml","Mdm","Lrg"].indexOf(e.RplS.v.RplS)},gRple:function(e,A){e.Amnt.v=A[0];e.RplS.v.RplS=["Sml","Mdm","Lrg"][A[1]]},sTwrl:function(e,A){A[0]=e.Angl.v},gTwrl:function(e,A){e.Angl.v=A[0]},sZgZg:function(e,A){A[0]=e.Amnt.v;
A[1]=e.NmbR.v;A[2]=["ArnC","OtFr","PndR"].indexOf(e.ZZTy.v.ZZTy)},gZgZg:function(e,A){e.Amnt.v=A[0];
e.NmbR.v=A[1];e.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][A[2]]},sUnsM:function(e,A){A[0]=e.Amnt.v.val;A[1]=e.Rds.v.val;
A[2]=e.Thsh.v},gUnsM:function(e,A){e.Amnt.v.val=A[0];e.Rds.v.val=A[1];e.Thsh.v=A[2]},sWave:function(e,A){A[0]=e.NmbG.v;
A[1]=e.WLMn.v;A[2]=e.WLMx.v;A[3]=e.AmMn.v;A[4]=e.AmMx.v;A[5]=e.SclH.v;A[6]=e.SclV.v;A[7]=["WvSn","WvTr","WvSq"].indexOf(e.Wvtp.v.Wvtp);
A[8]=["WrpA","RptE"].indexOf(e.UndA.v.UndA);A[9]=e.RndS.v},gWave:function(e,A){e.NmbG.v=A[0];e.WLMn.v=A[1];
e.WLMx.v=A[2];e.AmMn.v=A[3];e.AmMx.v=A[4];e.SclH.v=A[5];e.SclV.v=A[6];e.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][A[7]];
e.UndA.v.UndA=["WrpA","RptE"][A[8]];if(A[9]!=null){var a=parseInt(A[9]);if(isNaN(a))a=248325464;a=Math.max(0,Math.min(268435455,a));
e.RndS.v=a}},sbrit:function(e,A){A[0]=e.Brgh?e.Brgh.v:0;A[1]=e.Cntr?e.Cntr.v:0;A[2]=e.useLegacy?e.useLegacy.v:!1},gbrit:function(e,A){e.Brgh.v=A[0];
e.Cntr.v=A[1];if(A[2]!=null)e.useLegacy.v=A[2]}};hZ.aos=function(e){var A=new k7(0,0);if(e.enab.v==!1)return A;
var a=e.filterFXList.v;for(var c=0;c<a.length;c++){var p=a[c].v;if(p.enab.v==!1)continue;var N=hZ.tp(p),i=hZ.xJ(N,p.Fltr?p.Fltr.v:null);
if(i.x>A.x)A.x=i.x;if(i.y>A.y)A.y=i.y}return A};hZ.xJ=function(e,A){var a=0,p=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(e)!=-1){var N=A.Rds?A.Rds.v.val:1;
a=p=N*2.57}if(e=="MtnB")a=p=A.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(e)!=-1){a=p=1e4}if(e=="GEfc")return eN.xJ(A);
return new k7(Math.ceil(a),Math.ceil(p))};hZ.Iu=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
hZ.R3=function(e,A){var a={o:A.lM>>16,J:A.lM>>8&255,k:A.lM&255},p={o:A.dG>>16,J:A.dG>>8&255,k:A.dG&255},N=hZ.names[e];
if(N==null)N=a7.names[e];var i=e;for(var Z in a7.Dn)if(a7.Dn[Z]==e)i=Z;var s={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:i1.get(N)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:j.M.yN(a)},BckC:{t:"Objc",v:j.M.yN(p)},filterID:{t:"long",v:i.length==4?z.aw1(i):777}}},D=hZ.T$(e);
if(D)s.v.Fltr={t:"Objc",v:D};return s};hZ.d1=function(e,A,a,p){var N=Date.now(),i=fG.Jg&&Math.max(p.m,p.n)<=fG.Ae.getParameter(fG.Ae.MAX_TEXTURE_SIZE);
if(e<1){var Z=Math.round(e*5),s=[1,2,1,2,[40,26,13,6,4,2][Z],2,1,2,1];s=j.N_.ZB(s);if(!i){j.QM(a);var D=a.slice(0);
j.N_.LP(D,a,p.m,p.n,s,255);j.iG(a)}else{var n=p.m,S=p.n,F=fG.D9(0,n,S);F.set(a);var $=fG.D9(1,n,S),m=new Float32Array([1/n,1/S]);
fG.Wb($);fG.filter.Sk({type:fG.filter.a0x,C1:m,ayZ:new Float32Array(s)},F.NV);$.get(a)}}else{var J=A==j.Vr.o3?0:A==j.Vr.dB?1:2,w=[];
while(J!=2&&e*[1,2.4][J]>20&&w.length<4){var f=j.DZ(a,p);w.push(a,p);a=f.Qi;p=f.rect;e/=2}var n=p.m,S=p.n;
if(!i||J==2&&e>15){j.QM(a);A(a,p,e);j.iG(a)}else{var F=fG.D9(0,n,S);F.set(a);var $=fG.D9(1,n,S),m=new Float32Array([1/n,1/S]);
if(J==0){var b=1;while(b<e)b<<=1;fG.Wb($);fG.filter.Sk({type:fG.filter.To,C1:m,vD:e,KO:[0,0,b]},F.NV);
fG.Wb(F);fG.filter.Sk({type:fG.filter.To,C1:m,vD:e,KO:[0,1,b]},$.NV);F.get(a)}else if(J==1){var L=3,C=j.Vr.ja(e,L);
for(var c=0;c<L;c++){var M=C[c]>>>1,y=1;while(y<M)y<<=1;if(M==0)continue;fG.Wb($);fG.filter.Sk({type:fG.filter.To,C1:m,vD:M,KO:[0,0,y]},F.NV);
fG.Wb(F);fG.filter.Sk({type:fG.filter.To,C1:m,vD:M,KO:[0,1,y]},$.NV)}F.get(a)}else{var b=1;while(b<e)b<<=1;
fG.Wb($);fG.filter.Sk({type:fG.filter.To,C1:m,vD:e,KO:[0,0,b]},F.NV);$.get(a)}}var Q=Date.now();while(w.length!=0){var k=w.pop(),E=w.pop();
j.scale.as4(a,p.m,p.n,E,k.m,k.n);a=E;p=k}}};hZ.a8c=function(e,A,a,p){for(var c=0;c<e.length;c++){a[c]=e[c]*(1/255);
p[c]=0}FFT.fft2d(a,p);var N=A>>>1,i=16384,Z=128,D=100;while(Z<A){Z<<=1;i<<=2}var s=255/Math.log(i),n=-100;
for(var S=0;S<A;S++)for(var F=0;F<N;F++){var $=A+N+S&A-1,m=a[$*A+F],J=p[$*A+F],w=Math.sqrt(m*m+J*J),f=Math.atan2(J,m);
e[S*A+F]=Math.round(s*Math.log(w+1));e[S*A+N+F]=Math.round((Math.PI+f)*(255*.5/Math.PI))}};hZ.akb=function(e,A,a,p){a.fill(0);
p.fill(0);var N=A>>>1,i=16384,Z=128;while(Z<A){Z<<=1;i<<=2}var s=255/Math.log(i),D=[],n=[],S=[];for(var c=0;
c<256;c++){D[c]=Math.exp(c/s)-1;var F=c*(2*Math.PI/255)-Math.PI;n[c]=Math.sin(F);S[c]=Math.cos(F)}for(var $=0;
$<A;$++)for(var m=0;m<N;m++){var J=A+N+$&A-1,w=D[e[$*A+m]],F=e[$*A+N+m],f=w*S[F],b=w*n[F];a[J*A+m]=f;
p[J*A+m]=b;if(m!=0){var L=J==0?J*A+A-m:(A-J)*A+(A-m);a[L]=f;p[L]=-b}}FFT.ifft2d(a,p);for(var c=0;c<e.length;
c++){e[c]=Math.max(0,Math.min(255,~~(.5+255*a[c])))}};hZ.ayT=new ArrayBuffer(512);hZ.arV=function(e){var A=hZ.ayT,a=e.length;
if(A.byteLength<a)hZ.ayT=A=new ArrayBuffer(a);var p=new Uint8Array(A);for(var c=0;c<a;c+=4){p[c]=e[c];
p[c+1]=e[c+1];p[c+2]=e[c+2];p[c+3]=e[c+3]}return A};hZ.Eo=function(e,A,a,p,N,i,Z){if(i==null)i={buffer:j.Q(A.buffer.length),rect:A.rect.clone()};
i.buffer.set(A.buffer);var s=a&&a.RndS?a.RndS.v>>>1:0;if(e=="GEfc"){var D=[];if(a.GEfs){var n=a.GEfs.v;
for(var c=0;c<n.length;c++){var S=n[c].v;if(S.GELv&&S.GELv.v==!1)continue;D.push(S)}}else D=[a];for(var c=0;
c<D.length;c++){var F;if(c==0)eN.Eo(e,A,D[c],p,N,i,Z);else{if(F==null)F={buffer:j.Q(A.buffer.length),rect:A.rect.clone()};
j.GZ(i.buffer,F.buffer);eN.Eo(e,F,D[c],p,N,i,Z)}}}if(e=="Dila"){var $=a.Crop.v.val,m=a.Rds.v.val+$;m=m*m;
if(m==0)return;var J=A.rect,w=J.m,f=J.n,b=w*f,L=A.buffer,F=i.buffer,C=j.Q(b);j.kI(L,C,3);if($!=0){var M=J.clone();
M.Fu(1,1);var y=j.Q(M.O());j.WP(C,J,y,M);j.rQ(y);j.style.stroke(y,y,M,$);j.rQ(y);j.WP(y,M,C,J)}var Q=j.style.PZ(C,w,f);
F.fill(0);for(var k=0;k<f;k++)for(var E=0;E<w;E++){var c=k*w+E,_=c<<1,v=c<<2,V=Q[_],R=Q[_+1];if(V*V+R*R<m){var h=(k+R)*w+(E+V)<<2;
F[v]=L[h];F[v+1]=L[h+1];F[v+2]=L[h+2];F[v+3]=255}}}if(e=="Adobe Camera Raw Filter"){var J=A.rect,w=J.m,f=J.n,b=w*f,P=b*4,H=b*3,U=new Float32Array(w*f*3),X=A.buffer;
for(var c=0;c<b;c++){var x=c*3,v=c*4;U[x]=X[v]*(1/255);U[x+1]=X[v+1]*(1/255);U[x+2]=X[v+2]*(1/255)}var K=JSON.parse(JSON.stringify(a));
delete K.Upri;delete K.GuUr;var T=U.slice(0);e$(U,w,f,T,K);U=T;X=i.buffer;for(var c=0;c<b;c++){var x=c*3,v=c*4;
X[v]=255*Math.max(0,Math.min(1,U[x]));X[v+1]=255*Math.max(0,Math.min(1,U[x+1]));X[v+2]=255*Math.max(0,Math.min(1,U[x+2]))}}if(e=="Fct "){var J=A.rect,w=J.m,f=J.n,b=w*f,P=b*4;
function I(cF){var ay=cF.slice(0);for(var k=0;k<3;k++)for(var E=0;E<3;E++)ay[k*3+E]=cF[(2-E)*3+k];return ay}function o(bH,gW,eP,g2){var cK=0;
for(var k=0;k<3;k++)for(var E=0;E<3;E++)cK+=gW[k*3+E]*bH[(g2-1+k)*w+eP-1+E];return cK}var l=[8,5,2,5,2,-1,2,-1,-4],O=[5,5,5,2,2,2,-1,-1,-1],g=[2,2,2,2,2,2,2,2,2],W=[];
W.push(l);for(var c=0;c<3;c++)W.push(I(W[W.length-1]));W.push(O);for(var c=0;c<3;c++)W.push(I(W[W.length-1]));
W.push(g);for(var c=0;c<9;c++)W[c]=j.N_.ZB(W[c]);var d=[-w-1,-w,-w+1,-1,0,1,w-1,w,w+1],gT=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],r=j.Q(b),G=new Float32Array(b),T=j.Q(b);
for(var Y=0;Y<3;Y++){j.kI(A.buffer,r,Y);for(var fk=0;fk<1;fk++){for(var k=1;k<f-1;k++)for(var E=1;E<w-1;
E++){var eJ=k*w+E,eS=r[eJ];G[eJ]=1e9;for(var c=0;c<9;c++){var gL=o(r,W[c],E,k),cX=(gL-eS)*(gL-eS);if(cX<G[eJ])G[eJ]=cX}}for(var k=1;
k<f-1;k++)for(var E=1;E<w-1;E++){var kj=0,gq=1e9;for(var c=0;c<9;c++){var iL=k*w+E+d[c],cX=G[iL];if(cX<gq){gq=cX;
kj=r[iL]}}T[k*w+E]=kj}r.set(T)}j.Ao(T,i.buffer,Y)}}if(e=="adaptCorrect"){var J=A.rect,w=J.m,f=J.n,b=w*f,P=b*4,ew=a.sdwM.v,dk=ew.Amnt.v.val/100,j9=ew.Wdth.v.val/100,fh=ew.Rds.v,g9=a.hglM.v,k6=g9.Amnt.v.val/100,jx=g9.Wdth.v.val/100,ao=g9.Rds.v;
j.DF.H1(A.buffer,i.buffer,w,f,dk,j9,fh,k6,jx,ao,a.ClrC.v/100,a.Cntr.v/100)}if(e=="denoise"){var J=A.rect,w=J.m,f=J.n,b8=a.channelDenoise.v[0].v;
j.Dj.apk(A.buffer,w,f,i.buffer,b8.Amnt.v/10,b8.EdgF.v/100)}if(e=="HsbP"){var ke=a.Inpt.v.ClrS,gj=a.Otpt.v.ClrS,J=A.rect,w=J.m,f=J.n,b=w*f;
for(var c=0;c<b;c++){var v=c*4,fk=A.buffer[v]*(1/255),jf=A.buffer[v+1]*(1/255),ay=A.buffer[v+2]*(1/255);
if(ke=="RGBC"){}else if(ke=="HSLC"){var T=j.bl(fk,jf,ay);fk=T.o;jf=T.J;ay=T.k}else if(ke=="HSBl"){var T=j.anX(fk,jf,ay);
fk=T.o;jf=T.J;ay=T.k}var fz=fk,ei=jf,hC=ay;if(gj=="RGBC"){}else if(gj=="HSLC"){var T=j.fv(fk,jf,ay);
fz=T.Ps;ei=T.PV;hC=T.T3}else if(gj=="HSBl"){var T=j.Nm(fk,jf,ay);fz=T.Ps;ei=T.PV;hC=T.k}i.buffer[v]=~~(255*fz);
i.buffer[v+1]=~~(255*ei);i.buffer[v+2]=~~(255*hC)}}if(e=="Fbrs"){var J=A.rect,w=J.m,f=J.n;j._.tY(A.buffer,w,f,i.buffer,[a.Vrnc.v,a.Strg.v,s]);
var iI=j.Q(w*f);j.kI(i.buffer,iI,0);j.rQ(iI);eN.X5(iI,i.buffer,p,N)}if(e=="Frgm"){var J=A.rect,w=J.m,f=J.n,gQ=A.buffer.slice(0);
j.QM(gQ);j._.af1(gQ,w,f,i.buffer);j.iG(i.buffer)}if(e=="Flam"){var J=A.rect,w=J.m,f=J.n,cb=a.Clr.v,dK={type:a.Type.v+1,length:a.Leng.v,asI:a.RndL.v,rv:a.Widt.v,anZ:a.Angl.v,a6A:a.Intr.v,axN:a.Adpt.v,color:{o:cb.Rd.v,J:cb.Grn.v,k:cb.Bl.v},zM:a.Qual.v+1,w5:a.Turb.v,ky:a.Jag.v,opacity:a.Opct.v.val,TY:a.Lins.v,a22:a.Botm.v,style:a.Styl.v+1,shape:a.Shap.v+1,ayx:a.RnSh.v,ah0:a.Arng.v,afo:!1},ha=Z[3],hA=ha[0],dW=ha[1],fN=hA[dW.length!=0?dW[0]:0];
if(fN==null){alert("Make a path first");return}var cQ=fN.add.vmsk.i,h6=j.r.yP(cQ),hh=[];for(var h=0;
h<h6;h++){var bA=j.r.VS(cQ,h),co=cQ[bA];if(co.length<2)continue;var ej=[];hh.push(ej);var bk=co.length-(co.type==3?1:0);
for(var eJ=0;eJ<bk;eJ++){var h5=cQ[bA+1+eJ],bg=eJ==co.length-1?cQ[bA+1]:cQ[bA+1+eJ+1],aQ=h5.H,fw=h5.iD,l=bg.x3,jC=bg.H,e0=Math.round(k7.nR(aQ,jC)/5);
for(var eU=0;eU<e0;eU++){var iV=eU/e0,kh=1-iV,E=kh*kh*kh*aQ.x+3*kh*kh*iV*fw.x+3*kh*iV*iV*l.x+iV*iV*iV*jC.x,k=kh*kh*kh*aQ.y+3*kh*kh*iV*fw.y+3*kh*iV*iV*l.y+iV*iV*iV*jC.y;
ej.push(E,k)}}}var hT=[hh,dK],gi=Date.now(),bD=d0(hT);ep(A.buffer,w,f,i.buffer,bD,hT)}if(e=="Dfs "){var J=A.rect,w=J.m,f=J.n,kt=["Nrml","DrkO","LghO","anisotropic"].indexOf(a.Md.v.DfsM);
if(kt<3)j._.a2F(A.buffer,w,f,i.buffer,[kt]);else{var hT=[1.4,1.6,1,4,!1,2,[0,0,.001]],J=A.rect.clone();
J.x=J.y=0;j.Zc.filter(A.buffer,J,i.buffer,hT)}}if(e=="TrcC"){var J=A.rect,w=J.m,iJ=w<<2,f=J.n,ih=a.Lvl.v,fr=a.Edg.v.CntE=="Lwr",ad=A.buffer,aS=i.buffer;
j.fV(aS,16777215,4278190080);function cD(hM,fU){cz(hM,fU);cz(hM+1,fU+1);cz(hM+2,fU+2)}function dR(hM,fU){b0(hM,fU);
b0(hM+1,fU+1);b0(hM+2,fU+2)}function cz(hM,fU){var fz=ad[hM],ei=ad[fU];if(fz>=ih&&ei<ih)aS[hM]=0;if(fz<ih&&ei>=ih)aS[fU]=0}function b0(hM,fU){var fz=ad[hM],ei=ad[fU];
if(fz>ih&&ei<=ih)aS[fU]=0;if(fz<=ih&&ei>ih)aS[hM]=0}if(fr)for(var k=1;k<f;k++)for(var E=1;E<w;E++){var v=k*w+E<<2;
cD(v,v-4);cD(v,v-iJ)}else for(var k=1;k<f;k++)for(var E=1;E<w;E++){var v=k*w+E<<2;dR(v,v-4);dR(v,v-iJ)}}if(e=="Embs"){var J=A.rect,w=J.m,f=J.n,jT=-a.Angl.v*Math.PI/180,bW=a.Hght.v,aU=a.Amnt.v/100;
bW/=2;var V=Math.cos(jT)*bW,R=Math.sin(jT)*bW,ad=A.buffer,aS=i.buffer;aS.fill(0);var ff=new Uint32Array(ad.buffer),T=new Uint8Array(4),ca=new Uint32Array(T.buffer);
for(var k=0;k<f;k++)for(var E=0;E<w;E++){var cT=0,b3=0,hK=0;if(0<=E+V&&E+V<w&&0<=k+R&&k+R<f){j.K.Ay(E+V+.5,k+R+.5,ff,w,f,ca,0,0);
cT+=T[0]-128;b3+=T[1]-128;hK+=T[2]-128}if(0<=E-V&&E-V<w&&0<=k-R&&k-R<f){j.K.Ay(E-V+.5,k-R+.5,ff,w,f,ca,0,0);
cT-=T[0]-128;b3-=T[1]-128;hK-=T[2]-128}var v=k*w+E<<2;aS[v]=Math.max(0,Math.min(255,cT*aU+128));aS[v+1]=Math.max(0,Math.min(255,b3*aU+128));
aS[v+2]=Math.max(0,Math.min(255,hK*aU+128));aS[v+3]=ad[v+3]}}if(e=="ShrE"){var J=A.rect,w=J.m,f=J.n;
j._.awM(A.buffer,w,f,i.buffer)}if(e=="Dspc"){var J=A.rect,w=J.m,f=J.n;j._.azp(A.buffer,w,f,i.buffer)}if(e=="Slrz"){var cS=i.buffer,e3=128;
for(var c=0;c<cS.length;c+=4){if(cS[c]>e3)cS[c]=255-cS[c];if(cS[c+1]>e3)cS[c+1]=255-cS[c+1];if(cS[c+2]>e3)cS[c+2]=255-cS[c+2]}}if(e=="Wnd "){var J=A.rect,w=J.m,f=J.n,j8=["Wnd","Blst","Stgr"],jd=a.WndM.v.WndM;
j._.NY(A.buffer,w,f,i.buffer,[j8.indexOf(jd),a.Drct.v.Drct!="Left"])}if(e=="Bokh"){var J=A.rect,w=J.m,f=J.n,b=w*f,P=b*4,eX=A.buffer.slice(0),h4=a.BkDi.v.BtDi,ky=a.BkDc,iY=a.BkDs.v,iX=a.BkDp.v/255;
if(h4=="BeIn")iX=0;var h9=57*(.3+.7*((w+f)/2)/1750)*(a.BkIb.v/100)*(1+.2*Math.pow(iX,.1)),iM=parseInt(a.BkIs.v.BtIs.slice(3)),cY=-a.BkIr.v*Math.PI/180,fO=[];
for(var c=0;c<8;c++){var hf=cY+c*(Math.PI*2/iM),hQ=cY+(c+1)*(Math.PI*2/iM),aC=Math.cos(hf),ds=Math.sin(hf),e7=Math.cos(hQ),jv=Math.sin(hQ),ak=[0,0,0];
j._T.a2([[aC,ds,1,0],[e7,jv,1,0],[1,1,1,1]],ak);if(ak[2]>0){ak[0]*=-1;ak[1]*=-1;ak[2]*=-1}fO.push(ak[0],ak[1],ak[2],0)}if(h4=="BeIn"){j.fV(eX,0,16777215);
iX=1}else if(h4=="BeIt"&&ky.v.BtDc=="BeCt"){}else{var gs;if(h4=="BeIt"&&ky.v.BtDc=="BeCm")gs=Z[1];else if(h4=="BeIa")gs=Z[2][ky.v];
if(gs==null){j.fV(eX,0,16777215)}else{var r;if(gs.rect.Kx(J))r=gs.channel;else r=gs.wx(J);j.Ao(r,eX,3)}}if(iY)for(var c=0;
c<P;c+=4)eX[c+3]=255-eX[c+3];if(fG.Jg){var gk=eX,i7=w,fQ=f,fv=1,ea=(a.BkSb.v==0||a.BkSt.v==255)&&h4=="BeIn";
if(!ea){var ce=0;for(var c=0;c<P;c+=4)ce+=Math.abs(iX-eX[c+3]*(1/255));ce=ce/b*h9;var jR=3.14*ce*ce*w*f/3e6;
if(jR>2e3){alert("too large radius");return}}while(ea&&3*(h9/fv)*(h9/fv)*w*f>500*2e3*2e3){var e2=j.A7(eX,new dE(0,0,i7,fQ));
eX=e2.Qi;i7=e2.rect.m;fQ=e2.rect.n;fv*=2}var gi=Date.now(),L=fG.D9(0,i7,fQ);L.set(eX);var d3=fG.D9(1,w,f);
fG.Wb(d3);fG.filter.Sk({type:fG.filter.aaz,C1:new Float32Array([1/i7,1/fQ]),aer:iX,Fk:h9/fv,au4:new Float32Array([a.BkSb.v/100,a.BkSt.v/255]),asP:new Float32Array([a.BkNa.v/100,a.BkNt.v.BtNt=="BeNu"?0:1,a.BkNm.v?1:0]),a86:new Float32Array(fO.slice(0,16)),abu:new Float32Array(fO.slice(16))},L.NV);
d3.get(i.buffer);var ix=i.buffer;for(var c=0;c<P;c+=4)ix[c+3]=A.buffer[c+3]}}if(e=="rigidTransform"){var gi=Date.now(),ex=hZ.arV,L=A.buffer.slice(0),g5=0,ja=0;
j.QM(L);j.fV(i.buffer,0);var w=A.rect.m,f=A.rect.n,e8=a.puppetShapeList.v,e_=[],cH=[],gK=[],fn=[];for(var eJ=0;
eJ<e8.length;eJ++){var jq=e8[eJ].v,_=g5*2,x=ja*3,g8=jq.originalVertexArray.v.length>>>2,gd=jq.indexArray.v.length>>>2,bi=new Float32Array(ex(jq.originalVertexArray.v));
for(var c=0;c<g8;c++)e_[_+c]=bi[c];var io=new Float32Array(ex(jq.deformedVertexArray.v));for(var c=0;
c<g8;c++)cH[_+c]=io[c];var hg=new Uint32Array(ex(jq.indexArray.v));for(var c=0;c<gd;c++)gK[x+c]=g5+hg[c];
var bY=[],gz=[],fc=jq.PnDp.v;for(var c=0;c<fc.length;c++){bY.push(jq.pinVertexIndices.v[c].v);gz.push(fc[c].v)}var f9=j.ao.axA(bi,hg,bY,gz);
for(var c=0;c<f9.length;c++)fn[g5+c]=f9[c];g5+=g8>>>1;ja+=~~(gd/3)}var fk=A.rect,w=fk.m,f=fk.n;j.ao.Y1(L,w,f,i.buffer,w,f,e_,cH,fn,gK);
j.iG(i.buffer)}if(e=="lightFilterGradient"){function dP(aQ){var gW=1/Math.sqrt(aQ[0]*aQ[0]+aQ[1]*aQ[1]+aQ[2]*aQ[2]);
aQ[0]*=gW;aQ[1]*=gW;aQ[2]*=gW}var w=A.rect.m,f=A.rect.n,b=w*f,gi=Date.now(),dA=j.Q(b),ei=.3,hC=.7;j.U2(i.buffer,dA);
var eq=j.Q(b);j.Vr.vq(dA,eq,i.rect,16);var ef=j.Q(b);j.Vr.vq(dA,ef,i.rect,8);var ir=dA,d5=new Float32Array(b),hV=a.Dtl.v,em=hV[2].v,gM=hV[1].v,h2=hV[0].v,cK=a.Scl.v*40*a.textureScale.v/(em+gM+h2);
em*=cK;gM*=cK;h2*=cK;for(var c=0;c<b;c++){var jO=eq[c]*(1/255),aJ=ef[c]*(1/255),a3=ir[c]*(1/255);a3=a3*a3;
d5[c]=em*jO+gM*aJ+h2*a3}var az=a.blur.v;if(az!=0){var eR=d5.slice(0);j.Vr.Lk(eR,d5,i.rect,az)}var da=w-1,kf=f-1;
for(var k=0;k<f;k++)for(var E=0;E<w;E++){var c=k*w+E,v=c*4,cy=d5[c],V=ei*(d5[c+(E==da?0:1)]-cy)+hC*(cy-d5[c-(E==0?0:1)]),R=ei*(d5[c+(k==kf?0:w)]-cy)+hC*(cy-d5[c-(k==0?0:w)]),aQ=[1,0,V],fw=[0,1,R];
dP(aQ);dP(fw);var hQ=aQ[0],fa=aQ[2],dd=fw[1],iu=fw[2],gO=-fa*dd,fb=-hQ*iu,bb=hQ*dd;i.buffer[v]=~~(127.5+gO*127.5);
i.buffer[v+1]=~~(127.5+fb*127.5);i.buffer[v+2]=~~(127.5+bb*127.5)}}if(e=="defr"){var w=A.rect.m,f=A.rect.n;
gu(A.buffer,w,f,i.buffer)}if(e=="dDFT"||e=="iDFT"){function iw(iM){if(iM==0)return 1;iM--;iM|=iM>>1;
iM|=iM>>2;iM|=iM>>4;iM|=iM>>8;iM|=iM>>16;return iM+1}var w=A.rect.m,f=A.rect.n,jy=iw(Math.max(w,f)),aP=jy>>>1,bB=new dE(0,0,jy,jy),gl=new dE(0,0,w,f);
gl.y=jy-f>>>1;var km=w>>>1,aN=new dE(0,gl.y,km,f),gv=new j.js(w*f);j.Y_(A.buffer,gv);var bX=new Float64Array(jy*jy),hG=new Float64Array(jy*jy),r=j.Q(jy*jy);
FFT.init(jy);var as=[gv.o,gv.J,gv.k];for(var c=0;c<3;c++){var cU=as[c];r.fill(0);if(e=="dDFT"){j.WP(cU,gl,r,bB);
hZ.a8c(r,jy,bX,hG);j.WP(r,bB,cU,gl,aN);aN.x+=km;bB.x-=aP-km;j.WP(r,bB,cU,gl,aN);aN.x-=km;bB.x+=aP-km}else{j.WP(cU,gl,r,bB,aN);
aN.x+=aP;gl.x+=aP-km;j.WP(cU,gl,r,bB,aN);aN.x-=aP;gl.x-=aP-km;hZ.akb(r,jy,bX,hG);j.WP(r,bB,cU,gl)}}j.ia(gv,i.buffer)}if(e=="Avrg"){var hm=0,kp=0,dq=0,eh=0,cV=1;
for(var c=0;c<A.buffer.length;c+=4){var C=A.buffer[c+3];dq+=A.buffer[c]*C;kp+=A.buffer[c+1]*C;hm+=A.buffer[c+2]*C;
eh+=C}var iE=1/eh;hm=Math.round(cV*(hm*iE)+(1-cV)*255);kp=Math.round(cV*(kp*iE)+(1-cV)*255);dq=Math.round(cV*(dq*iE)+(1-cV)*255);
j.fV(i.buffer,hm<<16|kp<<8|dq,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(e)!=-1){var eb=a.Rds?a.Rds.v.val:1,iy=e=="boxblur"?j.Vr.o3:j.Vr.dB;
hZ.d1(eb,iy,i.buffer,i.rect);if(e=="UnsM"||e=="smartSharpen"){var aU=(a.Amnt?a.Amnt.v.val:200)/100,eF=0;
if(e=="UnsM")eF=a.Thsh.v;else aU*=.75;for(var c=0;c<A.buffer.length;c++){if((c&3)==3){i.buffer[c]=A.buffer[c];
continue}var eS=A.buffer[c],gL=i.buffer[c],iz=aU*(eS-gL);if(iz>0)iz=Math.max(0,iz-eF);else iz=Math.min(0,iz+eF);
i.buffer[c]=Math.max(0,Math.min(255,eS+iz))}}if(e=="HghP")for(var c=0;c<A.buffer.length;c++){if((c&3)==3){i.buffer[c]=A.buffer[c];
continue}var eS=A.buffer[c],gL=i.buffer[c];i.buffer[c]=Math.max(0,Math.min(255,128+eS-gL))}}if(e=="AdNs"){var bR=new Uint8ClampedArray(i.buffer.buffer),a6=255*a.Nose.v.val/100,gE;
if(a.Dstr.v.Dstr=="Gsn")gE=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else gE=function(){return Math.random()*2-1};for(var c=0;c<bR.length;c+=4){var fk=bR[c],jf=bR[c+1],ay=bR[c+2],fC,jB,j7;
if(a.Mnch.v){fC=jB=j7=gE()}else{fC=gE();jB=gE();j7=gE()}fk+=a6*fC;jf+=a6*jB;ay+=a6*j7;bR[c]=fk;bR[c+1]=jf;
bR[c+2]=ay}}var gi=Date.now();if(e=="Mdn "||e=="DstS"||e=="Mxm "||e=="Mnm "||e=="surfaceBlur"){var fk=0,dY=a.Thsh,jq=0;
if(dY)dY=dY.v;else dY=0;if(e=="Mdn "||e=="Mxm "||e=="Mnm "||e=="surfaceBlur")fk=a.Rds.v.val;else fk=a.Rds.v;
var bq=10*Math.ceil(fk/10),w=A.rect.m,f=A.rect.n,aD=["Mnm ","Mxm ","surfaceBlur"].indexOf(e),c9=(jq==0?1:.75)*[.73,.73,1.2][aD]*(w*f*Math.pow(bq*bq,1.05))/6022387,jW=.6*(w*f*Math.pow(fk,1/2.6))/6500;
if(e=="Mxm "||e=="Mnm ")jW=w*f/13e3;var du=a.preserveShape;if(du&&du.v.preserveShape=="Rndn")jq=1;if(fG.Jg&&aD!=-1&&(c9<jW||jq==1)&&c9<500){var L=fG.D9(0,w,f);
L.set(A.buffer);var F=fG.D9(1,w,f);fG.Wb(F);fG.filter.Sk({type:fG.filter.a2u,C1:new Float32Array([1/w,1/f]),Fk:fk,anp:dY/255,KO:[jq,aD,bq]},L.NV);
F.get(i.buffer)}else if(e=="Mxm "||e=="Mnm "){var w=A.rect.m,f=A.rect.n;j.t8.avm(A.buffer,i.buffer,w,f,1+Math.floor(a.Rds.v.val)*2,e=="Mxm ")}else{fk=Math.round(fk);
j.Cr.cw=.5;j.Cr.uW=dY;var iy=e=="surfaceBlur"?1:0;j.Cr.dH(A.buffer,i.buffer,w,f,fk,iy);if(e=="DstS")for(var c=0;
c<w*f*4;c++){var gc=Math.abs(A.buffer[c]-i.buffer[c]);if(gc<=dY)i.buffer[c]=A.buffer[c]}}}if(e=="ClrH"){var aN=A.rect.clone();
aN.x=aN.y=0;var fk=a.Rds.v;fk=Math.round(fk*Math.sqrt(2));var w=aN.m,f=aN.n,gv=new j.js(w*f);j.Y_(A.buffer,gv);
j.rQ(gv.o);j.rQ(gv.J);j.rQ(gv.k);var ks=j.wv(w,f),ix=j.Q(w*f*4);for(var bH=0;bH<3;bH++){var r=bH==0?gv.o:bH==1?gv.J:gv.k,jT=Math.PI*a["Ang"+(bH+1)].v/180,cd=new bj(1/fk,0,0,1/fk,0,0);
cd.rotate(jT);j.Ao(r,ix,3);var T=q.BD.xM([ix,aN],cd,!0),gl=T.rect;ks.clearRect(0,0,w,f);var d6=Math.sin(jT),bN=Math.cos(jT);
for(var c=0;c<gl.n;c++)for(var eU=0;eU<gl.m;eU++){var E=(eU+gl.x+.5)*fk,k=(c+gl.y+.5)*fk,cE=E,ft=k;E=bN*cE-d6*ft;
k=d6*cE+bN*ft;var b=T.buffer[(c*gl.m+eU<<2)+3]*(1/255),eb=fk*Math.sqrt(b*(1/Math.PI));ks.beginPath();
ks.arc(E,k,eb,0,2*Math.PI);ks.fill()}var gF=ks.getImageData(0,0,w,f);j.kI(gF.data,r,3)}j.rQ(gv.o);j.rQ(gv.J);
j.rQ(gv.k);j.ia(gv,i.buffer)}if(e=="Crst"||e=="Pntl"){var w=A.rect.m,f=A.rect.n,iy=e=="Crst"?j.ah.awL:j.ah.a60;
iy(A.buffer,w,f,i.buffer,a.ClSz.v,[Math.round(N.o),Math.round(N.J),Math.round(N.k)])}if(e=="Mztn"){var w=A.rect.m,f=A.rect.n,b=w*f,gv=new j.js(b),iT=[gv.o,gv.J,gv.k];
j.Y_(A.buffer,gv);var jd=a.MztT.v.MztT,bJ={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[jd],gi=Date.now(),jL=[];
for(var c=0;c<b;c++){jL[c]=Math.random()}var b=w*f,dX=Math.round(b*bJ[0]),jH=b-w-1;for(var c=0;c<dX;
c++){var hq=Math.random(),bh=1;if(hq<.5){bh=w;hq*=2}else hq=2*(hq-.5);var hM=Math.floor(hq*jH),fU=hM+bh;
jL[hM]=jL[fU]}var a_=Math.round(w*bJ[1]);for(var k=0;k<f;k++)for(var c=0;c<a_;c++){var hq=j.s.jM(k*b+c),hM=k*w+Math.floor(hq*(w-1));
jL[hM]=jL[hM+1]}var dU=new Float64Array(256);for(var c=0;c<256;c++){var i6=c/255,kr=2*(i6<.5?i6:1-i6);
kr=bJ[2]+Math.pow(kr,bJ[3])*(1-bJ[2]);i6=i6<.5?kr*.5:1-kr*.5;dU[c]=i6}for(var Y=0;Y<3;Y++){var r=iT[Y];
for(var k=0;k<f;k++){for(var E=0;E<w;E++){var c=k*w+E,eZ=r[c],i6=dU[eZ],hq=jL[c];r[c]=hq>i6?0:255}}}j.ia(gv,i.buffer)}if(e=="Msc "){var h6=a.ClSz.v.val,w=A.rect.m,f=A.rect.n,kw=Math.ceil(w/h6),ij=Math.ceil(f/h6),fd=j.Q(kw*ij*4);
j.scale.fw(A.buffer,w,f,fd,kw,ij,1/h6);j.scale.fw(fd,kw,ij,i.buffer,w,f,h6)}if(e=="Clds"||e=="DfrC"){var w=i.rect.m,f=i.rect.n,b=w*f,fM=j.Q(b);
if(e=="Clds")j.fV(i.buffer,4278190080);var he=j.Q(256*4);for(var c=0;c<256;c++){var v=c<<2,cF=c/255,hg=1-cF;
he[v]=Math.round(cF*p.o+hg*N.o);he[v+1]=Math.round(cF*p.J+hg*N.J);he[v+2]=Math.round(cF*p.k+hg*N.k)}j._.a4z(A.buffer,w,f,fM);
var fF=i.buffer;for(var c=0;c<b;c++){var v=c<<2,Y=fM[c]<<2,fk=he[Y],jf=he[Y+1],ay=he[Y+2];if(e=="Clds"){fF[v]=fk;
fF[v+1]=jf;fF[v+2]=ay}else{fF[v]=Math.abs(fF[4*c]-fk);fF[v+1]=Math.abs(fF[4*c+1]-jf);fF[v+2]=Math.abs(fF[4*c+2]-ay)}}}if(e=="LnsF"){var w=A.rect.m,f=A.rect.n,jd=["Zm","Nkn","Nkn1","PnVs"].indexOf(a.Lns.v.Lns),ev=a.FlrC.v,kv=[Math.min(jd,2),a.Brgh.v/100,ev.Hrzn.v,ev.Vrtc.v],gi=Date.now();
j.akW(A.buffer,w,f,i.buffer,kv)}var g$=["Blr ","BlrM","Shrp","ShrM"].indexOf(e);if(g$!=-1){var fE=g$>1,w=A.rect.m,f=A.rect.n,iO=j.N_.uN[g$],iQ=A.buffer.slice(0);
if(!fE)j.QM(iQ);j.N_.LP(iQ,i.buffer,w,f,iO,255,!1,fE);if(!fE)j.iG(i.buffer)}if(e=="MtnB"){var kx=-a.Angl.v*Math.PI/180,e6=a.Dstn.v.val/2,gi=Date.now(),w=A.rect.m,f=A.rect.n,J=A.rect.clone();
J.x=J.y=0;if(fG.Jg){var gi=Date.now(),it=i.buffer;it.set(A.buffer);j.QM(it);var bC=fG.D9(0,w,f);bC.set(it);
var ad=j.Q(4);ad[0]=Math.round(128+127*Math.cos(kx));ad[1]=Math.round(128+127*Math.sin(kx));new Uint32Array(it.buffer).fill(new Uint32Array(ad.buffer)[0]);
var bS=fG.D9(1,w,f);bS.set(it);fG.Wb(bC,J);bC.ll(J);fG.filter.Sk({type:fG.filter.Ji,GX:bS.NV,C1:new Float32Array([1/w,1/f]),ayN:e6/2,aoX:1},bC.mY);
bC.get(it);j.iG(it)}else{var cd=new bj;cd.rotate(kx);var T=q.BD.xM([A.buffer,A.rect],cd,!1,null,!0);
hZ.d1(e6,j.Vr.lU,T.buffer,T.rect);cd.rQ();T=q.BD.xM([T.buffer,T.rect],cd,!1,i.buffer.buffer,!0,i.rect)}console.log(Date.now()-gi)}if(e=="RdlB"){var w=A.rect.m,f=A.rect.n,aU=a.Amnt.v,dJ=a.BlrM.v.BlrM=="Zm",bH=a.Cntr.v,eP=bH.Hrzn.v,g2=bH.Vrtc.v,V=Math.max(eP,1-eP)*w,R=Math.max(g2,1-g2)*f,eb=Math.sqrt(V*V+R*R),hs=2*Math.PI*eb*1.5,dv=Math.round(hs),c3=Math.round(eb),aN=new dE(0,0,dv,c3),ji=j.Q(dv*c3*4),iH=dJ?4:1,gG=dJ?.6:8*((w+f)/2)/1400,jJ=.1,fv=1,cr=1;
j.K.Rg(A.buffer,w,f,ji,dv,c3,eP,g2,iH,jJ,fv,cr);var ip=dJ?j.Q(dv*c3*4):null;if(dJ){j.K.d3(ji,ip,dv,c3);
var iV=ip;ip=ji;ji=iV;aN.m=c3;aN.n=dv}hZ.d1(gG*aU,j.Vr.lU,ji,aN);if(dJ){j.K.d3(ji,ip,c3,dv);var iV=ip;
ip=ji;ji=iV;aN.m=dv;aN.n=c3}j.K.LZ(ji,dv,c3,i.buffer,w,f,eP,g2,iH,jJ,fv,cr)}if(e=="Plr "){var w=A.rect.m,f=A.rect.n;
if(a.Cnvr.v.Cnvr=="RctP")j.K.LZ(A.buffer,w,f,i.buffer,w,f,.5,.5,1,0,2,w/f);else j.K.Rg(A.buffer,w,f,i.buffer,w,f,.5,.5,1,0,2,w/f)}if(e=="FndE"){var w=A.rect.m,f=A.rect.n;
j.N_.wB(A.buffer,i.buffer,w,f)}if(e=="oilPaint"){var jT=a.LghD.v*Math.PI/180,e1=[Math.cos(jT),Math.sin(jT),.001],hT=[a.stylization.v,a.cleanliness.v,a.brushScale.v,a.microBrush.v,a.lightingOn.v,a.specularity.v,e1],J=A.rect.clone();
J.x=J.y=0;j.Zc.filter(A.buffer,J,i.buffer,hT)}if(e=="Ofst"){var w=A.rect.m,f=A.rect.n,aO=new Uint32Array(A.buffer.buffer),aF=new Uint32Array(i.buffer.buffer),cE=a.Hrzn.v,ft=a.Vrtc.v,cW=a.Fl.v.FlMd;
j.fV(aF,0);if(cW=="Bckg"||cW=="Rpt"){var aN=A.rect.clone();aN.offset(cE,ft);j._M(aO,aN,aF,i.rect)}if(cW=="Rpt"){var aC,ds,e7,jv,gA;
cE=Math.max(-w,Math.min(w,cE));ft=Math.max(-f,Math.min(f,ft));aC=cE>0?cE:0;e7=cE>0?w:w+cE;ds=ft>0?0:ft+f;
jv=ft>0?ft:f;gA=ft>0?0:w*(f-1);for(var k=ds;k<jv;k++)for(var E=aC;E<e7;E++)aF[k*w+E]=aO[gA+E-cE];aC=cE>0?0:w+cE;
e7=cE>0?cE:w;ds=ft>0?ft:0;jv=ft>0?f:f+ft;gA=cE>0?0:w-1;for(var k=ds;k<jv;k++)for(var E=aC;E<e7;E++)aF[k*w+E]=aO[gA+w*(k-ft)];
if(cE>=0&&ft>=0){aC=0;e7=cE;ds=0;jv=ft;gA=0}if(cE>=0&&ft<0){aC=0;e7=cE;ds=f+ft;jv=f;gA=w*(f-1)}if(cE<0&&ft>=0){aC=w+cE;
e7=w;ds=0;jv=ft;gA=w-1}if(cE<0&&ft<0){aC=w+cE;e7=w;ds=f+ft;jv=f;gA=w*f-1}for(var k=ds;k<jv;k++)for(var E=aC;
E<e7;E++)aF[k*w+E]=aO[gA]}if(cW=="Wrp"){cE=(cE+100*w)%w;ft=(ft+100*f)%f;var aN=new dE(cE-w,ft-f,w,f);
j._M(aO,aN,aF,i.rect);aN.offset(w,0);j._M(aO,aN,aF,i.rect);aN.offset(0,f);j._M(aO,aN,aF,i.rect);aN.offset(-w,0);
j._M(aO,aN,aF,i.rect)}}if(e=="Rept"){var gY=a.Rsft.v.val/100,gR=a.SpcX.v.val/100;gR=Math.max(gR,-.99);
var dz=a.SpcY.v.val/100;dz=Math.max(dz,-.99);var fv=a.Scl.v.val/100,cd=new bj;cd.rotate(a.Angl.v*Math.PI/180);
cd.scale(fv,fv);var cR={buffer:A.buffer,rect:A.rect};j.jN(cR);if(cR.rect.QP()){cR.buffer=A.buffer;cR.rect=A.rect}var fF=cR.buffer,aN=cR.rect,ck=j.cB(fF,aN,0),i_=new Uint32Array(fF.buffer)[0];
if(!ck.QP()&&!ck.Kx(aN)){var aa=j.Q(ck.O()*4);j._M(fF,aN,aa,ck);fF=aa;aN=ck}aN.x=aN.y=0;i_=gR==0&&dz==0||a.SpcC.v?i_:0;
function e5(E){return E<0?Math.ceil(E):Math.floor(E)}var d8=cd.Av(new k7(aN.m,0));d8.x=e5(d8.x);d8.y=e5(d8.y);
var k9=cd.Av(new k7(0,aN.n));k9.x=e5(k9.x);k9.y=e5(k9.y);var T=q.BD.xM([fF,aN],cd,!1),gl=T.rect,aS=T.buffer,iS=Math.round(gl.x),je=Math.round(gl.y),hY=Math.max(i.rect.m,i.rect.n)/Math.min(aN.m*fv*(1+gR),aN.n*fv*(1+dz));
hY=Math.ceil(hY*1.7);j.fV(i.buffer,i_);for(var k=-hY;k<hY;k++){for(var E=-hY;E<hY;E++){var jQ=(E+k*gY)*(1+gR),fg=k*(1+dz);
gl.x=iS+Math.round(jQ*d8.x+fg*k9.x);gl.y=je+Math.round(jQ*d8.y+fg*k9.y);if(gl.CS(i.rect))j.s.eZ("norm",aS,gl,i.buffer,i.rect,gl,1)}}}if(e=="Ctoa"){var N=j.M.kq(a.Clr.v),dY=a.Trsp.v.val/100,i8=a.Opct.v.val/100;
dY=i8==0?0:dY/i8;var w=A.rect.m,f=A.rect.n,f8=~~N.o,cp=~~N.J,bE=~~N.k,gA=A.buffer,iL=i.buffer;for(var k=0;
k<f;k++)for(var E=0;E<w;E++){var c=k*w+E,v=c<<2,aN=gA[v],ae=gA[v+1],fF=gA[v+2],c0=Math.abs(f8-aN),fJ=Math.abs(cp-ae),cN=Math.abs(bE-fF),bK=Math.max(c0,fJ,cN)*(1/255);
bK=Math.max(0,Math.min(1,bK/i8));var kg=bK==0?0:1/bK,gB=dY==1?1:Math.max(0,Math.min(1,(bK-dY)/(1-dY)));
iL[v]=Math.max(0,Math.min(255,(aN-f8*(1-bK))*kg));iL[v+1]=Math.max(0,Math.min(255,(ae-cp*(1-bK))*kg));
iL[v+2]=Math.max(0,Math.min(255,(fF-bE*(1-bK))*kg));iL[v+3]=~~(.5+gB*255)}}if(e=="Dthr"){function fA(E){return~~(.5+255*j.TK(E/255))}var eJ=a.Plte.v,jK;
if(eJ==0)jK=[4278190080,4294967295];else{var ku=[[1,1,1],[2,2,2],[3,3,2]][eJ-1],dD=[1<<ku[0],1<<ku[1],1<<ku[2]],au=[~~(255/(dD[0]-1)),~~(255/(dD[1]-1)),~~(255/(dD[2]-1))];
jK=[];for(var fk=0;fk<dD[0];fk++)for(var jf=0;jf<dD[1];jf++)for(var ay=0;ay<dD[2];ay++)jK.push(255<<24|fA(ay*au[2])<<16|fA(jf*au[1])<<8|fA(fk*au[0]))}var w=A.rect.m,f=A.rect.n,b=w*f,hy=b*4,hK=A.buffer.slice(0),c_=i.buffer;
for(var c=0;c<hy;c++)hK[c]=~~(.5+255*j.TK(hK[c]/255));var hd=j.Q(w*f);UPNG.encode.dither(hK,w,f,jK,c_,hd,a.Mthd?a.Mthd.v:1);
for(var c=0;c<hy;c++)c_[c]=~~(.5+255*j.Vq(c_[c]/255))}if(e=="Part"){var fB=[a.RndS.v,a.Cont.v/100,a.Size.v,a.Dpth.v/100,a.Brgh.v/100,j.M.kq(a.Clr.v),a.Time.v,a.Blnk.v,a.Fall.v,a.Turb.v/100];
j.RI.bd(i.buffer,A.rect.m,A.rect.n,fB)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(e)!=-1){var b$=Z[0],w=A.rect.m,f=A.rect.n,dU,bp=0;
if(e=="LqFy")dU=j_.__(new Uint8Array(a.LqMe.v).buffer);else{var hI=3;dU={SB:Math.floor(w/hI),Ps:Math.floor(f/hI)};
dU.map=new Float32Array(dU.SB*dU.Ps*2);if(e=="LnCr"){var eP=.5*(dU.SB-1),g2=.5*(dU.Ps-1),aI=Math.max(Math.abs(0-eP),Math.abs(1-eP)),bn=Math.max(Math.abs(0-g2),Math.abs(1-g2)),cj=Math.sqrt(aI*aI+bn*bn),e9=0,br=0,fq=-1,eI=2,fv=a.LnSi.v/100,dJ=1/fv,gf=a.LnIa.v/100,c4=gf==0?1e-6:gf*4.6,h3=dJ/cj;
for(var k=0;k<dU.Ps;k++){for(var E=0;E<dU.SB;E++){var V=(E-eP)*h3,R=(k-g2)*h3,fk=Math.sqrt(V*V+R*R)*c4,et=Math.atan(fk),i3=gf>0?et/fk:fk/et,cr=eP+cj*i3*V,gH=g2+cj*i3*R,c=k*dU.SB+E<<1;
dU.map[c]=cr-E;dU.map[c+1]=gH-k}}}else if(e=="Kale"){var kw=dU.SB,ij=dU.Ps,bf=(kw-1)*.5,kf=(ij-1)*.5,bU=a.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,dT=a.Mirr.v,dB=Math.PI*2/dT,is=.5*dB;
for(var k=0;k<ij;k++)for(var E=0;E<kw;E++){var V=E-bf,R=k-kf,kk=Math.sqrt(V*V+R*R),jT=Math.atan2(R,V)+bU;
jT=jT%dB;if(jT>is)jT=dB-jT;var cr=bf+Math.cos(jT-bU)*kk,gH=kf+Math.sin(jT-bU)*kk,c=(k*kw+E)*2;dU.map[c]=cr-E;
dU.map[c+1]=gH-k}}else if(e=="Dspl"&&b$.length!=0){bp=a.UndA.v.UndA=="WrpA"?2:1;var f$=a.DspF.v.pth,aL;
for(var c=0;c<b$.length;c++)if(b$[c].h0==f$)aL=b$[c];if(aL==null)aL=b$[0];aL.WR();var c0=aL.G9[1],c2=j.Q(c0.O());
j.U2(aL.G9[0],c2);var cf=c0.m,db=c0.n;dU={SB:cf,Ps:db};dU.map=new Float32Array(dU.SB*dU.Ps*2);var dj=2.54*a.HrzS.v*cf/w,aj=2.54*a.VrtS.v*db/f;
for(var k=0;k<dU.Ps;k++){for(var E=0;E<dU.SB;E++){var gc=-.5+c2[k*cf+E]*(1/255),c=k*dU.SB+E<<1;dU.map[c]=gc*dj;
dU.map[c+1]=gc*aj}}}else if(e=="Pnch"||e=="Twrl"||e=="Sphr"||e=="ZgZg"){var aU=1,kx=Math.PI,jt=0,i0=1,jV=0,bH=3,h6=1.53,i3=1;
if(e=="Pnch"||e=="Sphr"||e=="ZgZg")aU=a.Amnt.v/100;if(e=="ZgZg"){i0=a.NmbR.v;jV=["ArnC","OtFr","PndR"].indexOf(a.ZZTy.v.ZZTy)}if(e=="Twrl")kx=a.Angl.v*Math.PI/180;
if(e=="Sphr")jt=["Nrml","HrzO","VrtO"].indexOf(a.SphM.v.SphM);function iy(E){E=Math.pow(E,1-E*.3-E*E*(E*E)*.5);
return-.225*Math.sin(E*Math.PI)}function dr(f,gW,fk,aC,ds,e7,jv,i3){var V=e7-aC,R=jv-ds,hi=aC-f,di=ds-gW,cF=V*V+R*R,ay=2*(V*hi+R*di),bH=hi*hi+di*di-fk*fk,fH=Math.sqrt(ay*ay-4*cF*bH),aH=i3/(2*cF),hx=(-ay+fH)*aH,gr=(-ay-fH)*aH;
return i3*Math.min(hx,gr)}var kw=dU.SB,ij=dU.Ps,bf=dU.SB/2,kf=dU.Ps/2,iG=1/bf,fk=Math.sqrt(bH*bH+1)/bH,cU=bH+Math.sqrt(1/(bH*bH));
if(aU<0){bH=1.72;fk=1;cU=bH;h6=-1;i3=-1}for(var k=0;k<ij;k++){var R=(k-kf)/kf;for(var E=0;E<kw;E++){var V=(E-bf)*iG;
if(jt==1)R=0;else if(jt==2)V=0;var j1=Math.sqrt(V*V+R*R);if(j1<1&&j1!=0){var c=k*dU.SB+E<<1;if(e=="Pnch"){var kd=-aU*iy(j1)/j1;
dU.map[c]=V*kd*bf;dU.map[c+1]=R*kd*kf}else if(e=="Sphr"){var iV=dr(0,cU,fk,0,0,j1,bH,i3),hH=h6*aU*(iV-1);
dU.map[c]=V*hH*bf;dU.map[c+1]=R*hH*kf}else if(e=="Twrl"){var jT=Math.atan2(R,V)-kx*(1-j1)*(1-j1),es=Math.cos(jT),dc=Math.sin(jT);
dU.map[c]=(j1*es-V)*bf;dU.map[c+1]=(j1*dc-R)*kf}else if(e=="ZgZg"){var es=0,dc=0,fK=aU*(.5-.5*Math.cos(j1*i0*2*Math.PI))*(1-j1);
if(jV==0){var jT=Math.atan2(R,V)-3.5*fK;es=j1*Math.cos(jT);dc=j1*Math.sin(jT)}if(jV==1){fK=100/w*fK/j1;
es=(1-fK)*V;dc=(1-fK)*R}if(jV==2){var g=512/w*fK*Math.PI/4;es=g+V;dc=g+R}dU.map[c]=(es-V)*bf;dU.map[c+1]=(dc-R)*kf}}}}}else if(e=="Shr "){var cQ=JSON.parse(JSON.stringify(a.ShrP.v));
j.Gh.D(cQ,new bj(0,255/127,255/127,0,-2,0));var gS=j.Gh.Tr(cQ,dU.Ps,!0);bp=a.UndA.v.UndA=="WrpA"?2:1;
for(var k=0;k<dU.Ps;k++){var V=-gS[k]*dU.SB;for(var E=0;E<dU.SB;E++){var c=k*dU.SB+E<<1;dU.map[c]=V}}}else if(e=="Wave"){var bV=a.NmbG.v,cm=a.WLMn.v,hE=a.WLMx.v,iU=a.AmMn.v*(Math.PI/4),a8=a.AmMx.v*(Math.PI/4),bL=a.SclH.v/100,kn=a.SclV.v/100,jd=a.Wvtp.v.Wvtp,fK=Math.sin;
if(jd=="WvTr")fK=function(E){E*=2/Math.PI;return-.5+Math.abs(E%2-1)};if(jd=="WvSq")fK=function(E){E*=2/Math.PI;
return 1+2*Math.floor(E%2-1)};var i2=[],ge=new j.s.R9(a.RndS.v);for(var c=0;c<bV;c++){i2.push(ge.get()*10);
i2.push(Math.PI*hI/(cm+ge.get()*(hE-cm)));i2.push(bL*(iU+ge.get()*(a8-iU))/hI);i2.push(ge.get()*10);
i2.push(Math.PI*hI/(cm+ge.get()*(hE-cm)));i2.push(kn*(iU+ge.get()*(a8-iU))/hI)}var ib=[],dF=[],gX=Math.max(dU.SB,dU.Ps);
for(var c=0;c<gX;c++){var V=0,R=0;for(var eU=0;eU<bV;eU++){var gV=eU*6;V+=i2[gV+2]*fK(i2[gV]+c*i2[gV+1]);
R+=i2[gV+5]*fK(i2[gV+3]+c*i2[gV+4])}ib[c]=R;dF[c]=V}for(var k=0;k<dU.Ps;k++){for(var E=0;E<dU.SB;E++){var c=k*dU.SB+E<<1;
dU.map[c]=dF[k];dU.map[c+1]=ib[E]}}bp=a.UndA.v.UndA=="WrpA"?2:1}else if(e=="Rple"){bp=1;var aU=a.Amnt.v/100,bG=4,iP=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],jE=1,f7=1,hi=0,cP=["Sml","Mdm","Lrg"].indexOf(a.RplS.v.RplS);
if(cP==0){jE=1;f7=.2;hi=3}if(cP==2){jE=1;f7=2;hi=-1;iP=iP.reverse()}var g7=function(E,k){var bH=Math.cos,cK=0;
for(var c=0;c<bG;c++)for(var eU=0;eU<bG;eU++)cK+=iP[c*bG+eU]*bH(E*(c+hi)-k*(eU+hi));return cK},hl=Math.floor(50/hI),cG=new Float32Array(hl*hl*2),a$=f7*aU*.5/hI;
for(var k=0;k<hl;k++)for(var E=0;E<hl;E++){var eP=jE*E*2*Math.PI/hl,g2=jE*k*2*Math.PI/hl,eD=g7(eP,g2),V=(g7(eP+.01,g2)-eD)*100,R=(g7(eP,g2+.01)-eD)*100,c=(k*hl+E)*2;
cG[c]=V*a$;cG[c+1]=R*a$}for(var k=0;k<dU.Ps;k++)for(var E=0;E<dU.SB;E++){var dc=k%hl,es=E%hl,c=k*dU.SB+E<<1,c7=dc*hl+es<<1;
dU.map[c]=cG[c7];dU.map[c+1]=cG[c7+1]}}}j.dV.Wm(A.buffer,i.buffer,w,f,null,dU.map,dU.SB,dU.Ps,bp)}return i};
var eN={};eN.a3r="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");eN.Y3="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
eN.k_=["ScrC","ScrD","ScrL"];eN.db=["SDRD","SDHz","SDLD","SDVt"];eN.u5="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
eN.$D="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");eN.jd="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
eN.Ii=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];eN.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
eN.T$=function(e){var A;if(e=="ClrP")A={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(e=="Ct")A={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(e=="DryB")A={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(e=="FlmG")A={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(e=="Frsc")A={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(e=="NGlw")A={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(e=="PntD")A={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(e=="PltK")A={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(e=="PlsW")A={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(e=="PstE")A={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(e=="RghP")A={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(e=="SmdS")A={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(e=="Spng")A={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(e=="Undr")A={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(e=="Wtrc")A={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(e=="AccE")A={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(e=="AngS")A={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(e=="Crsh")A={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(e=="DrkS")A={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(e=="InkO")A={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(e=="Smie")A={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(e=="Spt")A={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(e=="SprS")A={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(e=="DfsG")A={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(e=="Gls")A={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(e=="OcnR")A={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(e=="BsRl")A={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(e=="ChlC")A={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(e=="Chrc")A={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(e=="Chrm")A={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(e=="CntC")A={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(e=="GraP")A={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(e=="HlfS")A={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(e=="NtPr")A={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(e=="Phtc")A={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(e=="Plst")A={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(e=="Rtcl")A={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(e=="Stmp")A={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(e=="TrnE")A={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(e=="WtrP")A={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(e=="GlwE")A={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(e=="Crql")A={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(e=="Grn")A={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(e=="MscT")A={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(e=="Ptch")A={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(e=="StnG")A={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(e=="Txtz")A={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
A.__name="Filter Gallery";A.classID="GEfc";A.GEfk={t:"enum",v:{GEft:e}};A.GELv={t:"bool",v:!0};return A};
eN.Zu=function(e,A){for(var c=0;c<A.length;c++)~~(A[c]=(e[4*c]+e[4*c+1]+e[4*c+2])*(1/3))};eN.a8w=function(e,A,a,p){var N=UPNG.quantize(e,A);
N={Ox:N.inds,Lu:N.plte};var i=Math.floor((a+p)*.015);if(i!=0)j.jT.a3O(N.Ox,a,p,i);return N};eN.Eo=function(e,A,a,p,N,i,Z){e=a.GEfk.v.GEft;
var s=A.rect,D=s.m,n=s.n,S=D*n,F=a.FlRs?a.FlRs.v>>>1:0;function $(y){return y.o<<24|y.J<<16|y.k<<8|255}if(e=="ClrP")j._.aiz(A.buffer,D,n,i.buffer,[a.Pncl.v,a.StrP.v,a.PprB.v]);
if(e=="Ct"){var m=a.NmbL.v,J=a.EdgS.v,w=eN.a8w(A.buffer.buffer,m*2,D,n);for(var c=0;c<w.Ox.length;c++)w.Ox[c]++;
var f=new Uint8Array((D+2)*(n+2));j.WP(w.Ox,new dE(1,1,D,n),f,new dE(0,0,D+2,n+2));var b=j.p.Ka(f,D+2,n+2,J,!1),L=new bj(1,0,0,1,-1,-1);
for(var c=0;c<b.length;c++)j.p.D(b[c].path.w,L,b[c].path.w);var C=[],M=w.Lu;for(var c=0;c<M.length;c++){var y=M[c].est.q;
C.push({o:Math.round(255*y[0]),J:Math.round(255*y[1]),k:Math.round(255*y[2]),gg:Math.round(255*y[3])})}var Q=j.wv(D,n);
for(var c=0;c<b.length;c++){var k=b[c],y=C[k.color-1];if(y.gg==0)continue;Q.fillStyle="rgba("+y.o+","+y.J+","+y.k+","+y.gg/255+")";
Q.beginPath();Typr.U.pathToContext({crds:k.path.w,cmds:k.path.F},Q);Q.fill()}if(!s.QP()){var E=Q.getImageData(0,0,D,n);
j.GZ(E.data,i.buffer)}}if(e=="DryB")j._.aed(A.buffer,D,n,i.buffer,[a.BrsS.v,a.BrsD.v,a.Txtr.v]);if(e=="FlmG")j._.amY(A.buffer,D,n,i.buffer,[a.Grn.v,a.HghA.v,a.Intn.v,F]);
if(e=="Frsc")j._.amy(A.buffer,D,n,i.buffer,[a.BrsS.v,a.BrsD.v,a.Txtr.v]);if(e=="NGlw")j._.axi(A.buffer,D,n,i.buffer,[a.Sz.v,a.Brgh.v,$(j.M.kq(a.Clr.v)),$(p),$(N)]);
if(e=="PltK")j._.a3f(A.buffer,D,n,i.buffer,[a.StrS.v,a.StDt.v,a.Sftn.v]);if(e=="PstE")j._.a2l(A.buffer,D,n,i.buffer,[a.EdgT.v,a.EdgI.v,a.Pstr.v]);
if(e=="RghP")j._.abU(A.buffer,D,n,i.buffer,[a.StrL.v,a.StDt.v,eN.u5.indexOf(a.TxtT.v.TxtT),a.Scln.v,a.Rlf.v,eN.Y3.indexOf(a.LghD.v.LghD),a.InvT.v]);
if(e=="SmdS")j._.a9G(A.buffer,D,n,i.buffer,[a.StrL.v,a.HghA.v,a.Intn.v,a.FlRs.v,F]);if(e=="Spng")j._.a8i(A.buffer,D,n,i.buffer,[a.BrsS.v,a.Dfnt.v,a.Smth.v,a.FlRs.v,F]);
if(e=="Undr")j._.abH(A.buffer,D,n,i.buffer,[a.BrsS.v,a.TxtC.v,eN.u5.indexOf(a.TxtT.v.TxtT),a.Scln.v,a.Rlf.v,eN.Y3.indexOf(a.LghD.v.LghD),a.InvT.v]);
if(e=="Wtrc")j._.apZ(A.buffer,D,n,i.buffer,[a.BrsD.v,a.ShdI.v,a.Txtr.v]);if(e=="AccE")j._.a7n(A.buffer,D,n,i.buffer,[a.EdgW.v,a.EdgB.v,a.Smth.v]);
if(e=="AngS")j._.a2H(A.buffer,D,n,i.buffer,[a.DrcB.v,a.StrL.v,a.Shrp.v]);if(e=="Crsh")j._.agA(A.buffer,D,n,i.buffer,[a.StrL.v,a.Shrp.v,a.Strg.v]);
if(e=="DrkS")j._.ayk(A.buffer,D,n,i.buffer,[a.Blnc.v,a.BlcI.v,a.WhtI.v]);if(e=="InkO")j._.a1t(A.buffer,D,n,i.buffer,[a.StrL.v,a.DrkI.v,a.LghI.v]);
if(e=="Smie")j._.a8Q(A.buffer,D,n,i.buffer,[a.StrW.v,a.StrP.v,a.Cntr.v]);if(e=="DfsG")j._.aat(A.buffer,D,n,i.buffer,[a.Grns.v,a.GlwA.v,a.ClrA.v,$(N),F]);
if(e=="CntC")j._.aql(A.buffer,D,n,i.buffer,[a.FrgL.v,a.BckL.v,eN.u5.indexOf(a.TxtT.v.TxtT),a.Scln.v,a.Rlf.v,eN.Y3.indexOf(a.LghD.v.LghD),a.InvT.v,$(N),$(p)]);
if(e=="ChlC")j._.axO(A.buffer,D,n,i.buffer,[a.ChrA.v,a.ChlA.v,a.StrP.v,F,$(N),$(p)]);var _=e=="GraP"||e=="Chrc"||e=="Plst"||e=="Rtcl"||e=="Stmp"||e=="TrnE";
if(_){var v=j.Q(D*n);if(e=="GraP")j._.a58(A.buffer,D,n,i.buffer,[a.StrL.v,a.LgDr.v,eN.db.indexOf(a.SDir.v.StrD),F]);
if(e=="Chrc")j._.ahe(A.buffer,D,n,i.buffer,[a.ChAm.v,a.Dtl.v,a.LgDr.v]);if(e=="Plst")j._.aqP(A.buffer,D,n,i.buffer,[a.ImgB.v,eN.$D.indexOf(a.LghP.v.LghP),a.Smth.v]);
if(e=="Rtcl")j._.a0O(A.buffer,D,n,i.buffer,[a.Dnst.v,a.BlcL.v,a.WhtL.v,F]);if(e=="Stmp")j._.agG(A.buffer,D,n,i.buffer,[a.LgDr.v,a.Smth.v]);
if(e=="TrnE")j._.a4w(A.buffer,D,n,i.buffer,[a.ImgB.v,a.Smth.v,a.Cntr.v,F]);j.kI(i.buffer,v,0);eN.X5(v,i.buffer,p,N)}if(e=="NtPr")j._.ayG(A.buffer,D,n,i.buffer,[a.ImgB.v,a.Grns.v,a.Rlf.v,$(p),$(N),F]);
if(e=="WtrP")j._.a3T(A.buffer,D,n,i.buffer,[a.FbrL.v,a.Brgh.v,a.Cntr.v,F>>>1]);if(e=="Crql")j._.at5(A.buffer,D,n,i.buffer,[a.CrcS.v,a.CrcD.v,a.CrcB.v,F]);
if(e=="Grn")j._.afH(A.buffer,D,n,i.buffer,[a.Intn.v,eN.jd.indexOf(a.Grnt.v.Grnt),a.Cntr.v,$(p),$(N),F]);
if(e=="MscT")j._.agS(A.buffer,D,n,i.buffer,[a.TlSz.v,a.GrtW.v,a.LghG.v,F]);if(e=="Ptch")j._.a39(A.buffer,D,n,i.buffer,[a.SqrS.v,a.Rlf.v,F]);
if(e=="Phtc"){function V(cQ,h6,s,jT){j.Vr.rs(cQ,h6,s,jT);for(var c=0;c<S;c++)h6[c]=Math.max(0,Math.min(255,128+cQ[c]-h6[c]))}var R=a.Dtl.v,h=a.Drkn.v,P=j.Q(S);
j.U2(A.buffer,P);var H=j.Q(S);V(P,H,s,1);if(R==1){R=2;h=Math.round(h/4)}var U=j.Q(S);V(P,U,s,R);for(var c=0;
c<S;c++)P[c]=Math.max(0,Math.min(255,255-(H[c]-U[c])*h));eN.X5(P,i.buffer,p,N)}if(e=="Spt"||e=="SprS"){var X,x=1,K=1;
X={SB:Math.floor(D/K),Ps:Math.floor(n/K)};X.map=new Float32Array(X.SB*X.Ps*2);var T=new j.s.R9(a.FlRs.v),I=new Float32Array(8192),o=a.SprR.v,l=o<20?.018*o:.36+(o-20)*.128;
if(e=="SprS"){l=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][o]}for(var c=0;
c<8192;c++)I[c]=(-1+2*T.get())*l*70;for(var O=0;O<n;O++)for(var g=0;g<D;g++){var W=O*D+g<<1;X.map[W]=I[W%7919];
X.map[W+1]=I[(W+1)%7919]}var d=X.map.slice(0),gT=e=="Spt"?a.Smth.v-1:1;if(e=="Spt"&&gT!=0){eN.av_(X.map,d,D,n,gT);
eN.a3g(d,X.map,D,n,gT)}if(e=="SprS"){var r=a.StrL.v>>>1,G=r==0?2:1;eN.av_(X.map,d,D,n,G);eN.a3g(d,X.map,D,n,G);
if(r!=0){var Y=eN.db.indexOf(a.SDir.v.StrD),fk=[1,1,1,0][Y],eJ=[-1,0,1,1][Y],eS=2*r+1,gL=1/eS;for(var O=0;
O<n;O++)for(var g=0;g<D;g++){var W=O*D+g<<1,cX=0,kj=0;for(var c=0;c<eS;c++){var gq=Math.max(0,Math.min(D-1,g-(r+c)*fk)),iL=Math.max(0,Math.min(n-1,O-(r+c)*eJ)),ew=iL*D+gq<<1;
cX+=X.map[ew];kj+=X.map[ew+1]}d[W]=cX*gL;d[W+1]=kj*gL}X.map=d}}j.dV.Wm(A.buffer,i.buffer,D,n,null,X.map,X.SB,X.Ps,x)}if(e=="BsRl"||e=="PlsW"||e=="Chrm"){var dk=Date.now(),j9=j.Q(S),fh=j9.slice(0);
j.U2(A.buffer,j9);var R=a.Dtl.v,g9=a.Smth.v;if(R!=15){j.Vr.vq(j9,fh,s,Math.round((15-R)*.5));j.GZ(fh,j9)}var k6=1.4/D,jx=1.4/n,ao=new Float32Array(S),b8=new Float32Array(S),ke=new Float32Array(i.buffer.buffer);
for(var O=0;O<n;O++)for(var g=0;g<D;g++){var c=O*D+g,fk=g==D-1?j9[c]-j9[c-1]:j9[c+1]-j9[c],eJ=O==n-1?j9[c]-j9[c-D]:j9[c+D]-j9[c],gj=g*k6-.7,jf=O*jx-.7;
ao[c]=fk==0?gj:fk*.4;b8[c]=eJ==0?jf:eJ*.4}if(e=="BsRl"){var ay=(2+eN.Y3.indexOf(a.LghD.v.LghD))*Math.PI*.25,cX=Math.cos(ay);
if(Math.abs(cX)<.1)cX=0;cX=Math.sign(cX);var kj=Math.sin(ay);if(Math.abs(kj)<.1)kj=0;kj=Math.sign(kj);
var fz=1/(cX*cX+kj*kj);for(var O=0;O<n;O++)for(var g=0;g<D;g++){var c=O*D+g,ei=Math.max(-1,Math.min(1,cX*ao[c])),hC=Math.max(-1,Math.min(1,kj*b8[c]));
fh[c]=128+127*(ei+hC)*fz}if(g9!=1){j.Vr.vq(fh,j9,s,Math.round((g9-1)*.5));j.GZ(j9,fh)}eN.X5(fh,i.buffer,p,N)}else{if(e=="Chrm")g9=5+g9;
if(g9>1)eN.d1(ao,b8,ke,s,g9-1);if(e=="PlsW"){var iI=new Uint8Array(ao.buffer);for(var c=0;c<S;c++){var gQ=c<<2,fk=ao[c],eJ=b8[c],cb=1/(Math.sqrt(1+fk*fk)*Math.sqrt(1+eJ*eJ)),dK=cb*cb,ha=dK*dK,y=~~(255*(ha*ha*dK));
iI[gQ+0]=y;iI[gQ+1]=y;iI[gQ+2]=y;iI[gQ+3]=y}i.buffer.set(A.buffer);j.s.eZ("norm",iI,s,i.buffer,s,s,a.HghS.v/20)}else if(e=="Chrm"){var hA=i.buffer,dW=D>>>1,fN=n>>>1;
for(var c=0;c<S;c++){var gQ=c<<2,fk=ao[c],eJ=b8[c],cQ={x:1,y:0,s7:fk};b6.cm(cQ);var h6={x:0,y:1,s7:eJ};
b6.cm(h6);var hh=b6.abf(cQ,h6),bA=1/hh.s7,co=~~Math.max(0,Math.min(D-1,dW-hh.x*bA*dW)),ej=~~Math.max(0,Math.min(n-1,fN-hh.y*bA*fN)),y=j9[ej*D+co];
hA[gQ+0]=y;hA[gQ+1]=y;hA[gQ+2]=y}}}}if(e=="Gls"||e=="OcnR"||e=="Txtz"){var bk=e=="OcnR"?2:eN.u5.indexOf(a.TxtT.v.TxtT),h5=eN.U0(bk),bg=h5[0],j9=h5[1],aQ=bg.m,fw=bg.n,eS=24,kt=0,iJ,ih;
function jC(ak,gs,gk){return~~(e0*(ak+gs)+8192)&127}var ao=new Float32Array(S),b8=new Float32Array(S),ke=new Float32Array(i.buffer.buffer),e0=e=="OcnR"?1/(1+(a.RplS.v-1)*.1):100/a.Scln.v;
if(bk==3)e0*=32/22.2;var dk=Date.now(),eU=e0,k6=1.4/D,jx=1.4/n;if(e=="Txtz"){eU*=1/255;eS=256}for(var O=0;
O<n;O++){var iV=jC(O,s.y,fw),iL=iV+1&127;for(var g=0;g<D;g++){var c=O*D+g,kh=jC(g,s.x,aQ),gq=kh+1&127,hT=0,gi=0,bD=0;
if(e=="Txtz"){hT=j.K.Au(e0*g,e0*O,j9,128,128);gi=j.K.Au(e0*g,e0*O+1,j9,128,128);bD=j.K.Au(e0*g+1,e0*O,j9,128,128)}else{hT=j9[iV*aQ+kh];
gi=j9[iL*aQ+kh];bD=j9[iV*aQ+gq]}ao[c]=Math.max(-eS,Math.min((bD-hT)*eU,eS));b8[c]=Math.max(-eS,Math.min((gi-hT)*eU,eS))}}if(e=="Txtz")eN.akK(ao,b8,ke,s,6);
else eN.d1(ao,b8,ke,s,e=="Txtz"?1:e=="OcnR"?3.5/e0:a.Smth.v);if(e=="Txtz")kt=a.InvT.v?-1:1;else if(e=="Gls"){kt=[1,.4,.5,.5][bk]*(Math.exp(a.Dstr.v*.155)-1);
if(a.InvT.v)kt=-kt}else{kt=.5*(Math.exp(a.RplM.v*.155)-1)}var hA=i.buffer;if(e=="Txtz"){var ay=(2+eN.Y3.indexOf(a.LghD.v.LghD))*Math.PI*.25,cX=Math.cos(ay),kj=Math.sin(ay);
iJ={x:cX,y:kj,s7:0};b6.cm(iJ);ih=a.Rlf.v;ih=ih/4+Math.max(0,(ih-35)*2)}function fr(cQ,h6,aS){var b3=j.s.overF(h6,cQ,1),ak=(1-aS)*cQ+aS*(aS*h6+(1-aS)*b3);
return ak*255}for(var O=0;O<n;O++)for(var g=0;g<D;g++){var c=O*D+g,gQ=c<<2,fk=ao[c],eJ=b8[c],cQ={x:1,y:0,s7:fk};
b6.cm(cQ);var h6={x:0,y:1,s7:eJ};b6.cm(h6);var hh=b6.abf(cQ,h6);if(e=="Txtz"){var ad=b6.ale(hh,iJ)*kt,aS=1,y=1;
if(ad<0){y=0;ad=-ad}aS=Math.min(1,ad*ih);hA[gQ+0]=~~fr(A.buffer[gQ]*(1/255),y,aS);hA[gQ+1]=~~fr(A.buffer[gQ+1]*(1/255),y,aS);
hA[gQ+2]=~~fr(A.buffer[gQ+2]*(1/255),y,aS)}else{var bA=kt/hh.s7,co=~~Math.max(0,Math.min(D-1,g-hh.x*bA)),ej=~~Math.max(0,Math.min(n-1,O-hh.y*bA)),cD=ej*D+co<<2;
hA[gQ+0]=A.buffer[cD];hA[gQ+1]=A.buffer[cD+1];hA[gQ+2]=A.buffer[cD+2]}}}if(e=="PntD"){var dR=a.Shrp.v*.4,cz=a.BrsT.v.BrsT,b0={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[cz],jT=Math.round(a.Sz.v*.5);
j.Cr.cw=b0[0];j.Cr.dH(A.buffer,i.buffer,D,n,jT,0,[]);var bW=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];bW=j.N_.ZB(bW);
var aU=i.buffer.slice(0);j.N_.LP(aU,i.buffer,D,n,bW,0);for(var c=0;c<A.buffer.length;c++){var ff=i.buffer[c]-aU[c];
i.buffer[c]=Math.max(0,Math.min(255,aU[c]+dR*ff))}}if(e=="GlwE"){var ca=i.buffer.slice(0);j.Cr.cw=.5;
j.Cr.dH(A.buffer,ca,D,n,a.Smth.v>>>1,0,[]);j.N_.wB(ca,i.buffer,D,n);j.GZ(i.buffer,ca);j.rQ(ca);j.fV(ca,4278190080,16777215);
j.t8.avm(ca,i.buffer,D,n,(a.EdgW.v>>>1)*2+1,!0);var cT=a.EdgB.v/10;for(var c=0;c<ca.length;c++){if((c&3)==3)continue;
var b3=i.buffer[c];i.buffer[c]=Math.max(0,Math.min(255,b3*cT))}}if(e=="StnG"){j.ah.aiX(A.buffer,D,n,i.buffer,a.ClSz.v,[Math.round(p.o),Math.round(p.J),Math.round(p.k)],a.BrdT.v)}if(e=="HlfS"){var hK=a.HlSz.v,cS=hK*2+1,e3=a.Cntr.v,j8=eN.k_.indexOf(a.ScrT.v.ScrT),S=D*n,jd=S*4,eX=j.Q(S),h4=A.buffer,cY=0,fO=0;
eN.Zu(h4,eX);var ky=eX.slice(0);j.Vr.ZT(ky,eX,s,hK);var iY=Math.PI/cS,iX=new Float64Array(D),cX=new Float64Array(D),h9=new Float64Array(2*D);
for(var g=0;g<D;g++){var kh=(g-(D>>>1))*iY;iX[g]=kh*kh;cX[g]=Math.cos(kh);var fk=g<<1;h9[fk]=Math.sin(fk*(1/4.5));
h9[fk+1]=Math.sin((fk+1)*(1/4.5))}for(var O=0;O<n;O++){var iV=(O-(n>>>1))*iY,kj=Math.cos(iV),hf=iV*iV;
for(var g=0;g<D;g++){var y=kj;if(j8==0){var hQ=.5+Math.sqrt(iX[g]+hf)*4.5;y=h9[~~hQ]}else if(j8==1){y=cX[g]*kj}var c=O*D+g,aC=eX[c]*(.75+.25*y),aS=h4[(c<<2)+3]*(1/255),ds=Math.max(0,Math.min(255,~~aC));
cY+=ds*aS,fO+=aS;eX[c]=ds}}cY/=fO;var e7=128+1.26*(cY-128),cT=.08+.25*Math.abs((128-cY)/128),jv=1+cT*e3;
for(var c=0;c<S;c++){var aC=e7+(eX[c]-e7)*jv;eX[c]=Math.max(0,Math.min(255,~~aC))}if(e3>46)j.round(eX);
eN.X5(eX,i.buffer,p,N)}for(var c=0;c<A.buffer.length;c+=4)i.buffer[c+3]=A.buffer[c+3]};eN.X5=function(e,A,a,p){var N=e.length,i=a.o,Z=a.J,s=a.k,D=p.o,n=p.J,S=p.k;
for(var c=0;c<N;c++){var F=e[c]*(1/255),$=1-F,m=c<<2;A[m]=~~(i*$+D*F);A[m+1]=~~(Z*$+n*F);A[m+2]=~~(s*$+S*F)}};
eN.U0=function(e){if(e==6)e=2;var A="blocks canvas frosted tinylens brick burlap".split(" ")[e];if(eN.zi==null)eN.zi=[];
if(eN.zi[e]==null){var a,p;if(e==2){p=new dE(0,0,128,128);var N=hZ.T$("AdNs");N.Mnch.v=!0;N.Dstr.v.Dstr="Gsn";
N.Nose.v.val=50;var a=j.Q(p.O()*4),i=a.slice(0);new Uint32Array(i.buffer).fill(4286611584);hZ.Eo("AdNs",{buffer:i,rect:p},N,0,0,{buffer:a,rect:p})}else{var Z=fI.lj.get("tex/"+A,!0)[0];
p=Z.WJ;a=new Uint8Array(Z.data)}var s=j.Q(p.O());j.kI(a,s,0);eN.zi[e]=[p,s]}return eN.zi[e]};eN.d1=function(e,A,a,p,N){if(N<=1){N=Math.round(N);
eN.akK(e,A,a,p,[1,16,4][N]);return}var i=N*.42;if(e){j.Vr.Lk(e,a,p,i,3);e.set(a)}if(A){j.Vr.Lk(A,a,p,i,3);
A.set(a)}};eN.akK=function(e,A,a,p,N){var i=j.N_.ZB([1,2,1,2,N,2,1,2,1]);if(e){a.set(e);j.N_.KC(e,a,p.m,p.n,i);
e.set(a)}if(A){a.set(A);j.N_.KC(A,a,p.m,p.n,i);A.set(a)}};eN.xJ=function(e){if(e==null)return new k7(0,0);
var A=0,a=e.GEfs?e.GEfs.v:[{v:e}];for(var c=0;c<a.length;c++){var p=a[c].v,i=1e4;if(p.GELv&&!p.GELv.v)continue;
var N=p.GEfk.v.GEft;if(N=="GlwE"||N=="Phtc"||N=="BsRl"||N=="PlsW"||N=="Chrm"||N=="Gls"||N=="OcnR"||N=="InkO")i=0;
A=Math.max(A,i)}return new k7(A,A)};eN.a6U=function(e){var A=[0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][e];
for(var c=0;c<13;c++){var p=c-6;A[c]=1/(a*Math.sqrt(2*Math.PI))*Math.exp(-.5*(p/a)*(p/a))}return A};
eN.av_=function(e,A,a,p,N){var i=eN.a6U(N),Z=6,s=13;for(var D=0;D<p;D++)for(var n=0;n<a;n++){var S=D*a+n<<1,F=0,$=0;
for(var c=0;c<s;c++){var m=n+c-Z,J=m<0?0:m>=a?a-1:m,w=(D*a+J)*2,f=i[c];F+=f*e[w];$+=f*e[w+1]}A[S]=F;
A[S+1]=$}};eN.a3g=function(e,A,a,p,N){var i=eN.a6U(N),Z=6,s=13;for(var D=0;D<p;D++)for(var n=0;n<a;n++){var S=D*a+n<<1,F=0,$=0;
for(var c=0;c<s;c++){var m=D+c-Z,J=m<0?0:m>=p?p-1:m,w=(J*a+n)*2,f=i[c];F+=f*e[w];$+=f*e[w+1]}A[S]=F;
A[S+1]=$}};function im(){}im.E_=[2,5,5,7,4,4];im.U6="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
im.Jd="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
im.Wj=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
im.pm=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
im.ac=function(e){if(e=="passThrough")return"pass";return im.U6[im.Jd.indexOf(e)]};im.Pj=function(e){if(e=="pass")return"passThrough";
return im.Jd[im.U6.indexOf(e)]};im.getName=function(e){return im.Wj[im.U6.indexOf(e)]};function u(){this.rect=null;
this.buffer=null;this.Mi="norm";this.opacity=255;this.G0=!1;this.OO=0;this.g0=0;this.Cd=!0;this.NM=[];
for(var c=0;c<10;c++)this.NM.push(0,0,255,255);this.name=null;this.add={};this.$y=null;this.zd=null;
this.$=null;this.SW=null;this.avl=30;this.b8=null;this.EF=null;this.MI=null;this.mC=null;this.os=0;this.Bp=!1;
this.b0=null;this.P5=new u.K3}u.K3=function(){this.pv=!0;this.g4=!0;this.UU=j.Q(0);this.aeU=j.Q(0);this.x0=null;
this.me={};this.a1m=null;this.vl=null;this.L7=null;this.bT=null;this.te=null;this.lG=null;this.Iz=null;
this.Qz=null;this.qG=null;this.Iv=null;this.sX=null;this.Zj=null;this.zZ=!1};u.K3.prototype.acU=function(){this.pv=null;
this.g4=!1;this.x0=null;this.zZ=fG.Jg};u.K3.prototype.abw=function(){b6.a10(this.me);this.UU=j.Q(0);
this.aeU=j.Q(0);if(this.bT)this.bT.delete();if(this.te)this.te.delete();this.bT=null;this.te=null;var e=[this.lG,this.Iz,this.Qz,this.qG,this.Iv,this.sX];
for(var c=0;c<6;c++)if(e[c]!=null&&e[c]instanceof fG.js)e[c].delete();this.lG=null;this.Iz=null;this.Qz=null;
this.qG=null;this.Iv=null;this.sX=null};u.prototype.U=function(e){if(e==null)e=this.rect.clone();if(this.P5.x0==null)this.P5.x0=e;
else this.P5.x0=this.P5.x0.pg(e)};u.prototype.yg=function(){return this.add.lsct==ez.MV||this.add.lsct==ez.St};
u.prototype.c7=function(){var e=this.add;return e.SoCo!=null||e.GdFl!=null||e.PtFl!=null};u.prototype.alc=function(){var e=this.add.lmfx;
if(e==null)return;var A=["GrFl","patternFill"];for(var c=0;c<A.length;c++){var a=iF.RU[iF.order.indexOf(A[c])],p=e[a].v;
if(p.length==0)continue;for(var N=0;N<p.length;N++){var i=p[N].v;if(i.enab.v&&(i.Algn==null||!i.Algn.v))this.P5.g4=!0}}};
u.prototype.a34=function(){var e=this.$,A=this.P5.pv;if(this.c7())e=this.tR();if(!fG.Jg)return e.W8();
if(this.P5.te==null||A||fG.Jg!=this.P5.zZ){var a=e.V0(),p=this.P5.te,N=null;if(A!=!0&&A!=null){N=A.clone();
N.offset(-a.x,-a.y)}if(p==null||p.m!=a.m||p.n!=a.n){p=this.P5.te=new fG.rL(a.m,a.n);N=null}p.set(e.W8(),N)}return this.P5.te};
u.prototype.a2Y=function(e){var A=this.rect,a=this.buffer;if(!fG.Jg){var p=this.nC(e,a,A);if(p){a=p.Qi;
A=p.rect}return a}if(this.P5.x0!=null||fG.Jg!=this.P5.zZ){var p=this.nC(e,a,A);if(p){a=p.Qi;A=p.rect}var N=A;
if(fG.Jg!=this.P5.zZ||this.P5.bT==null||this.P5.bT.m!=N.m||this.P5.bT.n!=N.n){if(this.P5.bT)this.P5.bT.delete();
this.P5.bT=new fG.js(N.m,N.n);this.P5.bT.set(a)}else{var i=this.P5.x0.clone();i.offset(-A.x,-A.y);this.P5.bT.set(a,i)}}return this.P5.bT};
u.prototype.q7=function(){var e=this.$;if(this.c7())e=this.tR();return e!=null&&e.isEnabled&&(!e.rect.QP()||e.kq()!=255)};
u.prototype.nC=function(e,A,a){if(this.$f()){var p=this.MH(e);if(p.$&&p.$.isEnabled&&(!p.$.rect.QP()||p.$.color==0)){var N=this.add.SoLd.filterFX.v;
p.$.Yi=N.filterMaskDensity?N.filterMaskDensity.v:255;p.$.UO=N.filterMaskFeather?N.filterMaskFeather.v:0;
var i=p.buffer,Z=p.rect;if(Z.O()<a.O()){Z=a;i=j.Q(Z.O()*4);j._M(p.buffer,p.rect,i,Z)}var s=p.$.wx(a);
j.rQ(s);A=A.slice(0);j.s.Lq(i,Z,A,a,s,a,0,a,1);return{Qi:A,rect:a}}}};u.prototype.a66=function(){var e={o1:!1,ST:!1,fI:0,$I:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)e.ST=!0;if(this.tR()&&this.tR().isEnabled)e.o1=!0;if(e.o1&&e.ST){e.fI=this.tR().rect.x-this.add.vmsk.tR().rect.x;
e.$I=this.tR().rect.y-this.add.vmsk.tR().rect.y}return e};u.prototype.yO=function(e,A){this.P5.MY=null;
if(A&&this.tR().UO!=0){A=A.clone();var a=Math.round(this.tR().UO*2.4);A.Fu(a,a)}var p=!1;if(this.add.lsct==ez.Nr)return;
var N=this,i=this.tR()!=null&&this.tR().zv,Z=this.add.vmsk!=null&&this.add.vmsk.zv,s=this.a66(),D=JSON.stringify(s)!=this.P5.a1m||s.o1&&i||s.ST&&Z;
if(D){if(s.ST){var n=this.add.vmsk.tR();if(s.o1){this.$=this.tR()._n(n);this.P5.vl=new k7(this.$.rect.x-this.tR().rect.x,this.$.rect.y-this.tR().rect.y)}else this.$=n}if(this.$)p=!0;
if(this.$)this.P5.L7=new k7(this.rect.x-this.$.rect.x,this.rect.y-this.$.rect.y);if(s.o1)this.tR().zv=!1;
if(s.ST)this.add.vmsk.zv=!1;this.U(A)}else{if(s.o1&&s.ST){this.$.rect.x=this.tR().rect.x+this.P5.vl.x;
this.$.rect.y=this.tR().rect.y+this.P5.vl.y}}if(N.c7()){this.Si(e)}if(N.JD()){var S;if(this.$)S=new k7(this.rect.x-this.$.rect.x,this.rect.y-this.$.rect.y);
if(this.$&&this.$.isEnabled&&(this.P5.L7==null||!S.Kx(this.P5.L7))){this.P5.L7=S;this.U(A);p=!0}}if(a7.get(N.add)!=null)p=!0;
if(p){var F=this.P5.pv;if(A&&F&&F!=!0)F=F.pg(A);else F=A?A:!0;this.P5.pv=F}this.P5.a1m=JSON.stringify(s)};
u.prototype.Si=function(e){var A=this,a=A.add.vstk,p=new dE(0,0,e.m,e.n),N,i=A.add.vmsk?this.add.vmsk.tR():null,D=!0,F;
if(i&&i.isEnabled&&i.kq()==0)N=i.V0().clone();else N=p;var Z=A.tR();if(Z&&Z.isEnabled&&Z.kq()==0)N=N.Yn(A.$.V0());
var s=i&&a;if(a&&(!a.strokeEnabled.v||a.strokeStyleLineWidth.v.val==0))s=!1;if(a&&!a.fillEnabled.v&&s)D=!1;
var n=j.Q(N.O()*4);if(D){if(A.add.SoCo)b6.eB(n,A.add.SoCo.Clr.v);if(A.add.GdFl){var S=i&&i.color==0?j.r.km(A.add.vmsk.i,null,!0):null;
b6.xf(A.add.GdFl,n,N,e,null,S)}if(A.add.PtFl)b6.h6(A.add.PtFl,n,N,e.add.Patt,A.add.fxrp)}if(s)F=iF.kE.R0.indexOf(a.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(i){var $=i.Yi;if(s)i.Yi=255;var m=j.Q(N.O());if(i.kq()!=0)m.fill(Math.round(i.kq()));if(i&&i.isEnabled){var J=i.V0(),w=i.W8();
if(J.Kx(N))j.GZ(w,m);else j.WP(w,J,m,N)}if(s&&F==2){}else{if(A.add.SoCo&&D){j.Ao(m,n,3)}else j.R7(m,N,n,N)}if(s)i.Yi=$}A.buffer=n;
A.rect=N;if(s){var f=a.strokeStyleContent.v,b=iF.kE.GD.indexOf(f.classID),L=this.add.vmsk.tR(a);if(F!=0&&!A.rect.Kx(p))A.extend(A.rect.pg(L.V0()));
var $=L.Yi;L.Yi=255;var C=L.wx(A.rect);L.Yi=$;if(L.color==255)j.rQ(C);var M=j.Q(A.rect.O()*4);if(b==0)b6.eB(M,f.Clr.v);
if(b==1)b6.xf(f,M,A.rect,e,null,i.color==0?i.rect:null);if(b==2)b6.h6(f,M,A.rect,e.add.Patt,A.add.fxrp);
var y=a.strokeStyleOpacity.v.val/100;if(y!=1)j.IA(C,y);if(L.color==255)F=2-F;if(F<2){j.s.Lq(M,A.rect,A.buffer,A.rect,C,A.rect,255,A.rect,1,!1);
if(F==0)j.Qr(m,A.buffer)}if(F==2){j.Qr(C,M);j.rQ(m);j.s.Lq(M,A.rect,A.buffer,A.rect,m,N,255,A.rect,1,!1);
j.rQ(m)}if(L.Yi!=255){var Q=M.slice(0);j.fV(Q,4278190080,16777215);j.s.eZ("norm",Q,A.rect,A.buffer,A.rect,A.rect,1-L.Yi/255)}$=i.Yi;
i.Yi=255;this.aeU=i.wx(A.rect);i.Yi=$}this.U()};u.prototype.kf=function(e,A,a){var p=this,N=p.add.SoLd.Idnt.v,i=p.add.SoLd,Z=j.p.i9(q.BD.KR(i.nonAffineTransform)),s=e.Bu(N,i.Crop?i.Crop.v:null,[Z.m,Z.n],i.Impr.v.classID,a),m=1;
if(s==null)return;var D=s.G9;i.Sz.v.Wdth.v=D[1].m;i.Sz.v.Hght.v=D[1].n;var n=s.l5==null?i.Rslt.v.val:s.l5,S=i.warp.v,F=q.BD.KR(i.nonAffineTransform),$=D[1].clone();
$.m*=m;$.n*=m;$.x=(D[1].m-$.m)/2;$.y=(D[1].n-$.n)/2;var J=j.K.wK(F,$);if(S&&!j.Ww.$O(S)){var Z=j.p.i9(j.Ww.uB(S)),w=Z.x,f=Z.y,b=1/Z.m,L=1/Z.n;
J=j.K.wK(F);J=j.K._n(J,[b,0,-w*b,0,L,-f*L,0,0])}var C=q.BD.K0(D,A?0:1,J,S,null,null,null,A);if(C==null){p.buffer=j.Q();
p.rect=new dE}else if(p.$f()){var M=p.MH(e);M.buffer=C.buffer;M.rect=C.rect.clone();this.Dc(e,A)}else{p.buffer=C.buffer;
p.rect=C.rect}p.yO(e);p.U();e.U()};u.prototype.Dc=function(e,A){if(A==null)A=!1;var a=this.MH(e),p=this.add.SoLd.filterFX.v,N=hZ.aos(p),i=new dE(0,0,e.m,e.n),Z=a.rect.pg(i),s=a.rect.clone();
s.Fu(N.x,N.y);var D={buffer:null,rect:Z.Yn(s)};D.buffer=j.Q(D.rect.O()*4);j._M(a.buffer,a.rect,D.buffer,D.rect);
if(p.enab.v&&A==!1){var n=p.filterFXList.v;for(var c=0;c<n.length;c++){var S=n[c].v;if(S.enab.v==!1)continue;
var F=S.blendOptions.v,$=im.ac(F.Md.v.BlnM),m=F.Opct.v.val/100,J=j.M.kq(S.FrgC.v),w=j.M.kq(S.BckC.v),f=hZ.tp(S),b={buffer:j.Q(D.buffer.length),rect:D.rect.clone()},L=S.Fltr?S.Fltr.v:null;
if(a7.Dn[f]!=null){var C=a7.Dn[f],M=a7.EN(C,L);if(M)a7.Eo(M,D.buffer,b.buffer,D.rect)}else hZ.Eo(f,D,L,J,w,b,[e.add.lnk2?e.add.lnk2:[],this.tR(),e.l8]);
if($=="norm"&&m==1)D=b;else if($=="norm"){j.s.Lq(b.buffer,b.rect,D.buffer,D.rect,null,null,null,D.rect,m)}else{j.s.eZ($,b.buffer,b.rect,D.buffer,D.rect,D.rect,m)}}}this.rect=D.rect;
this.buffer=D.buffer;this.Yk();this.U();e.U()};u.prototype.nU=function(e,A,a){this.b0=this.a0T(e,A,a)};
u.prototype.jw=function(e,A){var a=this.a0T(e,A,!0);if(a==null)return null;var p={wq:a.os,bD:a.y9,rect:a.r4};
if(p.wq==1||p.wq==3){var N=p.rect,i=j.Q(N.m*N.n*4);j.Ao(p.bD,i,0);j.Ao(p.bD,i,1);j.Ao(p.bD,i,2);j.bI(e.P.channel,e.P.rect,i,N);
p.bD=i}return p};u.prototype.a0T=function(e,A,a){var p,N,i,Z,s,D,n;if(this.os<=0){var S=j.Q(this.rect.O());
j.kI(this.buffer,S,3);p=j.ab.yz(A,{channel:S,rect:this.rect},3);if(p==null)return null;var F=j.WC(p.channel,p.rect);
Z=p.rect.clone();s=this.rect.clone();N=j.Q(Z.O()*4);j._M(this.buffer,s,N,Z);j.Ao(p.channel,N,3);i=this.buffer.slice(0);
if(!a){var $=A.channel.slice(0);j.rQ($);j.R7($,A.rect,i,s)}D=this.buffer.slice(0);n=this.rect.clone()}if(this.os==1||this.os==3){var m=this.os==1?this.tR():this.MH(e).$;
Z=A.rect.clone();s=m.rect.clone();N=m.bF(Z);var i=m.channel.slice(0);if(!a)j.s.xL(m.color==255?j.fo(Z.O()):j.ou(Z.O()),Z,i,s,A.channel,Z,1);
D=m.channel.slice(0);n=m.rect.clone()}return{os:this.os,y9:N,r4:Z,aV:i,ZU:s,Yu:D,LV:n}};u.prototype.Tj=function(e,A){var a=this.b0;
if(a.os==0){this.rect=a.LV;this.buffer=a.Yu;this.U()}if(a.os==1||a.os==3){var p=a.os==1?this.tR():this.MH(e).$;
p.channel=a.Yu;p.rect=a.LV;if(this.os==1){p.zv=!0;this.yO(e)}if(this.os==3)this.U()}this.b0=A};u.prototype.EV=function(e,A){if(this.os<=0&&A.rect.Kx(this.rect)){var a=j.Q(this.rect.O());
j.kI(this.buffer,a,3);if(j.Kx(e.P.channel,a)){var p=this.rect,N=this.buffer;this.b0={os:this.os,y9:N.slice(0),r4:p.clone(),aV:j.Q(0),ZU:new dE,Yu:j.Q(0),LV:new dE};
return!0}}var i=this.b0;if(i==null)return!1;if(i.os!=this.os)return!1;if(!A.rect.Kx(i.r4))return!1;var Z=i.ZU.pg(i.r4);
if(i.os<=0){if(!Z.Kx(this.rect))return!1;var s=j.Q(i.y9.length>>2);j.kI(i.y9,s,3);if(!j.Kx(A.channel,s))return!1;
var D=j.Q(Z.m*Z.n*4);j._M(i.aV,i.ZU,D,Z);j.s.eZ("norm",i.y9,i.r4,D,Z,Z,1);return j.Kx(D,this.buffer)}if(i.os==1||i.os==3){var n=i.os==1?this.tR():this.MH(e).$;
if(!Z.Kx(n.rect))return!1;var S=j.Q(Z.O());S.fill(n.color);j.WP(i.aV,i.ZU,S,Z);j.s.xL(i.y9,i.r4,S,Z,A.channel,Z,1);
return j.Kx(S,n.channel)}};u.prototype.YT=function(e,A,a,p){var N=this.b0;N.r4.offset(A,a);var i=N.ZU.pg(N.r4);
if(N.os<=0){var Z=j.Q(i.O()*4);j._M(N.aV,N.ZU,Z,i);j.s.eZ("norm",N.y9,N.r4,Z,i,i,1);this.buffer=Z;this.rect=i;
this.U()}else{var s=this.os==1?this.tR():this.MH(e).$,D=j.Q(i.O());D.fill(s.color);j.WP(N.aV,N.ZU,D,i);
j.s.xL(N.y9,N.r4,D,i,p.channel,i,1);s.channel=D;s.rect=i.clone();if(this.os==1){s.zv=!0;this.yO(e)}if(this.os==3)this.U()}};
u.prototype.aus=function(){var e=[-1,0,1,2];if(this.$)e.push(-2);if(this.SW)e.push(-3);return e};u.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
u.prototype.i4=function(iM){this.add.luni=this.name=iM};u.prototype.H0=function(e){var A=this.add.lnsr,a=this.add.TySh;
if(A=="rend"&&a){var p=eG.Ob(a._t);this.i4(p.slice(0,p.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
u.prototype.gi=function(){return(this.OO&1<<1)==0};u.prototype.JD=function(){return(this.OO&1<<4)==0};
u.prototype.lu=function(){return(this.OO&1<<5)!=0};u.prototype.ahH=function(){var e=this;if(e.add.lnsr!="bgnd"){e.add.lnsr="bgnd";
e.i4("Background");e.add.lspf=1<<2}};u.prototype.a9_=function(){var e=this;if(e.add.lnsr=="bgnd"){delete e.add.lnsr;
e.i4("Layer 0");e.add.lspf=0}};u.prototype.xF=function(e){var A=this.add.lspf;return A==null?!1:(A>>e&1)!=0};
u.prototype.d8=function(e){if(e&&!this.gi())this.OO-=2;if(!e&&this.gi())this.OO+=2};u.prototype.Ma=function(){var e=this.add.lmfx;
if(e==null)return!1;for(var A in e){if(A=="masterFXSwitch")continue;if(A=="Scl")continue;if(A=="classID")continue;
if(e[A].v.length>0)return!0}return!1};u.prototype.$f=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
u.prototype.TC=function(){var e=this.add.lmfx;if(e==null)return!1;if(!e.masterFXSwitch.v)return!1;for(var A in e){if(A=="masterFXSwitch")continue;
if(A=="Scl")continue;if(A=="classID")continue;var a=e[A].v;for(var c=0;c<a.length;c++)if(a[c].v.enab.v)return!0}return!1};
u.prototype.SK=function(e,A,a,p){var N=new dE,i=this.oC(e,a,p);if(i.indexOf(0)!=-1)N=N.pg(this.rect);
if(i.indexOf(1)!=-1){var Z=this.tR(),s=Z.V0();N=a&&Z.kq()==0?N.QP()?s:N.Yn(s):N.pg(s)}if(i.indexOf(2)!=-1){var D=this.add.vmsk,n=this.add.vstk,S;
if(A){S=j.r.km(D.i,D.g.length!=0?D.g:null)}else S=j.r.km(D.i);if(!p&&n&&n.strokeEnabled.v){var F=n.strokeStyleLineAlignment.v.strokeStyleLineAlignment,$=n.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(F!="strokeStyleAlignInside"){var m=n.strokeStyleLineWidth.v.val;if($=="strokeStyleMiterJoin")S=new dE(0,0,e.m,e.n);
else S.Fu(m,m)}}N=N.pg(S)}if(i.indexOf(3)!=-1)N=N.pg(this.MH(e).$.V0());if(i.length==0&&this.c7())N=p?new dE(0,0,0,0):new dE(0,0,e.m,e.n);
return N};u.prototype.UY=function(){var e=this.add.artb,A=e.artboardBackgroundType.v,a=0;if(A==1)a=4294967295;
else if(A==2)a=4278190080;else if(A==3)a=0;else if(A==4){a=e.Clr.v;a=255<<24|a.Bl.v<<16|a.Grn.v<<8|a.Rd.v}else throw A;
return a};u.prototype.jP=function(){var e=this.add.artb.artboardRect.v,A=e.Btom.v,a=e.Left.v,p=e.Rght.v,top=e.Top.v;
return new dE(a,top,p-a,A-top)};u.prototype.Mx=function(e){var A=u.DI(e);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=A};u.DI=function(e){var A={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
A.Btom.v=e.y+e.n;A.Left.v=e.x;A.Rght.v=e.x+e.m;A.Top.v=e.y;return A};u.prototype.oC=function(e,A,a){var p=[],N=this;
if(!A&&N.Bp&&a){p.push(2)}else if(N.os<=0||A){if(N.JD())if(!this.rect.QP())p.push(0);if(N.tR()&&!N.tR().rect.QP())if(N.tR().Fv||A)p.push(1);
if(N.add.vmsk)if(N.add.vmsk.Fv||A)p.push(2);if(N.$f()&&N.MH(e).$&&!N.MH(e).$.rect.QP())p.push(3)}else if(N.os==1){p.push(1);
if(N.tR().Fv&&!N.tR().rect.QP()){if(N.JD())if(!this.rect.QP())p.push(0);if(N.add.vmsk)if(N.add.vmsk.Fv)p.push(2)}}else if(N.os==3&&!N.MH(e).$.rect.QP())p.push(3);
if(N.add.artb&&p.indexOf(0)==-1)p.push(0);p.sort();return p};u.prototype.tR=function(){var e=this;return e.SW?e.SW:e.add.vmsk&&e.add.vmsk.isEnabled?null:e.$};
u.prototype.MH=function(e){var A=this.add.SoLd.placed.v,a=e.add.FEid;if(a==null)return null;for(var c=0;
c<a.length;c++)if(a[c].id==A)return a[c];return null};u.prototype.extend=function(e){j.abJ(this,e)};
u.prototype.a5g=function(e,A,a){var p=e.clone();if(this.TC()){var N=this.add.lmfx,i=A.root.WG(A.B.indexOf(this)),Z=N.gradientFillMulti.v,s=!1;
for(var c=0;c<Z.length;c++)if(Z[c].v.enab.v&&Z[c].v.Algn.v)s=!0;if(s)p=p.pg(i.V0(A,!1));var D=b6.aa_(this.add.lmfx,A,a);
p.offset(D.x,D.y);p.m+=D.m;p.n+=D.n}return p};u.prototype.Yk=function(){if(this.JD())j.jN(this);var e=this.tR();
if(e)e.Yk()};u.prototype.clone=function(){var e=new u;e.rect=this.rect.clone();e.buffer=this.buffer.slice(0);
e.Mi=this.Mi;e.opacity=this.opacity;e.G0=this.G0;e.OO=this.OO;e.name=this.name;e.NM=this.NM.slice(0);
if(this.$)e.$=this.$.clone();if(this.SW)e.SW=this.SW.clone();for(var A in this.add)e.add[A]=cu.clone(A,this.add[A]);
return e};u.prototype.ga=function(e){var A=this;if(A.add.TySh)delete A.add.TySh;if(A.add.SoLd){var a=this.nC(e,this.buffer,this.rect);
if(a){this.buffer=a.Qi;this.rect=a.rect;this.U()}delete A.add.SoLd}if(A.add.SoCo||A.add.GdFl||A.add.PtFl){if(A.add.vogk)delete A.add.vogk;
if(A.add.SoCo)delete A.add.SoCo;if(A.add.GdFl)delete A.add.GdFl;if(A.add.PtFl)delete A.add.PtFl;if(A.add.vmsk){console.log(A.SW,A.$);
delete A.add.vmsk;if(A.SW==null&&A.$)delete A.$;else if(A.SW!=null&&A.$!=null){A.$=A.SW;delete A.SW}}}if(!A.yg()&&a7.get(A.add)==null&&!this.JD())this.OO-=16};
u.prototype.hz=function(e){var A=255,a=0;if(e==2){var p=this.add.SoLd.filterFX.v;if(p.filterMaskDensity)A=p.filterMaskDensity.v;
if(p.filterMaskFeather)a=p.filterMaskFeather.v}else{var N=e==0?this.tR():this.add.vmsk;A=N.Yi;a=N.UO}return{OT:e,Pu:A,s6:a}};
u.prototype.a4N=function(e){if(e.OT==2){var A=this.add.SoLd.filterFX.v;if(e.Pu==255)delete A.filterMaskDensity;
else A.filterMaskDensity={t:"long",v:e.Pu};if(e.s6==0)delete A.filterMaskFeather;else A.filterMaskFeather={t:"doub",v:e.s6};
this.U()}else{var a=e.OT==0?this.tR():this.add.vmsk;a.Yi=e.Pu;a.UO=e.s6;a.zv=!0}};u.prototype.c0=function(){var e=this,A=e.add.vmsk;
if(A==null)return;e.add.vogk=j.X.ayV(A.i)};u.c0=function(e){var A=[],a=j.r.yP(e);for(var p=0;p<a;p++)A.push(j.X.ou());
return A};var ez={$i:0,MV:1,St:2,Nr:3};u.j_=function(){this.name="Mask";this.MC=!1;this.Dv={o:255,J:0,k:0};
this.C4=50;this.lT=0;this.color=255;this.Fv=!0;this.isEnabled=!0;this.VN=!1;this.Yi=255;this.UO=0;this.rect=new dE;
this.channel=j.Q(0);this.XG=null;this.alN=null;this.zv=!0};u.j_.prototype._n=function(e){if(!this.isEnabled)return e;
var A=new u.j_;A.color=Math.round(this.kq()*e.kq()/255);if(this.kq()==0&&e.kq()==0)A.rect=this.V0().Yn(e.V0());
else if(e.kq()==0)A.rect=e.V0().clone();else if(this.kq()==0)A.rect=this.V0().clone();else A.rect=this.V0().pg(e.V0());
A.channel=this.wx(A.rect);A.Yi=255;A.UO=0;var a=e.wx(A.rect);j.apv(a,A.rect,A.channel,A.rect);return A};
u.j_.prototype.V0=function(){if(this.UO==0)return this.rect;var e=Math.ceil(this.UO*2.2),A=this.rect.clone();
if(A.y==0){if(A.x==0)A.m+=e;else A.Fu(e,0);A.n+=e}else A.Fu(e,e);return A};u.j_.prototype.W8=function(){if(this.UO==0&&this.Yi==255)return this.channel;
if(this.UO==0){var e=this.channel.slice(0);j.rQ(e);j.IA(e,this.Yi/255);j.rQ(e);return e}var A=this.V0(),a=this.bF(A),e=j.Q(A.O());
j.Vr.vq(a,e,A,this.UO);if(this.Yi!=255){j.rQ(e);j.IA(e,this.Yi/255);j.rQ(e)}return e};u.j_.prototype.kq=function(){return Math.round(255-(255-this.color)*(this.Yi/255))};
u.j_.prototype.extend=function(e){j.extend(this,e,this.color)};u.j_.prototype.Yk=function(){if(this.color==255)j.rQ(this.channel);
j.Yk(this);if(this.color==255)j.rQ(this.channel)};u.j_.prototype.clone=function(){var e=new u.j_;e.name=this.name;
e.MC=this.MC;e.Dv=this.Dv;e.C4=this.C4;e.lT=this.lT;e.color=this.color;e.Fv=this.Fv;e.isEnabled=this.isEnabled;
e.VN=this.VN;e.Yi=this.Yi;e.UO=this.UO;e.rect=this.rect.clone();e.channel=this.channel.slice(0);return e};
u.j_.prototype.bF=function(e,A){if(A==null)A=j.Q(e.O());A.fill(this.color);j.WP(this.channel,this.rect,A,e);
return A};u.j_.prototype.wx=function(e,A){var a=this.V0(),p=this.W8();if(A==null)A=j.Q(e.O());A.fill(this.kq());
j.WP(p,a,A,e);return A};u.eP=function(){this.Fv=!0;this.isEnabled=!0;this.Yi=255;this.UO=0;this.i=[{type:6},{type:8,all:0}];
this.Cq=[-3,-3];this.J1=!1;this.SW=null;this.zv=!0;this.g=[];this.xw=[]};u.eP.prototype.offset=function(e,A){this.SW=this.tR();
j.r.nM(this.i,new bj(1,0,0,1,e,A));this.SW.rect.offset(e,A)};u.eP.prototype.tR=function(e){if(!this.zv&&this.SW&&e==null){this.SW.isEnabled=this.isEnabled;
return this.SW}var A=j.r.km(this.i),a="strokeStyleLineAlignment",p="strokeStyleLineJoinType";if(A.O()>2e4*2e4)A=new dE(0,0,100,100);
if(e&&e[a].v[a]!="strokeStyleAlignInside"){var N=1;if(e[p].v[p]=="strokeStyleMiterJoin"){var i=j.r.abx(this.i),Z=i/2,s=Math.sin(Z),D=Math.cos(Z);
D/=s;s=1;var N=Math.sqrt(D*D+s*s);if(isNaN(N)||N<1)N=1}N*=e[a].v[a]=="strokeStyleAlignOutside"?1:.5;
var n=Math.ceil(e.strokeStyleLineWidth.v.val*N);n=Math.min(n,600);A.Fu(n,n)}A=j.p.dE(A);var S=new u.j_;
S.color=j.r.Jb(this.i)?0:255;S.Fv=this.Fv;S.isEnabled=this.isEnabled;S.VN=!0;S.rect=A;S.Yi=this.Yi;S.UO=this.UO;
S.channel=j.Q(S.rect.O());if(!A.QP())j.r.avN(this.i,S.channel,S.rect,e);if(e==null){this.SW=S;this.zv=!1}return S};
u.eP.prototype.clone=function(){var e=new u.eP;e.Fv=this.Fv;e.isEnabled=this.isEnabled;e.Yi=this.Yi;
e.UO=this.UO;e.i=u.eP.Zo(this.i);e.Cq=this.Cq.slice(0);e.J1=this.J1;e.g=this.g.slice(0);e.xw=this.xw.slice(0);
return e};u.eP.prototype.concat=function(e){var A=e.i.slice(2);if(A.length==0)return;A[0].kR=3;this.i=this.i.concat(A)};
u.eP.Zo=function(e){var A=[];for(var c=0;c<e.length;c++){var a=e[c];if(a.type>5||a.type==0||a.type==3)A.push(JSON.parse(JSON.stringify(a)));
else A.push({type:a.type,x3:a.x3.clone(),H:a.H.clone(),iD:a.iD.clone()})}return A};u.eP.aqb=function(e,A,a){if(e.length!=A.length)return!1;
for(var c=2;c<e.length;c++){var p=e[c],N=A[c];if(p.type!=N.type)return!1;if(p.type==0||p.type==3){if(p.length!=N.length||!a&&p.kR!=N.kR)return!1}else if(!p.x3.Kx(N.x3)||!p.H.Kx(N.H)||!p.iD.Kx(N.iD))return!1}return!0};
u.eP.prototype.afO=function(){var e=this.i;for(var c=3;c<e.length;c++)if(e[c].type==0||e[c].type==3)e[c].kR=-1};
u.QJ=function(){this.type=null;this.Af=2;this.h0=null;this._c="";this.$e="";this.eR="";this.open=0;this.raw=null;
this.G9=null;this.ayL="";this.Px=!1};u.QJ.prototype.clone=function(){var e=new u.QJ;e.type=this.type;
e.Af=this.Af;e.h0=this.h0;e._c=this._c;e.$e=this.$e;e.eR=this.eR;e.open=this.open;e.raw=new Uint8Array(this.raw.buffer.slice(0));
return e};u.QJ.prototype.WR=function(e,A,a,p,N){if(a==null)a="none";var i=this,Z=fI.ti(i.raw.buffer),s=Z=="svg"||Z=="pdf"||Z=="ai";
if(i.G9){var D=A&&s&&Math.max(i.G9[1].m,i.G9[1].n)<Math.max(A[0],A[1]);if(!D&&a==this.ayL&&!i.Px)return}this.ayL=a;
if(!s)e=0;if(Z==null){alert("Unsupported format: "+z.wc(i.raw,0,4));return null}var n=fI.nP(Z);if(n.S$){var S=new ar(name+(Z=="psd"?"":"-"+Z)+".psd"),F;
n.QS(i.raw.buffer,S,A);var $=new dE(0,0,S.m,S.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(a)!=-1){var m=[];
for(var c=0;c<S.B.length;c++){var J=S.B[c],w=J.buffer;if(!J.rect.Kx($)){w=j.Q($.O()*4);j._M(J.buffer,J.rect,w,$);
console.log("resizing")}m.push(w)}F=j.Q($.O()*4);j.stack.stack(m,F,a)}else{for(var c=0;c<S.B.length;
c++)if(S.B[c].c7())S.B[c].yO(S);if(p&&S.Px){var f=ek.sQ(S,p,N);i.Px=!f;if(f)ek.agg(S,p,N)}S.WF();S.U();
S.HD();F=S.WR()}i.G9=[F,$];i.l5=S.l5!=null&&S.l5!=0?S.l5:72}else if(n){var b=n.QS(i.raw.buffer)[0];i.G9=[new Uint8Array(b.data),b.WJ];
i.l5=b.l5!=null&&b.l5!=0?b.l5:72}if(i.G9){if(e==1){var w=i.G9[0],L=i.G9[1],C=j.Q(L.O());j.kI(w,C,3);
var M=j.WC(C,L),y=j.Q(M.O()*4);j._M(w,L,y,M);M.x=M.y=0;i.G9=[y,M]}j.ff(i.G9)}};u.$A="0";u.vR="2";u.pE="2.5";
u.RW="2.6";u.Zq="3";u.FA="4";u.DY="4.5";u.ayM="4.6";u.aws="5";u.QV="5.5";u.a4Z="6";u.Rn="7";u.adT="8";
u.dq="9";u.CP="9.3";u.as0="9.5";u.cN="9.6";u.SM="10";u.Ts="11";u.si="12";u.Mm="13";u.xG="13.1";u.atF="13.2";
u.JN="13.3";u.zV="13.4";u.cl="14";u.OQ="14.1";u.N6="14.2";u.s$="14.3";u.HW="17";u.EZ="18";u.amC="19";
u.E7="19.5";u.JC="19.6";u.O9="19.7";u.Wq="19.8";u.FO="20";u.MN="21";u.kX="21.5";u.Bf="22";u.TF="22.5";
u.g9="23";u.a6Q="24";u.ml="25";u.a0M="26";u.a2G="27";u.Cy="28";u.N1="29";u.WH="30";u.Ta="31";u.g1="32";
u.aP="33";u.kr="34";u.Q0="35";u.gv="36";u.qr="36.5";u.Aw="37";u.E4="37.5";u.aqQ="37.6";u.GA="38";u.gW="38.5";
u.$b="38.6";u.U4="39";u.Ye="40";u.asK="41";u.GU="42";u.QB="50";u.xo="51";u.EQ="52";u.Or="53";u.pG="54";
u.axr="54.5";u.lN="54.6";u.a7d="54.7";u.We="54.8";u.Rw="55";u.hD="56";u.ZD="57";u.VQ="58";u.wp="59";
u.bm="60";function jo(){this.depth=0;this.index=-1;this.j=null;this.a4l=null;this.$g=-1;this.children=null;
this.parent=null;this.Xq=null}jo.prototype.ac9=function(e,A){if(this.depth!=0)e.push(this.j.getName());
if(this.children)for(var c=0;c<this.children.length;c++)this.children[c].ac9(e,A);if(e.length>A.HG.length)A.HG=e.slice(0);
if(this.depth!=0)e.pop()};jo.prototype.aqD=function(){var e=0;if(this.j.yg()){for(var c=0;c<this.children.length;
c++)e+=this.children[c].aqD()}else if(this.j.buffer)e+=this.j.buffer.length;return e};jo.prototype.WG=function(e){var A=this.Xq[e];
return this.Xq[e]};jo.prototype.a0b=function(e,A){var a=this.j;if(!a.gi()||a.xF(2)||a.xF(31))return null;
if(a.q7()){var p=a.$.rect.CS(e);if(!p&&a.$.color==0)return}if(a.yg()){for(var c=0;c<this.children.length;
c++){var iM=this.children[c];iM.a0b(e,A)}}else if(a.rect.CS(e))A.push(this.index)};jo.prototype.x4=function(e,A){var a=this.j;
if(!a.gi()||a.xF(2)||a.xF(31))return null;if(a.q7()){if(a.$.rect.QX(e)){if(!j.x4(e,a.$.channel,a.$.rect))return null}else if(a.$.color==0)return null}if(a.yg()){if(a.add.artb&&!a.jP().QX(e))return null;
for(var c=this.children.length-1;c>=0;c--){var iM=this.children[c],p=iM.x4(e,A);if(p&&A==null)return p}return null}else if(a.add.TySh&&a.rect.QX(e)||j.akZ(e,a.buffer,a.rect)){if(A==null)return this;
else A.push(this.index)}return null};jo.prototype.a6Z=function(e){var A=this.j;if(!A.gi()||A.xF(2)||A.xF(31))return null;
var a=A.add.vmsk;if(a&&a.isEnabled){var p=j.r.x4(a.i,e).g2;if(p!=-1)return{a0B:this,a16:p}}if(A.yg()){if(A.add.artb&&!A.jP().QX(e))return null;
for(var c=this.children.length-1;c>=0;c--){var iM=this.children[c],N=iM.a6Z(e);if(N)return N}return null}return null};
jo.prototype.Dr=function(e,A){e.push(this.index);if(this.j.yg()){e.push(this.$g);if(A)if(this.j.os==1&&this.j.tR().Fv==!1)return;
for(var c=0;c<this.children.length;c++)this.children[c].Dr(e)}};jo.gq=function(){var e=document.createElement("canvas");
return e.getContext("2d")};jo.adu=function(e,A){var a,p;if(e.m>e.n){a=A;p=Math.floor(A*(e.n/e.m))}else{a=Math.floor(A*(e.m/e.n));
p=A}return new k7(a,p)};jo.PD=32;jo.vL=1;jo.prototype.HF=function(e,A,a){var p=jo.vL,N=this.j;if(N.yg()&&N.add.artb!=null)A=N.jP();
var i=p==0?N.rect:A;if(i.QP()||N.add.TySh)i=A;var Z=jo.PD*q.V(),s=jo.adu(i,Z),D=s.x,n=s.y,S=jo.adu(A,Z);
if(N.c7()&&N.add.vmsk==null||N.add.TySh)D=n=Math.max(n,16);else if(N.yg()){D=n=16}else{D=Math.max(D,6);
n=Math.max(n,6)}if(a&&N.b8==null){N.b8=jo.gq();N.EF=jo.gq();N.MI=jo.gq();N.mC=jo.gq()}var F=N.c7()&&N.add.vmsk;
if(F){if(a&&N.add.vstk)j.ki.$Z(N.b8,D,n,i,N.buffer,N.rect,!1,null,!N.add.vstk.fillEnabled.v&&!N.add.vstk.strokeEnabled.v);
if(a)j.ki.a72(N.b8,D,n)}else if(N.add.TySh){if(a)j.ki.ahU(N.b8,n,n,N.add.TySh)}else if(N.add.SoCo){if(a)j.ki.auP(N.b8,n,n,N.add.SoCo)}else if(N.add.GdFl){if(a)j.ki.a2W(N.b8,n,n,N.add.GdFl)}else if(N.add.PtFl){if(a)j.ki.afJ(N.b8,n,n,N.add.PtFl,e)}else if(a7.get(N.add)!=null){if(a)j.ki.avJ(N.b8,n,n,N.add)}else if(N.add.SoLd){if(a)j.ki.$Z(N.b8,D,n,i,N.buffer,N.rect,!1);
if(a)j.ki.axT(N.b8,D,n,N.add.SoLd)}else if(N.yg()){}else{if(a){if(N.JD())j.ki.$Z(N.b8,D,n,i,N.buffer,N.rect,!1);
else{j.ki.ali(N.b8,n,n)}}}var $=N.tR();if(a){if($)j.ki.b5(N.EF,S.x,S.y,A,$);if(N.$f()&&N.MH(e)&&N.MH(e).$){var m=N.MH(e).$;
j.ki.b5(N.mC,S.x,S.y,A,m)}if(!F&&N.add.vmsk){j.ki.b5(N.MI,S.x,S.y,A,N.add.vmsk.tR(),!0)}}if($||N.add.vmsk)n=Math.max(n,S.y);
N.avl=Math.max(n,16);if(a!=!0&&N.yg()&&(N.add.lsct==ez.MV||e.B.length<4e3))for(var c=0;c<this.children.length;
c++)this.children[c].HF(e,A)};jo.prototype.asH=function(e,A,a,p){this.depth=a;var N=e[A];if(p==null)p=[];
this.Xq=p;if(N.add.lsct==ez.Nr){this.a4l=N;this.$g=A-1;this.children=[];var c=A+1;while(!0){var i=e[c];
if(i==null)console.log(c,e.length);if(i.add.lsct==ez.MV||i.add.lsct==ez.St){if(N.add.lyid==i.add.lyid)N.add.lyid+=16777215;
this.j=i;this.index=c-1;p[this.index]=this;p[A-1]=this;break}var Z=new jo;Z.parent=this;c=Z.asH(e,c,a+1,p);
this.children.push(Z)}return c+1}else{this.j=N;this.index=A-1;p[this.index]=this;return A+1}};jo.prototype.er=function(e,A,a,p){var N=this.WG(a),i=e;
while(N.parent!=null){i=N.j.a5g(i,A,p);N=N.parent}return i};jo.prototype.V0=function(e,A){var a=this.j,p=new dE;
if(!a.gi())return p;var N=a.tR();if(a.yg())for(var c=0;c<this.children.length;c++){var i=this.children[c].V0(e,!0);
p=p.pg(i)}else if(a7.get(a.add)!=null)p=a.q7()&&a.$.color==0?a.$.V0().clone():new dE(0,0,e.m,e.n);else if(a.c7()&&a.add.vmsk&&a.add.vmsk.isEnabled&&a.add.vstk){p=a.rect.clone()}else if(a.c7()&&N&&N.isEnabled&&N.kq()!=0)p=new dE(0,0,e.m,e.n);
else{p=a.SK(e,!1,!0);if(a.add.vmsk)p=j.p.dE(p)}return A?a.a5g(p,e):p};jo.L6={delete:function(e){if(e&&e.m)e.delete()},Q:function(e,A){return fG.Jg?new fG.js(e,A):j.Q(e*A*4)},BT:function(e,A,a){if(fG.Jg){if(e==null||e.m!=A||e.n!=a){jo.L6.delete(e);
return new fG.js(A,a)}}else{if(e==null||!(e instanceof Uint8Array)||e.length!=A*a*4){jo.L6.delete(e);
return j.Q(A*a*4)}}return e},WP:function(e,A,a,p,N){(fG.Jg?fG.ge:j._M)(e,A,a,p,N)},Lq:function(e,A,a,p,N,i,Z,s,c,D,n){(fG.Jg?fG.s.JO:j.s.Lq)(e,A,a,p,N,i,Z,s,c,D,n)},a3J:function(e,A,a,p,N,i,Z,s){var D=a.clone(),n=N.m,S=N.n,F=D.x,$=D.y,m=D.x+D.m>n?-1:0,J=D.x<0?2:1,w=D.y+D.n>S?-1:0,f=D.y<0?2:1;
for(var b=w;b<f;b++)for(var L=m;L<J;L++){D.x=F+L*n;D.y=$+b*S;jo.L6.eZ(e,A,D,p,N,i,Z,s)}},eZ:function(e,A,a,p,N,i,Z,s){if(fG.Jg)fG.s.Cv(e,A,a,p,N,i,Z,s);
else j.s.eZ(e,A,a,p,N,i,Z,s)},fV:function(e,A,a){if(fG.Jg){fG.Wb(e);fG.qw(A,a)}else j.fV(e,A,a)},a13:function(e,A,a,p,N){if(fG.Jg){fG.s.JO(null,null,p,N,e,A,a,N,1,!1)}else{if(a==255)j.R7(e,A,p,N);
else{var i=j.Q(A.O());j.sS(p,N,i,A);j.t_(e,i);j.fV(p,0,16777215);j.bI(i,A,p,N)}}},mj:function(e,A,a,p){if(fG.Jg)fG.s.JO(null,null,a,p,e,A,0,p,1,!1);
else j.mj(e,A,a,p)}};jo.prototype.zG=function(e,A,a,p,N,i){var Z=typeof i=="number";if(!this.j.yg()&&(Z&&this.index>i||!Z&&i.indexOf(this.index)==-1)){return}var s=this.j,D=b6.$z(s),n=jo.L6,S=s.c7()?s.tR():s.$;
if(!s.gi())return;if(s.q7()&&S.rect.QP()&&S.kq()==0){return}if(s.add.vstk==null&&this.V0(p,!1).QP()){return}var F=this.V0(p,!0).Yn(a);
if(!A.Kx(a)&&!a.CS(F))return;if(s.yg()&&s.add.artb){var $=s.jP();a=a.Yn($)}var m=jo.ao2(s,N,D);if(!m){this.ag7(e,A,a,p,N,i);
return}s.P5.lG=n.BT(s.P5.lG,F.m,F.n);n.WP(e,A,s.P5.lG,F,a);this.ag7(s.P5.lG,F,a,p,N,i);n.Lq(s.P5.lG,F,e,A,null,null,0,a,s.opacity/255,s.Mi=="diss",D.wm)};
jo.ao2=function(e,A,a){if(a.wm[0]*a.wm[1]*a.wm[2]==0)return!0;return e.opacity!=255&&(A.length!=0||e.yg()||e.TC())};
jo.ahE={P5:{}};jo.prototype.ag7=function(e,A,a,p,N,i){var Z=this.j,s=b6.$z(Z),D=a7.get(Z.add)!=null,n=jo.L6,S=jo.ao2(Z,N,s),F=S?1:Z.opacity/255,$=Z.c7()?Z.tR():Z.$,m=Z.yg()&&s.xY==null&&(Z.Mi=="pass"||Z.add.artb)&&!(N.length>0||s.fill!=1||Z.TC()),J=!Z.yg()&&!D&&!Z.TC()&&N.length==0,w=D&&!Z.TC()&&N.length==0,y=null,Q=null,k=null,R;
if(m||J||w){var f=e,b=A;if(Z.q7()){b=this.V0(p,!1);f=Z.P5.qG=n.BT(Z.P5.qG,b.m,b.n);n.WP(e,A,Z.P5.qG,b)}if(m)this.BF(f,b,a,p,i);
if(J)n.eZ(Z.Mi,Z.a2Y(p),Z.rect,f,b,a,F,s);if(w){var L=Z.q7()&&$.kq()==0?$.V0().clone():b.clone(),C=Z.P5;
if(L.Kx(new dE(0,0,p.m,p.n)))C=jo.ahE;C.Qz=this.am7(f,b,C.Qz,L,Z.add);s.pd=!0;n.eZ(Z.Mi,C.Qz,L,f,b,a,F,s)}if(Z.q7())n.Lq(f,b,e,A,Z.a34(),$.V0(),$.kq(),a,1,Z.Mi=="diss");
Z.P5.acU();return}var M=Z.yg()&&Z.Mi=="pass"&&(N.length>0||s.fill!=1||Z.TC()),L=Z.rect;if(Z.yg()){L=this.V0(p,!1);
k=Z.P5.Qz=n.BT(Z.P5.Qz,L.m,L.n);n.fV(k,0);this.BF(k,L,L,p,i);Q=n.BT(Z.P5.Iz,L.m,L.n);n.WP(k,L,Q,L)}else if(D){L=Z.q7()&&$.kq()==0?$.V0().clone():A.clone();
Q=n.BT(Z.P5.Iz,L.m,L.n);n.fV(Q,4294967295)}else{L=Z.rect;y=Z.a2Y(p);Q=n.BT(Z.P5.Iz,L.m,L.n);n.WP(y,L,Q,L)}Z.P5.Iz=Q;
if(Z.q7())n.a13(Z.a34(),$.V0(),$.kq(),Q,L);if(Z.TC())if(Z.P5.x0||Z.P5.g4||Z.P5.zZ!=fG.Jg||Z.P5.pv||Z.yg()){var E=Z.add.vmsk,_=j.Q(L.O());
if(b6.asm(Z.add.lmfx)){if(fG.Jg){if(!Z.yg()&&Z.tR()==null&&Z.rect.Kx(L)&&E==null)j.kI(Z.buffer,_,3);
else{var v=j.Q(L.O()*4);Q.get(v);j.kI(v,_,3)}}else j.kI(Q,_,3)}if(Z.P5.g4||Z.P5.zZ!=fG.Jg||!j.Kx(_,Z.P5.UU)){var V=null;
if(Z.c7()&&E&&E.isEnabled&&E.tR().color==0)V=E.tR().rect;b6.a10(Z.P5.me);Z.P5.me=b6.a9j(_,L,Z.add.lmfx,Z.add.fxrp,p,V);
Z.P5.UU=_;Z.P5.age=L}}if(Z.TC())b6.alR(Z.add.lmfx,Z.P5.me,L,e,A,a);if(Z.yg()){y=n.BT(Z.P5.qG,L.m,L.n);
n.fV(y,0);if(Z.Mi=="pass")n.WP(e,A,y,L);if(M)n.mj(k,L,y,L);this.BF(y,L,a,p,i);Z.P5.qG=y}if(D){y=Z.P5.qG=this.am7(e,A,Z.P5.qG,L,Z.add)}if(Z.yg()||D)R=y;
else{R=n.BT(Z.P5.qG,L.m,L.n);n.WP(y,L,R,L,a);Z.P5.qG=R}n.fV(R,4278190080,16777215);for(var c=0;c<N.length;
c++)N[c].zG(R,L,a,p,[],i);var h=Z.P5.Iv=n.BT(Z.P5.Iv,L.m,L.n);n.WP(e,A,h,L,a);if(D)s.pd=!0;n.eZ(Z.Mi=="pass"?"norm":Z.Mi,R,L,h,L,a,1,s);
if(Z.TC()){var P=Z.P5.me.type.FrFX,H=null;if(P.length!=0){H=P[0];for(var c=0;c<P.length;c++)if(P[c].aM.m>H.aM.m)H=P[c];
Z.P5.sX=n.BT(Z.P5.sX,H.aM.m,H.aM.n);n.WP(e,A,Z.P5.sX,H.aM,a);Z.P5.Zj=n.BT(Z.P5.Zj,H.aM.m,H.aM.n)}b6.a7K(Z.add.lmfx,Z.P5.me,L,e,A,a,h,Z.P5.sX,Z.P5.Zj,H?H.aM:null)}if(!fG.Jg){var U=j.Q(L.O());
j.kI(Q,U,3);Q=U}n.Lq(h,L,e,A,Q,L,0,a,1,Z.Mi=="diss");Z.P5.acU()};jo.prototype.ano=function(e,A,a,p){var N=this.j,i=N.add.lmfx,Z=N.add.TySh,s=N.add.SoLd,J=!1,f=null;
if(!N.gi())return;if(!N.rect.QP()&&!N.rect.CS(p))return;A.save();if(N.add.artb){var D=N.jP();A.beginPath();
A.rect(D.x,D.y,D.m,D.n);A.clip();p=p.Yn(D);var n=N.UY();if(n!=0){var D=n>>>16&255,S=n>>>8&255,F=n&255;
A.fillStyle="#"+j.yj(F<<16|S<<8|D);A.fillRect(p.x,p.y,p.m,p.n)}}var $=N.opacity/255*(N.add.iOpa?N.add.iOpa/255:1);
A.globalAlpha*=$;A.globalCompositeOperation=im.pm[im.U6.indexOf(N.Mi)];var m=[];CSS.akG(e,i,m);for(var c=0;
c<m.length;c++){var w=m[c];if(w.startsWith("filter: drop-shadow")){w=w.slice(20,-1).split(" ");A.shadowOffsetX=parseFloat(w[0])*e.u.N;
A.shadowOffsetY=parseFloat(w[1])*e.u.N;A.shadowBlur=parseFloat(w[2])*e.u.N*2.4;A.shadowColor=w[3];J=!0}}var b=b6.aiE(N,J);
if(b){f=A;var L=document.createElement("canvas");L.width=A.canvas.width;L.height=A.canvas.height;var C=A.getTransform();
A=L.getContext("2d");A.setTransform(C.a,C.b,C.c,C.d,C.e,C.f)}function M(g,W){var y=g.P5.MY;if(y==null)y=g.P5.MY=j.p.ef(g.add.vmsk.i,W);
return y}if(N.add.vmsk&&!N.c7()){var y=M(N,!1),Q=y.cH;A.beginPath();Typr.U.pathToContext({cmds:Q.F,crds:Q.w},A);
A.clip()}function k(g,W){return CSS.e0({o:g[0]*255,J:g[1]*255,k:g[2]*255},W)}function E(H,g,W,d){if(H.Ptrn){var gT=b6.h6(H,null,new dE(0,0,1,1),g,W);
d.save();d.translate(gT[2],gT[3]);d.scale(gT[1],gT[1]);d.rotate(-gT[4]);return gT}var r=ju.FJ(H,new bj,N.rect);
if(r.length==3)return[k(r),1];else{var G,Y=r.crds,fk=r.grad;if(r.typ=="lin")G=A.createLinearGradient(Y[0],Y[1],Y[2],Y[3]);
else G=A.createRadialGradient(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]);for(var c=0;c<fk.length;c++)G.addColorStop(fk[c][0],k(fk[c][1],fk[c][2]));
return[G,1]}}if(N.yg()){for(var c=0;c<this.children.length;c++)this.children[c].ano(e,A,a,p)}else if(Z){var _=!0;
if(N.P5.path==null){_=ek.Sh(Z,a.de);if(_)ek.R6(N,a.de,!1)}if(_){if(e.u.N<1)jo.ayy(e,N,A,new bj(1,0,0,1,N.rect.x,N.rect.y),N.P5._q);
else if(N.P5.path){A.save();A.translate(N.rect.x-N.P5.LV.x,N.rect.y-N.P5.LV.y);ek.aiq(N.P5.path,A);A.restore()}}}else if(N.c7()&&N.add.vmsk){var v=N.add.vmsk,V=N.add.vstk,i=N.add.lmfx,R=V.fillEnabled.v;
if(!V.strokeEnabled.v)V=b6.mG(i);var h=V?iF.kE.R0.indexOf(V.strokeStyleLineAlignment.v.strokeStyleLineAlignment):-1,y=M(N,h!=-1),Q=y.cH;
if(v.UO!=0)A.filter="blur("+v.UO*e.u.N+"px)";A.beginPath();Typr.U.pathToContext({cmds:Q.F,crds:Q.w},A);
var P=h==2?[1,0]:[0,1];for(var c=0;c<2;c++){if(P[c]==0&&R){var H=b6.kY(i,N.add),U=H[0],X=H[1];H=N.add.PtFl;
H=H?H:U?U:X;H=E(H,e.add.Patt,N.add.fxrp,A);A.fillStyle=H[0];A.fill(["nonzero","evenodd"][N.P5.MY.r4]);
if(H.length>2)A.restore();if(h==0)A.clip()}if(P[c]==1&&V){var x=E(V.strokeStyleContent.v,e.add.Patt,N.add.fxrp,A);
A.strokeStyle=x[0];j.r.ht(V,A,1/x[1]);A.stroke();if(x.length>2)A.restore()}}}else if(!N.rect.QP()){var K=null,T=null;
if(s){var I=s.filterFX;if(I){var H=I.v.filterFXList.v;for(var c=0;c<H.length;c++){var w=H[c].v;if(!w.enab.v)continue;
var o=hZ.tp(w);if(o=="GsnB"){A.filter="blur("+w.Fltr.v.Rds.v.val*e.u.N+"px)"}}}var l=s.Idnt.v,O=e.Bu(l,s.Crop?s.Crop.v:null);
K=j.K.Ba(s);T=O.G9}jo.ayy(e,N,A,K,T)}if(b){f.save();f.setTransform(1,0,0,1,0,0);f.drawImage(A.canvas,0,0);
f.restore();A=f}A.globalAlpha/=$;A.globalCompositeOperation="source-over";A.restore()};jo.ayy=function(e,A,a,p,N){if(p==null)p=new bj;
var i=A.buffer,Z=A.rect;if(N){var s=p.nZ()*e.u.N,D=0;while(1<<D/2<.5/s&&D+2<N.length)D+=2;i=N[D];Z=N[D+1];
Z=Z.clone();Z.x=Z.y=0;var s=1<<D/2,n=new bj;n.scale(s,s);n.concat(p);p=n}if(Z.QP())return;var S=document.createElement("canvas");
S.width=Z.m;S.height=Z.n;var F=S.getContext("2d");F.putImageData(new ImageData(new Uint8ClampedArray(i.buffer),Z.m,Z.n),0,0);
a.transform(p.gg,p.k,p.b9,p.pU,p.Co,p.dW);a.drawImage(S,Z.x,Z.y);p.rQ();a.transform(p.gg,p.k,p.b9,p.pU,p.Co,p.dW)};
jo.prototype.am7=function(e,A,a,p,N){var i=a7.get(N),Z;if(i)Z=a7.EN(i,N[i]);var s=jo.L6;a=s.BT(a,p.m,p.n);
if(!(fG.Jg&&A.Kx(p)))s.WP(e,A,a,p);if(Z){if(fG.Jg){var D=p.clone();D.x=D.y=0;if(A.Kx(p)){fG.Wb(a,D);
a7.Sk(Z,e.NV,D)}else{fG.Wb(a,p);a.ll(p);a7.Sk(Z,a.mY,D)}}else a7.Eo(Z,a,a,p)}return a};jo.prototype.BF=function(e,A,a,p,N){var i=A,Z=i.m,s=i.n,D=i.x,n=i.y,iM=a,S=iM.x,F=iM.y,$=-1,m=-1,J=2,w=2;
if(!p.o7){$=m=0;J=w=1}var f=this.children;for(var c=0;c<f.length;c++){var b=[];for(var L=c+1;L<f.length;
L++)if(f[L].j.G0)b.push(f[L]);else break;for(var C=m;C<w;C++)for(var M=$;M<J;M++){i.x=D+M*Z;i.y=n+C*s;
iM.x=S+M*Z;iM.y=F+C*s;f[c].zG(e,i,iM,p,b,N)}c+=b.length}i.x=D;i.y=n;iM.x=S;iM.y=F};function ar(e){this.$J="psd";
this.Zx=!1;this.name=e;this.ag=-1;this.o7=!1;this.Z7=null;this.$_=null;this.OB=null;this.G1=null;this.m=0;
this.n=0;this.buffer=null;this.B=[];this.nw={};this.add={};this.jF=4;this.SY=null;this.l5=72;this.gj={};
this.g=[];this.dc=[];this.ju=!1;this.WM=[];this.M_=[];this.GI=[ar.OX("Work Path")];this.Lj=[];this.AH=null;
this.RA={classID:"CompList",list:{t:"VlLs",v:[]}};this.lw=[];this.$d=[];this.root=null;this.HI=null;
this.Px=!1;this.aqR=!1;this.akt=!1;this.Qe=!1;this.zQ=!1;this.De=!1;this.W$=!1;this.Xz=!1;this.DU=!1;
this.ew=!1;this.x0=null;this.gN=null;this.P=null;this.l8=[];this.RN=[];this.I={u2:{},n8:[],D0:[],Cz:[],kp:null,wP:null,bz:null,lD:null,Eh:null,Qh:[],NC:[],ss:null};
this.history=[new af([1,0],null)];this.hd=0;this.sC=0;this.D8=0;this.u=new hU(this);this.Mr=null;this.e9=null}ar.LU=function(){var e=8,A=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
A=eQ.Gy(e,A);return[e,A]}();ar.prototype.bo=function(e){if(e){if(e.length==30240){this.bo(null);return}this.nw.r1039=e;
var A=ICC.R(e.buffer),N=null,i=17,D,n;if(A==null){this.bo(null);return}var a=A.header.spaceIn.toLowerCase(),p=JSON.stringify(A.tags.desc).toLowerCase();
try{N=ICC.U.profileName(A)}catch(i1){}if(a!="rgb "||N==null||p.indexOf("srgb")!=-1){this.bo(null);return}console.log("We got an ICC profile!",A,N);
try{var Z=ICC.U.sampleLUT(A,i)}catch(i1){this.bo(null);return}var s=Z.slice(0),S=j.Q(4),F=ar.LU[0],$=ar.LU[1];
for(var c=0;c<Z.length;c+=3){S[0]=Z[c]*255;S[1]=Z[c+1]*255;S[2]=Z[c+2]*255;ICC.U.applyLUT($,F,S,S);s[c]=S[0]/255;
s[c+1]=S[1]/255;s[c+2]=S[2]/255}if(fG.Jg){D=new fG.js(i,i*i);D.set(ICC.U.lutToRGBA8(Z,i));n=new fG.js(i,i*i);
n.set(ICC.U.lutToRGBA8(s,i))}this.Mr=[e,A,i,Z,D,s,n]}else{delete this.nw.r1039;this.Mr=null}};ar.prototype.wO=function(){return this.Mr};
ar.prototype.x_=function(){if(this.Mr)return this.Mr;if(this.add.fcmy==1){if(this.e9==null){var e=ar.LU[0],A=ar.LU[1],a;
if(fG.Jg){a=new fG.js(e,e*e);a.set(ICC.U.lutToRGBA8(A,e))}this.e9=[null,null,e,null,null,A,a]}return this.e9}};
ar.prototype.a73=function(){var e=this;if(e.u.$n.join("")!="111"){e.u.$n=[1,1,1];e.De=!0}for(var c=0;
c<e.B.length;c++){var A=e.B[c],a=A.add.vmsk;if(A.$f()){var p=A.MH(e);if(p&&p.$&&p.$.MC){p.$.MC=!1;e.De=!0}}var N=A.tR();
if(N&&N.MC){N.MC=!1;e.De=!0}if(a){if(a.g.length!=0)a.g=[];if(a.xw.length!=0)a.xw=[]}}};ar.prototype.EI=function(){var e=this;
return e.P!=null||e.sz()[1].length!=0||e.g.length>1};ar.prototype.ek=function(){var e=this.dc,A=[];for(var c=0;
c<e.length;c++)A[c]=-1;var a=this.root.children;for(var c=0;c<a.length;c++){var p=a[c],N=p.j.add.artb;
if(N==null)continue;var i=N.guideIndeces;i=i?i.v:[];for(var Z=0;Z<i.length;Z++)A[i[Z].v]=p.index}return[JSON.parse(JSON.stringify(e)),A]};
ar.prototype.sT=function(e){this.dc=JSON.parse(JSON.stringify(e[0]));var A=e[1],a=this.root.children;
for(var c=0;c<a.length;c++){var p=a[c],N=p.j.add.artb;if(N==null)continue;N.guideIndeces={t:"VlLs",v:[]}}for(var c=0;
c<A.length;c++)if(A[c]!=-1)this.B[A[c]].add.artb.guideIndeces.v.push({t:"long",v:c})};ar.prototype.auB=function(e){var A=this;
if(e[0])A.add.lnk2=e[0];else delete A.add.lnk2;if(e[1])A.add.FEid=e[1];else delete A.add.FEid;if(e[2])A.add.Patt=e[2];
else delete A.add.Patt};ar.prototype.ad2=function(e){var A=this,a=[],p=[],N=[],J=null,w=null,f=null;
for(var c=0;c<e.length;c++){var i=e[c];if(i.add.SoLd){a.push(i.add.SoLd.Idnt.v);p.push(i.add.SoLd.placed.v)}if(i.add.PtFl)N.push(i.add.PtFl.Ptrn.v.Idnt.v);
if(i.add.lmfx){for(var Z=0;Z<iF.RU.length;Z++){var s=i.add.lmfx[iF.RU[Z]].v;for(var D=0;D<s.length;D++)if(s[D].v.Ptrn){var n=s[D].v;
if(n.classID=="FrFX"&&n.PntT.v.FrFl!="Ptrn")continue;N.push(n.Ptrn.v.Idnt.v)}}}var S=i.add.vstk;if(S&&S.strokeStyleContent.v.classID=="patternLayer"){N.push(S.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var F=A.add.lnk2,$=A.add.FEid,m=A.add.Patt;
if(F){J=[];for(var c=0;c<F.length;c++)if(a.indexOf(F[c].h0)!=-1)J.push(F[c]);if(J.length==0)J=null}if($){w=[];
for(var c=0;c<$.length;c++)if(p.indexOf($[c].id)!=-1)w.push($[c]);if(w.length==0)w=null}if(m){f=[];for(var c=0;
c<m.length;c++)if(N.indexOf(m[c].id)!=-1)f.push(m[c]);if(f.length==0)f=null}return[J,w,f]};ar.prototype.bK=function(e){var A=this,a=A.root.WG(e==null?A.g[0]:e),p=!1;
while(a.parent!=null){p=p||a.j.xF(31);a=a.parent}return p};ar.prototype.h_=function(){var e=this.l8,A=this.l8.length;
if(A!=0&&e[A-1].name=="Quick Mask")return e[A-1]};ar.prototype.gI=function(){return this.$J==av.Nv("% |/!)")||this.$J==av.ZY("gP")};
ar.prototype.Gu=function(e){var A=this.add.artd;if(e!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:e},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};ar.prototype.Dh=function(e){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(e)==-1)this.add.FEid.push(e)};
ar.prototype.PN=function(e){var A=this.add.FEid.indexOf(e);this.add.FEid.splice(A,1);if(this.add.FEid.length==0)delete this.add.FEid};
ar.prototype.U=function(e){if(e==null)e=new dE(0,0,this.m,this.n);if(this.x0==null)this.x0=e;else this.x0=this.x0.pg(e)};
ar.prototype.a77=function(e){return this.x0!=null};ar.prototype._j=function(e){var A=this.B[e],a=this.root.WG(e);
if(a==null)return!1;if(A.yg()||a.parent.children.indexOf(a)==0)return!1;return!0};ar.acv=function(e){if(e.add.lnk2)for(var c=0;
c<e.add.lnk2.length;c++){var A=e.add.lnk2[c].h0;e.add.lnk2[c].h0=ar.sY()+A.slice(8);for(var a=0;a<e.B.length;
a++){var p=e.B[a].add.SoLd;if(p&&p.Idnt.v==A)p.Idnt.v=e.add.lnk2[c].h0}}};ar.prototype.cf=function(e,A,a){e.sort(function(F,$){return F-$});
var top=e[e.length-1],p=this.B.slice(0),N=this.g.slice(0),i=[],Z=[];for(var c=0;c<this.B.length;c++){if(e.indexOf(c)!=-1)Z.push(this.B[c]);
else i.push(this.B[c])}this.Ex(Z);this.g=[];var s=this.root.V0(this,!0);if(A)s=s.Yn(A);if(a)s=s.pg(a);
if(s.QP())s=new dE(0,0,100,100);var D=new dE(-s.x,-s.y,this.m,this.n),n=new Uint8Array(fI.nP("PSD").Eu(this,0,0,[!0,!1]));
this.Ex(p);this.g=N;var S=new ar(this.B[top].getName());fI.nP("PSD").QS(n.buffer,S);delete S.add.artd;
S.WM=[];S.Ex(S.B);S.sT([[],[]]);ar.acv(S);q.v9.UE(S,s);S.U();S.HD();S.WR();return[S,s,i,top]};ar.prototype.a98=function(e,A,a){var p=this.cf(e),N=p[0],i=p[1],Z=p[2],top=p[3],s;
if(a=="jpg")s=new Uint8Array(fI.nP("JPG").Eu([[N.WR().buffer]],N.m,N.n,[80]));else s=new Uint8Array(fI.nP("PSD").Eu(N,null,null,[!0,!1]));
if(A)Z=this.B.slice(0);var D=this.je(s,N.name,i.x,i.y);if(top==this.B.length-1)Z.push(D);else Z.splice(A?top+1:top-e.length+1,0,D);
this.Ex(Z);this.g=[Z.indexOf(D)]};ar.sY=function(e){if(e==null)e="";var A="";while(A==""||A==e){A="";
for(var c=0;c<8;c++)A+=Math.floor(Math.random()*16).toString(16)}return A};ar.prototype.S7=function(e){if(e==null)return;
if(this.add.Patt==null)this.add.Patt=[];var A=this.add.Patt;for(var c=0;c<A.length;c++)if(A[c].id==e.id)return;
A.push(e)};ar.prototype.je=function(e,A,a,p,N,i,Z){if(this.add.lnk2==null)this.add.lnk2=[];var s=null,m=!1;
for(var c=0;c<this.add.lnk2.length;c++)if(j.Kx(e,this.add.lnk2[c].raw)){s=this.add.lnk2[c].h0;break}if(s==null){var D=fI.ti(e.buffer);
s=ar.sY()+"-d71c-11e5-b1ae-a548a96e5f9f";var n=new u.QJ;n.h0=s;n.eR=D=="psd"?"8BIM":"    ";n._c=A+"."+D;
n.$e=D=="psd"?"8BPB":"    ";n.open=0;n.raw=e;n.type="liFD";n.Af=2;this.add.lnk2.push(n)}var S=this.Bu(s,null,null,null,i,Z),F=ar.sY()+"-d71c-11e5-b1ae-a548a96e5f9f",$=this.Uo();
$.i4(A);if(S!=null){var J=a==null,w=0,f=0;if(a==null)a=p=0;var b=this.m,L=this.n;if(N){w=N.x;f=N.y;b=N.m;
L=N.n}var C=$.rect=S.G9[1].clone();C.offset(w+a,f+p);var M=Math.max(C.m/b,C.n/L),m=N!=null&&M>1.0001;
if(m){C.m=Math.round(C.m/M);C.n=Math.round(C.n/M)}else if(N!=null&&fI.ti(e.buffer)=="pdf"&&this.l5!=144){var M=144/this.l5;
C.m=Math.round(C.m/M);C.n=Math.round(C.n/M);m=!0}if(m||J){C.x=Math.round(w+(b-C.m)/2);C.y=Math.round(f+(L-C.n)/2)}$.buffer=j.Q(C.O()*4);
if(!m)j.GZ(S.G9[0],$.buffer)}$.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:s},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:F},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:j.Ww.Q(S?S.G9[1]:$.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:$.rect.m},Hght:{t:"doub",v:$.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:S?S.l5:72}}};
var y=j.p.wt($.rect).w;$.add.SoLd.Trnf=q.BD.Jw(y);$.add.SoLd.nonAffineTransform=q.BD.Jw(y);if(m)$.kf(this,!1);
return $};ar.prototype.WR=function(e){if(e!=null){this.U();this.HD(e);var A=this.buffer;if(fG.Jg)this.HI.get(A);
else A=A.slice(0);this.U();this.HD();return A}if(this.x0){this.HD();this.x0=null}if(fG.Jg&&this.gN){this.HI.get(this.buffer);
this.gN=null;this.W$=!0}return this.buffer};ar.prototype.aoB=function(){for(var c=0;c<this.B.length;
c++)this.B[c].alc();this.U()};ar.prototype.at2=function(){for(var c=0;c<this.B.length;c++)if(this.B[c].add.lmfx)this.B[c].P5.g4=!0};
ar.prototype.k1=function(){var e=this.nw.r1044;if(e==null){e=this.nw.r1044=new Uint8Array(4);var A=0;
for(var c=0;c<this.B.length;c++)A=Math.max(A,this.B[c].add.lyid);z.g_(e,0,A)}var a=z.q(e,0);z.g_(e,0,a+1);
return a+1};ar.prototype.VX=function(e,A,a){if(e==null)e=!0;var p=this;if(p.RN.length!=0)return!0;if(p.g.length!=1){if(e)alert(p.g.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Fa(e,A,a)};ar.prototype.Fa=function(e,A,a){if(e==null)e=!0;if(A==null)A=!1;var p=this;
if(p.RN.length!=0)return!0;for(var c=0;c<p.g.length;c++){var N=p.B[p.g[c]],i=A||N.os<=0;if(N.add.lsct!=null&&N.add.lsct!=ez.$i&&N.os!=1){if(e)alert(i1.get([15,7,2]));
return!1}if(i&&!N.JD()){if(e)alert(i1.get([15,7,2]));return!1}if(i&&N.add.TySh){return this.ajM(e,[15,7,3],a)}if(i&&N.add.SoLd){return this.ajM(e,[15,7,4],a)}if(N.xF(1)||p.bK(p.g[c])){if(e)alert(i1.get([6,57,0]));
return!1}}return!0};ar.prototype.ajM=function(e,A,a){if(e&&typeof e=="object"){var p=new k4(t.E.L);p.data={d:t.c.Ch,NY:"confirm"};
p.data.Z=i1.get(A)+". "+i1.get([6,8])+"?";var N=e;p.data.AJ=function(){var i=new k4(t.E.wH,!0);i.data={_h:"rasterizeLayer",h2:{classID:"rasterizeLayer",null:gb.o$("Lyr",!0)}};
N.S(i)};e.S(p);return!1}if(e)alert(i1.get(A));return!1};ar.prototype.a78=function(e){var A=this.root.WG(e);
if(A.parent)return A.j.gi()&&this.a78(A.parent.index);else return A.j.gi()};ar.prototype.nE=function(e){var A=this;
if(e){var a=0;for(var c=0;c<A.g.length;c++)if(A.B[A.g[c]].add.artb)a++;if(a>1)return-1}if(A.add.artd&&A.g.length!=0){var p=A.root.WG(A.g[0]);
while(p.parent.parent)p=p.parent;if(p.j.add.artb)return p.index}return-1};ar.prototype.amQ=function(){var e=this.B[this.g[0]];
if(e.os<=0&&!e.rect.CS(this.P.rect)){alert("Selected area is empty.");return!1}if(this.g.length==1&&this.P){var A=j.Q(this.P.channel.length);
j.sS(e.buffer,e.rect,A,this.P.rect);j.t_(this.P.channel,A);if(j.ne(A,0)){alert("Selected area is empty.");
return!1}}return!0};ar.prototype.RO=function(){if(this.nw["r"+1037]==null)this.Zn(30);return z.$m(this.nw["r"+1037],0)};
ar.prototype.Zn=function(e){if(this.nw["r"+1037]==null)this.nw["r"+1037]=new Uint8Array(4);if(z.$m(this.nw["r"+1037],0)==e)return;
z.xE(this.nw["r"+1037],0,e);this.at2()};ar.prototype.B5=function(){if(this.nw["r"+1049]==null)this.qt(30);
return z.$m(this.nw["r"+1049],0)};ar.prototype.qt=function(e){if(this.nw["r"+1049]==null)this.nw["r"+1049]=new Uint8Array(4);
if(z.$m(this.nw["r"+1049],0)==e)return;z.xE(this.nw["r"+1049],0,e);this.at2()};ar.prototype.v1=function(e){if(this.add.lnk2==null)return null;
for(var c=0;c<this.add.lnk2.length;c++)if(this.add.lnk2[c].h0==e)return this.add.lnk2[c];return null};
ar.prototype.a8M=function(e){var A=this.v1(e);if(A==null)return!1;var a=fI.ti(A.raw.buffer);if(a==null)return!1;
if(fI.nP(a)!=null||a=="psd")return!0;return!1};ar.prototype.Bu=function(e,A,a,p,N,i){var Z=this.v1(e);
if(Z==null)return null;Z.WR(A,a,p,N,i);if(Z.G9)return Z};ar.prototype.azy=function(){var e=this.m,A=this.n;
if(fG.Jg&&this.HI==null)this.HI=new fG.js(e,A,!0);if(this.buffer==null||this.buffer.length!=e*A*4||fG.Jg&&(this.HI.m!=e||this.HI.n!=A)){this.buffer=j.Q(e*A*4);
if(this.HI)this.HI.delete();if(fG.Jg)this.HI=new fG.js(e,A,!0)}};ar.prototype.a9W=function(){this.azy();
if(fG.Jg){this.HI.set(this.buffer)}};ar.prototype.HD=function(e){var A=this.m,a=this.n,p=new dE(0,0,A,a),N=this.o7?p:p.Yn(this.x0);
this.azy();if(N.QP())return;if(!N.Kx(p)){if(!fG.Jg){var i=j.ou(N.O()*4);j._M(i,N,this.buffer,p)}if(fG.Jg){fG.Wb(this.HI,N);
fG.qw(0)}}else{if(fG.Jg){this.HI.set(null)}else{this.buffer.fill(0)}}var Z=Date.now(),s=fG.Jg?this.HI:this.buffer;
if(e==null)e=1e9;var D=this.root.children;for(var c=0;c<D.length;c++){var n=D[c].j;if(n.gi()&&n.add.artb&&this.add.artd){var S=n.jP(),F=N.Yn(S),$=n.UY();
if($!=0){if(fG.Jg){fG.Wb(s,F);fG.qw($);fG.qw($)}else j.azG(s,p,F,$)}}}this.root.zG(s,p,N,this,[],e);
this.gN=this.x0.clone()};ar.prototype.Uo=function(e){var A=new u;A.rect=new dE(0,0,0,0);A.buffer=j.Q(1);
A.add.luni=new k7(0,0);if(e!=!0)A.add.lyid=this.k1();A.add.lsct=ez.$i;A.add.lclr=0;A.add.fxrp=new k7(0,0);
return A};ar.prototype.pz=function(e){var A=this.Uo(e);A.i4("</Layer group>");A.add.lsct=ez.Nr;A.OO=24;
return A};ar.prototype.iP=function(){return this.hd!=this.sC};ar.prototype.G2=function(e){while(this.history.length>this.hd+1)this.history.pop();
if(this.sC>this.hd)this.sC=-1;if(e.G.id!=q.eQ){this.Qe=!0;if(this.RA.lastAppliedComp){delete this.RA.lastAppliedComp;
this.W$=!0}}this.history.push(e);this.hd++;this.W$=!0;var A=d4.tl()?60:30,a=0;for(var c=this.history.length-1;
c>=0;c--){var p=this.history[c];if(p.Tx)continue;a++;if(a==A){this.hd-=c;this.history=this.history.slice(c);
break}}};ar.prototype.rU=function(){if(this.hd!=this.history.length-1)return null;return this.history[this.history.length-1]};
ar.prototype.Ee=function(e,A,a,p){if(e==null)e=!1;var N=A!=null?[A]:this.g.slice(0);if(p){var i=[];for(var c=0;
c<N.length;c++){var Z=this.B[N[c]],s=Z.g0;if(Z.Cd&&s!=0&&i.indexOf(s)==-1)i.push(s)}if(i.length!=0)for(var c=0;
c<this.B.length;c++){var Z=this.B[c],s=Z.g0;if(Z.Cd&&s!=0&&i.indexOf(s)!=-1&&N.indexOf(c)==-1)N.push(c)}}var D=[];
for(var c=0;c<N.length;c++){var n=this.OJ(N[c],e);for(var S=0;S<n.length;S++)if(D.indexOf(n[S])==-1)D.push(n[S]);
if(a){var iM=this.root.WG(N[c]);while(iM.parent!=null&&iM.parent.parent!=null){iM=iM.parent;if(D.indexOf(iM.index)==-1){D.push(iM.index,iM.$g)}}}}return D};
ar.prototype.s2=function(e,A,a){var p=this,N=p.Ee(!1,e,null,a);N.sort(function(C,M){return C-M});var i={};
for(var Z=0;Z<p.B.length;Z++){var s=p.B[Z].getName();i[s]=!0}var D=[];for(var c=0;c<N.length;c++){var n=p.B[N[c]].clone(),f,b;
n.add.lyid=p.k1();n.add.lspf=0;if(n.$f()){var S=n.MH(p),F=ar.a7x(S);p.Dh(F);n.add.SoLd.placed.v=F.id}else if(n.add.SoLd){var $=n.add.SoLd.placed.v;
n.add.SoLd.placed.v=ar.sY($.slice(0,8))+$.slice(8)}n.yO(p);var m=n.getName(),J=m.length;while(48<=m.charCodeAt(J-1)&&m.charCodeAt(J-1)<=57)J--;
var w=parseInt(m.slice(J));if(isNaN(w)){if(m.endsWith(" copy")){w=1;f=m.slice(0,m.length-5)}else{w=0;
f=m}}else if(m.slice(0,J).endsWith(" copy ")){w=w;f=m.slice(0,J-6)}else{w=0;f=m}w++;while(!0){b=f+" copy"+(w==1?"":" "+w);
if(i[b]==null)break;w++}var L=N.indexOf(this.root.WG(N[c]).parent.index)!=-1;if(m=="Background"&&p.B.length==1)b="Layer 1";
if(A!=!0&&!L)n.i4(b);i[b]=!0;D.push(n)}return D};ar.a7x=function(e){return{id:ar.sY(e.id.slice(0,8))+e.id.slice(8),buffer:e.buffer.slice(0),rect:e.rect.clone(),$:e.$?e.$.clone():null}};
ar.ath=function(e){return{id:e,rect:new dE,buffer:j.Q(1),$:new u.j_}};ar.OX=function(e,A){if(A==null)A={vmsk:new u.eP};
if(A.vogk==null){A.vogk=[];var a=j.r.yP(A.vmsk.i);for(var p=0;p<a;p++)A.vogk.push(j.X.ou())}return{name:e,g2:0,add:A}};
ar.prototype.sz=function(e){var A=[],a=[],p=this,i=0;for(var c=1;c<p.GI.length;c++){var N=p.GI[c];N.g2=-1-c;
A.push(N);if(p.Lj.indexOf(c)!=-1)a.push(A.length-1)}if(p.GI[0].add.vmsk.i.length>2){var N=p.GI[0];N.g2=-1;
A.push(N);if(p.Lj.indexOf(0)!=-1)a.push(A.length-1)}var Z=p.AH==null;if(Z)p.AH=[];for(var c=p.g.length-1;
c>=0;c--){var s=p.B[p.g[c]],D=s.add.TySh;if(s.add.vmsk!=null&&(s.Bp||s.c7())){var N=ar.OX("\""+s.getName()+"\" Shape Path",s.add);
N.g2=p.g[c];A.push(N);if(Z)p.AH.push(i);if(p.AH.indexOf(i)!=-1)a.push(A.length-1);i++}if(e!=!0&&D&&D.add&&j.Ww.$O(D.ev)){var N=ar.OX("\""+s.getName().slice(0,10)+"..\" Text Path",D.add);
N.g2=1e6+p.g[c];A.push(N);a.push(A.length-1);i++}}if(a.length==0&&e){p.GI[0].g2=-1;p.Lj=[0];a.push(A.length);
A.push(p.GI[0])}return[A,a]};ar.prototype.OJ=function(c,e){var A=[],iM=this.root.WG(c);if(iM)iM.Dr(A,e);
return A};ar.prototype.Ht=function(){this.root.HF(this,new dE(0,0,this.m,this.n))};ar.prototype.Ex=function(e){for(var c=0;
c<this.B.length;c++){var A=this.B[c];if(e.indexOf(A)==-1){A.P5.abw();A.U()}}var a=0;for(var c=0;c<e.length;
c++)if(e[c].add.artb)a++;this.Gu(a);this.B=e.slice(0);this.WF()};ar.prototype.WF=function(){var e=this.B,A=e.length;
this.root=new jo;var a=this.Uo(!0);a.Mi="pass";a.add.lsct=ez.MV;a.i4("");var p=this.pz(!0),N=[p];for(var c=0;
c<A;c++)N.push(e[c]);N.push(a);this.root.asH(N,0,0);if(this.g.length==0)this.g=[A-1]};ar.prototype.xI=function(){if(this.g.length!=1)return;
var e=this.root.WG(this.g[0]);while(e.parent!=null){var A=e.parent.j;A.add.lsct=ez.MV;e=e.parent}this.De=this.apb=!0};
ar.prototype.ats=function(){this.WF();var e=[this.root],jc=0;while(e.length!=0){var top=e.pop();jc++;
if(top.j.add.lsct==ez.MV)for(var c=0;c<top.children.length;c++)e.push(top.children[c])}if(jc>1e3){var A=this.root.children;
for(var c=0;c<A.length;c++)if(A[c].j.add.lsct==ez.MV)A[c].j.add.lsct=ez.St}};ar.MK=function(e,A,a,p,N,i,Z,s){if(s==null)s="sRGB IEC61966-2.1";
var D={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:p},artboard:{t:"bool",v:i},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:e*72/a}},Hght:{t:"UntF",v:{type:"#Rlt",val:A*72/a}},Rslt:{t:"UntF",v:{type:"#Rsl",val:a}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:N}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:s}}}};
if(N=="Clr")D.Nw.v.FlCl={t:"Objc",v:Z};return{_h:"make",h2:D}};ar.a6M=function(e,A){var a=0,p=0,N=72,i=A.acE,Z=e.preset&&e.preset.v=="Clipboard";
if(Z){a=i.m;p=i.n}else{a=e.Wdth.v.val;p=e.Hght.v.val;N=e.Rslt.v.val;a=Math.round(a*N/72);p=Math.round(p*N/72)}var s=new ar((e.Nm?e.Nm.v:i1.get([11,7]))+".psd");
s.m=a;s.n=p;s.l5=N;var D=e.Fl?e.Fl.v.Fl:"Wht";if(e.artboard&&e.artboard.v){var n=s.Uo();n.i4(i1.get([1,16,0])+" 1");
n.add.lsct=ez.MV;n.Mx(new dE(0,0,a,p));n.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[D]};
if(D=="Clr")n.add.artb.Clr={t:"Objc",v:j.M.yN(j.M.kq(e.FlCl.v))};n.Mi="pass";n.OO=24;var S=s.Uo();S.i4("Layer 1");
s.Ex([s.pz(),S,n]);s.Gu(1);s.g=[1]}else{var F=s.Uo(),$=0;F.i4("Background");s.Ex([F]);F.add.lspf=1<<2;
if(D=="Clr"){$=j.M.kq(e.FlCl.v);$=255<<24|Math.round($.k)<<16|Math.round($.J)<<8|Math.round($.o)}else{var m=A.dG;
m=(m&255)<<16|(m>>>8&255)<<8|m>>>16;$={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|m}[D]}F.rect=new dE(0,0,a,p);
F.buffer=j.Q(a*p*4);j.fV(F.buffer,$)}s.buffer=j.Q(a*p*4);var J=e.profile;if(J){var w={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[J.v];
if(w)s.bo(fI.lj.get(w))}return s};function hU(e){this.M0=e;this.N=0;this.XI=1;this.R=new k7(0,0);this.z2=new k7(0,0);
this.xj=0;this.$n=[1,1,1];this.g$=0;this.eL=new dE(0,0,1,1);this.a6J=new dE(0,0,e.m,e.n);this.IT=null;
this.sp=null;this.Sn=new Uint32Array(0);this.$G=null;this.ZL=null;this.qE=j.Q(0);this.A8=null;this.oz=null}hU.prototype.gz=function(e){var A=new bj,a=this.eL,p=this.M0,N=e?this.XI:this.N,i=e?this.z2:this.R,Z=Math.round((a.m-p.m*N)/2+i.x),s=Math.round((a.n-p.n*N)/2+i.y);
A.translate(-Z,-s);A.scale(1/N,1/N);var D=p.m/2,n=p.n/2;A.translate(-D,-n);A.rotate(this.xj);A.translate(D,n);
return A};hU.prototype.aqq=function(e){var A=this.eL,a=this.M0,p=Math.atan2(-e.k,e.gg),N=a.m/2,i=a.n/2;
e.translate(-N,-i);e.rotate(-p);e.translate(N,i);var Z=1/e.nZ();e.scale(Z,Z);var s=-e.Co,D=-e.dW,n=Math.round(s-(A.m-a.m*Z)/2),S=Math.round(D-(A.n-a.n*Z)/2);
if(Math.abs(Z-Math.round(Z))<1e-6)Z=Math.round(Z);this.xj=p;this.N=Z;this.R=new k7(n,S)};hU.prototype.FT=function(e,A){var a=this.gz();
return a.Av(new k7(e,A))};hU.prototype.mc=function(e,A){var a=this.gz();a.rQ();return a.Av(new k7(e,A))};
function iF(){}iF.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");iF.RU="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
iF.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];iF.arZ=["DrSh","IrSh","SoFi","GrFl","FrFX"];
iF.Gw=["Clr"];iF.wu="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");iF.RE=["Ptrn","Angl","Scl","Algn","phase"];
iF.L9={BR:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",abP:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",ajr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",ayt:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",Xj:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
iF.L9.BR="\"Clr\": "+iF.L9.BR;iF.L9.M="\"Grad\":"+iF.L9.abP+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
iF.L9.Xj="\"Ptrn\":"+iF.L9.Xj+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
iF.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
iF.lZ=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+iF.L9.BR+","+iF.L9.M+","+iF.L9.Xj+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iF.L9.BR+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iF.L9.M+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+iF.L9.Xj+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
iF.M={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
iF.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],_0:["SClr","GrFl","Ptrn"],agY:[[13,0],[12,37],[12,62]]};
iF.y$={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],a15:["SrcC","SrcE"],apz:[[19,5,1],[12,69]]};iF.yS={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a8L:["SfBL","PrBL","Slmt"],ala:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
iF.kE={oA:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],R0:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],GD:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+iF.L9.BR+"}")},strokeStyleResolution:{t:"doub",v:72}}};
iF.o5=[{classID:"null",Clr:JSON.parse(iF.lZ[5]).Clr},{classID:"null",Grad:JSON.parse(iF.lZ[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(iF.lZ[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var b6={};b6.kY=function(e,A){function a(e,$){if(e==null||!e.masterFXSwitch.v)return null;var m=e[$].v,J;
if(m.length!=0){J=m[0].v;if(!J.enab.v)J=null}return J}var p=A.SoCo,N=A.GdFl,i=a(e,"solidFillMulti"),Z=a(e,"gradientFillMulti");
if(i==null&&Z==null)return[p,N];var s=b6.aev;if(p&&i&&Z==null){var D=JSON.parse(JSON.stringify(p));D.Clr.v=s(i.Clr.v,p.Clr.v,i);
return[D,null]}if(N&&i&&Z==null){var n=JSON.parse(JSON.stringify(N)),S=n.Grad.v.Clrs.v;for(var c=0;c<S.length;
c++){var F=S[c].v.Clr;F.v=s(i.Clr.v,F.v,i)}return[null,n]}if(p&&Z){var n=JSON.parse(JSON.stringify(Z)),S=n.Grad.v.Clrs.v;
for(var c=0;c<S.length;c++){var F=S[c].v.Clr;F.v=s(F.v,p.Clr.v,Z)}return[null,n]}return[i,Z]};b6.a19={QH:j.Q(4),un:j.Q(4),o:new dE(0,0,1,1)};
b6.aev=function(e,A,a){var p=im.ac(a.Md.v.BlnM),N=a.Opct.v.val/100,i=b6.a19;e=j.M.kq(e);A=j.M.kq(A);
i.QH[0]=e.o;i.QH[1]=e.J;i.QH[2]=e.k;i.QH[3]=255;i.un[0]=A.o;i.un[1]=A.J;i.un[2]=A.k;i.un[3]=255;j.s.eZ(p,i.QH,i.o,i.un,i.o,i.o,N);
return{classID:"RGBC",Rd:{t:"doub",v:i.un[0]},Grn:{t:"doub",v:i.un[1]},Bl:{t:"doub",v:i.un[2]}}};b6.axo=function(e,A,a){var p=e;
e=e.slice(0);var N=im.U6[im.Jd.indexOf(A.Md.v.BlnM)],i=j.M.kq(A.Clr.v),Z=4278190080|Math.round(i.k)<<16|Math.round(i.J)<<8|Math.round(i.o),s=j.Q(a.O()*4);
j.fV(s,Z);j.s.eZ(N,s,a,e,a,a,A.Opct.v.val/100);for(var c=0;c<e.length;c+=4)e[c+3]=p[c+3];return e};b6.cr=function(e,A){var a=["Sz","blur","Sftn","Dstn"];
for(var c=0;c<iF.order.length;c++){var p=iF.order[c],N=e[iF.RU[c]].v;for(var i=0;i<N.length;i++){var Z=N[i].v;
for(var s=0;s<a.length;s++){var D=Z[a[s]];if(D){var n=D.v.val,S=n;S=Math.max(n==0?0:1,S*A);if(p=="ChFX")S=Math.min(S,250);
if(p=="ebbl"){if(a[s]=="blur")S=Math.min(S,250);if(a[s]=="Sftn")S=Math.min(S,16)}D.v.val=Math.round(S)}}if(p=="ebbl"||p=="patternFill"||p=="FrFX")if(Z.Ptrn&&Z.Scl)Z.Scl.v.val=Math.max(1,Math.min(1e3,Z.Scl.v.val*A))}}};
b6.aa_=function(e,A,a){var p=new dE(-.5,-.5,1,1);for(var c=0;c<iF.order.length;c++){var N=iF.order[c],i=e[iF.RU[c]].v;
for(var Z=0;Z<i.length;Z++){var s=i[Z].v,F;if(!s.enab.v)continue;var D=s.blur?s.blur.v.val+1:0,n=s.Ckmt?s.Ckmt.v.val/100:0,S=Math.round(D*n);
if(N=="DrSh"||N=="IrSh"&&a){F=new dE(-.5,-.5,1,1);F.Fu(D,D);b6.o8(F,s,A,0)}if(N=="OrGl"||N=="IrGl"&&a){F=new dE(-.5,-.5,1,1);
F.Fu(D,D)}if(N=="FrFX"){var $=b6.on(s),m=$[1];if(a)m=Math.max($[0],m);F=new dE(-.5,-.5,1,1);F.Fu(Math.ceil(m),Math.ceil(m))}if(N=="ebbl"){var D=s.blur.v.val,J=s.bvlS.v.BESl;
if(J=="Embs"||J=="PlEb")D/=2;var w=["OtrB","InrB","Embs","PlEb","strokeEmboss"],f=["SfBL","PrBL","Slmt"],b=["In","Out"],L=s.bvlT.v.bvlT!="SfBL"?D:D*.43,C=Math.round(D);
F=new dE(-C-1,-C-1,2*C+2,2*C+2)}if(a&&N=="ChFX"){F=new dE(-.5,-.5,1,1);F.Fu(D,D);var M=F.clone();b6.o8(F,s,A,0);
b6.o8(M,s,A,Math.PI);F=F.pg(M)}if(F)p=p.pg(F)}}if(p.x!=Math.ceil(p.x)){p.x=Math.ceil(p.x);p.m-=1}if(p.y!=Math.ceil(p.y)){p.y=Math.ceil(p.y);
p.n-=1}p.m=Math.floor(p.m);p.n=Math.floor(p.n);return p};b6.on=function(e){var A=0,a=0,p=e.Styl.v.FStl,N=e.Sz.v.val;
if(p=="OutF")a=N;if(p=="InsF")A=N;if(p=="CtrF")A=a=N/2;return[A,a]};b6.ams=function(e){if(fG.Jg&&e.v5==null){e.v5=new fG.js(e.bj.m,e.bj.n);
e.v5.set(e.Qi);delete e.Qi;if(e.kj){e.Db=new fG.rL(e.bj.m,e.bj.n);e.Db.set(e.kj);delete e.kj}if(e.zs){e.$E=new fG.rL(e.bj.m,e.bj.n);
e.$E.set(e.zs);delete e.zs}}};b6.asL=function(e){if(e.v5)e.v5.delete();if(e.Db)e.Db.delete();if(e.$E)e.$E.delete()};
b6.a10=function(e){if(e.all==null)return;for(var c=0;c<e.all.length;c++){b6.asL(e.all[c])}};b6.a9j=function(e,A,a,p,N,i){var Z=b6.s4(a,p,e,A,N,i);
for(var c=0;c<Z.all.length;c++)b6.ams(Z.all[c]);return Z};b6.asm=function(e){for(var c=0;c<iF.order.length;
c++){var A=iF.order[c],a=iF.RU[c],p=e[a].v;for(var N=0;N<p.length;N++){var i=p[N].v;if(i.enab.v&&["patternFill","GrFl","SoFi"].indexOf(A)==-1)return!0}}return!1};
b6.s4=function(e,A,a,p,N,i){if(i==null)i=p;var Z=0,s=0;for(var c=0;c<iF.order.length;c++){var D=iF.order[c],n=iF.RU[c],S=e[n].v;
for(var F=0;F<S.length;F++){var $=S[F].v;if(D=="DrSh"&&$.enab.v&&$.Ckmt.v.val>0&&$.blur.v.val>0)Z=Math.max(Z,Math.ceil($.Ckmt.v.val*$.blur.v.val/100));
if(D=="OrGl"&&$.enab.v&&$.Ckmt.v.val>0&&$.blur.v.val>0&&$.GlwT.v.BETE=="SfBL")Z=Math.max(Z,Math.ceil($.Ckmt.v.val*$.blur.v.val/100));
if(D=="OrGl"&&$.enab.v&&$.blur.v.val>0&&$.GlwT.v.BETE=="PrBL")Z=Math.max(Z,$.blur.v.val);if(D=="FrFX"&&$.enab.v&&$.Sz.v.val>0){if($.Styl.v.FStl=="OutF")Z=Math.max(Z,$.Sz.v.val);
if($.Styl.v.FStl=="CtrF")Z=Math.max(Z,Math.ceil($.Sz.v.val/2));s=Math.max(s,b6.on($)[1])}}}var m=new b6.Gz(a,p,Z,b6.asm(e)),J=-p.x,w=-p.y,f={type:{},all:[]};
for(var b=0;b<iF.order.length;b++){var D=iF.order[b],n=iF.RU[b];f.type[D]=[];for(var L=e[n].v.length-1;
L>=0;L--){var C=e[n].v[L].v,k;if(!C.enab.v)continue;var M=C.blur?C.blur.v.val:0,y=C.Ckmt?C.Ckmt.v.val/100:0,Q=M*y;
if(D=="DrSh"){var E=m.Sj(Q,M-Q,!0),_=E.ZM,v=E.nd;v.offset(J,w);b6.iH(_,C,!1);b6.o8(v,C,N,0);var V=j.Q(v.O()*4);
b6.eB(V,C.Clr.v);j.Ao(_,V,3);k={Qi:V,bj:v,azw:C.layerConceals.v}}else if(D=="IrSh"){var E=m.Sj(Q,M-Q,!1);
b6.o8(E.nd,C,N,0);var v=m.rect().clone(),_=j.Q(v.O());_.fill(255);j.WP(E.ZM,E.nd,_,v);b6.iH(_,C,!0,!0);
var V=j.Q(v.O()*4);b6.eB(V,C.Clr.v);j.Ao(_,V,3);v.offset(J,w);k={Qi:V,bj:v}}else if(D=="GrFl"){var V=j.Q(m.rect().O()*4);
b6.xf(C,V,m.rect(),N,null,i);var v=m.rect().clone();v.offset(J,w);k={Qi:V,bj:v}}else if(D=="SoFi"){var V=j.Q(m.ZM().length*4);
b6.eB(V,C.Clr.v);var v=m.rect().clone();v.offset(J,w);k={Qi:V,bj:v}}else if(D=="ebbl"){var R=!1;if(R)console.log(C);
var h=Date.now(),P=C.bvlS.v.BESl;if(P=="strokeEmboss"){var H=e.frameFXMulti.v;if(H.length==0)continue;
H=H[0].v;if(!H.enab.v)continue;var U=H.Styl.v.FStl;if(U=="OutF")P="OtrB";if(U=="CtrF")P="Embs";if(U=="InsF")P="InrB"}var M=C.blur.v.val;
if(M==0)M=.7;if(P=="Embs"||P=="PlEb")M/=2;var X=["OtrB","InrB","Embs","PlEb","strokeEmboss"],x=["SfBL","PrBL","Slmt"],K=["In","Out"],T=C.bvlT.v.bvlT!="SfBL"?M:M*.45,I=Math.round(M),o=m.rect().clone(),l=o.clone();
l.Fu(I,I);var O=l.m,g=l.n,W=O*g,d=j.Q(W);j.WP(m.ZM(),o,d,l);var gT=new Float64Array(W),r=new Float64Array(W);
j.style.hL(d,gT,O,g);j.rQ(d);j.style.hL(d,r,O,g);if(R)console.log("distTransform computed",Date.now()-h);
for(var c=0;c<W;c++)r[c]=r[c]-gT[c];for(var c=0;c<W;c++){var G=r[c];if(G<-T)r[c]=-T;else if(G>T)r[c]=T}if(R)console.log("summing + cropping",Date.now()-h);
if(C.bvlT.v.bvlT=="SfBL"){var Y=Math.pow(M*.21,1.22);if(!0)Y=Math.max(Y,2);var fk=j.Vr.ja(Y,2);j.Vr.lf(r,gT,l,fk[0]>>>1);
j.Vr.lf(gT,r,l,fk[1]>>>1)}if(R)console.log("blurring",Date.now()-h);var eJ=r,eS=eJ.slice(0);if(C.useShape.v){var gL=Math.min(100,C.Inpr.v.val+1)/100;
if(P!="OtrB"&&P!="InrB")gL=1;var cX=j.Gh.Tr(C.MpgS.v.Crv.v,2e3),kj=Math.round(2e3/gL);cX=j.Gh.axe(cX,kj,P=="InrB");
var gq=.5/T;for(var c=0;c<W;c++){var iL=eJ[c],ew=.99999*(iL+T)*gq;eJ[c]=-T+2*T*cX[~~(ew*(kj-1))]}if(R)console.log("applying shape",Date.now()-h)}if(C.useTexture.v){var dk=j.Q(O*g*4);
b6.h6(C,dk,l,N.add.Patt,A);var j9=j.Q(O*g);j.U2(dk,j9);var fh=j.Q(O*g);j.Vr.ZT(j9,fh,l,1);j9=fh;var g9=M*C.textureDepth.v.val*(1/100)*(1/255);
if(C.InvT.v)g9=-g9;for(var c=0;c<W;c++)eJ[c]+=-g9*j9[c];if(R)console.log("applying texture",Date.now()-h)}var k6=(C.bvlT.v.bvlT=="SfBL"?1:.5)*(C.bvlD.v.BESs=="In"?1:-1)*C.srgR.v.val/100;
for(var c=0;c<W;c++)eJ[c]*=k6;if(R)console.log("scaling",Date.now()-h);var jx=C.uglg&&C.uglg.v?N.RO():C.lagl.v.val;
jx=jx*(Math.PI/180);var fV=C.uglg&&C.uglg.v?N.B5():C.Lald.v.val;fV=fV*(Math.PI/180);var ao=Math.cos(jx)*Math.cos(fV),b8=-Math.sin(jx)*Math.cos(fV),ke=Math.sin(fV),gj=new Float64Array(W),jf=new Float64Array(W),ay=P=="PlEb";
for(var fz=0;fz<g;fz++)for(var ei=0;ei<O;ei++){var c=fz*O+ei,hC=0,iI=0,gQ=1;if(fz!=0&&fz!=g-1&&ei!=0&&ei!=O-1){var cb=eJ[c-O-1],dK=eJ[c-O+1],ha=eJ[c+O-1],hA=eJ[c+O+1];
hC=-.125*(dK+2*eJ[c+1]+hA-(cb+2*eJ[c-1]+ha));iI=-.125*(ha+2*eJ[c+O]+hA-(cb+2*eJ[c-O]+dK))}else{var dW=eJ[c];
iI=-(fz==0?eJ[c+O]-dW:fz==g-1?dW-eJ[c-O]:.5*(eJ[c+O]-eJ[c-O]));hC=-(ei==0?eJ[c+1]-dW:ei==O-1?dW-eJ[c-1]:.5*(eJ[c+1]-eJ[c-1]))}var fN=1/Math.sqrt(hC*hC+iI*iI+1);
hC*=fN;iI*=fN;gQ*=fN;var cQ=hC*ao+iI*b8+gQ*ke,h6=cQ;if(ay)h6=-hC*ao-iI*b8+gQ*ke;if(cQ>0)gj[c]=cQ;if(h6>0)jf[c]=h6}if(R)console.log("raycasting",Date.now()-h);
if(C.Sftn.v.val!=0){j.Vr.Lk(gj,gT,l,C.Sftn.v.val*.43);var hh=gT,gT=gj,gj=hh;if(ay){j.Vr.Lk(jf,gT,l,C.Sftn.v.val*.43);
var hh=gT,gT=jf,jf=hh}else j.GZ(gj,jf)}if(R)console.log("softening",Date.now()-h);var cX=j.Gh.Tr(C.TrnS.v.Crv.v,1024);
for(var c=0;c<W;c++){gj[c]=cX[~~(gj[c]*1024)];jf[c]=cX[~~(jf[c]*1024)]}if(R)console.log("contour remap",Date.now()-h);
O=Math.round(O);g=Math.round(g);var bA=j.Q(O*g*4);b6.eB(bA,C.hglC.v);var co=j.Q(O*g*4);b6.eB(co,C.sdwC.v);
var ej=j.Q(O*g*4);b6.eB(ej,C.hglC.v);var bk=j.Q(O*g*4);b6.eB(bk,C.sdwC.v);var h5=1/ke,bg=1/(1-ke),gq=1/T,aQ=new Float64Array(1e3);
for(var c=0;c<1e3;c++)aQ[c]=Math.pow(c*.001,.2);for(var fz=0;fz<g;fz++)for(var ei=0;ei<O;ei++){var c=fz*O+ei,fw=4*c+3,jC=0,e0=0;
jC=gj[c];e0=jf[c];var eU=Math.max(0,Math.min(.9999,(eS[c]+T*.993)*gq));eU=aQ[Math.floor(eU*1e3)];var iV=eU*(1-Math.min(1,jC*h5)),kh=eU*(1-Math.min(1,(1-jC)*bg)),hT=eU*(1-Math.min(1,e0*h5)),gi=eU*(1-Math.min(1,(1-e0)*bg));
co[fw]=Math.round(255*iV);bA[fw]=Math.round(255*kh);bk[fw]=Math.round(255*hT);ej[fw]=Math.round(255*gi)}if(R)console.log("baking textures",Date.now()-h);
l=m.rect().clone();l.Fu(I,I);l.offset(J,w);k={az8:C.bvlS.v.BESl=="strokeEmboss"};var bD=im.ac(C.hglM.v.BlnM),kt=C.hglO.v.val/100,iJ=im.ac(C.sdwM.v.BlnM),ih=C.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(P)!=-1){k.I2={Qi:bA,bj:l,UM:bD,RZ:kt};k.ie={Qi:co,bj:l,UM:iJ,RZ:ih}}if(["OtrB","Embs","PlEb"].indexOf(P)!=-1){k.kw={Qi:ej,bj:l,UM:bD,RZ:kt};
k.r_={Qi:bk,bj:l,UM:iJ,RZ:ih}}if(R)console.log(Date.now()-h)}else if(D=="patternFill"){var fr=m.rect(),V=j.Q(fr.O()*4);
b6.h6(C,V,fr,N.add.Patt,A);var v=fr.clone();v.offset(J,w);k={Qi:V,bj:v}}else if(D=="ChFX"){var V=j.Q(m.ZM().length*4);
b6.eB(V,C.Clr.v);var M=C.blur.v.val,ad=m.rect().clone();ad.Fu(M,M);var aS=j.Q(ad.O()),cD=j.Q(ad.O());
j.WP(m.ZM(),m.rect(),cD,ad);j.Vr.vq(cD,aS,ad,M*.43);var dR=j.Gh._I(C.MpgS.v.Crv.v,256,!0);j.rY(aS,dR);
var cz=j.Q(m.ZM().length),b0=j.Q(m.ZM().length),jT=m.rect().clone();b6.o8(jT,C,N,0);j.WP(aS,ad,cz,jT);
jT=m.rect().clone();b6.o8(jT,C,N,Math.PI);j.WP(aS,ad,b0,jT);var bW=cz.length;for(var c=0;c<bW;c++)V[4*c+3]=Math.abs(cz[c]-b0[c]);
if(C.Invr.v)for(var c=0;c<bW;c++)V[4*c+3]=255-V[4*c+3];var v=m.rect().clone();v.offset(J,w);k={Qi:V,bj:v}}else if(D=="OrGl"){var E;
if(C.GlwT.v.BETE=="SfBL")E=m.Sj(Q,M-Q,!0);else E=m.arw(M,y,!0);var _=E.ZM,v=E.nd,aU=_.slice(0);b6.a4n(_,C);
var V=j.Q(v.O()*4);if(C.Grad==null){b6.eB(V,C.Clr.v);b6.iH(_,C,!1)}else{b6.iH(_,C,null);var ff={O3:_,ol:255,E0:0,Ak:v};
b6.xf(C,V,v,N,ff);var ca=C.Nose.v.val/100,cT=v.m;for(var c=0;c<aU.length;c++){var b3=255,hK=aU[c];if(hK<32){var cS=(hK+aU[c-1]+aU[c+1]+aU[c-cT]+aU[c+cT])*.2-1;
b3=Math.min(255,Math.round(Math.max(0,cS)*8))}_[c]=b3}b6.a9x(_,C)}j.Ao(_,V,3);v.offset(J,w);k={Qi:V,bj:v}}else if(D=="IrGl"){var E;
if(C.GlwT.v.BETE=="SfBL")E=m.Sj(Q,M-Q,!1);else E=m.arw(M,y,!1);var _=E.ZM,v=E.nd;b6.a4n(_,C);if(C.glwS.v.IGSr=="SrcC")j.rQ(_);
var V=j.Q(v.O()*4);if(C.Grad==null){b6.eB(V,C.Clr.v);b6.iH(_,C,!0)}else{b6.iH(_,C,null);var ff={O3:_,ol:255,E0:0,Ak:v};
b6.xf(C,V,v,N,ff);_.fill(255);b6.a9x(_,C)}j.Ao(_,V,3);v.offset(J,w);k={Qi:V,bj:v}}else if(D=="FrFX"){var e3=b6.on(C),j8=e3[0],jd=e3[1],v=m.rect().clone(),eX=null,h4=null;
v.Fu(Math.ceil(s),Math.ceil(s));if(jd>0){var E=m.Sj(jd,0,!0);h4=E.ZM;if(h4.length<v.O()){h4=j.Q(v.O());
j.WP(E.ZM,E.nd,h4,v)}}if(j8>0){var E=m.Sj(j8,0,!1);eX=j.Q(v.O());eX.fill(255);j.WP(E.ZM,E.nd,eX,v)}v.offset(J,w);
var V=j.Q(v.O()*4),ky=C.PntT.v.FrFl;if(ky=="SClr")b6.eB(V,C.Clr.v);if(ky=="GrFl")b6.xf(C,V,v,N,m.awE(j8,jd));
if(ky=="Ptrn")b6.h6(C,V,v,N.add.Patt,A);k={Qi:V,bj:v,zs:h4,kj:eX}}f.type[D].push(k);if(D=="ebbl"){if(k.I2)f.all.push(k.I2,k.ie);
if(k.kw)f.all.push(k.kw,k.r_)}else{k.UM=im.ac(C.Md.v.BlnM);k.RZ=C.Opct.v.val/100,f.all.push(k)}}}return f};
b6.cm=function(e){var A=1/Math.sqrt(e.x*e.x+e.y*e.y+e.s7*e.s7);e.x*=A;e.y*=A;e.s7*=A};b6.abf=function(e,A){return{x:e.y*A.s7-e.s7*A.y,y:e.s7*A.x-e.x*A.s7,s7:e.x*A.y-e.y*A.x}};
b6.ale=function(e,A){return e.x*A.x+e.y*A.y+e.s7*A.s7};b6.a9x=function(e,A){var a=A.Nose.v.val/100;if(a>0)for(var c=0;
c<e.length;c++){var p=e[c];p=Math.min(510-(1+a)*j.style.jM(c),p);e[c]=p}};b6.$z=function(e){var A=b6.yL(),a=e.NM,p=!1;
for(var c=0;c<32;c+=8)if(a[c]+a[c+1]+a[c+4]+a[c+5]!=0||a[c+2]+a[c+3]+a[c+6]+a[c+7]!=1020)p=!0;if(p){a=a.slice(0);
for(var c=0;c<40;c+=4){var N=a[c]/255,i=a[c+1]/255,Z=a[c+2]/255,s=a[c+3]/255;a[c]=N-.001;a[c+1]=N==i?1e6:1/(i-N);
a[c+2]=Z==s?-1e6:1/(Z-s);a[c+3]=s+.001}}var D=e.add.iOpa!=null?e.add.iOpa/255:A.fill,n=e.add.vstk;if(n&&!n.fillEnabled.v&&(!n.strokeEnabled.v||n.strokeStyleLineWidth.v.val==0))D=0;
return{fill:D,xY:p?a:null,wm:e.add.brst!=null?e.add.brst:A.wm,anx:e.add.knko!=null?e.add.knko:A.anx,style:!1,pd:!1}};
b6.yL=function(){return{fill:1,xY:null,wm:[1,1,1],anx:0,style:!1,pd:!1}};b6.a3W=function(e,A,a,p,N,i,Z,s){if(s==null)s=1;
if(Z==null)Z=new bj;var D=e._q[1].m,n=e._q[1].n,S=new bj,F=N<2;if(F)S.translate(-D/2,-n/2);if(N==0){s*=Math.max(a/D,p/n)}else if(N==1){s*=Math.min(a/D,p/n)}else if(N==2){S.scale(1/D,1/n);
S.concat(Z);S.scale(a,p)}else if(N==3){s=s}S.scale(s,s);if(F)S.translate(a/2,p/2);S.concat(i);A.Ptrn.v.Idnt.v=e.id;
A.Scl.v.val=Math.round(100*S.nZ());A.Angl.v.val=Math.round(180*Math.atan2(-S.k,S.gg)/Math.PI);A.Algn.v=!0;
var $=A.phase.v;$.Hrzn.v=Math.round(S.Co);$.Vrtc.v=Math.round(S.dW)};b6.La=function(e,A){if(A==null)return null;
var a=e.Idnt.v,p=e.Nm.v;for(var c=0;c<A.length;c++)if(A[c].id==a)return A[c];for(var c=0;c<A.length;
c++)if(A[c].name==p)return A[c];return null};b6.a9D=function(e,A,a){var p=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var c=0;c<p.length;c++){var N=e.v[p[c]].v;for(var i=0;i<N.length;i++)if(N[i].v.Ptrn)A.S7(b6.La(N[i].v.Ptrn.v,a))}};
b6.aeC=function(e,A,a){var p=["patternFillMulti","ebblMulti","frameFXMulti"];for(var c=0;c<p.length;
c++){var N=e.v[p[c]].v;for(var i=0;i<N.length;i++)if(N[i].v.Ptrn){var Z=N[i].v.Ptrn.v,s=b6.La(Z,a),D=b6.La(Z,A.add.Patt);
if(s==null&&D)a.push(D)}}};b6.h6=function(e,A,a,p,N){var i=b6.La(e.Ptrn.v,p);if(i!=null&&!a.QP()){var Z=i._q,s=Z[0],D=Z[1],n=0;
j.ff(Z);var S=(e.Scl?e.Scl.v.val:100)/100;while((S<.3||S==.5)&&Z[n+2]){S*=D.m/Z[n+3].m;n+=2;s=Z[n];D=Z[n+1]}var F=j.scale.h6(s,D.m,D.n),$=e.phase?e.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},m=e.Angl?e.Angl.v.val:0,J=-a.x+$.Hrzn.v-1,w=-a.y+$.Vrtc.v-1;
if(e.Algn!=null&&!e.Algn.v){}else{J+=N.x;w+=N.y}if(A)j.scale.afT(F,A,a.m,a.n,S,S,J+1,w+1,m*Math.PI/180);
else return[F,S,J+1,w+1,m*Math.PI/180]}};b6.xf=function(e,A,a,p,N,i){if(i==null)i=a;var Z=e.Type?e.Type.v.GrdT:"shapeburst",s=e.Algn&&e.Algn.v?i:new dE(0,0,p.m,p.n),D=e.Angl?j.M.J0(e,s):[new k7(0,0),new k7(100,0)],n=D[0].x,S=D[0].y,F=D[1].x-n,$=D[1].y-S,m=Math.sqrt(F*F+$*$);
m=1/(2*m*m);var J=[F*m,$*m,-$*m,F*m],w=e.Rvrs?e.Rvrs.v:!1,f=e.Dthr?e.Dthr.v:!1;j.M.zg(e.Grad.v,A,a,J,n,S,w,iF.M.types.indexOf(Z),0,0,N,f)};
b6.au1=function(e,A,a){for(var c=0;c<e.all.length;c++){var p=e.all[c];p.aM=p.bj.clone();p.aM.offset(A,a)}};
b6.alR=function(e,A,a,p,N,i){var Z=fG.Jg?b6.apw:b6.afG;b6.au1(A,a.x,a.y);var s=A.type.DrSh;for(var c=0;
c<s.length;c++)if(!s[c].azw)Z(s[c],p,N,i)};b6.a7K=function(e,A,a,p,N,i,Z,s,D,n){var S=a,F=fG.Jg?b6.apw:b6.afG,$=fG.Jg?fG.s.JO:j.s.Lq,m;
m=A.type.DrSh;for(var c=0;c<m.length;c++)if(m[c].azw)F(m[c],p,N,i);m=A.type.OrGl;for(var c=0;c<m.length;
c++)F(m[c],p,N,i);var J="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var w=0;w<J.length;w++){var m=A.type[J[w]];
for(var c=0;c<m.length;c++)F(m[c],Z,S,i)}var f=A.type.ebbl[0],b=f!=null&&f.az8;m=A.type.FrFX;for(var c=0;
c<m.length;c++){var L=m[c];jo.L6.WP(s,n,D,n,i);F(L,D,n,i);if(b&&c==m.length-1){if(f.r_)F(f.r_,D,n,i);
if(f.kw)F(f.kw,D,n,i);if(f.ie)F(f.ie,D,n,i);if(f.I2)F(f.I2,D,n,i)}if(L.kj||L.Db)$(D,n,Z,S,fG.Jg?L.Db:L.kj,L.aM,0,i,1);
if(L.zs||L.$E)$(D,n,p,N,fG.Jg?L.$E:L.zs,L.aM,0,i,1)}if(!b&&f!=null){if(f.r_)F(f.r_,p,N,i);if(f.kw)F(f.kw,p,N,i);
if(f.ie)F(f.ie,Z,S,i);if(f.I2)F(f.I2,Z,S,i)}};b6.afG=function(e,A,a,p){var N=b6.yL();N.fill=e.RZ;N.style=!0;
j.s.eZ(e.UM,e.Qi,e.aM,A,a,p,1,N)};b6.apw=function(e,A,a,p){var N=b6.yL();N.fill=e.RZ;N.style=!0;fG.s.Cv(e.UM,e.v5,e.aM,A,a,p,1,N)};
b6.a4n=function(e,A){var a=1-A.Inpr.v.val/100,p=1+Math.tan(a*(Math.PI/2)),N=e.length;for(var c=0;c<N;
c++)e[c]=Math.min(255,Math.round(e[c]*p))};b6.iH=function(e,A,a,p){var N=A.blur.v.val,i=Math.round(N*(A.Ckmt.v.val/100));
if(N>i){var Z=j.Gh._I(A.TrnS.v.Crv.v,256,p!=!0);j.rY(e,Z)}if(a!=null&&A.Nose.v.val>0)j.style.JV(e,A.Nose.v.val/100,a)};
b6.eB=function(e,A,a){if(a==null)a=255;var p=j.M.kq(A),N=a<<24|p.k<<16|p.J<<8|p.o,i=new Uint32Array(e.buffer);
i.fill(N)};b6.o8=function(e,A,a,p){var N=A.uglg&&A.uglg.v?a.RO():A.lagl.v.val;N=N*Math.PI/180+p;var i=Math.cos(N)*A.Dstn.v.val,Z=Math.sin(N)*A.Dstn.v.val;
e.x-=Math.round(i);e.y+=Math.round(Z)};b6.mG=function(e){if(e==null)return null;var A=e.frameFXMulti.v;
if(A.length==0)return null;A=A[0].v;var a=JSON.parse(JSON.stringify(iF.kE.default));b6.arT(A,a);return a};
b6.arT=function(e,A){var a=iF.stroke._0.indexOf(e.PntT.v.FrFl),p=[iF.Gw,iF.wu,iF.RE][a],N=A.strokeStyleContent.v={classID:iF.kE.GD[a]};
for(var c=0;c<p.length;c++)N[p[c]]=e[p[c]];A.strokeEnabled=e.enab;A.strokeStyleLineWidth=e.Sz;A.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iF.kE.R0[iF.stroke.types.indexOf(e.Styl.v.FStl)];
A.strokeStyleOpacity=e.Opct;A.strokeStyleBlendMode=e.Md;A.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
b6.td=function(e,A){var a=[];for(var c=0;c<e.length;c++)a.push({t:"UntF",v:{type:"#Nne",val:Math.round(e[c]*A)}});
return a};b6.aiE=function(e,A){var a=e.opacity/255*(e.add.iOpa?e.add.iOpa/255:1),p=e.add.TySh,N=e.yg()||e.c7()&&e.add.vmsk&&e.add.vstk.fillEnabled.v&&e.add.vstk.strokeEnabled.v;
if(p){var i=p._t.EngineDict.StyleRun.RunArray,Z=i[0].StyleSheet.StyleSheetData,s=0;if(Z.FillFlag)s++;
if(Z.StrokeFlag)s++;if(Z._FillBackgroundFlag)s++;if(s>1)N=!0}return N&&(A||a!=1||e.Mi!="pass"&&e.Mi!="norm")};
b6.Gz=function(e,A,a,p){this.Mq=A.clone();this.af4=A.clone();this.af4.Fu(a,a);if(p){this.Mq.Fu(1,1);
this.Zf=j.Q(this.Mq.O());j.WP(e,A,this.Zf,this.Mq)}else this.Zf=e;this.ug=null;this.TB=null;this.CV=null};
b6.Gz.prototype.ZM=function(){return this.Zf};b6.Gz.prototype.rect=function(){return this.Mq};b6.Gz.prototype.PH=function(){return this.af4};
b6.Gz.prototype.Gi=function(){if(this.ug)return this.ug;this.ug=this.ZM().slice(0);j.rQ(this.ug);return this.ug};
b6.Gz.prototype.nW=function(){if(this.TB)return this.TB;this.TB=new Float64Array(this.rect().O());j.style.hL(this.Gi(),this.TB,this.rect().m,this.rect().n);
return this.TB};b6.Gz.prototype.IE=function(){if(this.CV)return this.CV;var e=this.PH(),A=j.Q(e.O());
j.WP(this.ZM(),this.rect(),A,e);this.CV=new Float64Array(e.O());j.style.hL(A,this.CV,e.m,e.n);return this.CV};
b6.Gz.prototype.awE=function(e,A){var a={ol:-A,E0:e,Ak:null,O3:null};if(A==0){a.Ak=this.rect();a.O3=this.nW();
return a}var p=this.IE().slice(0),N=this.PH();a.Ak=N;a.O3=p;for(var c=0;c<p.length;c++)p[c]=-p[c];if(e==0)return a;
var i=this.nW(),Z=this.rect();for(var s=0;s<Z.n;s++)for(var D=0;D<Z.m;D++){var n=s*Z.m+D,S=(s+Z.y-N.y)*N.m+D+Z.x-N.x;
p[S]+=i[n]}return a};b6.Gz.prototype.Sj=function(e,A,a){var p=Math.ceil(e+A),N={nd:this.rect().clone(),ZM:null};
N.nd.Fu(p,p);N.ZM=j.Q(N.nd.O());if(e==0&&A==0)j.GZ(a?this.ZM():this.Gi(),N.ZM);else{var i=j.Q(N.nd.O());
j.WP(this.ZM(),this.rect(),i,N.nd);if(!a)j.rQ(i);if(e!=0){if(a)j.style.jW(i,N.nd,this.IE(),this.PH(),e);
else j.style.jW(i,N.nd,this.nW(),this.rect(),e)}if(A!=0)j.Vr.vq(i,N.ZM,N.nd,Math.max(1,A*.43));else N.ZM=i}return N};
b6.Gz.prototype.arw=function(e,A,a){var p=e*(A-.5),N={nd:this.rect().clone(),ZM:null};if(a)N.nd.Fu(e,e);
N.ZM=j.Q(N.nd.O());var i=N.nd.m,Z=N.nd.n,s=a?this.IE():this.nW(),D=a?this.PH():this.rect(),n=N.nd,S=n.Yn(D),i=S.m,Z=S.n,F=S.x-n.x,$=S.y-n.y,m=S.x-D.x,J=S.y-D.y,w=1-A*2;
for(var f=0;f<Z;f++)for(var b=0;b<i;b++){var L=s[(f+J)*D.m+b+m],C=L/e;N.ZM[(f+$)*n.m+b+F]=Math.max(0,Math.min(255,255-255*((C+w)/(1+w))))}return N};
b6.avS=function(e,A,a,p){var N=e.Lefx,i=e.blendOptions;if(N){var Z=A.add.lmfx;if(a==null)a=Z?Z.Scl.v.val:100;
A.add.lmfx=JSON.parse(JSON.stringify(N.v));if(A.add.lmfx.Scl==null)A.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
b6.cr(A.add.lmfx,a/A.add.lmfx.Scl.v.val);if(Z)A.add.lmfx.Scl.v.val=Z.Scl.v.val;var s=N.v.gagl;if(s&&p)p.Zn(s.v.val)}else delete A.add.lmfx;
if(i){i=i.v;if(i.Md)A.Mi=im.ac(i.Md.v.BlnM);if(i.Opct)A.opacity=Math.round(i.Opct.v.val*255/100);if(i.fillOpacity)A.add.iOpa=Math.round(i.fillOpacity.v.val*255/100);
if(i.Blnd){var D=[];for(var c=0;c<10;c++)D.push(0,0,255,255);var n=i.Blnd.v,S="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var c=0;c<n.length;c++){var F=n[c].v,$=8*["Gry","Rd","Grn","Bl"].indexOf(F.Chnl.v[0].v.enum);for(var m=0;
m<8;m++){D[$+m]=F[S[m]].v}}A.NM=D}}};b6.aoU=function(e){var A="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),a=[],p=e.NM;
for(var c=0;c<4;c++){var N=c*8;if(p[N]+p[N+1]+p[N+4]+p[N+5]==0&&p[N+2]+p[N+3]+p[N+6]+p[N+7]==4*255)continue;
var i={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][c]}}]}}};
a.push(i);for(var Z=0;Z<8;Z++)i.v[A[Z]]={t:"long",v:p[c*8+Z]}}var s={classID:"blendOptions"};if(e.Mi!="norm")s.Md={t:"enum",v:{BlnM:im.Pj(e.Mi)}};
if(e.opacity!=255)s.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(e.opacity*100/255)}};if(e.add.iOpa!=null)s.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(e.add.iOpa*100/255)}};
if(a.length!=0)s.Blnd={t:"VlLs",v:a};var D={Ms:{classID:"null",Idnt:{t:"TEXT",v:ar.sY()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},gP:{classID:"Styl",blendOptions:{t:"Objc",v:s}}},n=e.add.lmfx;
if(n)D.gP.Lefx={t:"Objc",v:n};return D};function fR(){}fR.rw=function(e){return JSON.parse(JSON.stringify(e))};
fR.gF=function(e){var A=fR.rw(fR.ajy),a=A.Brsh.v;if(e!=null){delete a.Hrdn;a.classID="sampledBrush";
a.Nm={t:"TEXT",v:"layer.png"},a.sampledData={t:"TEXT",v:e}}return A};fR.ajy={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
fR.cm={};fR.cm.check=function(e){var A=fR.cm.lV;for(var c=0;c<A.length;c++)if(e[A[c]]==null)e[A[c]]=JSON.parse(fR.cm.Ld[A[c]]);
var a=[];for(var c=0;c<A.length;c++)a.push(A[c]);var p=fR.cm.ay5;for(var c=0;c<p.length;c++){var N=p[c][0],i=p[c][1],Z=!0;
for(var s=0;s<N.length;s++)Z=Z&&e[N[s]].v==!0;if(Z)for(var s=0;s<i.length;s++){if(e[i[s]]==null)console.log("Missing conditional parameter "+i[s]);
else a.push(i[s])}}for(var D in e)if(a.indexOf(D)==-1)console.log("Extra parameter "+D);e=e.Brsh.v;A=fR.cm.dF.lV;
for(var c=0;c<A.length;c++)if(e[A[c]]==null)e[A[c]]=JSON.parse(fR.cm.dF.Ld[A[c]]);a=[];for(var c=0;c<A.length;
c++)if(e[A[c]])a.push(A[c]);else console.log("Missing default parameter "+A[c]);p=fR.cm.dF.aqC[e.classID];
for(var c=0;c<p.length;c++)if(e[p[c]]==null&&p[c]!="dtipsGridSize"&&p[c]!="dtipsErodibleTipHeightMap"&&e.aux!=1)console.log("Missing conditional parameter "+p[c]);
else a.push(p[c]);for(var D in e)if(a.indexOf(D)==-1)console.log("Extra parameter "+D)};fR.cm.aif=function(e){var A=fR.cm.ay5;
for(var c=0;c<A.length;c++){var a=A[c][0],p=A[c][1],N=!0;for(var i=0;i<a.length;i++)N=N&&e[a[i]]&&e[a[i]].v==!0;
if(N){for(var i=0;i<p.length;i++)if(e[p[i]]==null){e[p[i]]=JSON.parse(fR.cm.Ld[p[i]])}}else for(var i=0;
i<p.length;i++)if(e[p[i]]!=null){delete e[p[i]]}}};fR.cm.dF={};fR.cm.dF.lV="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
fR.cm.dF.Ld={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};fR.cm.dF.aqC={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
fR.cm.ay5=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
fR.cm.lV="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
fR.cm.Ld={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function am(e,A){this.abm=e;this.xj=A==null?0:A;this.dir=0}am.prototype.ZF=function(e,A){var a=this.abm,p=new k7(e.x-a.x,e.y-a.y),N=new bj;
N.rotate(-this.xj);p=N.Av(p);if(this.dir==0&&!a.Kx(e))this.dir=Math.abs(p.x)<Math.abs(p.y)?1:2;if(A.l(g4.Kp)){if(this.dir==1)p.x=0;
if(this.dir==2)p.y=0}N.rQ();p=N.Av(p);var i=new k7(a.x+p.x,a.y+p.y);return i};am.prototype.aog=function(e){if(e.l(g4.Kp))return this.dir;
return 0};var dL=function(){function e(){this.ach={}}e.ag6=function(A,a){var p=A.clone();p.Co-=Math.floor(p.Co);
p.dW-=Math.floor(p.dW);var N=new k7(a,0),i=new k7(0,a),Z=p.Av(N),s=p.Av(i),D=new k7(p.Co,p.dW);return[Z,s,D]};
e.aph=function(A,a){var p=k7.nR;return p(A[0],a[0])+p(A[1],a[1])+p(A[2],a[2]);return dsum};e.prototype.az2=function(A){var a=this.ach,p=a[A];
if(p==null)p=a[A]={KE:[],x6:0,O:0,a42:0,ant:0};p.x6=Date.now();while(Object.keys(a).length>3){var N="",i=Date.now();
for(var Z in a){var s=a[Z].x6;if(s<i){i=s;N=Z}}delete a[N]}return p};e.prototype.a8S=function(A,a){var p=A.KE,N,i=1e6;
for(var c=0;c<p.length;c++){var Z=p[c],s=e.aph(Z.UO,a);if(s<i){N=Z;i=s}}return N};e.prototype.ad3=function(A,a){var p=A.KE;
p.push(a);A.O+=a.rect.O();if(p.length>1e3||A.O>100*100*1600){console.log("pruning",A.O,p.length);p.sort(function(i,Z){return Z.x6-i.x6});
while(p.length>500||A.O>100*100*800){var N=p.pop();A.O-=N.rect.O()}}};return e}();function jF(e,A,a,p,N,i,Z,s,D){this.Cu=A;
this.tV=a;this.dG=i;this.U9=p;this.tL=null;this.D_=null;this.Il=0;this.a0s=0;this.a3R=0;this.EX=0;this.yV=0;
this.Q_=D==null?Math.floor(Math.random()*16777215):D;this.Ro=D==null?Math.floor(Math.random()*16777215):D;
this.WJ=new dE;this._L=new dE;if(s!=null){this.Qi=s}else{var n=jF.aq1;if(n.length!=Z.O()*4)n=j.Q(Z.O()*4);
else n.fill(0);this.Qi=jF.aq1=n}this.rect=Z.clone();this.i6=[];this.xd=[];this.$Y=null;this.lM=0;this.k=null;
this.auI="";this.vc=null;this.aeQ(e,N)}jF.aq1=j.Q(16);jF.prototype.aeQ=function(e,A){this.lM=A;this.k=e;
this.auI=JSON.stringify(e)+JSON.stringify(this.U9.DA);this.vc=jF.a2j(this.k,this.Cu,this.tV)};jF.prototype.moveTo=function(e,A,a){a=this.aqW(a);
this.Il=a;var p=new k7(e,A),N=this.k.Brsh.v.Dmtr.v.val;this.tL=p.clone();this.D_=p.clone();this.$Y=p.clone();
this.i6=[e,A];this.xd=[a];if(this.U9.lW!=jF.h8){var i=this.k.angleDynamics,Z=i?i.v.bVTy.v==6:!1;this.h3(Z?new dE:this.ayU(p,this.a0a(a),a,new k7(0,0)))}this.EX=p.clone()};
jF.prototype.lineTo=function(e,A,a){a=this.aqW(a);var p=this.i6,N=p.length,i=p[N-2],Z=p[N-1];if(e==i&&A==Z)return;
var s=this.k.Brsh.v.Dmtr.v.val,D=Math.ceil(s)+1,n=new dE(Math.round(i),Math.round(Z),0,0);n.Fu(D,D);
var S=new dE(Math.round(e),Math.round(A),0,0);S.Fu(D,D);this.i6.push(e,A);this.xd.push(a);N+=2;if(N>=6)this.h3(this.a7L(N))};
jF.prototype.aqW=function(e){if(e==null)e=1;e=Math.max(.05,Math.min(5,e));if(isNaN(e)){alert("Pressure is not a number");
throw"e"}return e};jF.prototype.h3=function(e){this.WJ=e;this._L=this._L.pg(e)};jF.prototype.finish=function(){var e=this.i6,A=e.length,a;
if(A==4)a=this.aiY(e[A-2],e[A-1],this.xd[(A>>1)-1],!0);if(A>4)a=this.a7L(A+2);if(a)this.h3(a)};jF.prototype.V0=function(){return this.rect.clone()};
jF.prototype.Nd=function(){return this.WJ.Yn(this.rect)};jF.prototype.$L=function(){return this._L.Yn(this.rect)};
jF.prototype.yn=function(){return this.Qi};jF.prototype.a7L=function(e){var A=this.i6,a=this.xd,p=A[e-6],N=A[e-5],i=A[e-4],Z=A[e-3],s=a[(e>>1)-3],D=a[(e>>1)-2],n=new k7(0,0),S=new k7(0,0);
if(8<=e)n=jF.a4t(A[e-8],A[e-7],p,N,i,Z);if(e<=A.length)S=jF.a4t(A[e-2],A[e-1],i,Z,p,N);var F=p+n.x,$=N+n.y,m=i+S.x,J=Z+S.y,w=new dE,f=this.a2z()?1:10;
for(var c=0;c<f;c++){var b=(c+1)/f,L=1-b,C=L*L*L*p+3*b*L*L*F+3*b*b*L*m+b*b*b*i,M=L*L*L*N+3*b*L*L*$+3*b*b*L*J+b*b*b*Z,y=this.aiY(C,M,s+b*(D-s));
w=w.pg(y)}return w};jF.a4t=function(e,A,a,p,N,i){var Z=e-a,s=A-p,D=N-a,n=i-p,S=Math.sqrt(Z*Z+s*s),F=Math.sqrt(D*D+n*n),$=Math.acos((Z*D+s*n)/(S*F))/Math.PI,m=.35,J=.1;
$=J+$*(m-J);var w=N-e,f=i-A,b=Math.sqrt(w*w+f*f),L=$*F/b;return new k7(w*L,f*L)};jF.prototype.aiY=function(e,A,a,p){var N=new dE,i=this.U9.aqZ;
if(i==null)i=0;if(i==0||p){N=this.as1(e,A,a);return N}var Z=this.$Y,s=e-Z.x,D=A-Z.y,n=Math.sqrt(s*s+D*D);
s/=n;D/=n;if(n>i){var S=Z.x+s*(n-i),F=Z.y+D*(n-i);N=this.as1(S,F,a);this.$Y.rq(S,F)}return N};jF.prototype.a2z=function(){var e=this.k,A=e.Brsh.v.Dmtr.v.val;
return this.U9.DA&&A==1};jF.prototype.as1=function(e,A,a){var p=new dE,N=new k7(e,A),i=this.U9.lW,Z=N.QC(this.D_);
Z.normalize(1);var s=k7.nR(this.D_,N),D=-this.a0s,n=this.D_.clone();if(this.a2z()){if(s>.99){var S=this.D_;
jF.ayE(S,N,this.Qi,this.rect,this.zF(this.k));p=j.p.fX([S.x,S.y,N.x,N.y]);D=s}else N=this.D_}else while(!0){var F=this.Il+(a-this.Il)*(Math.max(0,D)/s),$=this.a0a(F),m=this.aqr()*($+this.a3R)/2*this.vc.as3;
if(i==jF.h8)m=1;m=Math.max(m,.5);if(D+m<s){D+=m;this.yV+=m;var J=new k7(this.D_.x+Z.x*D,this.D_.y+Z.y*D),b=1;
if(i==jF.h8){var w=n.clone();w.x+=Z.x>0?1:-1;var f=n.clone();f.y+=Z.y>0?1:-1;if(k7.nR(w,J)<k7.nR(f,J))J=w;
else J=f;D=k7.nR(J,this.D_)}if(this.k.useScatter.v==!0){b=this.k.Cnt.v;var L=this.k.countDynamics.v.jitter.v.val/100,C=L*(-1+2*this.UK());
b+=Math.round(b*C)}for(var c=0;c<b;c++){var M=this.ayU(J,$,a,Z);p=p.pg(M)}n=J}else break}this.a0s=s-D;
this.D_=N;this.Il=a;return p};jF.prototype.aqr=function(){var e=this.k.Brsh.v,A=e.Spcn.v.val,a=Math.max(5,e.Rndn.v.val);
return a/100*(A/100)};jF.prototype.a0a=function(e){var A=this.k,a=A.Brsh.v.Dmtr.v.val;if(A.useTipDynamics.v){var p=a*(A.minimumDiameter.v.val/100);
a=p+(a-p)*(1-this.UK(this.Ro)*(A.szVr.v.jitter.v.val/100));a*=jF._9(A,"szVr",e,this.yV)}return a};jF._9=function(e,A,a,p){var N=1,i=e[A].v,Z=i.bVTy.v,s=i.fStp.v;
if(Z==1)N*=Math.max(0,(s-p)/s);if(Z==2)N*=a;return N};jF.prototype.ayU=function(e,A,a,p){var N=this.U9.a_,w=0;
N=Math.min(1,N);var i=this.k,Z=this.k.Brsh.v,s=Z.Dmtr.v.val,D=this.U9,n=D.lW,S=D.asA,F=this.vc._q[1],$=new bj;
$.translate(-F.m/2,-F.n/2);$.scale(1/this.vc.ap_,1/this.vc.ap_);$.scale(A/s,A/s);$.scale(1,Math.max(5,Z.Rndn.v.val)/100);
if(i.usePaintDynamics&&i.usePaintDynamics.v){var m=i.opVr.v.jitter.v.val/100,J=i.prVr.v.jitter.v.val/100;
N*=1-this.UK()*m;N*=1-this.UK()*J;N*=jF._9(i,"opVr",a,this.yV)*jF._9(i,"prVr",a,this.yV)}if(i.useTipDynamics.v){var f=i.angleDynamics.v,b=i.minimumRoundness.v.val/100;
$.scale(1,b+(1-b)*Math.round(100-this.UK()*i.roundnessDynamics.v.jitter.v.val)/100);w+=(-.5+this.UK())*4*Math.PI*(f.jitter.v.val/100);
w+=jF._9(i,"angleDynamics",a,this.yV)*2*Math.PI;if(f.bVTy.v==6)w+=Math.atan2(-p.y,p.x)}w+=Z.Angl.v.val*(Math.PI/180);
$.rotate(w);if(i.useScatter.v){var L=(-1+2*this.UK())*i.scatterDynamics.v.jitter.v.val/100;$.translate(-L*A*p.y,L*A*p.x)}$.translate(e.x,e.y);
var C=this.a4P($,e,A),M=C.rect.clone();if(n==null){var y=this.zF(i);j.fV(C.iN,Math.round(y.k*255)<<16|Math.round(y.J*255)<<8|Math.round(y.o*255)<<0,4278190080);
if(this._L.QP()&&this.rect.Kx(C.rect)&&N==1)this.Qi=C.iN.slice(0);else{var Q=-1,k=2,E=-1,_=2;if(!D.o7){Q=E=0;
k=_=1}for(var v=E;v<_;v++)for(var V=Q;V<k;V++){var R=C.rect.clone();R.x+=V*this.rect.m;R.y+=v*this.rect.n;
if(R.CS(this.rect)){M=M.pg(R);j.s.afL(C.iN,R,this.Qi,this.rect,R,N)}}}}if(n==jF.h8){var h=new k7(C.rect.x+C.rect.m/2,C.rect.y+C.rect.n/2),P=Math.round(h.x-this.EX.x),H=Math.round(h.y-this.EX.y),U=C.rect.clone();
U.offset(-P,-H);var X=U.Yn(this.rect);X.offset(P,H);j._M(this.Qi,this.rect,C.iN,U);j.s.ym(C.iN,C.rect,this.Qi,this.rect,C.Hk,C.rect,N)}if(n==jF.To||n==jF._E||n==jF.w1){var x=C.rect.Yn(this.rect),K;
if(x.Kx(C.rect))K=C.Hk;else{K=j.Q(x.O());j.WP(C.Hk,C.rect,K,x)}var T=j.Q(x.O()*4);j._M(this.Qi,this.rect,T,x);
if(n==jF._E){var I=T.slice(0),o=j.N_.ZB([-1,-1,-1,-1,25,-1,-1,-1,-1]);j.N_.LP(T,I,x.m,x.n,o,0);j.GZ(I,T)}else if(n==jF.w1){var l=hZ.T$("UnsM");
l.Amnt.v.val=15;l.Thsh.v=0;l.Rds.v.val=5;var I=j.Q(T.length);hZ.Eo("UnsM",{buffer:T,rect:x},l,0,0,{buffer:I,rect:x});
j.GZ(I,T)}else{hZ.d1(1,j.Vr.o3,T,x)}j.s.ym(T,x,this.Qi,this.rect,K,x,N)}this.a3R=A;this.EX=h;this.Ro++;
return M};jF.prototype.zF=function(e){var A=jF.atf(this.lM);if(e.useColorDynamics&&e.useColorDynamics.v){var a=1-this.UK()*e.clVr.v.jitter.v.val/100,p=jF.atf(this.dG);
A.o=a*A.o+(1-a)*p.o;A.J=a*A.J+(1-a)*p.J;A.k=a*A.k+(1-a)*p.k;var N=(-.5+this.UK())*e.H.v.val/100,i=(-1+2*this.UK())*e.Strt.v.val/100,Z=(-1+2*this.UK())*e.Brgh.v.val/100,s=j.RR(A.o,A.J,A.k);
s.Ps=(s.Ps+N+1)%1;s.PV=s.PV+i;if(s.PV<0)s.PV=-s.PV;if(s.PV>1)s.PV=1-(s.PV-1);s.HG=s.HG+Z;if(s.HG<0)s.HG=-s.HG;
if(s.HG>1)s.HG=1-(s.HG-1);A=j.BA(s.Ps,s.PV,s.HG)}return A};jF.prototype.cm=function(e){return Math.max(0,Math.min(1,e))};
jF.prototype.UK=function(e){if(e==null){e=this.Q_++}return jF.hash(e)};jF.atf=function(e){return{o:(e>>16&255)/255,J:(e>>8&255)/255,k:(e>>0&255)/255}};
jF.hash=function(e){e=e^61^e>>16;e=e+(e<<3);e=e^e>>4;e=e*668265261;e=e^e>>15;return(e&16777215)/16777215};
jF.a0P=new dL;jF.prototype.a4P=function(e,A,a){var p=Math.sqrt(this.vc._q[1].O()),N=p*e.nZ(),i=N<10?1:N<50?1.5:N<200?3:8;
if(N<30)i=0;var Z=jF.a0P,s=Z.az2(this.auI),D=this.U9.DA;if(D){e=e.clone();e.Co=Math.floor(e.Co);e.dW=Math.floor(e.dW)}var n=dL.ag6(e,p),S=Z.a8S(s,n);
if(S&&dL.aph(S.UO,n)>i)S=null;if(S){S.rect.x=Math.round(S.a99.x+e.Co);S.rect.y=Math.round(S.a99.y+e.dW);
if(D){S.rect.x=Math.round(A.x-S.rect.m/2);S.rect.y=Math.round(A.y-S.rect.n/2)}S.x6=Date.now()}else{var F=Math.round(this.k.Brsh.v.Dmtr.v.val),$;
if(D&&F<=3){$={channel:j.Q(F*F),rect:new dE(Math.round(A.x-F/2),Math.round(A.y-F/2),F,F)};$.channel.fill(255)}else if(e.gg==1&&e.k==0&&e.b9==0&&e.pU==1){$={channel:this.vc._q[0],rect:this.vc._q[1].clone()};
$.rect.x=Math.round(e.Co);$.rect.y=Math.round(e.dW)}else{$=q.BD.acC(this.vc._q,e)}if(D){for(var c=0;
c<$.channel.length;c++)$.channel[c]=$.channel[c]>127?255:0}if($==null)$={channel:j.Q(0),rect:new dE};
S={iN:j.Q($.rect.O()*4),Hk:$.channel,rect:$.rect,a99:new k7($.rect.x-e.Co,$.rect.y-e.dW),UO:n,x6:Date.now()};
j.Ao(S.Hk,S.iN,3);if(s)Z.ad3(s,S)}return S};jF.a2j=function(e,A,a){var p,N,i,Z=e.Brsh.v.Dmtr.v.val,s=e.Brsh.v.classID;
if(s=="computedBrush"){var D=e.Brsh.v.Hrdn.v.val/100;N=Z<100?1.4:1;i=1;p=j.aA0.acW(Z,D,N)}if(s=="sampledBrush"){var n;
for(var c=0;c<A.length;c++)if(A[c].id==e.Brsh.v.sampledData.v)n=A[c];p=n._q;var S=p[1];N=Math.max(S.m,S.n)/Z;
i=Math.min(S.m,S.n)/Math.max(S.m,S.n)}return{ap_:N,as3:i,_q:p}};jF.T=null;jF.Ae=null;jF.HF=function(e,A,a,p,N,i){var Z=jF.T,s=jF.Ae;
if(Z==null){jF.T=Z=document.createElement("canvas");jF.Ae=s=Z.getContext("2d")}if(i==null)i=p;if(Z.width!=i||Z.height!=N){Z.width=i;
Z.height=N}else s.clearRect(0,0,i,N);s.fillStyle="#000000";s.font=Math.floor(10*q.V())+"px sans-serif";
var D=e.Brsh.v.Dmtr.v.val,n=""+D,S=e.useBrushSize;if(S&&S.v)n="---";var F=s.measureText(n);s.fillText(n,(p-F.width)/2,N-2);
var $=p,m=N-10*q.V(),J=Math.min($,m),w=e.Brsh.v.classID;if(w=="computedBrush"){s.translate($/2,m/2);
s.rotate(-e.Brsh.v.Angl.v.val*Math.PI/180);s.scale(1,.1+.9*e.Brsh.v.Rndn.v.val/100);var f=Math.min(.95*J/2,D/2)+.5,b=.9*e.Brsh.v.Hrdn.v.val/100,L=s.createRadialGradient(0,0,0,0,0,f);
L.addColorStop(b,"rgba(0,0,0,1)");L.addColorStop((.5+b)/1.5,"rgba(0,0,0,.5)");L.addColorStop(1,"rgba(0,0,0,0)");
s.fillStyle=L;s.fillRect(-f,-f,2*f,2*f);s.setTransform(1,0,0,1,0,0)}else if(w=="sampledBrush"){var M,_=0;
for(var c=0;c<A.length;c++)if(A[c].id==e.Brsh.v.sampledData.v)M=A[c];var y=M._q;j.ej(y);var Q=y[0],k=y[1].m,E=y[1].n;
while((k>$||E>m)&&y[_+2]){_+=2;Q=y[_];k=y[_+1].m;E=y[_+1].n}if(k*E!=0){var v=j.Q(k*E*4);j.Ao(Q,v,3);
var V=new ImageData(new Uint8ClampedArray(v.buffer),k,E);s.putImageData(V,Math.round(($-k)/2),Math.round((m-E)/2))}}else{}return Z.toDataURL()};
jF.MS=function(e,A,a,p){if(a==0)a=1;var N=e.Brsh.v,i=N.Dmtr.v.val,Z=N.Dmtr.v.val=Math.min(p!=null?Math.round(p*2.6):3e3,i*a),s=N.Hrdn?N.Hrdn.v.val/100:1,D=p!=null?p:Math.round(Z*(1+.55*(1-s)))+4,F;
D=Math.max(15,Math.min(D,3e3));var n=new dE(0,0,D,D),S=new jF(e,A,null,{a_:1},16711712,0,n);N.Dmtr.v.val=i;
S.moveTo(n.m/2,n.n/2);var $=S.yn(),m=S.V0();if(n.Kx(m))F=$;else{F=j.Q(n.O()*4);j._M($,m,F,n)}return[F,n,Z]};
jF.adv=function(e,A,a,p){var N=A.m,i=N>>>1;for(var c=0;c<4;c++){var Z=6-c;e[N*(i-Z)+i-1]=p;e[N*(i-Z)+i]=a;
e[N*(i-Z)+i+1]=p;e[N*(i+Z)+i-1]=p;e[N*(i+Z)+i]=a;e[N*(i+Z)+i+1]=p;e[N*(i-1)+i-Z]=p;e[N*i+i-Z]=a;e[N*(i+1)+i-Z]=p;
e[N*(i-1)+i+Z]=p;e[N*i+i+Z]=a;e[N*(i+1)+i+Z]=p}};jF.h9=function(e,A,a,p){var N=jF.MS(e,A,a),i=N[0].slice(0),Z=N[1],s=N[2],D=Z.O(),n=j.Q(D);
j.kI(i,n,3);var S=j.Q(D);j.P.a8V(n,S,Z,q.V()>1.9);if(s<3||j.ne(S,0)||p&&s>12){jF.adv(S,Z,255,0)}var F=[3,5,3,4,8,4,3,5,3];
F=j.N_.ZB(F);j.N_.uC(S,n,Z.m,Z.n,F);j.fV(i,4294967295);j.Ao(n,i,3);for(var c=0;c<D;c++)if(S[c]==255){i[c<<2]=i[(c<<2)+1]=i[(c<<2)+2]=0;
i[(c<<2)+3]=255}return{Hi:i,nd:Z,JZ:new k7(Z.m/2,Z.n/2)}};jF.ayE=function(e,A,a,p,N){var i=4278190080|Math.round(N.k*255)<<16|Math.round(N.J*255)<<8|Math.round(N.o*255)<<0;
a=new Uint32Array(a.buffer);var Z=Math.floor(e.x),s=Math.floor(e.y),D=Math.floor(A.x),n=Math.floor(A.y),S=Math.abs(D-Z),F=Math.abs(n-s),$=Z<D?1:-1,m=s<n?1:-1,J=S-F;
while(!0){a[s*p.m+Z]=i;if(Z==D&&s==n)break;var w=2*J;if(w>-F){J-=F;Z+=$}if(w<S){J+=S;s+=m}}};jF.h8="0";
jF.To="1";jF._E="2";jF.w1="3";var ek={};ek.R6=function(e,A,a){if(a==null)a=!0;var p=e.add.TySh,N=new dl(p._t,A),i=ek.Y1(N,p);
e.P5.path=i.path;e.P5._q=[i.Qi,i.nd];j.ff(e.P5._q);e.P5.LV=i.nd.clone();if(a){e.rect=i.nd;e.buffer=i.Qi;
e.U()}return[N,i]};ek.Y1=function(e,A){var a=e.ok(),Z=0,n;if(a.x==Infinity||a.QP())return{Qi:j.Q(0),nd:new dE,oc:new dE};
var p=e.ok(),N=ek.xe(e,A),i=j.p.fX(N.w);for(var c=0;c<e.JH.length;c++){var s=e.JH[c].zy;if(s.StrokeFlag&&s._LineWidth)Z=Math.max(Z,Math.ceil(A.D.nZ()*s._LineWidth/2))}i.Fu(Z,Z);
if(i.QP())return{Qi:j.Q(0),nd:new dE,oc:new dE};var D=j.wv(i.m,i.n);D.translate(-i.x,-i.y);ek.aiq(N,D);
if(e.JH.length!=0){var S=eG.iQ(A),F=D.getImageData(0,0,i.m,i.n);n=new Uint8Array(F.data.buffer);if(S==0)for(var c=0;
c<n.length;c+=4)n[c+3]=n[c+3]>80?255:0;if(S==3)for(var c=0;c<n.length;c+=4)n[c+3]=Math.min(255,n[c+3]*1.5)}else n=j.Q(i.O()*4);
D.resetTransform();D.beginPath();return{Qi:n,nd:i,oc:p,path:N}};ek.xe=function(e,A){var a=A.D,p=A._t;
ek.fb=a.nZ();var N=eG.iQ(A),i=Math.max(a.k*a.k,a.b9*a.b9)<1e-9?a:null;if(N==3||N==4)i=null;var Z={F:[],w:[]};
ek.a95(e,Z,i,!0);ek.a95(e,Z,i,!1);Z=ek.cZ(Z,A,e);return Z};ek.fb=1;ek.cZ=function(e,A,a){if(e==null)return e;
if(a&&a.Ut)j.p.D(e.w,a.Ut,e.w);if(a&&!j.Ww.$O(A.ev)){var p=eG.V0(A,a);if(!p.QP()){if(e.F){e=j.p.vb(e);
var N=Math.min(p.m,p.n)/8;if(N<1)N=1;e=j.p.iV(e,N)}var i=j.Ww.uB(A.ev,p);j.ay.D(i,e.w,p)}}var Z=A.D;
j.p.D(e.w,Z,e.w);return e};ek.aiq=function(e,A){A.save();A.miterLimit=2;Typr.U.pathToContext({crds:e.w,cmds:e.F},A);
A.restore()};ek.Sh=function(e,A,a){var p=dl.a08(a),N=e._t,i=N.ResourceDict.FontSet,Z=N.ResourceDict.StyleSheetSet[0].StyleSheetData,s=N.EngineDict.StyleRun.RunLengthArray,D=N.EngineDict.StyleRun.RunArray,n=eG.Ob(N),S=!0,F={},$=0;
for(var c=0;c<D.length;c++){var m=D[c].StyleSheet.StyleSheetData.Font;if(m==null)m=Z.Font;for(var J=0;
J<s[c];J++){var w=n.charCodeAt($+J),f=m+","+(w>128?w:-1);if(F[f]==null){F[f]=1;if(A.as(i[m].Name,w)==null)S=!1}}$+=s[c]}return S&&p};
ek.sQ=function(e,A,a){var p=!0;for(var N=0;N<e.B.length;N++){var i=e.B[N],Z=i.add.TySh;if(Z!=null&&!ek.Sh(Z,A,a))p=!1}return p};
ek.agg=function(e,A,a){for(var p=0;p<e.B.length;p++){var N=e.B[p],i=N.add.TySh;if(i!=null&&ek.Sh(i,A,a)){ek.R6(N,A);
e.U()}}};ek.a95=function(e,A,a,p){var N=new bj;for(var c=0;c<e.Vx.length;c++)ek.a8u(e.JH,e.Vx[c],A,N,a,p)};
ek.a8u=function(e,A,a,p,N,i){p.translate(A.my.x,A.my.y);for(var c=0;c<A.Re.length;c++){var Z={},s=A.Re[c];
if(!s.Fz)break;var D=p.clone();D.translate(s.my.x,s.my.y);if(N){var n=N.dW+D.dW*N.pU;D.dW=(Math.round(n)-N.dW)/N.pU}for(var S=s.start;
S<s.end;S++)ek.abp(e,A.H4[S],A,Z,a,D,i)}p.translate(-A.my.x,-A.my.y)};ek.agM="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
ek.abp=function(e,A,a,p,N,i,Z){i.translate(A.my.x,A.my.y);for(var s=A.N0;s<=A.Uf;s++){var D=a.Kr[s],n=D.nd.m,S=e[a.a23+D.jO],F=S.zy._FillBackgroundFlag;
if(S.sK=="\n"||Z&&!F)continue;var $=S.zy.FontSize/S.qA.head.unitsPerEm,m=i.clone();m.translate(D.my.x+D.fI*$,D.my.y-D.$I*$);
var J=new bj;J.scale($,-$);if(S.lL==1&&ek.agM.indexOf(S.sK)!=-1)J.concat(new bj(-1,0,0,1,n,0));if(S.zy.FauxItalic)J.concat(new bj(1,0,-Math.tan(.18),1,0,0));
J.translate(0,S.T0);J.scale(S.scale.x,S.scale.y);if(S.zy.BaselineShift!=null)J.translate(0,-S.zy.BaselineShift);
if(D.xj!=0){J.rotate(-D.xj)}J.concat(m);var w=(S.zy._LineWidth?S.zy._LineWidth:1)*ek.fb;if(Z){N.F.push(ek.zF(S.zy._FillBackgroundColor));
var f=1.005*D.nd.n/$,b=new dE(-D.fI,-f*.27,1.03*D.nd.m/($*S.scale.x),f);if(S.zy.StrokeFlag)b.Fu(w/$,w/$);
j.p.concat(N,j.p.wt(b),J);N.F.push("X");continue}if(S.zy.FillFlag)N.F.push(ek.zF(S.zy.FillColor));if(S.zy.StrokeFlag)N.F.push("O-"+ek.zF(S.zy.StrokeColor)+"-"+w);
if(D.path.F.length!=0&&S.sK!="\t"){if(S.zy.FauxBold){var L=S.zy.FontSize/2048*27*S.scale.x;J.Co+=L;j.p.concat(N,D.path,J);
J.Co-=L+L;j.p.concat(N,D.path,J)}else j.p.concat(N,D.path,J)}if(S.sK!="\n"){if(S.zy.Underline){if(p.J$==null)p.J$=S.qA.post.underlineThickness;
if(p.av7==null)p.av7=S.qA.post.underlinePosition;var C=0,M=p.av7-p.J$/2,y=D.Qb*1.05,Q=-p.J$;j.p.concat(N,{F:["M","L","L","L","Z"],w:[C,M,C+y,M,C+y,M+Q,C,M+Q]},J)}if(S.zy.Strikethrough){var k=S.qA["OS/2"].yStrikeoutSize,E=S.qA["OS/2"].yStrikeoutPosition,C=0,M=E+k/2,y=D.Qb*1.05,Q=-k;
j.p.concat(N,{F:["M","L","L","L","Z"],w:[C,M,C+y,M,C+y,M+Q,C,M+Q]},J)}}if(S.zy.FillFlag)N.F.push("X");
if(S.zy.StrokeFlag)N.F.push("OX")}i.translate(-A.my.x,-A.my.y)};ek.zF=function(e){var A=eG.kq(e),a=(Math.round(A.o)<<16)+(Math.round(A.J)<<8)+Math.round(A.k);
return"#"+j.yj(a)};function dl(e,A){var a=eG.y7(e),p,N,i=eG.Np(e),Z=e._LineOrientation==2?new bj:null,S,$;
if(e.Curve)N=dl.mu(e.Curve);if(a!=0){p=new dE(i[0],i[1],i[2],i[3]);if(Z){var s=p.m;p.m=p.n;p.n=s;Z.translate(0,-i[2])}if(a==2){p.m=N[5]-N[4];
p.n=9999}}this.Vx=[];this.JH=[];this.lT=a;this.Ut=Z;var D=this.aiR=eG.Ob(e),n=-1,F=-1;for(var c=0;c<D.length;
c++){var m=S,J=eG.a7J(e,c);if(J!=n){n=J;m=S=eG.a5O(e,J)}var w=$,J=eG.adq(e,c);if(J!=F){F=J;w=$=eG.aj8(e,J)}var f={sK:D.charAt(c),zy:m,qA:null,qi:-1,z0:eG.ajt(e,c),T0:0,scale:new k7(0,0),IG:0,lineHeight:0,lL:0},b=e.ResourceDict.FontSet[m.Font].Name,L=f.qA=A.as(b,D.charCodeAt(c));
f.scale.x=m.HorizontalScale==null?1:m.HorizontalScale;f.scale.y=m.VerticalScale==null?1:m.VerticalScale;
var C=L["OS/2"],M=L.hhea;if(m.FontCaps==1&&f.sK!=f.sK.toUpperCase()){var y=C.sxHeight?C.sxHeight/C.sTypoAscender:.76;
f.scale.x*=y;f.scale.y*=y}var Q=1/L.head.unitsPerEm*m.FontSize;if(m.FontBaseline==1){var y=e.ResourceDict.SuperscriptSize;
f.scale.x*=y;f.scale.y*=y;f.T0-=e.ResourceDict.SuperscriptPosition*m.FontSize}if(m.FontBaseline==2){var y=e.ResourceDict.SubscriptSize;
f.scale.x*=y;f.scale.y*=y;f.T0+=e.ResourceDict.SubscriptPosition*m.FontSize}f.IG=dl.IG(L)*m.FontSize;
var k=w.AutoLeading;f.lineHeight=m.FontSize*(k==null?1.2:k);if(m.AutoLeading==!1)f.lineHeight=m.Leading;
if(f.lineHeight==0)f.lineHeight=.01;this.JH.push(f)}var E=this.Vx,_=[0];for(var c=0;c<e.EngineDict.ParagraphRun.RunLengthArray.length;
c++){var v=new dl.$p(e,A,this.JH,c,p,_,a==1?N:null);E.push(v)}if(Z){if(a==0)Z.translate(0,E[0].H4[0].IG/2);
Z.rotate(-Math.PI/2)}if(a==2){var V=e.Curve.Points,R=N[0],h=N[1],P=N[2],H=N[3],U=N[4],X=N[5];for(var c=0;
c<E.length;c++)for(var x=0;x<E[c].Re.length;x++)if(!(c==0&&x==0))E[c].Re[x].Fz=!1;var v=E[0],K=v.Re[0];
v.my.rq(0,0);K.my.rq(0,0);for(var x=K.start;x<K.end;x++){var T=v.H4[x],I=T.my.x;T.my.x=0;for(var o=T.N0;
o<=T.Uf;o++){var l=v.Kr[o],O=l.nd.m/2;l.my.x+=I;var g=dl.aoI(R,(U+l.my.x+O)%H);l.my.x=g[0]-O*g[2];l.my.y=g[1]-O*g[3];
l.xj=Math.atan2(g[3],g[2])}}}}dl.IG=function(e){var A=e._hh;if(A==null){var a=Typr.U,p=a.codeToGlyph(e,104),N=j.p.i9(Typr.U.glyphToPath(e,p).crds).n;
A=e._hh=N*(1/e.head.unitsPerEm)}return A};dl.prototype.aq4=function(){return!this.aw4(0)};dl.prototype.awq=function(){return this.aw4(1)};
dl.prototype.aw4=function(e){var A=this.Vx,a=!0,p=0;for(var c=0;c<A.length;c++){var N=A[c].Re,i=N.length;
p+=i;for(var Z=0;Z<i;Z++)a&=N[Z].Fz}return[a,p][e]};dl.mu=function(e,A,a){if(A==null)A=.25;var p=e.Points,N=p.length,i=N>>>3,Z=e.TextOnPathTRange,s=e.Reversed,$=0,m=0;
if(s){var D=p.slice(0);for(var c=0;c<N;c+=2){D[c]=p[N-2-c];D[c+1]=p[N-1-c]}p=D;Z=[i-Z[1]%i,i-Z[0]%i]}var n=[],S=[0],F=[0];
for(var c=0;c<N;c+=8){var J=p[c+6]-p[c+0],w=p[c+7]-p[c+1],f=Math.round(Math.sqrt(J*J+w*w)/A),b=a&&c==N-8?f+1:f;
for(var L=0;L<b;L++){var C=L/f,M=1-C,y=M*M*M*p[c+0]+3*M*M*C*p[c+2]+3*M*C*C*p[c+4]+C*C*C*p[c+6],Q=M*M*M*p[c+1]+3*M*M*C*p[c+3]+3*M*C*C*p[c+5]+C*C*C*p[c+7];
n.push(y,Q);if(c+L!=0){var J=y-$,w=Q-m;F.push(F[F.length-1]+Math.sqrt(J*J+w*w));S.push((c>>>3)+C)}$=y;
m=Q}}var A=F.length,k=F[A-1],E=dl.jm(Z[0]%i,S),_=dl.jm(Z[1]%i,S),v=F[E%A],V=F[_%A];if(v>=V)V+=k;return[n,S,F,k,v,V]};
dl.jm=function(e,A){var c=0;while(A[c]<e)c++;return c};dl.aoI=function(e,A){var a=0,c=0,p,N,i;while(a<A){p=e[c+2]-e[c];
N=e[c+3]-e[c+1];i=Math.sqrt(p*p+N*N);a+=i;c+=2}return[e[c],e[c+1],p/i,N/i]};dl.prototype.adl=function(e){return this.JH[e]};
dl.prototype.azM=function(e){for(var A=0;A<this.Vx.length;A++){var a=this.Vx[A];for(var p=0;p<a.Re.length;
p++){var N=a.Re[p],i=a.H4[N.start].start,Z=a.H4[N.end-1].end;if(i<e&&e<Z)return[i,Z-1]}}return[0,1]};
dl.prototype.amt=function(e,A){var a=-1,p=this.Vx;if(this.lT==2){var N=1e9,i=0,Z=p[0],s=Z.Re[0];for(var D=s.start;
D<s.end;D++){var n=Z.H4[D];for(var S=n.N0;S<=n.Uf;S++){var F=Z.Kr[S],$=F.nd.m,m=e.x-F.my.x,J=e.y-F.my.y,w=m*m+J*J;
if(w<N){N=w;i=F.jO}}}if(i!=0&&this.aiR.codePointAt(i-1)>65535)i--;return i}for(var f=0;f<p.length;f++){var Z=p[f];
for(var b=0;b<Z.Re.length;b++){a++;var s=Z.Re[b],L=Z.Re[b+1];if(L==null&&f<p.length-1)L=p[f+1].Re[0];
if(A!=null){if(a!=A)continue}else{if(L!=null&&Z.my.y+s.my.y<e.y)continue}for(var D=s.start;D<s.end;D++){var n=Z.H4[D];
for(var S=n.N0;S<=n.Uf;S++){var F=Z.Kr[S],$=F.nd.m,C=Z.my.x+s.my.x+n.my.x,M=C+F.my.x,y=C+(S<n.Uf?Z.Kr[S+1].my.x:F.my.x+$);
if(e.x<=y||D+1==s.end&&S==n.Uf){var Q=Z.a23+F.jO,k=this.JH[Q],E=k.lL&1;if(k.sK!="\n"&&(E==0&&e.x>M+$/2||E==1&&e.x<M+$/2))Q+=this.aiR.codePointAt(Q)>65535?2:1;
return Q}}}}}};dl.prototype.VG=function(e){var A={nd:new dE,in:0},a=0;for(var p=0;p<this.Vx.length;p++){var N=this.Vx[p];
for(var i=0;i<N.Re.length;i++){var Z=N.Re[i];A.in=a;a++;for(var s=Z.start;s<Z.end;s++){var D=N.H4[s];
for(var n=D.start;n<D.end;n++){if(n==e){var S=this.JH[n],F=S.qi,$=N.Kr[F].jO,m=1;while(N.Kr[F]!=null&&N.Kr[F].jO==$){var J=N.Kr[F],w=N.my.x+Z.my.x+D.my.x+J.my.x,f=N.my.y+Z.my.y+D.my.y+J.my.y;
A.nd=A.nd.pg(new dE(w,f-S.lineHeight,J.nd.m,S.lineHeight));A.xj=J.xj;F+=m}return A}}}}}};dl.prototype.ok=function(){var e=Infinity,A=Infinity,a=-Infinity,p=-Infinity;
for(var c=0;c<this.Vx.length;c++){var N=this.Vx[c];for(var i=0;i<N.Re.length;i++){var Z=N.Re[i];if(!Z.Fz)break;
for(var s=Z.start;s<Z.end;s++){var D=N.H4[s];for(var n=D.N0;n<=D.Uf;n++){var S=N.Kr[n],F=S.nd,$=N.my.x+Z.my.x+D.my.x+S.my.x,m=N.my.y+Z.my.y+D.my.y+S.my.y;
e=Math.min(e,$+F.x);A=Math.min(A,m+F.y);a=Math.max(a,$+F.x+F.m);p=Math.max(p,m+F.y+F.n)}}}}return new dE(e,A,a-e,p-A)};
dl.Ev=function(e){return 19968<=e&&e<=40959||12288<=e&&e<=12543};dl.amP=function(e,A,a,p,N,i,Z){var s=[i],D=0;
for(var c=i;c<Z;c++){if(a[c]==null)console.log(c,i,Z,a);var n=a[c].sK,S=n.charCodeAt(0);if(S==32||S==9){s.push(D,c,1,c+1);
D=0}else if(S==3851){s.push(D+1,c+1);D=0}else if(dl.Ev(S)){s.push(D,c);D=1}else if(c!=i&&a[c].lL!=a[c-1].lL){s.push(D,c);
D=1}else D++}s.push(D);var F=[];for(var c=0;c<s.length;c+=2){var $=s[c],m=s[c+1];if(m==0)continue;F.push(new dl.ax3(e,A,a,p,N,$,m))}return F};
dl.ais=function(e,A,a,p,N,i,Z){var s=[0,A?A.m:1e9],D=[];if(p){var n=e[i].IG,S=N+(N==0?n:e[i].lineHeight),F=S-n*.9,$=j.p.ZQ(p[0],F),m=$.length,J=j.p.ZQ(p[0],S),w=J.length;
if(m!=0&&w!=0){var f=0,b=0,L=[];while(f<m&&b<w){var C=Math.max($[f],J[b]),M=$[f+1],y=J[b+1],Q=Math.min(M,y);
if(C<Q)L.push(C,Q);if(M<y)f+=2;else b+=2}if(L.length!=0)s=L}}for(var k=0;k<s.length;k+=2){var E=0,_=i,v=A?s[k+1]-s[k]-a.StartIndent-a.EndIndent-(i==0?a.FirstLineIndent:0):Infinity;
while(i!=e.length){var V=e[i],R=E==0||(V.Ge||V.kF)||E+V.nd.m<v;if(!R)break;E+=V.nd.m;i++}D.push(i-_)}Z[0]=D;
Z[1]=s;Z[2]=i};dl.a8g=function(e,A){var a=e.length,p=new Uint32Array(a),N=new Uint8Array(a),i=0;for(var c=0;
c<a;c++){N[c]=0;var Z=e.charCodeAt(c);p[c]=Z;if(Z>i)i=Z}if(i>1424)N=dl.a7X(p,A);return N};dl.aom=function(e){return e=="\xDF"?e:e.toUpperCase()};
dl.$p=function(e,A,a,p,N,i,Z){this.H4=[];this.Re=[];this.my=new k7(0,0);this.Kr=null;this.H4=null;this.zy=eG.aj8(e,p);
var s=this.zy,F=0,J="",C=0,M=1,l=0;if(p!=0){var D=s.SpaceBefore;if(D!=null)i[0]+=D}var n=e.EngineDict.ParagraphRun.RunLengthArray,S=n[p];
for(var c=0;c<p;c++)F+=n[c];var $=s._Direction?s._Direction:0;this.a23=F;var m=eG.Ob(e).slice(F,F+S);
for(var w=0;w<m.length;w++){var f=m.charAt(w);J+=a[F+w].zy.FontCaps==0?f:dl.aom(f)}m=J;var b=dl.a8g(m,$),L=[],y=b[c]&1,Q=a[F].qA;
a[F].lL=b[0];for(var c=1;c<m.length;c++){var f=a[F+c],k=b[c];f.lL=k;if(k!=y||f.qA!=Q){L.push(C,M);C=c;
M=1;y=k;Q=f.qA}else M++}L.push(C,M);var E=this.Kr=[];for(var c=0;c<L.length;c+=2){var _=L[c],v=L[c+1],V=(a[F+_].lL&1)==0,R=m.slice(_,_+v),h=Typr.U.shapeHB(a[F+_].qA,R,V),P=[],X=0;
for(var w=0;w<h.length;w++){var H=h[w];P.push({J:H.g,jO:H.cl,Qb:H.ax,aG:H.ay,fI:H.dx,$I:H.dy})}h=P;var U=h.slice(0);
if(!V)U.reverse();for(var w=0;w<R.length;w++){while(X+1<U.length&&U[X+1].jO<=w){X++}while(X>0&&U[X-1].jO==w)X--;
a[F+_+w].qi=E.length+(V?X:U.length-X-1)}for(var w=0;w<h.length;w++){E.push(h[w]);h[w].jO+=_;var f=a[F+h[w].jO];
if(f.z0!=-1&&f.z0<f.qA.maxp.numGlyphs){h[w].J=f.z0;var x=f.qA.hmtx;if(x){var K=Object.keys(x)[0];h[w].Qb=x[K][f.z0]}}if(f.sK=="\n")h[w].Qb=0;
if(f.sK=="\t")h[w].Qb=f.qA.head.unitsPerEm*36/f.zy.FontSize}}var T=eG.i8(s),I=this.H4=dl.amP(e,A,a,F,E,F,F+S),o=this.Re,O=-1,J=[null,null,0];
while(l<I.length){dl.ais(I,N,s,Z,i[0],l,J);O++;var g={start:l,end:0,nd:new dE,my:new k7(0,0),Fz:!0},dk=0,j9=0;
o.push(g);g.end=J[2];if(g.start==g.end)throw"e";var W=g.end==I.length;function d(U,_,k6){var jx=k6-_>>>1;
for(var c=0;c<jx;c++){var fV=U[_+c];U[_+c]=U[k6-1-c];U[k6-1-c]=fV}}for(var gT=1;gT<5;gT++){var r=-1;
for(var c=g.start;c<g.end;c++){var k=a[I[c].start].lL;if(r==-1&&k>=gT)r=c;else if(r!=-1&&k<gT){d(I,r,c);
r=-1}}var G=g.end;if($==0&&I[G-1].Ge)G--;if(r!=-1)d(I,r,G)}var Y=J[0],fk=J[1],r=l,eJ=l;for(var eS=0;
eS<fk.length;eS+=2){var gL=N?fk[eS+1]-fk[eS]-s.StartIndent-s.EndIndent-(l==0?s.FirstLineIndent:0):Infinity,cX=0;
r=eJ;eJ+=Y[eS>>>1];var kj=this.agb(r,eJ,I,$,N!=null);if(N){if(T==1||W&&T==4)cX=kj[1]+(gL-kj[0]);if(T==2||W&&T==5)cX=kj[1]+(gL-kj[0])/2;
if(eJ-r==1&&I[r].nd.m>gL)cX=0;if(O==0)cX+=s.FirstLineIndent;cX+=s.StartIndent}else{if(T==0)cX=s.StartIndent+s.FirstLineIndent;
if(T==1)cX=-kj[0]-s.EndIndent;if(T==2)cX=-kj[0]/2}cX+=fk[eS];if(N&&T>2&&(T==6||!W))this.azU(r,eJ,I,gL,$,cX);
else{var gq=cX;for(var c=r;c<eJ;c++){var iL=I[c],ew=iL.nd.m;iL.my.x=gq;if(iL.FG=="\t")ew=Math.ceil((gq+4)/36)*36-gq;
gq+=ew}}}l=g.end;for(var c=g.start;c<g.end;c++){var fh=I[c].nd.clone();fh.H_(I[c].my);g.nd=g.nd.pg(fh);
dk=Math.max(dk,I[c].IG);j9=Math.max(j9,I[c].lineHeight)}g.my.y=O==0?0:o[O-1].my.y+j9;if(O==0){if(p==0&&N)i[0]+=dk;
if(p!=0)i[0]+=j9;this.my.y=i[0]}else i[0]+=j9;if(N)g.Fz=this.my.y+g.my.y<N.y+N.n||p==0&&O==0}var g9=s.SpaceAfter;
if(g9!=null)i[0]+=g9};dl.$p.prototype.agb=function(e,A,a,p,N){var i=0,Z=0;for(var c=e;c<A;c++)i+=a[c].nd.m;
if(N){if(p==0)for(var c=A-1;c>=e;c--)if(a[c].Ge||a[c].kF)i-=a[c].nd.m;else break;if(p==1)for(var c=e;
c<A;c++)if(a[c].Ge||a[c].kF){var s=a[c].nd.m;i-=s;Z-=s}else break}return[i,Z]};dl.$p.prototype.azU=function(e,A,a,p,N,i){var Z=0,s=0,D=0,n=0;
for(var c=e;c<A;c++)if(a[c].Ge)D++;else{Z+=a[c].nd.m;s++}if(N==0)for(var c=A-1;c>=e;c--)if(a[c].Ge||a[c].kF){if(a[c].Ge){D--}}else break;
if(N==1)for(var c=e;c<A;c++)if(a[c].Ge||a[c].kF){if(a[c].Ge){D--;n++}}else break;if(s<=1||D==0){if(s==1)a[e].my.x=i;
return}var S=(p-Z)/D,F=-n*S;for(var c=e;c<A;c++){if(a[c].Ge)this.Kr[a[c].N0].nd.m=a[c].nd.m=S;a[c].my.x=i+F;
F+=a[c].nd.m}};dl.ax3=function(e,A,a,p,N,i,Z){this.FG="";for(var c=0;c<Z;c++)this.FG+=a[i+c].sK;this.Ge=Z==1&&(a[i].sK==" "||a[i].sK=="\t");
this.kF=Z==1&&a[i].sK=="\n";this.start=i;this.end=i+Z;this.nd=new dE;this.my=new k7(0,0);this.IG=0;this.lineHeight=0;
var s=0,D=0;if(Z==0){this.lineHeight=a[i].lineHeight;this.IG=a[i].IG;this.nd=new dE(0,-a[i].lineHeight,0,a[i].lineHeight)}var n=a[i].qi,S=a[i+Z-1].qi;
if(S<n){var F=n;n=S;S=F}while(S+1<N.length&&N[S].jO==N[S+1].jO){S++}this.N0=n;this.Uf=S;for(var $=n;
$<=S;$++){var m=N[$],J=a[p+m.jO],w=e._LineOrientation==2&&(J.zy.BaselineDirection!=2||dl.Ev(J.sK.charCodeAt(0))),f=Typr.U.glyphToPath(J.qA,m.J),y=0;
m.path={F:f.cmds,w:f.crds};var b=J.zy.FontSize,L=1/J.qA.head.unitsPerEm*b;if(!J.zy.AutoKerning)s+=J.zy.Kerning*2*L*J.scale.x;
m.my=new k7(s,0);m.xj=0;if(w&&m.path.w.length>0){m.xj=-Math.PI/2;m.my.x+=b*.83;m.my.y=-b*.3+m.Qb*L/2;
m.Qb=b/L}var C=m.Qb*L*J.scale.x;m.nd=new dE(0,-J.lineHeight,C,J.lineHeight);var M=m.nd.clone();M.H_(m.my);
if(J.zy.Tracking!=null)y=J.zy.Tracking*.001*b;if(J.zy.FauxBold==!0)y+=.027*b;s+=C+y;if(Z==1&&J.sK==" ")M.m+=2*y;
else if(Z==1&&J.sK!=null&&dl.Ev(J.sK.charCodeAt(0)))M.m+=y;this.nd=this.nd.pg(M);this.IG=Math.max(this.IG,J.IG);
this.lineHeight=Math.max(this.lineHeight,J.lineHeight)}};dl.WO=0;dl.a08=function(e){if(dl.WO==2)return!0;
if(dl.WO==1)return!1;dl.WO=1;function A(){fetch("code/ext/fribidi.wasm").then(function(a){return a.arrayBuffer()}).then(function(a){return WebAssembly.instantiate(a)}).then(function(a){var p=a.instance.exports,N=p.memory,i=16,Z=256,s=1,D=i|Z,n=i|Z|s;
dl.a7X=function(F,$){var m=F.length,J=m*4+4+m*4+m*4+m;fI.My(p,J+m+1e7);var w=new Uint8Array(N.buffer),f=new Uint32Array(N.buffer),b=p.calloc(J,1),C=b+m*4,M=C+4,y=M+m*4,Q=y+m*4;
f.set(F,b>>>2);f[C>>>2]=$==0?D:n;p.fribidi_get_bidi_types(b,m,M);p.fribidi_get_bracket_types(b,m,M,y);
p.fribidi_get_par_embedding_levels_ex(M,y,m,C,Q);var k=w.slice(Q,Q+m);p.free(b);return k};dl.WO=2;var S=new k4(t.E.L,!0);
S.data={d:t.c.iK,Z7:"add",hP:ac.fD,j$:null};e.S(S)})}Typr.U.initHB("code/ext/hb.wasm",A);return!1};function eG(){}eG.rw=function(e){return JSON.parse(JSON.stringify(e))};
eG.QA=function(e,A){for(var a in A)e[a]=A[a]};eG.KP=function(e,A,a,p){var N=eG.a3H();if(a)eG.G4(N,0,0,a);
var i=new bj;if(p!=null)i.rotate(p);i.translate(Math.round(e),Math.round(A));var Z={D:i,_t:N};Z.LW=eG.aaj();
Z.ev=j.Ww.Q();Z.oc=new dE;return Z};eG.aA8=function(e){var A=["CharacterDirection",0];for(var c=0;c<A.length;
c+=2){if(e[A[c]]!=null&&e[A[c]]!=A[c+1]){throw"e";console.log(A[c],e[A[c]])}}if(e instanceof Array)for(var c=0;
c<e.length;c++)eG.aA8(e[c]);else if(e instanceof Object)for(var a in e)eG.aA8(e[a])};eG.i8=function(e,A){if(A==null)A=e.Justification;
var a=e._Direction?e._Direction:0;if(a==1){if(A==0||A==3)A++;else if(A==1||A==4)A--}return A};eG.Hx=function(e){if(e.add==null)return;
var A=e._t,a=A.Curve,p=e.add.vmsk,N=p.i,i=j.p.rh(N,!0).w,Z=e.D.clone();Z.rQ();j.p.D(i,Z,i);var s=i.slice(0,8);
for(var D=8;D<i.length;D+=6)s.push(i[D-2],i[D-1],i[D],i[D+1],i[D+2],i[D+3],i[D+4],i[D+5]);a.Points=s;
a.TextOnPathTRange=p.Cq.slice(0);a.Reversed=p.J1;if(eG.y7(A)==1){var a=dl.mu(A.Curve),n=j.p.i9(a[0]);
eG.dw(A,[0,0,n.m,n.n].map(Math.round));for(var c=0;c<s.length;c+=2){s[c]-=n.x;s[c+1]-=n.y}var S=new bj(1,0,0,1,n.x,n.y);
S.concat(e.D);e.D=S}};eG.no=function(e){if(e.add==null)return;var A=e.add.vmsk,a=e._t.Curve,p=a.Points,N={F:["M"],w:[p[0],p[1]]};
for(var c=0;c<p.length;c+=8){N.F.push("C");N.w.push(p[c+2],p[c+3],p[c+4],p[c+5],p[c+6],p[c+7])}j.p.D(N.w,e.D,N.w);
var i=j.p.Hh(N,!0);A.i=i;A.J1=a.Reversed;A.Cq=a.TextOnPathTRange.slice(0);e.add.vogk=u.c0(i)};eG.kq=function(e){var A={o:0,J:0,k:0};
if(e){var a=e.Values;if(e.Type==1)A={o:a[1]*255,J:a[2]*255,k:a[3]*255};else if(e.Type==2){var p={classID:"CMYC",Cyn:{t:"doub",v:a[1]*100},Mgnt:{t:"doub",v:a[2]*100},Ylw:{t:"doub",v:a[3]*100},Blck:{t:"doub",v:a[4]*100}};
A=j.M.kq(p)}else console.log("Unknown color type")}return A};eG.ac8=function(e){for(var c=0;c<e.length;
c++){var A=e[c].StyleSheet.StyleSheetData,a=A.FillColor;if(a&&a.Type==2){var p=eG.kq(a);a.Type=1;a.Values=[1,p.o/255,p.J/255,p.k/255]}}};
eG.V0=function(e,A){var a;if(eG.y7(e._t)==1){var p=eG.Np(e._t);a=new dE(0,0,p[2]-p[0],p[3]-p[1])}else{a=A.ok();
if(A.Ut){var N=A.Ut.clone(),i=j.p.wt(a);j.p.D(i.w,N,i.w);a=j.p.i9(i.w)}}return a};eG._n=function(e){var A=e[0];
for(var c=0;c<e.length;c++)A=eG.awH(A,e[c]);return A};eG.awH=function(e,A){var a={};for(var p in e)if(JSON.stringify(e[p])==JSON.stringify(A[p]))a[p]=e[p];
return a};eG.Kv=function(e,A){var a=e.eu,p=-1;for(var c=0;c<a.length;c++)if(a[c].Name==A)p=c;if(p==-1){p=a.length;
a.push({FontType:1,Name:A,Script:0,Synthetic:0})}e.JH.Font=p};eG.Ob=function(e){return e.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
eG.Oy=function(e,A){e.EngineDict.Editor.Text=A.replace(/\n/g,"\r")};eG.y7=function(e){return e.Curve&&e.Curve.TextOnPathTRange[0]>=0?2:e.EngineDict.Rendered.Shapes.Children[0].ShapeType};
eG.XX=function(e,A){var a=e.EngineDict.Rendered.Shapes.Children[0];a.ShapeType=A;var p=a.Cookie.Photoshop;
p.ShapeType=A;p.Base.ShapeType=A;if(A==0){delete p.BoxBounds;p.PointBase=[0,0]}if(A==1){delete p.PointBase;
p.BoxBounds=[0,0,1,1]}};eG.Np=function(e){return e.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
eG.dw=function(e,A){e.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=A};eG.ajt=function(e,A){var a=e.EngineDict.AlternateGlyphRun;
if(a==null)return-1;var p=eG.WW(a.RunLengthArray,A).rx;if(a.RunArray[p]==null)return-1;var N=a.RunArray[p].Glyph;
return N==null?-1:N};eG.are=function(e,A,a){var p=e.EngineDict.AlternateGlyphRun;if(p==null){p=e.EngineDict.AlternateGlyphRun=eG.a69();
p.RunArray.push({});p.RunLengthArray.push(eG.Ob(e).length)}var N=eG.WW(p.RunLengthArray,A),i=N.rx,Z=A-N.yu,s=p.RunArray[i],D=JSON.stringify(s),n=p.RunLengthArray[i];
if(Z!=0){p.RunArray.splice(i,0,JSON.parse(D));p.RunLengthArray.splice(i,0,Z);p.RunLengthArray[i+1]-=Z;
i++;n-=Z;Z=0}if(n!=1){p.RunArray.splice(i+1,0,JSON.parse(D));p.RunLengthArray.splice(i+1,0,n-1);p.RunLengthArray[i]=1;
n=1}s.Glyph=a};eG.a7J=function(e,A){var a=e.EngineDict.StyleRun.RunLengthArray;return eG.WW(a,A).rx};
eG.a5O=function(e,A){var a=e.ResourceDict.StyleSheetSet[0].StyleSheetData,p={};for(var N in a)p[N]=a[N];
var i=e.EngineDict.StyleRun.RunArray[A].StyleSheet.StyleSheetData;eG.QA(p,i);return p};eG.adq=function(e,A){var a=e.EngineDict.ParagraphRun.RunLengthArray;
return eG.WW(a,A).rx};eG.aj8=function(e,A){var a=e.ResourceDict.ParagraphSheetSet[0].Properties,p={};
for(var N in a)p[N]=a[N];var i=e.EngineDict.ParagraphRun.RunArray[A].ParagraphSheet.Properties;eG.QA(p,i);
var Z=["StartIndent","EndIndent","FirstLineIndent"];for(var c=0;c<3;c++)if(p[Z[c]]==null)p[Z[c]]=0;return p};
eG.f7=function(e,A,a){if(a=="")return;var p=eG.Ob(e);eG.Oy(e,p.substring(0,A)+a+p.substring(A,p.length));
var N=e.EngineDict.StyleRun,i=N.RunLengthArray,Z=eG.WW(i,A-1);i[Z.rx]+=a.length;var s=e.EngineDict.AlternateGlyphRun;
if(s){var i=s.RunLengthArray,Z=eG.WW(i,A-1);i[Z.rx]+=a.length}var D=e.EngineDict.ParagraphRun,i=D.RunLengthArray,n=eG.WW(i,A),S=a.split("\n");
if(S.length==1){i[n.rx]+=a.length;return}i.splice(n.rx+1,0,i[n.rx]-(A-n.yu));D.RunArray.splice(n.rx+1,0,eG.rw(D.RunArray[n.rx]));
i[n.rx]-=i[n.rx+1];i[n.rx]+=S[0].length+1;for(var c=1;c<S.length-1;c++){D.RunArray.splice(n.rx+c,0,eG.rw(D.RunArray[n.rx+c-1]));
D.RunLengthArray.splice(n.rx+c,0,S[c].length+1)}i[n.rx+S.length-1]+=S[S.length-1].length};eG.BL=function(e,A,a){var p=eG.Ob(e);
eG.Oy(e,p.substring(0,A)+p.substring(a,p.length));eG.Wl(e.EngineDict.ParagraphRun,A,a,!0);eG.Wl(e.EngineDict.StyleRun,A,a,!1);
var N=e.EngineDict.AlternateGlyphRun;if(N)eG.Wl(N,A,a,!1)};eG.Wl=function(e,A,a,p){var N=e.RunLengthArray,i=eG.WW(N,A),Z=eG.WW(N,a),s=[];
for(var c=0;c<N.length;c++)for(var D=0;D<N[c];D++)s.push(c);s.splice(A,a-A);var n=[];for(var c=0;c<N.length;
c++)n.push(0);for(var c=0;c<s.length;c++)n[s[c]]++;for(var c=0;c<N.length;c++){if(n[c]==0){n.splice(c,1);
N.splice(c,1);e.RunArray.splice(c,1);c--}else if(n[c]<N[c])N[c]=n[c]}if(p&&i.rx!=Z.rx&&i.yu!=A){N[i.rx]+=N[i.rx+1];
N.splice(i.rx+1,1);e.RunArray.splice(i.rx+1,1)}};eG.G4=function(e,A,a,p){var N=e.EngineDict.Editor.Text.length;
if(a==N-2)a++;if(p.JH.Font!=null)e.ResourceDict.FontSet=p.eu.slice(0);if(A<=a)eG.ape(e.EngineDict.StyleRun,p.JH,A,a,!0);
eG.ape(e.EngineDict.ParagraphRun,p.Vx,A,a,!1)};eG.p_=function(e,A,a){var p={eu:e.ResourceDict.FontSet.slice(0),JH:[],Vx:[]},N=e.EngineDict.StyleRun.RunLengthArray,i=eG.WW(N,A).rx,Z=eG.WW(N,a).rx;
for(var c=i;c<=Z;c++){var s=eG.rw(e.ResourceDict.StyleSheetSet[0].StyleSheetData),D=e.EngineDict.StyleRun.RunArray;
if(D.length==0)continue;var n=D[c].StyleSheet.StyleSheetData;eG.QA(s,n);p.JH.push(s)}var S=e.EngineDict.ParagraphRun.RunLengthArray,F=eG.WW(S,A).rx,$=eG.WW(S,a).rx;
for(var c=F;c<=$;c++){var m=e.EngineDict.ParagraphRun.RunArray;if(m.length==0)continue;p.Vx.push(eG.rw(m[c].ParagraphSheet.Properties))}p.JH=p.JH.length==0?{}:eG._n(p.JH);
p.Vx=p.Vx.length==0?{}:eG._n(p.Vx);return p};eG.ape=function(e,A,a,p,N){var i=e.RunLengthArray;if(N){var Z=eG.WW(i,a);
if(Z.yu!=a){var s=i[Z.rx];i.splice(Z.rx,0,a-Z.yu);i[Z.rx+1]=s-i[Z.rx];e.RunArray.splice(Z.rx+1,0,eG.rw(e.RunArray[Z.rx]))}var D=eG.WW(i,p);
if(D.yu+i[D.rx]-1!=p){var s=i[D.rx];i.splice(D.rx,0,p-D.yu+1);i[D.rx+1]=s-i[D.rx];e.RunArray.splice(D.rx+1,0,eG.rw(e.RunArray[D.rx]))}}var Z=eG.WW(i,a),D=eG.WW(i,p);
if(N)for(var c=Z.rx;c<=D.rx;c++)eG.QA(e.RunArray[c].StyleSheet.StyleSheetData,A);else for(var c=Z.rx;
c<=D.rx;c++)eG.QA(e.RunArray[c].ParagraphSheet.Properties,A)};eG.anw=function(e,A,a){var p=e.EngineDict.StyleRun.RunLengthArray,N=[],i=0;
for(var c=0;c<p.length;c++){var Z=p[c];for(var s=0;s<Z;s++)if(A<=i+s&&i+s<a)N.push(c);i+=Z}var D=N[0],n=[];
for(var c=0;c<N.length;c++){var S=N[c]-D;if(S==n.length)n.push(0);n[S]++}return n};eG.a9y=function(e){var A=e.EngineDict.StyleRun,a=A.RunArray,p=A.RunLengthArray;
for(var c=0;c<p.length-1;c++){var N=a[c].StyleSheet.StyleSheetData,i=a[c+1].StyleSheet.StyleSheetData;
if(JSON.stringify(N)==JSON.stringify(i)){a.splice(c+1,1);p[c]+=p[c+1];p.splice(c+1,1);c--}}};eG.iQ=function(e){var A=e.LW.AntA.v.Annt;
A=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(A);if(A==-1)A=1;return A};eG.xt=function(e,A){e.LW.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][A]};
eG.tH=function(e,A){var a,p;a=["FontSize","Leading","BaselineShift","_LineWidth"];p=e.JH;for(var c=0;
c<a.length;c++)if(p[a[c]]!=null)p[a[c]]*=A;a=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
p=e.Vx;for(var c=0;c<a.length;c++)if(p[a[c]]!=null)p[a[c]]*=A};eG.agU=function(){return eG.p_(eG.an_,0,0)};
eG.aaj=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
eG.WW=function(e,A){var a=0,c=0;while(a+e[c]<=A){a+=e[c];c++}return{rx:c,yu:a}};eG.a3H=function(){var e=eG.rw(this.an_);
return e};eG.a7$=function(e,A){var a=A.Vx};eG.a6_=function(e,A){var a=A.JH,p;p=e.Undl;if(p&&p.v.Undl=="underlineOnLeftInVertical")a.Underline=!0;
p=e.syntheticItalic;if(p)a.FauxItalic=p.v};eG.akp={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
eG.a2h={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
eG.a69=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};eG.an_={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(eG.akp))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(eG.akp))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(eG.a2h))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var d1={};d1.atj=function(e){var A=d1.ac$(e._0,e._1);d1.akC(A,e._0);return A};d1.a6K=function(e,A,a){var p={};
p._98={_0:"i7"};p._0=d1.ade(e,A,a?a._0:null);p._1=d1.a6n(e,A,p._0,a?a._1:null);return p};d1.ade=function(e,A,a){var p={};
p._1=d1.a5l(e,a?a._1:null);p._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};p._3=JSON.parse(JSON.stringify(d1.a8K));
p._4=JSON.parse(JSON.stringify(d1.auL));p._5=d1.avP(e,p._1._0,a?a._5:null);p._6=d1.au6(e,a?a._6:null);
p._8=d1.a75(e,A,a?a._8:null);p._9=d1.alj;return p};d1.akC=function(e,A){d1.ag5(e,A._5,A._1._0)};d1.a5l=function(e,A){var a=[],p=[];
for(var c=0;c<e.length;c++){var N=e[c].ResourceDict.FontSet;for(var i=0;i<N.length;i++){var Z=N[i];if(p.indexOf(Z.Name)!=-1)continue;
a.push(Z);p.push(Z.Name)}}var s={_0:[]};for(var c=0;c<a.length;c++){var D=a[c],n={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+D.Name,_1:"i"+D.Script,_2:"i"+D.FontType}}};
if(D.Script==0)delete n._0._0._1;s._0.push(n)}return s};d1.avP=function(e,A,a){var p={_0:[],_1:[]},N={_0:JSON.parse(JSON.stringify(d1.abY))};
d1.a7j(N._0,e[0].ResourceDict.StyleSheetSet[0],A,e[0].ResourceDict.FontSet);p._0.push(N);p._1.push({_0:"i0"});
p._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});p._1.push({_0:"i1"});return p};d1.ag5=function(e,A,a){var p=A._0[0];
for(var c=0;c<e.length;c++)d1.apX(p._0,e[c].ResourceDict.StyleSheetSet[0],a,e[c].ResourceDict.FontSet)};
d1.au6=function(e,A){var a={_0:[],_1:[]},p={_0:JSON.parse(JSON.stringify(d1.Ju))};d1.JP(p._0,e[0].ResourceDict.ParagraphSheetSet[0]);
a._0.push(p);a._1.push({_0:"i0"});p={_0:JSON.parse(JSON.stringify(d1.Ju))};d1.JP(p._0,e[0].ResourceDict.ParagraphSheetSet[0]);
p._0._0="sBasic Paragraph";p._0._6="i0";a._0.push(p);a._1.push({_0:"i1"});return a};d1.a75=function(e,A,a){var p={_0:[]};
for(var c=0;c<e.length;c++){var N=e[c].Curve,i={};p._0.push({_0:i});var Z=eG.y7(e[c]);i._2={};i._2._0="i"+Z;
if(e[c]._LineOrientation==2)i._2._1="i2";if(Z==0){i._2._6=["f-1","f-1"];i._2._11={_4:"i-1",_7:!1}}else if(Z==1&&N==null){var s=eG.Np(e[c]),D=s[2],n=s[3];
i._1={_0:d1.HH("f",[0,0,0,0,D,0,D,0,D,0,D,0,D,n,D,n,D,n,D,n,0,n,0,n,0,n,0,n,0,0,0,0])};i._2._6=["f-2","f-2"];
i._2._11={_4:"i-2",_7:!1}}else if(Z==1){var s=eG.Np(e[c]),D=s[2],n=s[3];i._1={_0:d1.HH("f",N.Points)};
i._2._6=["f-3","f-3"];i._2._11={_4:"i-3",_7:!1}}else if(Z==2){i._1={_0:d1.HH("f",N.Points)};i._2._6=d1.HH("f",N.TextOnPathTRange);
i._2._11={_0:N.Reversed,_3:"i0",_5:"f0",_7:!1}}}return p};d1.a6n=function(e,A,a,p){var N={};N._0=JSON.parse(JSON.stringify(d1.a1P));
N._1=d1.aqc(e,A,a,p?p._1:null);N._2=JSON.parse(JSON.stringify(d1.abY._6));N._3=JSON.parse(JSON.stringify(d1.Ju._5));
return N};d1.ac$=function(e,A){return d1.a0z(e,A._1)};d1.aqc=function(e,A,a,p){var N=[],i=a._1._0;for(var c=0;
c<e.length;c++){var Z=e[c],s={_0:{}};N.push(s);s._0._0="s"+Z.EngineDict.Editor.Text;s._0._0=s._0._0;
var D=s._0._5={_0:[]},n=Z.EngineDict.ParagraphRun;for(var S=0;S<n.RunArray.length;S++){var F={_0:{}};
D._0.push(F);F._0._0={_0:"s",_5:{},_6:"i1"};d1.JP(F._0._0,n.RunArray[S].ParagraphSheet);F._1="i"+n.RunLengthArray[S]}var $=s._0._6={_0:[]};
n=Z.EngineDict.StyleRun;for(var S=0;S<n.RunArray.length;S++){var m={_0:{}};$._0.push(m);m._0._0={_0:"s",_5:"i1",_6:{}};
d1.a7j(m._0._0,n.RunArray[S].StyleSheet,i,Z.ResourceDict.FontSet);m._1="i"+n.RunLengthArray[S]}n=Z.EngineDict.AlternateGlyphRun;
if(n){var J=s._0._9={_0:[]};for(var S=0;S<n.RunArray.length;S++){var w={_0:{}};J._0.push(w);var f=n.RunArray[S];
if(f.Glyph!=null){w._0._0={_0:"i"+f.Glyph,_1:"e"}}w._1="i"+n.RunLengthArray[S]}}s._0._10={_0:"i4",_2:!0};
s._1=d1.view.ay_(Z,null,c,null)}return N};d1.a0z=function(e,A){var a=[],p=e._1._0;for(var c=0;c<A.length;
c++){var N=eG.a3H();a.push(N);var i=A[c];N.EngineDict.Editor.Text=i._0._0.slice(1);var Z=N.EngineDict.ParagraphRun.RunArray[0],s=N.EngineDict.ParagraphRun,D=i._0._5;
if(D)for(var n=0;n<D._0.length;n++){var S=D._0[n];s.RunLengthArray[n]=parseInt(S._1.slice(1));s.RunArray[n]=JSON.parse(JSON.stringify(Z));
d1.af5(S._0._0,s.RunArray[n].ParagraphSheet)}else{s.RunLengthArray[0]=eG.Ob(N).length}var F=i._0._6;
s=N.EngineDict.StyleRun;if(F)for(var n=0;n<F._0.length;n++){var $=F._0[n];s.RunLengthArray[n]=parseInt($._1.slice(1));
s.RunArray[n]={StyleSheet:{StyleSheetData:{}}};d1.apX($._0._0,s.RunArray[n].StyleSheet,p,N.ResourceDict.FontSet)}else{s.RunLengthArray[0]=eG.Ob(N).length;
s.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return a};d1.a7j=function(e,A,a,p,N){e._0="s"+(A.Name?A.Name:"");
var i=e._6,Z=N?N._6:null,s=A.StyleSheetData;if(s.Font==null)return;var D=p[s.Font].Name,n=-1;for(var c=0;
c<a.length;c++)if("s"+D==a[c]._0._0._0){n=c;break}i._0="i"+n;if(s.FontSize!=null)i._1="f"+s.FontSize;
if(s.FauxBold!=null)i._2=s.FauxBold;if(s.FauxItalic!=null)i._3=s.FauxItalic;if(s.AutoLeading!=null)i._4=s.AutoLeading;
if(s.Leading!=null)i._5="f"+s.Leading;if(s.HorizontalScale!=null)i._6="f"+s.HorizontalScale;if(s.VerticalScale!=null)i._7="f"+s.VerticalScale;
if(s.Tracking!=null)i._8="i"+s.Tracking;if(s.BaselineShift!=null)i._9="f"+s.BaselineShift;if(s.AutoKerning!=null)i._11="i"+(s.AutoKerning?1:0);
if(s.FontCaps!=null)i._12="i"+s.FontCaps;if(s.FontBaseline!=null)i._13="i"+s.FontBaseline;if(s.Strikethrough!=null)i._15="i"+(s.Strikethrough?1:0);
if(s.Underline!=null)i._16="i"+(s.Underline?2:0);if(s.Ligatures!=null)i._18=s.Ligatures;if(s.DLigatures!=null)i._19=s.DLigatures;
if(s.BaselineDirection!=null)i._35="i"+s.BaselineDirection;if(s.Language!=null)i._38="i"+s.Language;
if(s.FillColor!=null)i._53=d1.zF(s.FillColor);if(s.StrokeColor!=null)i._54=d1.zF(s.StrokeColor);if(s.FillFlag!=null)i._56=s.FillFlag;
if(s.StrokeFlag!=null)i._57=s.StrokeFlag;if(s._LineWidth!=null)i._63="f"+s._LineWidth;if(s._FillBackgroundColor!=null)i._79=d1.zF(s._FillBackgroundColor);
if(s._FillBackgroundFlag!=null)i._80=s._FillBackgroundFlag};d1.zF=function(e){return{_99:"/SimplePaint",_0:{_0:"i1",_1:d1.HH("f",e.Values)}}};
d1.apX=function(e,A,a,p){var N=e._6;if(N==null)return;var i=A.StyleSheetData;if(N._0){var Z=parseInt(N._0.slice(1)),s=a[Z]._0._0._0.slice(1);
eG.Kv({JH:i,eu:p},s)}if(N._1!=null)i.FontSize=parseFloat(N._1.slice(1));if(N._2!=null)i.FauxBold=N._2;
if(N._3!=null)i.FauxItalic=N._3;if(N._4!=null)i.AutoLeading=N._4;if(N._5!=null)i.Leading=parseFloat(N._5.slice(1));
if(N._6!=null)i.HorizontalScale=parseFloat(N._6.slice(1));if(N._7!=null)i.VerticalScale=parseFloat(N._7.slice(1));
if(N._8!=null)i.Tracking=parseFloat(N._8.slice(1));if(N._9!=null)i.BaselineShift=parseFloat(N._9.slice(1));
if(N._11!=null)i.AutoKerning=parseFloat(N._11.slice(1))==1;if(N._12!=null)i.FontCaps=parseFloat(N._12.slice(1));
if(N._13!=null)i.FontBaseline=parseFloat(N._13.slice(1));if(N._15!=null)i.Strikethrough=parseFloat(N._15.slice(1))==1;
if(N._16!=null)i.Underline=parseFloat(N._16.slice(1))==1;if(N._18!=null)i.Ligatures=N._18;if(N._19!=null)i.DLigatures=N._19;
if(N._35!=null)i.BaselineDirection=parseFloat(N._35.slice(1));if(N._38!=null)i.Language=parseFloat(N._38.slice(1));
if(N._53!=null)i.FillColor=d1.u4(N._53);if(N._54!=null)i.StrokeColor=d1.u4(N._54);if(N._56!=null)i.FillFlag=N._56;
if(N._57!=null)i.StrokeFlag=N._57;if(N._63!=null)i._LineWidth=parseFloat(N._63.slice(1));if(N._79!=null)i._FillBackgroundColor=d1.u4(N._79);
if(N._80!=null)i._FillBackgroundFlag=N._80};d1.u4=function(e){var A=e._0._0,a=e._0._1,p=[1,0,0,0],N=[];
for(var c=0;c<a.length;c++)N[c]=parseFloat(a[c].slice(1));if(A=="i0")p[1]=p[2]=p[3]=N[1];else if(A=="i1")p=N;
else if(A=="i2")p=[1].concat(UDOC.C.cmykToRgb(N.slice(1)));else console.log("unknown color type",A,N);
return{Type:1,Values:p}};d1.JP=function(e,A){e._0="s"+(A.Name?A.Name:"");var a=e._5,p=A.Properties;if(p.Justification!=null)a._0="i"+p.Justification;
if(p.FirstLineIndent!=null)a._1="f"+p.FirstLineIndent;if(p.StartIndent!=null)a._2="f"+p.StartIndent;
if(p.EndIndent!=null)a._3="f"+p.EndIndent;if(p.SpaceBefore!=null)a._4="f"+p.SpaceBefore;if(p.SpaceAfter!=null)a._5="f"+p.SpaceAfter;
if(p.AutoLeading!=null)a._7="f"+p.AutoLeading;if(p.AutoHyphenate!=null)a._9=p.AutoHyphenate;if(p._Direction!=null)a._33="i"+p._Direction;
if(p._ComposerEngine!=null)a._35="i"+p._ComposerEngine};d1.af5=function(e,A){var a=e._5;if(a==null)return;
var p=A.Properties;if(a._0)p.Justification=parseInt(a._0.slice(1))};d1.HH=function(e,A){var a=[];for(var c=0;
c<A.length;c++)a.push(e+A[c]);return a};d1.a8K={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
d1.auL={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
d1.abY={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
d1.Ju={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
d1.alj={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
d1.a1P={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var dp={};dp.avj=function(e){return dp.VZ(e,dp._N,0)};dp.amT=function(e){return dp.mw(e,dp._N)};dp.VZ=function(e,A,a){var p;
if(typeof e=="string")return e;if(e instanceof Array){p=[];for(var c=0;c<e.length;c++)p[c]=dp.VZ(e[c],A,a+1)}else{p={};
var N={};for(var i in A){var Z=A[i],s="_"+Z[0];if(e[s]!=null){p[i]=Z[1]?dp.VZ(e[s],Z[1],a+1):e[s];N[s]=!0}}for(var i in e){if(N[i]==null){if(i.length>3)continue;
console.log(A,N);console.log(i,e);throw"e"}}}return p};dp.mw=function(e,A){var a;if(typeof e=="string")return e;
else if(e instanceof Array){a=[];for(var c=0;c<e.length;c++)a[c]=dp.mw(e[c],A)}else{a={};var p={};for(var N in A){var i=A[N],Z="_"+i[0];
if(e[N]!=null){a[Z]=i[1]?dp.mw(e[N],i[1]):e[N];p[N]=!0}}for(var N in e){if(p[N]==null){console.log(A,p);
console.log(N,e);throw"e"}}}return a};dp.N8={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
dp.Jd={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,dp.N8],_StrokeColor:[54,dp.N8],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,dp.N8],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
dp.ae5={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,dp.Jd],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
dp.a5U={_Name:[0],_Features:[5,dp.ae5],_Parent:[6],_UUID:[97]};dp.ahc={_Name:[0],_Parent:[5],_Features:[6,dp.Jd],_UUID:[97]};
dp._N={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,dp.ahc]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,dp.a5U]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_2:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_7:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,dp.a5U]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,dp.ahc]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,dp.Jd],_OriginalNormalParagraphFeatures:[3,dp.ae5]}]};
d1.view={};d1.view.ay_=function(e,A,a,p){var N={},i=eG.y7(e);N._0=[{_0:"i"+a}];return N};function CSS(){}CSS.asz=function(e,A){var a=e.add,p=a.vmsk,N=a.vstk,i=a.lmfx,Z=a.TySh,s=[],D=CSS.a6r(i,a);
if(e.c7()&&p){var n=j.r.km(p.i);if(!n.QP()){s.push("width: "+Math.round(n.m)+"px");s.push("height: "+Math.round(n.n)+"px")}var S=j.r.ajs(p.i);
if(S>0)s.push("border-radius: "+Math.round(S)+"px")}else if(Z){var F=Z._t;if(eG.y7(F)==1){var n=eG.Np(F);
s.push("width: "+Math.round(n[2])+"px");s.push("height: "+Math.round(n[3])+"px")}CSS.a3j(s,eG.p_(F,0,0),Z.D,!1,!1,D[0])}CSS.akG(A,i,s);
if(Z==null)CSS.ah_(D,s);if(N==null||!N.strokeEnabled.v)N=b6.mG(i);if(N&&N.strokeEnabled.v){var $=N.strokeStyleContent.v,m=$.classID,J=iF.kE.oA.indexOf(N.strokeStyleLineCapType.v.strokeStyleLineCapType),w=iF.kE.join.indexOf(N.strokeStyleLineJoinType.v.strokeStyleLineJoinType),f=N.strokeStyleOpacity.v.val/100,b=N.strokeStyleLineWidth.v.val,L="";
if(m=="solidColorLayer")L=CSS.E3($.Clr.v,f);s.push("border: "+b+"px solid "+L)}return s};CSS.akG=function(e,A,a){if(A==null||!A.masterFXSwitch.v)return;
var p=A.dropShadowMulti.v.concat(A.innerShadowMulti.v);for(var c=0;c<p.length;c++){var N=p[c].v;if(N.enab.v){var i=N.classID=="IrSh",Z=N.Dstn.v.val,s=N.lagl.v.val*Math.PI/180;
if(N.uglg&&N.uglg.v)s=e.RO()*Math.PI/180;var D=Z*Math.cos(s),n=Z*Math.sin(s),S=(D==0?"0 ":CSS.aA3(-D)+"px ")+(n==0?"0 ":CSS.aA3(n)+"px ")+N.blur.v.val/2+"px "+CSS.E3(N.Clr.v,N.Opct.v.val/100);
if(i)a.push("box-shadow: inset "+S);else a.push("filter: drop-shadow("+S+")")}}};CSS.a6r=function(e,A){var a=b6.kY(e,A),p=a[0],N=a[1],i,Z;
if(p){i=CSS.E3(p.Clr.v,A.iOpa!=null?A.iOpa/255:1)}else if(N){Z=CSS.ae7(N)}return[i,Z]};CSS.ah_=function(e,A){if(e[0])A.push("background-color: "+e[0]);
if(e[1])A.push("background-image: "+e[1])};CSS.gV={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.aA3=function(iM){return""+parseFloat(iM.toFixed(3))};CSS.IJ=function(e){if(e==null)return{o:0,J:0,k:0};
var A=e.indexOf("(");if(A!=-1){var a=e.slice(A+1,e.length-1).split(",");for(var c=0;c<a.length;c++){var p=a[c].trim();
a[c]=parseFloat(p)*(p.endsWith("%")?255/100:1)}return{o:a[0],J:a[1],k:a[2]}}if(e.charAt(0)!="#"){var N=CSS.gV;
if(N[e])e=N[e];else console.log("unknown color "+e)}e=e.slice(1);if(e.length==4)e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3];
if(e.length==3)e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2];var i=-1;if(e.length==8){i=parseInt(e.slice(6),16);e=e.slice(0,6)}e=parseInt(e,16);
var Z={o:e>>16&255,J:e>>8&255,k:e&255};if(i!=-1)Z.gg=i;return Z};CSS.E3=function(e,A){return CSS.e0(j.M.kq(e),A)};
CSS.e0=function(e,A){if(A==null)A=1;var a=Math.round(e.o),p=Math.round(e.J),N=Math.round(e.k),i=a<<16|p<<8|N;
return A==1?"#"+j.yj(i):"rgba("+a+","+p+","+N+","+A+")"};CSS.ae7=function(e){var A=e.Grad.v;if(A.Clrs==null)return"";
var a=A.Clrs.v.slice(0),p=A.Trns.v.slice(0),N=e.Ofst.v,i=e.Type.v.GrdT=="Rdl"?1:0,Z=(i==1?"radial":"linear")+"-gradient",s=i==0?Math.round(-e.Angl.v.val+90)+"deg":"circle at center",D=e.Rvrs.v,n=j.M.aK(A,D);
for(var c=0;c<n.length;c++){var S=n[c],F=S[1];s+=", "+CSS.e0({o:F[0]*255,J:F[1]*255,k:F[2]*255},S[2])+" "+Math.round(S[0]*100)+"%"}return Z+"("+s+")"};
CSS.a3j=function(e,A,a,p,N,i){var Z=A.JH,s=p?1:a.nZ(),D=Math.round(Z.FontSize*s);e.push("font-size: "+D+"px");
var n=Z.Tracking;if(!p&&n!=null&&n!=0)e.push("letter-spacing: "+Math.round(n*D/1e3)+"px");if(!Z.AutoLeading)e.push("line-height: "+Math.round(Z.Leading*s)+"px");
if(Z.Strikethrough)e.push("text-decoration: line-through");if(Z.Underline)e.push("text-decoration: underline");
if(Z.FontCaps==2)e.push("text-transform: uppercase");var S=eG.kq(Z.FillColor);S=[S.o,S.J,S.k].map(Math.round);
e.push((p?"fill: ":"color: ")+(i?i:"#"+j.yj(S[0]<<16|S[1]<<8|S[2])));var F=A.eu[Z.Font].Name;if(F){var $=fZ.Yg.as(F),m="",J=null,w=null;
if($!=null&&F!=fZ.UJ($))$=null;if(N&&$)m+="\""+F+"\", ";var f=F.toLowerCase();if($){J=fZ.A$($)[0];if($["OS/2"])w=$["OS/2"].usWeightClass}else{J=CSS.axk(F);
if(f.indexOf("light")!=-1)w=300;else if(f.indexOf("medium")!=-1)w=500;else if(f.indexOf("black")!=-1||f.indexOf("extrabold")!=-1)w=800;
else if(f.indexOf("bold")!=-1)w="bold"}if(J!=null)m+="\""+J+"\"";if(w!=null)e.push("font-weight: "+w);
if(f.indexOf("italic")!=-1||f.indexOf("oblique")!=-1)e.push("font-style: italic");if(m)e.push("font-family: "+m)}var b=A.Vx.Justification;
if(b!=null&&b!=0)if(p){}else e.push("text-align: "+["left","right","center"][b%3])};CSS.axk=function(e){e=e.split("-")[0];
while(e.endsWith("MT")||e.endsWith("PS"))e=e.slice(0,e.length-2);var A=!0;for(var c=0;c<e.length;c++){var a=e.charAt(c);
if(!A&&a.toLowerCase()!=a){e=e.slice(0,c)+" "+e.slice(c);c++;A=!0}else A=!1}return e};function gg(){}gg.BS={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
gg.yB=function(e,A){var a=Date.now(),p=e.split("\n"),N;for(var c=0;c<p.length;c++)if(p[c].trim()[0]=="#"){p[c]=""}e=p.join("\n");
try{N=acorn.parse(e)}catch(i1){console.log(i1);return}var i=JSON.parse(JSON.stringify(gg.ip.Tu));i.__return=!1;
i.__continue=!1;i.__break=!1;i.__throw=!1;i.__fs={};i.__window={};gg.eval(N,A,i);var Z=i.__fs;if(Object.keys(Z).length!=0){var s=UZIP.encode(Z);
c6.save(s,"output.zip")}};gg.eval=function(e,A,a){var p=e.type;if(!1){}else if(p=="Program"||p=="BlockStatement"){var N=e.body;
for(var c=0;c<N.length;c++){var i=N[c].type;if(i=="FunctionDeclaration")a[N[c].id.name]=N[c]}for(var c=0;
c<N.length;c++){var i=N[c].type,Z=gg.eval(N[c],A,a);if(a.__continue){a.__continue=!1;return Z}if(a.__return||a.__break||a.__throw)return Z}}else if(p=="ReturnStatement"){a.__return=!0;
return e.argument?gg.hC(e.argument,A,a):null}else if(p=="BreakStatement"){a.__break=!0}else if(p=="ContinueStatement"){a.__continue=!0}else if(p=="VariableDeclaration"){var s=e.declarations;
for(var c=0;c<s.length;c++)gg.eval(s[c],A,a)}else if(p=="VariableDeclarator"){a[e.id.name]=e.init?gg.hC(e.init,A,a):null}else if(p=="FunctionDeclaration"){a[e.id.name]=e}else if(p=="MemberExpression"){var D=gg.hC(e.object,A,a),n=e.computed?gg.hC(e.property,A,a):gg.eval(e.property,A,a),Z;
if(D.$n!=null)Z=gg.ip.NI(D,n,A,a);else if(D==window&&gg.BS[n]){}else Z=D[n];return Z}else if(p=="ArrayExpression"){var S=[],F=e.elements;
for(var c=0;c<F.length;c++)S.push(gg.hC(F[c],A,a));return S}else if(p=="ObjectExpression"){var S={},F=e.properties;
for(var c=0;c<F.length;c++){var $=F[c],m=F[c].key.name?F[c].key.name:F[c].key.value;S[m]=gg.hC(F[c].value,A,a)}return S}else if(p=="ExpressionStatement"){return gg.eval(e.expression,A,a)}else if(p=="NewExpression"){var J=e.arguments,w=e.callee,f=w.type,b=w.name,L=[],S=null;
for(var c=0;c<J.length;c++)L.push(gg.hC(J[c],A,a));if(b=="Array")S=new window[b];else if(f=="Identifier")S=gg.ip.a0$(b,L,A,a);
else throw"e";if(S==null)throw"new "+b;return S}else if(p=="CallExpression"){var J=e.arguments,w=e.callee,f=w.type,C={};
for(var M in a)C[M]=a[M];var L=[];for(var c=0;c<J.length;c++)L.push(gg.hC(J[c],A,a));if(f=="Identifier"){var y=w.name,Q=a[y];
if(Q){if(Q.params){var k=Q.params;for(var c=0;c<k.length;c++)C[k[c].name]=L[c];return gg.eval(Q.body,A,C)}else{return Q.apply(null,L)}}else if(gg.ip.ax_.indexOf(y)!=-1)return gg.ip.j9({$n:"Application"},y,L,A,a);
else if(window[y]==null)console.log("Unknown function "+y);else if(gg.BS[y])alert(y+"() not available");
else{var E=window[y].apply(window,L);return E}}else if(f=="MemberExpression"){var D=gg.hC(w.object,A,a),n=w.computed?gg.hC(w.property,A,a):gg.eval(w.property,A,a);
if(D==window&&gg.BS[n])return;if(D.$n!=null)return gg.ip.j9(D,n,L,A,a);else if(n=="sort"&&D[0]&&D[0].$n=="Layer"){return D.sort(function(g,W){return g.Z.getName()>W.Z.getName()?1:-1})}else return D[n].apply(D,L)}else if(f=="FunctionExpression"){return gg.eval(w.body,A,a)}else console.log(e)}else if(p=="AssignmentExpression"){var _=e.operator,v=e.left,V=v.type,R=gg.hC(v,A,a),h=gg.hC(e.right,A,a),Z=null;
if(!1){}else if(_=="=")Z=h;else if(_=="+=")Z=R+h;else if(_=="-=")Z=R-h;else if(_=="*=")Z=R*h;else if(_=="/=")Z=R/h;
else if(_=="%=")Z=R%h;else if(_=="&=")Z=R&h;else if(_=="|=")Z=R|h;else if(_=="&&=")Z=R&&h;else if(_=="||=")Z=R||h;
else console.log(e);if(V=="Identifier"){var P=v.name;if(a.hasOwnProperty(P))a[P]=Z;else a.__window[P]=Z}else if(V=="MemberExpression"){var H=gg.eval(v.property,A,a),U=gg.hC(v.object,A,a);
if(U.$n!=null)gg.ip.alF(U,H,Z,A,a);else U[H]=Z}else console.log(e)}else if(p=="Identifier")return e.name;
else if(p=="Literal")return e.value;else if(p=="UpdateExpression"){var _=e.operator,X=e.argument.name,S=gg.hC(e.argument,A,a),x=a;
if(x[X]==null)x=a.__window;if(!1){}else if(_=="++"){x[X]++;return e.prefix?x[X]:x[X]-1}else if(_=="--"){x[X]--;
return e.prefix?x[X]:x[X]+1}else console.log(e)}else if(p=="UnaryExpression"){var _=e.operator,K=gg.hC(e.argument,A,a);
if(K.$n=="UnitValue"){if(_=="-")return-K.Z;else return gg.auc(K.Z,_)}else return gg.auc(K,_)}else if(p=="BinaryExpression"||p=="LogicalExpression"){var _=e.operator,v=gg.hC(e.left,A,a),K=gg.hC(e.right,A,a);
if(v==null||K==null)return gg.tS(v,K,_);else if(v.$n=="UnitValue"&&K.$n=="UnitValue")return gg.tS(v.Z,K.Z,_);
else if(v.$n=="UnitValue")return gg.tS(v.Z,K,_);else if(K.$n=="UnitValue"){if(_=="-")return-(v-K.Z);
else return gg.tS(v,K.Z,_)}else return gg.tS(v,K,_)}else if(p=="IfStatement"){var T=gg.hC(e.test,A,a);
if(T)return gg.eval(e.consequent,A,a);else if(e.alternate)return gg.eval(e.alternate,A,a)}else if(p=="ConditionalExpression"){var T=gg.hC(e.test,A,a);
if(T)return gg.hC(e.consequent,A,a);else if(e.alternate)return gg.hC(e.alternate,A,a)}else if(p=="ForInStatement"){gg.eval(e.left,A,a);
var I=e.left.declarations[0].id.name,o=gg.hC(e.right,A,a);for(var M in o){a[I]=M;var l=gg.eval(e.body,A,a);
if(a.__break)break;if(a.__return)return l}a.__break=!1}else if(p=="ForStatement"){gg.eval(e.init,A,a);
while(gg.eval(e.test,A,a)){var l=gg.eval(e.body,A,a);if(a.__break)break;if(a.__return)return l;gg.eval(e.update,A,a)}a.__break=!1}else if(p=="DoWhileStatement"){do{var l=gg.eval(e.body,A,a);
if(a.__break)break;if(a.__return)return l}while(gg.eval(e.test,A,a));a.__break=!1}else if(p=="TryStatement"){gg.eval(e.block,A,a);
if(a.__throw){var O=e.handler;a[O.param.name]=a.__throw;a.__throw=!1;gg.eval(O.body,A,a);delete a[O.param.name]}}else if(p=="EmptyStatement"){}else console.log(e)};
gg.tS=function(e,A,a){if(a=="+")return e+A;else if(a=="-")return e-A;else if(a=="*")return e*A;else if(a=="/")return e/A;
else if(a=="%")return e%A;else if(a=="^")return e^A;else if(a=="&")return e&A;else if(a=="&&")return e&&A;
else if(a=="|")return e|A;else if(a=="||")return e||A;else if(a=="<")return e<A;else if(a==">")return e>A;
else if(a=="=="){if(e.$n&&A.$n)return e.Z==A.Z;return e==A}else if(a=="===")return e===A;else if(a=="<=")return e<=A;
else if(a==">=")return e>=A;else if(a=="!=")return e!=A;else if(a=="!==")return e!==A;else if(a=="<<")return e<<A;
else if(a==">>")return e>>A;else console.log(a)};gg.auc=function(e,A){if(A=="-")return-e;else if(A=="!")return!e;
else if(A=="~")return~e;else if(A=="+")return e;else if(A=="typeof")return typeof e;else console.log(A,e)};
gg.hC=function(e,A,a){var p=e.type;if(p=="Identifier")return gg.a6I(e.name,A,a);else return gg.eval(e,A,a)};
gg.a6I=function(e,A,a){if(e=="undefined")return undefined;else if(a.hasOwnProperty(e))return a[e];else if(e=="app")return{$n:"Application"};
else if(e=="Folder")return{$n:"Folder"};else if(e=="$")return{$n:"$"};else if(gg.ip.aqw.indexOf(e)!=-1)return gg.ip.NI({$n:"Application"},e,A,a);
else if(a.__window.hasOwnProperty(e))return a.__window[e];else if(window[e]&&!gg.BS[e])return window[e];
else{a[e]=null;return null}};gg.ip={};gg.ip.a0$=function(e,A,a,p){var N;if(e=="SolidColor")N={$n:e,Z:[1,0,0,0]};
if(e=="RGBColor")N={$n:e,Z:[1,0,0,0]};if(e=="Window")N={$n:e,Z:new g_(A[0],A[1],A[2])};if(e=="ExportOptionsSaveForWeb")N={$n:e,Z:{qm:"png",Xr:100}};
if(e=="PhotoshopSaveOptions")N={$n:e,Z:{qm:"psd"}};if(e=="PNGSaveOptions")N={$n:e,Z:{qm:"png",Xr:100}};
if(e=="JPEGSaveOptions")N={$n:e,Z:{qm:"jpg",Xr:100}};if(e=="PDFSaveOptions")N={$n:e,Z:{qm:"pdf",af3:""}};
if(e=="File")N={$n:e,Z:A[0]};if(e=="ActionReference")N={$n:e,Z:[]};if(e=="ActionDescriptor")N={$n:e,Z:{}};
if(e=="ActionList")N={$n:e,Z:[]};if(e=="UnitValue")N={$n:e,Z:A.length==0?0:parseFloat(A[0])};return N};
gg.ip.aqw="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
gg.ip.ax_="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow".split(" ");
gg.ip.NI=function(e,A,a,p){var N=a.iU,i=a.w3();if(!1){}else if(A=="typename"){if(e.$n=="Layer")return e.Z.yg()?"LayerSet":"ArtLayer";
else return e.$n}else if(["Document","Layer"].indexOf(e.$n)!=-1&&["layers","artLayers","layerSets"].indexOf(A)!=-1){var Z=i;
if(e.$n=="Document")Z=e.Z;else Z=e.Ac;var s=Z.root,D={$n:"Layers",auW:A,Z:[],Ac:Z};if(e.$n=="Layer")s=Z.root.WG(Z.B.indexOf(e.Z));
if(s.children==null)return null;for(var c=0;c<s.children.length;c++){var n=s.children[c].j,S=n.yg();
if(S&&A=="artLayers"||!S&&A=="layerSets")continue;D.Z.push({$n:"Layer",Z:n,Ac:Z})}D.Z.reverse();return D}else if(e.$n=="Documents"||e.$n=="Layers"||e.$n=="HistoryStates"||e.$n=="LayerComps"){if(!1){}else if(A=="length")return e.Z.length;
else if(Number.isInteger(A))return e.Z[A];else console.log(e.$n+": unknown property ",A)}else if(e.$n=="Application"){if(!1){}else if(A=="activeDocument")return{$n:"Document",Z:a.w3()};
else if(A=="documents"){var D={$n:"Documents",Z:[]};for(var c=0;c<a.oY.length;c++)D.Z.push({$n:"Document",Z:a.oY[c]});
return D}else if(A=="fonts")return{$n:"TextFonts"};else if(A=="preferences")return{$n:"Preferences"};
else if(A=="displayDialogs")return{$n:"DialogModes"};else if(A=="foregroundColor"||A=="backgroundColor"){var F=A[0]=="f"?N.lM:N.dG;
return{$n:"SolidColor",Z:[1,(F>>>16&255)/255,(F>>>8&255)/255,(F>>>0&255)/255]}}else if(A=="UI")return{$n:"UI"};
else if(A=="version")return 30;else console.log(e,A)}else if(e.$n=="Document"){var i=e.Z;if(!1){}else if(A=="activeLayer"){var n=i.B[i.g[0]];
return{$n:"Layer",Z:n,Ac:i}}else if(A=="resolution")return i.l5;else if(A=="width")return i.m;else if(A=="height")return i.n;
else if(A=="name")return i.name;else if(A=="saved")return!i.iP();else if(A=="selection")return{$n:"Selection"};
else if(A=="activeHistoryState")return{$n:"HistoryState",g2:i.hd};else if(A=="source")return i.$_;else if(A=="layerComps"){var $=i.RA.list.v,m=[];
for(var c=0;c<$.length;c++)m.push({$n:"LayerComp",Z:c});return{$n:"LayerComps",Z:m}}else if(A=="historyStates"){var J=[];
for(var c=0;c<i.history.length;c++)J.push({$n:"HistoryState",g2:c});return{$n:"HistoryStates",Z:J}}else if(A=="mode")return 7;
else console.log(e,A)}else if(e.$n=="LayerComp"){if(A=="name")return i.RA.list.v[e.Z].v.Nm.v;else throw A}else if(e.$n=="Layer"){var w={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},n=e.Z;
if(!1){}else if(A=="visible")return n.gi();else if(A=="selected")return i.g.indexOf(i.B.indexOf(n))!=-1;
else if(A=="grouped")return n.G0;else if(w[A]!=null)return n.xF(w[A]);else if(A=="opacity")return n.opacity*100/255;
else if(A=="blendMode")return n.Mi;else if(A=="name")return n.getName();else if(A=="textItem")return{$n:"TextItem",Z:n};
else if(A=="bounds"){var f=q.BD.V0(i,[i.B.indexOf(n)]);return gg.ip.axX(f,i)}else if(A=="parent"){var b=a.oY,Z;
for(var c=0;c<b.length;c++)if(b[c].B.indexOf(n)!=-1)Z=b[c];var L=Z.root.WG(Z.B.indexOf(n)).parent;return L.depth==0?{$n:"Document",Z:Z}:{$n:"Layer",Z:L.j,Ac:Z}}else if(A=="kind"){var C=gg.ip.KM;
for(var c=0;c<C.length;c++)if(n.add[C[c]]!=null)return c;return 0}else if(A=="isBackgroundLayer")return n.add.lnsr="bgnd";
else console.log(e,A)}else if(e.$n=="Selection"){if(!1){}else if(A=="bounds"){if(i.P==null)p.__throw={message:"no selection"};
else return gg.ip.axX(i.P.rect,i)}else console.log(e,A)}else if(e.$n=="TextItem"){var M=e.Z.add.TySh,y=M._t,Q=eG.Ob(y),k=M.D.nZ(),E=eG.p_(y,0,Math.max(0,Q.length-2));
if(A=="contents")return Q.slice(0,Q.length-1).replace(/\n/g,"\r");else if(A=="font")return E.JH.Font!=null?E.eu[E.JH.Font].Name:null;
else if(A=="size")return gg.ip._U(E.JH.FontSize*k,i);else if(A=="leading")return gg.ip._U(E.JH.Leading*k,i);
else if(A=="tracking")return gg.ip._U(E.JH.Tracking);else if(A=="baselineShift")return gg.ip._U(E.JH.BaselineShift);
else if(A=="fauxBold")return E.JH.FauxBold;else if(A=="fauxItalic")return E.JH.FauxItalic;else if(A=="kind")return 1-eG.y7(y);
else if(A=="useAutoLeading")return E.Vx.AutoLeading;else if(A=="hyphenation")return E.Vx.AutoHyphenate;
else if(A=="justification")return gg.ip._U(E.Vx.Justification);else if(A=="color")return{$n:"SolidColor",Z:E.JH.FillColor.Values.slice(0)};
else if(A=="width"||A=="height"){var _=eG.Np(y),v=(_[2]-_[0])*k,V=(_[3]-_[1])*k;return gg.ip._U(A=="width"?v:V,i)}else if(A=="position"){var R=M.D;
return gg.ip.aso([R.Co,R.dW],i)}else if(A=="horizontalScale"||A=="verticalScale"){var h=A[0].toUpperCase()+A.slice(1);
return Math.round(E.JH[h]*100)}else if(A=="antiAliasMethod")eG.iQ(M);else if(A=="totalTextStyle"){var D={};
for(var P=0;P<2;P++){var H=["Style","Paragraph"][P],U=y.EngineDict[H+"Run"].RunLengthArray,X=[],x=0;
for(var c=0;c<U.length;c++){var K=eG.p_(y,x,Math.min(x+U[c],Q.length-2));x+=U[c];X.push(P==0?K.JH:K.Vx);
D.fontSet=K.eu}D[H]={runs:U,styles:X}}return JSON.stringify(D)}else if(A=="transform"){var R=M.D;return JSON.stringify([R.gg,R.k,R.b9,R.pU,R.Co,R.dW])}else console.log(e,A)}else if(e.$n=="Preferences"){if(A=="rulerUnits")return N.tz.sP;
else console.log(e,A)}else if(e.$n=="SolidColor"){if(A=="rgb")return{$n:"RGBColor",Z:e.Z};else console.log(e,A)}else if(e.$n=="RGBColor"){var f=Math.round(255*e.Z[1]),T=Math.round(255*e.Z[2]),I=Math.round(255*e.Z[3]);
if(!1){}else if(A=="red")return f;else if(A=="green")return T;else if(A=="blue")return I;else if(A=="hexValue")return"#"+j.yj(f<<16|T<<8|I).toUpperCase();
else console.log(e,A)}else if(e.$n=="UnitValue"){if(A=="value")return e.Z;else throw"e"}else if(e.$n=="ExportOptionsSaveForWeb"){if(A=="format")return e.Z.qm;
else if(A=="PNG8"||A=="interlaced")return!1;else if(A=="quality")return e.Z.Xr;else if(A=="transparency")return!0;
else throw A}else if(e.$n=="PNGSaveOptions"||e.$n=="JPEGSaveOptions"||e.$n=="PDFSaveOptions"){return 0}else if(e.$n=="$"){if(A=="localize")return!1}else if(e.$n=="ActionList"){if(A=="count")return e.ln.length;
else throw A}else console.log(e,A)};gg.ip.axX=function(e,A){return gg.ip.aso([e.x,e.y,e.x+e.m,e.y+e.n],A)};
gg.ip.aso=function(e,A){var a=[];for(var c=0;c<e.length;c++)a.push(gg.ip._U(e[c],A));return a};gg.ip.ak6=function(e){var A=[];
for(var c=0;c<e.length;c++)A.push(e[c].$n?e[c].Z:e[c]);return A};gg.ip._U=function(e,A){return{$n:"UnitValue",Z:e}};
gg.ip.acj=function(e,A){if(e.$n=="UnitValue")return e.Z;return e};gg.ip.alF=function(e,A,a,p,N){var i=new k4(t.E.v,!0),Z=new k4(t.E.L,!0),s=p.w3(),D=p.iU;
if(!1){}else if(e.$n=="Application"){if(!1){}else if(A=="activeDocument"){Z.data={d:t.c.nK,M0:a.Z};p.S(Z)}else if(A=="displayDialogs"){}else if(A=="foregroundColor"||A=="backgroundColor"){var n=a.Z,S=n[1]*255<<16|n[2]*255<<8|n[3]*255<<0;
Z.data={d:t.c.iK,hP:ac.V9,dy:A=="foregroundColor"?0:1,Z:S};p.S(Z)}else console.log(e,A,a)}else if(e.$n=="Document"){var F=e.Z;
if(!1){}else if(A=="name"){i.G=q._b;i.data={d:u.gW,Z:a,a4k:!0,Gt:F};s.W$=!0}else if(A=="source")F.$_=a;
else if(A=="activeLayer"){F.g=[F.B.indexOf(a.Z)]}else if(A=="activeHistoryState"){i.G=q.sf;i.data={d:"h_itemchange",index:a.g2}}else console.log(e,A)}else if(e.$n=="Layer"){i.G=q._b;
var $={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},m=e.Z,J=s.B.indexOf(m);
if(!1){}else if(A=="visible"){if(m.gi()!=a)i.data={d:u.g9,j:J}}else if(A=="opacity"){i.data={d:u.MN,j:J,pL:Math.round(255*a/100)}}else if(A=="blendMode"){i.data={d:u.FO,j:J,pL:im.U6.indexOf(a)}}else if(A=="name"){i.data={d:u.GA,j:J,name:a}}else if($[A]!=null){i.data={d:u.kX,j:J,pL:[[a],[$[A]]]}}else if(A=="kind"){i.data={d:u.TF,j:J,tD:gg.ip.KM[a]}}else if(A=="grouped"){i.data={d:u.Ta,j:J,pL:a}}else console.log(e,A,a)}else if(e.$n=="TextItem"){i.G=q.L1;
var m=e.Z,w=m.add.TySh,f=JSON.parse(JSON.stringify(w._t)),b=w.D.clone(),C=w.D.nZ(),M=eG.Ob(f),y=eG.p_(f,0,M.length-2),Q=!1;
if(!1){}else if(A=="contents"){eG.BL(f,0,M.length-1);eG.f7(f,0,a.replace(/\r/g,"\n"))}else if(A=="size"){y.JH.FontSize=(a.Z!=null?a.Z:a)/C;
Q=!0}else if(A=="leading"){y.JH.Leading=(a.Z!=null?a.Z:a)/C;Q=!0}else if(A=="tracking"){y.JH.Tracking=a.Z!=null?a.Z:a;
Q=!0}else if(A=="baselineShift"){y.JH.BaselineShift=a.Z!=null?a.Z:a;Q=!0}else if(A=="fauxBold"){y.JH.FauxBold=a;
Q=!0}else if(A=="fauxItalic"){y.JH.FauxItalic=a;Q=!0}else if(A=="kind"){var k=eG.y7(f);if(k==1&&a==1){var E=new dl(f,p.iU.de).Vx[0],_=E.Re[0].end,v=E.H4[_-1].end;
eG.BL(f,0,M.length-1);eG.f7(f,0,M.slice(0,v-1))}if(k==a)eG.XX(f,1-a)}else if(A=="useAutoLeading"){y.Vx.AutoLeading=a;
Q=!0}else if(A=="hyphenation"){y.Vx.AutoHyphenate=a;Q=!0}else if(A=="justification"){y.Vx.Justification=a;
Q=!0}else if(A=="font"){eG.Kv(y,a);Q=!0}else if(A=="color"){y.JH.FillColor.Values=a.Z.slice(0);Q=!0}else if(A=="width"||A=="height"){var V=eG.Np(f).slice(0),R=gg.ip.acj(a);
if(A=="width")V[2]=Math.round(V[0]+R/C);else V[3]=Math.round(V[1]+R/C);eG.dw(f,V)}else if(A=="position"){b.Co=a[0];
b.dW=a[1]}else if(A=="horizontalScale"||A=="verticalScale"){var h=A[0].toUpperCase()+A.slice(1);y.JH[h]=a/100;
Q=!0}else if(A=="antiAliasMethod")eG.xt(w,a);else console.log(e,A,a);if(Q)eG.G4(f,0,M.length-1,y);i.data={d:"newED",cO:s.B.indexOf(m),Aj:f,D:b}}else if(e.$n=="Preferences"){if(!1){}else if(A=="rulerUnits"){var P=JSON.parse(JSON.stringify(D.tz));
P.sP=a;Z.data={d:t.c.iK,hP:ac.vY,pL:P};p.S(Z)}else console.log(e,A,a)}else if(e.$n=="SolidColor"){if(A=="rgb")e.Z=a.Z;
else throw A}else if(e.$n=="RGBColor"){if(!1){}else if(A=="red")e.Z[1]=a/255;else if(A=="green")e.Z[2]=a/255;
else if(A=="blue")e.Z[3]=a/255;else if(A=="hexValue"){var H=j.AZ(a.slice(1));e.Z[1]=(H>>>16&255)/255;
e.Z[2]=(H>>>8&255)/255;e.Z[3]=(H>>>0&255)/255}else console.log(e,A)}else if(e.$n=="ExportOptionsSaveForWeb"){if(A=="format")e.Z.qm=a;
else if(A=="PNG8"||A=="transparency"||A=="interlaced"){}else if(A=="quality")e.Z.Xr=a;else throw A}else if(e.$n=="PNGSaveOptions"||e.$n=="JPEGSaveOptions"){if(A=="quality")e.Z.Xr=Math.round(100*a/12)}else if(e.$n=="PDFSaveOptions"){if(A=="preset")e.Z.af3=a}else if(e.$n=="$"){if(A=="localize"){}}else console.log(e,A,a);
if(i.data!=null)p.S(i)};gg.ip.j9=function(e,A,a,p,N){var i=e.$n,Z=null,s=new k4(t.E.v,!0),D=new k4(t.E.wH,!0),n=new k4(t.E.L,!0),S=p.w3(),F=p.oY;
if(!1){}else if(i=="Application"){if(!1){}else if(A=="charIDToTypeID"){var $=a[0].trim(),m={slct:"select",Dlt:"delete",Mk:"make"};
return m[$]?m[$]:$}else if(A=="stringIDToTypeID"){var J=a[0].trim(),m={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},w=m[J];
return w==null?J:w}else if(A=="typeIDToStringID"){return a[0].trim()}else if(A=="executeAction"){console.log(a);
var f;if(a[1]){f=a[1].Z;f.classID=a[0]}var b={setd:"set"},C=b[a[0]];if(C==null)C=a[0];var M=a7.Dn[a[0]];
if(M&&a7.Li[M])C=a7.Li[M];D.data={_h:C,h2:f}}else if(A=="executeActionGet"){return{$n:"ActionDescriptor",Z:{classID:"null",null:{t:"obj ",v:a[0].Z}},ln:S.B[S.g[0]]}}else if(A=="doAction"){n.data={d:t.c.$t,U9:[a[0],a[1]]}}else if(A=="bringToFront"){}else if(A=="open"){n.data={d:t.c.Mw,hP:{url:a[0]}};
if(a[2]&&F.length!=0)n.data.hP.tk=F.indexOf(S)}else if(A=="echoToOE"){n.data={d:t.c.lY,hP:a[0]}}else if(A=="showWindow"){n.data={d:t.c.Ch,NY:a[0]}}else console.log(A)}else if(i=="LayerComp"){if(A=="apply"){s.G=q.eQ;
s.data={d:"setLC",g2:S.RA.list.v[e.Z].v.compID.v}}else throw A}else if(i=="Document"){var S=e.Z;if(!1){}else if(A=="crop"){D.data=q.v9.a1V(a[0])}else if(A=="trim"){var y=[];
for(var c=0;c<4;c++)y.push(a[c+1]!=null?a[c+1]:!0);D.data=q.v9.lA(a[0]!=null?a[0]:0,y)}else if(A=="suspendHistory"){var Q=acorn.parse(a[1]);
gg.eval(Q,p,N)}else if(A=="save"){n.data={d:t.c.ae}}else if(A=="saveToOE"){n.data={d:t.c.ae,CX:a}}else if(A=="rotateCanvas"){D.data=q.BD.Xk(!0,a[0])}else if(A=="resizeImage"||A=="resizeCanvas"){var k=a[0],E=a[1];
if(typeof k!="number"){k=S.m*parseFloat(k.slice(0,k.length-1))/100;E=S.n*parseFloat(E.slice(0,E.length-1))/100}if(A=="resizeCanvas")D.data=q.v9.a6L(Math.round(k),Math.round(E),a[2]);
else D.data=q.v9.axW(Math.round(k),Math.round(E),null,1)}else if(A=="paste"){n.data={d:t.c.Et,GE:a.length!=0&&a[0],jB:!0}}else if(A=="close"){n.data={d:t.c.MZ,Wo:S}}else if(A=="exportDocument"||A=="saveAs"){var _=N.__fs,v=A=="exportDocument"?a[2].Z:a[1].Z,V=a[0].Z.replace(":","").replace("~/","");
if(!V.toLowerCase().endsWith("."+v.qm))V+="."+v.qm;var R=fI.Ek(S,v.qm,null,null,v.qm=="pdf"?null:[v.Xr],p.iU);
_[V]=new Uint8Array(R)}else if(A=="flatten"){D.data={_h:"flattenImage"}}else console.log(e,A,a)}else if(i=="Layer"){var h=e.Z,P=S.B.indexOf(h);
if(!1){}else if(A=="copy"){gg.ip.bU(S,p,0);n.data={d:t.c.$u,ZZ:a[0],sr:P,jB:!0};p.S(n);delete n.data;
gg.ip.bU(S,p,1)}else if(A=="clear"){gg.ip.bU(S,p,0);D.data={_h:"delete"};p.S(D);delete D.data;gg.ip.bU(S,p,1)}else if(A=="duplicate"){if(a.length==0){var H=S.g.slice(0);
s.data={d:u.$A,j:P};s.G=q._b;p.S(s);s.data=null;Z={$n:"Layer",Z:S.B[S.g[0]],Ac:e.Ac};S.g=H}else if(a[0].$n=="Document"){s.data={d:u.WH,B:S.s2(P),lC:S,K5:a[0].Z};
s.G=q._b}}else if(A=="merge"||A=="remove"){s.data={d:A=="merge"?u.dq:u.vR,j:P};s.G=q._b;if(A!="remove")Z={$n:"Layer",Z:S.B[S.g[0]],Ac:e.Ac}}else if(A=="move"){s.data={d:u.gv,source:P,target:S.B.indexOf(a[0].Z),mK:a[1]!=3?.6:.3};
s.G=q._b}else if(A=="rasterize"){D.data={_h:"rasterizeLayer",h2:{classID:"rasterizeLayer",null:gb.o$("Lyr",!0)}}}else if(A=="rotate"){s.data={d:"rot",fQ:[2,5],Z:-a[0]*Math.PI/180,Ri:a[1],j:P};
s.G=q.lE}else if(A=="resize"){s.data={d:"scl",fQ:[2,4],Z:new k7(a[0]/100,a[1]/100),Ri:a[2],j:P};s.G=q.lE}else if(A=="translate"){var U=gg.ip.ak6(a);
s.data={d:"trsl",j:P,ts:U[0],fd:U[1]};s.G=q.Mf}else if(A=="link"){s.data={d:u.pE,a91:[P,S.B.indexOf(a[0].Z)]};
s.G=q._b}else if(A=="invert"){s.G=q.Dx;s.data={d:"start",E$:"nvrt"}}else if(A.startsWith("apply")&&hZ.CY[A.slice(5)]||A.startsWith("adjust")&&hZ.CY[A.slice(6)]){var X=A.startsWith("apply"),U=gg.ip.ak6(a),x=hZ.CY[A.slice(X?5:6)];
D.data={_h:X?hZ.Li[x]:a7.Li[x]};var f=hZ.T$(x);if(f){S.g=[P];hZ.kB["g"+x](f,U);D.data.h2=f}}else console.log(e,A,a)}else if(i=="Documents"){if(A=="getByName"){for(var c=0;
c<F.length;c++)if(F[c].name==a[0])return{$n:"Document",Z:F[c]};return null}else if(A=="add"){var K=a[5];
if(K==null)K=1;D.data=ar.MK(a[0],a[1],a[2],a[3],["Wht","Trns","BckC"][K],!1)}else throw"e"}else if(i=="Layers"){if(A=="getByName"){for(var c=0;
c<e.Z.length;c++)if(e.Z[c].Z.getName()==a[0]){Z=e.Z[c];break}if(Z==null)N.__throw={message:"No layer with a name "+a[0]}}else if(A=="add"){s.data={d:e.auW=="layerSets"?u.aP:u.g1};
s.G=q._b;p.S(s);s.data=null;Z={$n:"Layer",Z:S.B[S.g[0]],Ac:e.Ac}}else console.log(e,A,a)}else if(e.$n=="Selection"){if(A=="select"){var T=a[0],I=[];
for(var c=0;c<T.length;c++)I.push(T[c][0],T[c][1]);D.data=q.ns.cx(I)}else if(A=="clear"){D.data={_h:"delete"}}else if(A=="selectAll"){D.data=q.ns.ec(!0)}else if(A=="invert"){D.data={_h:"inverse"}}else if(A=="copy"){n.data={d:t.c.$u}}else if(A=="deselect"){D.data=q.ns.ec()}else if(A=="fill"){var o=a[0].Z;
o=j.M.yN({o:o[1]*255,J:o[2]*255,k:o[3]*255});D.data=q.Wn.fk("Clr",a[1],a[2]==null?1:a[2]/100,o)}else if(A=="grow"||A=="similar"){var f={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(a[0]!=null)f.Tlrn={t:"long",v:a[0]};D.data={_h:A,h2:f}}else if(A=="expand"||A=="contract"||A=="feather"){D.data=q.ns.eD(A,a[0],!0)}else if(A=="translate"){var f={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:a[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:a[1]}}}}};
D.data={_h:"move",h2:f}}else if(A=="smooth"){D.data=q.ns.eD("smoothness",a[0],!1)}else console.log(e,A,a)}else if(e.$n=="Window"){if(A=="show"){n.data={d:t.c.Ch,NY:e.Z}}else throw"e"}else if(e.$n=="ActionReference"){if(A=="putProperty"){e.Z.push({t:"prop",v:{classID:a[0],keyID:a[1]}})}else if(A=="putClass"){e.Z.push({t:"Clss",v:{classID:a[0]}})}else if(A=="putEnumerated"){e.Z.push({t:"Enmr",v:{classID:a[0],typeID:a[1],enum:a[2]}})}else if(A=="putName"){e.Z.push({t:"name",v:{classID:a[0],val:a[1]}})}else console.log(A,a)}else if(e.$n=="ActionDescriptor"||e.$n=="ActionList"){if(A=="putReference"){e.Z[a[0]]={t:"obj ",v:a[1].Z}}else if(A=="putDouble"){e.Z[a[0]]={t:"doub",v:a[1]}}else if(A=="putUnitDouble"){e.Z[a[0]]={t:"UntF",v:{type:a[1],val:a[2]}}}else if(A=="putObject"){if(e.$n=="ActionList"){var l=a[1].Z;
l.classID=a[0];e.Z.push({t:"Objc",v:l})}else{var l=a[2].Z;l.classID=a[1];e.Z[a[0]]={t:"Objc",v:l}}}else if(A=="putList"){e.Z[a[0]]={t:"VlLs",v:a[1].Z}}else if(A=="putBoolean"){e.Z[a[0]]={t:"bool",v:a[1]}}else if(A=="putInteger"){e.Z[a[0]]={t:"long",v:a[1]}}else if(A=="putString"){e.Z[a[0]]={t:"TEXT",v:a[1]}}else if(A=="putEnumerated"){var O={};
O[a[1]]=a[2];e.Z[a[0]]={t:"enum",v:O}}else if(A=="hasKey"){var h=S.B[S.g[0]],$=a[0];if($=="textKey")return h.add.TySh!=null;
var g=e.Z.null.v;for(var c=0;c<g.length;c++){if(g[c].v.keyID==a[0]){if($=="UsrM"){return h.tR()!=null}else throw a}}}else if(A=="getEnumerationValue"){if(a[0]=="layerSection")Z="layerSectionContent";
else console.log(a)}else if(A=="getBoolean"){if(a[0]=="background")Z=!1;else console.log(a)}else if(A=="getString"){if(a[0]=="name")Z=e.ln.getName();
else if(a[0]=="textKey")Z=eG.Ob(e.ln._t);else console.log(e,a)}else if(A=="getObjectValue"){if(a[0]=="textKey"){Z={$n:"ActionDescriptor",ln:e.ln.add.TySh}}else if(typeof a[0]=="number")Z=e.ln[a[0]];
else throw a[0]}else if(A=="getList"){Z={$n:"ActionList"};if(a[0]=="paragraphStyleRange")Z.ln=e.ln._t.EngineDict.ParagraphRun.RunArray;
else if(a[0]=="kerningRange")Z.ln=[];else if(a[0]=="textStyleRange")Z.ln=e.ln._t.EngineDict.StyleRun.RunArray;
else throw a}else console.log(A,a)}else if(e.$n=="$"){if(A=="writeln"){console.log(a[0])}else throw A}else if(e.$n=="UI"){if(A=="scroll"||A=="scrollTo"){var W=a[0],d=a[1],gT=S.u.N;
if(A=="scrollTo"){W=(-S.m/2+W)*gT+S.u.R.x;d=(-S.n/2+d)*gT+S.u.R.y}s.G=q.wI;s.data={d:"scroll",PW:new k7(Math.round(W),Math.round(d))}}else{var r;
if(A=="zoomIn"||A=="zoomOut"){r={d:"zoom",L8:A=="zoomIn"}}else if(A=="fitTheArea"){r={d:"adapt",Z:"fitscr"}}else if(A=="pixelToPixel"){r={d:"adapt",Z:"pixel"}}s.G=q._B;
s.data=r;if(A=="switchFullscreen"){var G=p.iU.S2,Y=document.fullscreenElement!=null==(G==2);n.data={d:t.c.dT,Z:G==0?2:0,c$:Y}}}}else if(e.$n=="Folder"){if(A=="selectDialog")Z="img";
else throw A}else console.log(e,A,a);if(s.data)p.S(s);if(D.data)p.S(D);if(n.data)p.S(n);return Z};gg.ip.bU=function(e,A,a){var p=new k4(t.E.v,!0);
p.G=q.aN;var N=new k4(t.E.wH,!0);if(a==0){gg.ip.amR=e.P;N.data=q.ns.ec(!0)}else{var i=gg.ip.amR;if(i)p.data={d:"setsel",fQ:"Restore Selection",P:{rect:i.rect.clone(),channel:i.channel.slice(0)}};
else N.data=q.ns.ec()}A.S(p.data?p:N)};gg.ip.amR=null;gg.ip.Tu={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5}};
gg.ip.Tu.ColorBlendMode=gg.ip.Tu.BlendMode;gg.ip.KM="---- SoLd TySh SoCo GdFl PtFl".split(" ");function fs(){}fs.U8={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
fs.r9={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
fs.amq=function(e,A){if(A==null)A={};var a=fs.r9,p=[],N=[],i="";for(var c=0;c<e.length;c++){var Z=e[c],s=a[Z[0]+""];
if(s&&A[s]==null)A[s]=Z[1];else if(Z[0]==12)N.push(Z[1]);else if(Z[0]==25)p.push(Z[1]);else if(Z[0]==55)i=Z[1];
else if(Z[0]==60)i+=";"+Z[1]}if(i!=""&&A["exif:DateTimeOriginal"]==null)A["exif:DateTimeOriginal"]=i;
if(N.length!=0&&A["Iptc4xmpCore:SubjectCode"]==null)A["Iptc4xmpCore:SubjectCode"]=N.join(";");if(p.length!=0&&A["dc:Keywords"]==null)A["dc:Keywords"]=p.join(";");
return A};fs.adk=function(e){var A=fs.r9,a=[];for(var p in A)if(e[A[p]])a.push([parseInt(p),e[A[p]]]);
if(e["Iptc4xmpCore:SubjectCode"]){var N=e["Iptc4xmpCore:SubjectCode"].split(";");for(var c=0;c<N.length;
c++)a.push([12,N[c].trim()])}if(e["dc:Keywords"]){var N=e["dc:Keywords"].split(";");for(var c=0;c<N.length;
c++)a.push([25,N[c].trim()])}a.sort(function(i,Z){return i[0]-Z[0]});return a};fs.alm=function(e,A){if(A==null)A={};
var a=new DOMParser,p=a.parseFromString(e,"image/svg+xml"),N=p.getElementsByTagName("rdf:Description")[0];
if(N==null)return A;var i=fs.U8;for(var Z in i){var s=i[Z][2];if(s==null)continue;var D=N.getElementsByTagName(s)[0];
if(D==null)continue;var n=D.getElementsByTagName("rdf:li"),S=[];for(var c=0;c<n.length;c++)S.push(n[c].textContent);
A[Z]=S.join("; ")}return A};fs.amG=function(e){var A=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],a=fs.U8;
for(var p in a){var N=e[p],i=a[p][2],Z="Seq",s="";if(N==null||i==null)continue;if(i=="dc:title"||i=="dc:description"){Z="Alt";
s=" xml:lang=\"x-default\""}if(i=="dc:subject")Z="Bag";A.push("\t<"+i+"><rdf:"+Z+">");var D=i=="dc:subject"?N.split(";").join(",").split(","):[N];
for(var c=0;c<D.length;c++)A.push("\t\t<rdf:li"+s+">"+D[c].trim()+"</rdf:li>");A.push("\t</rdf:"+Z+"></"+i+">")}A.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return A.join("\n")};fs.adY=function(e){var A=[];for(var c=0;c<e.length;c++)A[c]=e[c][1]==0?0:e[c][0]/e[c][1];
return A};fs.aqz=function(e){var A=[];for(var c=0;c<e.length;c++){var a=e[c],p=1;if(a!=Math.round(a)){p=1e3;
a=Math.round(a*p)}A[c]=[a,p]}return A};fs.oq=function(e,A){var a=fs.U8;if(A==null)A={};for(var p in a){var N=a[p][1],i="t"+N;
if(N!=null&&e[i]!=null){var Z=e[i];if(N==0)Z=Z.join(".");else if(N==2||N==4){var s=e["t"+(N-1)];if(s==null)s=[N==2?"N":"E"];
Z=fs.adY(Z).join(",")+s[0]}else if(N==42034)Z=fs.adY(Z).join(" ");else if(N==270||N==315){var D=Z[0],n=new Uint8Array(D.length);
z.O2(n,0,D);Z=z.lB(n)}else Z=Z[0];A[p]=Z}}if(e.exifIFD)fs.oq(e.exifIFD,A);if(e.gpsiIFD)fs.oq(e.gpsiIFD,A);
return A};fs.Tq=function(e,A,a){var p=fs.U8,i=0,s=0;if(A==null)A={};var N={},Z={};for(var D in p){if(e[D]==null||p[D][1]==null)continue;
var n=p[D][1],S="t"+n,F=A;if(D.startsWith("exif:")){F=N;i++;if(D.startsWith("exif:GPS")){F=Z;s++}}var $=e[D];
if(n==0)$=new Uint8Array($.split(".").map(parseFloat));else if(n==2||n==4){var m=$.length;F["t"+(n-1)]=[$.slice($.length-1)];
$=fs.aqz($.split(",").map(parseFloat))}else if(n==42034)$=fs.aqz($.split(" ").map(parseFloat));else if(n==270||n==315){var J=z.Fp($);
$=[z.wc(J,0,J.length)]}else $=[$];F[S]=$}if(i!=0){A.exifIFD=N;A.t34665=[0]}if(s!=0){A.gpsiIFD=Z;A.t34853=[0]}var w=new Date,f=[w.getFullYear(),w.getMonth()+1,w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds()];
for(var c=0;c<6;c++)f[c]=(f[c]+"").padStart(2,"0");A.t305=["Photopea Editor (www.photopea.com)"];if(a!=!0)A.t306=[f[0]+":"+f[1]+":"+f[2]+" "+f[3]+":"+f[4]+":"+f[5]];
return A};function dw(){}dw.__=function(e){var A={ak7:",",KA:"\r\n",F0:"\""},a=[[""]],p,N,i,Z,s;for(p=N=i=Z=0;
i<e.length;i++){switch(s=e.charAt(i)){case A.F0:if(Z&&e.charAt(i+1)==A.F0){a[p][N]+=A.F0;++i}else{Z^=1}break;
case A.ak7:if(!Z){a[p][++N]=""}else{a[p][N]+=s}break;case A.KA.charAt(0):if(!Z&&(!A.KA.charAt(1)||A.KA.charAt(1)&&A.KA.charAt(1)==e.charAt(i+1))){a[++p]=[""];
a[p][N=0]="";if(A.KA.charAt(1)){++i}}else{a[p][N]+=s}break;default:a[p][N]+=s}}if(a[a.length-1].length<a[0].length)a.pop();
return a};var B={};B.a5n=0;B.tp=function(){B.a5n++;return B.a5n};B.a5F="uint8";B.zT=function(e){e.e.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
e.e.style.opacity="1";e.e.style.transform="scale(1)"};B.AW=function(e,A){e.e.style.opacity="0";e.e.style.transform="scale(0.95)";
if(A)setTimeout(function(){A.removeChild(e.e)},100)};B.afN=function(){var e=B.aja();if(e=="")return 0;
if(e!=B.ZY("_TXZRPB;d7@;")){var A=B.Hr[av.Er][av.fl],a=A.indexOf(String.fromCharCode(35)),p;if(a==-1)return 0;
try{p=JSON.parse(B.Hr[av.a2D](A.slice(a+1)))}catch(i1){return 0}var N=p[B.ZY("bQ[ODL<E<M")];if(N==null||N.length<<2!=64)return 0;
var i=av.x6(),Z=parseInt(N.slice(3*4).split("").reverse().join(""),16)<<16;if(Z<i||N!=av.aho(Z,e))return 0;
return 2}return 1};B.aja=function(){var e=B.Hr[B.Nv("}$z{2*35")][B.ZY("W[\\ZQAJ?")],A=String.fromCharCode(46),a=e.split(A);
if(a.length<2)return"";var p=a.pop();p=a.pop()+A+p;return p};B.abN=function(){if(B.Hr[av.aa8][av.a63]){var e=new B.Hr[av.ux];
e[av.XW](av.afy,B.ZY("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+B.aja());e[av.Hp]()}};B.hu=function(){if(window.top!=window.self)return!1;
var e=navigator.userAgent.toLowerCase();if(e.indexOf("android")!=-1)return!1;if(e.indexOf("safari")!=-1&&e.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};B.Z5=function(e){this.cd=e;this.arI=B.t("img");this.iy=B.t("canvas");
this.GL=null;this.X4="";this.Sd=null;this.FN=new k7(0,0);this.IX=!0;B.iv(this.cd,this._O.bind(this))};
B.Z5.prototype.OM=function(e,A){this.GL=e;if(A)this.X4=A;this._O()};B.Z5.prototype.Y7=function(e){this.IX=e;
this._O()};B.Z5.prototype._O=function(e){if(e)this.FN=B.vT(e,this.cd);var A=this.IX?this.GL:"auto",a=typeof A=="string";
if(!a){var p=B.V(),N=this.FN,i=A.nd.m,Z=A.nd.n,s=typeof A.Hi=="string",D=s?this.arI:this.iy;if(s)D.setAttribute("src",A.Hi);
else{D.width=i;D.height=Z;var n=D.getContext("2d"),S=new ImageData(new Uint8ClampedArray(A.Hi.buffer),i,Z);
n.putImageData(S,0,0)}D.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(N.y-A.JZ.y/p)+"px; left:"+(N.x-A.JZ.x/p)+"px; width:"+i/p+"px; height:"+Z/p+"px");
var F=this.Sd;if(F==null||F!=D){if(F)this.cd.removeChild(F);this.cd.appendChild(D);this.Sd=D}}else if(this.Sd){this.cd.removeChild(this.Sd);
this.Sd=null}this.cd.setAttribute("style","cursor:"+(a?A:"none")+"; "+this.X4)};B.u_=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
B.qB=function(e,A){e.WI(i1.get([12,41]).charAt(0)+":");A.WI(i1.get([12,42]).charAt(0)+":")};B.t=function(e,A){var a=document.createElement(e);
if(A!=null)a.className=A;return a};B.XK=function(e){while(e.firstChild)e.removeChild(e.firstChild)};
B.LM=function(e,A){var a=e.className;a=a.split(" ");if(a.indexOf(A)==-1)a.push(A);e.className=a.join(" ")};
B.Xi=function(e,A){var a=e.className;if(a=="")return;a=a.split(" ");if(a.indexOf(A)!=-1)a.splice(a.indexOf(A),1);
e.className=a.join(" ")};B.ND=function(e){while(!0){if(e==document)return!0;if(e==null)return!1;e=e.parentNode}};
B.jA=function(e){e.appendChild(B.t("br"))};B.lk=function(e){e.appendChild(B.t("hr"))};B.RD=function(e,A,a){var p=new c$([1,12,1],a==null?!0:a,null,!0);
if(e)p.h("click",e.Jx,e);if(A)A.appendChild(p.e);return p};B.Hr=document;B.WU=function(e){var A=0;for(var c=0;
c<e;c++)A+=Math.random();return A/e<Math.PI/4};B.ZY=function(e){var A="";if(!B.WU(28))e+="-3";for(var c=0;
c<e.length;c++){var a=e.charCodeAt(c);if(a<32||126<a)throw"e";A+=String.fromCharCode(32+(a-32+17+3*c)%95)}return A};
B.Nv=function(e){var A="";if(!B.WU(28))e+="-1";for(var c=0;c<e.length;c++){var a=e.charCodeAt(c);a-=32;
a+=95e4;a-=17+3*c;a=a%95;A+=String.fromCharCode(32+a)}return A};B.eV=function(e){var A=Math.random();
B.a5F="uint"+(3+A);return new e};(function(){var e=window.PointerEvent,A=e?"pointer":"mouse",a=A+"down",p=A+"move",N=A+"up",i=!1;
B.V3=function(Z,s){Z.addEventListener(a,s,i);if(!e)Z.addEventListener("touchstart",s,i)};B.iv=function(Z,s){Z.addEventListener(p,s,i);
if(!e)Z.addEventListener("touchmove",s,i)};B.xq=function(Z,s){Z.addEventListener(N,s,i);if(!e)Z.addEventListener("touchend",s,i)};
B.a00=function(Z,s){Z.removeEventListener(a,s,i);if(!e)Z.removeEventListener("touchstart",s,i)};B.Dq=function(Z,s){Z.removeEventListener(p,s,i);
if(!e)Z.removeEventListener("touchmove",s,i)};B.Y8=function(Z,s){Z.removeEventListener(N,s,i);if(!e)Z.removeEventListener("touchend",s,i)}}());
B.Ig=function(e){e.addEventListener("touchstart",B._Y,!1);e.addEventListener("touchmove",B._Y,!1);e.addEventListener("touchend",B._Y,!1);
e.addEventListener("gesturestart",B._Y,!1);e.addEventListener("gesturechange",B._Y,!1);e.addEventListener("gestureend",B._Y,!1)};
B.ai8=function(e){var A=e.sourceCapabilities;if(A)return A.firesTouchEvents;return!1};B.ql=function(e,A,a,p){var N=B.V();
e.width=Math.floor(A*N);e.height=Math.floor(a*N);if(p)p.scale(N,N);B.OI(e)};B.OI=function(e){var A=B.V();
e.style.width=e.width/A+"px";e.style.height=e.height/A+"px"};B.JK=function(e,A,a){e.setAttribute("style","width:"+A/B.V()+"px; height:"+a/B.V()+"px")};
B.vT=function(e,A){if(A==null)A=e.currentTarget;var a=A.getBoundingClientRect();if(e.touches)e=e.touches.item(0);
return{x:e.clientX-a.left,y:e.clientY-a.top}};B.V=function(){return window.devicePixelRatio||1};B.SU=function(e){e.addEventListener("keydown",B.azq,!1)};
B.azq=function(e){e.stopPropagation()};B._Y=function(e){e.preventDefault()};B.aL=function(e){e.stopPropagation();
e.preventDefault()};B.iE=function(e,A,a){a=a?a:"";if(PIMG["__"+e]==null)a+=" gsicon";return"<img src=\""+PIMG[e]+"\" alt=\""+(A?A:"")+"\" class=\""+a+"\" />"};
B.GF=function(e,A,a,p){var N=e.dataTransfer.getData("text/uri-list");if(N!=null&&N.startsWith("http")){var i=new k4(t.E.L,!0);
i.data={d:t.c.Mw,hP:{url:N,cK:!0,tk:a,gk:p}};A.S(i)}if(e.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var Z=[],s=e.dataTransfer.items.length,D=e.dataTransfer.files;
for(var n of e.dataTransfer.items)n.getAsFileSystemHandle().then(function(S){Z.push(S);if(Z.length==s){var i=new k4(t.E.L,!0);
i.data={d:t.c.RH,data:D,tk:a,gk:p,axG:Z};A.S(i)}})}else{var i=new k4(t.E.L,!0);i.data={d:t.c.RH,data:e.dataTransfer.files,tk:a,gk:p};
A.S(i)}};if(B.WU(27))B.Hr=window;else B.Hr=B.adG;B.Hr._cwY=B.Hr[B.Nv("t$&!'31")];var hr={};hr.aaQ=function(c){var e=hr.rB[c],A=document.documentElement.style,p=1;
A.setProperty("--base","#"+j.yj(e["--base"]));A.setProperty("--bg-panel","#"+j.yj(e["--bg-panel"]));
A.setProperty("--bg-canvas","#"+j.yj(e["--bg-canvas"]));A.setProperty("--bg-input","#"+j.yj(e["--bg-input"]));
A.setProperty("--bg-bbtn","#"+j.yj(e["--bg-bbtn"]));A.setProperty("--bg-bbtnOver","#"+j.yj(e["--bg-bbtnOver"]));
A.setProperty("--brdr","#"+j.yj(e["--brdr"]));A.setProperty("--text-color","#"+j.yj(e["--text-color"]));
A.setProperty("--brdrLgt","rgba(255,255,255,"+e["--brdrLgt"]+")");A.setProperty("--brdrDrk","rgba(  0,  0,  0,"+e["--brdrDrk"]+")");
A.setProperty("--alphaDark",""+e["--alphaDark"]);A.setProperty("--gs-invert",""+e["--gs-invert"]);A.setProperty("--accent","#"+j.yj(e["--accent"]));
var a=e["--sh-clr"];A.setProperty("--sh-clr","rgba("+(a>>16)+","+(a>>8&255)+","+(a&255)+", 0.45)");A.setProperty("--sh-dy",""+e["--sh-dy"]+"px");
if(1<B.V()&&B.V()<1.5)p=1/B.V();A.setProperty("--img20",20*p+"px");A.setProperty("--img18",18*p+"px");
A.setProperty("--img15",15*p+"px");if(PIMG!=null){var N="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var c=0;c<N.length;c++){var i=N[c],Z=i.split("/").pop(),s=PIMG["__"+i]==null?e["--gs-invert"]:"0";
A.setProperty("--icon_"+Z,"url("+PIMG[i]+")");A.setProperty("--icon_"+Z+"_invrt",s)}}var D=document.querySelector("meta[name=theme-color]");
if(D)D.setAttribute("content","#"+j.yj(e["--base"]))};(function(){var e=3441398,A=3441398;hr.rB=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--sh-dy":1,"--accent":A},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1,"--accent":e},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--sh-dy":-1,"--accent":e},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--sh-dy":-1,"--accent":e},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--sh-dy":-1,"--accent":e},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1,"--accent":e},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--sh-dy":1,"--accent":A}]}());
function iD(){this.UB={};this.fN={}}iD.prototype.amf=function(e){var A=this.UB[e];if(A==null)return!1;
return A.length>0};iD.prototype.addEventListener=function(e,A){this.h(e,A,null)};iD.prototype.h=function(e,A,a){if(this.UB[e]==null){this.UB[e]=[];
this.fN[e]=[]}this.UB[e].push(A);this.fN[e].push(a)};iD.prototype.removeEventListener=function(e,A){var a=this.UB[e];
if(a==null)return;var p=a.indexOf(A);if(p<0)return;var N=this.fN[e];a.splice(p,1);N.splice(p,1)};iD.prototype.S=function(e){e.currentTarget=this;
if(e.target==null)e.target=this;var A=this.UB[e.type];if(A==null)return;var a=this.fN[e.type];for(var c=0;
c<A.length;c++){if(a[c]==null)A[c](e);else A[c].call(a[c],e)}};var k4=function(e,A){if(!A)A=!1;this.type=e;
this.target=null;this.currentTarget=null;this.bubbles=A;this.G=null;this.U3=!1},t={E:{v:"0",L:"1",wH:"1.5",A:"2",hM:"3",ars:"4"},c:{_4:"10",OY:"11",vo:"12",Ar:"13",Jn:"14",a7S:"14.1",Mw:"15",hy:"16",gr:"17",It:"18",ae:"19",asN:"19.5",ac0:"20",aox:"20.1",avO:"20.5",avw:"20.6",G8:"21",$u:"22",Et:"23",t2:"24",Ch:"25",S0:"26",nK:"27",Cn:"28",anz:"28.5",atT:"29",RH:"30",sk:"31",m_:"32",FZ:"33",FF:"34",iK:"35",a7A:"35.5",Fh:"37",ap5:"38",H7:"39",sL:"40",zr:"41",lY:"41.5",af2:"42",hn:"43",aa7:"43.5",MZ:"44",avU:"45",tm:"46",Oo:"47",ax:"48",$t:"49",a8D:"50",dT:"51"}};
function b5(){iD.call(this);this.parent=null;this.e=null;this.SB=0;this.Ps=0;this.aim=!1}b5.prototype=new iD;
b5.prototype.a3U=function(e){var iM=this;while(iM!=null){if(iM==e)return!0;iM=iM.parent}return!1};b5.prototype.DQ=function(){var e=this.e;
return e.offsetWidth+e.clientLeft};b5.prototype.anM=function(){var e=this.e;return e.offsetHeight+e.clientTop};
b5.prototype.update=function(e){};b5.prototype.S=function(e){iD.prototype.S.call(this,e);if(e.bubbles&&this.parent!=null)this.parent.S(e)};
b5.prototype.f=function(){};b5.prototype.YQ=function(e,A){};b5.prototype.kJ=function(e){B.LM(this.e,"disabled")};
b5.prototype.Ss=function(e){B.Xi(this.e,"disabled")};b5.prototype.Y7=function(e){if(e)this.Ss();else this.kJ()};
b5.prototype.ma=function(){this.aim=!0};b5.prototype.bc=function(){var e=this.T_,A=this.aim,a=this.gy;
if(e){e=i1.get(this.T_);if(!A)e+=":";a.textContent=e;if(A){a.style.display="block";a.style.lineHeight="1.6em";
a.style.marginLeft="3px";B.Xi(a,"flabel")}}if(A){this.DP.style.fontSize="1.15em"}};function iR(e){b5.call(this);
this.Fy=[];this.su=!1;this.az7=0;this.Q7={x:0,y:0,x2:!1};this.I9=e;this.a6z=this.ME.bind(this);this.th=this.m3.bind(this);
this.at7=this.fG.bind(this);B.V3(e,this.a6z);B.iv(e,this.th);e.addEventListener("wheel",this.Yt.bind(this),!1);
e.addEventListener("contextmenu",this.agR.bind(this),!1);var A=this.ask.bind(this);e.addEventListener("gesturestart",A,!1);
e.addEventListener("gesturechange",A,!1);e.addEventListener("gestureend",A,!1);B.Ig(e)}iR.prototype=new b5;
iR.prototype.ask=function(e){if(e.type=="gesturestart")this.fb=e.scale;if(e.type=="gesturechange"){var A=new k4("mouse",!0);
A.action="scroll";A.Vi=!0;this.fO(e,A);var a=(this.fb-e.scale)/this.fb;A.PW=new k7(0,100*a);this.fb=e.scale;
this.S(A)}};iR.prototype.dN=function(e){var A=-1,a=this.Fy;for(var c=0;c<a.length;c++)if(a[c].pointerId==e.pointerId)A=c;
return A};iR.dp=function(e){var A=e.pointerType,a=window.__kb;return A=="touch"&&a.l(g4.afe)};iR.prototype.ME=function(e){if(iR.dp(e))return;
var A=this.dN(e);if(A!=-1)this.Fy[A]=e;else this.Fy.push(e);if(this.Fy.length==1){this.az7=Date.now();
var a=e.button!=null&&e.button!=0?e.which==2?"idown":"rdown":"down",p=new k4("mouse",!0);p.action=a;
this.fO(e,p);this.S(p);B.Dq(this.I9,this.th);B.iv(window,this.th);B.xq(window,this.at7)}if(this.Fy.length==2){if(Date.now()-this.az7<100){var p=new k4("mouse",!0);
p.action="cancellast";this.fO(e,p);this.S(p)}this.su=!0}if(this.Fy.length==2)this.atX("multidown")};
iR.prototype.m3=function(e){if(iR.dp(e))return;var A=this.dN(e);if(A!=-1)this.Fy[A]=e;if(this.Fy.length>1){this.atX("multimove")}if(this.su)return;
if(this.Fy.length==1&&A==-1)return;var a=new k4("mouse",!0);a.action="move";this.fO(e,a);this.S(a)};
iR.prototype.fG=function(e){if(iR.dp(e))return;var A=this.Fy;A=this.Fy=[];if(A.length==0){var a=e.button!=null&&e.button>0?e.which==2?"iup":"rup":"up",p=new k4("mouse",!0);
p.action=a;this.fO(e,p);this.S(p);B.Dq(window,this.th);B.Y8(window,this.at7);B.iv(this.I9,this.th);this.su=!1}};
iR.prototype.Yt=function(e){e.preventDefault();if(e.deltaX==0&&e.deltaY==0)return;var A=new k4("mouse",!0);
A.action="scroll";A.Vi=e.ctrlKey;this.fO(e,A);this.S(A)};iR.prototype.agR=function(e){B.aL(e);if(B.ai8(e)){var A=new k4("mouse",!0);
this.fO(e,A);A.action="rdown";this.S(A);A.action="rup";this.S(A)}};iR.prototype.atX=function(e){var A=this.Fy,a=B.V(),p=[];
for(var c=0;c<A.length;c++){var N=p[c]=B.vT(A[c],this.I9);N.x*=a;N.y*=a}var i=new k4("mouse",!0);i.action=e;
i.za=p;if(A.length==2)this.S(i)};iR.prototype.fO=function(e,A,a){var p=this.Fy.length!=0;if(A.action!="up"){var N=B.V();
if(a==null)a=B.vT(e,this.I9);this.Q7=A.sx={x:N*a.x,y:N*a.y,x2:p};var i=B.vT(e,document.body);A.sx.Qb=i.x;
A.sx.aG=i.y}else this.Q7=A.sx={x:this.Q7.x,y:this.Q7.y,x2:p};A.sx.SI=.5;if(e.pressure!=null&&e.pressure!=0)A.sx.SI=e.pressure;
if(e.pointerType=="mouse")A.sx.SI*=2;A.sx.a89=e.pointerType;if(e.deltaX!=null){var Z=e.deltaMode==0?1:40;
A.PW=new k7(e.deltaX*Z,e.deltaY*Z)}};function fx(e,A,a){b5.call(this);this.NE=null;this.avC=this.fG.bind(this);
this.a7V=this.Iw.bind(this);this.ab1=this.a05.bind(this);this.a5i=this.a7h.bind(this);this.lD=[];this.$R=[];
this.kH=[];this.atg=[];this.e=B.t("div","contextpanel "+(a?"cp_dark":"cp_light"));this.e.addEventListener("contextmenu",B._Y,!1);
this.So=null;this.qI=0;this.BW=e;this._u=A;this.FL=[];for(var c=0;c<e.length;c++){var p=B.t("div","enab");
this.$R.push(p);this.e.appendChild(p);var N=e[c].ki;if(N){if(N.startsWith("#")){var i=B.t("span");i.setAttribute("style","display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+N);
p.appendChild(i)}else p.innerHTML=B.iE(e[c].ki,null,"thumb")}else{var Z=B.t("span","check");this.atg.push(Z);
p.appendChild(Z)}var s=B.t("span","label");s.textContent=i1.get(e[c].name);p.appendChild(s);this.kH.push(s);
if(e[c].ks)this.e.appendChild(B.t("hr"));if(e[c].hY||e[c].sub){var D=p.vn=B.t("span","right");p.appendChild(D);
if(e[c].hY)D.textContent=g4.rN(e[c].hY);else if(e[c].sub)D.textContent="\u25B6"}p.addEventListener("click",this.avC,!1);
p.addEventListener("mouseover",this.a7V,!0);p.addEventListener("mouseout",this.ab1,!0);if(e[c].sub){var n=new fx(e[c].sub,A?A[c].sub:null);
n.parent=this;this.FL.push(n);n.h("select",this.aeB,this)}else this.FL.push(null)}}fx.prototype=new b5;
fx.prototype.aff=function(e){B.XK(this.e);for(var c=0;c<e.length;c++)if(e[c]!=0&&e[c]!=null){this.e.appendChild(this.$R[c]);
if(e[c]!=1&&this.FL[c])this.FL[c].aff(e[c])}};fx.prototype.f=function(){var e=this.BW;for(var c=0;c<e.length;
c++){if(e[c].title)this.$R[c].title=i1.get(e[c].title);this.kH[c].textContent=i1.get(e[c].name)+(e[c].tJ?"...":"")}for(var c=0;
c<this.FL.length;c++)if(this.FL[c])this.FL[c].f()};fx.prototype.update=function(e,A){var a=this.BW,p=window.innerWidth<450?"none":"inline";
for(var c=0;c<a.length;c++){var N=this.$R[c];if(N.vn&&!this.FL[c])N.vn.style.display=p;if(a[c].C){var i=a[c].C(e,A,c);
if(i.C!=null)this.$R[c].className=i.C?"enab":"disab";if(i.Wu!=null)this.kH[c].textContent=i.Wu;if(i.$x!=null)this.atg[c].textContent=i.$x?"\u2713":"";
if(i.W!=null)this._u[c]=i.W}}for(var c=0;c<this.FL.length;c++)if(this.FL[c])this.FL[c].update(e,A)};
fx.prototype.Yy=function(){return this.lD};fx.prototype.fG=function(e){if(e.button!=0)return;var c=this.$R.indexOf(e.currentTarget);
if(this.FL[c]){this.qI=c;this.a7h()}else{if(this._u){var A=this._u[c],a=new k4(A.Y,!0);a.G=A.G;a.data=A.W;
this.S(a)}this.NE=null;this.lD=[c];this.S(new k4("select",!1));var a=new k4(t.E.L,!0);a.data={d:t.c.Ar};
this.S(a)}};fx.prototype.Iw=function(e){var c=this.$R.indexOf(e.currentTarget);this.Ie();this.qI=c;this.So=setTimeout(this.a5i,300)};
fx.prototype.a05=function(e){this.Ie()};fx.prototype.Ie=function(){if(this.So){clearTimeout(this.So);
this.So=null}};fx.prototype.a7h=function(){this.Ie();var c=this.qI;if(this.NE)this.NE.aiP();if(this.FL[c]==null)return;
this.NE=this.FL[c];var e=this.$R[c].getBoundingClientRect(),A=new k4(t.E.L,!0);A.data={d:t.c.OY,U7:this.FL[c],x:e.left+e.width+2,y:e.top};
this.S(A)};fx.prototype.aiP=function(){for(var c=0;c<this.FL.length;c++)if(this.FL[c])this.FL[c].aiP();
var e=new k4(t.E.L,!0);e.data={d:t.c.vo,U7:this};this.S(e)};fx.prototype.aeB=function(e){var c=this.FL.indexOf(e.target);
this.lD=[c].concat(e.target.Yy());this.S(new k4("select",!1))};function ie(e,A,a){b5.call(this);this.e=B.t("span","fitem cbox");
if(A==null)A=!0;if(a==null)a="flabel";var p="cb"+B.tp();this.DP=B.t("input","");this.DP.setAttribute("type","checkbox");
this.DP.setAttribute("id",p);this.e.appendChild(this.DP);this.T_=e;this.Na=B.t("label",a);if(A)this.Na.setAttribute("for",p);
this.e.appendChild(this.Na);this.f();this.DP.addEventListener("change",this.s_.bind(this),!1)}ie.prototype=new b5;
ie.prototype.a1C=function(){return this.T_};ie.prototype.WI=function(e){this.Na.textContent=e};ie.prototype.f=function(){var e=this.T_;
if(typeof e=="string"&&e.startsWith("<"))this.Na.innerHTML=e;else this.Na.textContent=i1.get(e)};ie.prototype.FC=function(){this.DP.checked=!0};
ie.prototype.mq=function(){this.DP.checked=!1};ie.prototype.fY=function(){return this.DP.checked};ie.prototype.z=function(e){this.DP.checked=e};
ie.prototype.b=ie.prototype.fY;ie.prototype.s_=function(e){this.S(new k4(t.E.A,!1))};function bQ(e,A){b5.call(this);
this.T_=e;this.e=B.t("span","labelitem fitem"+(A?" spread":""));this.f()}bQ.prototype=new b5;bQ.prototype.z=function(e){this.e.textContent=e};
bQ.prototype.b=function(){return this.e.textContent};bQ.prototype.Ss=function(){this.e.removeAttribute("disabled")};
bQ.prototype.kJ=function(){this.e.setAttribute("disabled","")};bQ.prototype.WI=function(e){this.e.textContent=e};
bQ.prototype.f=function(){this.e.textContent=i1.get(this.T_)};bQ.prototype.a1C=function(){return this.T_};
function c$(e,A,a,p,N){b5.call(this);this.VM=!1;this.e=B.t("button","fitem"+(A?" spread":"")+(p?" bbtn":""));
this.T_=e;this.CF=a;this.f();var i=N&&window.PointerEvent?"pointerup":"click";this.e.addEventListener(i,this.Z9.bind(this),!1)}c$.prototype=new b5;
c$.prototype.f=function(){var e=this.e,A=this.T_,a=this.CF;if(typeof A=="string"&&(A.startsWith("<img")||A.startsWith("<svg")||A.startsWith("<span"))){if(!this.VM){e.innerHTML=A;
e.setAttribute("style","padding:2px");this.VM=!0}}else e.textContent=i1.get(A);if(a){e.setAttribute("title",i1.get(a))}};
c$.prototype.acL=function(e){this.e.setAttribute("title",e)};c$.prototype.Z9=function(e){this.S(new k4("click",!1))};
c$.prototype.FC=function(){B.LM(this.e,"bactive")};c$.prototype.mq=function(){B.Xi(this.e,"bactive")};
c$.prototype.WI=function(e,A){if(e&&e!=this.T_){this.T_=e;this.VM=!1}if(A)this.CF=A;this.f()};c$.prototype.z=function(e){if(e)this.FC();
else this.mq()};c$.prototype.fY=function(){return this.e.getAttribute("class").indexOf("bactive")!=-1};
c$.prototype.b=function(){return this.fY()};function fp(e,A,a,p,N){b5.call(this);var i=B.tp();this.e=B.t("span","fitem tinput");
if(e){this.T_=e;this.gy=B.t("label","flabel");this.e.appendChild(this.gy);this.gy.setAttribute("for",i);
this.f()}if(N){this.DP=B.t("span")}else if(p==null){this.DP=B.t("input");this.DP.setAttribute("type","text")}else this.DP=B.t("textarea","scrollable");
this.DP.setAttribute("id",i);if(a)this.DP.setAttribute("style","width:"+a+"em;"+(N?" display:inline-block; margin-left:6px;":""));
if(p)this.DP.setAttribute("rows",p);this.e.appendChild(this.DP);if(A){this.DJ=B.t("span");this.DJ.textContent=A;
this.DJ.style.marginLeft="2px";this.e.appendChild(this.DJ)}B.SU(this.DP);this.DP.addEventListener("change",this.s_.bind(this),!1);
this.DP.addEventListener("input",this.a9N.bind(this),!1);if(p==null)this.DP.addEventListener("keyup",this.HC.bind(this),!1)}fp.prototype=new b5;
fp.prototype.f=function(){this.bc()};fp.prototype.HC=function(e){var A=g4.ys(e.code,g4.EO),a=g4.ys(e.code,g4.e2);
if(a||A)this.DP.blur()};fp.prototype.WI=function(e){this.gy.textContent=e};fp.prototype.z=function(e){var A=this.DP,a=e==null?"":e,p=A.tagName=="SPAN";
if(p){A.textContent=" "+a;if(this.DJ)A.appendChild(this.DJ)}else A.value=a};fp.prototype.ac5=function(e){this.DJ.textContent=e};
fp.prototype.b=function(){return this.DP.value};fp.prototype.Uj=function(){this.DP.select();this.DP.focus()};
fp.prototype.s_=function(e){this.S(new k4(t.E.A,!1))};fp.prototype.a9N=function(e){this.S(new k4("input",!1))};
function hP(e,A,a,p,N,i,Z,s,D){b5.call(this);if(N==null)N=0;this.e=B.t("span","fitem");var n=B.tp();
this.T_=e;this.CF=s;this.GL=0;this.Y0=D;this.ol=A;this.E0=a;this.bg=null;if(p instanceof Array){this.bg=p;
p=p[0]}this.ir=p;this.xs=N;this.ael=i;this.Qn=Z;this.FS=0;this.gy=B.t("label","flabel");this.gy.setAttribute("style","cursor:col-resize;");
this.le=B.t("input");this.le.setAttribute("type","range");if(Z){this.le.min=0;this.le.max=400}else{this.le.min=A;
this.le.max=a;if(N!=0)this.le.step=(a-A)/200}this.DP=B.t("input");this.DP.setAttribute("type","text");
this.DP.setAttribute("id",n);this.DJ=B.t("span");this.DJ.textContent=p;B.SU(this.DP);this.DP.addEventListener("change",this.s_.bind(this),!1);
this.DP.addEventListener("keydown",this.bM.bind(this),!1);this.DP.addEventListener("keyup",this.HC.bind(this),!1);
this.DP.addEventListener("wheel",this.Yt.bind(this),!1);this.le.addEventListener("input",this.s_.bind(this),!1);
if(D)this.le.addEventListener("change",this.s_.bind(this),!1);this.le.addEventListener("click",this.azm.bind(this),!1);
this.aoN=this.aiO.bind(this);this.aj7=this.aib.bind(this);this.ahp=this.al0.bind(this);this.s3=0;this.hU=0;
this.eE=!1;B.V3(this.gy,this.aoN);B.Ig(this.gy)}hP.prototype=new b5;hP.prototype.d9=function(e){this.xs=e};
hP.prototype.WI=function(e){this.gy.style.display=e?"inherit":"none";if(e)this.gy.textContent=i1.get(e)};
hP.prototype.f=function(){var iM=this.T_,e=this.CF;if(iM){if(typeof iM=="string"&&iM.startsWith("<"))this.gy.innerHTML=iM;
else this.bc()}if(e){e=i1.get(e);if(iM)this.gy.setAttribute("title",e);this.DP.setAttribute("title",e)}};
hP.prototype.z=function(e,A){var a=this.ol==this.E0,N;if(!a&&this.ol>=0)e=Math.max(this.ol,e);if(this.xs==0)e=Math.round(e);
var p=this.ir;this.GL=e;this.DP.value=(this.xs!=0?e.toFixed(this.xs):e)+(this.ael&&p?(p.toLowerCase()==p.toUpperCase()?"":" ")+p:"");
if(-this.ol==this.E0)N=200+Math.sign(e)*200*Math.pow(Math.abs(e)/this.E0,1/2.7);else N=400*Math.pow((e-this.ol)/(this.E0-this.ol),1/2.7);
this.le.value=this.Qn?N:e;if(A)this.NJ()};hP.prototype.b=function(){var e=this.GL;if(isNaN(e))e=0;return e};
hP.prototype.Ir=function(){return this.ir};hP.prototype.s_=function(e){var A=0;if(e.currentTarget==this.DP){var a=e.target.value,p=0;
A=a==""?0:this.ir?parseFloat(a):eval(a);if(isNaN(A))A=0;while(p<a.length&&(a.charAt(p)=="."||48<=a.charCodeAt(p)&&a.charCodeAt(p)<=57))p++;
var N=a.slice(p).trim();if(this.bg&&this.bg.indexOf(N)!=-1)this.ir=N}else{if(Date.now()-this.FS<10)return;
A=parseFloat(e.target.value);if(this.Qn){if(-this.ol==this.E0)A=Math.sign(A-200)*Math.pow(Math.abs(A-200)/200,2.7)*this.E0;
else A=this.ol+Math.pow(A/400,2.7)*(this.E0-this.ol);A=this.aq0(A)}}this.z(A);if(e.type=="input"&&this.Y0)return;
this.NJ()};hP.prototype.NJ=function(){this.S(new k4(t.E.A))};hP.prototype.aq0=function(e){if(this.E0-this.ol>50&&e>10)e=Math.round(e);
return e};hP.prototype.bM=function(e){var A=0;if(g4.ys(e.code,g4.XM))A=1;if(g4.ys(e.code,g4.TA))A=-1;
if(A!=0)this.aqA(A,e.shiftKey)};hP.prototype.HC=function(e){var A=g4.ys(e.code,g4.EO),a=g4.ys(e.code,g4.e2);
if(A)this.z(this.b());if(a||A)this.DP.blur()};hP.prototype.Yt=function(e){this.aqA(e.deltaY>0?-1:1,e.shiftKey)};
hP.prototype.aqA=function(e,A){var a=this.b(),p=this.xs,N=e*(p==null||p==0||a>5?1:.1);if(A)N*=10;var i=a+N;
if(!this.Qn&&this.E0!=this.ol)i=Math.min(this.E0,i);this.z(i);this.NJ()};hP.prototype.azm=function(e){var A=Date.now()-this.FS;
this.FS=Date.now();if(A>200)return;var a=this.ol,p=this.E0,N=(a+p)/2;if(a<1&&p>1&&p<10)N=1;else if(a<90&&p>110)N=100;
else if(a<0&&p>0)N=0;this.z(N);this.NJ()};hP.prototype.aiO=function(e){B.iv(document,this.aj7);B.xq(document,this.ahp);
this.s3=B.vT(e,document.body).x;this.hU=this.b()};hP.prototype.aib=function(e){B.aL(e);var A=this.ol==this.E0,a=B.vT(e,document.body).x,p=(a-this.s3)*(A?1:1/120*(this.E0-this.ol)),N=this.hU+p;
if(A)N=Math.round(N);if(!A){if(!0){N=Math.max(this.ol,N);if(N==this.ol){this.s3=a;this.hU=this.ol}}if(!this.Qn){N=Math.min(this.E0,N);
if(N==this.E0){this.s3=a;this.hU=this.E0}}N=this.aq0(N)}this.eE=!0;this.z(N);if(!this.Y0)this.NJ()};
hP.prototype.al0=function(e){if(!this.eE)this.DP.focus();this.eE=!1;if(this.Y0)this.NJ();B.Dq(document,this.aj7);
B.Y8(document,this.ahp)};hP.prototype.Uj=function(){this.DP.select();this.DP.focus()};function g0(e,A,a,p,N,i,Z,s,D,n){hP.call(this,e,A,a,p,N,!0,i,D,n);
B.LM(this.e,"rangedropinput");this.e.appendChild(this.gy);this.DP.setAttribute("style","width:"+(s?s:3.3)+"em");
this.e.appendChild(this.DP);this.amE=B.t("span","rangecontFloat");this.amE.appendChild(this.le);this.V5=B.t("button");
this.V5.textContent="\u25BC";B.V3(this.V5,this.af0.bind(this));if(Z!=!0)this.e.appendChild(this.V5);
this.Mb=new b5;this.Mb.e=this.amE}g0.prototype=new hP;g0.prototype.af0=function(e){if(B.ND(this.Mb.e))return;
e.stopPropagation();var A=this.e.getBoundingClientRect();this.le.setAttribute("style","width:"+A.width+"px;");
var a=new k4(t.E.L,!0);a.data={d:t.c.OY,U7:this.Mb,x:A.left-10,y:A.top+A.height};this.S(a)};function f1(e,A,a,p,N,i){hP.call(this,e,A,a,p,N,!1,i);
this.e.appendChild(this.gy);var Z=B.t("span");this.e.appendChild(Z);Z.appendChild(this.le);this.e.appendChild(this.DP);
this.DP.setAttribute("style","width:3.3em");if(this.ir)this.e.appendChild(this.DJ)}f1.prototype=new hP;
function c8(e,A,a,p,N,i,Z,s){hP.call(this,e,A,a,p,N,!0,i,null,Z);B.LM(this.e,"trangeinput");this.e.appendChild(this.gy);
this.e.appendChild(this.DP);var D=B.t("span");if(s!=!0)this.e.appendChild(D);D.appendChild(this.le)}c8.prototype=new hP;
function el(e,A,a){b5.call(this);if(!A)return;this.RF=0;this.T_=e;this.r9=null;this.alZ=a;this.jS=[];
var p="dd"+B.tp();this.e=B.t("span","fitem ddmenu");if(e){this.gy=B.t("label","flabel");this.e.appendChild(this.gy);
this.gy.setAttribute("for",p)}this.DP=B.t("select");this.DP.setAttribute("id",p);this.e.appendChild(this.DP);
this.DP.addEventListener("change",this.s_.bind(this),!1);function N(i){var Z=0;if(g4.ys(i.code,g4.XM))Z=1;
if(g4.ys(i.code,g4.TA))Z=-1;if(Z!=0)i.stopPropagation()}this.DP.addEventListener("keydown",N,!1);this.DP.addEventListener("keyup",N,!1);
this.uM=[];this.mM=null;this.z8(A,a);this.f()}el.prototype=new b5;el.prototype.WI=function(e){this.T_=e;
this.f()};el.prototype.f=function(){this.bc();if(this.mM)this.z8(this.mM,this.alZ);this.z(this.RF)};
el.prototype.b=function(){return this.RF};el.prototype.z8=function(e,A){B.XK(this.DP);var a=[],p=0;if(A){a.push(A[0]);
for(var c=1;c<A.length;c++)a.push(a[c-1]+A[c])}this.mM=e;this.r9=[];this.alZ=A;for(var c=0;c<e.length;
c++){var N=B.t("option");if(this.jS.indexOf(c)!=-1)N.setAttribute("disabled","");N.textContent=i1.get(e[c]);
N.setAttribute("value",c);this.DP.appendChild(N);this.uM.push(N);this.r9.push(c+p);if(a.indexOf(c+1)!=-1&&c!=e.length-1){var i=B.t("option");
i.setAttribute("disabled","");i.textContent="";this.DP.appendChild(i);p++}}};el.prototype.acr=function(c){var e=this.jS,A=e.indexOf(c);
if(A==-1)e.push(c);this.f()};el.prototype.agZ=function(c){var e=this.jS,A=e.indexOf(c);if(A!=-1)e.splice(A,1);
this.f()};el.prototype.z=function(e){this.RF=e;this.DP.selectedIndex=this.r9[e]};el.prototype.s_=function(e){this.RF=this.r9.indexOf(this.DP.selectedIndex);
this.S(new k4(t.E.A,!1))};el.prototype.Uj=function(){this.DP.focus()};function ah(e,A,a,p){b5.call(this);
if(!A)return;this.RF=0;this.ahJ=p;this.e=B.t("span","fitem bbmenu");this.Na=B.t("label","flabel");if(e){this.T_=e;
this.Na.textContent=e+":";this.e.appendChild(this.Na)}this.uM=[];this.mJ=B.t("span");this.e.appendChild(this.mJ);
this.mM=null;this.z8(A,a);this.z(0)}ah.prototype=new b5;ah.prototype.WI=function(e){this.T_=e;this.f()};
ah.prototype.f=function(){var e=this.Na.parentNode!=null,A=this.e;if(this.T_!=null){if(!e){A.appendChild(this.Na);
A.appendChild(this.mJ)}this.Na.textContent=i1.get(this.T_)+": "}else if(e)A.removeChild(this.Na);for(var c=0;
c<this.uM.length;c++)this.uM[c].f()};ah.prototype.b=function(){return this.RF};ah.prototype.z8=function(e,A){B.XK(this.mJ);
this.uM=[];this.mM=e;for(var c=0;c<e.length;c++){var a=new c$(e[c],!1,A?A[c]:null,this.ahJ);a.h("click",this.s_,this);
this.mJ.appendChild(a.e);this.uM.push(a)}this.f()};ah.prototype.z=function(e){this.RF=e;for(var c=0;
c<this.uM.length;c++)this.uM[c].mq();this.uM[e].FC()};ah.prototype.s_=function(e){var c=this.uM.indexOf(e.target);
this.z(c);this.S(new k4(t.E.A,!1))};ah.xv=function(e,A,a){if(A==null)A=16;var p=ah.iy,N=p.getContext("2d"),i=A>>>1;
p.width=p.height=A;var Z=[];for(var c=0;c<e.length;c++){if(e[c][0]=="-")Z.push(e[c].slice(1));else if(e[c]=="checker"||e[c].startsWith("#")){if(e[c]=="checker"){N.fillStyle="white";
N.fillRect(0,0,A,A);N.fillStyle="#bbbbbb";N.fillRect(i,0,i,i);N.fillRect(0,i,i,i)}else if(e[c].startsWith("#")){N.fillStyle=e[c];
N.fillRect(0,0,A,A)}Z.push("<img src=\""+p.toDataURL()+"\" />")}else Z.push(B.iE(e[c],null,a?a:"autoscale"))}return Z};
ah.iy=B.t("canvas");function hj(e,A,a,p,N,i){b5.call(this);this.e=B.t("span","fitem mbox");this.az5=a;
this.aiD=N;if(e){this.T_=e;this.Na=B.t("label","flabel");this.e.appendChild(this.Na)}this.Pd=A;this.ut=[];
for(var c=0;c<A.length;c++){var Z=a?new c$(A[c],!1,p?p[c]:null,!1,i):new ie(A[c],!0,"");Z.h(a?"click":t.E.A,this.s_,this);
this.ut.push(Z);this.e.appendChild(Z.e)}this.f()}hj.prototype=new b5;hj.prototype.z=function(e){for(var A=0;
A<this.Pd.length;A++)this.ut[A].z(e[A])};hj.prototype.b=function(){var e=[];for(var A=0;A<this.Pd.length;
A++)e[A]=this.ut[A].b();return e};hj.prototype.f=function(){if(this.T_)this.Na.innerHTML=i1.get(this.T_)+": ";
var e=this.ut;for(var A=0;A<e.length;A++){e[A].f();if(A==e.length-1)e[A].e.style.marginRight="0px"}};
hj.prototype.s_=function(e){var c=this.ut.indexOf(e.currentTarget),A=this.ut[c];if(this.az5)A.z(!A.b());
if(this.aiD){var a=A.b();for(var c=0;c<this.ut.length;c++)this.ut[c].z(!1);A.z(a)}this.S(new k4(t.E.A,!1))};
function a0(e,A){b5.call(this);this.KV=[];this.g=[];this.awT=e;this.a0=A;this.UW=0;this.VO=null;this.FN=new k7(0,0);
if(A!=null){this.$q=new fx([{name:[6,37]},{name:[5,4]}]);this.$q.parent=this;this.$q.h("select",this.yy,this)}this.e=B.t("div","imageset scrollable");
this.e.addEventListener("contextmenu",B._Y,!1)}a0.prototype=new b5;a0.prototype.f=function(){if(this.$q)this.$q.f()};
a0.prototype.yy=function(e){var c=this.$q.Yy()[0],A=new k4(t.E.L,!0),a={d:t.c.iK,hP:this.a0,Ox:this.g.slice(0)};
if(c==0){var p=this.VO[1][this.g[0]];a.Z7="rnm";A.data={d:t.c.Ch,NY:"namewindow",Ve:p,lP:{Y:t.E.L,W:a}}}else{A.data=a;
a.Z7="del"}this.S(A)};a0.prototype.aeo=function(){return this.UW};a0.prototype.rE=function(e){this.UW=e;
if(this.VO)this.Se()};a0.prototype.q0=function(e,A,a,p){this.VO=[e,A,a,p];this.Se()};a0.prototype.Se=function(){var e=this.VO,A=e[0],a=e[1],p=e[2],N=e[3];
this.KV=[];this.e.innerHTML="";var i=this.Z9.bind(this),Z=this.UW;if(Z==0)B.LM(this.e,"imageset");else B.Xi(this.e,"imageset");
for(var c=0;c<A.length;c++){var s=A[c],D=null;if(s==null){this.KV.push(null);continue}if(typeof s=="string"){D=B.t("img","image");
D.setAttribute("src",s)}else D=s;if(p)B.JK(D,p,N);if(this.awT)B.LM(D,"gsicon");if(Z==0){}else{var n=B.t("div","listitem");
n.appendChild(D);var S=B.t("span");S.textContent=a?a[c]:"Item "+(c+1);S.setAttribute("style","margin-left:4px;");
n.appendChild(S);D=n}if(a)D.setAttribute("title",a[c]);D.addEventListener("mousedown",i,!1);this.KV.push(D);
this.e.appendChild(D)}};a0.prototype.Z9=function(e){if(this.a0==null)e.preventDefault();var A=this.KV.indexOf(e.currentTarget),a=window.__kb,p=this.g,N=p.length;
if(a.l(g4.Kp)){var i=Math.min(p[0],p[p.length-1],A),Z=Math.max(p[0],p[p.length-1],A);p=[];for(var c=i;
c<=Z;c++)p.push(c)}else if(a.l(g4.YC)){var s=p.indexOf(A);if(s==-1)p.push(A);else p.splice(s,1)}else p=[A];
p.sort(function(F,$){return F-$});if(e.button==0||N==1)this.z(p);this.FN=B.vT(e,e.currentTarget);if(e.button==0)this.S(new k4(t.E.A));
if(e.button==2&&this.$q){var D=this.$q;D.update(null);var n=B.vT(e,document.body),S=new k4(t.E.L,!0);
S.data={d:t.c.OY,U7:D,x:n.x,y:n.y+2};this.S(S)}};a0.prototype.b=function(){return this.g.slice(0)};a0.prototype.aac=function(){var e=this.FN;
return new k7(e.x,e.y)};a0.prototype.z=function(e){this.g=e.slice(0);for(var c=0;c<this.KV.length;c++){var A=this.KV[c];
if(A==null)continue;if(e.indexOf(c)!=-1)B.LM(A,"selected");else B.Xi(A,"selected")}};function jz(e,A,a,p,N,i,Z){b5.call(this);
this.e=B.t("span","fitem "+a);this._s=new b5;this._s.e=B.t("div","floatcont");this._s.e.setAttribute("style","width: "+(p+1.5)+"em;");
this._s.parent=this;this.asY=B.t("div");this._s.e.appendChild(this.asY);this.Ub=B.t("div");this._s.e.appendChild(this.Ub);
if(e){this.T_=e;this.Na=B.t("label","flabel");this.e.appendChild(this.Na)}this.d=B.t("button",Z?"nopadding":"");
this.d.setAttribute("style","position:relative;");var s=this.ZA.bind(this),D=this.CG.bind(this);B.V3(this.d,A?D:s);
this.e.appendChild(this.d);this.TJ=B.t("img",Z?"gsicon":"");this.d.appendChild(this.TJ);if(A){var n=B.t("button");
n.textContent="\u25BC";B.V3(n,s);this.e.appendChild(n)}else{var S=B.t("span");S.textContent="\u25BC";
S.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(S)}var F=B.t("span");
this.Ub.appendChild(F);F.setAttribute("style","display:inline-block;  vertical-align:top; width:"+p+"em;");
this.A4=new a0(Z,i);F.appendChild(this.A4.e);this.A4.parent=this._s;this.A4.h(t.E.A,this.EY,this);this.A4.e.style.height=N+"em";
this.RT=B.t("button");this.RT.textContent="\u25BC";this.RT.setAttribute("style","padding:3px");B.V3(this.RT,this.cM.bind(this));
this.Ub.appendChild(this.RT);var $=this.O_(),m=this.alY=i!=ac.nn&&i!=ac.ka?i:null,J=this.adE=i==null?!1:ac.GN[i][4]!=0,w=i==null?"":ac.GN[i][0].toUpperCase(),f=[];
if(m)f.push({name:[12,87]});f.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],ks:!0});f.push({name:[[23,6],"."+(w=="ICC"?"icc .cube .look .3dl":w)]},{name:["VAR0 ."+w,[1,8]]},{name:[6,37]},{name:[5,4],ks:$.length!=0});
for(var c=0;c<$.length;c++)f.push({name:$[c].split("/").pop()});this.a0w=f;this.a0=i;this._1=null;this.Gp=!0;
this.Nh=null}jz.prototype=new b5;jz.prototype.O_=function(){return[]};jz.prototype.CG=function(){};jz.prototype.f=function(){this.A4.f();
var e=this.T_;if(e)this.Na.textContent=i1.get(e)+":"};jz.prototype.WI=function(e){this.Na.textContent=e};
jz.prototype.mb=function(e){var A=this.a0,a=0;if(A==ac.QZ){a=this._1?this._1.length:0;e=e.slice(0)}this._1=e;
this.Gp=!0;if(B.ND(this.A4.e)||A==ac.tB)this.lF();if(A==ac.QZ&&e.length-a==1&&B.ND(this.e)){this.z(e[a]);
this.Gp=!0;this.lF();this.A4.z([a]);this.S(new k4(t.E.A))}};jz.prototype.yy=function(e){var A=e.target.Yy()[0];
if(this.alY==null)A++;var a=new k4(t.E.L,!0);if(A==0){var p=this.Fg();if(this.a0==ac.QZ&&p[0].profile==null)return;
a.data={d:t.c.iK,Z7:"add",hP:this.alY,j$:p}}else if(A==1)this.A4.rE(1-this.A4.aeo());else if(A<=5)this.nc(A-2);
else{var N=this.O_();a.data={d:t.c.Mw,hP:{url:"rsrc/"+N[A-6]}}}if(a.data)this.S(a)};jz.prototype.nc=function(e){var A=new k4(t.E.L,!0),a=this.A4.b(),p={d:t.c.iK,hP:this.a0,Ox:a};
if(e>1&&a.length==0){alert("No items selected");return}if(e==0)A.data={d:t.c.hy};else if(e==1)A.data={d:t.c.tm,acN:this.a0,Ox:a.length==0?null:a};
else if(e==2){var N=this.A4.VO[1][a[0]];p.Z7="rnm";A.data={d:t.c.Ch,NY:"namewindow",Ve:N,lP:{Y:t.E.L,W:p}}}else if(e==3){A.data=p;
p.Z7="del"}this.S(A)};jz.prototype.Fg=function(){return[this.b()]};jz.prototype.cM=function(e){if(this.$q==null){this.$q=new fx(this.a0w);
this.$q.parent=this._s;this.$q.h("select",this.yy,this)}if(B.ND(this.$q.e))return;e.stopPropagation();
var A=this.$q;A.f();A.update(null);var a=e.currentTarget.getBoundingClientRect(),p=new k4(t.E.L,!0);
p.data={d:t.c.OY,U7:A,x:a.left,y:a.top+a.height};this.S(p)};jz.prototype.ZA=function(e,A,a){if(B.ND(this._s.e))return;
if(e)e.stopPropagation();this.lF();if(A==null){var p=this.d.getBoundingClientRect(),A=p.left,a=p.top+p.height}var N=new k4(t.E.L,!0);
N.data={d:t.c.OY,U7:this._s,x:A,y:a,J6:!0};this.S(N)};jz.prototype.ag8=function(e,A){this.ZA(null,e,A)};
function jw(){b5.call(this);this.e=B.t("div");this.GL=!1;this.b2=[new el([12,19,1],[[13,1,7]].concat(a7.Dl)),new h_([17,1]),new h_([12,46])];
for(var c=0;c<3;c++){var e=this.b2[c];this.e.appendChild(e.e);e.h(t.E.A,this.Xf,this)}this.f()}jw.prototype=new b5;
jw.prototype.f=function(){for(var c=0;c<3;c++)this.b2[c].f()};jw.prototype.b=function(){return this.GL.slice(0)};
jw.prototype.z=function(e){this.GL=e.slice(0);var A=this.b2,a=A[0].b();A[1].z(e.slice(a*8,a*8+4),a);
A[2].z(e.slice(a*8+4,a*8+8),a)};jw.prototype.Xf=function(e){var A=this.b2,a=A.indexOf(e.currentTarget);
if(a==0)this.z(this.GL);else{var p=A[0].b()*8+(a==1?0:4),N=A[a].b();for(var c=0;c<4;c++)this.GL[p+c]=N[c];
this.S(new k4(t.E.A,!1))}};function h_(e){b5.call(this);this.e=B.t("div");this.T=B.t("canvas");this.sq=e;
this.GL=[0,20,200,255];this.Pt=0;this.nh=-1;this.a7c=[];for(var c=0;c<5;c++){var A=B.t("span");A.setAttribute("style","display:inline-block;width:"+(c==0?8:c==2?7:2)+"em");
this.a7c.push(A);this.e.appendChild(A)}this.Sl=this.ME.bind(this);this.Lp=this.m3.bind(this);this.tu=this.fG.bind(this);
B.Ig(this.T);B.V3(this.T,this.Sl);this.e.appendChild(this.T);this.Se()}h_.prototype=new b5;h_.prototype.f=function(){this.Se()};
h_.prototype.z=function(e,A){this.GL=e;this.Pt=A;this.Se()};h_.prototype.b=function(){return this.GL.slice(0)};
h_.prototype.ME=function(e){var A=this.GL,a=B.vT(e,this.T),p=a.x-8,N=-1,i=1e9;for(var c=0;c<4;c++){var Z=p-A[c],s=Math.abs(Z);
if(s<8&&s<i&&((c&1)==0&&Z<0||(c&1)==1&&Z>0)){i=Z;N=c}}if(N==-1)return;this.nh=N;this.IN=window.__kb.l(g4.uJ)||A[(N>>>1)*2]!=A[(N>>>1)*2+1];
B.iv(window,this.Lp);B.xq(window,this.tu)};h_.prototype.m3=function(e){var A=this.GL,a=this.nh,p=(a>>>1)*2,N=p+1,i=B.vT(e,this.T),Z=Math.round(Math.max(0,Math.min(255,i.x-8)));
A[a]=Z;if(this.IN&&A[p]>=A[N])this.IN=!1;if(!this.IN)A[p]=A[N]=Z;this.Se();this.S(new k4(t.E.A,!1))};
h_.prototype.fG=function(e){B.Dq(window,this.Lp);B.Y8(window,this.tu)};h_.prototype.Se=function(){var e=this.T;
B.ql(e,255+16,16);var A=e.getContext("2d"),a=e.width,p=e.height,N=Math.round(255*B.V()),i=Math.round(8*B.V());
A.translate(i,0);var Z=A.createLinearGradient(0,0,N,0);Z.addColorStop(0,"black");Z.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Pt]);
A.fillStyle=Z;A.fillRect(0,0,N,i);var s=this.a7c,D=i1.get(this.sq)+":";s[0].textContent=D;for(var c=0;
c<4;c++){var n=this.GL[c];s[1+c].textContent=n;var S=Math.round(n*B.V());A.beginPath();A.moveTo(S,i);
A.lineTo(S,i+i);A.lineTo(S+((c&1)==0?-1:1)*i,i+i);A.closePath();A.fillStyle=c<2?"#666666":"#cccccc";
A.fill();A.strokeStyle="black";A.stroke()}};function cx(e,A,a){b5.call(this);if(a==null)a=!1;this.Z=[0,0,1];
this.aiJ=A;this.anf=a;this.acR=0;var p="ai"+B.tp();this.e=B.t("span","fitem angleinput");if(e){this.Na=B.t("label","flabel");
this.T_=e;this.e.appendChild(this.Na);this.Na.setAttribute("for",p)}this.vD=a?44:20;this.T=B.t("canvas","gsicon");
this.Ae=this.T.getContext("2d");B.Ig(this.T);B.ql(this.T,this.vD*2+1,this.vD*2+1);this.Ae.scale(B.V(),B.V());
this.e.appendChild(this.T);B.V3(this.T,this.np.bind(this));this.em=this.p4.bind(this);this.pQ=this.g6.bind(this);
var N=this.s_.bind(this),i=B.t("div");i.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!a)this.e.appendChild(i);this.Gx=[];for(var c=0;c<2;c++){var Z=B.t("input");this.Gx.push(Z);Z.setAttribute("type","text");
B.SU(Z);if(c==0)Z.setAttribute("id",p);Z.addEventListener("change",N,!1);var s=B.t("span");s.textContent="\xB0";
if(c==0||A){i.appendChild(Z);i.appendChild(s);B.jA(i)}}this.z(this.Z)}cx.prototype=new b5;cx.prototype.f=function(){if(this.T_)this.Na.textContent=i1.get(this.T_)+":"};
cx.prototype.WI=function(e){this.Na.textContent=e};cx.prototype.b=function(){return this.Z.slice(0)};
cx.prototype.z=function(e,A){var a=this.Z;e=e.slice(0);if(e[0]==null)e[0]=a[0];if(e[1]==null)e[1]=a[1];
if(e[2]==null)e[2]=a[2];this.Z=e;var p=e[0],N=e[1],i=e[2],Z=this.aiJ,s=this.anf,D=this.vD*.85;if(!Z)N=0;
this.Gx[0].value=p;this.Gx[1].value=N;var n=this.Ae;n.clearRect(0,0,100,100);p=Math.PI*p/180;N=D*(90-N)/90;
var S=this.vD+.5;n.save();n.translate(S,S);n.rotate(-p);n.strokeStyle="rgba(0,0,0,0.5)";n.beginPath();
n.ellipse(0,0,D,D*i,0,0,2*Math.PI);if(s){n.moveTo(0,-D*i);n.lineTo(0,D*i);n.moveTo(-N,0)}else n.moveTo(0,0);
n.lineTo(N,0);n.stroke();var F=this.vD*.15;n.fillStyle="black";n.beginPath();if(s){n.arc(0,-D*i,F*.66,0,2*Math.PI);
n.arc(0,D*i,F*.66,0,2*Math.PI)}if(Z){n.arc(N,0,F*.4,0,2*Math.PI)}else{n.moveTo(S-F,-F*.66);n.lineTo(S,0);
n.lineTo(S-F,F*.66)}n.fill();n.restore();if(A)this.s_()};cx.prototype.s_=function(e){var A=parseInt(this.Gx[0].value);
if(isNaN(A))A=0;var a=parseInt(this.Gx[1].value);if(isNaN(a))a=0;A=A%360;a=a%360;this.z([A,a]);this.S(new k4(t.E.A,!1))};
cx.prototype.np=function(e){B.iv(window,this.em);B.xq(window,this.pQ);var A=B.vT(e,this.T),S=0,F=1e9;
A.x-=this.vD;A.y-=this.vD;var a=this.Z,p=a[0]*Math.PI/180,N=(90-a[1])/90,i=a[2],Z=this.vD*.85,s=Math.sin(-p),D=Math.cos(-p),n=[new k7(D*Z,s*Z)];
if(this.anf)n.push(new k7(-s*Z*i,D*Z*i),new k7(s*Z*i,-D*Z*i));for(var c=0;c<n.length;c++){var $=k7.nR(A,n[c]);
if($<F){F=$;S=c}}this.acR=S;if(S==0)this.p4(e)};cx.prototype.p4=function(e){var A=B.vT(e,this.T),a=this.acR,p=[],N=A.x-this.vD,i=A.y-this.vD,Z=this.vD*.85;
if(a==0){var s=180*Math.atan2(-i,N)/Math.PI,D=90-90*Math.min(1,Math.sqrt(N*N+i*i)/Z);if(e.shiftKey)s=Math.round(s/15)*15;
p=[Math.round(s),Math.round(D)]}else p=[null,null,Math.max(.01,Math.min(1,Math.sqrt(N*N+i*i)/Z))];this.z(p);
this.S(new k4(t.E.A,!1))};cx.prototype.g6=function(e){this.S(new k4(t.E.A,!1));B.Dq(window,this.em);
B.Y8(window,this.pQ)};function fe(e,A){b5.call(this);this.GL=0;this.sG=A;this.e=B.t("span","fitem angleinput");
if(e){this.Na=B.t("label","flabel");this.T_=e;this.e.appendChild(this.Na)}this.T=B.t("canvas","gsicon");
this.Ae=this.T.getContext("2d");B.ql(this.T,A,A);this.e.appendChild(this.T);B.Ig(this.T);B.V3(this.T,this.np.bind(this));
this.em=this.p4.bind(this);this.pQ=this.g6.bind(this);this.z(0)}fe.prototype=new b5;fe.prototype.f=function(){if(this.T_)this.Na.textContent=i1.get(this.T_)+":"};
fe.prototype.WI=function(e){this.Na.textContent=e};fe.prototype.b=function(){return this.GL};fe.prototype.ae4=function(e){var A=this.GL,a=Math.floor(A/3),p=A-a*3;
p=Math.max(0,Math.min(2,p+e.x));a=Math.max(0,Math.min(2,a+e.y));this.z(a*3+p)};fe.prototype.z=function(e){this.GL=e;
var A=this.T.width,a=Math.floor(e/3),p=e-3*a,N=(p+.5)*A/3,i=(a+.5)*A/3,Z=this.Ae,s=[.5,Math.round(A/3)+.5,Math.round(2*A/3)+.5,A-.5];
Z.clearRect(0,0,A,A);var D=this.sG<30;Z.setLineDash([]);Z.strokeStyle=D?"rgba(0,0,0,0.5)":"#000000";
Z.beginPath();for(var c=0;c<4;c++){var n=s[c];Z.moveTo(n,0);Z.lineTo(n,A);Z.moveTo(0,n);Z.lineTo(A,n)}Z.stroke();
if(e==9)return;if(!D){Z.setLineDash([1,2]);var S=A*.53,F=Math.max(0,Math.min(A-S,N-S/2)),$=Math.max(0,Math.min(A-S,i-S/2));
Z.strokeRect(Math.round(F)+.5,Math.round($)+.5,Math.round(S),Math.round(S))}Z.fillStyle="#000000";Z.beginPath();
Z.arc(N,i,A/8,0,Math.PI*2);Z.fill()};fe.prototype.np=function(e){B.iv(document.body,this.em);B.xq(document.body,this.pQ);
this.p4(e)};fe.prototype.p4=function(e){var A=B.vT(e,this.T),a=Math.max(0,Math.min(2,Math.floor(A.x/(this.sG/3)))),p=Math.max(0,Math.min(2,Math.floor(A.y/(this.sG/3))));
this.z(p*3+a)};fe.prototype.g6=function(e){this.S(new k4(t.E.A,!1));B.Dq(document.body,this.em);B.Y8(document.body,this.pQ)};
function jk(iM){b5.call(this);this.e=B.t("span","fitem cswatch");this.agz=0;this.qp=[];this.Ca=[];var e=this.atU.bind(this);
for(var c=0;c<iM;c++){this.qp.push(0);var A=B.t("span","colorsample");A.addEventListener("click",e,!1);
this.Ca.push(A);this.e.appendChild(A)}var a=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],p=Math.min(iM,a.length);
for(var c=0;c<p;c++)this.qp[c]=a[c];this.Z_()}jk.prototype=new b5;jk.prototype.atU=function(e){this.agz=this.Ca.indexOf(e.currentTarget);
this.S(new k4(t.E.A))};jk.prototype.b=function(){return this.qp[this.agz]};jk.prototype.z=function(e){var A=this.qp,a=A.indexOf(e);
if(a!=-1)A.splice(a,1);else A.pop();A.unshift(e);this.Z_()};jk.prototype.Z_=function(){for(var c=0;c<this.qp.length;
c++){this.Ca[c].setAttribute("style","background-color:#"+j.yj(this.qp[c]))}};function dH(e){b5.call(this);
this.N8={o:0,J:0,k:0};this.pw=e;this.e=B.t("span","fitem colorsample");this.e.addEventListener("click",this.rz.bind(this),!1)}dH.prototype=new b5;
dH.prototype.f=function(){};dH.prototype.rz=function(e){var A=this.N8;this.S(new k4("click"));var a=new k4(t.E.L,!0);
a.data={d:t.c.Ch,NY:"colorpicker",Dv:A.o<<16|A.J<<8|A.k,og:this.zS.bind(this),Hy:this.pw};this.S(a)};
dH.prototype.zS=function(e){this.Ti(e);this.S(new k4(t.E.A))};dH.prototype.Fc=function(){this.rz(null)};
dH.prototype.azN=function(){var e=this.N8;return e.o<<16|e.J<<8|e.k};dH.prototype.b=function(){return j.M.yN(this.N8)};
dH.prototype.Ti=function(e){this.N8={o:e>>16&255,J:e>>8&255,k:e&255};this.a7N()};dH.prototype.z=function(e){this.N8=j.M.kq(e);
this.a7N()};dH.prototype.a7N=function(){var e=this.N8,A=e.o,a=e.J,p=e.k,N=A<<16|a<<8|p;this.e.setAttribute("style","background-color:#"+j.yj(N))};
function hp(){b5.call(this);this.M8=!1;this.I_=20;this.a8p=10;this.I3=0;this.M8=!1;this.M9={o:255,J:0,k:0};
this._o={o:0,J:0,k:0};this.e=B.t("canvas");this.Se();B.Ig(this.e);B.V3(this.e,this.Sl.bind(this))}hp.prototype=new b5;
hp.prototype.aag=function(e){if(this.M8==e)return;this.M8=e;this.Se()};hp.prototype.f=function(){};hp.prototype.a6q=function(e,A){function a(p){return{o:p>>16&255,J:p>>8&255,k:p&255}}if(e!=null)this.M9=a(e);
if(A!=null)this._o=a(A);this.Se()};hp.prototype.Sl=function(e){var A=B.vT(e,this.e),a=A.x*B.V(),p=A.y*B.V(),N=this.I_,i=this.a8p,Z=0;
if(a<i&&p<i){Z=0}else if(a>N-i&&p>N-i){Z=1}else if(a<i){Z=2}else{Z=3}this.Fc(Z)};hp.prototype.Fc=function(e){var A=new k4(t.E.L,!0);
if(e>1)A.data={d:t.c.iK,hP:ac.V9,dy:e};else{this.I3=e;var a=e==0?this.M9:this._o;A.data={d:t.c.Ch,NY:"colorpicker",Dv:a.o<<16|a.J<<8|a.k,og:this.zS.bind(this)}}this.S(A)};
hp.prototype.zS=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.iK,hP:ac.V9,dy:this.I3,Z:e};this.S(A)};
hp.prototype.Se=function(){var e=this.e,A=e.getContext("2d"),a=B.V(),N="#aaaaaa",i=.62;B.ql(e,34,34);
e.setAttribute("style",e.getAttribute("style")+";cursor:pointer");var p=this.I_=e.width,Z=this.a8p=Math.round(p*i);
function s(J,w){var f=J.o,b=J.J,L=J.k;if(w)f=b=L=Math.round(j.hT(f,b,L));var C=f<<16|b<<8|L;return"#"+j.yj(C)}function D(A,J,w,f,b,L){A.beginPath();
if(f>=L*2&&b>=L*2){A.moveTo(J+L,w);A.lineTo(J+f-L,w);A.quadraticCurveTo(J+f,w,J+f,w+L);A.lineTo(J+f,w+b-L);
A.quadraticCurveTo(J+f,w+b,J+f-L,w+b);A.lineTo(J+L,w+b);A.quadraticCurveTo(J,w+b,J,w+b-L);A.lineTo(J,w+L);
A.quadraticCurveTo(J,w,J+L,w)}A.closePath()}function n(J,w,Z,f,b){A.strokeStyle=b?b:"black";A.fillStyle=f;
D(A,J+.5,w+.5,Z-1,Z-1,Z*.2);A.fill();A.stroke()}n(p-Z,p-Z,Z,s(this._o,this.M8));n(0,0,Z,s(this.M9,this.M8));
var S=p-Z,F=Math.round(S*i);n(p-F,S-F,F,"white",N);n(p-S,0,F,"black",N);A.save();A.fillStyle=N;A.translate(0,p);
A.rotate(-Math.PI/2);S=p-Z;var $=Math.round(S*.28),m=Math.round(S*.25);for(var c=0;c<2;c++){A.fillRect($,$,S-$,1);
A.beginPath();A.moveTo(S-m,$+.5-m);A.lineTo(S,$+.5);A.lineTo(S-m,$+.5+m);A.closePath();A.fill();A.transform(0,1,1,0,0,0)}A.restore()};
function bZ(e){jz.call(this,e,!1,"brushbutton nopadding",19,10,ac.TD,!0);var A=this.asY;B.LM(A,"flexrow");
var a=B.t("div");A.appendChild(a);var p=B.t("div");A.appendChild(p);p.setAttribute("style","margin-left:8px");
this._v=new cx(null,null,!0);this._v.h(t.E.A,this.pj,this);a.appendChild(this._v.e);this.h$=new c8([12,14,0],1,1e3," px",0,!0);
this.h$.h(t.E.A,this.pj,this);p.appendChild(this.h$.e);this._l=new c8([12,17],0,100,"%");this._l.h(t.E.A,this.pj,this);
p.appendChild(this._l.e);this.j2=new hj(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.j2.h(t.E.A,this.pj,this);p.appendChild(this.j2.e)}bZ.prototype=new jz;bZ.prototype.O_=function(){var e=["pencil","trees"];
for(var c=0;c<e.length;c++)e[c]="brushes/"+e[c]+".abr";return e};bZ.prototype.z=function(e,A,a){this.Nh=JSON.parse(JSON.stringify(e));
var p=Math.floor(20*B.V()),N=Math.floor(36*B.V()),i=Math.floor(24*B.V()),Z=jF.HF(e,A,a,p,i,N);this.TJ.setAttribute("src",Z);
B.JK(this.TJ,N,i);var s=e.Brsh.v;this.h$.z(s.Dmtr.v.val);if(s.Hrdn!=null){this._l.Ss();this._l.z(s.Hrdn.v.val)}else this._l.kJ();
if(s.Angl!=null)this._v.z([s.Angl.v.val]);if(s.Rndn!=null)this._v.z([null,null,s.Rndn.v.val/100]);var D=[!1,!1];
if(e.opVr)D[0]=e.opVr.v.bVTy.v==2;if(e.szVr)D[1]=e.szVr.v.bVTy.v==2;this.j2.z(D)};bZ.prototype.Fg=function(){return{list:[{t:"Objc",v:this.b()}],Cu:[],tV:[]}};
bZ.prototype.b=function(){return this.Nh};bZ.prototype.lF=function(){if(!this.Gp)return;var e=[],A=[],a=this._1,p=Math.floor(33*B.V()),N=Math.floor(40*B.V());
for(var c=0;c<a.list.length;c++){var i=a.list[c].v,Z=jF.HF(i,a.Cu,a.tV,p,N);e.push(Z);A.push(i.Nm.v.split("=").pop())}this.A4.q0(e,A,p,N);
this.Gp=!1};bZ.prototype.EY=function(e){var A=this._1;this.z(A.list[this.A4.b()[0]].v,A.Cu,A.tV);this.S(new k4(t.E.A))};
bZ.prototype.f=function(){jz.prototype.f.call(this);this._v.f();this.h$.f();this._l.f()};bZ.prototype.pj=function(e){var A=this._1,a=this.Nh,p=a.Brsh.v;
p.Dmtr.v.val=this.h$.b();if(p.Hrdn!=null)p.Hrdn.v.val=this._l.b();if(p.Angl!=null)p.Angl.v.val=this._v.b()[0];
if(p.Rndn!=null)p.Rndn.v.val=Math.round(this._v.b()[2]*100);if(e.target==this.j2){var N=this.j2.b(),i=["opVr","szVr"],Z=["usePaintDynamics","useTipDynamics"];
for(var c=0;c<2;c++){var s=i[c];if(a[s]==null)a[s]=JSON.parse(fR.cm.Ld[s]);a[s].v.bVTy.v=N[c]?2:0;if(N[c])a[Z[c]].v=!0}fR.cm.aif(a)}this.z(a,A.Cu,A.tV);
this.S(new k4(t.E.A))};function ko(e){jz.call(this,e,!0,"contourbutton",17,10.5,ac.vU)}ko.prototype=new jz;
ko.prototype.EY=function(e){this.z(this._1[e.target.b()]);this.S(new k4(t.E.A))};ko.prototype.CG=function(e){var A=new k4(t.E.L,!0);
A.data={d:t.c.Ch,NY:"contoureditor",eL:this.Nh,response:this.ai6.bind(this)};this.S(A)};ko.prototype.ai6=function(e){this.z(e);
this.S(new k4(t.E.A))};ko.prototype.lF=function(){if(!this.Gp)return;var e=Math.floor(38*B.V()),A=Math.floor(38*B.V()),a=[],p=[],N=this._1;
for(var c=0;c<N.length;c++){p.push(N[c].Nm?N[c].Nm.v:"");a.push(j.Gh.HF(N[c].Crv.v,e,A))}this.A4.q0(a,p,e,A);
this.Gp=!1};ko.prototype.z=function(e){this.Nh=JSON.parse(JSON.stringify(e));var A=this.Nh.Crv.v;for(var c=0;
c<A.length;c++)if(A[c].v.Cnty==null)A[c].v.Cnty={t:"bool",v:!0};this.Ra()};ko.prototype.Ra=function(){var e=Math.floor(30*B.V()),A=Math.floor(30*B.V()),a=j.Gh.HF(this.Nh.Crv.v,e,A);
this.TJ.setAttribute("src",a);B.JK(this.TJ,e,A)};ko.prototype.b=function(){return JSON.parse(JSON.stringify(this.Nh))};
function ga(e){b5.call(this);this.jG=null;this.w7=null;this.Zg=null;this.wb=null;this.aoV=[];this.a3V=[];
this.e=B.t("span","fitem fillbutton");this._s=new b5;this._s.e=B.t("div","floatcont form");this._s.e.setAttribute("style","width: 21em;");
this._s.parent=this;this.lI=e;this.Na=this.Na=B.t("label","flabel");this.e.appendChild(this.Na);this.T=B.t("canvas");
this.Ae=this.T.getContext("2d");this.acV=null;this.e.appendChild(this.T);B.V3(this.T,this.ZA.bind(this));
this.c3=new ah([12,66],["","Color","Grad","Patt"]);this._s.e.appendChild(this.c3.e);this.c3.h(t.E.A,this.Xf,this);
this._s.e.appendChild(B.t("hr"));this.akm=B.t("span");this.mT=new dH(!1);this.mT.parent=this._s;this.mT.h(t.E.A,this.Xf,this);
this.od=new jk(10);this.od.h(t.E.A,this.Xf,this);this.kb=B.t("div","marged hiline");this.kb.appendChild(this.mT.e);
B.jA(this.kb);this.kb.appendChild(this.od.e);this.Iy=new ic("GrFl",!0);this.Iy.parent=this._s;this.Iy.h(t.E.A,this.Xf,this);
this.vN=B.t("div","marged hiline");var A="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var c=0;
c<A.length;c++){var a=this.Iy.Hc[A[c]].e;this.vN.appendChild(a)}this.dv=new ic("patternFill",!0);this.dv.parent=this._s;
this.dv.h(t.E.A,this.Xf,this);this.oL=B.t("div","marged hiline");var A=["Ptrn","Angl","Scl","Algn","phase"];
for(var c=0;c<A.length;c++){var a=this.dv.Hc[A[c]].e;this.oL.appendChild(a)}}ga.prototype=new b5;ga.prototype.Mv=function(e,A){var a=ho.Yf(e,A);
if(a!=null)this.od.z(a);if(A==ac._x){this.aoV=[];this.a3V=[];if(this.jG)this.z(this.Zg,this.b(),this.jG)}this.w7=e;
this.Iy.Mv(e,A);this.dv.Mv(e,A)};ga.prototype.f=function(){this.Na.textContent=i1.get(this.lI)+": ";
this.c3.f();this.mT.f();this.Iy.f();this.dv.f()};ga.prototype.Xf=function(e){var A=e.currentTarget;if(A==this.c3){var a=this.c3.b(),p={$e:a,yJ:this.jG[a]};
if(a>0&&p.yJ==null)p.yJ=JSON.parse(JSON.stringify(iF.o5[a-1]));if(this.jG)this.z(this.Zg,p,this.jG)}if(A==this.od)this.mT.Ti(A.b());
this.S(new k4(t.E.A,!1))};ga.prototype.ZA=function(e){if(B.ND(this._s.e))return;e.stopPropagation();
var A=this.T.getBoundingClientRect(),a=new k4(t.E.L,!0);a.data={d:t.c.OY,U7:this._s,x:A.left,y:A.top+A.height+4};
this.S(a)};ga.prototype.z=function(e,A,a){this.jG=a;this.Zg=e;var p=[[13,1,0],[13,0],[12,37],[12,62]],N=this.aoV,i=this.a3V,Z=!1,S;
for(var c=0;c<4;c++){var s={$e:c,yJ:a[c]},D=ga.a9v(s);if(i[c]==D)continue;Z=!0;var n=ga.alE(null,s,this.w7,this.Zg,22,22,!1);
N[c]="<img width=\"22\" height=\"22\" src=\""+n+"\" />";i[c]=D}if(Z)this.c3.z8(N,p);this.c3.z(A.$e);
var D=ga.a9v(A);if(D!=this.acV)ga.alE(this.Ae,A,this.w7,this.Zg,30,23,!0);this.acV=D;var F=A.$e;if(F==0){S=this.akm}if(F==1){this.mT.z(A.yJ.Clr.v);
S=this.kb}if(F==2){this.Iy.update(e,A.yJ);S=this.vN}if(F==3){this.dv.update(e,A.yJ);S=this.oL}if(S!=this.wb){if(this.wb!=null){this._s.e.removeChild(this.wb)}this._s.e.appendChild(S);
this.wb=S}};ga.prototype.b=function(){var e={$e:this.c3.b()};if(e.$e==1){e.yJ=JSON.parse(JSON.stringify(iF.o5[0]));
e.yJ.Clr.v=this.mT.b()}if(e.$e==2){e.yJ=this.Iy.b()}if(e.$e==3){e.yJ=this.dv.b()}return e};ga.a9v=function(e){var A=e.$e,a=e.yJ,p="empty";
if(A==1){p=j.M.kq(a.Clr.v);p=p.o+","+p.J+","+p.k}if(A==2)p=JSON.stringify(a.Grad.v);if(A==3)p=a.Ptrn.v.Idnt.v;
return p};ga.alE=function(e,A,a,p,N,i,Z){if(e==null)e=ga.Ae;var s=Math.floor(N*B.V()),D=Math.floor(i*B.V()),n=e.canvas,S;
n.width=s;n.height=D;B.JK(n,s,D);var F=A.$e;if(F==0){e.fillStyle="#ffffff";e.fillRect(0,0,s,D);e.strokeStyle="#ff0000";
e.lineWidth=2;e.moveTo(0,0);e.lineTo(s,D);e.moveTo(0,D);e.lineTo(s,0);e.stroke()}if(F==1){var $=A.yJ.Clr.v;
$=j.M.kq($);e.fillStyle="#"+j.yj($.o<<16|$.J<<8|$.k);e.fillRect(0,0,s,D)}if(F==2){q.Q$.HF(A.yJ.Grad.v,s,D,0,a.lM,a.dG,e)}if(F==3){var m=A.yJ.Ptrn.v,J;
if(p!=null)J=b6.La(m,p.add.Patt);if(J==null)J=b6.La(m,a.px);bx.HF(J,s,D,n)}if(Z){e.beginPath();e.strokeStyle="#000000";
e.fillStyle="#ffffff";e.lineWidth=2;var w=s*.7,f=Math.floor(D*.7),b=7*B.V();e.moveTo(w,f);e.lineTo(w+b,f);
e.lineTo(w+b/2,f+b/2);e.closePath();e.stroke();e.fill()}if(e==ga.Ae)return n.toDataURL()};ga.Ae=B.t("canvas").getContext("2d");
function bx(e){jz.call(this,e,!1,"patternbutton",18,10,ac._x);this.up=null}bx.prototype=new jz;bx.prototype.EY=function(e){var A=this._1[this.A4.b()];
this.Nh={classID:"Ptrn",Nm:{t:"TEXT",v:A.name},Idnt:{t:"TEXT",v:A.id}};this.S(new k4(t.E.A));this.Ra()};
bx.prototype.lF=function(){if(!this.Gp)return;var e=this._1,A=Math.floor(34*B.V()),a=Math.floor(34*B.V()),p=[],N=[];
for(var c=0;c<e.length;c++){p.push(bx.HF(e[c],A,a));N.push(e[c].name)}this.A4.q0(p,N,A,a);this.Gp=!1};
bx.prototype.z=function(e,A){if(this.Nh&&e.Idnt.v==this.Nh.Idnt.v)return;this.Nh=JSON.parse(JSON.stringify(e));
this.Ra(A)};bx.prototype.b=function(){return JSON.parse(JSON.stringify(this.Nh))};bx.prototype.Fg=function(){return this.up?[this.up]:[]};
bx.prototype.Ra=function(e){var A=Math.floor(50*B.V()),a=Math.floor(50*B.V()),p;if(e!=null)p=b6.La(this.Nh,e.add.Patt);
if(p==null)p=b6.La(this.Nh,this._1);this.up=p;var N=bx.HF(p,A,a);this.TJ.setAttribute("src",N);B.JK(this.TJ,A,a)};
bx.T=B.t("canvas","");bx.HF=function(e,A,a,p){if(p==null)p=bx.T;var N=p.getContext("2d");p.width=A;p.height=a;
if(e){var i=e._q[1],Z=i.m,s=i.n,D=e._q[0],n=Math.min(A/Z,a/s),S=n;if(S*Z<2)S=2/Z;var F=n;if(F*s<2)F=2/s;
var $=q.BD.xM([D,i],new bj(S,0,0,F,0,0),S>2),m=$.rect.m,J=$.rect.n,w=N.createImageData(m,J);j.GZ($.buffer,w.data);
N.putImageData(w,Math.floor((A-m)/2),Math.floor((a-J)/2))}return p.toDataURL()};function e4(e,A,a){if(A==null)A=24.2;
if(a==null)a=17;jz.call(this,e,!1,"patternbutton",A,a,ac.nn);this.jj=""}e4.prototype=new jz;e4.prototype.EY=function(e){this.Nh=JSON.parse(JSON.stringify(this._1[0][this.A4.b()[0]]));
this.S(new k4(t.E.A))};e4.prototype.lF=function(){var e=this._1;if(e==null||!this.Gp)return;var A=Math.floor(50*B.V()),a=Math.floor(50*B.V()),p=[],N=[];
for(var c=0;c<e[0].length;c++){p.push(e4.HF(this._1[0][c].gP,A,a,this._1[1]));N.push(e[0][c].Ms.Nm.v.split("=").pop())}this.A4.q0(p,N,A,a);
this.Gp=!1};e4.prototype.z=function(e,A,a,p){var N=JSON.stringify(e.gP)+","+a+","+p;if(this.jj!=N){this.jj=N;
this.Nh=JSON.parse(JSON.stringify(e));this.Ra(A,a,p)}};e4.prototype.b=function(){return JSON.parse(JSON.stringify(this.Nh))};
e4.prototype.Ra=function(e,A,a){var p=Math.floor(68*B.V()),N=Math.floor(68*B.V()),i=e4.HF(this.Nh.gP,p,N,e?e:this._1[1],A,a);
this.TJ.setAttribute("src",i);B.JK(this.TJ,p,N)};e4.HF=function(e,A,a,p,N,i){var Z=new ar;Z.m=A;Z.n=a;
Z.buffer=j.Q(A*a*4);Z.add.Patt=p;Z.Zn(N==null?90:N);Z.qt(i==null?30:i);var s=new dE(0,0,Math.round(A*.5),Math.round(a*.5));
s.x=Math.round((A-s.m)/2);s.y=Math.round((a-s.n)/2);var D=Z.Uo();D.rect=s;D.buffer=j.Q(s.O()*4);j.fV(D.buffer,4284045657);
b6.avS(e,D,.5*100);Z.B.push(D);Z.WF();Z.U();var n=fG.Jg;fG.Jg=!1;Z.HD();var S=Z.WR();fG.Jg=n;var F=fI.di(S.buffer,Z.m,Z.n);
return F};function eM(e){jz.call(this,null,!1,"tpresetbutton",18,24,ac.Nb,!0);B.Xi(this.e,"fitem");this.A4.rE(1);
this.id=e;this.Ra();this.d.style.overflow="hidden";this.bR=new ie([15,7,9]);this.bR.z(!0);this.bR.h(t.E.A,this.adF,this);
this.Ub.appendChild(this.bR.e)}eM.prototype=new jz;eM.prototype.awx=function(e){if(this.id==e)return;
this.id=e;this.mb(this._1)};eM.prototype.EY=function(e){var A=this._1[this.A4.b()],a=new k4(t.E.L,!0);
a.data={d:t.c.iK,Z7:"set",hP:ac.Nb,j$:A};this.S(a)};eM.prototype.f=function(){jz.prototype.f.call(this);
this.bR.f()};eM.prototype.adF=function(){this.Gp=!0;this.lF()};eM.prototype.lF=function(){if(!this.Gp)return;
var e=Math.floor(16*B.V()),A=Math.floor(16*B.V()),a=[],p=[],N=this._1,i=this.bR.b();for(var c=0;c<N.length;
c++){var Z=q.a6S(N[c]);if(!i||Z==this.id){p.push(N[c][0]?N[c][0].split("=").pop():"");a.push(Z==-1?"":PIMG[q.PS[Z][0]])}else{a.push(null);
p.push(null)}}this.A4.q0(a,p,e,A);this.Gp=!1};eM.prototype.Ra=function(){var e=this.TJ;e.setAttribute("src",PIMG[q.PS[this.id][0]]);
B.LM(e,"toolicon")};eM.prototype.Fg=function(){return null};eM._N={};eM.HF=function(e,A,a){var p=eM.Ae,N=eM._N,i=j.yj(e.o<<16|e.J<<8|e.k);
if(N[i])return N[i];if(p==null){var Z=B.t("canvas");p=eM.Ae=Z.getContext("2d")}var Z=p.canvas;Z.width=A;
Z.height=a;p.fillStyle="#"+i;p.fillRect(0,0,A,a);var s=N[i]=Z.toDataURL();return s};function hB(e,A,a){b5.call(this);
this.e=B.t("span","fitem curveeditor");this.gK=null;this.a4B=0;this.Pt="";this.mode=0;this.Zt=e;this.at$=A;
this.acb=a;this.IK=null;this.HE=null;this.aaD=0;this.a3o=0;this.D_=new k7;this.Ow=this.p4.bind(this);
this.K4=this.g6.bind(this);this.sG=256;this.T=B.t("canvas");this.Ae=this.T.getContext("2d");B.Ig(this.T);
this.e.appendChild(this.T);this.YQ(256,256);B.V3(this.T,this.np.bind(this));this.coords=B.t("div");this.coords.setAttribute("style","width:250px");
this.e.appendChild(this.coords);var p=this.E0=a?100:255,N=null;this.dj=new g0("X (in)",0,p,N,0,!1,!0);
this.Yb=new g0("Y (out)",0,p,N,0,!1,!0);this.iT=new ie([19,3,0]);this.dj.h(t.E.A,this.gL,this);this.Yb.h(t.E.A,this.gL,this);
this.iT.h(t.E.A,this.gL,this);this.coords.appendChild(this.dj.e);if(a)this.coords.appendChild(this.iT.e);
this.coords.appendChild(this.Yb.e)}hB.prototype=new b5;hB.prototype.f=function(){this.iT.f();this.dj.f();
this.Yb.f()};hB.prototype.YQ=function(e,A){this.sG=Math.round(e);this.Ae.resetTransform();B.ql(this.T,this.sG,this.sG,this.Ae);
this.Ae.scale(this.sG/256,this.sG/256);if(this.IK)this.fE()};hB.prototype.gL=function(e){var c=this.ayO(),A=this.IK[c],a=255/this.E0;
A.v.Hrzn.v=this.dj.b()*a;A.v.Vrtc.v=this.Yb.b()*a;if(this.acb)A.v.Cnty.v=this.iT.b();this.IK.sort(function(p,N){return p.v.Hrzn.v-N.v.Hrzn.v});
this.fE();this.S(new k4(t.E.A))};hB.prototype.z=function(e,c){var A=JSON.stringify(e);if(A==JSON.stringify(this.IK))return;
this.mode=e.length==256?1:0;this.IK=JSON.parse(A);if(c!=null)this.HE=this.IK[c];this.fE()};hB.prototype.TH=function(e,A,a){this.gK=e;
this.a4B=A;this.Pt=a;this.fE()};hB.prototype.b=function(){return JSON.parse(JSON.stringify(this.IK))};
hB.prototype.ayO=function(){return this.IK.indexOf(this.HE)};hB.prototype.np=function(e){var A=256/this.sG,a=B.vT(e,this.T);
a.x*=A;a.y*=A;var p=a.x,N=256-a.y;if(this.Zt){var i=p;p=256-N;N=i}this.D_.rq(p,N);if(this.mode==0){var Z=0,s=1e9,$;
for(var c=0;c<this.IK.length;c++){var D=this.IK[c].v,n=D.Hrzn.v-p,S=D.Vrtc.v-N,F=Math.sqrt(n*n+S*S);
if(F<s){s=F;Z=c}}if(s<15)$=this.IK[Z];else{$=j.Gh.Q3(p,N,!0);this.IK.push($);this.IK.sort(function(m,J){return m.v.Hrzn.v-J.v.Hrzn.v})}this.HE=$;
this.a3o=this.IK.slice(0)}B.iv(document.body,this.Ow);B.xq(document.body,this.K4);this.p4(e)};hB.prototype.p4=function(e){var A=256/this.sG,a=B.vT(e,this.T);
a.x*=A;a.y*=A;var p=a.x,N=256-a.y;if(this.Zt){var i=p;p=256-N;N=i}if(this.mode==0){var Z=this.IK,s=this.HE,D=this.a3o,n=D.indexOf(s),S=Z.indexOf(s)!=-1,F=D.length-1,$=p;
if(n==0){$=Math.max(0,Math.min(D[1].v.Hrzn.v-1,p))}else if(n==F){$=Math.min(255,Math.max(D[F-1].v.Hrzn.v+1,p))}else{var m=p<0||p>255||N<0||N>255;
if(p<=D[n-1].v.Hrzn.v||p>=D[n+1].v.Hrzn.v)m=!0;if(!m&&!S)Z.splice(n,0,s);if(m&&S)Z.splice(n,1)}if(this.at$&&(n==0||n==D.length-1)){}else s.v.Hrzn.v=Math.round($);
s.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(N)))}else{p=Math.round(p);N=Math.round(N);p=Math.max(0,Math.min(255,p));
N=Math.max(0,Math.min(255,N));var J=this.D_.x,w=p,f=this.D_.y,b=N;if(p<this.D_.x){w=J;J=p;b=f;f=N}this.IK[p]=N;
if(J!=w)for(var L=J;L<=w;L++)this.IK[L]=Math.round(f+(L-J)*(b-f)/(w-J))}this.D_.rq(p,N);this.fE();this.S(new k4(t.E.A))};
hB.prototype.g6=function(e){B.Dq(document.body,this.Ow);B.Y8(document.body,this.K4);this.S(new k4(t.E.A))};
hB.prototype.fE=function(){var e=this.Ae,A=this.T;e.fillStyle="#ffffff";e.fillRect(0,0,256,256);var a=256/A.width;
if(this.gK){e.save();e.translate(0,256);e.scale(1,-1);eW.a9E(e,this.gK,5700/this.a4B,this.Pt);e.restore()}e.strokeStyle="#aaaaaa";
e.lineWidth=1*a;e.beginPath();for(var c=1;c<4;c++){var p=(Math.floor(64*c/a)+.5)*a;e.moveTo(0,p);e.lineTo(255,p);
e.moveTo(p,0);e.lineTo(p,255)}e.stroke();if(this.Zt){e.save();e.transform(0,1,-1,0,256,0)}if(this.mode==0){var N=this.IK,i=j.Gh._I(N,256);
e.strokeStyle="#000000";e.beginPath();e.moveTo(0,255.5-i[0]);for(var c=0;c<256;c++)e.lineTo(c,255.5-i[c]);
e.stroke();e.lineWidth=2*a;for(var c=0;c<N.length;c++){var Z=N[c].v;e.fillStyle=this.HE==N[c]?"#333":"#fff";
e.beginPath();e.moveTo(Z.Hrzn.v,255.5-Z.Vrtc.v);e.arc(Z.Hrzn.v,255.5-Z.Vrtc.v,5*a,0,2*Math.PI);e.stroke();
e.fill()}}else{var i=this.IK;e.strokeStyle="#000000";e.beginPath();e.moveTo(0,255.5-i[0]);for(var c=0;
c<256;c++)e.lineTo(c,255.5-i[c]);e.stroke()}if(this.Zt)e.restore();var c=this.ayO();this.coords.className=c==-1?"disabled":"";
if(c==-1)return;var Z=this.IK[c].v,s=255/this.E0;this.dj.z(Math.round(Z.Hrzn.v/s));this.Yb.z(Math.round(Z.Vrtc.v/s));
if(Z.Cnty)this.iT.z(Z.Cnty.v)};function eW(e,A){b5.call(this);this.e=B.t("span","");this.tn=new el([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.tn.h(t.E.A,this.Se,this);this.e.appendChild(this.tn.e);B.jA(this.e);var a=B.t("div");this.e.appendChild(a);
a.setAttribute("style","background-color: var(--bg-canvas); margin:6px 0;");this.T=B.t("canvas");var p=this.T;
a.appendChild(p);p.width=Math.round(e*B.V());p.height=Math.round(100*B.V());B.JK(p,p.width,p.height);
p.style.display="block";this.Ae=p.getContext("2d");this.gK=null;this.cI=0;this.aa0=null;this.anl=[];
this.$U=[];var N=["Mean:","Pixels:"],i=this.e;if(A)for(var c=0;c<N.length;c++){var Z=new bQ(N[c]);this.anl.push(Z);
i.appendChild(Z.e);var s=new bQ("hi");this.$U.push(s);i.appendChild(s.e);B.jA(i)}}eW.prototype=new b5;
eW.prototype.f=function(){this.tn.f()};eW.prototype.rE=function(e){this.tn.z(e);this.Se()};eW.prototype.z=function(e,A){this.gK=e;
this.aa0=A;this.Se()};eW.prototype.Ti=function(e){if(e==this.cI)return;this.cI=e;this.Se()};eW.prototype.Se=function(){if(this.gK==null)return;
var e=this.T,A=this.Ae,a=this.gK,p=this.aa0,N=this.tn.b(),i=6e3/a[4],Z="#"+j.yj(this.cI),s=eW.a9E;e.width=e.width;
A.setTransform(e.width/256,0,0,-e.height/100,0,e.height);A.globalCompositeOperation="lighter";if(N==0)s(A,a[0],i/3,Z);
else if(N<4)s(A,a[N],i,Z);else{s(A,a[1],i,"#ff0000");s(A,a[2],i,"#00ff00");s(A,a[3],i,"#0000ff")}A.setTransform(1,0,0,1,0,0);
if(p!=null){if(N==4)N=0;var D=0;for(var c=0;c<256;c++)D+=c*a[N][c];if(N==0)D/=3;this.$U[0].z((D/p).toFixed(1)+"");
this.$U[1].z(p+"")}};eW.a9E=function(e,A,a,p){e.beginPath();e.moveTo(0,0);for(var N=0;N<256;N++)e.lineTo(N,A[N]*a);
e.lineTo(256,0);e.closePath();e.fillStyle=p;e.fill()};function dZ(e,A){b5.call(this);this.Bw={o:0,J:0,k:0};
if(Math.abs(e-256/B.V())<10)e=256/B.V();var a=this.e=B.t("div","flexrow");a.style.position="relative";
var p=this.akV=B.t("div");a.appendChild(p);this.Pz=new k7;this.be=new k7;this.em=this.abl.bind(this);
this.pQ=this.aiZ.bind(this);this.T=B.t("canvas","");this.Ae=this.T.getContext("2d");this.T.width=this.T.height=256;
this.atW=this.Ae.getImageData(0,0,256,256);this.a7i=-1;this.avB="";B.Ig(this.T);B.V3(this.T,this.axH.bind(this));
p.appendChild(this.T);this.ayY=this.asQ.bind(this);this.a9C=this.azi.bind(this);this.Uq=B.t("canvas","");
this.zB=this.Uq.getContext("2d");this.Uq.width=20;this.Uq.height=256;this.asa=this.zB.getImageData(0,0,20,256);
dZ.acS(this.asa.data,20,256);B.Ig(this.Uq);B.V3(this.Uq,this.arv.bind(this));a.appendChild(this.Uq);
this.T.setAttribute("style","width:"+e+"px; height:"+e+"px");this.Uq.setAttribute("style","width:16px; height:"+e+"px");
this.LF=new ie("Web Colors\u2001");this.LF.h(t.E.A,this.update,this);this.oJ=new ie("CMYK gamut");this.oJ.h(t.E.A,this.update,this);
if(A){B.jA(p);p.appendChild(this.LF.e);p.appendChild(this.oJ.e)}var N=this.Qp=document.createElementNS("http://www.w3.org/2000/svg","svg");
a.appendChild(N)}dZ.prototype=new b5;dZ.prototype.YQ=function(e,A){this.T.style.width=this.akV.style.width=e-16+"px"};
dZ.prototype.z=function(e){if(this.LF.b()){var A=JSON.parse(JSON.stringify(e));dZ.eo(A);var a=this.b();
if(A.o==a.o&&A.J==a.J&&A.k==a.k)e=this.Bw}this.Bw=e;this.update()};dZ.prototype.b=function(){var e=JSON.parse(JSON.stringify(this.Bw));
if(this.LF.b())dZ.eo(e);return e};dZ.prototype.update=function(){var e=this.Bw,A=j.RR(e.o,e.J,e.k),s=18;
if(A.HG==0)A.PV=this.Pz.x/255;if(A.PV==0||A.HG==0)A.Ps=(255-this.cm(this.be.y))/255;if(A.HG!=0)this.Pz.x=A.PV*255;
this.Pz.y=(1-A.HG)*255;this.be.y=(1-A.Ps)*255;var a=this.atW,p=this.LF.b(),N=this.oJ.b(),i=p+","+N;if(Math.abs(A.Ps-this.a7i)>.002||this.avB!=i){this.a6F(a.data,256,256,A.Ps,p,N);
this.a7i=A.Ps;this.avB=i}var Z=this.Ae;Z.putImageData(a,0,0);a=this.asa;Z=this.zB;Z.putImageData(a,0,0);
Z.strokeStyle="#ffffff";Z.beginPath();Z.moveTo(0,this.be.y);Z.lineTo(20,this.be.y);Z.lineWidth=2;Z.stroke();
var D=this.Pz.y/255,n=parseFloat(this.T.style.width),S=parseFloat(this.T.style.height),F=this.Qp;F.setAttribute("width",s);
F.setAttribute("height",s);var $=Math.round(e.o*255)<<16|Math.round(e.J*255)<<8|Math.round(e.k*255),m="<circle cx=\""+s/2+"\" cy=\""+s/2+"\" r=\""+s/2+"\" fill=\"#"+j.yj($)+"\"></circle>";
m+="<circle cx=\""+s/2+"\" cy=\""+s/2+"\" r=\""+(-.5+s/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*D)+")\" stroke-width=\"1\"></circle>";
m+="<circle cx=\""+s/2+"\" cy=\""+s/2+"\" r=\""+(-1.2+s/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
F.innerHTML=m;F.style.pointerEvents="none";F.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
F.style.position="absolute";F.style.left=n*(this.Pz.x/255)-s/2+"px";F.style.top=S*(this.Pz.y/255)-s/2+"px"};
dZ.eo=function(e){e.o=~~(.5+e.o*5)*.2;e.J=~~(.5+e.J*5)*.2;e.k=~~(.5+e.k*5)*.2};dZ.prototype.a6F=function(e,A,a,p,N,i){var Z=1/A,s=1/a;
for(var D=0;D<a;D++)for(var n=0;n<A;n++){var S=j.BA(p,n*Z,(a-D-1)*s);if(N)dZ.eo(S);var c=D*A+n<<2;e[c+0]=~~(S.o*255);
e[c+1]=~~(S.J*255);e[c+2]=~~(S.k*255);e[c+3]=255}if(i){var F=e.slice(0),$=ar.LU[0],m=ar.LU[1];ICC.U.applyLUT(m,$,F,F);
for(var c=0;c<e.length;c+=4){var J=e[c]-F[c],w=e[c+1]-F[c+1],f=e[c+2]-F[c+2],b=J*J+w*w+f*f;if(b>300)e[c]=e[c+1]=e[c+2]=200}}};
dZ.acS=function(e,A,a,p,N){if(p==null)p=1;if(N==null)N=0;var i=new Uint32Array(e.buffer);for(var Z=0;
Z<a;Z++){var s=j.BA((1+p*(1-Z/a)+N)%1,1,1),D=255<<24|s.k*255<<16|s.J*255<<8|s.o*255;for(var n=0;n<A;
n++)i[Z*A+n]=D}};dZ.prototype.axH=function(e){B.iv(window,this.em);B.xq(window,this.pQ);this.abl(e);
this.Qp.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.Qp.style.transform="scale(2.4)"};
dZ.prototype.aiZ=function(e){B.Dq(window,this.em);B.Y8(window,this.pQ);this.Qp.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.Qp.style.transform="scale(1)"};dZ.prototype.abl=function(e){var A=B.vT(e,this.T);A.x=A.x*(256/parseFloat(this.T.style.width));
A.y=A.y*(256/parseFloat(this.T.style.height));this.Pz.rq(this.cm(A.x),this.cm(A.y));this.NJ()};dZ.prototype.NJ=function(){this.Bw=this.azK();
this.S(new k4(t.E.A))};dZ.prototype.azK=function(){var e=j.BA((255-this.cm(this.be.y))/255,this.lc(this.Pz.x/255),this.lc(1-this.Pz.y/255));
return{o:e.o,J:e.J,k:e.k}};dZ.prototype.arv=function(e){B.iv(window,this.ayY);B.xq(window,this.a9C);
this.asQ(e)};dZ.prototype.azi=function(e){B.Dq(window,this.ayY);B.Y8(window,this.a9C)};dZ.prototype.asQ=function(e){var A=B.vT(e,this.Uq);
A.y=A.y*(256/parseFloat(this.Uq.style.height));this.be.rq(this.cm(A.x),this.cm(A.y));this.NJ()};dZ.prototype.cm=function(e){return Math.max(0,Math.min(255,e))};
dZ.prototype.lc=function(e){return Math.max(0,Math.min(1,e))};function bM(e,A,a,p){var N=ah.xv(A,p);
ah.call(this,e,N,a)}bM.prototype=new ah;function aY(){b5.call(this);this.PC=null;this.LT=new aW;this.LT.h(t.E.A,this.ajw,this);
this.LT.parent=this;this.n5=new g0([12,14,0],1,150,"px",0,!0);this.n5.h(t.E.A,this.Zm,this);this.n5.parent=this;
this.Wk=new g0([16,0],.01,100,"px",2,!0,null,5);this.Wk.h(t.E.A,this.Zm,this);this.Wk.parent=this;this.NA=new ie("Auto");
this.NA.h(t.E.A,this.Zm,this);this.jE=new g0([16,1],-500,5e3,"%",0,!0);this.jE.h(t.E.A,this.Zm,this);
this.jE.parent=this;this.cg=new g0("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.cg.h(t.E.A,this.Zm,this);
this.cg.parent=this;this.c2=new g0("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.c2.h(t.E.A,this.Zm,this);
this.c2.parent=this;this.VF=new g0([16,2],-10,10,"px");this.VF.h(t.E.A,this.Zm,this);this.VF.parent=this;
this.L3=new dH(!0);this.L3.h(t.E.A,this.jJ,this);this.L3.parent=this;this.Eb=new dH(!0);this.Eb.h(t.E.A,this.jJ,this);
this.Eb.parent=this;this._7=new dH(!0);this._7.h(t.E.A,this.jJ,this);this._7.parent=this;this.nf=new dH(!0);
this.nf.h(t.E.A,this.jJ,this);this.nf.parent=this;this.t3=new ie([2,3]);this.t3.h(t.E.A,this.Zm,this);
this.rK=new ie([14,9]);this.rK.h(t.E.A,this.Zm,this);this.Mj=new ie([12,46]);this.Mj.h(t.E.A,this.Zm,this);
this.n3=new c$("...",null,null,!0);this.n3.e.style.marginLeft="-8px";B.V3(this.n3.e,this.ag3.bind(this));
this._s=new b5;var e=this._s.e=B.t("div","floatcont form"),N=100;this._s.parent=this;this.L5=new g0([12,41],1,20,"px",0,!0,!0);
this.L5.e.style.marginLeft="16px";this.L5.h(t.E.A,this.Zm,this);this.L5.parent=this._s;e.appendChild(this.Eb.e);
e.appendChild(this.t3.e);B.jA(this._s.e);e.appendChild(this._7.e);e.appendChild(this.rK.e);e.appendChild(this.L5.e);
B.jA(this._s.e);e.appendChild(this.nf.e);e.appendChild(this.Mj.e);this.LX=new c$("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.cA=new c$("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.mB=new c$("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.Kh=new c$("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.aI=new c$("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.RM=new c$("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.SJ=new c$("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.CZ=new c$("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var A=[this.LX,this.cA,this.mB,this.Kh,this.aI,this.RM,this.SJ,this.CZ];
for(var c=0;c<A.length;c++)A[c].h("click",this.ady,this);this.Qf=new c$("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.MA=new c$("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Ml=new c$("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.als=new c$("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aqO=new c$("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a4L=new c$("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.atn=new c$("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.U_=[this.Qf,this.MA,this.Ml,this.als,this.aqO,this.a4L,this.atn];for(var c=0;c<this.U_.length;c++)this.U_[c].h("click",this.Zm,this);
var a=["lind","rind","flind","bind","aind"],p=[];for(var c=0;c<5;c++)p.push("<img src=\""+PIMG["par/"+a[c]]+"\" class=\"autoscale gsicon\" /> ");
this.pA=new g0(p[0],-N,N,"px");this.Ui=new g0(p[1],-N,N,"px");this.Cc=new g0(p[2],-N,N,"px");this.ea=new g0(p[3],-N,N,"px");
this.Dd=new g0(p[4],-N,N,"px");this.qa=new ah([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);this.P3=new g0(["Auto VAR0",[16,0]],0,500,"%");
this.xm=[this.pA,this.Ui,this.Cc,this.ea,this.Dd,this.qa,this.P3];for(var c=0;c<this.xm.length;c++){var i=this.xm[c];
i.h(t.E.A,this.Zm,this);i.parent=this}}aY.prototype=new b5;aY.prototype.ag3=function(e){if(B.ND(this._s.e))return;
e.stopPropagation();var A=this.n3.e.getBoundingClientRect(),a=new k4(t.E.L,!0);a.data={d:t.c.OY,U7:this._s,x:A.left,y:A.top+A.height+4};
this.S(a)};aY.prototype.f=function(){this.LT.f();this.n5.f();this.Wk.f();this.jE.f();this.VF.f();this.cg.f();
this.c2.f();this.t3.f();this.rK.f();this.Mj.f();this.L5.f();for(var c=0;c<this.xm.length;c++)this.xm[c].f()};
aY.prototype.z=function(e,A,a){this.ZG=JSON.parse(JSON.stringify(e));var p=this.ZG,N=p.JH,i=p.Vx;this.LX.z(N.FauxBold!=null?N.FauxBold:!1);
this.cA.z(N.FauxItalic!=null?N.FauxItalic:!1);this.mB.z(N.FontCaps==2);this.Kh.z(N.FontCaps==1);this.RM.z(N.FontBaseline==1);
this.aI.z(N.FontBaseline==2);this.SJ.z(N.Underline);this.CZ.z(N.Strikethrough);this.LT.z(N.Font==null?null:p.eu[N.Font].Name,A,a);
var Z=N.FontSize==null?20:N.FontSize;this.n5.z(Z);var s=N.Tracking;this.jE.z(s==null?0:s);this.L5.z(N._LineWidth!=null?N._LineWidth:1);
this.Wk.z(N.Leading!=null&&N.Leading!=0?N.Leading:Z);this.NA.z(N.AutoLeading);this.cg.z((N.VerticalScale!=null?N.VerticalScale:0)*100);
this.c2.z((N.HorizontalScale!=null?N.HorizontalScale:0)*100);this.VF.z(N.BaselineShift!=null?N.BaselineShift:0);
this.t3.z(N.FillFlag!=null?N.FillFlag:!1);this.rK.z(N.StrokeFlag!=null?N.StrokeFlag:!1);this.Mj.z(N._FillBackgroundFlag!=null?N._FillBackgroundFlag:!1);
this.LC(N.FillColor,this.L3);this.LC(N.FillColor,this.Eb);this.LC(N.StrokeColor,this._7);this.LC(N._FillBackgroundColor,this.nf);
var D=i._Direction!=null?i._Direction:0,n=eG.i8(i);for(var c=0;c<this.U_.length;c++)this.U_[c].z(n==c);
this.qa.z(D);this.P3.z((i.AutoLeading!=null?i.AutoLeading:1.2)*100);this.pA.z(i.StartIndent!=null?i.StartIndent:0);
this.Ui.z(i.EndIndent!=null?i.EndIndent:0);this.Cc.z(i.FirstLineIndent!=null?i.FirstLineIndent:0);this.ea.z(i.SpaceBefore!=null?i.SpaceBefore:0);
this.Dd.z(i.SpaceAfter!=null?i.SpaceAfter:0)};aY.prototype.LC=function(e,A){if(e){var a=eG.kq(e);A.Ti(Math.round(a.o)<<16|Math.round(a.J)<<8|Math.round(a.k))}else A.Ti(0)};
aY.prototype.$T=function(){var e=new k4(t.E.L,!0);e.data={d:t.c.iK,hP:ac.yq,ZG:this.ZG};this.S(e);var e=new k4(t.E.v,!0);
e.G=q.L1;e.data={d:"updateStyles"};this.S(e)};aY.prototype.ady=function(e){var A=this.ZG.JH,a=e.target,p=!a.fY();
if(a==this.LX)A.FauxBold=p;if(a==this.cA)A.FauxItalic=p;if(a==this.mB)A.FontCaps=p?2:0;if(a==this.Kh)A.FontCaps=p?1:0;
if(a==this.RM)A.FontBaseline=p?1:0;if(a==this.aI)A.FontBaseline=p?2:0;if(a==this.SJ)A.Underline=p;if(a==this.CZ)A.Strikethrough=p;
this.$T()};aY.prototype.Zm=function(e){var A=this.ZG.JH,a=this.ZG.Vx,p=e.target;if(p==this.jE){var N=this.jE.b();
A.Tracking=N}if(p==this.Wk){A.AutoLeading=!1;A.Leading=this.Wk.b()}if(p==this.NA){A.AutoLeading=this.NA.b()}if(p==this.L5)A._LineWidth=p.b();
if(p==this.n5)A.FontSize=p.b();if(p==this.cg)A.VerticalScale=p.b()/100;if(p==this.c2)A.HorizontalScale=p.b()/100;
if(p==this.VF)A.BaselineShift=p.b();if(p==this.t3)A.FillFlag=p.b();if(p==this.rK)A.StrokeFlag=p.b();
if(p==this.Mj)A._FillBackgroundFlag=p.b();if(this.U_.indexOf(p)!=-1){a.Justification=eG.i8(a,this.U_.indexOf(p))}if(p==this.pA)a.StartIndent=p.b();
if(p==this.Ui)a.EndIndent=p.b();if(p==this.Cc)a.FirstLineIndent=p.b();if(p==this.ea)a.SpaceBefore=p.b();
if(p==this.Dd)a.SpaceAfter=p.b();if(p==this.qa)a._Direction=p.b();if(p==this.P3)a.AutoLeading=p.b()/100;
this.$T()};aY.prototype.ajw=function(e){var A=this.ZG,a=this.LT.b(),p=-1;for(var c=0;c<A.eu.length;c++)if(A.eu[c].Name==a)p=c;
if(p==-1){p=A.eu.length;var N=JSON.parse(JSON.stringify(A.eu[0]));N.Name=a;A.eu.splice(p,0,N)}A.JH.Font=p;
this.$T()};aY.prototype.jJ=function(e){var A=e.target,a=A.azN(),p={Type:1,Values:[1,(a>>16&255)/255,(a>>8&255)/255,(a>>0&255)/255]};
for(var c=0;c<4;c++)p.Values[c]=Math.round(p.Values[c]*1e3)/1e3;var N=A==this.L3||A==this.Eb?0:A==this._7?1:2;
this.ZG.JH[["FillColor","StrokeColor","_FillBackgroundColor"][N]]=p;this.$T()};function aW(){b5.call(this);
this.e=B.t("span","fontinput");this.o2=null;this.hx=null;this.mO=null;this.Bc="";this.KV={};this.XR=[];
this.zH={};this.awD={};this.zx=[];this.tf=!1;this.D4=B.t("button","fitem");this.D4.setAttribute("style","width:9em;");
this.D4.textContent="Family Name \u25BC";this.e.appendChild(this.D4);B.V3(this.D4,this.a4a.bind(this));
this.Vs=new b5;this.Vs.parent=this;var e=this.Vs.e=B.t("div","floatcont");e.style.padding="7px 7px 3px 7px";
var A=new bQ("Recent");e.appendChild(A.e);var a=this.a0L=new c$([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
a.h("click",this.alA,this);a.e.style.float="right";e.appendChild(a.e);B.jA(e);this.Al=B.t("span","fitem imageset scrollable");
this.Al.style.maxHeight="8em";e.appendChild(this.Al);var p=B.t("div","form");this.Vs.e.appendChild(p);
this.d6=new c$(B.iE("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.d6.h("click",this.arL,this);
p.appendChild(this.d6.e);this.CJ=new fp([12,86],null,7.5);this.CJ.h("input",this.Rx,this);p.appendChild(this.CJ.e);
this.YD=new dM(6.8,"\u2630");p.appendChild(this.YD.e);this.YD.parent=this.Vs;this.YD.h(t.E.A,this.pJ,this);
this.YD.e.style.float="right";this.YD.e.style.marginRight="0";this.X8=B.t("span","fitem imageset scrollable");
this.X8.style.height="30em";this.Vs.e.appendChild(this.X8);this.X8.addEventListener("scroll",this.a57.bind(this),!1);
this.ZP=B.t("button","fitem");this.ZP.setAttribute("style","width:7em;");this.ZP.textContent="SubFamily Name \u25BC";
this.e.appendChild(this.ZP);B.V3(this.ZP,this.a4a.bind(this));this.Yx=new b5;this.Yx.parent=this;this.Yx.e=B.t("div","floatcont");
this.Qc=B.t("span","fitem imageset scrollable");this.Yx.e.appendChild(this.Qc);this.abQ=this.anA.bind(this);
this.ap9=this.aaC.bind(this)}aW.prototype=new b5;aW.prototype.a57=function(e){var A=this.X8.scrollTop,a=this.XR,p=Math.floor(A/27),N=Math.min(p+20,a.length);
for(var c=p;c<N;c++)this.a01(a[c])};aW.prototype.alA=function(){var e=new k4(t.E.L,!0);e.data={d:t.c.hy,a1E:".otf,.ttf,.ttc"};
this.S(e)};aW.prototype.f=function(){this.YD.f();this.a0L.f();this.d6.WI(B.iE("tools/cshape",null,"autoscale"))};
aW.prototype.arL=function(e){this.d6.z(!this.d6.fY());this.pJ()};aW.prototype.Rx=function(e){this.Bc=this.CJ.b().toLowerCase();
this.pJ()};aW.prototype.a4a=function(e){B.aL(e);var A=e.currentTarget,a=A.getBoundingClientRect(),p=A==this.D4,N=p?this.Vs:this.Yx;
if(B.ND(N.e)){this.a0m(N);return}if(!p&&this.o2.ee()[this.mO]==null)return;var i=new k4(t.E.L,!0);i.data={d:t.c.OY,U7:N,x:a.left,y:a.top+a.height};
this.S(i);if(p){this.pJ(null,!0)}};aW.prototype.anA=function(e){var A=e.currentTarget.firstChild.nextSibling.textContent;
if(e.target.tagName.toLowerCase()=="button"){var a=this.hx.slice(0),p=a.indexOf(A);if(p==-1){a=a.slice(Math.max(0,a.length-29));
a.push(A)}else a.splice(p,1);var N=new k4(t.E.L,!0);N.data={d:t.c.iK,hP:ac.UN,pL:a};this.S(N);this.tf=!0;
this.pJ()}else{this.a3Y(A,null)}};aW.prototype.aaC=function(e){this.a3Y(null,e.currentTarget.firstChild.textContent)};
aW.prototype.a3Y=function(e,A){var a=e==null?this.Yx:this.Vs,p=this.o2;if(e==null)e=p.ee()[this.mO][0];
else{var N=p.Cx(e),i=p.ee()[this.mO];A=fZ.UR(N,i?i[1]:"regular")}var Z=p.l3(e,A)[2];this.z(Z,p);this.S(new k4(t.E.A,!1));
this.a0m(a);this.pJ()};aW.prototype.a0m=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.vo,U7:e};this.S(A)};
aW.prototype.b=function(){return this.mO};aW.prototype.z=function(e,A,a){var p=this.o2;if(e!=null)this.mO=e;
else e=this.mO;this.o2=A;this.hx=a;if(e!=null){var N=A.ee()[e],i,Z;if(N==null){i="- "+e;Z="-------"}else{i=N[0];
Z=N[1];var s=this.zx;for(var c=0;c<s.length;c++)if(s[c][0][0]==i)s.splice(c,1);s.push([N,Date.now()]);
s.sort(function(F,$){return $[1]-F[1]});s=s.slice(0,10);B.XK(this.Al);for(var c=1;c<s.length;c++){var D=s[c][0],n=this.CB(D,!0);
this.nk(n,D,!0);this.Al.appendChild(n)}var S=A.Cx(i);S.sort(fZ.ajU);this.Qc.textContent="";for(var c=0;
c<S.length;c++){var N=A.l3(i,S[c]);if(!this.YD._G(N))continue;var n=this.CB(N,!1);this.Qc.appendChild(n)}}this.D4.textContent=i.substring(0,15)+" \u25BC";
this.D4.setAttribute("title",i+", \""+e+"\"");this.ZP.textContent=Z.substring(0,10)+" \u25BC";this.ZP.setAttribute("title",Z)}};
aW.prototype.pJ=function(e,A){var a=this.o2.ee()[this.mO],p=this.hx,N=this.o2.Vm();this.XR=[];for(var i in N){var Z=p.indexOf(i)!=-1,s=this.o2.Cx(i),D=!1;
for(var c=0;c<s.length;c++){var n=this.o2.l3(i,s[c]),S=!0;if(this.Bc.length>0&&n[0].toLowerCase().indexOf(this.Bc)==-1)S=!1;
else if(!this.YD._G(n))S=!1;else if(this.d6.fY()&&!Z)S=!1;if(S)D=!0}var F=this.KV[i];if(F==null){var $=fZ.UR(N[i],"regular"),m=this.o2.l3(i,$),F=this.CB(m,!0);
this.KV[i]=F;this.X8.appendChild(F);this.zH[i]="[true,false,false]"}if(D)this.XR.push(i);var J=a!=null&&a[0]==i;
this.awD[i]="["+D+","+J+","+Z+"]";if(!A)this.a01(i)}if(a&&!this.tf){var w=this.KV[a[0]];this.X8.scrollTop=w.offsetTop-210}this.a57();
this.tf=!1};aW.prototype.a01=function(e){var A=this.KV[e];if(A.firstChild==null){var a=this.o2.Vm(),p=fZ.UR(a[e],"regular"),N=this.o2.l3(e,p);
this.nk(A,N,!0)}var i=this.zH[e],Z=this.awD[e];if(i==Z)return;var s=JSON.parse(i),D=JSON.parse(Z);if(s[0]!=D[0]||s[1]!=D[1]){var n=D[0]?"":"display:none; ";
if(D[1])n+="background-color:rgba(0,0,0,0.13);";A.setAttribute("style",n)}if(s[2]!=D[2])A.firstChild.setAttribute("style","opacity: "+(D[2]?"1":"0.2"));
this.zH[e]=Z};aW.prototype.CB=function(e,A){var a=B.t("div","fontitem");if(!A)this.nk(a,e,A);return a};
aW.prototype.nk=function(e,A,a){var p=A[a?0:1],N=a?this.abQ:this.ap9,D="";e.addEventListener("click",N,!1);
if(a)e.appendChild(B.t("button","star"));var i=B.t("span","label");i.setAttribute("title",p);i.textContent=p;
e.appendChild(i);var Z=B.V(),s=1/Z,n=fZ.ua*s,S=fZ.s0*s;if(1<Z&&Z<1.5)D="width:"+n+"px; height:"+S+"px;";
var F=B.t("span","thumb gsicon");if(A.a5R){D+="background: url("+A.a5R+");";if(1<Z&&Z<1.5)D+="background-size: "+n+"px "+S+"px;"}else{var $=Math.ceil(FNTS.list.length/fZ.cols),m=Math.floor(A.g2/$),J=A.g2%$,w=m*fZ.ua,f=J*fZ.s0;
if(1<Z&&Z<1.5){D+="background-size: "+fZ.cols*n+"px "+$*S+"px;";w*=s;f*=s}D+="background-position:-"+w+"px -"+f+"px;"}F.setAttribute("style",D);
e.appendChild(F)};function dM(e,A){b5.call(this);this.e=B.t("button","fitem bbtn");this.e.addEventListener("click",this.aoQ.bind(this),!1);
this._s=new b5;this._s.e=B.t("div","floatcont");this._s.parent=this;this.Q5=B.t("div","flexrow");this._s.e.appendChild(this.Q5);
this.sq=A;this.X3=[];this.p3=[];var a=this.Q5,p=B.t("div",""),N=B.t("div","");a.appendChild(p);a.appendChild(N);
this.Ii=[];for(var c=0;c<FNTS.cats.length;c++)this.Ii.push({name:FNTS.cats[c],index:c,ED:0});this.r2=new ie([7,0]);
this.r2.z(!0);this.r2.h(t.E.A,this.avy,this);p.appendChild(this.r2.e);this.aT=B.t("div","vlist marged scrollable");
this.aT.setAttribute("style","width:10.3em; height:"+e+"em; ");p.appendChild(this.aT);this.IP=[];for(var c=0;
c<this.Ii.length;c++){var i=this.Ii[c],Z=new ie(i.name);this.IP.push(Z);Z.h(t.E.A,this.ay0,this);Z.z(!0);
this.aT.appendChild(Z.e);this.X3.push(1)}this.auS=new ie([7,0]);this.auS.h(t.E.A,this.abo,this);this.Ns=B.t("div","vlist marged scrollable");
this.Ns.setAttribute("style","width:8.6em; height:"+(e+1.5)+"em; ");N.appendChild(this.Ns);this.Z3=[];
for(var c=0;c<FNTS.subsetNames.length;c++){var Z=new ie(FNTS.subsetNames[c]);this.Z3.push(Z);Z.h(t.E.A,this.ajl,this);
Z.z(!1);this.Ns.appendChild(Z.e);this.p3.push(Z.b()?1:0)}}dM.prototype=new b5;dM.prototype.a7o=function(e){var A=this.Z3;
for(var c=0;c<A.length;c++){var a=(e>>>c&1)==1;this.p3[c]=a;A[c].z(a)}};dM.prototype.aoJ=function(){return this.Q5};
dM.prototype.f=function(){this.e.textContent=this.sq?this.sq:i1.get([25,1,0])+" \u25BC";this.r2.f();
this.auS.f()};dM.prototype.aoQ=function(e){var A=this.e.getBoundingClientRect(),a=new k4(t.E.L,!0);a.data={d:t.c.OY,U7:this._s,x:A.left,y:A.top+A.height,J6:!1};
this.S(a)};dM.prototype._G=function(e){if(this.X3[e[4]]==0)return!1;else for(var A=0;A<this.p3.length;
A++)if(this.p3[A]==1&&(e[3]>>>A&1)==0)return!1;return!0};dM.prototype.avy=function(e){var A=e.target.b(),a=this.IP,p=this.X3;
for(var c=0;c<a.length;c++){a[c].z(A);p[c]=A?1:0}this.S(new k4(t.E.A,!1))};dM.prototype.abo=function(e){var A=e.target.b(),a=this.Z3,p=this.p3;
for(var c=0;c<a.length;c++){a[c].z(A);p[c]=A?1:0}this.S(new k4(t.E.A,!1))};dM.prototype.ay0=function(e){var c=this.IP.indexOf(e.target),A=this.Ii[c].index;
this.X3[A]=1-this.X3[A];this.S(new k4(t.E.A,!1));this.ay$(this.IP,this.r2)};dM.prototype.ajl=function(e){var c=this.Z3.indexOf(e.target);
this.p3[c]=1-this.p3[c];this.S(new k4(t.E.A,!1))};dM.prototype.ay$=function(e,A){var a=!0;for(var c=0;
c<e.length;c++)a=a&&e[c].b();A.z(a)};function jX(e,A,a){jz.call(this,A,!0,"gradientbutton",18,10,ac.Pg);
this.lM=-1;this.dG=-1;this.asB=null;this.ax0=e;this.pw=a}jX.prototype=new jz;jX.prototype.EY=function(e){var A=this._1;
this.z(A[this.A4.b()]);this.S(new k4(t.E.A))};jX.prototype.CG=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.Ch,NY:"gradienteditor",M:this.Nh,og:this.ab0.bind(this),Hy:this.pw};
this.S(A)};jX.prototype.ab0=function(e){this.z(e);this.S(new k4(t.E.A))};jX.prototype.lF=function(){if(!this.Gp)return;
var e=Math.floor(36*B.V()),A=Math.floor(36*B.V()),a=[],p=[],N=this._1,i=Date.now();for(var c=0;c<N.length;
c++){var Z=N[c];p.push(Z.Nm?Z.Nm.v.split("=").pop():"");var s=q.Q$.HF(Z,e,A,Math.PI/4,this.lM,this.dG);
a.push(s)}this.A4.q0(a,p,e,A);this.Gp=!1};jX.prototype.Fi=function(e,A){this.arJ(this.Nh,e,A)};jX.prototype.z=function(e){this.arJ(e,this.lM,this.dG)};
jX.prototype.arJ=function(e,A,a){this.lM=A;this.dG=a;if(e==null)return;var p=JSON.stringify(e),N=p+A+","+a;
if(N==this.asB)return;this.asB=N;this.Nh=JSON.parse(p);var i=Math.floor(80*B.V()),Z=Math.floor(16*B.V()),s=q.Q$.HF(this.Nh,i,Z,0,this.lM,this.dG);
this.TJ.setAttribute("src",s);B.JK(this.TJ,i,Z)};jX.prototype.b=function(){var e;if(this.ax0)e=q.Q$.al7(this.Nh,this.lM,this.dG);
else e=JSON.parse(JSON.stringify(this.Nh));return e};function hS(e){jz.call(this,e,!1,"swatchbutton",16,8.75,ac.tB)}hS.prototype=new jz;
hS.prototype.EY=function(e){this.z(this._1[e.target.b()]);this.S(new k4(t.E.A))};hS.prototype.lF=function(){if(!this.Gp)return;
var e=Date.now(),A=Math.floor(10*B.V()),a=Math.floor(10*B.V()),p=[],N=[],i=this._1;for(var c=0;c<i.length;
c++){N.push(i[c].Ug?i[c].Ug.split("=").pop():"");p.push(hS.HF(i[c],A,a))}this.A4.q0(p,N,A,a);this.Gp=!1};
hS.prototype.z=function(e){this.Nh=JSON.parse(JSON.stringify(e));this.Ra()};hS.prototype.Ra=function(){var e=Math.floor(24*B.V()),A=Math.floor(20*B.V()),a=hS.HF(this.Nh,e,A);
this.TJ.setAttribute("src",a);B.JK(this.TJ,e,A)};hS.prototype.b=function(){return JSON.parse(JSON.stringify(this.Nh))};
hS._N={};hS.HF=function(e,A,a){var p=hS.Ae,N=hS._N,i=j.yj(e.o<<16|e.J<<8|e.k);if(N[i])return N[i];if(p==null){var Z=B.t("canvas");
p=hS.Ae=Z.getContext("2d")}var Z=p.canvas;Z.width=A;Z.height=a;p.fillStyle="#"+i;p.fillRect(0,0,A,a);
var s=N[i]=Z.toDataURL();return s};function aT(e,A,a){b5.call(this);this.e=B.t(a?"div":"span");var p=this.pW=B.t("input");
this.pW.setAttribute("type","file");if(A)p.setAttribute("multiple","");this.pW.addEventListener("change",this.abB.bind(this),!1);
this.akX=this.ari.bind(this);this.lS={};this.XA=0;this.gy=e;var N=this.avz=new c$(i1.get(e)+" (0)",null,null,!0);
this.e.appendChild(N.e);N.addEventListener("click",function(i){p.click()});if(a){this.uQ=B.t("div","scrollable");
this.uQ.setAttribute("style","height:120px; width:100%; line-height:1.5em;");this.e.appendChild(this.uQ);
this.Se()}}aT.prototype=new b5;aT.prototype.z=function(e){};aT.prototype.b=function(e){return this.lS};
aT.prototype.abB=function(e){var A=e.target.files;this.XA=A.length;this.lS={};for(var c=0;c<A.length;
c++){var a=A[c],p=new FileReader;p.onload=this.akX;p.T_=a.name;p.readAsArrayBuffer(a)}this.avz.WI(i1.get(this.gy)+" ("+A.length+")")};
aT.prototype.ari=function(e){var A=this.lS[e.target.T_]=new Uint8Array(e.target.result);this.XA--;if(this.XA==0){if(this.uQ)this.Se();
this.S(new k4(t.E.A));this.pW.value=null}};aT.prototype.Se=function(){var e=this.uQ;B.XK(e);for(var A in this.lS){var a=B.t("div");
a.textContent=A;e.appendChild(a)}};function js(e,A,a,p,N){if(e==null)e=!1;if(A==null)A=!1;if(a==null)a=!1;
b5.call(this);this.b3=new k7;this.Br=new k7;this.ZI=72;this.sZ=72;this.uZ=!0;this.rR=!1;this.e=B.t("span");
this.m4=new g0([12,41],0,0,null,0,!1,!0,4);this.e.appendChild(this.m4.e);this.m4.h(t.E.A,this.Xf,this);
var i=["px","%"];if(e)i=i.concat(["mm","in"]);if(N){i=[[12,76,2],[12,76,6]];if(e)i=i.concat([[12,76,5],[12,76,3]])}this.c5=new el(null,i);
this.e.appendChild(this.c5.e);B.jA(this.e);this.c5.h(t.E.A,this.Xf,this);this.D6=new g0([12,42],0,0,null,0,!1,!0,4);
this.e.appendChild(this.D6.e);this.D6.h(t.E.A,this.Xf,this);var Z=new c$("\u21F5",!1,null,!0);Z.h("click",this.adL,this);
this.p$=new c$("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);this.p$.h("click",this.Xf,this);
this.Q9=new bQ("");this.Q9.e.style.margin="0";this.Q9.e.style.padding="0";if(A){this.e.appendChild(this.p$.e);
this.e.appendChild(this.Q9.e);this.p$.FC()}else this.e.appendChild(Z.e);this.u9=new g0("DPI",0,0,null,3,!1,!0,4);
this.wA=new el(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);if(e&&p==null){B.jA(this.e);
this.e.appendChild(this.u9.e);this.e.appendChild(this.wA.e)}this.wA.h(t.E.A,this.Xf,this);this.u9.h(t.E.A,this.Xf,this);
this.qF=new ie([12,23,1]);this.qF.h(t.E.A,this.Xf,this);if(a){B.jA(this.e);this.e.appendChild(this.qF.e)}B.jA(this.e)}js.prototype=new b5;
js.prototype.YQ=function(e,A){this.m4.DP.style.width=this.D6.DP.style.width=(e-74-this.p$.DQ())/2+"px"};
js.prototype.ma=function(){this.m4.ma();this.D6.ma();this.c5.ma();var e=this.e;B.XK(e);this.c5.e.style.marginRight="0";
e.appendChild(this.m4.e);e.appendChild(this.p$.e);e.appendChild(this.D6.e);e.appendChild(this.c5.e)};
js.prototype.Uj=function(){this.m4.Uj()};js.prototype.ak8=function(e,A){this.uZ=e;if(A!=null)this.rR=A;
if(!this.uZ&&!this.rR&&this.c5.b()==0){this.c5.z(3);this.aB()}};js.prototype.a7B=function(e){this.p$.z(e)};
js.prototype.f=function(){this.m4.f();this.D6.f();this.u9.f();this.wA.f();this.p$.f();this.qF.f();this.c5.f()};
js.prototype.adL=function(e){var A=this.Br.x;this.Br.x=this.Br.y;this.Br.y=A;this.aB();this.S(new k4(t.E.A,!1))};
js.prototype.Xf=function(e){if(e.target==this.c5&&!this.uZ&&!this.rR&&this.c5.b()==0)this.c5.z(3);if(e.target==this.c5||e.target==this.qF){this.aB();
return}if(e.target==this.p$)e.target.z(!e.target.b());var A=this.b3,a=parseFloat(this.m4.b());if(isNaN(a))a=1;
var p=parseFloat(this.D6.b());if(isNaN(p))p=1;var N=this.u9.b()*[1,2.54][this.wA.b()],i=this.c5.b();
if(this.uZ){var Z=this.sZ;if(i==1){a=this.b3.x*(a/100);p=this.b3.y*(p/100)}var s=[1,1,25.4/Z,1/Z][i];
a/=s;p/=s;if(this.qF.b()){a+=this.b3.x;p+=this.b3.y}if(e.target==this.u9){var D=N;if(!this.rR){var n=D/Z;
a*=n;p*=n}Z=D}if(this.p$.b()){if(e.target==this.m4)p=a*(A.y/A.x);else a=p*(A.x/A.y)}a=Math.max(Math.abs(a),1);
p=Math.max(Math.abs(p),1)}else{var Z=this.ZI;if(e.target==this.u9)Z=N;else{if(this.p$.b()){if(e.target==this.m4)p=a*(A.y/A.x);
else a=p*(A.x/A.y)}var s=[1,1,25.4/Z,1/Z][i],S=a/(i==1?100:A.x*s);Z=Z/S}a=A.x;p=A.y}this.Br=new k7(Math.round(a),Math.round(p));
this.sZ=Z;this.aB();this.S(new k4(t.E.A,!1))};js.prototype.aye=function(c){this.c5.z(c);this.aB()};js.prototype.z=function(e,A,a){if(a!=!0)this.b3=e.clone();
this.Br=e.clone();if(A!=null){this.ZI=A;this.sZ=A}this.aB()};js.prototype.aB=function(){var e=this.Br.x,A=this.Br.y,a=this.sZ,p=(e/A).toFixed(3);
while(p.charAt(p.length-1)=="0")p=p.substring(0,p.length-1);if(p.charAt(p.length-1)==".")p=p.substring(0,p.length-1);
var N="  "+p+" : 1",i=function(S,F){while(F!=0){var $=F;F=S%F;S=$}return S},Z=i(e,A);if(Math.min(e,A)/Z<10)N="  "+Math.round(e/Z)+" : "+Math.round(A/Z);
this.Q9.z(N);if(this.qF.b()){e-=this.b3.x;A-=this.b3.y}var s=this.c5.b();if(s==1){if(this.uZ){e=100*e/this.b3.x;
A=100*A/this.b3.y}else{e=A=100*this.ZI/this.sZ}}else{e=Math.round(e);A=Math.round(A)}var D=[1,1,25.4/a,1/a][s];
e*=D;A*=D;var n=s==1||s==3?2:0;this.m4.d9(n);this.D6.d9(n);this.m4.z(e);this.D6.z(A);this.u9.z(a*[1,1/2.54][this.wA.b()])};
js.prototype.b=function(){return this.Br.clone()};js.prototype.gR=function(){return this.sZ};function fj(e,A,a){b5.call(this);
var p=e==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];this.KK=e;this.aoF=A;this.i7=1;this.YR=[1,1,0];
var N=this.e=B.t("div","numlist"),i=this.y4=[];for(var c=0;c<4;c++){var Z=new g0(p[c],0,0,null,2,!1,!0,4,null,a&&(c==0||c==2));
Z.h(t.E.A,this.Xf,this);N.appendChild(Z.e);i[c]=Z;if(c==1||c==3)B.jA(N)}i[4]=new ie(e==0?[12,51]:[12,91,2]);
i[4].z(!0);N.appendChild(i[4].e)}fj.prototype=new b5;fj.prototype.f=function(){var e=this.y4;for(var c=0;
c<5;c++)e[c].f();if(this.KK==0)B.qB(e[0],e[2])};fj.prototype.z=function(e,A,a){if(A)this.YR=A;A=this.YR;
var p=a?e:this.KK==0?[e[2],e[0],e[3],e[1]]:[e[0],e[1],e[3],e[2]];this.i7=p[0]/p[2];for(var c=0;c<4;c++){var N=this.y4[c];
N.d9(A[2]==0&&this.aoF?0:2);N.z(j.qC.an1(p[c],A[0],A[1],A[2]))}};fj.prototype.b=function(e){var A=[],a=this.YR;
for(var c=0;c<4;c++){var p=j.qC.Ot(this.y4[c].b(),a[0],a[1],a[2]);A[c]=this.aoF?Math.round(p):p}return e?A:this.KK==0?[A[1],A[3],A[0],A[2]]:[A[0],A[1],A[3],A[2]]};
fj.prototype.Xf=function(e){var A=this.KK,a=this.y4.indexOf(e.currentTarget),p=this.b(!0),N=this.y4[4].b();
if(A==0){p[0]=Math.max(1,p[0]);p[2]=Math.max(1,p[2]);if(N&&a==0)p[2]=p[0]/this.i7;if(N&&a==2)p[0]=p[2]*this.i7}if(A==1){p[a]=Math.max(0,p[a]);
if(N)for(var c=0;c<4;c++)p[c]=p[a]}this.z(p,null,!0);this.S(new k4(t.E.A,!1))};function cc(){b5.call(this);
this.g7=0;this.$U=[0,0,1,1,100,100];this.e=B.t("span","fitem");this.PM=new el(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.e.appendChild(this.PM.e);this.PM.h(t.E.A,this.Xf,this);this.m4=new g0("W",0,0,null,0,!1,!0);this.e.appendChild(this.m4.e);
this.m4.h(t.E.A,this.Xf,this);this.D6=new g0("H",0,0,null,0,!1,!0);this.e.appendChild(this.D6.e);this.D6.h(t.E.A,this.Xf,this);
this.z({Uz:0,x:0,y:0})}cc.prototype=new b5;cc.prototype.f=function(){B.qB(this.m4,this.D6);this.PM.f()};
cc.prototype.Xf=function(e){if(e.target==this.PM){var A=this.b(),a=this.$U;a[this.g7*2]=A.x;a[this.g7*2+1]=A.y;
this.g7=A.Uz;this.z({Uz:A.Uz,x:a[A.Uz*2],y:a[A.Uz*2+1]})}if(this.m4.b()<1)this.m4.z(1);if(this.D6.b()<1)this.D6.z(1);
this.S(new k4(t.E.A,!1))};cc.prototype.z=function(e){this.PM.z(e.Uz);this.m4.z(e.x);this.D6.z(e.y);if(e.Uz==0){this.m4.kJ();
this.D6.kJ()}else{this.m4.Ss();this.D6.Ss()}};cc.prototype.b=function(){return{Uz:this.PM.b(),x:this.m4.b(),y:this.D6.b()}};
function ab(e){b5.call(this);this.e=B.t("span","");this.awk=e;this.Kt=new f1("Off X",-100,100,e?"%":"px",0,!1);
this.Rp=new f1("Off Y",-100,100,e?"%":"px",0,!1);this.Kt.h(t.E.A,this.Xf,this);this.Rp.h(t.E.A,this.Xf,this);
this.e.appendChild(this.Kt.e);this.e.appendChild(this.Rp.e)}ab.prototype=new b5;ab.prototype.f=function(){this.Kt.f();
this.Rp.f()};ab.prototype.Xf=function(e){this.S(new k4(t.E.A,!1))};ab.prototype.auv=function(e){this.Kt.z(e.x);
this.Rp.z(e.y)};ab.prototype.ahv=function(){return new k7(this.Kt.b(),this.Rp.b())};ab.prototype.z=function(e,A){var a=e.Hrzn.v,p=e.Vrtc.v;
if(this.awk){a=a.val;p=p.val}this.Kt.z(a);this.Rp.z(p);if(A==!0)this.Xf()};ab.prototype.b=function(){var e=this.Kt.b(),A=this.Rp.b();
if(this.awk)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:e}},Vrtc:{t:"UntF",v:{type:"#Prc",val:A}}};
else return{classID:"Pnt",Hrzn:{v:e,t:"doub"},Vrtc:{v:A,t:"doub"}}};function gw(){b5.call(this);this.e=B.t("span","fitem strokebutton");
this.wj=[[null,null,null,50,""],[null,0,null,50,"4 2"],[1,1,null,50,"0 2"]];this.OA=JSON.parse(JSON.stringify(iF.kE.default));
this.N7=B.t("button");this.e.appendChild(this.N7);B.V3(this.e,this.ZA.bind(this));var e=B.t("canvas","gsicon");
this.Ae=e.getContext("2d");this.N7.appendChild(e);var A=B.t("span");A.textContent=" \u25BC";this.N7.appendChild(A);
this._s=new b5;this._s.parent=this;this._s.e=B.t("div","floatcont form");var a=this._s.e;a.setAttribute("style","width: 16.7em;");
this.KV=[new el([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new ah([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new ah([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new g0("Limit",0,50,null,null,null,!0,2.5),new fp([19,9,2])];
for(var c=0;c<this.KV.length;c++){var p=this.KV[c];a.appendChild(p.e);p.h(t.E.A,this.Xf,this)}B.jA(a);
this.Ca=[];var N=this.fu.bind(this);this.OA.strokeStyleLineWidth.v.val=3;for(var c=0;c<this.wj.length;
c++){var i=B.t("button","fitem");this.Ca.push(i);a.appendChild(i);i.addEventListener("click",N,!1);var e=B.t("canvas","gsicon"),Z=e.getContext("2d");
i.appendChild(e);this.ahx(Z,40,20,this.wj[c])}this.OA.strokeStyleLineWidth.v.val=1}gw.prototype=new b5;
gw.prototype.ZA=function(e){if(B.ND(this._s.e))return;e.stopPropagation();var A=this.N7.getBoundingClientRect(),a=new k4(t.E.L,!0);
a.data={d:t.c.OY,U7:this._s,x:A.left,y:A.top+A.height+4};this.S(a)};gw.prototype.Xf=function(e){var A=this.KV,a=[];
for(var c=0;c<5;c++)a.push(A[c].b());this.OA=this.a5C(a);this.S(new k4(t.E.A,!1))};gw.prototype.fu=function(e){var A=this.Ca.indexOf(e.currentTarget);
this.z(this.a5C(this.wj[A]));this.S(new k4(t.E.A,!1))};gw.prototype.a5C=function(e){var A=JSON.parse(JSON.stringify(this.OA)),a=e[0],p=e[1],N=e[2],i=e[3],Z=e[4];
if(a!=null)A.strokeStyleLineAlignment.v.strokeStyleLineAlignment=iF.kE.R0[a];if(p!=null)A.strokeStyleLineCapType.v.strokeStyleLineCapType=iF.kE.oA[p];
if(N!=null)A.strokeStyleLineJoinType.v.strokeStyleLineJoinType=iF.kE.join[N];A.strokeStyleMiterLimit.v=i;
var s=A.strokeStyleLineDashSet.v=[];Z=Z.split(" ");while((Z.length&1)!=0)Z.pop();for(var c=0;c<Z.length;
c++)s.push({t:"UntF",v:{type:"#Nne",val:parseInt(Z[c])}});return A};gw.prototype.f=function(){for(var c=0;
c<this.KV.length;c++)this.KV[c].f()};gw.prototype.z=function(e){this.OA=JSON.parse(JSON.stringify(e));
var A=iF.kE.R0.indexOf(e.strokeStyleLineAlignment.v.strokeStyleLineAlignment),a=iF.kE.oA.indexOf(e.strokeStyleLineCapType.v.strokeStyleLineCapType),p=iF.kE.join.indexOf(e.strokeStyleLineJoinType.v.strokeStyleLineJoinType),N=e.strokeStyleMiterLimit.v,i=[],Z=e.strokeStyleLineDashSet.v;
for(var s=0;s<Z.length;s++)i.push(Z[s].v.val);var D=this.KV;D[0].z(A);D[1].z(a);D[2].z(p);D[3].z(N);
D[3].Y7(p==0);D[4].z(i.join(" "));var n=[];for(var c=0;c<5;c++)n.push(D[c].b());this.ahx(this.Ae,40,16,n)};
gw.prototype.b=function(){return JSON.parse(JSON.stringify(this.OA))};gw.prototype.ahx=function(e,A,a,p){var N=p[0],i=p[1],Z=p[2],s=p[3],D=p[4].split(" ").map(parseFloat);
B.ql(e.canvas,A,a);var n=Math.min(5,this.OA.strokeStyleLineWidth.v.val);for(var c=0;c<D.length;c++)D[c]*=n;
e.clearRect(0,0,A,a);e.setLineDash(D);e.lineCap=["butt","round","square"][i];e.lineJoin=["miter","round","bevel"][Z];
e.lineWidth=n;e.beginPath();e.moveTo(0,a/2);e.lineTo(A*2,a/2);e.stroke()};function aw(e){jz.call(this,e,!1,"contourbutton",34,16,ac.ka,!0);
this.CJ=new fp([12,86],null,16);this.CJ.h("input",this.Rx,this);this._s.e.appendChild(this.CJ.e);this.nJ=null;
this.Bc="";this.rk=null;this.z(bF.T$())}aw.prototype=new jz;aw.prototype.f=function(){jz.prototype.f.call(this);
this.CJ.f()};aw.prototype.EY=function(e){this.z(this.nJ[e.target.b()[0]]);this.S(new k4(t.E.A))};aw.prototype.Rx=function(e){this.Bc=this.CJ.b().toLowerCase();
this.awh()};aw.asT=!1;aw.prototype.lF=function(){if(!this.Gp)return;var e=this._1;if(e==null||!aw.asT){var A=new k4(t.E.L,!0);
A.data={d:t.c.Mw,hP:{url:"rsrc/basic/fa_basic.csh"}};this.S(A);aw.asT=!0}else{var a=Math.floor(38*B.V()),p=Math.floor(38*B.V());
this.rk=[];for(var c=0;c<e.length;c++)this.rk.push(aw.a3M(e[c],a,p));this.awh();this.Gp=!1}};aw.prototype.awh=function(){var e=Math.floor(38*B.V()),A=Math.floor(38*B.V());
this.nJ=[];var a=[],p=[],N=this._1;for(var c=0;c<N.length;c++){if(N[c].dt.toLowerCase().indexOf(this.Bc)==-1)continue;
this.nJ.push(N[c]);a.push(this.rk[c]);p.push(N[c].dt)}this.A4.q0(a,p,e,A)};aw.prototype.z=function(e){this.Nh=aw.clone(e);
this.Ra()};aw.prototype.Ra=function(){var e=Math.floor(23*B.V()),A=Math.floor(23*B.V()),a=aw.a3M(this.Nh,e,A);
this.TJ.setAttribute("src",a);B.JK(this.TJ,e,A)};aw.prototype.b=function(){return aw.clone(this.Nh)};
aw.clone=function(e){return{dt:e.dt,Ms:e.Ms,i:u.eP.Zo(e.i),aV:e.aV.clone()}};aw.T=null;aw.n0=null;aw.a3M=function(e,A,a){var p=u.eP.Zo(e.i),N=e.aV,i=Math.min(A/N.m,a/N.n)*.9,Z=new bj;
Z.translate(-.5,-.5);Z.scale(.95,.95);Z.translate(.5,.5);Z.scale(i*N.m,i*N.n);j.r.nM(p,Z);var s=new u.eP;
s.i=p;var D=s.tR();D.rect.x=Math.floor((A-D.rect.m)/2);D.rect.y=Math.floor((a-D.rect.n)/2);var n=j.Q(D.rect.O()*4);
j.Ao(D.channel,n,3);var S=aw;if(S.T==null)S.T=B.t("canvas");var F=S.T,$=F.getContext("2d");if(F.width!=A||F.height!=a||S.n0==null){F.width=A;
F.height=a;S.n0=$.createImageData(A,a)}var m=S.n0;m.data.fill(0);j._M(n,D.rect,m.data,new dE(0,0,A,a));
$.putImageData(m,0,0);return F.toDataURL()};function dm(e){jz.call(this,e,!1,"ICCButton",16,12,ac.QZ,!0);
this.A4.rE(1)}dm.prototype=new jz;dm.prototype.O_=function(){var e="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var c=0;c<e.length;c++)e[c]="luts/"+e[c]+".CUBE";return e};dm.prototype.EY=function(e){this.z(this._1[e.target.b()]);
this.S(new k4(t.E.A))};dm.prototype.lF=function(){if(!this.Gp)return;var e=Math.floor(1*B.V()),A=Math.floor(1*B.V()),a=[],p=[],N=this._1;
for(var c=0;c<N.length;c++){var i=N[c].Nm.v.split("\\").pop().split("/").pop();p.push(i);a.push(dm.HF(N[c],e,A))}this.A4.q0(a,p,e,A);
this.Gp=!1};dm.prototype.z=function(e){this.Nh=JSON.parse(JSON.stringify(e));this.Ra()};dm.HF=function(e,A,a){var p=B.t("canvas"),Z="ICC / 3DL / look / cube";
p.width=A;p.height=a;var N=p.getContext("2d"),i=Math.floor(14*B.V());N.font=i+"px sans-serif";if(e.Nm)Z=e.Nm.v.split("\\").pop().split("/").pop();
N.fillText(Z,10,i);return p.toDataURL()};dm.prototype.Ra=function(){var e=Math.floor(120*B.V()),A=Math.floor(20*B.V());
this.TJ.setAttribute("src",dm.HF(this.Nh,e,A));B.JK(this.TJ,e,A)};dm.prototype.b=function(){return JSON.parse(JSON.stringify(this.Nh))};
function hv(){b5.call(this);this.Bw=null;this.e=B.t("span","fitem");this.Jz=new ga([14,9]);this.lx=new g0(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.t$=new gw;this.Nc=[this.Jz,this.lx,this.t$];for(var c=0;c<this.Nc.length;c++){var e=this.Nc[c];
this.e.appendChild(e.e);e.parent=this;e.h(t.E.A,this.Xf,this)}}hv.prototype=new b5;hv.prototype.f=function(){for(var c=0;
c<this.Nc.length;c++)this.Nc[c].f()};hv.prototype.Mv=function(e,A){this.Jz.Mv(e,A)};hv.prototype.Xf=function(e){var A=this.Bw,a=this.Jz.b(),p=a.$e;
A.strokeEnabled.v=p!=0;if(p!=0){A.strokeStyleContent.v=a.yJ;a.yJ.classID=iF.kE.GD[p-1]}A.strokeStyleLineWidth.v.val=this.lx.b();
if(e.target==this.t$)A=this.t$.b();this.Bw=A;this.S(new k4(t.E.A,!1))};hv.prototype.z=function(e,A,a){this.Bw=JSON.parse(JSON.stringify(A));
var p=A.strokeEnabled.v,N=A.strokeStyleContent.v,i=p?{$e:1+iF.kE.GD.indexOf(N.classID),yJ:N}:{$e:0};
this.Jz.z(e,i,a);this.lx.z(A.strokeStyleLineWidth.v.val);this.t$.z(A)};hv.prototype.b=function(){return JSON.parse(JSON.stringify(this.Bw))};
function hX(e){var A=[[18,0],[18,1],[18,2],[18,3]],a=ah.xv(["set/front","set/union","set/difference","set/intersection"]);
ah.call(this,e?[12,36]:null,a,A)}hX.prototype=new ah;function kl(){b5.call(this);this.e=B.t("button","fitem bbtn");
B.V3(this.e,this.ZA.bind(this));this._s=new b5;this._s.e=B.t("div","floatcont form");this._s.e.setAttribute("style","max-width: 200px;");
this._s.parent=this;var e=c8;this.eH=[new ie("Start"),new ie("End"),new e([12,41],0,100,"px",null,!0,null,!0),new e([12,80,0],0,100,"px",null,!0,null,!0),new e("Concavity",-50,50,"%",null,null,null,!0)];
for(var c=0;c<this.eH.length;c++){var A=this.eH[c];A.parent=this;A.h(t.E.A,this.NJ,this);this._s.e.appendChild(A.e)}this.asE=B.t("div");
this._s.e.appendChild(this.asE)}kl.prototype=new b5;kl.prototype.z=function(e){for(var c=0;c<5;c++)this.eH[c].z(e[c]);
this.Se()};kl.prototype.b=function(e){var A=[];for(var c=0;c<5;c++)A[c]=this.eH[c].b();return A};kl.prototype.f=function(){this.e.textContent=i1.get([12,93,4]);
for(var c=0;c<this.eH.length;c++)this.eH[c].f()};kl.prototype.NJ=function(e){this.S(new k4(t.E.A,!1));
this.Se()};kl.prototype.Se=function(e){var A=this.b(),a=200,p=60;A[2]/=B.V();A[3]/=B.V();var N=j.r.Qa.Wg(0,p/2,a,p/2,5,A),i=j.r.Mh(N);
this.asE.innerHTML="<svg width=\""+a+"\" height=\""+p+"\" class=\"gsicon\">\t\t\t<path d=\""+i.cH+"\" />\t\t\t</svg>"};
kl.prototype.ZA=function(e){if(B.ND(this._s.e))return;e.stopPropagation();var A=this.e.getBoundingClientRect(),a=new k4(t.E.L,!0);
a.data={d:t.c.OY,U7:this._s,x:A.left,y:A.top+A.height,J6:!0};this.S(a)};function gJ(){b5.call(this);
this.e=B.t("div");this.y4=[];this.aa3=[];var e=this.Yg=B.t("div"),A=B.t("h2");A.textContent="Create Teams";
e.appendChild(A);A.style.margin="26px 0 16px 0";var a=new c$("More about Teams",!1,null,!0);A.appendChild(a.e);
a.e.style.float="right";a.h("click",this.avb,this);this.Vy=B.t("div");e.appendChild(this.Vy);this.awC=new fp("Team Name",null,10);
e.appendChild(this.awC.e);var p=this.amX=new c$("Create Team",null,null,!0);e.appendChild(p.e);p.h("click",this.atz,this);
var A=B.t("h2");A.textContent="Join Teams";e.appendChild(A);A.style.margin="26px 0 16px 0";this.dh=B.t("div");
e.appendChild(this.dh);this.a8N=new fp("Team ID",null,10);e.appendChild(this.a8N.e);var p=new c$("Join Team",null,null,!0);
e.appendChild(p.e);p.h("click",this.atz,this);this.a9O;this.aiH=this.OM.bind(this);this.anj=this.akA.bind(this);
this.Bm=!1;this.NT();this.wE=null;this.azs=""}gJ.prototype=new b5;gJ.prototype.avb=function(e){var A=new k4(t.E.L,!0);
A.data={d:t.c.Fh,link:"https://www.photopea.com/api/accounts#teams"};this.S(A)};gJ.prototype.NT=function(){clearTimeout(this.a76);
this.a76=setTimeout(this.anj,this.wE?10:3e3)};gJ.prototype.akA=function(){var e=d4.p8();if(document.hidden||!B.ND(this.e)||e==null){this.NT();
return}var A=d4.JF();if(this.wE==null&&A==null)return;d4.YM(this.wE?this.wE:A,this.aiH);this.Bm=!0;this.wE=null};
gJ.prototype.air=function(e){e.acc.update=!0;this.e.style.pointerEvents="none";this.e.style.opacity="0.5";
if(this.Bm)this.wE=e;else{clearTimeout(this.a76);d4.YM(e,this.aiH)}};gJ.prototype.sd=function(e){var A=typeof e=="string"?this.a9O:this.y4.indexOf(e.target),a=this.aa3[A],p=a[0],N=d4.JF();
if(N==null)N={};var Z=N.acc,s=Z.tjoin,D=Z.tstart;if(p=="leave"){s.splice(s.indexOf(a[1]),1)}if(p=="add"||p=="remove"||p=="delTeam"||p=="showRename"||p=="rename"){var n=-1,S=0;
for(var c=0;c<D.length;c++){S+=D[c][1].length;if(D[c][2]==a[1])n=c}var F=D[n];if(p=="add"){var $=d4.tl();
if($&&$[0]==0&&$[1][2]<=S){alert("You can have at most "+$[1][2]+" members in your Premium.");return}F[1].push(a[2])}if(p=="remove")F[1].splice(F[1].indexOf(a[2]),1);
if(p=="delTeam"){if(F[1].length!=0){alert("Remove members first.");return}D.splice(n,1)}if(p=="showRename"){var m=new k4(t.E.L,!0);
m.data={d:t.c.Ch,NY:"namewindow",Ve:F[0],AJ:this.sd.bind(this)};this.S(m);this.a9O=A;a[0]="rename";return}if(p=="rename")F[0]=e}this.air(N)};
gJ.prototype.atz=function(e){var A=this.amX==e.target,a=(A?this.awC:this.a8N).b().trim();if(a==""){alert("The Team "+(A?"Name":"ID")+" is empty.");
return}if(!A){a=parseInt(a);if(isNaN(a)){alert("The ID must be a number");return}}var p=d4.JF();if(p==null)p={};
var N=p.acc;if(N==null)N=p.acc={};var i=N.tstart,Z=N.tjoin;if(A){if(i==null)i=N.tstart=[];if(i.length>5){alert("You can have at most 5 teams");
return}i.push([a,[]])}else{if(i)for(var c=0;c<i.length;c++)if(i[c][2]==a){alert("You are the owner of this team");
return}if(Z==null)Z=N.tjoin=[];if(Z.indexOf(a)!=-1){alert("You already asked to join this team.");return}N.tjoin.push(a)}N.update=!0;
this.air(p)};gJ.prototype.OM=function(){this.Bm=!1;var e=d4.p8(),A=e!=null,a=this.Yg.parentNode!=null;
if(A!=a){B.XK(this.e);if(A)this.e.appendChild(this.Yg);else this.e.textContent="Log In to access Team Settings."}if(!A)return;
var p=d4.JF();if(p==null)p={};var N=p.acc;if(N==null)N={};var i=JSON.stringify(N)+"===="+JSON.stringify(e);
if(i!=this.azs){this.azs=i;var Z=this.Vy,s=this.dh;B.XK(Z);B.XK(s);var D=this.y4=[],n=this.aa3=[],S=this.sd.bind(this);
function F(P,H){P.addEventListener("click",S);D.push(P);n.push(H)}function $(M,P){var k=B.t("div"),H="rgba(255,255,255,0.15)";
k.appendChild(J("ID: "+M[2],54,H));k.appendChild(J(M[0],160,null,!0));if(P){k.appendChild(J(M[1].length+" members",80,null,!0))}else{k.appendChild(J(M[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<M[1]*1e3)k.appendChild(J("Premium",80,"rgba(0,140,0,1)"))}var U=J("",120);k.appendChild(U);
U.setAttribute("style","float:right;text-align:right");if(P){var X=new c$("Rename",null,null,!0);F(X,["showRename",M[2]]);
U.appendChild(X.e)}var X=new c$(P?"Delete":"Leave",null,null,!0);F(X,[P?"delTeam":"leave",M[2]]);U.appendChild(X.e);
return k}function m(P,H,h){var k=B.t("div");k.style.paddingLeft="46px";k.appendChild(J(H?"\u2713":"...",8,H?"#229922":"#aa7700"));
k.appendChild(J(P[1],200));k.appendChild(J(P[2],240));var U=J("",120);k.appendChild(U);U.setAttribute("style","float:right;text-align:right");
var X=new c$(H?"Remove":"Add",null,null,!0);F(X,[H?"remove":"add",h,P[0]]);U.appendChild(X.e);return k}function J(P,H,U,X){var x=B.t("span");
x.textContent=P;x.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+H+"px;  "+(U!=null?"background-color:"+U+";":"")+(X?"font-weight:bold;":""));
return x}var w=N.tstart,f=N.tjoin,b=e.wantToJoin,L=e.inTeams;if(w)for(var C=0;C<w.length;C++){var M=w[C],y=b["t"+M[2]];
if(y==null)y=[];var Q={};for(var c=0;c<y.length;c++)Q["u"+y[c][0]]=y[c];var k=$(M,!0);Z.appendChild(k);
k.style.marginTop="10px";for(var c=0;c<M[1].length;c++){var E=M[1][c],_=Q["u"+E];if(_==null)_=[E,"========","... user has left your team"];
delete Q["u"+E];var v=m(_,!0,M[2]);Z.appendChild(v)}for(var V in Q){var _=Q[V],v=m(_,!1,M[2]);Z.appendChild(v)}}if(f){var R={};
for(var c=0;c<L.length;c++)R["t"+L[c][2]]=L[c];for(var C=0;C<f.length;C++){var h=f[C],M=R["t"+h],k=$(M?M:["==========",-1,h],!1);
s.appendChild(k)}}this.S(new k4(t.E.A))}if(this.wE==null){this.e.style.pointerEvents="auto";this.e.style.opacity="1"}this.NT()};
function bv(){b5.call(this);this.VO=[16,!0,!0];this.e=B.t("span","");this.b2=[new g0([12,24],0,255),new ie([12,25,1]),new ie([12,25,0])];
for(var c=0;c<3;c++){var e=this.b2[c];e.parent=this;e.z(this.VO[c]);this.e.appendChild(e.e);e.h(t.E.A,this.Xf,this)}}bv.prototype=new b5;
bv.prototype.Xf=function(){for(var c=0;c<3;c++)this.VO[c]=this.b2[c].b();this.S(new k4(t.E.A,!1))};bv.prototype.z=function(e){this.VO=e.slice(0);
for(var c=0;c<3;c++)this.b2[c].z(e[c])};bv.prototype.b=function(){return this.VO.slice(0)};bv.prototype.f=function(){for(var c=0;
c<3;c++)this.b2[c].f()};function jl(e,A){b5.call(this);if(A==null)A=!1;this.rk=[];this.T8=Math.floor(120*B.V());
this.a4I=Math.floor(23*B.V());this.w2=0;this.R2=[];this.Wj=[];for(var a in j.Ww.type){if(a=="warpCustom"&&!A)continue;
this.R2.push(a);this.Wj.push(j.Ww.type[a])}this.e=B.t("span","fitem warpbutton");this._s=new b5;this._s.e=B.t("div","floatcont");
if(e){this.gy=e;this.Na=B.t("label","flabel");this.e.appendChild(this.Na)}this.d=B.t("button");this.e.appendChild(this.d);
B.V3(this.d,this.ZA.bind(this));this.t4=new a0(!0);this._s.e.appendChild(this.t4.e);this.t4.h(t.E.A,this.a90,this);
this._s.e.setAttribute("style","width:"+Math.floor(8+this.T8/B.V())+"px;");this.f()}jl.prototype=new b5;
jl.prototype.WI=function(e){this.Na.textContent=e};jl.prototype.f=function(){if(this.gy)this.Na.innerHTML=i1.get(this.gy)+":";
this.Ra()};jl.a6B={};jl.an3=function(e,A,a){var p=i1.get(j.Ww.type[e]),N=p+"-"+e+"-"+A+"-"+a,i=jl.a6B[N];
if(i)return i;var Z=jl.Ae;if(s==null){var s=B.t("canvas");Z=jl.Ae=s.getContext("2d")}var s=Z.canvas;
if(s.width!=A||s.height!=a){s.width=A;s.height=a}Z.font=Math.floor(13*B.V())+"px sans-serif";Z.lineWidth=1;
Z.strokeStyle="#000000";var D=Math.floor(16*B.V()),n=new dE(0,0,D,D);Z.clearRect(0,0,s.width,s.height);
var S=j.Ww.Ww(n,e,!0,.3,0,0),F=j.p.wt(n);F.F.push("M","L","M","L");F.w.push(0,D/2,D,D/2);F.w.push(D/2,0,D/2,D);
F=j.p.vb(F);F=j.p.iV(F,D/5);j.ay.D(S,F.w,n);j.p.D(F.w,new bj(1,0,0,1,Math.floor(8*B.V())+.5,Math.floor(3*B.V())+.5),F.w);
Z.beginPath();Typr.U.pathToContext({cmds:F.F,crds:F.w},Z);Z.stroke();Z.fillText(p,Math.floor(40*B.V()),Math.floor(16*B.V()));
i=jl.a6B[N]=s.toDataURL();return i};jl.prototype.ZA=function(e){if(B.ND(this._s.e))return;e.stopPropagation();
var A=this.T8,a=this.a4I;for(var c=0;c<this.R2.length;c++)this.rk[c]=jl.an3(this.R2[c],A,a);this.t4.q0(this.rk,null,A,a);
var p=this.d.getBoundingClientRect(),N=new k4(t.E.L,!0);N.data={d:t.c.OY,U7:this._s,x:p.left,y:p.top+p.height+4};
this.S(N)};jl.prototype.a90=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.vo,U7:this._s};this.S(A);
this.w2=e.target.b()[0];this.Ra();this.S(new k4(t.E.A))};jl.prototype.Ra=function(){var e=this.T8,A=this.a4I;
this.t4.z([this.w2]);this.d.innerHTML="<img src=\""+jl.an3(this.R2[this.w2],e,A)+"\" class=\"gsicon\" />";
B.JK(this.d.firstChild,e,A)};jl.prototype.b=function(){return this.R2[this.w2]};jl.prototype.z=function(e){this.w2=this.R2.indexOf(e);
this.Ra()};function jG(e,A,a){b5.call(this);if(e==null)e=!1;if(A==null)A=!1;if(a==null)a=!1;this.arX=A;
this.Ww=null;this.pe=new jl([12,22],a);this.pe.parent=this;this.pe.h(t.E.A,this.$T,this);this.Vw=new el([22,0],[[22,4,0],[22,4,1]]);
this.Vw.h(t.E.A,this.$T,this);var p=e?g0:c8;this.vS=new p([22,1],-100,100,"%");this.Hl=new p("Horizontal Distortion:",-100,100,"%");
this.pa=new p("Vertical Distortion:",-100,100,"%");this.vS.parent=this.Hl.parent=this.pa.parent=this;
this.vS.h(t.E.A,this.$T,this);this.Hl.h(t.E.A,this.$T,this);this.pa.h(t.E.A,this.$T,this)}jG.prototype=new b5;
jG.prototype.f=function(){this.pe.f();this.Vw.f();this.vS.f();var e=this.arX?1:100;this.Hl.WI(i1.get([22,2]).substring(0,e)+":");
this.pa.WI(i1.get([22,3]).substring(0,e)+":")};jG.prototype.$T=function(){var e=this.Ww,A=this.pe.b(),a=e.warpStyle.v.warpStyle;
if(A=="warpCustom")j.Ww.bp(j.Ww.uB(e),e);else delete e.customEnvelopeWarp;e.warpStyle.v.warpStyle=this.pe.b();
e.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Vw.b()];e.warpValue.v=this.vS.b();e.warpPerspective.v=this.Hl.b();
e.warpPerspectiveOther.v=this.pa.b();if(A=="warpNone"||A=="warpCustom"){e.warpValue.v=0;e.warpPerspective.v=0;
e.warpPerspectiveOther.v=0}else if(a=="warpNone"||a=="warpCustom")e.warpValue.v=50;this.S(new k4(t.E.A,!1));
this.z(e)};jG.prototype.b=function(e){return JSON.parse(JSON.stringify(this.Ww))};jG.prototype.z=function(e){this.Ww=JSON.parse(JSON.stringify(e));
this.pe.z(e.warpStyle.v.warpStyle);this.Vw.z(e.warpRotate.v.Ornt=="Hrzn"?0:1);this.vS.z(e.warpValue.v);
this.Hl.z(e.warpPerspective.v);this.pa.z(e.warpPerspectiveOther.v);var A=e.warpStyle.v.warpStyle,a=A=="warpNone"||A=="warpCustom",p=[this.Vw,this.vS,this.Hl,this.pa];
for(var c=0;c<p.length;c++)if(a)p[c].kJ();else p[c].Ss()};function h0(e){b5.call(this);this.apq={};this.e=B.t("div");
this.gp=e;this.nL=null;this.FN=new k7(0,0);this.X4="position:relative;overflow:hidden;background-color:var(--bg-canvas);";
this.B9=null;this.F$=new B.Z5(this.e);this.aU("grab");this.T=B.t("canvas","canv");this.e.appendChild(this.T);
this.Ae=this.T.getContext("2d");this.adm=null;this.NH=null;this.Ly=null;this.QO=0;this.X$=0;this.eW=0;
this.azg=this.awF.bind(this);this.aen=null;this.u=new hU({m:1,n:1});this._W=null;this.sI=null;this.Fy=[];
this.aeS=0;this.Hf=0;this.alb=this.ME.bind(this);this.ar4=this.m3.bind(this);this.a1c=this.fG.bind(this);
this.auM=this.Yt.bind(this);this.a0l=0;this.ZH=null;this.a0Z(this.T);this.DG(this)}h0.prototype=new b5;
h0.prototype.ab8=function(e){this.apq=e;this.fE()};h0.acu=function(e){var A=new g4(!0);if(e>=0)A.wU("Space");
if(e>=1){A.wU("ControlLeft");if(e==2)A.wU("AltLeft")}return A};h0.prototype.CE=function(e){var A=this.B9,a=null;
if(e.l(g4.QD)){a="grab";if(e.l(g4.YC)){a="zoom-in";if(e.l(g4.uJ))a="zoom-out"}}this.nL=a;if(a)A=a;this.F$.OM(A,this.X4);
if(e.l(g4.YC)){var p=0;if(e.l(g4.yR))p=1;if(e.l(g4.Kw))p=-1;if(p!=0){this.by(new k7(this.T.width/2,this.T.height/2),p==1)}}};
h0.prototype.aU=function(e){this.B9=e;if(this.nL)return;this.F$.OM(e,this.X4)};h0.prototype.a0Z=function(e){B.V3(e,this.alb);
B.Ig(e);e.addEventListener("wheel",this.auM,!1)};h0.prototype.DG=function(e){e.h("viewchange",this.agJ,this)};
h0.prototype.agJ=function(e){var A=this.u.N,a=e.currentTarget.m1();this.u.N=a.N;this.u.R=a.R.clone();
if(A!=a.N)this.IF();this.fE()};h0.prototype.m1=function(){return{N:this.u.N,R:this.u.R}};h0.prototype.z=function(e,A){var a=e[0].WJ;
if(this.NH!=null&&this.NH[0].WJ.Kx(a)){}else{this.u.M0={m:a.m,n:a.n};this.u.R=new k7(0,0);this.u.N=1}this.NH=e;
this.IF();this.GV();this.QO=0;this.X$=0;this.eW=A==null?0:A;this.awF()};h0.prototype.Yt=function(e){e.preventDefault();
if(e.deltaY==0||Date.now()-this.a0l<100)return;var A=B.vT(e);A.x=B.V()*A.x;A.y=B.V()*A.y;this.a0l=Date.now();
this.by(A,e.deltaY<0)};h0.prototype.by=function(e,A){q.MQ.CI(this.u,e,A);this.a2r()};h0.prototype.Z1=function(){var e=this.u,A=e.M0;
this.u.N=q.MQ.ai_(A.m,A.n,e.eL.m,e.eL.n);this.a2r()};h0.prototype.a2r=function(){this.IF();this.S(new k4("viewchange"));
this.S(new k4("zoom"))};h0.prototype.IF=function(){this.Ly=[];var e=this.u.N;if(this.NH==null)return;
for(var c=0;c<this.NH.length;c++){var A=this.NH[c],a=new Uint8Array(A.data),p;if(e>=1)p={Qi:a,rect:A.WJ};
else p=j.a7l(a,A.WJ,e);this.Ly.push(p)}};h0.prototype.GV=function(){clearTimeout(this.aen)};h0.prototype.fE=function(){if(this.NH==null||!B.ND(this.T))return;
var e=this.adm,A=this.T.width,a=this.T.height,J,w;if(e==null||e.width!=A||e.height!=a){e=this.adm=this.Ae.createImageData(A,a);
console.log("creating image data")}var p=this.NH[this.QO],N=this.Ly[this.QO],i=this.u,Z=i.M0,s=i.eL,D=s.m,n=s.n,S=Z.m*i.N,F=Z.n*i.N,$=Math.round((D-S)/2+i.R.x),m=Math.round((n-F)/2+i.R.y);
if(i.N<=1){w=N.rect.clone();w.x=$;w.y=m;S=w.m;F=w.n;J=N.Qi}else{var f=1/i.N,b=new dE(Math.floor((s.x-$)*f),Math.floor((s.y-m)*f),Math.ceil(s.m*f)+1,Math.ceil(s.n*f)+1),L=new dE(0,0,b.m*i.N,b.n*i.N);
L.x=b.x*i.N+$;L.y=b.y*i.N+m;if(i.Sn==null||i.Sn.length!=b.O()*4){i.Sn=j.Q(b.O()*4)}if(i.sp==null||i.sp.length!=L.O()*4){i.sp=j.Q(L.O()*4)}j.fV(i.Sn,0);
j._M(N.Qi,N.rect,i.Sn,b);j.scale.fw(i.Sn,b.m,b.n,i.sp,L.m,L.n,i.N);J=i.sp;w=L}var C=new Uint8Array(e.data.buffer);
j.c4(C,D,n,8,-$,-m);j.s.eZ("norm",J,w,C,s,s,1);var M=this.Ae;M.setTransform(1,0,0,1,0,0);M.putImageData(e,0,0);
M.clearRect($-1e3,m,1e3,F);M.clearRect($+S,m,1e3,F);M.clearRect($-1e3,m-1e3,S+2e3,1e3);M.clearRect($-1e3,m+F,S+2e3,1e3);
var y=h0.ae1(i.N,"#ffffff");M.putImageData(y,0,i.eL.n-y.height);var Q=this.apq,i=this.u;if(Q){var k=eE.sD([.1,.5,1,1]),E=eE.sD([1,0,0,1]),_=i.gz(!1);
_.rQ();M.save();M.setTransform(_.gg,_.k,_.b9,_.pU,_.Co,_.dW);M.strokeStyle=E;if(Q.afi){eE.mx(Q.afi,null,M);
M.lineWidth=1/i.N;M.stroke()}M.strokeStyle=k;M.fillStyle=eE.sD([1,1,1,1]);if(Q.kp){eE.mx(Q.kp,null,M);
M.lineWidth=1/i.N;M.stroke()}if(Q.n8){eE.adN(Q.n8,M,i,.5);M.lineWidth=2/i.N;M.stroke();M.fill()}M.restore()}M.getImageData(0,0,1,1)};
h0.aeL="";h0.ajE=null;h0.ae1=function(e,A,a,p){if(a==null){a=0;p=0}var N=a+" \xD7 "+p,i="z"+e+","+A+","+a+","+p;
if(i==h0.aeL)return h0.ajE;var Z=Math.round(50*B.V()),s=Math.round(18*B.V()),D=a==0?0:Math.round((N.length+2)*s*.35),n=B.t("canvas"),S=n.getContext("2d");
n.width=Z+D;n.height=s;S.fillStyle="rgba(1,1,1,1)";S.fillRect(0,0,Z,s);if(a!=0)S.fillRect(Z+2,0,D,s);
S.font=Math.round(11*B.V())+"px monospace";S.fillStyle=A;var F=e*100;if(F<100)F=F.toFixed(2);else F=Math.round(F);
F=F+"%";var $=S.measureText(F).width;S.fillText(F,(Z-$)/2,Math.round(s*.7));if(a!=0){var m=S.measureText(N).width;
S.fillText(N,Z+(D-m)/2+1,Math.round(s*.7))}var J=S.getImageData(0,0,Z+D,s);h0.aeL=i;h0.ajE=J;return J};
h0.prototype.awF=function(){var e=this.NH,A=e.length,a=this.QO,p=this.NH[a],N=(a+1)%A;this.fE();if(A!=1&&e[N].WJ.Kx(p.WJ)){var i=p.BI?parseInt(p.BI.split(",").pop()):30;
if(i==0)i=16;if(N==0)this.X$++;if(this.eW==0||this.X$<this.eW)this.aen=setTimeout(this.azg,i)}this.QO=N};
h0.prototype.YQ=function(e,A){if(e<=0||A<=0)return;var a=Math.floor(e*B.V()),p=Math.floor(A*B.V());this.u.eL=new dE(0,0,a,p);
this.T.width=a;this.T.height=p;this.T.setAttribute("style","width:"+a/B.V()+"px; height:"+p/B.V()+"px; display:block;");
this.fE()};h0.prototype.dN=function(e){var A=-1,a=this.Fy;for(var c=0;c<a.length;c++)if(a[c].pointerId==e.pointerId)A=c;
return A};h0.prototype.ME=function(e){var A=this.dN(e),a=this.Fy;if(A!=-1)a[A]=e;else a.push(e);if(a.length==1){this.ZH=e.target;
B.iv(window,this.ar4);B.xq(window,this.a1c);this._W=B.vT(e,this.T);this._W.x*=B.V();this._W.y*=B.V();
this.FN=this._W;this.sI=this.u.R.clone();if(this.gp&&this.ZH==this.T&&!this.nL)this.S(new k4("mousedown"))}else this.aeS=this.Hf=k7.nR(B.vT(a[0],this.T),B.vT(a[1],this.T))};
h0.prototype.m3=function(e){var A=this.dN(e),a=this.Fy;if(A!=-1)a[A]=e;var p=this.u,N=this.nL,Z=this.NH[this.QO].WJ.clone();
Z.m*=p.N;Z.n*=p.N;var s=B.vT(e,this.T);s.x*=B.V();s.y*=B.V();this.FN=s;if(this.gp&&this.ZH==this.T&&!N)this.S(new k4("mousemove"));
else if(N=="grab"||N==null){if(a.length>1){var D=B.vT(a[0],this.T),n=B.vT(a[1],this.T),S=new k7(B.V()*(D.x+n.x)/2,B.V()*(D.y+n.y)/2),F=k7.nR(D,n),$=null;
if(F>this.Hf+50){this.Hf+=50;$=!0}if(F<this.Hf-50){this.Hf-=50;$=!1}if($!=null)this.by(S,$);return}else{var m=s.x-this._W.x,J=s.y-this._W.y;
p.R.x=this.sI.x+Math.round(m);p.R.y=this.sI.y+Math.round(J)}this.S(new k4("viewchange"))}};h0.prototype.fG=function(e){var A=this.dN(e),a=this.Fy;
a.splice(A,1);if(a.length==0){B.Dq(window,this.ar4);B.Y8(window,this.a1c);var p=this.nL;if(e.detail>1){this.u.N=1;
this.u.R.rq(0,0);this.fE()}if(this.gp&&this.ZH==this.T&&!this.nL)this.S(new k4("mouseup"));else{if(p=="zoom-in"||p=="zoom-out")this.by(this.FN,p=="zoom-in")}}else{var N=this._W=B.vT(a[0],this.T);
N.x*=B.V();N.y*=B.V()}};h0.prototype.VI=function(e){var A=this.FN;if(e){A=B.vT(e,this.T);A.x*=B.V();
A.y*=B.V()}return this.u.FT(A.x,A.y)};function hw(){b5.call(this);this.Bl=null;this.I_=null;this.OS=null;
this.tI=null;this.agk="";this.Zk=[];this.tU=0;this.w$=[];this.BC=0;this.w7=null;var e=this.e=B.t("div",""),A=this.aoO=B.t("div","form");
A.setAttribute("style","line-height:0; margin-bottom:0.5em;");e.appendChild(A);var a=this.gy=B.t("span");
A.appendChild(a);a.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");var p=this.arg=new ie([25,2,0]);
p.z(!0);A.appendChild(p.e);p.h(t.E.A,this.Z_,this);var N=this.yI=new ie([25,2,1]);N.z(!0);A.appendChild(N.e);
N.h(t.E.A,this.Z_,this);var i=new bQ(" ");A.appendChild(i.e);var Z=this.kM=new fp([25,1,1]);A.appendChild(Z.e);
Z.h(t.E.A,this.Z_,this);this.YD=new dM(14);this.YD.a7o(3);A.appendChild(this.YD.e);this.YD.parent=this;
this.YD.h(t.E.A,this.agu,this);var s=this.aoa=new c$([25,1,2],null,null,!0);A.appendChild(s.e);s.h("click",this.Tg,this);
var D=new c$("?",null,null,!0);A.appendChild(D.e);D.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.abV=this.a7D.bind(this);this.K2=B.t("div","svggallery scrollable");e.appendChild(this.K2);this.K2.addEventListener("scroll",this.asg.bind(this))}hw.prototype=new b5;
hw.prototype.Mv=function(e){this.att=e};hw.prototype.f=function(){this.gy.textContent=i1.get([25,0]);
this.YD.f();this.arg.f();this.yI.f();this.kM.f();this.aoa.f()};hw.prototype.YQ=function(e,A){this.Bl=new k7(e,A);
this.aoO.setAttribute("style","width:"+e+"px");var a=this.aoO.getBoundingClientRect();A-=a.height;this.K2.setAttribute("style","width:"+e+"px; height:"+A+"px");
if(B.ND(this.e))this.Z_()};hw.prototype.z=function(e){this.I_=e;this.Z_()};hw.prototype.asg=function(e){var A=this.K2;
if(A.scrollTop+A.clientHeight+10>=A.scrollHeight){this.Z_(!0)}};hw.prototype.agu=function(e){this.OS=null;
this.Z_()};hw.prototype.a7D=function(e){if(Date.now()-this.BC<2e3)return;this.BC=Date.now();this.tU=this.w$.indexOf(e.currentTarget);
var A=this.FW(this.I_.x,this.I_.y);if(A[1]){var a=A[1].largeImageURL,p=new XMLHttpRequest;p.responseType="arraybuffer";
p.open("GET",a,!0);p.onload=this.agK.bind(this);p.send();return}this.a9e(A)};hw.prototype.agK=function(e){var A=e.target.response,a=fI.ti(A),p=fI.nP(a),N=p.QS(A),i=this.FW(this.I_.x,this.I_.y,[A,N[0].WJ.m,N[0].WJ.n]);
this.a9e(i)};hw.prototype.a9e=function(e){var A=e[0],a=fI.ti(A),p=fI.nP(a),N=new ar("template.psd");
p.QS(A,N);var i=new k4("tempready",!0);i.data={M0:N};this.S(i)};hw.prototype.Tg=function(e){var A=e.target;
this.Zk=[];this.OS=null;this.Z_()};hw.prototype.a0J=function(e){var A=JSON.parse(e.target.response),a=this.tI=A.hits;
for(var c=0;c<a.length;c++)if(a[c].user_id==6314823)a.splice(c,1);this.Z_()};hw.prototype.Z_=function(e){if(this.I_==null||this.Bl==null||this.att==null)return;
if(this.Bl.x<=0)return;var A=this.I_.x,a=this.I_.y;if(Math.min(A,a)<50)return;if(e!=!0){this.w$=[];B.XK(this.K2);
this.K2.scrollTop=0}if(this.w$.length>300)return;var p=Math.min(1,300/Math.max(A,a)),N=this.Bl.clone();
N.x-=20;var i=Math.max(1,Math.floor(N.x/(A*p))),Z=Math.max(1,Math.ceil(N.y/(a*p)));p=N.x/i/A;var s=i*Z;
if(this.OS==null){var D=this.att.de.ee(),n=[];for(var S in D){var F=D[S],$=F[3];if(!this.YD._G(F))continue;
if(F[5]==null||F[5].slice(0,2)=="gf")continue;n.push(F)}if(n.length==0)n.push(D.DejaVuSans);var m=n.length;
for(var c=0;c<m*10;c++){var J=Math.floor(Math.random()*m),w=Math.floor(Math.random()*m),f=n[J];n[J]=n[w];
n[w]=f}n=n.slice(0,10);this.OS=n}var b=this.yI.b(),L=this.kM.b().trim();this.kM.Y7(b);if(b&&(this.tI==null||L!=this.agk)){var C=new XMLHttpRequest,M="https://pixabay.com/api/?image_type=photo"+(L==""?"":"&q="+encodeURIComponent(L))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(L=="")M="plugins/gallery.json";C.open("GET",M,!0);C.onload=this.a0J.bind(this);C.onerror=function(v){console.log(v.target.response)};
C.send();this.agk=L;return}p*=(A*p-5)/(A*p);var y=this.w$.length;for(var c=0;c<s;c++){var Q=this.tU=y+c;
if(this.Zk[Q]==null)this.Zk[Q]=Math.floor(Math.random()*4294967295);var k=this.FW(Math.round(A*p),Math.round(a*p)),E=k[0];
E=z.lB(new Uint8Array(E));var _=B.t("span");_.innerHTML=E;this.w$.push(_);this.K2.appendChild(_);_.addEventListener("click",this.abV,!1)}};
hw.prototype.FW=function(e,A,a){var p=this.yI.b(),N=this.arg.b(),i=p&&this.tI.length!=0?this.tI:null;
if(N&&!p)i=null;if(N&&p&&(this.tU&1)==0)i=null;return er.Qa(e,A,this.Zk[this.tU],this.OS,a?a:i)};function cs(){b5.call(this);
this.e=B.t("div");this.Yg=null;this.awG=null;this.jc=-1;this.he={JPG:[{Tn:new c8([12,52,0],0,100,"%",null,null,!0),CM:70},{Tn:new ie("attach metadata"),CM:!1}],TIFF:[{Tn:new ie("attach metadata"),CM:!1}],WEBP:[{Tn:new c8([12,52,0],0,100,"%",null,null,!0),CM:70}],GIF:[{Tn:new c8([12,52,0],0,100,"%",null,null,!0),CM:100},{Tn:new ie([12,23,3]),CM:!1}],PNG:[{Tn:new c8([12,52,0],0,100,"%",null,null,!0),CM:100},{Tn:new ie("don't use palettes"),CM:!1}],PDF:[{Tn:new fp([12,52,1]),CM:""},{Tn:new c8([12,52,0],0,100,"%",null,null,!0),CM:100},{Tn:new ie("reverse pages"),CM:!1},{Tn:new ie("rasterize all"),CM:!1},{Tn:new ie("vectorize text"),CM:!1},{Tn:new c8("Add Margin",0,5,"in",2),CM:0},{Tn:new ie("add crop marks"),CM:!1}],EMF:[{Tn:new fp([12,52,1]),CM:""},{Tn:new c8([12,52,0],0,100,"%",null,null,!0),CM:100},{Tn:new ie("reverse pages"),CM:!1},{Tn:new ie("rasterize all"),CM:!1},{Tn:new ie("vectorize text"),CM:!1},{Tn:new c8("Add Margin",0,5,"in",2),CM:0}],SVG:[{Tn:new ie("add raster graphics"),CM:!0},{Tn:new ie("add hidden layers"),CM:!1},{Tn:new ie("vectorize text"),CM:!1},{Tn:new ie("rasterize text"),CM:!1},{Tn:new ie("minify"),CM:!1}],RAW:[{Tn:new ah([12,72],["1","3","4"]),CM:2},{Tn:new ah([12,34],["8 Bits","16 Bits"]),CM:0},{Tn:new ah("Byte Order",["12-34","34-12"]),CM:0}],DDS:[{Tn:new el("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),CM:0},{Tn:new ie("Add Mipmaps"),CM:!0}],anim:[{Tn:new c8("Speed",10,800,"%",null,!0,!0),CM:100},{Tn:new g0("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),CM:0},{Tn:new ie("reverse frames"),CM:!1},{Tn:new ie("boomerang"),CM:!1}],slcs:[{Tn:new ie([8,11,0]),CM:!0}],artb:[{Tn:new ie([1,16,1]),CM:!0}],hicc:[{Tn:new ie("convert to sRGB"),CM:!0}]};
for(var e in this.he){var A=this.he[e];for(var c=0;c<A.length;c++){A[c].Tn.z(A[c].CM);A[c].Tn.h(t.E.A,this.G5,this)}}}cs.prototype=new b5;
cs.prototype.aad=function(){this.jc=-1};cs.prototype.f=function(){for(var e in this.he)for(var c=0;c<this.he[e].length;
c++)this.he[e][c].Tn.f()};cs.prototype.G5=function(){this.Z_();this.S(new k4(t.E.A,!1))};cs.prototype.Z_=function(){var e=this.Yg,A=e[0],a=e[1],p=e[2],N=e[3],i=e[4],Z=this.he[A];
if(Z==null)Z=[];else Z=Z.slice(0);if(a)Z=Z.concat(this.he.anim);if(["GIF","PNG","JPG"].indexOf(A)!=-1&&p)Z=Z.concat(this.he.slcs);
else if(["GIF","PNG","JPG"].indexOf(A)!=-1&&N)Z=Z.concat(this.he.artb);if(i)Z=Z.concat(this.he.hicc);
var s=e.join(",");if(s!=this.jc){this.jc=s;B.XK(this.e);for(var c=0;c<Z.length;c++){if(A=="PDF"&&!N&&(c==0||c==2))continue;
this.e.appendChild(Z[c].Tn.e);B.jA(this.e)}}var D=this.awG=[];for(var c=0;c<Z.length;c++)D.push(Z[c].Tn.b())};
cs.prototype.iC=function(e,A,a,p,N){this.Yg=[e,A,a,p,N];this.Z_()};cs.prototype.b=function(){return this.awG.slice(0)};
cs.prototype.z=function(e,A){var a=this.Yg,p=a[0],N=this.he[p],i=Math.min(N.length,e.length);for(var c=0;
c<i;c++)N[c].Tn.z(e[c]);this.Z_();if(A!=!0)this.G5()};function aZ(){b5.call(this);this.e=B.t("span","fitem");
this.GL=!1;this.sw=new c$("No",!1,"Cancel");this.Bz=new c$("Yes",!1,"Confirm");this.e.appendChild(this.sw.e);
this.e.appendChild(this.Bz.e);this.sw.h("click",this.g3,this);this.Bz.h("click",this.g3,this);this.f()}aZ.prototype=new b5;
aZ.prototype.f=function(){this.sw.WI(B.iE("cross",null,"autoscale"));this.Bz.WI(B.iE("checkmark",null,"autoscale"))};
aZ.prototype.g3=function(e){this.GL=e.target==this.Bz;this.S(new UIEvent("click"))};aZ.prototype.b=function(){return this.GL};
function gN(e){b5.call(this);this.e=B.t("span","fitem");this.Eq=new c$("\u25BC",null,"Auto Options",!0);
B.V3(this.Eq.e,this.aii.bind(this));this.e.appendChild(this.Eq.e);this.hE=new c$("Auto",null,null,!0);
this.hE.h("click",this.NJ,this);this.e.appendChild(this.hE.e);this.Cm=new hj("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.Cm.h(t.E.A,this.NJ,this);this.Cm.z([!1,!1,!1,!0]);this._s=new b5;var A=this._s.e=B.t("div","floatcont form");
A.setAttribute("style","width: 250px;");this._s.parent=this;A.appendChild(this.Cm.e);this.bC=[];for(var c=0;
c<2;c++){var a=new g0((c==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);a.z(.1);a.h(t.E.A,this.NJ,this);
this.bC.push(a);A.appendChild(a.e)}}gN.prototype=new b5;gN.prototype.NJ=function(e){this.S(new k4(t.E.A,!1))};
gN.prototype.f=function(){};gN.prototype.b=function(){return[this.Cm.b().indexOf(!0),this.bC[0].b(),this.bC[1].b()]};
gN.prototype.aii=function(e){if(B.ND(this._s.e))return;e.stopPropagation();var A=this.Eq.e.getBoundingClientRect(),a=new k4(t.E.L,!0);
a.data={d:t.c.OY,U7:this._s,x:A.left,y:A.top+A.height+4};this.S(a)};function gx(){b5.call(this);var e=this.e=B.t("div","fitem");
this.Rz=new el([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Rz.h(t.E.A,this.Xf,this);e.appendChild(this.Rz.e);
this.k6=new dH(!1);this.k6.parent=this;this.k6.Ti(16777215);this.k6.h(t.E.A,this.Xf,this);e.appendChild(this.k6.e)}gx.prototype=new b5;
gx.prototype.f=function(){this.Rz.f();this.k6.f()};gx.prototype.as8=function(e){var A=[e.artboardBackgroundType.v-1];
if(e.Clr)A.push(e.Clr.v);this.z(A)};gx.prototype.aa9=function(){var e=this.b();return{classID:"artboard",Clr:{t:"Objc",v:e[1]},artboardBackgroundType:{t:"long",v:e[0]+1}}};
gx.prototype.z=function(e){this.Rz.z(e[0]);if(e[1])this.k6.z(e[1])};gx.prototype.b=function(){return[this.Rz.b(),this.k6.b()]};
gx.prototype.Xf=function(e){if(e.target==this.k6)this.Rz.z(3);this.S(new k4(t.E.A,!1))};function jS(e){b5.call(this);
this.uj=e;this.fL=0;this.a8B=!1;this.fj=e?new jS.Yz:null;this.e=B.t("div","flexrow storageset");this.e.style.background="var(--bg-panel)";
this.T9=B.t("div");this.e.appendChild(this.T9);this.vn=B.t("div");this.e.appendChild(this.vn);this.Ca=[];
var A=Storage.list.length;if(e)A++;var a=this.Ws.bind(this);for(var c=0;c<A;c++){var p=B.t("div");this.Ca.push(p);
this.T9.appendChild(p);p.addEventListener("click",a,!1)}this.Ws(null,0)}jS.prototype=new b5;jS.uQ=[];
jS.vr=function(e){jS.uQ.push(e);e.Se()};jS.LB=function(){var e=jS.uQ;e.pop();e[e.length-1].Se()};jS.prototype.Se=function(){console.log(this.fL);
this.Ws(null,this.fL)};jS.prototype.Mv=function(e,A){if(!e.FX&&!this.a8B){var a=this.uj?2:1;for(var c=a;
c<this.Ca.length;c++)this.T9.removeChild(this.Ca[c]);this.a8B=!0;if(this.uj)this.fj.Mv(e,A)}};jS.prototype.f=function(){if(this.uj)this.fj.f();
if(this.Am)this.Am.f()};jS.prototype.Ws=function(e,A){var a=this.Ca,p;if(A==null)A=a.indexOf(e.currentTarget);
this.fL=A;for(var c=0;c<a.length;c++)B.Xi(a[c],"active");B.LM(a[A],"active");if(this.uj)A--;B.XK(this.vn);
if(A==-1)p=this.fj;else p=Storage.ab3(A);this.Am=p;p.parent=this;this.vn.appendChild(p.e);this.YQ(this.SB,this.Ps);
this.f()};jS.prototype.YQ=function(e,A){this.SB=e;this.Ps=A;var a=e<850,p=a?50:200,N=Storage.list;if(this.uj)N=[["Home",null,"strg/home"]].concat(N);
for(var c=0;c<N.length;c++){var i=this.Ca[c],Z="padding: 8px "+(a?13:36)+"px; cursor:pointer;";i.setAttribute("style",Z);
i.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+PIMG[N[c][2]]+"\" /> "+(a?"":N[c][0])}this.e.style.width=e+"px";
this.e.style.height=A+"px";this.T9.style.width=p+"px";this.T9.style.paddingTop="32px";if(this.Am)this.Am.YQ(e-p,A)};
jS.Yz=function(){var e=this.e=B.t("div");e.style.background="var(--bg-canvas)";var A=this.Lh=B.t("div");
e.appendChild(A);var a=B.t("style");e.appendChild(a);a.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var c=0;c<2;c++){var p=B.t("div"),a="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";A.appendChild(p);
if(c==0)a+="padding: 12px 0px";if(c==1)a+="position:absolute;  bottom:0;";p.setAttribute("style",a);
var N=B.t("img");p.appendChild(N);N.setAttribute("src",PIMG[c==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);
if(c==0)this.K6=N;else this.a1I=N;if(c==0)this.amr=p;else this.ahl=p}this.Ca=[];a="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var i=this.SC.bind(this);for(var c=0;c<3;c++){var Z=B.t("span","bhover");this.Ca.push(Z);Z.setAttribute("style",a+"cursor:pointer; padding:12px;");
Z.addEventListener("click",i,!1);A.appendChild(Z)}B.jA(A);B.jA(A);var Z=B.t("div");Z.setAttribute("style",a+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
Z.textContent="Drop any files here";A.appendChild(Z);this.T=B.t("canvas");this.T.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.Ae=this.T.getContext("2d");this.a29=j.Q(4);e.appendChild(this.T);var s=new Date().getDate(),D=new Date().getMonth();
if(D==11&&s>20||D==0&&s<10){var n=Math.random()<.5,S={o:255,J:255,k:255};if(!n){S=j.BA(Math.random(),Math.random()*.7,1);
S.o*=255;S.J*=255;S.k*=255}this.Os=[Math.round(1048575*Math.random()),n?.05:.02,Math.round(4+Math.random()*8),1,n?3:15,S,0,!0,n,n?1:.2,3];
this.a5$=n?.1:.2;this.ri=this.ud.bind(this);window.requestAnimationFrame(this.ri)}};jS.Yz.prototype=new b5;
jS.Yz.prototype.ud=function(){window.requestAnimationFrame(this.ri);if(!B.ND(this.e))return;var e=this.a29,A=this.T,a=this.Ae,p=A.width,N=A.height;
this.Os[6]=Date.now()*.001*this.a5$;j.RI.bd(e,p,N,this.Os,!0);a.putImageData(new ImageData(new Uint8ClampedArray(e.buffer),p,N),0,0)};
jS.Yz.prototype.SC=function(e){var c=this.Ca.indexOf(e.currentTarget),A=new k4(t.E.L,!0);if(c==0)A.data={d:t.c.Ch,NY:"newproject"};
if(c==1)A.data={d:t.c.hy};if(c==2)A.data={d:t.c.Ch,NY:"res0"};this.S(A)};jS.Yz.prototype.f=function(){var e=this.Ca,A=[[11,7],[1,6],["PSD VAR0",[25,0]]],a=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var c=0;c<e.length;c++)e[c].textContent=a[c]+"\u2000"+i1.get(A[c]);var p="l"+"o"+"g"+"o",N=new Date;
if(N.getMonth()==3&&N.getDate()==1)p="lo"+"go_cuc"+"umber";this.K6.setAttribute("src",PIMG[p]);this.a1I.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
jS.Yz.prototype.YQ=function(e,A){var a=Math.min(A*1.5,Math.min(e,600));B.ql(this.T,e,a*.26);var p=this.T.width,N=this.T.height;
this.a29=j.Q(p*N*4);this.e.style.width=e+"px";this.e.style.height=A+"px";this.ahl.style.width=e+"px";
this.Lh.style.marginLeft=Math.max(0,Math.round((e+200-600)/2)-200)+"px";this.K6.style.width=a+"px";this.a1I.style.width=a+"px"};
jS.Yz.prototype.Mv=function(e,A){if(!e.FX)this.Lh.removeChild(this.Ca[2])};function Storage(e){b5.call(this);
var A=this.e=B.t("div","storage");B.SU(A);var a=this.aay=B.t("style");A.appendChild(a);A.setAttribute("tabindex","0");
A.style.outline="none";A.addEventListener("keydown",this.anK.bind(this),!1);this.xR=this.arN.bind(this);
var p=B.t("div");A.appendChild(p);var N=this.at1.bind(this);this.W7=B.t("div","bar");p.appendChild(this.W7);
this.XY=B.t("div","fls scrollable");p.appendChild(this.XY);this.k3=B.t("div");p.appendChild(this.k3);
this.k3.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.qn=B.t("div","bar");this.qn.textContent="Name: ";var i=this.j8=B.t("input");i.setAttribute("type","text");
this.qn.appendChild(i);var Z=this.T5=B.t("div","btn");Z.textContent="Save";this.qn.appendChild(Z);B.xq(Z,N);
B.V3(this.XY,this.xR);this._$=0;this.rM=e;this.kc=B.t("div","btn");B.xq(this.kc,this.a4R.bind(this));
this.K8=new fx([{name:[6,20]}]);this.K8.parent=this;this.K8.h("select",this.azS,this);this.XY.addEventListener("contextmenu",this.xR);
this.arf=B.t("span");this.Ij=B.t("span");this.Ij.setAttribute("style","position:absolute; right:0; top:5px;");
this.D$=[];this.Hj=[];for(var c=0;c<3;c++){var s=B.t("div","btn");this.D$.push(s);this.arf.appendChild(s);
B.xq(s,N);s.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][c]}for(var c=0;c<4;c++){var s=B.t("div","btn");
this.Hj.push(s);this.Ij.appendChild(s);B.xq(s,N)}window.addEventListener("message",this.ahz.bind(this),!1);
this.a4T=!1;setInterval(this.abe.bind(this),300);this.VM()}Storage.prototype=new b5;Storage.Oz=!1;Storage.prototype.abe=function(){var e=B.ND(this.e),A=this.a4T;
if(e&&!A){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!e&&A){window.onpopstate=function(){};
history.go(-1)}this.a4T=e};Storage.prototype.VM=function(){if(this.fy)document.body.removeChild(this.fy);
this.B3=[[]];this.EM=0;this.a40={"/":[]};this.aal="";this._k=null;this.b2=[];this.nv=[];var e="code/storages/"+Storage.list[this.rM][1],A=this.fy=B.t("iframe");
A.setAttribute("src",e);A.setAttribute("style","display:none");document.body.appendChild(A)};Storage.prototype.Nq=function(){return this.a40[this.fA()]};
Storage.prototype.MF=function(e){this.a40[this.fA()]=e};Storage.ab3=function(c){var e=Storage.mf[c];
if(e==null)e=Storage.mf[c]=new Storage(c);return e};Storage.mf=[];Storage.KK=0;Storage.acT="";Storage.rE=function(e,A){Storage.KK=e;
Storage.acT=A;var a=Storage.mf;for(var c=0;c<a.length;c++)if(a[c])a[c].Se()};Storage.YI=0;Storage.kt=2;
Storage.pu=0;Storage.list=[["This Device","deviceStorage.html","strg/tdevice"],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive"],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive"],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive"],["OneDrive","onedriveStorage.html","strg/onedrive"],["Dropbox","dropboxStorage.html","strg/dropbox"],["PeaDrive","peadriveStorage.html","strg/peadrive",!0]];
Storage.a3A=function(e){for(var c=0;c<Storage.mf.length;c++){if(Storage.mf[c]&&Storage.mf[c].fy.contentWindow==e)return!0}return!1};
Storage.prototype.anK=function(e){if(e.target.tagName=="INPUT")return;var A=g4;if(A.ys(e.code,A.P1)&&this.fA().length!=0)this.a9H();
else if(e.ctrlKey){if(A.ys(e.code,A.c)){var a=[];this.MF(a);for(var c=0;c<this._k.length;c++)a.push(c);
this.$B()}if(A.ys(e.code,A.AA)){}if(A.ys(e.code,A.uq)){}}else if(A.ys(e.code,A.e2)){var p=this.Nq();
if(p.length!=0)this.azR(p[0])}else if(A.ys(e.code,A.Pk)){this.EM=Math.max(this.EM-1,0);this.FB()}else{var N=0;
for(var c=65;c<=90;c++)if(e.code=="Key"+String.fromCharCode(c))N=c;if(N!=0){var i=String.fromCharCode(N).toLowerCase(),Z=[],s=this._k,D;
for(var c=0;c<s.length;c++)if(s[c][0][0].toLowerCase()==i)Z.push(c);if(Z.length==0)return;var p=this.Nq();
if(p.length==0)D=Z[0];else{var n=Z.indexOf(p[0]);if(n==-1){D=Z[0];for(var c=0;c<Z.length;c++)if(Z[c]>p[0]){D=Z[c];
break}}else D=Z[(n+1)%Z.length]}this.MF([D]);this.$B(!0)}}};Storage.prototype.YQ=function(e,A){this.SB=e;
this.Ps=A;this.e.style.width=e+"px";this.e.style.height=A+"px";var a=e-30,p=Math.floor(a/230),a=Math.floor(a/p)-70;
this.aay.textContent=".storage .tile .name {  width:"+a+"px;  }";this.j8.style.width=e-140+"px";this.XY.style.width=this.W7.style.width=e-20+"px";
this.XY.style.height=A-70-(Storage.KK==0?0:45)+"px"};Storage.prototype.a4R=function(){this.FB()};Storage.prototype.FB=function(){this.Hp("show",this.fA())};
Storage.prototype.fA=function(e){var A=this.B3[this.EM],a="/"+A.join("/");if(e&&A.length!=0)a+="/";return a};
Storage.prototype.at1=function(e){var A=e.currentTarget,a=this.EM,p=this.D$.indexOf(A),N=this.Hj.indexOf(A);
if(p>=0&&!this.awd(p))return;if(p==0){this.EM=Math.max(a-1,0);this.FB()}if(p==1){this.EM=Math.min(a+1,this.B3.length-1);
this.FB()}if(p==2){var i=this.B3[a+1]=this.B3[a].slice(0);i.pop();this.EM++;this.B3=this.B3.slice(0,this.EM+1);
this.FB()}if(N==0){Storage.YI=(Storage.YI+1)%2;this.Se()}if(N==1){Storage.kt=(Storage.kt+1)%3;this.Se()}if(N==2){Storage.pu=(Storage.pu+1)%3;
this.Se()}if(N==3){this.Hp("forget","")}if(A==this.T5){var Z=this.j8.value.trim(),s=this._k,D=-1;if(!Z.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var c=0;c<s.length;c++)if(s[c][0]==Z)D=c;if(D!=-1){this.asZ("Do you really want to replace \""+Z+"\"?",this.a7e.bind(this))}else this.a7e()}};
Storage.prototype.a7e=function(){var e=this.j8.value.trim(),A=[this.rM,this.fA(!0)+e];this.gH({d:t.c.avw,DB:A});
this.S(new k4("canclose",!0))};Storage.prototype.azS=function(e){var A=e.target.Yy();if(e.target==this.K8){var a=[i1.get([6,20]),-1,0];
this._k.push(a);this.Se();var c=this._k.indexOf(a),p=this.b2[c].querySelector(".name");console.log(p);
var N=new kc.Jj(p,function(F){this.gH({d:t.c.H7,pS:i1.get([1,2])+" ..."});var $=this.fA(!0)+F+"/";console.log($);
this.Hp("save",$)}.bind(this),!0)}else{if(A[0]==0)this.a9H();else if(A[0]==1){var c=this.Nq()[0],i=this._k[c],p=this.b2[c].querySelector(".name");
console.log(p);p.innerHTML=i[0];var N=new kc.Jj(p,function(F){F=F.trim();var $=this._k;for(var c=0;c<$.length;
c++)if($[c][0]==F){alert("Item with such name already exists.");this.Se();return}var m=this.fA(!0)+i[0]+":"+F;
console.log(m);this.Hp("rename",m)}.bind(this))}else{var Z=this._k[this.Nq()[0]],s=Storage.AF(Z),D=s[A[1]],n=D[0],S=this.Hg().pop()[1];
if(Storage.aow(Z,n)!=-1){this.Hp("share",S+":"+n+":-1");alert("Unshared.")}else{this.Hp("share",S+":"+n+":"+A[2]);
alert("Shared.")}}}};Storage.aow=function(e,A){var a=e[4];if(a==null)return-1;if(a.indexOf(A+":0")!=-1)return 0;
if(a.indexOf(A+":1")!=-1)return 1;return-1};Storage.prototype.a9H=function(){var e=this.Nq();this.asZ("Do you really want to delete "+(e.length==1?"\""+this._k[e[0]][0]+"\"":"these files")+"?",this.kK.bind(this))};
Storage.prototype.asZ=function(e,A){var a={d:t.c.Ch,NY:"confirm",Z:e,AJ:A};this.gH(a)};Storage.prototype.kK=function(){this.gH({d:t.c.H7,pS:i1.get([5,4])+" ..."});
this.nv=this.Hg();this.oP()};Storage.prototype.oP=function(){if(this.nv.length==0){this.gH({d:t.c.sL,pS:i1.get([5,4])+" ..."});
this.MF([]);this.FB()}else this.Hp("delete",this.nv.pop()[1])};Storage.prototype.Hg=function(){var e=[],A=this.fA(!0),a=this.Nq();
for(var c=0;c<a.length;c++){var p=this._k[a[c]];e.push([this.rM,A+p[0]])}return e};Storage.prototype.Hp=function(e,A){B.LM(this.e,"disabled");
this.aal=e;if(Storage.Oz)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+e+"\", \"prm\": "+JSON.stringify(A)+"  }");
this.fy.contentWindow.postMessage("{\"code\": \""+e+"\", \"prm\": "+JSON.stringify(A)+"  }","*")};Storage.avf=[200*(1<<20),2e3*(1<<20)];
Storage.prototype.ahz=function(e){if(e.source!=this.fy.contentWindow)return;B.Xi(this.e,"disabled");
if(typeof e.data=="string"){if(Storage.Oz)console.log("==",Math.floor(Date.now()/1e3),e.data);var A=JSON.parse(e.data),a=A.code,p=A.prm,N=this.aal;
if(a=="ready"){var i=Storage.list[this.rM][3];if(i&&!p){var Z=d4.p8();console.log(Z);var s=d4.JF(),D=s.acc;
if(Z==null){alert("Log in to use this storage (press Account at the top).");return}var n=[],S=Z.wantToJoin;
for(var F in S)n.push(parseInt(F.slice(1)));var $=[],m=Z.inTeams;for(var c=0;c<m.length;c++)$.push(m[c][2]);
var J={uid:Z.id,limit:Storage.avf[d4.tl()?1:0],inTeams:$,myTeams:n};J.secret=D&&D.pds?D.pds:"";this.Hp("login",J);
return}if(i&&A.secret){var s=d4.JF(),D=s.acc;if(D==null)D=s.acc={};D.pds=A.secret;d4.YM(s)}if(p)this.FB();
else{B.XK(this.W7);B.XK(this.XY);this.W7.appendChild(this.kc)}}else if(a!="0"){if(N=="save")this.gH({d:t.c.sL,pS:i1.get([1,2])+" ..."});
if(N=="delete")this.oP();alert(p);this.Se()}else if(N=="show"){this._k=p;this.Se()}else if(N=="save"){this.gH({d:t.c.sL,pS:i1.get([1,2])+" ..."});
this.FB()}else if(N=="delete"){this.oP()}else if(N=="forget"){this.VM()}else if(N=="rename"||N=="share"){this.FB()}else throw a}else{if(Storage.Oz)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.gH({d:t.c.avO,DB:this.Hg()[0],bD:e.data});this.gH({d:t.c.sL,pS:"Opening ..."})}};Storage.prototype.awd=function(c){if(c==0)return this.EM>0;
if(c==1)return this.EM<this.B3.length-1;if(c==2)return this.fA()!="/"};Storage.prototype.Se=function(){var e=Storage.list[this.rM][3],A=this._k,a=Storage.kt,p=Storage.YI,N=Storage.pu;
if(A==null)return;A.sort(function(h,P){var H=h[1]==-1?1:5,U=P[1]==-1?1:5,X=0;if(Math.min(H,U)==1&&H!=U)return H-U;
else if(H==1||a==0)X=h[0].toLowerCase()<P[0].toLowerCase()?-1:1;else if(a==1)X=h[1]-P[1];else if(a==2)X=h[2]-P[2];
if(p==1)X=-X;if(h[0]=="Shared")X=-1;if(P[0]=="Shared")X=1;return X});var i=this.XY,Z=this.W7,s=this.B3[this.EM];
B.XK(i);B.XK(Z);this.b2=[];for(var c=0;c<3;c++)if(this.awd(c))B.Xi(this.D$[c],"disabled");else B.LM(this.D$[c],"disabled");
Z.appendChild(this.arf);Z.appendChild(this.Ij);var D=B.t("span");D.textContent="/";Z.appendChild(D);
for(var c=0;c<s.length;c++){var D=B.t("span");D.textContent=s[c];Z.appendChild(D);var D=B.t("span");
D.textContent="/";Z.appendChild(D)}var n=["tile","icon","litm"][N];for(var c=0;c<A.length;c++){var S=A[c],F=S[1]==-1,$=F?"":iW.xc(S[1]),m=B.t("div","cont "+n),k=!1;
i.appendChild(m);this.b2.push(m);m.setAttribute("title",S[0]+(F?"":"\nSize: "+$+"\nDate Modified: "+new Date(S[2]*1e3).toLocaleString().replaceAll(". ",".")));
var J=B.t("img");J.setAttribute("src",F?Storage.aze:S[3]?S[3]:Storage.NW);if(!F&&S[3])J.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var w=B.t("span","name"),f=S[0];if(n=="icon"&&f.length>30)f=f.slice(0,24)+".."+f.slice(f.length-5);if(e&&s.length==1&&s[0]=="Shared"){var b=Storage.AF(),L=parseInt(f.slice(5));
for(var C=0;C<b.length;C++)if(b[C][0]==L)f=b[C][1]}w.textContent=f;m.appendChild(J);m.appendChild(w);
if(n!="icon"&&!F){if(n=="tile")B.jA(w);var M=B.t("span");M.textContent=$;M.style.opacity="0.8";(n=="tile"?w:m).appendChild(M)}var y=S[0].split("."),Q=(y.length==1?"":y.pop()).toUpperCase();
if(e&&S[0]=="Shared"&&s.length==0){k=!0;Q="\u21E7"}if(n!="litm"&&(!F&&S[3]==null||k)){var E=B.t("span","ext");
E.textContent=Q;var _=Storage.gV[Q];E.style.backgroundColor=_?_:Storage.aq_(Q);m.appendChild(E)}B.V3(m,this.xR);
m.addEventListener("contextmenu",this.xR)}this.$B();var v=this.qn.parentNode!=null,V=Storage.KK,R=this.e;
if(v&&V==0)R.removeChild(this.qn);if(!v&&V==1)R.appendChild(this.qn);this.YQ(this.SB,this.Ps);this.f()};
Storage.prototype.$B=function(e){var A=this.b2,a=this._k,p=this.Nq(),N=!1,i=0;for(var c=0;c<A.length;
c++){var Z=a[c],s=Z[1]==-1,D=A[c];if(Storage.KK==1&&!s&&!Z[0].toLowerCase().endsWith(".psd"))D.style.display="none";
else D.style.display="auto";if(p.indexOf(c)==-1)B.Xi(D,"active");else{if(s)N=!0;else i+=Z[1];B.LM(D,"active");
if(e)D.scrollIntoView({block:"center",behavior:"smooth"})}}var n=N?"":iW.xc(i);this.k3.textContent=p.length==0?"":p.length+" item"+(p.length==1?"":"s")+" selected\u2001"+n;
this.j8.value=p.length==1&&!N?a[p[0]][0]:Storage.acT};Storage.prototype.azR=function(c){var e=this._k[c];
if(e[1]==-1){var A=this.B3[this.EM].slice(0);A.push(e[0]);this.EM++;this.B3[this.EM]=A;this.B3=this.B3.slice(0,this.EM+1);
this.MF([]);this.FB()}else if(Storage.KK==0){this.gH({d:t.c.H7,pS:"Opening ..."});this.S(new k4("canclose",!0));
var a=this.fA(!0)+e[0];this.Hp("load",a)}};Storage.prototype.f=function(){var e=Storage.kt,A=Storage.YI,a=Storage.pu;
this.Hj[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][A];this.Hj[1].textContent=i1.get([[12,48],[12,14,0],"Date"][e]);
this.Hj[2].textContent=i1.get(["Tiles","Icons",[25,3,1]][a]);this.Hj[3].textContent="\u2716";this.kc.textContent=i1.get([[23,6],Storage.list[this.rM][0]])};
Storage.prototype.arN=function(e){this.gH({d:t.c.Ar});if(e.button==3||e.button==4){if(Date.now()-this.akw>50){var A=this.EM;
if(e.button==3)this.EM=Math.max(A-1,0);else this.EM=Math.min(A+1,this.B3.length-1);this.FB()}this.akw=Date.now();
return}e.stopPropagation();var c=this.b2.indexOf(e.currentTarget);if(e.type=="contextmenu"){if(this._k==null)return;
e.preventDefault();var a=this.K8;if(c!=-1){var p=[{name:[5,4]},{name:[6,37]}];if(Storage.list[this.rM][3]){var N=this._k[c],i=Storage.AF(N);
if(i.length!=0){var Z=[];for(var s=0;s<i.length;s++){var D=[],n=i[s],S=Storage.aow(N,n[0]);if(S!=-1)D.push({name:"Unshare"});
else D.push({name:"Allow Read"},{name:"Allow Read & Write"});Z.push({name:n[1]+[""," (R)"," (R,W)"][S+1],sub:D})}p.push({name:"Share With",sub:Z})}}a=new fx(p);
a.parent=this;a.h("select",this.azS,this)}a.parent=this;a.f();a.update();this.gH({d:t.c.OY,U7:a,x:e.clientX+4,y:e.clientY});
return}var F=this.Nq(),$=F.indexOf(c);if(e.button!=0&&$!=-1)return;if(e.target==this.XY)this.MF([]);
else{if(e.ctrlKey){if($==-1)F.push(c);else F.splice($,1)}else if(e.shiftKey&&F.length!=0){var s=F[0];
if(s<c){var m=c;c=s;s=m}F=[];this.MF(F);for(var J=c;J<=s;J++)F.push(J)}else{this.MF([c]);if(Date.now()-this._$<300&&F.length!=0&&F[0]==c){this.azR(c);
this._$=0}}}this._$=Date.now();this.$B()};Storage.prototype.gH=function(e){var A=new k4(t.E.L,!0);A.data=e;
this.S(A)};Storage.AF=function(e){var A=[],a=[],p=d4.JF(),N=p.acc.tstart;if(N)for(var c=0;c<N.length;
c++){A.push([N[c][2],N[c][0]]);a.push(N[c][2])}var i=d4.p8();N=i.inTeams;if(N)for(var c=0;c<N.length;
c++){A.push([N[c][2],N[c][0]]);a.push(N[c][2])}if(e&&e[4]){for(var c=0;c<e[4].length;c++){var Z=parseInt(e[4][c].split(":")[0]);
if(a.indexOf(Z)==-1)A.push([Z,"Team "+Z])}}return A};Storage.prototype.aex=function(e,A){this.gH({d:t.c.H7,pS:i1.get([1,2])+" ..."});
this.Hp("save",e);if(Storage.Oz)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");this.fy.contentWindow.postMessage(A,"*")};
Storage.gV={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.aq_=function(e){e=e.toLowerCase();var A=0;
for(var c=0;c<e.length;c++)A+=e.charCodeAt(c)*613<<8*c;return"#"+j.yj(A&16777215)};Storage.aze="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.NW="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function hR(e){b5.call(this);var A=this.e=B.t("div","form scrollable padded label12");this.k$=e;this.Br=null;
var a=[],p=hR.Ii[e];this.$h=[];for(var N in p){var i=parseInt(N.slice(1)),Z=i%10==0?"":"\u2800\u2800- ";
a.push(Z+p[N]);this.$h.push(i)}this.a8=[new fp("Name",null,30),new fp("Description",null,30,4),e==0?new fp("File"," www.Photopea.com#i...",17):new aT("File",!1,!1),new fp("Thumbnail URL","* Use Imgur.com etc.",17),new el("Category",a),new ie("Make Public"),new c$("<< Back",null,null,!0),new c$("Save",null,null,!0)];
if(e==0)this.a8.push(new bQ("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new bQ("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\"."));
if(e==1)this.a8.push(new bQ("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(e!=0)this.a8.push(new bQ("Do not load any file to preserve the old version."));for(var c=0;c<this.a8.length;
c++){var s=this.a8[c];A.appendChild(s.e);s.parent=this;if(c!=4&&c!=6)B.jA(A);if(s instanceof c$)s.h("click",this.ao9,this)}}hR.prototype=new b5;
hR.prototype.ao9=function(e){if(e.target==this.a8[6]){this.S(new k4("back"));return}var A=this.a8[3].b().trim(),a=A.startsWith("http")&&(A.endsWith(".jpeg")||A.endsWith(".jpg")||A.endsWith(".png")||A.endsWith(".gif"));
if(!a){alert("Thumbnail URL is incorrect.");return}var p=new XMLHttpRequest,N="mirror.php?url="+encodeURIComponent(A);
p.open("GET",N);p.responseType="arraybuffer";p.onload=this.av$.bind(this);p.send()};hR.prototype.av$=function(e){var A=e.target.response,a=A.byteLength;
if(a>2e5&&fI.ti(A)!="gif"){alert("Thumbnail is too large ("+iW.xc(a)+"). Make it under 200 kB.");return}var p=this.a8[2].b(),N=Object.keys(p);
if(this.k$!=0&&N.length!=0){console.log(p);c6.Yg.awX(p[N[0]].buffer,N[0],this.a3z.bind(this),"pp-resources");
return}this.a3z()};hR.prototype.a3z=function(e){var A=this.k$,a="name desc file thmb catg publ".split(" "),p=this.Br;
for(var c=0;c<6;c++){if(A!=0&&c==2)continue;var N=this.a8[c].b();if(c<=3){N=N.trim();if(N.length==0){alert("One of values is empty.");
return}}if(c==2){var i=N.split("#i");if(i.length!=2||i[1].length!=8){alert("File ID is incorrect.");
return}N=i.pop()}if(c==4)N=this.$h[N];p[a[c]]=N}if(A!=0){if(e)p.file=e;else if(p.file==null){alert("Select a file from your computer.");
return}}if(p.utme.length==0)p.utme=""+Math.round(Date.now()/1e3);p.type=A;this.S(new k4("save"))};hR.prototype.f=function(){};
hR.prototype.z=function(e){var A=this.Br=JSON.parse(JSON.stringify(e)),a="name desc file thmb catg publ".split(" ");
for(var c=0;c<6;c++){var p=A[a[c]];if(p!=""&&c==2)p="https://photopea.com#i"+p;if(c==4)p=this.$h.indexOf(p);
if(c==5&&p==null)p=!0;this.a8[c].z(p)}};hR.prototype.b=function(){return JSON.parse(JSON.stringify(this.Br))};
hR.Ii=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function bo(e){b5.call(this);this.N$=e;this.e=B.t("div","");this.Z4=[];this.pf=null;this.amp=[]}bo.prototype=new b5;
bo.prototype.PU=function(e){};bo.prototype.IQ=function(){return!1};bo.prototype.YQ=function(e,A){};bo.prototype.Mv=function(e,A){};
bo.prototype.TH=function(e){};bo.prototype.z=function(e,A,a,p,N,i){var Z=[],s=this.Z4,D=0,n=hZ.kB["s"+this.N$];
n?n(e,Z,i):this.hm(e,Z,i);for(var c=0;c<s.length;c++)if(!(s[c]instanceof bQ))s[c].z(Z[D++]);if(e.RndS)this.pf=e.RndS.v};
bo.prototype.b=function(){var e=hZ.T$(this.N$),A=[],a=this.Z4,p=0;for(var c=0;c<a.length;c++)if(!(a[c]instanceof bQ))A[p++]=a[c].b();
var N=hZ.kB["g"+this.N$];N?N(e,A):this.uk(e,A);if(e.RndS)e.RndS.v=this.pf;return e};bo.prototype.CE=function(e){};
bo.prototype.$T=function(e){if(e&&e.target instanceof c$){this.pf=Math.floor(Math.random()*4294967295)}var A=this.amp;
for(var c=0;c<A.length;c+=2){var a=this.Z4[A[c]],p=this.Z4[A[c+1]],N=a.b(),i=p.b();if(e.target==a)p.z(Math.max(N,i));
else a.z(Math.min(N,i))}this.S(new k4(t.E.A))};bo.prototype.f=function(){for(var c=0;c<this.Z4.length;
c++)this.Z4[c].f();var e=this.a5P;if(e)e.f()};bo.prototype.tP=function(e){B.LM(this.e,"form");var A=this.Z4;
for(var c=0;c<A.length;c++){var a=A[c];a.parent=this;a.h(t.E.A,this.$T,this);this.e.appendChild(a.e);
if(a instanceof ie&&A[c+1]instanceof dH)continue;if(e&&e.indexOf(c)!=-1)B.lk(this.e);else B.jA(this.e)}var p=hZ.T$(this.N$);
if(p.RndS){var N=this.a5P=new c$([25,1,2],null,null,!0);this.e.appendChild(N.e);N.h("click",this.$T,this)}};
bo.prototype.jV=function(){return!1};bo.prototype.MD=function(e,A,a,p,N){};bo.prototype.D1=function(e,A,a,p,N){};
bo.prototype.$Q=function(e,A,a,p,N){};bo.prototype.uk=function(e,A){};bo.prototype.hm=function(e,A){};
bo.prototype.Ej=function(e){var A=e.target.b().indexOf(!0)!=-1,a=new k4(t.E.L,!0);a.U3=!0;a.data={d:A?t.c.sk:t.c.m_,G:q.Fr};
this.S(a);a=new k4(t.E.v,!0);a.G=q.Fr;a.U3=!0;a.data={d:"supertool",G:A?this:null};this.S(a)};bo.ak9=function(e){e.jV=function(){return!0};
e.MD=function(A,a,p,N,i){this.tc=!0;this.a8b(A,i)};e.D1=function(A,a,p,N,i){if(!this.tc)return;this.a8b(A,i)};
e.$Q=function(A,a,p,N,i){this.tc=!1};e.a8b=function(A,a){var p=new dE(0,0,A.m,A.n);if(A.P)p=A.P.rect;
var N=A.u.FT(a.x,a.y);N.x-=p.x;N.y-=p.y;function i(Z,s){return Math.round(Math.max(0,Math.min(100,100*Z/s)))}this.Z4[2].z(i(N.x,p.m));
this.Z4[3].z(i(N.y,p.n));this.$T()}};bo.Bokh=function(){bo.call(this,"Bokh");this.Z4=[new el("Depth Map",["A","b"]),new c8("Focal Distance",0,255),new ie([4,11]),new el([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new c8([12,56],0,100),new c8([12,15],0,360),new c8([12,2],0,100),new c8([4,13],0,255),new c8([24,6],0,100),new ah([12,58],[[12,59,0],[12,59,1]]),new ie([12,60])];
this.tP([5,7])};bo.Bokh.prototype=new bo;bo.Bokh.prototype.hm=function(e,A,a){var p=[[22,5,0],[6,5,3],[6,2]],N=e.BkDi.v.BtDi,i=e.BkDc,Z=0;
if(N=="BeIn")Z=0;else if(N=="BeIt"&&i.v.BtDc=="BeCt")Z=1;else if(N=="BeIt"&&i.v.BtDc=="BeCm")Z=2;else Z=3+i.v;
for(var c=0;c<a[1].length;c++)p.push(a[1][c].name);this.Z4[0].z8(p,[3]);A[0]=Z;A[1]=e.BkDp.v;A[2]=e.BkDs.v;
A[3]=parseInt(e.BkIs.v.BtIs.slice(3))-3;A[4]=e.BkIb.v;A[5]=e.BkIr.v;A[6]=e.BkSb.v;A[7]=e.BkSt.v;A[8]=e.BkNa.v;
A[9]=e.BkNt.v.BtNt=="BeNu"?0:1;A[10]=e.BkNm.v};bo.Bokh.prototype.uk=function(e,A){var a;if(A[0]==0){a="BeIn";
delete e.BkDc}else if(A[0]<3){a="BeIt";e.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][A[0]-1]}}}else{a="BeIa";
e.BkDc={t:"long",v:A[0]-3}}e.BkDi.v.BtDi=a;e.BkDp.v=A[1];e.BkDs.v=A[2];e.BkIs.v.BtIs="BeS"+(3+A[3]);
e.BkIb.v=A[4];e.BkIr.v=A[5];e.BkSb.v=A[6];e.BkSt.v=A[7];e.BkNa.v=A[8];e.BkNt.v.BtNt=["BeNu","BeNg"][A[9]];
e.BkNm.v=A[10]};bo.oilPaint=function(){bo.call(this,"oilPaint");this.Z4=[new c8([12,56],.1,10,"px",!0),new c8("Cleanliness",0,10,"px",!0),new c8([12,38],.1,10,null,!0),new c8("Bristle Detail",0,10,null,!0),new ie("Lighting"),new c8("Shine",0,10,null,!0),new cx([12,15])];
this.tP()};bo.oilPaint.prototype=new bo;bo.oilPaint.prototype.hm=function(e,A){var a="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var c=0;c<a.length;c++)A[c]=e[a[c]].v;A[6]=[e.LghD.v]};bo.oilPaint.prototype.uk=function(e,A){var a="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var c=0;c<a.length;c++)e[a[c]].v=A[c];e.LghD.v=A[6][0]};bo.TrcC=function(){bo.call(this,"TrcC");
this.Z4=[new c8("Level",0,255),new ah([12,69],[[19,4,1],[19,4,0]])];this.tP()};bo.TrcC.prototype=new bo;
bo.TrcC.prototype.hm=function(e,A){A[0]=e.Lvl.v;A[1]=["Lwr","Upr"].indexOf(e.Edg.v.CntE)};bo.TrcC.prototype.uk=function(e,A){e.Lvl.v=A[0];
e.Edg.v.CntE=["Lwr","Upr"][A[1]]};bo["Dfs "]=function(){bo.call(this,"Dfs ");this.Z4=[new ah([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.tP()};bo["Dfs "].prototype=new bo;bo["Dfs "].prototype.hm=function(e,A){A[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(e.Md.v.DfsM)};
bo["Dfs "].prototype.uk=function(e,A){e.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][A[0]]};bo.Embs=function(){bo.call(this,"Embs");
this.Z4=[new cx([12,15]),new c8([12,42],1,100,"px"),new c8([12,57],1,500,"%")];this.tP()};bo.Embs.prototype=new bo;
bo.Embs.prototype.hm=function(e,A){A[0]=[e.Angl.v];A[1]=e.Hght.v;A[2]=e.Amnt.v};bo.Embs.prototype.uk=function(e,A){e.Angl.v=A[0][0];
e.Hght.v=A[1];e.Amnt.v=A[2]};bo["Wnd "]=function(){bo.call(this,"Wnd ");this.Z4=[new ah([12,32],["Wind","Blast","Stagger"]),new ah([12,33],["From the Right","From the Left"])];
this.tP()};bo["Wnd "].prototype=new bo;bo["Wnd "].prototype.hm=function(e,A){A[0]=["Wnd","Blst","Stgr"].indexOf(e.WndM.v.WndM);
A[1]=["Left","Rght"].indexOf(e.Drct.v.Drct)};bo["Wnd "].prototype.uk=function(e,A){e.WndM.v.WndM=["Wnd","Blst","Stgr"][A[0]];
e.Drct.v.Drct=["Left","Rght"][A[1]]};bo.denoise=function(){bo.call(this,"denoise");this.Z4=[new c8([12,64],0,10),new c8([12,65],0,100,"%")];
this.tP()};bo.denoise.prototype=new bo;bo.denoise.prototype.hm=function(e,A){var a=e.channelDenoise.v[0].v;
A[0]=a.Amnt.v;A[1]=a.EdgF.v};bo.denoise.prototype.uk=function(e,A){var a=e.channelDenoise.v[0].v;a.Amnt.v=A[0];
a.EdgF.v=A[1]};bo.lightFilterGradient=function(){bo.call(this,"lightFilterGradient");this.Z4=[new c8([24,3,1],0,100,"px",1,!0),new c8([12,38],0,200,"%"),new ie([4,11]),new c8("High",0,100,"%"),new c8("Medium",0,100,"%"),new c8("Low",0,100,"%")];
this.tP()};bo.lightFilterGradient.prototype=new bo;bo.lightFilterGradient.prototype.hm=function(e,A){A[0]=e.blur.v;
A[1]=e.textureScale.v*100;A[2]=e.Scl.v==-1;var a=e.Dtl.v;A[3]=a[0].v*100;A[4]=a[1].v*100;A[5]=a[2].v*100};
bo.lightFilterGradient.prototype.uk=function(e,A){e.blur.v=A[0];e.textureScale.v=A[1]/100;e.Scl.v=A[2]?-1:1;
var a=e.Dtl.v;a[0].v=A[3]/100;a[1].v=A[4]/100;a[2].v=A[5]/100};bo.Fbrs=function(){bo.call(this,"Fbrs");
this.Z4=[new c8("Variance",1,64),new c8([12,64],1,64)];this.tP()};bo.Fbrs.prototype=new bo;bo.Fbrs.prototype.hm=function(e,A){A[0]=e.Vrnc.v;
A[1]=e.Strg.v};bo.Fbrs.prototype.uk=function(e,A){e.Vrnc.v=A[0];e.Strg.v=A[1]};bo.LnsF=function(){bo.call(this,"LnsF");
this.Z4=[new c8([12,2],10,300,"%"),new ah([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new c8("Position X",0,100,"%"),new c8("Position Y",0,100,"%")];
this.tP()};bo.LnsF.prototype=new bo;bo.LnsF.prototype.hm=function(e,A){A[0]=e.Brgh.v;A[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(e.Lns.v.Lns);
var a=e.FlrC.v;A[2]=Math.round(a.Hrzn.v*100);A[3]=Math.round(a.Vrtc.v*100)};bo.LnsF.prototype.uk=function(e,A){e.Brgh.v=A[0];
e.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][A[1]];var a=e.FlrC.v;a.Hrzn.v=A[2]/100;a.Vrtc.v=A[3]/100};bo.ak9(bo.LnsF.prototype);
bo.blendOptions=function(){bo.call(this,"blendOptions");this.Z4.push(new el([12,19,0],im.Wj,im.E_));
this.Z4.push(new c8([12,0],0,100,"%"));this.tP()};bo.blendOptions.prototype=new bo;bo.blendOptions.prototype.hm=function(e,A){A[0]=im.Jd.indexOf(e.Md.v.BlnM);
A[1]=e.Opct.v.val};bo.blendOptions.prototype.uk=function(e,A){e.Md.v.BlnM=im.Jd[A[0]];e.Opct.v.val=A[1]};
bo.LnCr=function(){bo.call(this,"LnCr");this.Z4=[new c8([12,57],-100,100),new c8([12,38],10,150,"%")];
this.tP()};bo.LnCr.prototype=new bo;bo.LnCr.prototype.hm=function(e,A){A[0]=e.LnIa.v;A[1]=e.LnSi.v};
bo.LnCr.prototype.uk=function(e,A){e.LnIa.v=A[0];e.LnSi.v=A[1]};bo.adaptCorrect=function(){bo.call(this,"adaptCorrect");
var e=f1;this.Z4=[new bQ([19,6,0]),new e([12,57],0,100,"%"),new e("Tone",0,100,"%"),new e([12,56],0,200,"px"),new bQ([19,6,2]),new e([12,57],0,100,"%"),new e("Tone",0,100,"%"),new e([12,56],0,200,"px"),new bQ([3]),new e([13,0],-100,100)];
this.tP([3,7])};bo.adaptCorrect.prototype=new bo;bo.adaptCorrect.prototype.hm=function(e,A){var a=e.sdwM.v;
A[0]=a.Amnt.v.val;A[1]=a.Wdth.v.val;A[2]=a.Rds.v;var a=e.hglM.v;A[3]=a.Amnt.v.val;A[4]=a.Wdth.v.val;
A[5]=a.Rds.v;A[6]=e.ClrC.v};bo.adaptCorrect.prototype.uk=function(e,A){var a=e.sdwM.v;a.Amnt.v.val=A[0];
a.Wdth.v.val=A[1];a.Rds.v=A[2];var a=e.hglM.v;a.Amnt.v.val=A[3];a.Wdth.v.val=A[4];a.Rds.v=A[5];e.ClrC.v=A[6]};
bo.Flam=function(){bo.call(this,"Flam");var e=this.Z4=[new el([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new c8([12,80,0],20,1e3,"px"),new ie("Randomize Length"),new c8([12,41],5,600,"px"),new c8([12,15],0,360,"\xB0"),new c8("Interval",10,200,"px"),new ie("Adapt Interval for Loops"),new dH(!1),new el([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new c8("Turbulent",0,100),new c8("Jag",0,100),new c8([12,0],0,100),new c8("Lines",2,30),new c8("Bottom",0,100),new el([12,22],["Normal","Violent","Flat"]),new el([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new ie("Randomize Shape"),new c8("Random Seed",0,100)];
this.tP();var A=this.e;B.XK(A);var a=new ah(null,["Basic","Advanced"]);a.h(t.E.A,this.a2X,this);A.appendChild(a.e);
B.lk(A);var p=B.t("div"),N=B.t("div");this.apP=[p,N];A.appendChild(p);for(var c=0;c<e.length;c++){(c<9?p:N).appendChild(e[c].e);
if(c==6)B.jA(p)}e[0].h(t.E.A,this.atC,this);this.atC()};bo.Flam.prototype=new bo;bo.Flam.prototype.atC=function(e){var A=this.Z4,c=A[0].b();
A[1].Y7(c!=0&&c!=5);A[2].Y7(c!=0&&c!=5);A[4].Y7(c!=0&&c!=5&&c!=1);A[5].Y7(c!=0&&c!=5);A[6].Y7(c!=0&&c!=5)};
bo.Flam.prototype.a2X=function(e){var c=e.target.b(),A=this.apP,a=this.e;a.removeChild(A[1-c]);a.appendChild(A[c])};
bo.boxblur=function(){bo.call(this,"boxblur");this.Z4=[new c8([12,56],1,200," px")];this.tP()};bo.boxblur.prototype=new bo;
bo.boxblur.prototype.hm=function(e,A){A[0]=e.Rds.v.val};bo.boxblur.prototype.uk=function(e,A){e.Rds.v.val=A[0]};
bo.GsnB=function(){bo.call(this,"GsnB");this.Z4=[new c8([12,56],.1,400,"px",1,!0)];this.tP()};bo.GsnB.prototype=new bo;
bo.Dila=function(){bo.call(this,"Dila");this.Z4=[new c8([11,12,1],0,20,"px",0),new c8([12,56],0,400,"px",0,!0)];
this.tP()};bo.Dila.prototype=new bo;bo.MtnB=function(){bo.call(this,"MtnB");this.Z4=[new cx([12,15]),new c8([12,28],1,100," px")];
this.tP()};bo.MtnB.prototype=new bo;bo.RdlB=function(){bo.call(this,"RdlB");this.Z4=[new c8([12,57],1,100),new ah([12,36],["Spin","Zoom"]),new c8("Position X",0,100,"%"),new c8("Position Y",0,100,"%")];
this.tP()};bo.RdlB.prototype=new bo;bo.RdlB.prototype.hm=function(e,A){A[0]=e.Amnt.v;A[1]=["Spn","Zm"].indexOf(e.BlrM.v.BlrM);
A[2]=e.Cntr.v.Hrzn.v*100;A[3]=e.Cntr.v.Vrtc.v*100};bo.RdlB.prototype.uk=function(e,A){e.Amnt.v=A[0];
e.BlrM.v.BlrM=["Spn","Zm"][A[1]];e.Cntr.v.Hrzn.v=A[2]/100;e.Cntr.v.Vrtc.v=A[3]/100};bo.ak9(bo.RdlB.prototype);
bo.Dspl=function(){bo.call(this,"Dspl");this.Z4=[new el([6,36,3],["a","b"]),new c8([22,4,0],-100,100,"px"),new c8([22,4,1],-100,100,"px"),new el([24,18,0],[[24,18,3],[24,18,2]])];
this.tP()};bo.Dspl.prototype=new bo;bo.Dspl.prototype.hm=function(e,A,a){this.a54=[];this.Ul=[];var p=-1,N=a?a[0]:null;
if(N==null)N=this.a3N;else this.a3N=N;if(N)for(var c=0;c<N.length;c++){var i=N[c];this.a54.push(i._c.trim());
this.Ul.push(i.h0);if(i.h0==e.DspF.v.pth)p=c}this.Z4[0].z8(this.a54);A[0]=p==-1?0:p;A[1]=e.HrzS.v;A[2]=e.VrtS.v;
A[3]=["WrpA","RptE"].indexOf(e.UndA.v.UndA)};bo.Dspl.prototype.uk=function(e,A){if(this.Ul.length==0)return;
e.DspF.v.pth=this.Ul[A[0]];e.HrzS.v=A[1];e.VrtS.v=A[2];e.UndA.v.UndA=["WrpA","RptE"][A[3]]};bo.Pnch=function(){bo.call(this,"Pnch");
this.Z4=[new c8([12,57],-100,100,"%")];this.tP()};bo.Pnch.prototype=new bo;bo["Plr "]=function(){bo.call(this,"Plr ");
this.Z4=[new ah(null,["Rect to Polar","Polar to Rect"])];this.tP()};bo["Plr "].prototype=new bo;bo.Rple=function(){bo.call(this,"Rple");
this.Z4=[new c8([12,57],-999,999),new el([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.tP()};bo.Rple.prototype=new bo;
bo["Shr "]=function(){bo.call(this,"Shr ");this.Z4=[new hB(!0,!0),new el([24,18,0],[[24,18,3],[24,18,2]])];
this.tP()};bo["Shr "].prototype=new bo;bo["Shr "].prototype.hm=function(e,A){var a=new bj(0,255/127,255/127,0,-2,128),p=JSON.parse(JSON.stringify(e.ShrP.v));
j.Gh.D(p,a);A[0]=p;A[1]=["WrpA","RptE"].indexOf(e.UndA.v.UndA)};bo["Shr "].prototype.uk=function(e,A){var a=new bj(0,255/127,255/127,0,-2,128);
a.rQ();j.Gh.D(A[0],a);e.ShrP.v=A[0];e.ShrE.v=A[0].length-1;e.UndA.v.UndA=["WrpA","RptE"][A[1]]};bo.Sphr=function(){bo.call(this,"Sphr");
this.Z4=[new c8([12,57],-100,100),new el([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.tP()};bo.Sphr.prototype=new bo;
bo.Sphr.prototype.hm=function(e,A){A[0]=e.Amnt.v;A[1]=["Nrml","HrzO","VrtO"].indexOf(e.SphM.v.SphM)};
bo.Sphr.prototype.uk=function(e,A){e.Amnt.v=A[0];e.SphM.v.SphM=["Nrml","HrzO","VrtO"][A[1]]};bo.Dthr=function(){bo.call(this,"Dthr");
this.Z4=[new el("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new ah("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.tP()};bo.Dthr.prototype=new bo;bo.Dthr.prototype.hm=function(e,A){A[0]=e.Plte.v;A[1]=e.Mthd?e.Mthd.v:1};
bo.Dthr.prototype.uk=function(e,A){e.Plte.v=A[0];e.Mthd.v=A[1]};bo.Part=function(){bo.call(this,"Part");
this.Z4=[new c8([15,5,1],0,100,"%"),new c8([12,14,0],1,50,"px"),new c8([12,34],0,100,"%"),new c8([12,2],10,1e3,"%"),new dH(!0),new c8("Time",0,1,null,3),new c8("Turbulence",0,100,"%"),new ie("Blink"),new ie("Fall")];
this.tP([4])};bo.Part.prototype=new bo;bo.Part.prototype.hm=function(e,A){A[0]=e.Cont.v;A[1]=e.Size.v;
A[2]=e.Dpth.v;A[3]=e.Brgh.v;A[4]=e.Clr.v;A[5]=e.Time.v;A[6]=e.Turb.v;A[7]=e.Blnk.v;A[8]=e.Fall.v};bo.Part.prototype.uk=function(e,A){e.Cont.v=A[0];
e.Size.v=A[1];e.Dpth.v=A[2];e.Brgh.v=A[3];e.Clr.v=A[4];e.Time.v=A[5];e.Turb.v=A[6];e.Blnk.v=A[7];e.Fall.v=A[8]};
bo.Twrl=function(){bo.call(this,"Twrl");this.Z4=[new c8([12,15],-999,999)];this.tP()};bo.Twrl.prototype=new bo;
bo.Wave=function(){bo.call(this,"Wave");this.amp=[1,2,3,4];this.Z4=[new c8("Number of Generators",1,100),new f1("Min Length",1,999),new f1("Max Length",1,999),new f1("Min Ampl.",1,999),new f1("Max Ampl.",1,999),new f1("Scale X",1,100,"%"),new f1("Scale Y",1,100,"%"),new ah([12,44],["Sine","Triangle",[12,93,3]]),new el([24,18,0],[[24,18,3],[24,18,2]])];
this.tP()};bo.Wave.prototype=new bo;bo.ZgZg=function(){bo.call(this,"ZgZg");this.Z4=[new c8([12,57],-100,100),new c8("Ridges",0,20),new el([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.tP()};bo.ZgZg.prototype=new bo;bo.surfaceBlur=function(){bo.call(this,"surfaceBlur");this.Z4=[new c8([12,56],1,200," px"),new c8([4,13],1,255," px")];
this.tP()};bo.surfaceBlur.prototype=new bo;bo.surfaceBlur.prototype.hm=function(e,A){A[0]=e.Rds.v.val;
A[1]=e.Thsh.v};bo.surfaceBlur.prototype.uk=function(e,A){e.Rds.v.val=A[0];e.Thsh.v=A[1]};bo.AdNs=function(){bo.call(this,"AdNs");
this.Z4=[new c8([12,57],0,200," %"),new el([12,58],[[12,59,1],[12,59,0]]),new ie([12,60])];this.tP()};
bo.AdNs.prototype=new bo;bo.DstS=function(){bo.call(this,"DstS");this.Z4=[new c8([12,56],1,200," px"),new c8([4,13],1,255," px")];
this.tP()};bo.DstS.prototype=new bo;bo["Mdn "]=function(){bo.call(this,"Mdn ");this.Z4=[new c8([12,56],1,200," px")];
this.tP()};bo["Mdn "].prototype=new bo;bo["Mdn "].prototype.hm=function(e,A){A[0]=e.Rds.v.val};bo["Mdn "].prototype.uk=function(e,A){e.Rds.v.val=A[0]};
bo.ClrH=function(){bo.call(this,"ClrH");this.Z4=[new c8([12,56],4,100," px")];for(var c=1;c<4;c++)this.Z4.push(new c8("Angle "+c,0,90," \xB0"));
this.tP()};bo.ClrH.prototype=new bo;bo.ClrH.prototype.hm=function(e,A){A[0]=e.Rds.v;for(var c=1;c<4;
c++)A[c]=e["Ang"+c].v};bo.ClrH.prototype.uk=function(e,A){e.Rds.v=A[0];for(var c=1;c<4;c++)e["Ang"+c].v=A[c]};
bo.ClrH.prototype.f=function(){var e=this.Z4;e[0].f();for(var c=1;c<4;c++)e[c].WI(i1.get([12,15])+" "+c)};
bo.Crst=function(){bo.call(this,"Crst");this.Z4=[new c8([12,61],3,100," px")];this.tP()};bo.Crst.prototype=new bo;
bo.Crst.prototype.hm=function(e,A){A[0]=e.ClSz.v};bo.Crst.prototype.uk=function(e,A){e.ClSz.v=A[0]};
bo.Mztn=function(){bo.call(this,"Mztn");this.Z4.push(new el([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.Ul="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.tP()};bo.Mztn.prototype=new bo;
bo.Mztn.prototype.hm=function(e,A){A[0]=this.Ul.indexOf(e.MztT.v.MztT)};bo.Mztn.prototype.uk=function(e,A){e.MztT.v.MztT=this.Ul[A[0]]};
bo["Msc "]=function(){bo.call(this,"Msc ");this.Z4=[new c8([12,61],2,200," px")];this.tP()};bo["Msc "].prototype=new bo;
bo["Msc "].prototype.hm=function(e,A){A[0]=e.ClSz.v.val};bo["Msc "].prototype.uk=function(e,A){e.ClSz.v.val=A[0]};
bo.Pntl=function(){bo.call(this,"Pntl");this.Z4=[new c8([12,61],3,100," px")];this.tP()};bo.Pntl.prototype=new bo;
bo.Pntl.prototype.hm=function(e,A){A[0]=e.ClSz.v};bo.Pntl.prototype.uk=function(e,A){e.ClSz.v=A[0]};
bo.smartSharpen=function(){bo.call(this,"smartSharpen");this.Z4=[new c8([12,57],1,200,"%"),new c8([12,56],0,200,"px",1,!0)];
this.tP()};bo.smartSharpen.prototype=new bo;bo.smartSharpen.prototype.hm=function(e,A){A[0]=e.Amnt?e.Amnt.v.val:200;
A[1]=e.Rds?e.Rds.v.val:1};bo.smartSharpen.prototype.uk=function(e,A){e.Amnt.v.val=A[0];e.Rds.v.val=A[1]};
bo.UnsM=function(){bo.call(this,"UnsM");this.Z4=[new c8([12,57],1,200," %"),new c8([12,56],.1,400,"px",1,!0),new c8([4,13],0,255," ")];
this.tP()};bo.UnsM.prototype=new bo;bo.HghP=function(){bo.call(this,"HghP");this.Z4=[new c8([12,56],.1,400,"px",1,!0)];
this.tP()};bo.HghP.prototype=new bo;bo.HsbP=function(){bo.call(this,"HsbP");this.Z4=[new ah("Input",["RGB","HSB","HSL"]),new ah("Output",["RGB","HSB","HSL"])];
this.tP()};bo.HsbP.prototype=new bo;bo["Mxm "]=function(){bo.call(this,"Mxm ");this.Z4=[new c8([12,56],.1,200," px",1,!0),new el([12,76,1],[[12,93,3],"Circle"])];
this.tP()};bo["Mxm "].prototype=new bo;bo["Mnm "]=function(){bo.call(this,"Mnm ");this.Z4=[new c8([12,56],.1,200," px",1,!0),new el([12,76,1],[[12,93,3],"Circle"])];
this.tP()};bo["Mnm "].prototype=new bo;bo.Ofst=function(){bo.call(this,"Ofst");this.Z4=[new c8([22,4,0],-1024,1024," px"),new c8([22,4,1],-1024,1024," px"),new el([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.tP()};bo.Ofst.prototype=new bo;bo.Kale=function(){bo.call(this,"Kale");this.Z4=[new f1("Mirrors",2,20),new f1([12,15],0,360,"\xB0")];
this.tP()};bo.Kale.prototype=new bo;bo.Kale.prototype.hm=function(e,A){A[0]=e.Mirr.v;A[1]=e.MRot.v};
bo.Kale.prototype.uk=function(e,A){e.Mirr.v=A[0];e.MRot.v=A[1]};bo.Rept=function(){bo.call(this,"Rept");
this.Z4=[new f1([12,38],1,300," %"),new f1("Row Shift",-50,50," %"),new f1("Space X",-99,200," %"),new f1("Space Y",-99,200," %"),new ie([4,16,2]),new cx([12,15])];
this.tP()};bo.Rept.prototype=new bo;bo.Rept.prototype.hm=function(e,A){A[0]=e.Scl.v.val;A[1]=e.Rsft.v.val;
A[2]=e.SpcX.v.val;A[3]=e.SpcY.v.val;A[4]=e.SpcC.v;A[5]=[e.Angl.v]};bo.Rept.prototype.uk=function(e,A){e.Scl.v.val=A[0];
e.Rsft.v.val=A[1];e.SpcX.v.val=A[2];e.SpcY.v.val=A[3];e.SpcC.v=A[4];e.Angl.v=A[5][0];return e};bo.Ctoa=function(){bo.call(this,"Ctoa");
this.Z4=[new bQ([13,0]),new dH(!0),new c8(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new c8(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.tP()};bo.Ctoa.prototype=new bo;bo.Ctoa.prototype.hm=function(e,A){A[0]=e.Clr.v;A[1]=e.Trsp.v.val;
A[2]=e.Opct.v.val};bo.Ctoa.prototype.uk=function(e,A){e.Clr.v=A[0];e.Trsp.v.val=A[1];e.Opct.v.val=A[2]};
bo.LqFy=function(){bo.call(this,"LqFy");this.c8=!1;this.hF=!1;this.Q7=null;this.anF=null;this.G=0;this.sc=-1;
this.a={Sz:[[{G:{id:0,name:[24,1,0,1,0],JX:"liq/smudge"}}],[{G:{id:1,name:[24,1,0,1,1],JX:"liq/reconstruct"}}],[{G:{id:2,name:[24,1,0,1,2],JX:"liq/smooth"}}],[{G:{id:3,name:[24,1,0,1,3],JX:"liq/twirl"}}],[{G:{id:4,name:[24,1,0,1,4],JX:"liq/shrink"}}],[{G:{id:5,name:[24,1,0,1,5],JX:"liq/blow"}}],[{G:{id:6,name:[24,1,0,1,6],JX:"liq/pleft"}}],[{G:{id:7,name:"Hand",JX:"tools/hand"}}],[{G:{id:8,name:"Zoom In",JX:"zoomIn"}}],[{G:{id:9,name:"Zoom Out",JX:"zoomOut"}}]],keys:[]};
this.Zi=new dV(this.a,!1);this.Zi.nq(0);this.Zi.h(t.E.L,this.aky,this);this.En=fR.gF();this._N=null;
this.PL=[];this.Jy=-1;this.Ak=null;this.asl=null;this.Sb=null;this.fU=null;this.AE=null;var e=B.t("div","flexrow");
this.cd=e;this.e.appendChild(e);e.appendChild(this.Zi.e);this.view=new h0(!0);this.view.YQ(100,100);
this.view.h("mousedown",this.ME,this);this.view.h("mousemove",this.m3,this);this.view.h("mouseup",this.fG,this);
this.view.h("zoom",this.V2,this);e.appendChild(this.view.e);var A=B.t("div","form");e.appendChild(A);
this.A9=A;A.style.width="230px";this.ut=[new c8([12,14,0],0,1e3,null,!1,!0),new c8([12,74],0,100,null,!1,!1),new c8([12,84],0,100,null,!1,!1),new ie([12,46]),new c8([12,0],0,100,null,!1,!1),new ie([24,18,5])];
var a=this.En.Brsh.v;a.Dmtr.v.val=100;var p=[100,50,100,!1,100,!0];for(var c=0;c<this.ut.length;c++){var N=this.ut[c];
N.z(p[c]);if(c==4)N.kJ();N.h(t.E.A,this.a4b,this);A.appendChild(N.e)}var i=this.a5x=new c$([1,12,2],!0,null,!0);
i.h("click",this.Tg,this);A.appendChild(i.e);this.agh=this.R4.bind(this);this.Nk=new b5;this.Nk.e=B.t("div","floatcont");
this.xW=new c$("Menu",!1,null,!0);var Z=this.xW.e;Z.setAttribute("style","position:absolute; right:13px; top:47px");
B.V3(Z,this.arA.bind(this))};bo.LqFy.prototype=new bo;bo.LqFy.prototype.IQ=function(){return!0};bo.LqFy.prototype.PU=function(e){this.A9.appendChild(e)};
bo.LqFy.prototype.arA=function(e){if(B.ND(this.Nk.e))return;e.stopPropagation();var A=this.xW.e.getBoundingClientRect();
this.Nk.e.appendChild(this.A9);var a=new k4(t.E.L,!0);a.data={d:t.c.OY,U7:this.Nk,x:A.right+A.width-290,y:A.top+A.height};
this.S(a)};bo.LqFy.prototype.CE=function(e){this.c8=e.l(g4.uJ);var A=q.Wn.Ck(this.En,e);if(A!=null){this.En=A;
this.V2();this.ut[0].z(A.Brsh.v.Dmtr.v.val)}else if(e.l(g4.YC)&&e.l(g4.ls)){var a=this.PL;if(e.l(g4.Kp)){if(this.Jy+1<a.length)this.Jy++}else if(this.Jy>0)this.Jy--;
this._N.map=a[this.Jy].slice(0);this.Se(null)}else if(this.G<=6)this.view.CE(e);var p=this.G,N=-1,i=e.l(g4.uJ);
if(i&&this.sc==-1){if(p==0)N=1;if(p==4)N=5;if(p==5)N=4;if(N!=-1)this.sc=p}if(!i&&this.sc!=-1){N=this.sc;
this.sc=-1}if(N!=-1){this.G=N;this.Zi.nq(this.G)}};bo.LqFy.prototype.aky=function(e){if(e.data.d==t.c.sk){var A=this.G=e.data.G;
this.Zi.nq(this.G);this.view.CE(A>6?h0.acu(A-7):new g4)}};bo.LqFy.prototype.a4b=function(e){var A=e.currentTarget,c=this.ut.indexOf(A),a=this.En.Brsh.v;
if(c==0){a.Dmtr.v.val=A.b();this.V2()}this.ut[4].Y7(this.ut[3].b());if(c>2)this.Se(null)};bo.LqFy.prototype.af=function(){var e=this.PL;
this.Jy++;e[this.Jy]=this._N.map.slice(0);while(e.length>this.Jy+1)e.pop();while(e.length>50){e=e.slice(1);
this.Jy--}};bo.LqFy.prototype.ME=function(e){this.Q7=this.view.VI();this.anF=new k7(0,0);this.hF=!0;
window.requestAnimationFrame(this.agh)};bo.LqFy.prototype.m3=function(e){var A=this.view.VI(),a=new k7(A.x-this.Q7.x,A.y-this.Q7.y);
if(this.G==0||this.G==6)this.azx(a);this.Q7=A};bo.LqFy.prototype.fG=function(e){this.af();this.hF=!1};
bo.LqFy.prototype.R4=function(e){if(this.G!=0&&this.G!=6)this.azx(new k7(0,0));if(this.hF)window.requestAnimationFrame(this.agh)};
bo.LqFy.prototype.azx=function(e){var A=this._N,a=A.SB/this.Ak.m,p=this.Q7,N=this.En.Brsh.v,i=N.Dmtr.v.val,Z=Date.now(),s=A.SB,D=A.Ps,n=Math.sqrt(e.x*e.x+e.y*e.y),S=Math.max(1,Math.ceil(n/2)),F=e.x/S,$=e.y/S,m=p.clone(),J=this.G,w=this.ut[1].b()/100,f=this.ut[2].b()/100,b=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],L=b[J*2],C=b[J*2+1],M=(1-w)*L+w*C,y=i*a/2;
for(var c=0;c<S;c++){var Q=[];m.x+=F;m.y+=$;j.dV.ax8(A.map,s,D,J,m.x*a,m.y*a,y,w,f,F*a,$*a,Q,this.c8);
j.dV.ai4(s,D,A.map,Q,2*M*f)}var k=new dE(0,0,s,D),E=new dE(p.x*a,p.y*a,0,0);E.Fu(i*a*.5,i*a*.5);var _=E.clone();
_.offset(e.x*a,e.y*a);E=E.pg(_);var v=new dE(E.x/a,E.y/a,E.m/a,E.n/a);v=j.p.dE(v).Yn(this.Ak);this.ut[5].z(!0);
this.Se(v)};bo.LqFy.prototype.V2=function(){var e=jF.h9(this.En,null,this.view.m1().N);this.view.aU(e)};
bo.LqFy.prototype.z=function(e,A,a,p,N){a=a.clone();if(A==null)return;if(!p.Kx(a)){var i=a.pg(p),Z=j.Q(i.O()*4);
j._M(A,a,Z,i);A=Z;a=i;var s=j.Q(i.O()*4);j._M(N,p,s,i);N=s}a.x=a.y=0;this.Sb=A;this.asl=N;this.AE=A.slice(0);
this.fU=A.slice(0);this.Ak=a;this._N=j_.__(new Uint8Array(e.LqMe.v).buffer);var D=a.m,n=a.n;if(this._N.SB/D<.22){this._N={SB:Math.floor(D/4),Ps:Math.floor(n/4)};
this._N.map=new Float32Array(this._N.SB*this._N.Ps*2)}this.PL=[];this.Jy=-1;this.af();this.Se(null);
this.view.Z1();this.V2()};bo.LqFy.prototype.b=function(){var e=hZ.T$("LqFy"),A=new Uint8Array(j_.Yq(this._N)),a=[];
for(var c=0;c<A.length;c++)a.push(A[c]);e.LqMe.v=a;return e};bo.LqFy.prototype.YQ=function(e,A){this.Zi.YQ(e,A);
var a=this.xW.e,p=this.A9;this.cd.appendChild(p);this.cd.appendChild(a);if(e>450&&e-A>200){p.style.marginLeft="1em";
this.cd.removeChild(a);this.view.YQ(e-238-45,A)}else{p.style.marginLeft="";this.cd.removeChild(p);this.view.YQ(e-40,A)}};
bo.LqFy.prototype.f=function(){this.Zi.f();this.a5x.f();for(var c=0;c<this.ut.length;c++)this.ut[c].f()};
bo.LqFy.prototype.Tg=function(){this._N.map.fill(0);this.af();this.Se(null)};bo.LqFy.prototype.Se=function(e){var A=this.Ak,a=this.Sb,p=this.AE,N=this._N;
if(this.ut[5].b())j.dV.Wm(a,this.fU,A.m,A.n,e,N.map,N.SB,N.Ps,0);else this.fU.set(a);if(this.ut[3].fY()){j._M(this.asl,A,p,A,e?e:A);
j.s.eZ("norm",this.fU,A,p,A,e?e:A,this.ut[4].b()/100)}else j.GZ(this.fU,p);this.view.z([{WJ:A,data:p.buffer}])};
bo.GEfc=function(){bo.call(this,"GEfc");this.vu=0;this.xb=0;this.Sb=null;this.AE=null;this.Ak=null;this.w7=null;
this.Br=null;this.jr=0;var e=B.t("div","flexrow");this.cd=e;this.e.appendChild(e);this.view=new h0(null);
this.view.YQ(100,100);e.appendChild(this.view.e);this.l6="";this.X7=270;var A=this.ON=B.t("div","form scrollable");
e.appendChild(A);A.setAttribute("style","width:"+this.X7+"px;");var a=this.Ij=B.t("div","form");e.appendChild(a);
a.setAttribute("style","width:230px;  margin:0 10px");this.IS={};for(var p in eN.names){var N=new bo.GEfc.Ln(p);
N.parent=this;this.IS[p]=N;N.h(t.E.A,this.a3e,this)}this.bJ=!0;this.xW=new c$("Menu",null,null,!0);this.xW.h("click",this.apo,this);
e.appendChild(this.xW.e);this.V_=new c$(">>",null,null,!0);this.V_.h("click",this.awi,this);a.appendChild(this.V_.e);
this.rl=B.t("div");this.rl.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
a.appendChild(this.rl);this.XQ=B.t("div");this.XQ.style.minHeight="14em";this.XQ.style.marginBottom="1em";
a.appendChild(this.XQ);this.M7=B.t("div","lpbody scrollable");this.oT=B.t("div","lpfoot");a.appendChild(this.M7);
a.appendChild(this.oT);this.h("click",this.anS,this);this.B2=[];i$.BH([[5,3],[5,4]],this.B2,this.oT,this.D5.bind(this))};
bo.GEfc.prototype=new bo;bo.GEfc.prototype.IQ=function(){return!0};bo.GEfc.prototype.PU=function(e){this.rl.appendChild(e)};
bo.GEfc.prototype.Mv=function(e,A){this.w7=e};bo.GEfc.prototype.awi=function(e){var A=this.ON.style.display!="none";
this.ON.style.display=A?"none":"";this.V_.WI(A?"<<":">>");this.YQ()};bo.GEfc.prototype.apo=function(e){this.bJ=!this.bJ;
this.YQ()};bo.GEfc.prototype.YQ=function(e,A){var a=this.ON.style.display!="none";if(e!=null){this.vu=e;
this.xb=A;if(e<1e3&&a||e>=1e3&&!a){this.awi();a=!a}this.bJ=e>600}else{e=this.vu;A=this.xb}var p=this.bJ?240+(a?this.X7+10:0):0;
if(B.ND(this.Ij)&&!this.bJ){this.cd.removeChild(this.ON);this.cd.removeChild(this.Ij)}if(!B.ND(this.Ij)&&this.bJ){this.cd.appendChild(this.ON);
this.cd.appendChild(this.Ij)}this.ON.style.height=A+"px";this.view.YQ(e-p,A);this.M7.style.height=A-Math.max(this.XQ.getBoundingClientRect().height,186)-96+"px";
this.xW.e.setAttribute("style","position:absolute; top:46px;  right:"+(p+16)+"px")};bo.GEfc.prototype.a7a=function(){var e=fI.lj.get("img/beach",!0)[0],A=e.WJ,a=this.ON,p=Math.floor(B.V()*(this.X7-40)/3),N=~~(p*.7),i=new dE(0,0,p,N),Z=j.Q(p*N*4),s=Z.slice(0),D=Math.round(10*B.V()),n=new ImageData(new Uint8ClampedArray(s.buffer),p,N);
j._M(new Uint8Array(e.data),A,Z,new dE(Math.round((A.m-p)/2),Math.round((A.n-N)/2),p,N));var S=B.t("canvas"),F=S.getContext("2d");
S.width=p;S.height=N+Math.round(D*1.5);F.font=D+"px sans-serif";this.RY={};var $=this.axD.bind(this);
for(var c=0;c<eN.Ii.length;c++){var m=eN.Ii[c],J=B.t("div");a.appendChild(J);J.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
J.textContent=i1.get(m);for(var w in eN.names){var f=eN.names[w];if(f[0]!=c)continue;eN.Eo(w,{rect:i,buffer:Z},eN.T$(w),{o:0,J:0,k:0},{o:255,J:255,k:255},{rect:i,buffer:s},{});
F.fillStyle="black";F.fillRect(0,0,500,500);F.putImageData(n,0,0);var b=i1.get(f[1]);F.fillStyle="white";
F.fillText(b,(p-F.measureText(b).width)/2,N+Math.round(D*1.1));var L=B.t("div");a.appendChild(L);L.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
L.addEventListener("click",$,!1);var J=B.t("img");L.appendChild(J);J.setAttribute("src",S.toDataURL());
J.setAttribute("style","width:"+p/B.V()+"px; margin-bottom:0px;");this.RY[w]=L}}};bo.GEfc.prototype.axD=function(e){var A;
for(var a in this.RY)if(this.RY[a]==e.currentTarget)this.l6=a;this.a3e()};bo.GEfc.prototype.D5=function(e){var A=i$.bW(this.B2,e),a=this.Br.GEfs.v,p=a[this.jr].v;
if(A==0){a.push(JSON.parse(JSON.stringify(a[this.jr])));this.jr=a.length-1}else if(a.length>1){a.splice(this.jr,1);
if(this.jr==a.length)this.jr--}this.A5();this.Se()};bo.GEfc.prototype.a3e=function(e){var A=this.l6,a;
if(e==null)a=eN.T$(A);else a=this.IS[A].b();this.Br.GEfs.v[this.jr].v=a;this.A5();this.Se()};bo.GEfc.prototype.z=function(e,A,a,p,N){if(this.RY==null)this.a7a();
e=this.Br=JSON.parse(JSON.stringify(e));if(e.GEfs==null)e=this.Br={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:e}]}};
var i=e.GEfs.v;for(var c=0;c<i.length;c++)if(i[c].v.GELv==null)i[c].v.GELv={t:"bool",v:!0};this.jr=i.length-1;
this.A5();a=a.clone();if(A==null)return;if(!p.Kx(a)&&eN.xJ(e).x!=0){var Z=a.pg(p),s=j.Q(Z.O()*4);j._M(A,a,s,Z);
A=s;a=Z}a.x=a.y=0;this.Sb=A;this.AE=A.slice(0);this.Ak=a;this.Se();this.view.Z1()};bo.GEfc.prototype.anS=function(e){var A=e.data,c=A.g2,a=this.Br.GEfs.v;
if(A.i5){a[c].v.GELv.v=!a[c].v.GELv.v;this.Se()}else this.jr=c;this.A5()};bo.GEfc.prototype.A5=function(){var e=this.Br.GEfs.v,A=e[this.jr].v,a=A.GEfk.v.GEft,p=this.XQ;
if(eN.names[a]==null){alert("Unsupported gallery filter");B.XK(p)}else{this.l6=a;for(var N in this.RY)B.Xi(this.RY[N],"selected");
B.LM(this.RY[a],"selected");var i=this.IS[a];i.z(A);if(p.firstChild!=i.e){B.XK(p);p.appendChild(i.e)}}var Z=[];
for(var c=0;c<e.length;c++){var s=e[c].v,D=eN.names[s.GEfk.v.GEft],n=new a2(c,!0,!0,null,D?D[1]:"Filter",c==this.jr,s.GELv.v);
n.parent=this;Z.push(n.e)}B.XK(this.M7);Z.reverse();for(var c=0;c<Z.length;c++)this.M7.appendChild(Z[c]);
this.YQ()};bo.GEfc.prototype.b=function(){return JSON.parse(JSON.stringify(this.Br))};bo.GEfc.prototype.Se=function(e){var A=this.Ak,a=this.Sb,p=this.AE,N=this.l6,i=this.Br,Z=this.w7;
function s(D){return{o:D>>>16,J:D>>>8&255,k:D&255}}hZ.Eo("GEfc",{rect:this.Ak,buffer:this.Sb},i,s(Z.lM),s(Z.dG),{rect:this.Ak,buffer:this.AE},null);
this.view.z([{WJ:A,data:p.buffer}])};bo.GEfc.prototype.f=function(){for(var e in this.IS)this.IS[e].f();
i$.yv(this.B2,["lrs/newlayer","lrs/bin"])};bo.GEfc.Ln=function(e){b5.call(this);this.GD=e;this.e=B.t("div");
this.Bt={};var A=eN.T$(e);for(var a in A){var p=null;if(a=="__name"||a=="classID"||a=="GEfk"||a=="GELv"||["FlRs"].indexOf(a)!=-1)continue;
else if(a=="EdgW")p=new c8("Edge Width",1,14);else if(a=="EdgB")p=new c8("Edge Brightness",0,e=="AccE"?50:20);
else if(a=="Smth")p=new c8([19,3,3],1,e=="Stmp"?50:15);else if(a=="ClSz")p=new c8([12,61],3,100);else if(a=="BrdT")p=new c8([7,9],1,20);
else if(a=="HghS")p=new c8([12,64],0,20);else if(a=="HlSz")p=new c8([12,14,0],1,15);else if(a=="Cntr")p=new c8([12,3,0],0,e=="WtrP"?100:50);
else if(a=="Shrp")p=new c8("Sharpness",0,40);else if(a=="SprR")p=new c8("Spray Radius",0,25);else if(a=="LgDr")p=new c8("Light/Dark Balance",0,e=="Stmp"?50:100);
else if(a=="Drkn")p=new c8("Darkness",1,50);else if(a=="Dstr")p=new c8("Distortion",0,20);else if(a=="Scln")p=new c8([12,38],50,200);
else if(a=="Rlf")p=new c8("Relief",0,e=="Ptch"||e=="NtPr"?25:50);else if(a=="ChAm")p=new c8("Thickness",1,7);
else if(a=="Pncl")p=new c8([19,2,5],1,30);else if(a=="StrP")p=new c8("Stroke Pressure",0,15);else if(a=="PprB")p=new c8("Paper Brightness",0,50);
else if(a=="BrsS")p=new c8("Brush Size",0,10);else if(a=="BrsD")p=new c8("Brush Detail",0,10);else if(a=="Txtr")p=new c8([12,67],1,3);
else if(a=="Grn")p=new c8("Grain",0,20);else if(a=="HghA")p=new c8("Highlight Area",0,20);else if(a=="Intn")p=new c8("Intensity",0,10);
else if(a=="Brgh")p=new c8("Glow Brightness",0,e=="WtrP"?100:50);else if(a=="StrS")p=new c8("Stroke Size",1,50);
else if(a=="StDt")p=new c8("Stroke Detail",1,3);else if(a=="Sftn")p=new c8("Softness",0,10);else if(a=="EdgT")p=new c8("Edge Thickness",0,10);
else if(a=="EdgI")p=new c8("Edge Intensity",0,10);else if(a=="Pstr")p=new c8("Posterization",0,6);else if(a=="Dfnt")p=new c8("Definition",0,25);
else if(a=="TxtC")p=new c8("Texture Coverage",0,50);else if(a=="ShdI")p=new c8("Shadow Intensity",0,10);
else if(a=="DrcB")p=new c8("Direction Balance",0,100);else if(a=="Strg")p=new c8([12,64],1,3);else if(a=="Blnc")p=new c8("Balance",0,10);
else if(a=="BlcI")p=new c8("Black Intensity",0,10);else if(a=="WhtI")p=new c8("White Intensity",0,10);
else if(a=="DrkI")p=new c8("Dark Intensity",0,50);else if(a=="LghI")p=new c8("Light Intensity",0,50);
else if(a=="StrW")p=new c8("Stroke Width",3,15);else if(a=="Grns")p=new c8("Graininess",0,e=="NtPr"?20:10);
else if(a=="GlwA")p=new c8("Glow Amount",0,20);else if(a=="ClrA")p=new c8("Clear Amount",0,20);else if(a=="ChrA")p=new c8("Charcoal Area",0,20);
else if(a=="ChlA")p=new c8("Chalk Area",0,20);else if(a=="FrgL")p=new c8("Foreground Level",1,15);else if(a=="BckL")p=new c8("Background Level",1,15);
else if(a=="WhtL")p=new c8("Background Level",0,50);else if(a=="BlcL")p=new c8("Foreground Level",0,50);
else if(a=="ImgB")p=new c8("Image Balance",0,50);else if(a=="Dnst")p=new c8([12,74],0,50);else if(a=="FbrL")p=new c8("Fiber Length",3,50);
else if(a=="CrcS")p=new c8("Crack Sapcing",2,100);else if(a=="CrcD")p=new c8("Crack Depth",0,10);else if(a=="CrcB")p=new c8("Crack Brightness",0,10);
else if(a=="TlSz")p=new c8("Tile Size",2,100);else if(a=="GrtW")p=new c8("Grout Width",1,15);else if(a=="LghG")p=new c8("Lighten Grout",0,10);
else if(a=="SqrS")p=new c8("Square Size",0,10);else if(a=="RplS")p=new c8("Ripple Size",1,15);else if(a=="RplM")p=new c8("Ripple Magnitude",0,20);
else if(a=="NmbL")p=new c8("Number of Levels",2,8);else if(a=="EdgS")p=new c8("Edge Simplicity",0,10);
else if(a=="EdgF")p=new c8("Edge Fidelity",1,3);else if(a=="Sz")p=e=="NGlw"?new c8("Glow Size",-24,24):new c8("Brush Size",1,50);
else if(a=="Dtl")p=e=="Chrc"?new c8("Detail",0,5):new c8("Detail",1,15);else if(a=="StrL")p=e=="InkO"?new c8("Stroke Length",1,50):new c8("Stroke Length",0,20);
else if(a=="TxtT")p=new el([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(a=="BrsT")p=new el("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(a=="Grnt")p=new el("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(a=="SDir")p=new el([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(a=="ScrT")p=new el([12,62],["Circle","Dot",[10,35]]);
else if(a=="LghD"||a=="LghP")p=new el("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(a=="Clr")p=new dH("Glow Color");else if(a=="InvT")p=new ie([4,11]);else console.log(a);p.h(t.E.A,this.NJ,this);
p.parent=this;this.Bt[a]=p;this.e.appendChild(p.e)}};bo.GEfc.Ln.prototype=new b5;bo.GEfc.Ln.prototype.NJ=function(e){this.S(new k4(t.E.A,!1))};
bo.GEfc.amZ="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
bo.GEfc.Ln.prototype.z=function(e){for(var A in this.Bt){var a;if(bo.GEfc.amZ.indexOf(A)!=-1)a=e[A].v;
else if(A=="TxtT")a=eN.u5.indexOf(e[A].v[A]);else if(A=="BrsT")a=eN.a3r.indexOf(e[A].v[A]);else if(A=="LghD")a=eN.Y3.indexOf(e[A].v[A]);
else if(A=="LghP")a=eN.$D.indexOf(e[A].v[A]);else if(A=="Grnt")a=eN.jd.indexOf(e[A].v[A]);else if(A=="ScrT")a=eN.k_.indexOf(e[A].v[A]);
else if(A=="SDir")a=eN.db.indexOf(e[A].v.StrD);this.Bt[A].z(a)}};bo.GEfc.Ln.prototype.b=function(){var e=eN.T$(this.GD);
for(var A in this.Bt){var a=this.Bt[A].b();if(bo.GEfc.amZ.indexOf(A)!=-1)e[A].v=a;else if(A=="TxtT")e[A].v[A]=eN.u5[a];
else if(A=="BrsT")e[A].v[A]=eN.a3r[a];else if(A=="LghD")e[A].v[A]=eN.Y3[a];else if(A=="LghP")e[A].v[A]=eN.$D[a];
else if(A=="Grnt")e[A].v[A]=eN.jd[a];else if(A=="ScrT")e[A].v[A]=eN.k_[a];else if(A=="SDir")e[A].v.StrD=eN.db[a]}return e};
bo.GEfc.Ln.prototype.f=function(){for(var e in this.Bt)this.Bt[e].f()};bo["Adobe Camera Raw Filter"]=function(e){bo.call(this,"Adobe Camera Raw Filter");
var A=this.e;this.am3=e;this.d$=null;this.JU=null;this.K6=null;B.LM(A,"flexrow");var a=B.t("div"),p=B.t("div","padded");
A.appendChild(a);A.appendChild(p);this.Xc=new h0;a.appendChild(this.Xc.e);this.gK=new eW(225);this.gK.rE(4);
p.appendChild(this.gK.e);this.OL=B.t("div");this.OL.setAttribute("style","width:18em;");p.appendChild(this.OL);
this.afs=new bQ("Hi",!0);this.OL.appendChild(this.afs.e);this.mS=B.t("div","scrollable");this.OL.appendChild(this.mS);
this.Bt=[new c8("Temperature",-100,100),new c8("Tint",-100,100),new c8([4,3],-4,4,null,!0),new c8([12,3,0],-100,100),new c8([4,4],-100,100),new c8([12,9],-100,100)];
this.r9="Temp Tint Ex12 Cr12 Vibr Strt".split(" ");for(var c=0;c<this.Bt.length;c++){var N=this.Bt[c];
N.z(0);N.h(t.E.A,this.Se,this);this.mS.appendChild(N.e);if(c==1||c==3)this.mS.appendChild(B.t("hr"))}};
bo["Adobe Camera Raw Filter"].prototype=new bo;bo["Adobe Camera Raw Filter"].prototype.IQ=function(){return!0};
bo["Adobe Camera Raw Filter"].prototype.PU=function(e){this.OL.appendChild(e)};bo["Adobe Camera Raw Filter"].prototype.Mv=function(e,A){this.gK.Ti(hr.rB[e._5]["--text-color"])};
bo["Adobe Camera Raw Filter"].prototype.z=function(e,A,a,p,N){this.Br=e;var i=a.m,Z=a.n,s=i*Z;this.afs.z(i+" x "+Z+", "+(i*Z/1e6).toFixed(1)+" MPx");
this.Ak=a;this.JU=new Float32Array(i*Z*3);this.K6=new Uint8Array(i*Z*4);this.K6.fill(255);if(A instanceof Float32Array)this.d$=A;
else{var D=this.d$=new Float32Array(i*Z*3);for(var c=0;c<s;c++){var n=c*3,S=c*4;D[n+0]=A[S+0]*(1/255);
D[n+1]=A[S+1]*(1/255);D[n+2]=A[S+2]*(1/255)}}var F=this.r9;for(var c=0;c<F.length;c++){var $=F[c];this.Bt[c].z(e[$]?e[$].v:0)}this.Se(null,!0)};
bo["Adobe Camera Raw Filter"].prototype.b=function(e){if(e)return this.K6;return JSON.parse(JSON.stringify(this.Br))};
bo["Adobe Camera Raw Filter"].prototype.azW=function(){this.d$=null;this.JU=null;this.K6=null};bo["Adobe Camera Raw Filter"].prototype.Se=function(e,A){var a=this.r9;
for(var c=0;c<a.length;c++){var p=a[c];this.Br[p]={t:p=="Ex12"?"doub":"long",v:this.Bt[c].b()}}var N=this.Ak,i=N.O();
e$(this.d$,N.m,N.n,this.JU,this.Br,this.am3);var Z=Date.now(),s=this.JU,D=this.K6;for(var c=0;c<i;c++){var n=c*3,S=c*4;
D[S+0]=~~(.5+s[n+0]*255);D[S+1]=~~(.5+s[n+1]*255);D[S+2]=~~(.5+s[n+2]*255)}console.log(Date.now()-Z,"integer conversion");
Z=Date.now();var F=j.rH(D,Math.max(1,Math.floor(i/2e5)));this.gK.z(F);console.log(Date.now()-Z,"histogram done");
Z=Date.now();this.Xc.z([{WJ:N,data:D.buffer}]);if(A)this.Xc.Z1()};bo["Adobe Camera Raw Filter"].prototype.YQ=function(e,A){this.auy=e-248;
this.arb=A;this.Xc.YQ(this.auy,this.arb);this.mS.style.height=A-236+"px"};bo["Adobe Camera Raw Filter"].prototype.f=function(){for(var c=0;
c<this.Bt.length;c++)this.Bt[c].f()};bo.blnc=function(){bo.call(this);var e=this.e;this.GL=null;this.Du=new el([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.Du.h(t.E.A,this.Se,this);e.appendChild(this.Du.e);this.e6=[];for(var c=0;c<3;c++){var A=new c8(["VAR0 - VAR1",a7.awJ[c],a7.Dl[c]],-100,100);
A.h(t.E.A,this.$T,this);this.e6.push(A);e.appendChild(A.e)}this.EE=new ie([13,4]);this.EE.h(t.E.A,this.$T,this);
e.appendChild(this.EE.e)};bo.blnc.prototype=new bo;bo.blnc.prototype.f=function(){this.Du.f();for(var c=0;
c<3;c++)this.e6[c].f();this.EE.f()};bo.blnc.prototype.z=function(e){this.GL=JSON.parse(JSON.stringify(e));
this.Se()};bo.blnc.prototype.b=function(e){var A=["ShdL","MdtL","HghL"],a=this.GL[A[this.Du.b()]].v;
for(var c=0;c<3;c++)a[c].v=this.e6[c].b();this.GL.PrsL.v=this.EE.b();return JSON.parse(JSON.stringify(this.GL))};
bo.blnc.prototype.Se=function(e){var A=["ShdL","MdtL","HghL"],a=this.GL[A[this.Du.b()]].v;for(var c=0;
c<3;c++)this.e6[c].z(a[c].v);this.EE.z(this.GL.PrsL.v)};bo.brit=function(){bo.call(this,"brit");this.Z4.push(new c8([12,2],-150,150,""));
this.Z4.push(new c8([12,3,0],-100,100,""));this.Z4.push(new ie([12,3,1]));this.tP()};bo.brit.prototype=new bo;
bo.curv=function(){bo.call(this);this.value=null;this.KE=null;this.w7=null;var e=this.e;this.bN=new el("Preset",["basic","advanced"]);
this.bN.h(t.E.A,this.a61,this);e.appendChild(this.bN.e);B.jA(e);this.FV=new el([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.FV.h(t.E.A,this.fE,this);e.appendChild(this.FV.e);this.PM=new el(null,["Spline","Sketch"]);this.PM.h(t.E.A,this.a61,this);
e.appendChild(this.PM.e);this.hE=new gN;this.hE.parent=this;this.hE.h(t.E.A,this.Rs,this);e.appendChild(this.hE.e);
B.jA(e);this.DS=new hB;this.DS.h(t.E.A,this.$r,this);e.appendChild(this.DS.e);this.Uk=null;this.aqe=0;
this.n$=0;B.jA(e);this.fW=new hj("Sample from image",ah.xv(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.fW.h(t.E.A,this.Ej,this);this.fW.e.style.marginRight="0";e.appendChild(this.fW.e)};bo.curv.prototype=new bo;
bo.curv.prototype.Mv=function(e,A){if(A==ac.xh||A==ac.gb){var a=e.KJ,p=["Default"];for(var c=0;c<a.length;
c++)p.push(a[c].presetFileName.v);p.push("Custom");this.bN.z8(p,[1,a.length,1]);this.w7=e}};bo.curv.prototype.YQ=function(e,A){this.DS.YQ(e,A)};
bo.curv.prototype.f=function(){this.FV.f();this.DS.f()};bo.curv.prototype.du=function(){this.bN.z(this.w7.KJ.length+1)};
bo.curv.prototype.a61=function(e){if(e.target==this.bN){var A=this.bN.b(),a=this.w7.KJ,p;if(A==0)p=hZ.T$("curv");
else if(A-1<a.length)p=JSON.parse(JSON.stringify(a[A-1]));else return;this.z(p);this.$T();return}this.du();
var N=fi.ps(this.value,0),i=N.length==256?1:0,Z=this.PM.b();if(i==Z)return;var p=hZ.T$("curv");if(Z==1){var s=[];
for(var c=0;c<256;c++)s.push(c);fi.C6(p,0,s)}this.z(p);this.$T()};bo.curv.prototype.$r=function(){this.du();
fi.C6(this.value,this.FV.b(),this.DS.b());this.$T()};bo.curv.prototype.fE=function(){var e=this.FV.b(),A=fi.ps(this.value,e),a=A.length==256?1:0;
this.PM.z(a);if(this.KE)this.DS.TH(this.KE[e],this.KE[4]*[1,.33,.33,.33][e],["#ccc","#fcc","#cfc","#ccf"][e]);
this.DS.z(A)};bo.curv.prototype.jV=function(){return!0};bo.curv.prototype.MD=function(e,A,a,p,N){var i=this.value;
this.value=hZ.T$("curv");this.$T();var Z=q.ap.Xg(e,N,1),s=this.Uk=[Z>>>16&255,Z>>>8&255,Z&255];this.aqe=N.y;
var D=this.fW.b().indexOf(!0);if(D==0){var n=(s[0]+s[1]+s[2])/3,S=this.FV.b(),F=fi.ps(i,S),$=S==0?n:s[S-1],m=-1;
for(var c=0;c<F.length;c++)if(F[c].v.Hrzn.v==$)m=c;if(m==-1){var J=JSON.parse(JSON.stringify(F[0]));
J.v.Hrzn.v=$;J.v.Vrtc.v=$;F.push(J);F.sort(function(w,f){return w.v.Hrzn.v-f.v.Hrzn.v});fi.C6(i,S,F);
this.n$=F.indexOf(J)}else this.n$=m}this.z(i);this.$T()};bo.curv.prototype.D1=function(e,A,a,p,N){if(this.Uk==null)return;
if(this.fW.b().indexOf(!0)==0){var i=this.value,Z=this.FV.b(),s=fi.ps(i,Z),D=s[this.n$];D.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(D.v.Hrzn.v+(this.aqe-N.y))));
fi.C6(i,Z,s);this.z(i);this.$T()}};bo.curv.prototype.$Q=function(e,A,a,p,N){var i=this.value,Z=this.Uk,s=(Z[0]+Z[1]+Z[2])/3,D=this.fW.b().indexOf(!0)-1;
if(D<=-1){}else for(var c=0;c<3;c++){var n=fi.ps(i,1+c);if(D==0)n[0].v.Hrzn.v=Z[c];if(D==1){var S=Math.log(Z[c]/255)/Math.log(s/255),F=Math.min(999,Math.max(10,Math.round(100*S)));
if(n.length==2)n.splice(1,0,JSON.parse(JSON.stringify(n[0])));n[1].v.Hrzn.v=127-Math.log(F/100)*127;
n[1].v.Vrtc.v=127}if(D==2)n[n.length-1].v.Hrzn.v=Z[c];fi.C6(i,1+c,n)}this.z(i);this.$T();this.du();this.Uk=null};
bo.curv.prototype.z=function(e){this.value=e;this.fE()};bo.curv.prototype.TH=function(e){this.KE=e;this.fE()};
bo.curv.prototype.b=function(e){return JSON.parse(JSON.stringify(this.value))};bo.curv.prototype.Rs=function(){var e=this.hE.b(),A=this.KE,a=this.value,p=j.mt(e,A);
for(var c=0;c<4;c++){var N=p[c][0],i=p[c][1],Z=p[c][2],s=[j.Gh.Q3(N,0,!0),j.Gh.Q3(i,255,!0)];if(Z!=null)s.splice(1,0,j.Gh.Q3(128,Z,!0));
fi.C6(a,c,s)}this.fE();this.$T()};bo.expA=function(){bo.call(this,"expA");this.Z4.push(new c8([12,5],-20,20,null,2,!0));
this.Z4.push(new c8([12,6],-.5,.5,null,2));this.Z4.push(new c8([12,7],.01,9.99,null,2,!0));this.tP()};
bo.expA.prototype=new bo;bo.expA.prototype.hm=function(e,A){A[0]=e.Exps.v;A[1]=e.Ofst?e.Ofst.v:0;A[2]=e.gammaCorrection?e.gammaCorrection.v:1};
bo.expA.prototype.uk=function(e,A){e.Exps={t:"doub",v:A[0]};e.Ofst={t:"doub",v:A[1]};e.gammaCorrection={t:"doub",v:A[2]}};
bo.grdm=function(){bo.call(this,"grdm");this.Z4.push(new jX(!0,null,!0));this.Z4.push(new ie([12,23,0]));
this.tP()};bo.grdm.prototype=new bo;bo.grdm.prototype.hm=function(e,A){A[0]=e.Grad.v;A[1]=e.Rvrs?e.Rvrs.v:!1};
bo.grdm.prototype.uk=function(e,A){e.Grad.v=A[0];e.Rvrs={t:"bool",v:A[1]}};bo.grdm.prototype.Mv=function(e,A){this.Z4[0].Fi(e.lM,e.dG);
if(A==ac.xh||A==ac.V9||A==ac.Pg)this.Z4[0].mb(e.Sv)};bo.selc=function(){bo.call(this);var e=this.e;this.Yc=[];
this.gG=null;this.Du=new el([12,82],a7.DR.concat([[13,1,8],[13,1,13],[13,1,10]]));this.Du.h(t.E.A,this.NJ,this);
e.appendChild(this.Du.e);B.jA(e);for(var c=0;c<4;c++){var A=new c8(a7.awJ[c],-100,100,"%");A.h(t.E.A,this.NJ,this);
this.Yc.push(A);e.appendChild(A.e)}this.TE=new ie([13,3]);e.appendChild(this.TE.e);this.TE.h(t.E.A,this.NJ,this)};
bo.selc.prototype=new bo;bo.selc.prototype.f=function(){this.Du.f();this.TE.f();for(var c=0;c<4;c++)this.Yc[c].f()};
bo.selc.prototype.z=function(e){this.gG=JSON.parse(JSON.stringify(e));this.Se()};bo.selc.prototype.b=function(e){return JSON.parse(JSON.stringify(this.gG))};
bo.selc.prototype.NJ=function(e){if(e.target!=this.Du){var A=this.gG,a=[];for(var c=0;c<4;c++)a[c]=this.Yc[c].b();
bt.C6(A,this.Du.b(),a);A.Mthd={t:"enum",v:{CrcM:this.TE.b()?"Absl":"Rltv"}}}this.Se();this.$T()};bo.selc.prototype.Se=function(){var e=this.gG,A=bt.ps(e,this.Du.b());
for(var c=0;c<4;c++)this.Yc[c].z(A[c]);this.TE.z(e.Mthd?e.Mthd.v.CrcM=="Absl":!1)};bo.blwh=function(){bo.call(this,"blwh");
this.Z4.push(new ie([12,11]));this.Z4.push(new dH(!0));for(var c=0;c<6;c++)this.Z4.push(new c8(a7.DR[c],-200,300));
this.tP()};bo.blwh.prototype=new bo;bo.blwh.prototype.hm=function(e,A){A[0]=e.useTint.v;A[1]=e.tintColor.v;
var a="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var c=0;c<6;c++)A[2+c]=e[a[c]].v};bo.blwh.prototype.uk=function(e,A){e.useTint.v=A[0];
e.tintColor.v=A[1];var a="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var c=0;c<6;c++)e[a[c]].v=A[2+c]};
bo.hue2=function(){bo.call(this);this.value=null;this.Kt=null;this.ar9=null;this.ba=[[0,0,0],[0,50,0]];
var e=this.e;this.fW=new hj(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.fW.h(t.E.A,this.at3,this);this.fW.h(t.E.A,this.Ej,this);e.appendChild(this.fW.e);var A=this.Z4=[new el([12,12],["Master"].concat(a7.DR)),new c8([12,8],-180,180),new c8([12,9],-100,100),new c8([12,10],-100,100),new ie([12,11])];
for(var c=0;c<A.length;c++){var a=A[c];a.h(t.E.A,c==0?this.fE:this.auq,this);e.appendChild(a.e)}this.Du=A[0];
this.qQ=A[1];this.y5=A[2];this.w9=A[3];this.BY=A[4];this.yW=new hj("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.yW.h(t.E.A,this.at3,this);this.yW.h(t.E.A,this.Ej,this);this.yW.e.style.marginLeft="20px";e.appendChild(this.yW.e);
this.Mz=B.t("div");e.appendChild(this.Mz);this.Ow=this.p4.bind(this);this.K4=this.g6.bind(this);this.T=B.t("canvas");
this.Ae=this.T.getContext("2d");this.nh=null;B.Ig(this.T);B.ql(this.T,282,18);e.appendChild(this.T);
B.V3(this.T,this.np.bind(this))};bo.hue2.prototype=new bo;bo.hue2.prototype.YQ=function(e,A){B.ql(this.T,Math.round(e),18);
if(this.value)this.fE()};bo.hue2.prototype.at3=function(e){var A=e.target.b().indexOf(!0);if(A==-1)return;
if(e.target==this.fW)this.yW.z([!1,!1,!1]);else this.fW.z([!1,!1,!1])};bo.hue2.prototype.np=function(e){if(this.Du.b()==0||this.BY.b())return;
var A=B.vT(e,this.T).x/(this.T.width/B.V()),i=1e6;function a(F,$,m){return F<$&&$<m||m<F&&(F<$||$<m)}var p=this.Ct(),N=-1;
for(var c=0;c<4;c++){var Z=Math.abs(A-(p[c]+c*1e-5));if(Z<i){i=Z;N=c}}if(i>.025){N=-1;var s=p[0],D=p[1],n=p[2],S=p[3];
if(a(s,A,D))N=4;if(a(D,A,n))N=5;if(a(n,A,S))N=6}if(N==-1)return;this.nh=N;B.iv(document.body,this.Ow);
B.xq(document.body,this.K4)};bo.hue2.prototype.p4=function(e){var A=B.vT(e,this.T).x/(this.T.width/B.V()),a=this.Ct(),p=this.nh;
for(var c=1;c<4;c++)if(a[c]<a[c-1]){a[c]+=1}if(p<4){var N=1e6,i=0;for(var c=-20;c<20;c++){var Z=Math.abs(a[p]-(A+c));
if(Z<N){N=Z;i=c}}A+=i;a[p]=A;for(var c=p+1;c<4;c++)if(a[c]<a[c-1]){a[c]=a[c-1]}for(var c=p-1;c>=0;c--)if(a[c]>a[c+1]){a[c]=a[c+1]}}else{var s=A-(a[p-4]+a[p-3])/2;
if(s<-.5)s+=1;if(p==4){a[0]+=s;a[1]+=s;a[2]=Math.max(a[1],a[2]);a[3]=Math.max(a[1],a[3])}if(p==5)for(var c=0;
c<4;c++)a[c]+=s;if(p==6){a[2]+=s;a[3]+=s;a[0]=Math.min(a[0],a[2]);a[1]=Math.min(a[1],a[2])}}for(var c=1;
c<4;c++)if(a[c]<a[c-1])throw"e";this.a1U(a);this.fE();this.$T()};bo.hue2.prototype.g6=function(e){B.Dq(document.body,this.Ow);
B.Y8(document.body,this.K4)};bo.hue2.prototype.f=function(){for(var c=0;c<this.Z4.length;c++)this.Z4[c].f()};
bo.hue2.prototype.auq=function(e){var A=this.value.Clrz.v=this.BY.b();if(A)this.Du.z(0);if(e&&e.target==this.BY){var a=A?1:0;
this.ba[1-a]=g1.ps(this.value,0);var p=this.ba[a];g1.C6(this.value,0,p);if(this.Du.b()==0){this.qQ.z(p[0]);
this.y5.z(p[1]);this.w9.z(p[2])}}var N=this.Du.b(),i=g1.ps(this.value,N),p=N==0?i:i.e6;p[0]=this.qQ.b();
var Z=this.y5.b();p[1]=A?Math.max(0,Z):Z;p[2]=this.w9.b();g1.C6(this.value,N,i);this.fE();this.$T()};
bo.hue2.prototype.fE=function(){var e=this.Du.b(),A=this.value.Clrz?this.value.Clrz.v:!1;this.BY.z(A);
this.Du.Y7(!A);this.yW.Y7(!A&&e!=0);var a=g1.ps(this.value,e),p=e==0?a:a.e6;this.qQ.z(p[0]);this.y5.z(p[1]);
this.w9.z(p[2]);var N=this.T.width,i=this.T.height,Z=this.Ae;Z.clearRect(0,0,N,i);if(A||e==0){this.Mz.innerHTML="";
return}var s=a.uf;this.Mz.innerHTML=s[0]+"\xB0 / "+s[1]+"\xB0<span style=\"float:right\">"+s[2]+"\xB0 \\ "+s[3]+"\xB0</span>";
var D=j.Q(N*4);dZ.acS(D,1,N,-1,.5);var n=new ImageData(new Uint8ClampedArray(D.buffer),N,1),S=Math.round(i/4);
for(var c=0;c<S;c++)Z.putImageData(n,0,c);function F(b,L,C){Z.fillStyle=C;var M=S*2;if(b<=L)Z.fillRect(b*N,M,(L-b)*N,S);
else{Z.fillRect(0,M,L*N,S);Z.fillRect(b*N,M,(1-b)*N,S)}}var $=this.Ct();F($[0],$[1],"#888888");F($[1],$[2],"#cccccc");
F($[2],$[3],"#888888");Z.fillStyle="#ffffff";Z.lineWidth=1;Z.beginPath();var m=S+.5,J=4*S+.5;for(var c=0;
c<4;c++){var w=Math.floor(N*$[c])+.5,f=(c<2?-1:1)*S*(c==1||c==2?1:2);Z.moveTo(w,m);Z.lineTo(w,J);Z.lineTo(w+f,J);
Z.lineTo(w+f,S+S+.5);Z.closePath()}Z.fill();Z.stroke()};bo.hue2.prototype.Ct=function(){var e=this.Du.b(),A=g1.ps(this.value,e).uf;
for(var c=0;c<4;c++)A[c]=(1000.5+A[c]/360)%1;return A};bo.hue2.prototype.a1U=function(e){var A=this.Du.b(),a=g1.ps(this.value,A);
for(var c=0;c<4;c++)a.uf[c]=Math.round(36e3+(e[c]-.5)*360)%360;g1.C6(this.value,A,a)};bo.hue2.prototype.jV=function(){return!0};
bo.hue2.prototype.afY=function(){var e=this.fW.b().indexOf(!0),A=this.yW.b().indexOf(!0);return e!=-1?e:A!=-1?A+1:-1};
bo.hue2.prototype.MD=function(e,A,a,p,N){var i=this.afY();if(i==-1)return;var Z=this.value;this.value=hZ.T$("hue2");
this.$T();var s=q.ap.Xg(e,N,1);this.z(Z);var D=[s>>>16&255,s>>>8&255,s&255],n=j.RR(D[0]/255,D[1]/255,D[2]/255);
if(i==0){this.Du.z(1+Math.round(n.Ps*6)%6)}else{var S=this.Ct(),F=.5+n.Ps,$=1/12,m=S[1],J=S[2];if(J<m){J++;
if(F<m&&F+1-J<m-F)F++}var w=m<=F&&F<=J;if(i==1){m=F-$/2;J=F+$/2}else if(i==2&&!w){m=Math.min(F,m);J=Math.max(F,J)}else if(i==3&&w){if(F-m<J-F)m=F;
else J=F}S=[m-$,m,J,J+$];this.a1U(S)}this.$T();this.Kt=N.x;this.ar9=this.y5.b()};bo.hue2.prototype.D1=function(e,A,a,p,N){var i=this.afY();
if(i==-1)return;if(i==0){if(this.Kt!=null){var Z=N.x-this.Kt;Z=Math.max(-100,Math.min(100,this.ar9+.5*Z));
this.y5.z(Z);this.auq()}}};bo.hue2.prototype.$Q=function(e,A,a,p,N){this.Kt=null};bo.hue2.prototype.z=function(e){this.value=JSON.parse(JSON.stringify(e));
var A=this.value.Clrz?this.value.Clrz.v:!1;this.ba[A?1:0]=g1.ps(this.value,0);this.fE()};bo.hue2.prototype.b=function(e){return JSON.parse(JSON.stringify(this.value))};
bo.levl=function(){function e(){bo.call(this);this.value=null;this.KE=null;this.eJ=[new k7(0,0),new k7(0,0),new k7(0,0),new k7(0,0),new k7(0,0)];
this.yf=-1;this.Ow=this.p4.bind(this);this.K4=this.g6.bind(this);var A=this.e;this.FV=new el([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.FV.h(t.E.A,this.fE,this);A.appendChild(this.FV.e);this.hE=new gN;this.hE.parent=this;this.hE.h(t.E.A,this.Rs,this);
A.appendChild(this.hE.e);var a=B.t("div","");A.appendChild(a);var p=B.t("div","");A.appendChild(p);this.T=B.t("canvas");
a.appendChild(this.T);this.Ae=this.T.getContext("2d");this.W_=new k7(256,120);this.T.setAttribute("style","display:block");
B.Ig(this.T);B.V3(this.T,this.np.bind(this));this.Uq=B.t("canvas","");p.appendChild(this.Uq);this.zB=this.Uq.getContext("2d");
this.AC=new k7(this.W_.x,40);this.Uq.setAttribute("style","display:block");B.Ig(this.Uq);B.V3(this.Uq,this.aks.bind(this));
var N=this.dP=[];for(var c=0;c<5;c++){var i=new fp(null,null,3);N.push(i);i.h(t.E.A,this.a52,this);(c<2||c==4?a:p).appendChild(i.e)}a.appendChild(N[1].e);
this.fW=new hj("Sample from image",ah.xv(["#000000","#888888","#ffffff"]),!0,null,!0);this.fW.h(t.E.A,this.Ej,this);
A.appendChild(this.fW.e);this.YQ(250,100)}e.prototype=new bo;e.prototype.Rs=function(){var A=this.hE.b(),a=this.KE,p=this.value,N=j.mt(A,a);
for(var c=0;c<4;c++){var i=N[c][0],Z=N[c][1],s=N[c][2],D=[j.Gh.Q3(i,0,!0),j.Gh.Q3(Z,255,!0)];if(s!=null)D.splice(1,0,j.Gh.Q3(128,s,!0));
var n=[~~i,~~Z,0,255,s==null?100:~~(100+.75*100*(s-128)/128)];jN.C6(p,c,n)}this.fE();this.$T()};e.prototype.YQ=function(A,a){A+=6;
this.W_.x=this.AC.x=A;B.ql(this.T,A,this.W_.y,this.Ae);B.ql(this.Uq,A,this.AC.y,this.zB);var p=this.dP;
p[3].e.setAttribute("style","margin-left: "+(A-104)+"px");p[4].e.setAttribute("style","margin: 0 "+(A/2-74)+"px");
if(this.value)this.fE()};e.prototype.f=function(){this.FV.f()};e.prototype.a52=function(A){var a=[];
for(var c=0;c<5;c++){var p=255,N=1;if(c==4){p=999;N=100}var i=parseFloat(this.dP[c].b());a[c]=Math.max(0,Math.min(p,i*N))}jN.C6(this.value,this.FV.b(),a);
this.fE();this.$T()};e.prototype.fE=function(A){var a=this.W_.x,p=this.W_.y,N=this.FV.b(),i=this.Ae;
i.clearRect(0,0,a,p);i.fillStyle="#cccccc";i.fillRect(8,8,a-16,p-16-8);if(this.KE){var Z=this.KE[0].slice(0),J=0;
if(N==0){Z.fill(0);var s=JSON.parse(JSON.stringify(this.value));jN.C6(s,0,[0,255,0,255,100]);var D=a7.EN("levl",s),n=[D.Ut,D.nG,D.UM];
for(var S=0;S<3;S++){var F=this.KE[1+S],$=n[S];for(var c=0;c<256;c++)Z[$[c]]+=F[c]}}var m=N==0?Z:this.KE[N];
for(var c=0;c<m.length;c++)J+=m[c];i.fillStyle="#333333";i.beginPath();i.moveTo(8,p-16);for(var c=0;
c<256;c++){var w=55*m[c]/J;i.lineTo(8+c/256*(a-16),Math.max(8,p-16-p*w))}i.lineTo(a-8,p-16);i.closePath();
i.fill()}var f=jN.ps(this.value,N);for(var c=0;c<5;c++)this.dP[c].z(f[c]/(c==4?100:1));this.eJ[0].rq(8+f[0]/255*(a-16),p-14);
this.eJ[1].rq(8+f[1]/255*(a-16),p-14);var b=Math.log(f[4]/100)/Math.log(9.99);b=.5-b/2;this.eJ[4].rq(this.eJ[0].x+b*(this.eJ[1].x-this.eJ[0].x),p-14);
this.IL(i,this.eJ[0],"#000000");this.IL(i,this.eJ[1],"#ffffff");this.IL(i,this.eJ[4],"#777777");var a=this.AC.x,p=this.AC.y;
i=this.zB;i.clearRect(0,0,a,p);var L=i.createLinearGradient(0,0,a-16,0);L.addColorStop(0,"black");L.addColorStop(1,"white");
i.fillStyle=L;i.fillRect(8,8,a-16,16);this.eJ[2].rq(8+f[2]/255*(a-16),p-14);this.eJ[3].rq(8+f[3]/255*(a-16),p-14);
this.IL(i,this.eJ[2],"#000000");this.IL(i,this.eJ[3],"#ffffff")};e.prototype.IL=function(A,a,p){A.fillStyle=p;
A.fillRect(a.x-5,a.y,10,10)};e.prototype.np=function(A){var a=B.vT(A,this.T),p=this.aoK([0,1,4],a);if(p!=-1)this.yf=p;
this.av4()};e.prototype.aks=function(A){var a=B.vT(A,this.Uq),p=this.aoK([2,3],a);if(p!=-1)this.yf=p;
this.av4()};e.prototype.aoK=function(A,a){var p=-1,N=1e9;for(var c=0;c<A.length;c++){var i=Math.abs(this.eJ[A[c]].x-a.x);
if(i<N){N=i;p=A[c]}}return N<16?p:-1};e.prototype.av4=function(A){if(this.yf==-1)return;B.iv(document.body,this.Ow);
B.xq(document.body,this.K4)};e.prototype.p4=function(A){var a=jN.ps(this.value,this.FV.b()),p=B.vT(A,this.yf==2&&this.yf==3?this.Uq:this.T),N=255*(p.x-8)/(this.W_.x-16);
N=Math.max(0,Math.min(255,N));if(this.yf==0)N=Math.min(N,a[1]-2);if(this.yf==1)N=Math.max(N,a[0]+2);
if(this.yf!=4)a[this.yf]=Math.round(N);else{var i=(N-a[0])/(a[1]-a[0]);i=1-2*i;i=Math.pow(9.99,i);a[4]=Math.min(999,Math.max(10,Math.round(i*100)))}jN.C6(this.value,this.FV.b(),a);
this.fE();this.$T()};e.prototype.g6=function(A){B.Dq(document.body,this.Ow);B.Y8(document.body,this.K4);
this.yf=-1};e.prototype.jV=function(){return!0};e.prototype.$Q=function(A,a,p,N,i){var Z=this.value,s=this.fW.b().indexOf(!0);
if(s==-1)return;this.value=hZ.T$("levl");this.$T();var D=q.ap.Xg(A,i,1),n=[D>>>16&255,D>>>8&255,D&255];
for(var c=0;c<3;c++){var S=jN.ps(Z,1+c);if(s==0)S[0]=n[c];if(s==1){var F=Math.log(n[c]/255)/Math.log((n[0]+n[1]+n[2])*.333/255);
S[4]=Math.min(999,Math.max(10,Math.round(100*F)))}if(s==2)S[1]=n[c];jN.C6(Z,1+c,S)}this.z(Z);this.$T()};
e.prototype.z=function(A){this.value=A;this.fE()};e.prototype.TH=function(A){this.KE=A;this.fE()};e.prototype.b=function(A){return JSON.parse(JSON.stringify(this.value))};
return e}();bo.phfl=function(){bo.call(this,"phfl");this.Z4.push(new dH);this.Z4.push(new c8([12,74],0,100,"%"));
this.Z4.push(new ie([13,4]));this.tP()};bo.phfl.prototype=new bo;bo.phfl.prototype.hm=function(e,A){A[0]=e.Clr.v;
A[1]=e.Dnst.v;A[2]=e.PrsL.v};bo.phfl.prototype.uk=function(e,A){var a=j.M.kq(A[0]),p=e.Clr.v,N=j.v_(a.o,a.J,a.k);
p.Lmnc.v=N.SA;p.A.v=N.gg;p.B.v=N.k;e.Dnst.v=A[1];e.PrsL.v=A[2]};bo.vibA=function(){bo.call(this,"vibA");
this.Z4.push(new c8([12,13],-100,100,null));this.Z4.push(new c8([12,9],-100,100,null));this.tP()};bo.vibA.prototype=new bo;
bo.vibA.prototype.hm=function(e,A){A[0]=e.vibrance?e.vibrance.v:0;A[1]=e.Strt?e.Strt.v:0};bo.vibA.prototype.uk=function(e,A){e.vibrance.v=A[0];
e.Strt.v=A[1]};bo.thrs=function(){bo.call(this,"thrs");this.Z4.push(new c8([4,13],1,255,null));this.tP()};
bo.thrs.prototype=new bo;bo.thrs.prototype.hm=function(e,A){A[0]=e.Lvl.v};bo.thrs.prototype.uk=function(e,A){e.Lvl.v=A[0]};
bo.mixr=function(){bo.call(this);var e=this.e;this.Yc=[];this.gG=null;this.Du=new el([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.ajL=!1;this.Du.h(t.E.A,this.NJ,this);e.appendChild(this.Du.e);B.jA(e);this.cX=new ie([12,60]);e.appendChild(this.cX.e);
this.cX.h(t.E.A,this.NJ,this);for(var c=0;c<4;c++){var A=new c8([[13,1,1],[13,1,4],[13,1,5],[13,2]][c],-200,200,"%");
A.h(t.E.A,this.NJ,this);this.Yc.push(A);e.appendChild(A.e)}};bo.mixr.prototype=new bo;bo.mixr.prototype.f=function(){this.Du.f();
this.cX.f();for(var c=0;c<4;c++)this.Yc[c].f()};bo.mixr.prototype.z=function(e){this.gG=JSON.parse(JSON.stringify(e));
this.Se()};bo.mixr.prototype.b=function(e){return JSON.parse(JSON.stringify(this.gG))};bo.mixr.prototype.NJ=function(e){if(e.target!=this.Du){var A=a7.zY(this.gG);
if(e.target==this.cX){A.cX=this.cX.b();if(A.cX)A.Z=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else A.Z=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var a=(A.cX?0:this.Du.b())*5,c=this.Yc.indexOf(e.target);
A.Z[a+(c<3?c:4)]=e.target.b()}this.gG=a7.aio(A)}this.Se();this.$T()};bo.mixr.prototype.Se=function(){var e=a7.zY(this.gG);
if(e.cX!=this.ajL)this.Du.z8(e.cX?[[13,1,7]]:a7.Dl);this.ajL=e.cX;this.cX.z(e.cX);var A=(e.cX?0:this.Du.b())*5;
for(var c=0;c<4;c++)this.Yc[c].z(e.Z[A+(c<3?c:4)])};bo.post=function(){bo.call(this,"post");this.Z4.push(new c8([4,1],2,255,null));
this.tP()};bo.post.prototype=new bo;bo.post.prototype.hm=function(e,A){A[0]=e.Lvls.v};bo.post.prototype.uk=function(e,A){e.Lvls.v=A[0]};
bo.clrL=function(){bo.call(this,"clrL");this.Z4.push(new dm("LUTs"));this.tP()};bo.clrL.prototype=new bo;
bo.clrL.prototype.hm=function(e,A){A[0]=e};bo.clrL.prototype.uk=function(e,A){var a=A[0];for(var p in a)e[p]=a[p]};
bo.clrL.prototype.Mv=function(e,A){if(A==ac.xh||A==ac.QZ)this.Z4[0].mb(e.aqd)};bo.rplc=function(){bo.call(this,"rplc");
this.Z4.push(new c8([12,92],0,200));this.Z4.push(new dH);this.Z4.push(new c8([12,8],-180,180));this.Z4.push(new c8([12,9],-100,100));
this.Z4.push(new c8([12,10],-100,100));this.tP()};bo.rplc.prototype=new bo;bo.rplc.prototype.hm=function(e,A){A[0]=e.Fzns.v;
A[1]=e.Mxm.v;A[2]=e.H.v;A[3]=e.Strt.v;A[4]=e.Lght.v};bo.rplc.prototype.uk=function(e,A){function a(N,i){i.Lmnc.v=N.SA;
i.A.v=N.gg;i.B.v=N.k}e.Fzns.v=A[0];e.H.v=A[2];e.Strt.v=A[3];e.Lght.v=A[4];var p=j.M.kq(A[1]),N=j.v_(p.o,p.J,p.k);
a(N,e.Mnm.v);a(N,e.Mxm.v)};bo.fade=function(){bo.call(this,"fade");this.Z4.push(new c8([12,0],0,100,"%"));
this.Z4.push(new el([12,19,0],im.Wj,im.E_));this.tP()};bo.fade.prototype=new bo;bo.fade.prototype.hm=function(e,A){A[0]=e.Opct.v.val;
A[1]=im.Jd.indexOf(e.Md.v.BlnM)};bo.fade.prototype.uk=function(e,A){e.Opct.v.val=A[0];e.Md.v.BlnM=im.Jd[A[1]]};
bo.aply=function(){var e=im.Jd.concat(["Add","Sbtr"]);e.splice(21,1);var A=im.Wj.concat([[15,10,28],[15,10,21]]);
A.splice(21,1);var a=im.E_.slice(0);a[4]--;function p(){bo.call(this,"aply");this.Z4.push(new el([0,3],[]));
this.Z4.push(new el([12,4],["RGB"].concat(a7.Dl).concat(["Transparency"])));this.Z4.push(new ie([4,11]));
this.Z4.push(new el([12,19,0],A,a));this.Z4.push(new c8([12,0],0,100,"%"));this.Z4.push(new g0([12,38],1,2,null,2));
this.Z4.push(new g0([12,6],-255,255));this.Z4.push(new ie([13,5]));this.tP([2]);this.f1=null}p.prototype=new bo;
p.prototype.hm=function(N,i,Z){if(Z){var s=Z[2].B,D=this.f1=[];for(var c=0;c<s.length;c++){var n=s[c].getName();
D.push(n.length<30?n:n.slice(0,27)+"...")}D.reverse();this.Z4[0].z8([[5,7]].concat(D),[1,D.length])}else var D=this.f1;
N=N.With.v;var S=N.T.v;i[0]=S[1].t=="name"?1+D.indexOf(S[1].v.val):0;i[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(S[0].v.enum);
i[2]=N.Invr.v;var F=N.Clcl.v.Clcn;i[3]=e.indexOf(F);i[4]=N.Opct.v.val;i[5]=N.Scl.v;i[6]=N.Ofst.v;i[7]=N.PrsT.v};
p.prototype.uk=function(N,i){N=N.With.v;var Z=N.T.v;if(i[0]==0)Z[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else Z[1]={t:"name",v:{classID:"Lyr",val:this.f1[i[0]-1]}};Z[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][i[1]];
N.Invr.v=i[2];var s=N.Clcl.v.Clcn=e[i[3]];N.Opct.v.val=i[4];N.Scl.v=i[5];N.Ofst.v=i[6];N.PrsT.v=i[7];
var D=s=="Add"||s=="Sbtr";this.Z4[5].Y7(D);this.Z4[6].Y7(D)};return p}();bo.matc=function(){var e,A,a=0;
function p(){bo.call(this,"matc");this.Z4.push(new c8("Luminance",1,200));this.Z4.push(new c8("Color Intensity",1,200));
this.Z4.push(new c8([2,11],0,100,"%"));this.Z4.push(new ie("Neutralize"));this.Z4.push(new el([12,70],[]));
this.Z4.push(new el([0,3],[]));this.tP([2])}function N(i,Z){i.Z4[5].z8([[5,7]].concat(Z),[1,Z.length])}p.prototype=new bo;
p.prototype.hm=function(i,Z,s){a=0;Z[0]=i.Lght.v;Z[1]=i.ClrR.v;Z[2]=i.Fade.v;Z[3]=i.neutralizeColor?i.neutralizeColor.v:!1;
Z[4]=Z[5]=0;var D=i.Srce;if(D)D=D.v;if(s){e=[];A=[];var n=s[2],S=s[3];for(var c=0;c<S.length;c++){var F=S[c];
e.push(F.name);var $=F.B,m=[];A.push(m);for(var J=0;J<$.length;J++)m.push($[J].getName());m.reverse()}this.Z4[4].z8([[13,1,0]].concat(e),[1,e.length]);
var w=S.indexOf(n);if(D)w=e.indexOf(D[1].v.val);N(this,A[w])}if(D){var f=e.indexOf(D[1].v.val);Z[3]=a=1+f;
if(D[0].t=="name")Z[4]=1+A[f].indexOf(D[0].v.val)}};p.prototype.uk=function(i,Z){i.Lght.v=Z[0];i.ClrR.v=Z[1];
i.Fade.v=Z[2];i.neutralizeColor.v=Z[3];if(Z[4]==0){i.noReference={t:"bool",v:!0};delete i.Srce}else{if(Z[4]!=a){a=Z[4];
N(this,A[Z[4]-1])}delete i.noReference;var s={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},D=A[Z[4]-1];
if(Z[5]!=0)s={t:"name",v:{classID:"Lyr",val:D[Z[5]-1]}};i.Srce={t:"obj ",v:[s,{t:"name",v:{classID:"Dcmn",val:e[Z[4]-1]}}]}}};
return p}();function eH(e,A){b5.call(this);if(e==null)return;this.id=A;this.Vu=e;this.fa=null;this.e=B.t("div","window "+A);
this.aa1=null;this.hV=B.t("div","whead");this.a3i=B.t("span","wname");this.hV.appendChild(this.a3i);
this.anN=!1;this.e.appendChild(this.hV);this.Sl=this.av6.bind(this);this.Lp=this.aoo.bind(this);this.tu=this.alU.bind(this);
B.Ig(this.hV);B.V3(this.hV,this.Sl);this.ahm=B.t("span","cross gsicon");this.hV.appendChild(this.ahm);
eH.prototype.f.call(this);B.xq(this.ahm,this.aek.bind(this));this.body=B.t("div","body");this.e.appendChild(this.body)}eH.prototype=new b5;
eH.prototype.xV=function(){return!1};eH.prototype.jV=function(){return!1};eH.prototype.f=function(){if(this.Vu==null)return;
this.a3i.textContent=i1.get(this.Vu)};eH.prototype.MD=function(e,A,a,p,N){};eH.prototype.jZ=function(e,A,a,p,N){};
eH.prototype.D1=function(e,A,a,p,N){};eH.prototype.$Q=function(e,A,a,p,N){};eH.prototype.rZ=function(e,A,a,p,N){};
eH.prototype.CE=function(e,A,a,p){if(p.l(g4.e2)&&this.Jx)this.Jx();if(p.l(g4.YC)){var N=new k4(t.E.v);
N.U3=!0;q.MQ.acD(p,N);if(N.data)A.S(N)}};eH.prototype.uc=function(e){return!1};eH.prototype.NK=function(e,A){return!0};
eH.prototype.OM=function(e,A,a,p){};eH.prototype.Mv=function(e,A){};eH.prototype.cj=function(e,A){return null};
eH.prototype.a6x=function(e){return this.aa1};eH.prototype.YQ=function(){};eH.prototype.close=function(){this.S(new k4(t.E.hM))};
eH.prototype.av6=function(e){this.fa=B.vT(e,this.e);B.iv(window,this.Lp);B.xq(window,this.tu)};eH.prototype.aoo=function(e){var A=this.e.parentNode,a=B.vT(e,A),p=Math.round(a.x-this.fa.x),N=A.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(a.y-this.fa.y)));
this.aa1=new k7(p,N);this.e.style.left=p+"px";this.e.style.top=N+"px"};eH.prototype.alU=function(e){B.Dq(window,this.Lp);
B.Y8(window,this.tu)};eH.prototype.aek=function(e){if(this.anN){this.Jx();return}this.S(new k4("closebtn"));
this.close()};function fy(){eH.call(this,"About Photopea","aboutpp");var e=B.t("div","flexrow");this.body.appendChild(e);
var A=this.asG=B.t("img");e.appendChild(A);this.body.setAttribute("style","margin:0; padding:0");var a=this.a1F=B.t("div");
a.innerHTML=fy.Lh;e.appendChild(a);var p=this.sq=B.t("span");p.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(p)}fy.prototype=new eH;fy.prototype.cj=function(e,A){return new k7(0,0)};fy.prototype.YQ=function(e,A){var a=this.asG,p=this.a1F,N=this.sq,i=(e+A-42-42)/110;
i=Math.sqrt((e-42)*(A-42))/50;a.setAttribute("style","width:"+e/2+"px; height:"+A+"px; display:block; object-fit:cover;");
p.setAttribute("style","width:"+(e/2-42)+"px; height:"+(A-42)+"px; padding:20px; font-size:"+i+"px;");
N.setAttribute("style","position:absolute;  bottom:10px; right:"+(e/2+10)+"px")};fy.prototype.f=function(){};
fy.prototype.OM=function(e,A,a,p){this.asG.setAttribute("src","promo/ivan_pp.webp")};fy.Lh="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function jn(){eH.call(this,[0,13,0],"account");this.OL=B.t("div","form scrollable");this.body.appendChild(this.OL);
this.body.style.padding="0";this.D7=[new jn.bA,new jn.DL("::privacy.html"),new jn.DL(jn.aok)];for(var c=0;
c<this.D7.length;c++)this.D7[c].parent=this;this.h("showpage",this.amW,this)}jn.prototype=new eH;jn.prototype.NK=function(e,A){var a=navigator.onLine;
if(!a)alert("Go online first");return a};jn.prototype.YQ=function(e,A){this.OL.setAttribute("style","width:"+Math.min(e-40,740)+"px;  height:"+(A-38)+"px;  padding:1.5em;");
this.D7[0].YQ(e,A)};jn.prototype.cj=function(e,A){return new k7(Math.max(0,Math.min(150,(e-740)/2)),Math.max(0,Math.min(100,(A-500)/2)))};
jn.prototype.amW=function(e){B.XK(this.OL);this.OL.scrollTop=0;this.OL.appendChild(this.D7[e.data.g2].e)};
jn.prototype.f=function(){eH.prototype.f.call(this);for(var c=0;c<this.D7.length;c++)this.D7[c].f()};
jn.prototype.OM=function(e,A,a){if(!navigator.onLine)return;B.XK(this.OL);var p=this.D7[0];this.OL.appendChild(p.e);
p.OM();this.f()};jn.prototype.Mv=function(e,A){this.OM(null,null,null)};jn.bA=function(){b5.call(this);
this.e=B.t("div");var e=this.e,s,D,S="font-size:1.25em;",F="text-align:center;",m="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",J="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",w="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",b=12;
this.HQ=B.t("div");e.appendChild(this.HQ);this.$o=new c$([0,11],!1,null,!0);this.$o.e.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.$o.h("click",this.m7,this);e.appendChild(this.$o.e);this.ib=new c$([0,13,1],!1,null,!0);this.ib.h("click",this.a3B,this);
e.appendChild(this.ib.e);this.jn=new c$("Business Terms",!1,null,!0);this.jn.h("click",this.a6b,this);
e.appendChild(this.jn.e);var A=B.t("div");A.style.margin="20px 0";e.appendChild(A);var a=["Account Types","Go Premium","Team Settings","Distributors"],p=this.$R=[],N=this.ami=[],i=this.eL=B.t("div");
e.appendChild(i);for(var c=0;c<a.length;c++){var Z=B.t("span");Z.textContent=a[c];A.appendChild(Z);p.push(Z);
Z.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
Z.addEventListener("click",this.sb.bind(this));N.push(B.t("div"))}this.sb(0);var n=this.avo="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
e=N[0];var D=B.t("table"),$="style=\" "+F+S+" padding-bottom:20px;\"";D.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+w+">\t\t\t\t\t<div "+$+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+J+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+w+">\t\t\t\t\t<div "+$+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+J+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+J+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+J+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t\t<li><span "+J+">\u2713</span> quick <a href=\"mailto:support@photopea.com\">email support</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
e.appendChild(D);var Z=new c$("Go Premium");Z.e.setAttribute("style",n+"padding:10px 0;");Z.h("click",function(M){this.sb(1)},this);
D.children[0].children[1].children[1].appendChild(Z.e);this.Oq=B.t("div");e.appendChild(this.Oq);e=N[1];
var f=this.a6D=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.oR=[];for(var c=0;c<f.length;c++)this.oR.push(new c$("Buy: $"+f[c][0],!1,null,!0));for(var c=0;
c<this.oR.length;c++){this.oR[c].h("click",this.arS,this)}this.Oa=new c$("...",!0);this.Oa.e.setAttribute("style",n);
e.appendChild(this.Oa.e);D=this.arH(4,["Single user",this.oR[0],this.oR[1],this.oR[2],"Team of 5",this.oR[3],this.oR[4],this.oR[5],"Team of 20",this.oR[6],this.oR[7],this.oR[8],"Team of 50",this.oR[9],this.oR[10],this.oR[11]]);
e.appendChild(D);this.aqu=new ie("I accept",!0,"");e.appendChild(this.aqu.e);this.Gl=new c$([0,13,1],!1,null,!0);
this.Gl.h("click",this.a3B,this);e.appendChild(this.Gl.e);this.zw=new c$("I have a key",!1,null,!0);
this.zw.e.setAttribute("style",n+" float:right; width:inherit;");this.zw.h("click",this.arS,this);e.appendChild(this.zw.e);
e=N[2];this.pV=new gJ;this.pV.parent=this;this.pV.h(t.E.A,this.T2,this);e.appendChild(this.pV.e);e=N[3];
this.nF=new c$("...",!0);this.nF.e.setAttribute("style",n);e.appendChild(this.nF.e);D=this.arH(3,["1000 views/mo",this.oR[b++],this.oR[b++],this.oR[b++],"5000 views/mo",this.oR[b++],this.oR[b++],this.oR[b++],"20000 views/mo",this.oR[b++],this.oR[b++],this.oR[b++]]);
e.appendChild(D);var L=B.t("p");L.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
e.appendChild(L);this.ng=new fp("Domain name (e.g. domain.com)",null,14);e.appendChild(this.ng.e);var C=new c$("Save Domain Settings",!1,null,!0);
C.FC();e.appendChild(C.e);C.h("click",this.a5E,this)};jn.bA.prototype=new b5;jn.bA.prototype.sb=function(e){var A=typeof e=="number"?e:this.$R.indexOf(e.target);
for(var c=0;c<4;c++)this.$R[c].style.opacity=.6;this.$R[A].style.opacity=1;B.XK(this.eL);this.eL.appendChild(this.ami[A])};
jn.bA.prototype.YQ=function(e,A){var a=e<600?"d":" days",p=["30 days","90 days","365 days"];if(e<600)p=["30d","90d","365d"];
var N=this.a6D;for(var c=0;c<N.length;c++){this.oR[c].WI("<span>"+p[c%3]+": <sup>$</sup><big><b>"+N[c][0]+"</b></big>"+"</span>");
this.oR[c].e.setAttribute("style",this.avo)}};jn.bA.prototype.a3B=function(e){var A=new k4("showpage",!0);
A.data={g2:1};this.S(A)};jn.bA.prototype.a6b=function(e){var A=new k4("showpage",!0);A.data={g2:2};this.S(A)};
jn.bA.prototype.f=function(){this.$o.WI(d4.XP()?i1.get([0,11]):i1.get([0,10]));this.Gl.f();this.ib.f();
this.jn.f()};jn.bA.prototype.avb=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.Fh,link:"https://www.photopea.com/api/accounts#"+(e.target==this.a87?"teams":"distributors")};
this.S(A)};jn.bA.prototype.a5_=function(e){var A=e.currentTarget==this.awo;this.awo.z(A);this.amO.z(!A)};
jn.bA.prototype.a8z=function(e){var A=this.awo.b(),a=this.av9.b().trim().toLowerCase(),p=this.atk.value.trim().toLowerCase();
if(a.length>60){alert("Too long email address");return}if(p.length>600){alert("Too many team members");
return}p=p.split(",").join(" ").trim();p=p.replace(/\s+/g," ");if(p=="")p=[];else p=p.split(" ");var N=d4.JF();
if(N==null)N={};if(N.acc==null)N.acc={};N.acc.team={jin:A,ldr:a,mmb:p};d4.YM(N,this.T2.bind(this));alert("Saved!");
this.OM()};jn.bA.prototype.a5E=function(e){var A=this.ng.b().trim();if(!d4.XP()){alert("You have to log in first.");
return}if(d4.MM()==0){alert("Order a distributor account first.");return}var a=d4.JF();if(a==null)a={};
if(a.acc==null)a.acc={};if(A=="")delete a.acc.dname;else a.acc.dname=A;d4.YM(a,this.T2.bind(this));alert("Saved!");
this.OM()};jn.bA.prototype.a8v=function(e){var A=d4.p8(),c=this.tk,a=d4.JF();if(a==null)a={};if(a.acc==null)a.acc={};
a.acc.bto=e;d4.YM(a,function(){});var p=jn.ae0(e.split("\n"),A.pmnts[c]);c6.save(p,"photopea_invoice.pdf")};
jn.bA.prototype.akz=function(e){var A=d4.p8(),a=d4.JF(),p=a.acc?a.acc.bto:null;if(p==null)p=A.name+"\n"+A.email;
var c=-1,N=e.target.e.parentNode;while((N=N.previousSibling)!=null)c++;this.tk=c;var i=new k4(t.E.L,!0);
i.data={d:t.c.Ch,NY:"billto",Ve:p,AJ:this.a8v.bind(this)};this.S(i)};jn.bA.prototype.OM=function(){this.HQ.innerHTML="";
B.XK(this.Oq);if(d4.XP()){var e=d4.p8(),A=e.pmnts;if(e==null)return;this.HQ.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+e.name+"</span> "+e.email+" <br/>";
if(A){var a="<h2>Payments</h2>";for(var c=0;c<A.length;c++){var p=A[c],N=new Date(p[0]*1e3);a+="<div style=\"font-size:1.2em\">"+N.getDate()+". "+(N.getMonth()+1)+". "+N.getFullYear()+" - "+jn.aqf(p)+"</div>"}this.Oq.innerHTML=a;
for(var c=0;c<A.length;c++){var i=new c$("Get Invoice",!1,null,!0);i.e.setAttribute("style","float:right");
i.h("click",this.akz,this);this.Oq.children[c+1].appendChild(i.e)}}}else{}var Z=d4.XP()&&d4.tl();this.Oa.e.style.display=Z?"block":"none";
if(Z){var s,D,n=Z;if(n[0]==0){s=d4.U5(n[1])-Date.now()*(1/1e3);D=n[1][2]==1?"Single User":"Team Of "+n[1][2]}else{s=n[1][1]-Date.now()*(1/1e3);
D="Member of \""+n[1][0]+"\""}this.Oa.WI("Premium active for "+Math.round(s/(60*60*24))+" more days! ("+D+")")}var S=d4.XP()&&d4.MM()*1e3>Date.now();
this.nF.e.style.display=S?"block":"none";if(S){var s=d4.MM()-Date.now()/1e3;this.nF.WI("Distributor active for "+Math.round(s/(60*60*24))+" more days!")}var F=d4.JF();
this.pV.OM();if(F&&F.acc&&F.acc.dname)this.ng.z(F.acc.dname);else this.ng.z("")};jn.bA.prototype.arH=function(e,A){var a=B.t("table");
if(!0){var p="<table><tr>";for(var c=0;c<e;c++)p+="<th>"+A[c*4]+"</th>";p+="</tr></table>";a.innerHTML=p;
for(var c=0;c<3;c++){var N=B.t("tr"),i;a.appendChild(N);for(var Z=0;Z<e;Z++){i=B.t("td");i.style.width=Math.round(100/e)+"%";
N.appendChild(i);i.appendChild(A[Z*4+1+c].e)}}}return a};jn.bA.prototype.arS=function(e){var A=this.oR.indexOf(e.currentTarget),p=30,N=1;
if(!d4.XP()){this.m7();return}if(this.aqu.b()==!1&&A<12){alert("You must accept Terms of Service");return}var a=d4.XP()&&d4.tl();
if(A!=-1){var i=this.a6D[A];p=i[1];N=i[2]}if(a&&N<1e3){alert("You already have premium.");return}console.log(i,p,N);
if(A==-1){var Z=prompt("Please enter your key");if(Z!=null){d4.a3S(Z,this.T2.bind(this));this.UG()}return}if(p==30&&N==1){var s=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!s)return}d4.order(p,N,this.T2.bind(this));this.UG()};jn.bA.prototype.T2=function(e){this.OM();this.UG()};
jn.bA.prototype.m7=function(e){if(d4.XP()){d4.avd();this.UG();this.OM(null,null,null)}else d4.m7(this.asc.bind(this))};
jn.bA.prototype.asc=function(){var e=new k4(t.E.L,!0);e.data={d:t.c.azo};this.S(e)};jn.bA.prototype.UG=function(){var e=new k4(t.E.L,!0);
e.data={d:t.c.ap5};this.S(e)};jn.DL=function(e){b5.call(this);this.e=B.t("div");var A=this.e,a=this.ap1=new c$([0,13,2],!1,null,!0),p;
a.h("click",this.a1q,this);A.appendChild(a.e);if(e.startsWith("::")){p=B.t("iframe");p.setAttribute("style","width:100%;height:1700px; background-color:white;");
p.setAttribute("src",e.slice(2))}else{p=B.t("div");p.innerHTML=e}A.appendChild(p)};jn.DL.prototype=new b5;
jn.DL.prototype.a1q=function(e){var A=new k4("showpage",!0);A.data={g2:0};this.S(A)};jn.DL.prototype.f=function(){this.ap1.f()};
jn.aok="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
jn.aqf=function(e){return"Photopea "+(e[1]<1e3?"Premium":"Distributor")+" ("+e[1]+" days, "+e[2]+" user"+(e[2]==1?"":"s")+")"};
jn.ae0=function(e,A){e=["Bill To:"].concat(e);var a=new ToPDF,p=595,N=842,i=40,Z=18,s=12,D=500,n=100,S=400,w=0;
function F(v,V,R,h,P){m.font.Tf=P?"Helvetica-Bold":"Helvetica";m.ctm=[1,0,0,1,V,R];m.font.Tfs=h?h:s;
a.PutText(m,v,0)}function $(v,V,R,h){for(var c=0;c<v.length;c++){F(v[c],V,R-c*h,null,c==0)}}var m=UDOC.getState();
a.StartPage(0,0,p,N);F("INVOICE",p-i-140,N-i-30,30,!0);$(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],i,N-i-40,Z);
var J=new Date(A[0]*1e3);$(["Date: "+J.getDate()+". "+(J.getMonth()+1)+". "+J.getFullYear(),"Transaction ID: "+A[4]],p-i-140,N-i-40-Z*2,Z);
var f=e.join("");for(var c=0;c<f.length;c++)w=Math.max(w,f.charCodeAt(c));if(w>256){var b=4,L=B.t("canvas"),C=L.getContext("2d"),M=0;
C.font=s*b+"px sans-serif";for(var c=0;c<e.length;c++)M=Math.max(M,C.measureText(e[c]).width);var y=Math.round(M)+20,Q=e.length*b*Z+20;
L.width=y;L.height=Q;C.font=s*b+"px sans-serif";for(var c=0;c<e.length;c++){C.font=(c==0?"bold ":"")+s*b+"px sans-serif";
C.fillText(e[c],10,(c+1)*b*Z)}document.body.appendChild(L);var k=new Uint8Array(C.getImageData(0,0,y,Q).data.buffer);
m.ctm=[y/b,0,0,Q/b,i-10/b,N-i-40-100-Q/b];a.PutImage(m,k,y,Q);m.ctm=[1,0,0,1,0,0]}else $(e,i,N-i-40-100,Z);
m.colr=[.8,.8,.8];m.pth={cmds:["M","L","L","L","Z"],crds:[i,D,p-i,D,p-i,D-Z,i,D-Z]};a.Fill(m);m.colr=[0,0,0];
var E=[i,D,p-i,D,i,D-Z,p-i,D-Z,i,D-n,p-i,D-n,i,D,i,D-n,p-i,D,p-i,D-n,S,D,S,D-n],_=[];for(var c=0;c<E.length;
c+=4)_.push("M","L");m.pth={cmds:_,crds:E};a.Stroke(m);F("Order details",i+4,D-14);F(jn.aqf(A),i+4,D-Z-14);
F("TOTAL:",i+4,D-n-14,null,!0);F("Price",p-i-50,D-14);F(A[3]+" USD",p-i-60,D-Z-14);F(A[3]+" USD",p-i-60,D-n-14,null,!0);
F("www.Photopea.com",i,i);F("support@photopea.com",p-i-130,i);a.ShowPage();a.Done();return a.buffer};
function j4(){eH.call(this,[11,14],"addguides");this.gJ;this.w7={tz:{sP:0}};this.jL=null;var e=B.t("div","form");
this.body.appendChild(e);this.Rh=[];this.YX=new ah(null,["Hi"]);e.appendChild(this.YX.e);B.jA(e);this.YX.h(t.E.A,this.Z_,this);
this.D6=new fp([22,4,0],null,16);this.D6.h(t.E.A,this.fh,this);this.Vz=new fp([22,4,1],null,16);this.Vz.h(t.E.A,this.fh,this);
this.eM=new el(null,j.qC.e7);this.eM.h(t.E.A,this.fh,this);e.appendChild(this.D6.e);e.appendChild(this.eM.e);
B.jA(e);e.appendChild(this.Vz.e);this.Bz=B.RD(this,e);this.h("closebtn",this.Fo,this)}j4.prototype=new eH;
j4.prototype.NK=function(e,A){return e!=null};j4.prototype.xV=function(){return!0};j4.prototype.f=function(){eH.prototype.f.call(this);
this.D6.f();this.Vz.f();this.eM.f();this.Bz.f()};j4.prototype.Mv=function(e,A){var a=e.tz.sP;this.w7.tz.sP=a;
this.eM.z(a)};j4.prototype.OM=function(e,A){this.gJ=e;this.jL=JSON.stringify(e.ek());this.Rh=[-1];var a=["Global"],p=e.root.children,N=e.nE();
for(var c=0;c<p.length;c++){var i=p[c].j;if(i.add.artb){a.push(i.getName());this.Rh.push(p[c].index)}}this.YX.z8(a);
this.YX.z(this.Rh.indexOf(N));this.Z_()};j4.prototype.Z_=function(){var e=this.gJ,A=e.ek(),a=this.Rh[this.YX.b()],p=[0,0];
if(a!=-1){var N=e.B[a].jP();p=[N.x,N.y]}var i=function(Z,s,e,D,n){var S=Z[0],F=[];for(var c=0;c<S.length;
c++)if(Z[1][c]==a&&S[c][0]==s)F.push(j.qC.Wa(S[c][1]-p[s],e.l5,D,n));F.sort(function($,m){return $-m});
return F.join(", ")};this.D6.z(i(A,0,e,this.w7,e.m));this.Vz.z(i(A,1,e,this.w7,e.n))};j4.prototype.fh=function(e){if(e&&e.currentTarget==this.eM)this.w7.tz.sP=this.eM.b();
else{var A=this.ajK(),a=this.gJ;a.sT(A);a.De=!0}this.Z_()};j4.prototype.ajK=function(){var e=this.gJ,A=e.ek(),a=this.Rh[this.YX.b()],p=[0,0];
if(a!=-1){var N=e.B[a].jP();p=[N.x,N.y]}var i=[];for(var Z=0;Z<2;Z++){var s=Z==0?this.D6:this.Vz,D=Z==0?this.gJ.m:this.gJ.n,n=s.b().replace(/,/g," ").replace(/  +/g," ").trim(),S=n==""?[]:n.split(" ");
for(var c=0;c<S.length;c++)i.push([Z,j.qC.aw8(S[c],this.gJ.l5,this.w7,D)+p[Z]])}for(var c=0;c<A[0].length;
c++)if(A[1][c]==a){A[0].splice(c,1);A[1].splice(c,1);c--}for(var c=0;c<i.length;c++){A[0].push(i[c]);
A[1].push(a)}return A};j4.prototype.Fo=function(e){var A=this.gJ;A.sT(JSON.parse(this.jL));A.De=!0;this.gJ=null};
j4.prototype.Jx=function(e){this.fh(e);var A=new k4(t.E.v,!0);A.G=q.Mf;A.data={d:"gids",ca:JSON.parse(this.jL),Ph:this.gJ.ek()};
this.gJ=null;this.close();this.S(A)};function gD(e){eH.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats"}[e],e);
var A=B.t("div","form");this.body.appendChild(A);A.setAttribute("style","width:300px");this.pW=new aT("Source Images",!0,!0);
A.appendChild(this.pW.e);this.CD=new el([12,14,0],["A4 Portrait","A4 Lanscape",[12,93,3],"Adapt to images"]);
this.Dy=new ie("Order images by name");this.Dy.z(!0);var a=this.anu=fI.Vd();for(var c=0;c<a.length;c++)if(fI.nP(a[c]).S$){a.splice(c,1);
c--}this.lQ=new el([12,50],a);this.Lb=new cs;this.lQ.h(t.E.A,this.Tk,this);if(e=="pdfpres"){A.appendChild(this.CD.e);
A.appendChild(this.Dy.e)}else{A.appendChild(this.lQ.e);A.appendChild(this.Lb.e)}var p=["VAR0 PDF",[1,8]];
if(e=="cformat")p="Convert Images";var N=new c$(p,!0,null,!0);N.h("click",this.MR,this);A.appendChild(N.e);
this.Tk()}gD.prototype=new eH;gD.prototype.Tk=function(e){var A=this.anu[this.lQ.b()];this.Lb.iC(A)};
gD.prototype.MR=function(e){var A=this.pW.b(),a=[],i=595,Z=842,s=40;for(var p in A)a.push(p);if(a.length==0){alert("No images selected");
return}if(this.Dy.b())a.sort();var N=this.CD.b(),D=new ToPDF,n=UDOC.getState(),S=this.anu[this.lQ.b()],F=fI.nP(S),$=this.Lb.b(),m={};
for(var c=0;c<a.length;c++){var p=a[c],J=A[p],w=J[0]==255,f=fI.ti(J.buffer),b=fI.nP(f),L;if(f=="psd")L=aK.a7y(J.buffer)[0];
else if(b.S$){alert(f.toUpperCase()+" can not be used.");continue}else L=b.QS(J.buffer)[0];var C=L.WJ,M=new Uint8Array(L.data),y=C.m,Q=C.n;
if(this.id=="pdfpres"){var k=[[595,842],[842,595],[595,595],[595,0]][N];if(N==3)k[1]=Math.round(k[0]*Q/y);
var i=k[0],Z=k[1],E=Math.min(i/y,Z/Q);D.StartPage(0,0,i,Z);n.ctm=[y*E,0,0,Q*E,(i-y*E)/2,(Z-Q*E)/2];D.PutImage(n,w?J:M,y,Q);
D.ShowPage()}else{var _=p.split(".");_.pop();_.push(S.toLowerCase());m[_.join(".")]=new Uint8Array(F.Eu([[L.data]],y,Q,$))}}if(this.id=="pdfpres"){D.Done();
c6.save(D.buffer,"file.pdf")}else{c6.save(UZIP.encode(m),"images.zip")}};gD.prototype.f=function(){eH.prototype.f.call(this);
this.pW.f();this.CD.f();this.Dy.f()};function cM(e){var A=hZ.names[e];if(A==null)A=a7.names[e];if(e=="aply")A=[2,12];
if(e=="fade")A=[2,11];if(e=="matc")A=[4,18];if(e=="blendOptions")A=[14,10];eH.call(this,A,"afw_"+e);
this.yC=e;this._Z=null;this.yM=null;this.DS=new bo[e];this.DS.h(t.E.A,this.$T,this);this.DS.parent=this;
this.body.appendChild(this.DS.e);this.gu=new ie([24,18,5]);this.gu.z(!0);this.gu.h(t.E.A,this.$T,this);
this.aY=new c$([1,12,2],!0,null,!0);this.aY.h("click",this.Tg,this);this.Bz=B.RD(this);if(this.XE())this.DS.PU(this.Bz.e);
else{B.LM(this.DS.e,"form");B.LM(this.body,"flexrow");this.DS.e.setAttribute("style","width:312px");
var a=B.t("div");this.body.appendChild(a);a.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
a.appendChild(this.Bz.e);a.appendChild(this.aY.e);a.appendChild(this.gu.e)}this.h("closebtn",this.Ie,this)}cM.prototype=new eH;
cM.prototype.xV=function(){return!0};cM.prototype.XE=function(){return this.DS!=null&&this.DS.IQ()};
cM.prototype.cj=function(){return this.XE()?new k7(0,0):eH.prototype.cj()};cM.prototype.jV=function(){return this.DS.jV()};
cM.prototype.MD=function(e,A,a,p,N){this.DS.MD(e,A,a,p,N)};cM.prototype.D1=function(e,A,a,p,N){this.DS.D1(e,A,a,p,N)};
cM.prototype.$Q=function(e,A,a,p,N){this.DS.$Q(e,A,a,p,N)};cM.prototype.NK=function(e,A){if(this.yC=="fade")return cM.a9g(e);
return!0};cM.prototype.Tg=function(e){this.DS.z(hZ.T$(this.yC));this.$T()};cM.prototype.$T=function(e){this.M$({d:"edit",HG:this.DS.b(),SV:!this.gu.b()})};
cM.prototype.Ie=function(e){this.M$({d:"cancel"})};cM.prototype.Jx=function(e){if(!this.gu.b()){this.gu.z(!0);
this.$T()}this.yM=this.DS.b();if(this.XE())this.$T();this.M$({d:"confirm"});this.close()};cM.prototype.f=function(){eH.prototype.f.call(this);
this.gu.f();if(this.DS)this.DS.f();this.Bz.f()};cM.prototype.Mv=function(e,A){if(this.DS)this.DS.Mv(e,A)};
cM.prototype.CE=function(e,A,a,p){if(this.XE())this.DS.CE(p);else eH.prototype.CE.call(this,e,A,a,p)};
cM.prototype.OM=function(e,A,a,p){this._Z=A._Z;var N=e.add.lnk2?e.add.lnk2:[],i,Z,s=new dE(0,0,e.m,e.n),D=e.B[e.g[0]],n=null;
i=D.buffer;Z=D.rect;if(this.XE())n=e.WR(e.g[0]-1);var S=hZ.T$(this.yC),F=[N,e.l8,e,a];if(A._Z==null){this.DS.z(S,i,Z,s,n,F);
if(a7.names[this.yC]){if(p.l(g4.uJ)&&this.yM)this.DS.z(this.yM);var $=q.ML.getData(e),m=j.rH($[0].bD);
this.DS.TH(m)}}else{var J=!1,D=e.B[this._Z.j];if(D.$f()){var w=D.MH(e);i=w.buffer;Z=w.rect;var f=D.add.SoLd.filterFX.v.filterFXList.v;
if(f[this._Z.index]){var b=f[this._Z.index].v;this.DS.z(this.yC=="blendOptions"?b.blendOptions.v:b.Fltr.v,i,Z,s,n,F);
this.DS.TH(j.rH(i));J=!0}}if(!J){this.DS.z(S,i,Z,s,n,F);this.DS.TH(j.rH(i))}}if(!this.XE()){this.$T();
var L=this.DS;if(L&&L.Z4&&L.Z4[0]&&L.Z4[0].Uj)L.Z4[0].Uj()}};cM.prototype.M$=function(e){var A=new k4(t.E.v,!0);
e.yC=this.yC;e._Z=this._Z;A.data=e;A.G=hZ.names[this.yC]||this._Z?q.ws:q.Dx;A.U3=!0;this.S(A)};cM.prototype.YQ=function(e,A){if(!this.DS.IQ()){}else{this.body.style.padding="0";
this.DS.YQ(e,A)}};cM.a9g=function(e){if(e==null)return!1;var A=e.rU();if(A==null||!(A.data instanceof Array)||A.data.length!=e.g.length)return!1;
for(var c=0;c<A.data.length;c++){var a=A.data[c];if(a.j<0&&e.l8[-1-a.j])return!0;if(a.j==null||e.B[a.j]==null||e.B[a.j].os!=a.Bn)return!1;
if(e.g.indexOf(a.j)==-1)return!1}return!0};function fo(){eH.call(this,[11,0],"camera");this.data=null;
this._H=new k7(1,1);this.a81=[];var e=B.t("div","form hbar");this.body.appendChild(e);this.asV=new el(null,[]);
this.CQ=new el([21,0],[[21,2],[21,1]]);e.appendChild(this.CQ.e);this.JA=new el(null,[]);this.JA.h(t.E.A,this.alT,this);
e.appendChild(this.JA.e);this.G$=new c$([11,0],!1,null,!0);this.G$.h("click",this.af8,this);e.appendChild(this.G$.e);
this.cU=new bQ("");e.appendChild(this.cU.e);this.stream=null;this.ly=B.t("video","");this.ly.setAttribute("autoplay","true");
this.body.appendChild(this.ly);this.aiN=this.agj.bind(this);this.azQ=this.a9f.bind(this);this.aki=this.adZ.bind(this);
this.h("closebtn",this.abA,this)}fo.prototype=new eH;fo.prototype.f=function(){eH.prototype.f.call(this);
this.CQ.f();this.G$.f();this.YQ(this.SB,this.Ps)};fo.prototype.WR=function(){var e=this.ly.videoWidth,A=this.ly.videoHeight,a=B.t("canvas","");
a.width=e;a.height=A;var p=a.getContext("2d");p.drawImage(this.ly,0,0,e,A);var N=p.getImageData(0,0,e,A);
return{WJ:new dE(0,0,e,A),data:N.data.buffer}};fo.prototype.af8=function(e){if(this.CQ.b()==0)this.au_();
else this.awa()};fo.prototype.awa=function(){var e=this.WR(),A={buffer:new Uint8Array(e.data),rect:e.WJ},a=new k4(t.E.v,!0);
a.U3=!0;a.G=q._b;a.data={d:u.Q0,ZK:A};this.S(a);alert(i1.get([21,4]))};fo.prototype.au_=function(){var e=this.WR(),A=fI.TW("camera",[e]),a=new k4(t.E.L,!0);
a.data={d:t.c.nK,M0:A};this.S(a);alert(i1.get([21,5]))};fo.prototype.OM=function(e,A,a){navigator.mediaDevices.enumerateDevices().then(this.axM.bind(this))};
fo.prototype.axM=function(e){var A=this.a81=[],a=[];for(var c=0;c<e.length;c++)if(e[c].kind=="videoinput"){A.push(e[c]);
a.push("Camera "+A.length)}this.JA.z8(a);this.JA.z(0);this.alT()};fo.prototype.alT=function(e){this.abA();
var A={video:{deviceId:this.a81[this.JA.b()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(A).then(this.aiN).catch(this.azQ);
else navigator.webkitGetUserMedia(A,this.aiN,this.azQ)};fo.prototype.agj=function(e){this.stream=e;this.ly.srcObject=e;
this.ly.addEventListener("loadedmetadata",this.aki,!1)};fo.prototype.adZ=function(e){this.ly.play();
this.YQ(this.SB,this.Ps)};fo.prototype.cj=function(e,A){return new k7(0,0)};fo.prototype.YQ=function(e,A){var a=this.ly.videoWidth,p=this.ly.videoHeight;
this.cU.z(a+" x "+p+" px");this.cU.e.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this._H.rq(a,p);this.SB=e;this.Ps=A;var N=e-28,i=A-28-30,Z=this._H.x/this._H.y;if(N/i>Z)N=i*Z;else i=N/Z;
this.ly.setAttribute("style","display: block; width: "+Math.round(N)+"px; height:"+Math.round(i)+"px;")};
fo.prototype.a9f=function(e){console.log("error",e);alert(i1.get([21,6]));this.close()};fo.prototype.abA=function(e){if(this.stream!=null){var A=this.stream.getTracks();
for(var c=0;c<A.length;c++)A[c].stop();this.stream=null}};function a5(){eH.call(this,[7,8],"crange");
this.gJ=null;this.FQ={SA:73,gg:4.45,k:4};this.w4={SA:73,gg:4.45,k:4};this.body.style.width="20em";this.KK=new el([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.KK.h(t.E.A,this.apF,this);this.body.appendChild(this.KK.e);this.Lh=B.t("div","form");this.body.appendChild(this.Lh);
var e=this.ax6=2,A=this.b2=[new c8([12,92],0,200),new ah([12,36],[[18,0],"\uFF0B","-"]),new c8([12,92],0,100,"%"),new g0("Min",0,255),new g0("Max",0,255)];
A[0].z(40);A[e].z(40);for(var c=0;c<A.length;c++){A[c].h(t.E.A,this.Se,this);A[c].parent=this}this.T=B.t("canvas");
this.body.appendChild(this.T);this.Bz=B.RD(this,this.body)}a5.prototype=new eH;a5.prototype.NK=function(e,A){return e!=null};
a5.prototype.jV=function(){return!0};a5.prototype.xV=function(){return!0};a5.prototype.apF=function(e){var A=this.KK.b(),a=this.b2,p=this.Lh,N=0,i=a.length,Z=this.ax6;
if(A==0)i=Z;else{N=Z;a[N+1].z([0,100,190][A-1]);a[N+1].Y7(A!=1);a[N+2].z([60,150,255][A-1]);a[N+2].Y7(A!=3)}B.XK(p);
for(var c=N;c<i;c++){p.appendChild(a[c].e)}this.Se()};a5.prototype.f=function(){eH.prototype.f.call(this);
this.Bz.f();this.KK.f();for(var c=0;c<this.b2.length;c++)this.b2[c].f()};a5.prototype.MD=function(e,A,a,p,N){var i=e.u.FT(N.x,N.y);
this.abb(i.x,i.y)};a5.prototype.abb=function(e,A){var a=Math.min,p=Math.max,N=this.gJ,i=p(0,a(N.m-1,Math.floor(e))),Z=p(0,a(N.n-1,Math.floor(A))),s=N.WR(),D=(Z*N.m+i)*4,n=s[D],S=s[D+1],F=s[D+2],$=j.v_(n,S,F),m=this.b2[1].b(),J=this.FQ,w=this.w4;
if(m==0){this.FQ=JSON.parse(JSON.stringify($));this.w4=$}else if(m==1){J.SA=a(J.SA,$.SA);J.gg=a(J.gg,$.gg);
J.k=a(J.k,$.k);w.SA=p(w.SA,$.SA);w.gg=p(w.gg,$.gg);w.k=p(w.k,$.k)}else if(m==2){var f=(J.SA+w.SA)/2,b=(J.gg+w.gg)/2,L=(J.k+w.k)/2;
if($.SA<f)J.SA=p(J.SA,$.SA+10);else w.SA=a(w.SA,$.SA-10);if($.gg<b)J.gg=p(J.gg,$.gg+1);else w.gg=a(w.gg,$.gg-1);
if($.k<L)J.k=p(J.k,$.k+1);else w.k=a(w.k,$.k-1)}this.Se()};a5.prototype.Jx=function(e){var A=this.KK.b(),a=this.b2,p={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(A==0){var N=this.FQ,i=this.w4;p.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:N.SA},A:{t:"doub",v:N.gg},B:{t:"doub",v:N.k}}};
p.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:i.SA},A:{t:"doub",v:i.gg},B:{t:"doub",v:i.k}}};p.Fzns={t:"long",v:a[0].b()}}else{A--;
var Z=["shadows","midtones","highlights"][A];p.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][A]}};if(0<A)p[Z+"LowerLimit"]={t:"long",v:a[3].b()};
if(A<2)p[Z+"UpperLimit"]={t:"long",v:a[4].b()};p[Z+"Fuzziness"]={t:"long",v:a[2].b()}}this.close();var s=new k4(t.E.wH,!0);
s.data={_h:"colorRange",h2:p};this.S(s)};a5.prototype.OM=function(e,A){this.gJ=e;this.abb(0,0);this.apF()};
a5.prototype.Se=function(){var e=this.gJ,A=this.KK.b(),a=this.FQ,p=this.w4,N=this.b2,i=N[0].b()/200,Z=!1;
if(A>0){a=N[3].b();p=N[4].b();if(a>=p)a=p-1;Z=!0;i=N[2].b()/100}var s=q.ns.b7(e,a,p,i,Z),D=s.rect,n=s.channel,S=this.T,F=S.getContext("2d"),$=Math.floor(230*B.V()),m=Math.floor($*(D.n/D.m));
S.width=$;S.height=m;B.JK(S,$,m);var J=j.Q(n.length*4);j.fV(J,4294967295);for(var c=0;c<3;c++)j.Ao(n,J,c);
var w=q.BD.xM([J,D],new bj($/D.m,0,0,m/D.n,0,0)),f=w.rect,b=new ImageData(new Uint8ClampedArray(w.buffer.buffer),f.m,f.n);
F.putImageData(b,0,0)};function cw(){eH.call(this,[12,76,1],"createshape");this.VO=null;var e=B.t("div","form");
e.setAttribute("style","width:20em");this.body.appendChild(e);this.m4=new g0([12,41],0,0,null,0,!1,!0);
e.appendChild(this.m4.e);B.jA(e);this.D6=new g0([12,42],0,0,null,0,!1,!0);e.appendChild(this.D6.e);B.jA(e);
this.J_=new ie([19,5,3]);e.appendChild(this.J_.e);this.m4.z(100);this.D6.z(100);this.Bz=B.RD(this,e)}cw.prototype=new eH;
cw.prototype.Jx=function(e){this.VO.awO(this.VO.axL,this.m4.b(),this.D6.b(),this.J_.b());this.close()};
cw.prototype.f=function(){if(this.VO)this.Vu=i1.get([5,3])+": "+i1.get(this.VO.abM);eH.prototype.f.call(this);
this.Bz.f();this.m4.f();this.D6.f();this.J_.f()};cw.prototype.OM=function(e,A){this.VO=A;this.f();this.m4.Uj()};
function h7(){eH.call(this,[11,1],"colorpicker");this.iz=null;this.Bw=null;this.GO=null;this.wd=!1;this.pw=!1;
this.azc=[.9642,1,.8249];var e=B.t("div","flexrow"),Z,s;this.body.appendChild(e);this.vQ=new dZ(256,!0);
this.vQ.h(t.E.A,this.E6,this);e.appendChild(this.vQ.e);var A=B.t("div","form");A.setAttribute("style","width:14.5em; margin-left:1em;");
e.appendChild(A);var a=B.t("div","flexrow");A.appendChild(a);var p=B.t("div");a.appendChild(p);p.style="width:95px; margin-right:14px";
this.ahZ=B.t("div","full");p.appendChild(this.ahZ);this.ak1=B.t("div","full");p.appendChild(this.ak1);
var p=B.t("col");a.appendChild(p);p.style.width="80px";this.Bz=B.RD(this,p);var a=B.t("div","flexrow");
A.appendChild(a);var N=B.t("div"),i=B.t("div");a.appendChild(N);a.appendChild(i);N.style=i.style="margin-left:14px; max-width:80px;";
Z=["H","S","B"];s=N;this.mR=[];for(var c=0;c<3;c++){var D=0,n=360,S="\xB0";if(c!=0){n=100;S="%"}var F=new g0(Z[c],D,n,S,0,!1,!0);
this.mR.push(F);F.h(t.E.A,this.az_,this);s.appendChild(F.e);if(c==2)F.e.style.marginBottom="8px"}Z=["R","G","B"];
s=N;this.gO=[];for(var c=0;c<3;c++){var F=new g0(Z[c],0,255,null,0,!1,!0);this.gO.push(F);F.h(t.E.A,this.aeG,this);
s.appendChild(F.e)}Z=["L","a","b"];s=i;this.aH=[];for(var c=0;c<3;c++){var D=[0,-128,-128][c],n=[100,127,127][c],F=new g0(Z[c],D,n,null,0,!1,!0);
F.z(0);this.aH.push(F);F.h(t.E.A,this.aun,this)}Z=["C","M","Y","K"];s=i;this.I4=[];for(var c=0;c<4;c++){var F=new g0(Z[c],0,100,"%",0,!1,!0);
F.z(0);this.I4.push(F);F.h(t.E.A,this.anq,this);s.appendChild(F.e);if(c==3)F.e.style.marginBottom="8px"}this.D6=new fp("#",null,4.5);
this.D6.h(t.E.A,this.zn,this);i.appendChild(this.D6.e);this.D6.e.style.marginRight="0";this.C0=B.t("input","fitem");
this.C0.setAttribute("type","color");this.C0.setAttribute("style","width:59px;  margin-left:19px;");
this.C0.addEventListener("change",this.zn.bind(this),!1);i.appendChild(this.C0);this.EJ=new jk(9);this.EJ.h(t.E.A,this.zn,this);
A.appendChild(this.EJ.e);this.h("closebtn",this.Ie,this);this.FI=!1}h7.prototype=new eH;h7.prototype.jV=function(){return!0};
h7.prototype.cj=function(e,A){return new k7(Math.max(0,Math.min(150,(e-484)/2)),Math.max(0,Math.min(150,(A-316)/2)))};
h7.prototype.YQ=function(e,A){this.vQ.YQ(Math.min(256,e-226),A)};h7.prototype.f=function(e,A){eH.prototype.f.call(this);
for(var c=0;c<3;c++){this.gO[c].f();this.mR[c].f();this.aH[c].f()}for(var c=0;c<4;c++)this.I4[c].f();
this.Bz.f()};h7.prototype.E6=function(e){this.Bw=this.vQ.b();this.update()};h7.prototype.MD=function(e,A,a,p,N){this.FI=!0;
this.al2(e,N)};h7.prototype.D1=function(e,A,a,p,N){if(!this.FI)return;this.al2(e,N)};h7.prototype.$Q=function(e,A,a,p,N){this.FI=!1};
h7.prototype.al2=function(e,A){var a=q.ap.Xg(e,A,1),p=a&255,N=a>>8&255,i=a>>16&255;this.Bw={o:i/255,J:N/255,k:p/255};
this.update()};h7.prototype.aeG=function(e){var A=this.gO,a=this.cm(parseInt(A[0].b())),p=this.cm(parseInt(A[1].b())),N=this.cm(parseInt(A[2].b()));
this.Bw={o:a/255,J:p/255,k:N/255};this.update()};h7.prototype.az_=function(e){var A=this.mR,a=this.lc(parseInt(A[0].b())/360),p=this.lc(parseInt(A[1].b())/100),N=this.lc(parseInt(A[2].b())/100);
this.Bw=j.BA(a,p,N);this.update()};h7.prototype.anq=function(e){var A=this.I4,a=[];for(var c=0;c<4;c++){var p=this.a9F(parseInt(A[c].b()));
A[c].z(p);a.push(p/100)}var N=j.k4(a);this.Bw={o:N[0],J:N[1],k:N[2]};this.update(!0)};h7.prototype.aun=function(e){var A=this.aH,a=parseInt(A[0].b()),p=parseInt(A[1].b()),N=parseInt(A[2].b()),i=j.j5(a,p,N);
this.Bw={o:i.o/255,J:i.J/255,k:i.k/255};this.update()};h7.prototype.zn=function(e){var A;if(e.currentTarget==this.EJ)A=this.EJ.b();
else{A=e.currentTarget==this.D6?this.D6.b():this.C0.value;if(A.charAt(0)=="#")A=A.slice(1);if(A.length==3)A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2];
A=j.AZ(A)}this.Bw={o:(A>>16&255)/255,J:(A>>8&255)/255,k:(A&255)/255};this.update()};h7.prototype.sl=function(e){var A=e.o,a=e.J,p=e.k;
return Math.round(A*255)<<16|Math.round(a*255)<<8|Math.round(p*255)};h7.prototype.Jx=function(e){this.a9w();
var A=this.sl(this.Bw);this.GO(A);this.close();this.pw=!1;this.Bw=null};h7.prototype.Ie=function(e){this.a9w();
if(this.wd)this.GO(this.sl(this.iz));this.pw=!1;this.Bw=null};h7.prototype.a9w=function(e){var A=new k4(t.E.L,!0);
A.data={d:t.c.a7S};this.S(A)};h7.prototype.Mv=function(e,A){var a=ho.Yf(e,A);if(a!=null)this.EJ.z(a);
if(A!=ac.V9)return;if(this.Bw!=null){this.Bw={o:(a>>16&255)/255,J:(a>>8&255)/255,k:(a>>0&255)/255};this.update()}};
h7.prototype.OM=function(e,A){var a=A.Dv,p={o:(a>>16&255)/255,J:(a>>8&255)/255,k:(a>>0&255)/255};if(this.Bw==null){var N=new k4(t.E.L,!0);
N.data={d:t.c.Jn,J5:"crosshair",push:!0};this.S(N);this.FI=!1;this.GO=A.og;this.wd=!1;this.pw=A.Hy;this.iz=JSON.parse(JSON.stringify(p));
this.ak1.setAttribute("style","height:2.3em;background-color:#"+j.yj(a)+";")}this.Bw=p;this.update()};
h7.prototype.update=function(e){var A=this.Bw,a=this.sl(A);this.D6.z(j.yj(a));this.C0.value="#"+j.yj(a);
this.ahZ.setAttribute("style","height:2.3em;background-color:#"+j.yj(a)+";");var p=this.gO;p[0].z(Math.round(A.o*255));
p[1].z(Math.round(A.J*255));p[2].z(Math.round(A.k*255));var N=j.RR(A.o,A.J,A.k);p=this.mR;p[0].z(Math.round(N.Ps*360));
p[1].z(Math.round(N.PV*100));p[2].z(Math.round(N.HG*100));var i=j.v_(A.o*255,A.J*255,A.k*255,this.azc);
p=this.aH;p[0].z(Math.round(i.SA));p[1].z(Math.round(i.gg));p[2].z(Math.round(i.k));if(e==null){var Z=j.asW([A.o,A.J,A.k]);
p=this.I4;p[0].z(Math.round(Z[0]*100));p[1].z(Math.round(Z[1]*100));p[2].z(Math.round(Z[2]*100));p[3].z(Math.round(Z[3]*100))}this.vQ.z(A);
if(this.pw){this.GO(this.sl(this.Bw));this.wd=!0}};h7.prototype.a9F=function(e){return Math.max(0,Math.min(100,e))};
h7.prototype.cm=function(e){return Math.max(0,Math.min(255,e))};h7.prototype.lc=function(e){return Math.max(0,Math.min(1,e))};
function hD(){eH.call(this,[11,2],"contoureditor");this.a2O=null;this.Gm=null;this.response=null;this.UZ=B.t("div","cell");
this.body.appendChild(this.UZ);this.hS=B.t("div","cell padded");this.body.appendChild(this.hS);var e=B.t("div","bordered padded vmargin");
this.UZ.appendChild(e);this.DS=new hB(null,null,!0);this.DS.h(t.E.A,this.$r,this);e.appendChild(this.DS.e);
this.Bz=B.RD(this,this.hS);this.h("closebtn",this.aL,this)}hD.prototype=new eH;hD.prototype.Jx=function(){this.close()};
hD.prototype.f=function(){eH.prototype.f.call(this);this.Bz.f();this.DS.f()};hD.prototype.$r=function(e){this.Gm.Crv.v=this.DS.b();
this.response(this.Gm)};hD.prototype.aL=function(e){this.response(this.a2O)};hD.prototype.OM=function(e,A){this.a2O=JSON.parse(JSON.stringify(A.eL));
this.Gm=A.eL;this.response=A.response;this.DS.z(this.Gm.Crv.v)};function d7(){eH.call(this,[11,3],"csize");
this.xi=0;this.OL=B.t("div","form");this.OL.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.OL);
this.mo=new js(!0,!0,!0,!0,!0);this.mo.a7B(!1);this.OL.appendChild(this.mo.e);this.ov=new ah("Align with",[[8,7,0],[12,6]]);
this.ov.h(t.E.A,this.aua,this);this.Vk=new fe([12,23,2],41);this.OL.appendChild(this.Vk.e);this.Vk.z(4);
this.Ec=new ab(!1);this.Ec.auv(new k7(0,0));this.Bz=B.RD(this,this.body)}d7.prototype=new eH;d7.prototype.NK=function(e,A){return e!=null};
d7.prototype.xV=function(){return!0};d7.prototype.uc=function(e){return[g4.uh,g4.nT,g4.XM,g4.TA].indexOf(e)!=-1};
d7.prototype.CE=function(e,A,a,p){if(p.l(g4.e2))this.Jx();this.Vk.ae4(p._X())};d7.prototype.aua=function(){var e=[this.Vk.e,this.Ec.e];
this.OL.removeChild(e[this.xi]);this.xi=this.ov.b();this.OL.appendChild(e[this.xi])};d7.prototype.f=function(){eH.prototype.f.call(this);
this.mo.f();this.ov.f();this.Vk.f();this.Ec.f();this.Bz.f()};d7.prototype.Jx=function(e){var A=this.mo.b(),a=A.x,p=A.y,N=new k4(t.E.wH,!0);
N.data=q.v9.a6L(a,p,this.Vk.b());this.close();this.S(N)};d7.prototype.OM=function(e,A){this.mo.z(new k7(e.m,e.n),e.l5);
this.mo.Uj()};function bw(){eH.call(this,[11,4],"duplinto");this.Wo=null;this.IZ=null;this.JI=null;var e=B.t("div","form");
e.setAttribute("style","max-width:26em");this.body.appendChild(e);this.ep=new el([12,43],["abc","def"]);
this.ep.h(t.E.A,this.NJ,this);e.appendChild(this.ep.e);B.jA(e);this.AL=new el([1,16,0],["abc","def"]);
this.AL.h(t.E.A,this.NJ,this);e.appendChild(this.AL.e);B.jA(e);this.aj=new fp([12,48],null,14);e.appendChild(this.aj.e);
this.Bz=B.RD(this,e)}bw.prototype=new eH;bw.prototype.xV=function(){return!0};bw.prototype.f=function(){eH.prototype.f.call(this);
this.Bz.f();this.ep.f();this.aj.f()};bw.prototype.NJ=function(e){if(e&&e.target==this.AL)return;var A=this.ep.b(),a=this.IZ[A],p=this.Wo,N=a!=null&&a.add.artd!=null;
for(var c=0;c<p.g.length;c++)if(p.B[p.g[c]].add.artb)N=!1;this.aj.Y7(A==this.IZ.length);this.AL.Y7(N);
if(N){var i=a.root.children,Z=[],s=this.JI=[];for(var c=0;c<i.length;c++){var D=i[c].j;if(D.add.artb)Z.push(D.getName());
s.push(i[c].index)}this.AL.z8(Z);this.AL.z(0)}else this.JI=null};bw.prototype.OM=function(e,A,a){this.Wo=e;
this.IZ=a;this.aj.z(e.g.length==0?"Layer":e.B[e.g[0]].getName());var p=[];for(var c=0;c<a.length;c++){var N=a[c].name;
p.push(N.length<30?N:N.slice(0,27)+"...")}p.push([11,7]);this.ep.z8(p);this.ep.z(a.indexOf(e));this.NJ(null)};
bw.prototype.Jx=function(e){var A=this.ep.b();if(A==this.IZ.length){var a=new ar(this.aj.b()+".psd"),p=this.Wo.m,N=this.Wo.n,i=this.Wo.nE();
if(i!=-1){var Z=this.Wo.B[i].jP();p=Z.m;N=Z.n}a.m=p;a.n=N;a.buffer=j.Q(a.m*a.n*4);var s=a.Uo();s.i4("Background");
a.Ex([s]);var D=new k4(t.E.L,!0);D.U3=!0;D.data={d:t.c.nK,M0:a};this.S(D)}var n=this.Wo.s2(null,this.Wo!=this.IZ[A]),D=new k4(t.E.v,!0);
D.data={d:u.WH,B:n,lC:this.Wo,K5:this.IZ[A]};if(this.JI)D.data.UT=this.JI[this.AL.b()];D.G=q._b;D.U3=!0;
this.S(D);this.close()};function cO(){eH.call(this,[1,9],"eassets");this.w7=null;this.oO=null;var e=this.body;
B.LM(e,"form");e.style.width="32em";this.KK=new ah(null,["Layers","Combinations"]);this.KK.h(t.E.A,this.Z_,this);
e.appendChild(this.KK.e);B.lk(e);this.pS=B.t("span");e.appendChild(this.pS);this.x$=B.t("div");e.appendChild(this.x$);
var A=B.t("div"),a=B.t("div","flexrow");this.acw=[A,a];this.F_=[new ie("Only layers / folders, whose name starts with \"-e-\""),new ie("Remove parts outside the canvas"),new ie("Trim transparent parts")];
for(var c=0;c<3;c++){var p=this.F_[c];p.z(!0);p.h(t.E.A,this.Z_,this);A.appendChild(p.e);B.jA(A)}this.Xw=new hj([12,14,0],["1x","2x","3x","4x"]);
this.Xw.z([!0,!1,!1,!1]);A.appendChild(this.Xw.e);var N=B.t("div");a.appendChild(N);var i=B.t("img");
i.setAttribute("src","img/nft.png");i.style.width="150px";a.appendChild(i);var Z=B.t("span");Z.textContent="File Names:";
N.appendChild(Z);this.T_=new hj(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
N.appendChild(this.T_.e);this.T_.z([!0,!1,!1]);B.lk(e);this.ZO=["PNG","JPG","SVG","TIFF","TGA"];this.Cp=new el([12,50],this.ZO);
this.Cp.h(t.E.A,this.Tk,this);e.appendChild(this.Cp.e);this.Lb=new cs;e.appendChild(this.Lb.e);this.Bz=new c$([1,9],!0,null,!0);
this.Bz.h("click",this.Jx,this);e.appendChild(this.Bz.e);this.h("closebtn",this.YW,this)}cO.prototype=new eH;
cO.prototype.Tk=function(e){this.Lb.iC(this.ZO[this.Cp.b()],!1,!1,!1,this.oO.wO()!=null)};cO.prototype.YW=function(e){this.oO=null};
cO.prototype.f=function(){eH.prototype.f.call(this);this.Cp.f();this.Xw.f();this.Bz.f();this.Lb.f()};
cO.prototype.OM=function(e,A,a){this.oO=e;this.Z_()};cO.prototype.Z_=function(e){var A=this.KK.b(),a;
B.XK(this.x$);this.x$.appendChild(this.acw[A]);if(A==0){var p=this.alX();a=p.length+" exportable layers"}else{var p=this.az3();
a=p[1]+" combinations ("+p[0].join(" \xD7 ")+")"}this.pS.textContent="- - - "+a;this.Tk(null)};cO.prototype.alX=function(){var e=this.F_[0].b(),A=[],a=this.oO;
for(var c=0;c<a.B.length;c++){var p=a.B[c],N=p.getName();if(!e&&!p.yg()&&!p.rect.QP()||N.startsWith("-e"))A.push(c)}return A};
cO.prototype.az3=function(){var e=this.oO,A=e.root.children,a=[],p=1,N=[];for(var c=0;c<A.length;c++){var i=A[c],Z=i.j;
if(Z.yg()){var s=i.children.length;a.push(s);p*=s;N.push(i.index)}Z}return[a,p,N]};cO.prototype.Mv=function(e,A){this.w7=e};
cO.prototype.Jx=function(e){var A=this.oO,a=this.KK.b(),p=[this.ZO[this.Cp.b()]],N=[this.Lb.b()],i={};
if(a==0){var Z=this.Xw.b(),s={},D=this.alX();if(D.length==0){alert("No layers to export.");return}var n=[this.F_[1].b(),this.F_[2].b()];
for(var c=0;c<D.length;c++){var S=D[c],F=A.B[S],m=F.getName();if(s[m]!=null){s[m]++;m+=" "+s[m]}else s[m]=1;
var J=F.gi();F.d8(!0);for(var w=0;w<Z.length;w++){if(!Z[w])continue;var f=w+1,b=q.GS.ae_(A,p,f,this.w7,S,N,n);
for(var L=0;L<p.length;L++){var C=p[L],M=m.slice(m.startsWith("-e-")?3:0)+(f==1?"":"@"+f+"x")+"."+C.toLowerCase();
if(b[L])i[M]=new Uint8Array(b[L])}}F.d8(J)}}else{var J=[];for(var c=0;c<A.B.length;c++)J.push(A.B[c].gi());
var y=this.az3(),Q=y[0],D=y[2],k=[];function E(x,S,K,T){if(S==x.length){T.push(K.slice(0));return}var I=x[S];
for(var c=0;c<I;c++){K.push(c);E(x,S+1,K,T);K.pop(c)}}E(Q,0,[],k);var _=this.T_.b().indexOf(!0);for(var v=0;
v<k.length;v++){var V=k[v],R=[];for(var c=0;c<V.length;c++){var h=A.root.WG(D[c]);for(var w=0;w<h.children.length;
w++)h.children[w].j.d8(!1);var P=h.children[V[c]].j;R.push(_==2?P.getName():h.j.getName()+V[c]);P.d8(!0)}A.U();
A.HD();var H=(_==0?V:R).join("-")+"."+p[0].toLowerCase();i[H]=new Uint8Array(fI.Ek(A,p[0],A.m,A.n,N[0],this.w7))}for(var c=0;
c<A.B.length;c++)A.B[c].d8(J[c]);A.U()}var U=UZIP.encode(i),X=new k4(t.E.L,!0);X.data={d:t.c.S0,data:U,name:"assets.zip"};
this.S(X)};function i9(){eH.call(this,"Export Color Lookup Tables","exlut");this.w7=null;this.oO=null;
var e=B.t("div","form");e.setAttribute("style","width:20em");this.body.appendChild(e);this.F_=[new g0("Grid Points",1,256),new ah([12,50],[".CUBE"])];
var A=[16,0];for(var c=0;c<this.F_.length;c++){var a=this.F_[c];a.z(A[c]);a.parent=this;a.h(t.E.A,this.Z_,this);
e.appendChild(a.e);B.jA(e)}this.Bz=B.RD(this,e);this.h("closebtn",this.YW,this)}i9.prototype=new eH;
i9.prototype.NK=function(e,A){if(Math.min(e.m,e.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(e.B.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};i9.prototype.YW=function(e){this.oO=null};i9.prototype.Mv=function(e,A){this.w7=e};
i9.prototype.OM=function(e,A,a){this.oO=e};i9.prototype.Jx=function(){var e=this.oO,A=this.F_[0].b(),a=[],p=new dE(0,0,e.m,e.n),N=j.Q(A*A*4),i=N.slice(0),Z=new dE(e.m-A>>>1,e.n-A>>>1,A,A),s=e.B[0],D=s.buffer,n=s.rect;
s.rect=Z;s.buffer=N;for(var S=0;S<A;S++){this.a0I(A,S,N);s.U(Z);e.U(Z);var F=e.WR();j._M(F,p,i,Z);for(var $=0;
$<A;$++)for(var m=0;m<A;m++){var J=$*A+m<<2;a.push(i[J]/255,i[J+1]/255,i[J+2]/255)}}var w=eQ.ald(a,A,e.name);
c6.save(w,e.name.split(".")[0]+".CUBE");s.buffer=D;s.rect=n;s.U();e.U()};i9.prototype.a0I=function(e,A,a){var p=255/(e-1),N=Math.round(A*p);
for(var i=0;i<e;i++)for(var Z=0;Z<e;Z++){var s=i*e+Z<<2;a[s]=Math.round(Z*p);a[s+1]=Math.round(i*p);
a[s+2]=N;a[s+3]=255}};i9.prototype.f=function(){eH.prototype.f.call(this);for(var c=0;c<this.F_.length;
c++)this.F_[c].f();this.Bz.f()};function ap(){eH.call(this,[1,14],"finfo");this._Q=null;this._N=null;
this.vx=null;this.OL=B.t("div","form scrollable label12");this.OL.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.OL);var e=B.t("div","form");this.body.appendChild(e);this.kG=new el(null,["Hello"]);
e.appendChild(this.kG.e);this.af_=new c$("Add Parameter",!1,null,!0);e.appendChild(this.af_.e);this.af_.h("click",this.Rz,this);
this.T5=new c$("=== S A V E ===",!1,null,!0);e.appendChild(this.T5.e);this.T5.h("click",this.LJ,this);
this.ad6=""}ap.prototype=new eH;ap.prototype.cj=function(e,A){return e<450||A<450?new k7(0,0):new k7(150,100)};
ap.prototype.Rz=function(e){if(this.vx.length==0)return;var A=this.vx[this.kG.b()],a=this.GH();a[A]=fs.U8[A][0];
this.LL(a);this._N[A].e.scrollIntoView();this._N[A].Uj()};ap.prototype.VR=function(e){var A=this.GH();
delete A[e.currentTarget.aqs];this.LL(A)};ap.prototype.LJ=function(e){var A=this.GH(),a=this._Q,p=!0;
for(var N in a)if(JSON.stringify(a[N])!=JSON.stringify(A[N]))p=!1;for(var N in A)if(JSON.stringify(a[N])!=JSON.stringify(A[N]))p=!1;
if(p)return;var i=new k4(t.E.v,!0);i.G=q._b;i.data={d:u.$b,X_:A};this.S(i);this._Q=A;this.LL(A)};ap.a3c=function(e){function A(N){var i=N.toLowerCase();
return N==i}var a=e.split(":").pop();for(var p=1;p<a.length-1;p++){if(a[p]==a[p].toUpperCase()&&(A(a[p+1])||A(a[p-1]))){a=a.slice(0,p)+" "+a.slice(p);
p++}}return a};ap.prototype.OM=function(e,A){this._Q=e.gj;this.LL(e.gj)};ap.prototype.LL=function(e){var A=this.OL,N=0;
B.XK(A);var a=this._N={},p=["tiff","exif","exif:GPS"],i=this.vx=[],Z=[];for(var s in fs.U8){var D=ap.a3c(s),n=0,S=15,F=null;
if(e[s]==null){if(fs.U8[s].length!=1||s=="photoshop:Credit"||s=="photoshop:Source"){i.push(s);Z.push(D)}continue}for(var c=0;
c<p.length;c++)if(s.startsWith(p[c]))n=c;if(n!=N){B.lk(A);N=n}if(s=="tiff:ImageDescription"||s=="dc:Keywords"){S=18.5;
F=3}var $=new fp(D,null,S,F);a[s]=$;var m=e[s];if(m instanceof Array)m=m[1]==0?"---":m[0]+"/"+m[1];var J=new c$("\u2716",null,i1.get([5,4]));
A.appendChild(J.e);J.h("click",this.VR,this);J.aqs=s;$.z(m);A.appendChild($.e);B.jA(A);if(s=="exif:GPSLongitude"&&e["exif:GPSLatitude"]){this.ad6=ap.ax7(e["exif:GPSLatitude"])+","+ap.ax7(e["exif:GPSLongitude"]);
var w=new c$("Show on map",!1,null,!0);A.appendChild(w.e);B.jA(A);w.h("click",this.aj2,this)}}this.kG.z8(Z);
this.kG.z(0)};ap.prototype.GH=function(){var e=this._N,A=fs.U8,a={};for(var p in A){var N=A[p][0],i=typeof N;
if(N==null||e[p]==null)continue;var Z=e[p].b(),s="The value of \""+ap.a3c(p)+"\" must ";if(i=="number"){Z=parseFloat(Z);
if(isNaN(Z)){alert(s+"be a number.");Z=N}}else if(N instanceof Array&&N.length==2){if(Z.indexOf("/")==-1){alert(s+"be a fraction.");
Z=N.slice(0)}else{Z=Z.split("/").map(parseFloat);if(isNaN(Z[0])||isNaN(Z[1])){Z=N.slice(0)}}}a[p]=Z}return a};
ap.ax7=function(e){var A=e.length,a=e.slice(0,A-1).split(",").map(parseFloat),p=e.slice(A-1),N=a[0]+a[1]/60+a[2]/3600;
if(p!="N"&&p!="E")N=-N;return N};ap.prototype.aj2=function(e){window.open("https://maps.google.com?q="+this.ad6,"Map")};
function bl(){eH.call(this,[11,5],"gradienteditor");this.iz=null;this.Bw=null;this.L0=null;this.GO=null;
this.wd=!1;this.pw=!1;this.Hn=null;this.HO=null;this.ry=-1;this.z7=-1;this.FS=0;this.Ow=this.p4.bind(this);
this.K4=this.g6.bind(this);this.T=B.t("canvas");this.Ae=this.T.getContext("2d");this.T.setAttribute("style","display:block");
this.dx=null;B.Ig(this.T);B.V3(this.T,this.np.bind(this));this.Qt=B.t("div","form");this.Vy=B.t("div");
this.XL=B.t("div","form");this.dh=B.t("div");this.k$=new el([12,44],[[15,10,0],[24,6]]);this.k$.h(t.E.A,this.Kz,this);
this.body.appendChild(this.k$.e);B.lk(this.body);var e=this.Qt;this.dM=new g0([19,3,3],0,100,"%");this.dM.h(t.E.A,this.Kz,this);
this.dM.parent=this;e.appendChild(this.dM.e);B.jA(e);this.vC=new bQ([12,0]);e.appendChild(this.vC.e);
this.xZ=B.t("div","bordered padded noalign");e.appendChild(this.xZ);this.a_=new g0([12,0],0,100,"%");
this.a_.parent=this;this.a_.h(t.E.A,this.Kz,this);this.xZ.appendChild(this.a_.e);this.Yo=new g0([12,40],0,100,"%");
this.Yo.parent=this;this.Yo.h(t.E.A,this.Kz,this);this.xZ.appendChild(this.Yo.e);this.NZ=new c$([5,4],!1,null,!0);
this.NZ.h("click",this.anT,this);this.xZ.appendChild(this.NZ.e);e.appendChild(this.Vy);this.a1L=new bQ([13,0]);
e.appendChild(this.a1L.e);this.b6=B.t("div","bordered padded noalign");e.appendChild(this.b6);this.OH=new el([12,44],[[12,45],[12,46],[12,47]]);
this.OH.h(t.E.A,this.Kz,this);this.b6.appendChild(this.OH.e);this.i$=new dH(!0);this.i$.parent=this;
this.i$.h(t.E.A,this.Kz,this);this.b6.appendChild(this.i$.e);this.e1=new g0([12,40],0,100,"%");this.e1.parent=this;
this.e1.h(t.E.A,this.Kz,this);this.b6.appendChild(this.e1.e);this.tE=new c$([5,4],!1,null,!0);this.tE.h("click",this.asd,this);
this.b6.appendChild(this.tE.e);var e=this.XL;this.J4=new g0("Roughness",0,100,"%");this.J4.h(t.E.A,this.Kz,this);
this.J4.parent=this;e.appendChild(this.J4.e);e.appendChild(this.dh);this.UK=new c$([25,1,2],!1,null,!0);
this.UK.h("click",this.Kz,this);e.appendChild(this.UK.e);this.Bz=B.RD(this);this.h("closebtn",this.Ie,this)}bl.prototype=new eH;
bl.prototype.Ie=function(e){if(this.wd)this.GO(this.iz)};bl.prototype.f=function(){eH.prototype.f.call(this);
this.Bz.f();this.dM.f();this.vC.f();this.a1L.f();this.NZ.f();this.tE.f();this.a_.f();this.Yo.f();this.OH.f();
this.e1.f();this.UK.f()};bl.prototype.Mv=function(e,A){this.L0=e};bl.prototype.OM=function(e,A){this.Bw=JSON.parse(JSON.stringify(A.M));
this.iz=JSON.parse(JSON.stringify(A.M));this.Hn=this.HO=null;this.GO=A.og;this.wd=!1;this.pw=A.Hy;this.fE();
this.aD()};bl.prototype.Jx=function(e){var A=this.Bw;this.GO(A);this.close()};bl.prototype.uc=function(e){return e==g4.P1||e==g4.Pk};
bl.prototype.CE=function(e,A,a,p){if(p.l(g4.P1)||p.l(g4.Pk)){if(this.HO)this.anT();if(this.Hn)this.asd()}};
bl.prototype.anT=function(e){var A=this.Bw.Trns.v;if(this.HO==null||A.length==1)return;A.splice(A.indexOf(this.HO),1);
this.HO=null;this.fE();this.aD()};bl.prototype.asd=function(e){var A=this.Bw.Clrs.v;if(this.Hn==null||A.length==1)return;
A.splice(A.indexOf(this.Hn),1);this.Hn=null;this.fE();this.aD()};bl.prototype.fE=function(){var e=this.T,A=this.Ae,a=B.V();
e.width=Math.floor(410*a);e.height=Math.floor(70*a);B.JK(e,e.width,e.height);e.style.marginTop="8px";
this.dx=new dE(0,0,Math.floor(380*a),Math.floor(32*a));this.dx.x=Math.floor((e.width-this.dx.m)/2);this.dx.y=Math.floor((e.height-this.dx.n)/2);
var p=this.dx,N=p.m,i=p.n,Z=p.x,s=p.y,D=new dE(0,0,N,i),n=A.getImageData(0,0,N,i),S=new Uint8Array(n.data.buffer);
j.c4(S,N,i,8);var F=j.Q(N*i*4);j.M.zg(this.Bw,F,D,[1/N,0,0,1/i],N/2,i/2,!1,0,this.L0.lM,this.L0.dG);
j.s.eZ("norm",F,p,S,p,p,1);A.clearRect(0,0,e.width,e.height);A.putImageData(n,Z,s);var $=this.Bw;if($.Clrs){var m=$.Trns.v,J=$.Clrs.v,w=j.M.nA($,this.L0.lM,this.L0.dG),f=Math.round(6*B.V()),b=Math.round(14*B.V()),L=this.HO?this.HO.v:null,C=this.Hn?this.Hn.v:null;
for(var c=0;c<m.length;c++){var M=m[c].v,y=Math.round(255-255*M.Opct.v.val/100);if((M==L||m[c-1]&&m[c-1].v==L||c==this.z7)&&c!=0){A.fillStyle="#000000";
A.fillRect(Z-3+N*(m[c-1].v.Lctn.v+(M.Lctn.v-m[c-1].v.Lctn.v)*M.Mdpn.v/100)/4096,s-6-2,6,6)}if(M==L){A.fillStyle="#ffffff";
A.fillRect(Z-f+N*(M.Lctn.v/4096)-2,s-2-b-2,2*f+4,b+4)}A.fillStyle="rgb("+y+","+y+","+y+")";A.fillRect(Z-f+N*(M.Lctn.v/4096),s-2-b,2*f,b)}for(var c=0;
c<J.length;c++){var Q=J[c].v,k=w[0][c][0];if((Q==C||J[c-1]&&J[c-1].v==C||c==this.ry)&&c!=0){A.fillStyle="#000000";
A.fillRect(Z-3+N*(J[c-1].v.Lctn.v+(Q.Lctn.v-J[c-1].v.Lctn.v)*Q.Mdpn.v/100)/4096,s+i+2,6,6)}if(Q==C){A.fillStyle="#ffffff";
A.fillRect(Z-f+N*(Q.Lctn.v/4096)-2,s+i+2-2,2*f+4,b+4)}A.fillStyle="rgb("+Math.round(k.o)+", "+Math.round(k.J)+","+Math.round(k.k)+")";
A.fillRect(Z-f+N*(Q.Lctn.v/4096),s+i+2,2*f,b)}}if(this.pw){this.GO(this.Bw);this.wd=!0}};bl.prototype.aD=function(){var e=this.Bw,A=e.Clrs?0:1;
this.k$.z(A);if(B.ND(this.Qt))this.body.removeChild(this.Qt);if(B.ND(this.XL))this.body.removeChild(this.XL);
(A==0?this.Vy:this.dh).appendChild(this.T);if(A==0){this.body.appendChild(this.Qt);this.dM.z(Math.round(100*e.Intr.v/4096));
var a=e.Trns.v,p=e.Clrs.v,N=this.HO!=null,i=this.z7!=-1;this.a_.Y7(N);this.Yo.Y7(N||i);this.NZ.Y7(N);
if(N){this.xZ.setAttribute("style","");var Z=this.HO.v;this.Yo.z(Math.round(100*Z.Lctn.v/4096));this.a_.z(Z.Opct.v.val)}if(i)this.Yo.z(a[this.z7].v.Mdpn.v);
var N=this.Hn!=null,i=this.ry!=-1;this.OH.Y7(N);this.i$.Y7(N);this.e1.Y7(N||i);this.tE.Y7(N);if(N){this.b6.setAttribute("style","");
var s=this.Hn.v;this.e1.z(Math.round(100*s.Lctn.v/4096));var D=s.Type.v.Clry;this.OH.z(["FrgC","BckC","UsrS"].indexOf(D));
if(D=="FrgC")this.i$.Ti(this.L0.lM);if(D=="BckC")this.i$.Ti(this.L0.dG);if(D=="UsrS")this.i$.z(s.Clr.v)}if(i)this.e1.z(p[this.ry].v.Mdpn.v)}else{this.body.appendChild(this.XL);
this.J4.z(Math.round(100*e.Smth.v/4096))}this.body.appendChild(this.Bz.e)};bl.prototype.Kz=function(e){var A=this.Bw,a=A.Clrs?0:1;
if(e.target==this.k$){var p=a==0?JSON.parse(iF.L9.ayt).v:hZ.T$("grdm").Grad.v;this.Bw=p;this.aD();this.fE();
return}if(a==0){A.Intr.v=Math.round(4096*this.dM.b()/100);var N=A.Trns.v,i=A.Clrs.v;if(this.HO!=null){var Z=this.HO.v;
Z.Lctn.v=Math.round(4096*(this.Yo.b()/100));Z.Opct.v.val=this.a_.b()}if(this.Hn!=null){var s=this.Hn.v;
s.Lctn.v=Math.round(4096*(this.e1.b()/100));if(e.target==this.i$)this.OH.z(2);var D=this.OH.b();s.Type.v.Clry=["FrgC","BckC","UsrS"][D];
if(D==2)s.Clr={t:"Objc",v:this.i$.b()};else if(s.Clr)delete s.Clr}if(this.z7!=-1)N[this.z7].v.Mdpn.v=this.Yo.b();
if(this.ry!=-1)i[this.ry].v.Mdpn.v=this.e1.b()}else{A.Smth.v=Math.round(4096*this.J4.b()/100);if(e.target==this.UK)A.RndS.v=Math.floor(Math.random()*4294967295)}this.fE()};
bl.prototype.np=function(e){var A=B.vT(e,this.T),a=this.dx,p=(A.x*B.V()-a.x)/a.m,N=(A.y*B.V()-a.y)/a.n,i=this.Bw.Trns.v,Z=this.Bw.Clrs.v,s=null,D=null,n=-1,S=-1;
if(N<1)for(var c=0;c<i.length;c++){var F=i[c].v;if(Math.abs(F.Lctn.v/4096-p)<.02)s=i[c];if(c>0)if(Math.abs((i[c-1].v.Lctn.v+(F.Lctn.v-i[c-1].v.Lctn.v)*F.Mdpn.v/100)/4096-p)<.01)n=c}if(N>0)for(var c=0;
c<Z.length;c++){var $=Z[c].v;if(Math.abs($.Lctn.v/4096-p)<.02)D=Z[c];if(c>0)if(Math.abs((Z[c-1].v.Lctn.v+($.Lctn.v-Z[c-1].v.Lctn.v)*$.Mdpn.v/100)/4096-p)<.01)S=c}if(D==null&&s==null&&n==-1&&S==-1){if(N<0){var F={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
F.v.Lctn.v=Math.round(p*4096);i.push(F);i.sort(this.jR);s=F}if(N>1){var Z=this.Bw.Clrs.v,m=j.M.nA(this.Bw,this.L0.lM,this.L0.dG),J=j.M.hC(this.Bw,m,p),$={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:j.M.yN({o:J&255,J:J>>8&255,k:J>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
$.v.Lctn.v=Math.round(p*4096);Z.push($);Z.sort(this.jR);D=$}}if(D!=null)S=-1;if(s!=null)n=-1;if(D!=null||s!=null||n>-1||S>-1){this.HO=s;
this.Hn=D;this.z7=n;this.ry=S;this.aD();this.fE();B.iv(window,this.Ow);B.xq(window,this.K4)}};bl.prototype.p4=function(e){var A=B.vT(e,this.T),a=this.dx,p=(A.x*B.V()-a.x)/a.m,N=(A.y*B.V()-a.y)/a.n;
p=Math.max(0,Math.min(1,p));var i=this.Bw.Trns.v,Z=this.Bw.Clrs.v;if(this.HO!=null){var s=this.HO.v;
s.Lctn.v=Math.round(4096*p);var D=i.indexOf(this.HO);if(D!=-1&&N<-1&&i.length>1)i.splice(D,1);if(D==-1&&N>-1)i.push(this.HO);
i.sort(this.jR)}if(this.Hn!=null){var n=this.Hn.v;n.Lctn.v=Math.round(4096*p);var S=Z.indexOf(this.Hn);
if(S!=-1&&N>2&&Z.length>1)Z.splice(S,1);if(S==-1&&N<2)Z.push(this.Hn);Z.sort(this.jR)}if(this.z7>-1){var s=i[this.z7].v;
s.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(p*4096-i[this.z7-1].v.Lctn.v)/(s.Lctn.v-i[this.z7-1].v.Lctn.v))))}if(this.ry>-1){var n=Z[this.ry].v;
n.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(p*4096-Z[this.ry-1].v.Lctn.v)/(n.Lctn.v-Z[this.ry-1].v.Lctn.v))))}if(this.HO!=null||this.Hn!=null||this.z7>-1||this.ry>-1){this.aD();
this.fE()}};bl.prototype.g6=function(e){B.Dq(window,this.Ow);B.Y8(window,this.K4);if(Date.now()-this.FS<300){if(this.ry!=-1||this.z7!=-1){var A=(this.ry!=-1?this.Bw.Clrs.v[this.ry]:this.Bw.Trns.v[this.z7]).v;
A.Mdpn.v=50;this.aD();this.fE()}else if(this.Hn!=null)this.i$.Fc()}this.FS=Date.now()};bl.prototype.jR=function(e,A){return e.v.Lctn.v-A.v.Lctn.v};
function b1(){eH.call(this,[11,10],"isize");this.OL=B.t("div","form");this.OL.setAttribute("style","width:20em");
this.body.appendChild(this.OL);this.mo=new js(!0,!0,null,null,!0);this.OL.appendChild(this.mo.e);this.BG=new ie([12,25,3]);
this.BG.z(!0);this.OL.appendChild(this.BG.e);this.BG.h(t.E.A,this.avF,this);this.PM=new el([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.PM.z(1);this.OL.appendChild(this.PM.e);this.Bz=B.RD(this,this.body)}b1.prototype=new eH;b1.prototype.NK=function(e,A){return e!=null};
b1.prototype.xV=function(){return!0};b1.prototype.avF=function(e){var A=this.BG.b(),a=this.mo,p=this.PM;
if(A)p.Ss();else p.kJ();a.ak8(A)};b1.prototype.f=function(){eH.prototype.f.call(this);this.BG.f();this.Bz.f();
this.PM.f();this.mo.f()};b1.prototype.Jx=function(e){this.close();var A=this.mo.b(),a=A.x,p=A.y,N=this.PM.b();
if(!this.BG.b())N=null;var i=new k4(t.E.wH,!0);i.data=q.v9.axW(a,p,this.mo.gR(),N);this.S(i)};b1.prototype.OM=function(e,A){this.mo.z(new k7(e.m,e.n),e.l5);
this.mo.Uj()};function eA(){eH.call(this,"Import RAW","importraw");var e=B.t("div","flexrow"),A=B.t("div");
A.setAttribute("style","margin-bottom: 1em");this.body.appendChild(e);this.body.appendChild(A);var a=B.t("div","form");
a.setAttribute("style","width:18em");e.appendChild(a);var p=B.t("div","form");p.setAttribute("style","width:15em");
e.appendChild(p);this.VO=null;this.j8=null;this.TJ=null;this.yi=null;this.a4O=[];var N=[];for(var c=0;
c<eA.Kn.length;c++)N.push(eA.Kn[c]+" Bits");var i=this.eH=[new js(!0,null,null,!0),new g0([12,72],1,8),new ie("Last one is Transparency"),new ah([12,34],N),new ah("Byte Order",["12-34","34-12"]),new el("Guesses",[])];
for(var c=0;c<i.length;c++){var Z=i[c];Z.parent=this;Z.h(t.E.A,c==5?this.awK:this.NJ,this);var s=c==0?a:c==5?A:p;
s.appendChild(Z.e)}this.T=B.t("canvas");this.Ae=this.T.getContext("2d");this.body.appendChild(this.T);
this.Bz=B.RD(this,this.body)}eA.prototype=new eH;eA.prototype.f=function(){eH.prototype.f.call(this);
var e=this.eH;this.Bz.f();for(var c=0;c<e.length;c++)e[c].f()};eA.prototype.Jx=function(e){this.close();
var A=this.eH[0].b(),a=fI.TW(this.j8,[{data:this.TJ,WJ:new dE(0,0,A.x,A.y)}]);if(this.yi)a.l8=this.yi;
var p=new k4(t.E.L,!0);p.data={d:!0?t.c.nK:t.c.Cn,M0:a};this.S(p)};eA.Kn=[8,16];eA.prototype.OM=function(e,A){this.VO=new Uint8Array(A.Su);
this.j8=A._c;var a=this.VO.length,p=[1,3,4],N=0,i=0,Z=1,s=1,D=this.a4O=[],n=Math.round(Math.sqrt(a)*2);
n=Math.max(n,4e3);for(var S=0;S<3;S++){for(var F=0;F<2;F++){var $=eA.Kn[F],m=p[S],J=m*$,w=Math.round(a*8/J);
if(w!=a*8/J)continue;for(var f=0;f<=n;f++)for(var b=0;b<=n;b++)if(f*b==w){var L=0;if(f==b)L+=64;if(Math.round(f/100)==f/100&&Math.round(b/100)==b/100)L+=32;
if(Math.round(f/10)==f/10&&Math.round(b/10)==b/10)L+=16;if(Math.round(f/2)==f/2&&Math.round(b/2)==b/2)L+=8;
D.push([f,b,m,$,L])}}}var C=function(k,E){if(E[4]!=k[4])return E[4]-k[4];var _=Math.max(k[0],k[1])/Math.min(k[0],k[1]),v=Math.max(E[0],E[1])/Math.min(E[0],E[1]);
if(_!=v)return _-v;return E[0]-k[0]};D.sort(C);var M=this.eH,y=[];for(var c=0;c<D.length;c++){var Q=D[c];
y.push(Q[0]+" x "+Q[1]+", "+Q[2]+"ch, "+Q[3]+"-bit")}M[5].z8(y);M[5].z(0);this.awK(null)};eA.prototype.awK=function(e){var A=this.eH,a=this.a4O[this.eH[5].b()];
A[0].z(new k7(a[0],a[1]),72);A[1].z(a[2]);A[3].z(eA.Kn.indexOf(a[3]));this.NJ()};eA.prototype.NJ=function(e){var A=this.eH,a=A[0].b(),p=a.x,N=a.y,i=eA.Kn[A[3].b()],Z=this.VO;
if(i==16&&A[4].b()==1){Z=Z.slice(0);for(var c=0;c<Z.length;c+=2){var s=Z[c];Z[c]=Z[c+1];Z[c+1]=s}}var D=this.TJ=this.QS(Z,p,N,A[1].b(),i,A[2].b()),n=this.T,S=this.Ae,F=[D,new dE(0,0,p,N)];
j.ff(F);for(var c=0;c<F.length;c+=2)if(F[c+1].n<300){D=F[c];p=F[c+1].m;N=F[c+1].n;break}n.width=p;n.height=N;
B.JK(n,p,N);var $=new ImageData(new Uint8ClampedArray(D.buffer),p,N);S.putImageData($,0,0)};eA.prototype.QS=function(e,A,a,p,N,i){this.yi=null;
var Z=[],s=A*a;for(var D=0;D<p;D++){var n=j.Q(s);Z.push(n);if(N==8)for(var c=0;c<s;c++)n[c]=e[c*p+D];
else if(N==16)for(var c=0;c<s;c++)n[c]=Math.round((e[(c*p+D)*2]<<8|e[(c*p+D)*2+1])*(255/65535))}var S=j.Q(s*4);
new Uint32Array(S.buffer).fill(4278190080);if(i){j.Ao(Z.pop(),S,3);p--}if(p==0){}else if(p==1)j.DC(Z[0],S);
else{j.Ao(Z[0],S,0);j.Ao(Z[1],S,1);if(p>2){j.Ao(Z[2],S,2);if(p>3){this.yi=[];for(var c=3;c<p;c++){var F=new u.j_;
F.name="Alpha "+(c-2);F.rect=new dE(0,0,A,a);F.channel=Z[c];this.yi.push(F)}}}}return S};function ic(e,A,a){b5.call(this);
this.e=B.t("div","");this.Jd=e;this.Hc=null;this.pN=A==null?!1:A;this.eg=null;this.m0=a;this.yt=[];this.zJ=[];
this.ur=[];this.KV=[];this.P_=0;this.Hc=this.a9q(ic.KV[e]);this.tP();this.H8=null;this.a7H;this.a1k}ic.prototype=new b5;
ic.prototype.MD=function(e,A,a,p,N){this.H8=N;this.a7H=JSON.parse(JSON.stringify(this.eg));if(this.Hc.lagl)this.a1k=this.Hc.lagl.b()[0]};
ic.prototype.D1=function(e,A,a,p,N){var i=this.H8,Z=this.Jd,s=this.a7H;if(i==null)return;var D=(N.x-i.x)/e.u.N,n=(N.y-i.y)/e.u.N;
if(Z=="GrFl"){var S=JSON.parse(JSON.stringify(s.Ofst.v));S.Hrzn.v.val+=D*.5;S.Vrtc.v.val+=n*.5;this.Hc.Ofst.z(S,!0)}if(Z=="patternFill"){var S=JSON.parse(JSON.stringify(s.phase.v));
S.Hrzn.v+=D;S.Vrtc.v+=n;this.Hc.phase.z(S,!0)}if(Z=="DrSh"||Z=="IrSh"||Z=="ChFX"){var F=s.Dstn.v.val,$=this.a1k*Math.PI/180,m=-Math.cos($)*F+D,J=Math.sin($)*F+n;
this.Hc.Dstn.z(Math.sqrt(m*m+J*J),!0);this.Hc.lagl.z([Math.atan2(J,-m)*180/Math.PI],!0)}};ic.prototype.$Q=function(e,A,a,p,N){this.H8=null};
ic.prototype.atN=function(){for(var c=0;c<this.KV.length;c++){B.Xi(this.KV[c],"selected");if(this.ur[c]instanceof ie)this.ur[c].z(!1)}};
ic.prototype.a79=function(e){var A=this.am9.bind(this);for(var c=0;c<this.ur.length;c++){var a=B.t("div","listitem");
this.KV.push(a);if(c>0)a.textContent="\u2003";a.appendChild(this.ur[c].e);if(iF.arZ.indexOf(this.Jd)!=-1){var p=new c$("+");
p.FC();p.e.style.float="right";a.appendChild(p.e);var N=new c$("\u2B0D");N.FC();N.e.style.float="right";
N.e.style["margin-right"]="2px";a.appendChild(N.e)}a.addEventListener("click",A,!1);e.appendChild(a)}};
ic.nX=function(e,A){var a=A.getBoundingClientRect();return(e.clientY-a.top)/a.height};ic.prototype.am9=function(e){var A=e.target.tagName.toLowerCase();
if(A=="input"){return}if(A=="button"){var a=new k4(t.E.v,!0),p=e.target.textContent=="+",N=p?0:ic.nX(e,e.target)<.5?-1:1;
if(p)a.data={d:"st_dupsingle",j:this.parent.data.j,f9:this.m0};else a.data={d:"st_movsingle",j:this.parent.data.j,f9:this.m0,a32:N};
a.G=q.fg;a.U3=!0;this.S(a);a=new k4("redrawall",!0);a.data={a32:N};this.S(a);return}B.aL(e);this.bt();
this.P_=this.KV.indexOf(e.currentTarget);this.S(new k4("showme"))};ic.prototype.bt=function(){if(this.Hc.enab&&this.Hc.enab.b()==!1)this.M$({NI:"enab",Z:!0})};
ic.prototype.a5m=function(){var e=this.KV[this.P_];if(e)B.LM(e,"selected");return this.zJ[this.P_]};
ic.prototype.a9q=function(e){var A={};for(var c=0;c<e.length;c++){var a=e[c],p=null;if(a=="----")p={e:B.t("hr")};
if(a=="\n")p={e:B.t("br")};if(a=="blOptions")p=new bQ([14,10]);if(a=="brst")p=new hj([12,72],["R","G","B"]);
if(a=="knko")p=new el("Knockout",[[13,1,0],"Shallow","Deep"]);if(a=="enab")p=new ie(iF.names[iF.order.indexOf(this.Jd)]);
if(a=="lrMd"||a=="Md")p=new el([12,19,0],im.Wj,im.E_);if(a=="Opct")p=new f1([12,0],0,100,"%");if(a=="iOpa")p=new f1([12,26],0,100,"%");
if(a=="blIf")p=new jw;if(a=="ShdN")p=new f1([12,68],0,100,"%");if(a=="lagl"||a=="Angl")p=new cx([12,15],this.Jd=="ebbl");
if(a=="uglg")p=new ie([12,27]);if(a=="Dstn")p=new f1([12,28],0,200,"px");if(a=="Ckmt")p=new f1([12,29],0,100,"%");
if(a=="blur")p=new f1([12,14,0],0,200,"px");if(a=="TrnS"||a=="MpgS")p=new ko([12,21]);if(a=="Nose")p=new f1([12,30],0,100,"%");
if(a=="layerConceals")p=new ie([12,31]);if(a=="AntA"||a=="antialiasGloss")p=new ie([12,25,1]);if(a=="GlwT")p=new el([12,32],iF.y$.names);
if(a=="glwS")p=new el([12,70],iF.y$.apz);if(a=="Inpr")p=new f1([12,12],1,100,"%");if(a=="bvlS")p=new el([12,22],iF.yS.style);
if(a=="bvlT")p=new el([12,32],iF.yS.ala);if(a=="bvlD")p=new el(null,iF.yS.dir);if(a=="srgR")p=new f1([12,34],0,1e3,"%");
if(a=="Sftn")p=new f1([12,35],0,20,"px");if(a=="Lald")p=A.lagl;if(a=="hglM"||a=="sdwM")p=new el([12,36],im.Wj,im.E_);
if(a=="hglC"||a=="sdwC")p=new dH;if(a=="hglO"||a=="sdwO")p=new f1([12,0],0,100,"%");if(a=="Invr"||a=="InvT")p=new ie([4,11]);
if(a=="Sz")p=new f1([12,14,0],1,200,"px");if(a=="Styl")p=new el([12,40],iF.stroke.names);if(a=="PntT")p=new el([12,66],iF.stroke.agY);
if(a=="Clr")p=new dH(!0);if(a=="Grad"){p=new jX(!0,[12,37],!0);p.z(JSON.parse(iF.L9.abP).v)}if(a=="Rvrs")p=new ie([12,23,0]);
if(a=="Dthr")p=new ie([12,23,3]);if(a=="Type")p=new el([12,22],iF.M.names.slice(0,this.Jd=="FrFX"?6:5));
if(a=="Ptrn")p=new bx([12,62]);if(a=="Scl")p=new f1([12,38],5,500,"%",0,!0);if(a=="Algn")p=new ie([12,39]);
if(a=="Ofst")p=new ab(!0);if(a=="phase")p=new ab(!1);if(a=="useShape")p=new ie([12,21]);if(a=="useTexture")p=new ie([12,67]);
if(a=="textureDepth")p=new f1([12,34],-300,300,"%");var N=a=="----"||a=="\n"?a+c:a;if(p!=null)A[N]=p}return A};
ic.prototype.avX=function(e){var A=this.zJ[this.P_];for(var c=0;c<e.length;c++){var a=this.Hc[e[c]];
if(a&&A.contains(a.e))A.removeChild(a.e)}};ic.prototype.ab6=function(e){var A=this.zJ[this.P_];for(var c=0;
c<e.length;c++){var a=this.Hc[e[c]];if(a&&!A.contains(a.e))A.appendChild(a.e)}};ic.prototype.Mv=function(e,A){if(this.Hc==null)return;
var a=A==ac.xh;if(this.Hc.Grad){this.Hc.Grad.Fi(e.lM,e.dG);if(a||A==ac.V9||A==ac.Pg)this.Hc.Grad.mb(e.Sv)}if(this.Hc.Ptrn){if(a||A==ac._x)this.Hc.Ptrn.mb(e.px)}if(this.Hc.TrnS){if(a||A==ac.vU)this.Hc.TrnS.mb(e.nS)}if(this.Hc.MpgS){if(a||A==ac.vU)this.Hc.MpgS.mb(e.nS)}};
ic.prototype.f=function(){for(var c=0;c<this.yt.length;c++)this.yt[c].f();for(var e in this.Hc)if(this.Hc[e]instanceof b5)this.Hc[e].f()};
ic.prototype.tP=function(){for(var e in this.Hc){var A=this.Hc[e];A.parent=this;if(A instanceof b5)A.h(t.E.A,this.aiL,this);
if(this.zJ.length==0||e=="useShape"||e=="useTexture"){var a=new bQ(A.a1C()),p=B.t("div","bordered padded");
if(this.pN==!1){p.appendChild(a.e);p.appendChild(B.t("hr",""))}this.yt.push(a);this.zJ.push(p);this.ur.push(A)}else this.zJ[this.zJ.length-1].appendChild(A.e)}};
ic.prototype.update=function(e,A){if(this.Hc==null)return;this.eg=JSON.parse(JSON.stringify(A));for(var a in A){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(a)!=-1)this.Hc[a].z(A[a].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(a)!=-1){this.Hc[a].z(A[a].v,e)}if(["Md","hglM","sdwM"].indexOf(a)!=-1)this.Hc[a].z(im.Jd.indexOf(A[a].v.BlnM));
if(a=="lrMd"){var p=(A.yg?[[15,10,27]]:[]).concat(im.Wj),N=(A.yg?[1]:[]).concat(im.E_);this.Hc[a].z8(p,N);
this.Hc[a].z(A[a].v)}if(a=="Angl")this.Hc[a].z([A[a].v.val]);if(a=="lagl"){var i=A.uglg&&A.uglg.v?e.RO():A.lagl.v.val;
this.Hc[a].z([i])}if(a=="Lald"){var i=A.uglg&&A.uglg.v?e.B5():A.Lald.v.val;this.Hc[a].z([null,i])}if(a=="Type")this.Hc[a].z(iF.M.types.indexOf(A.Type.v.GrdT));
if(a=="Styl")this.Hc[a].z(iF.stroke.types.indexOf(A.Styl.v.FStl));if(a=="PntT"){var Z=iF.stroke._0.indexOf(A.PntT.v.FrFl);
this.Hc[a].z(Z);if(!this.pN){this.avX(iF.Gw.concat(iF.wu.concat(iF.RE)));this.ab6([iF.Gw,iF.wu,iF.RE][Z])}}if(a=="GlwT")this.Hc[a].z(iF.y$.types.indexOf(A.GlwT.v.BETE));
if(a=="glwS")this.Hc[a].z(iF.y$.a15.indexOf(A.glwS.v.IGSr));if(a=="bvlS")this.Hc[a].z(iF.yS.types.indexOf(A.bvlS.v.BESl));
if(a=="bvlT")this.Hc[a].z(iF.yS.a8L.indexOf(A.bvlT.v.bvlT));if(a=="bvlD")this.Hc[a].z(["In","Out"].indexOf(A.bvlD.v.BESs))}};
ic.prototype.aiL=function(e){for(var A in this.Hc){if(this.Hc[A]!=e.target)continue;var a=null,p=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(A)!=-1)a={type:"#Prc",val:e.target.b()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(A)!=-1)a={type:"#Pxl",val:e.target.b()};if(["Angl","lagl"].indexOf(A)!=-1)a={type:"#Ang",val:e.target.b()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(A)!=-1)a=e.target.b();
if(["Md","hglM","sdwM"].indexOf(A)!=-1)a={BlnM:im.Jd[e.target.b()]};if(A=="uglg"){a=e.target.b();p=!0}if(A=="PntT"){a={FrFl:iF.stroke._0[e.target.b()]};
p=!0}if(A=="Lald")a={type:"#Ang",val:e.target.b()[1]};if(A=="Type")a={GrdT:iF.M.types[e.target.b()]};
if(A=="Styl")a={FStl:iF.stroke.types[e.target.b()]};if(A=="GlwT")a={BETE:iF.y$.types[e.target.b()]};
if(A=="glwS")a={IGSr:iF.y$.a15[e.target.b()]};if(A=="bvlS")a={BESl:iF.yS.types[e.target.b()]};if(A=="bvlT")a={bvlT:iF.yS.a8L[e.target.b()]};
if(A=="bvlD")a={BESs:["In","Out"][e.target.b()]};this.M$({NI:A,Z:a});if(p){if(this.pN)this.update(null,this.eg);
else{var N=this.parent,i=N.M0,Z=this.m0,s=i.B[N.data.j].add.lmfx[iF.RU[Z[0]]].v[Z[1]].v;this.update(i,s)}}}};
ic.prototype.M$=function(e){if(this.eg&&this.eg[e.NI])this.eg[e.NI].v=e.Z;if(this.pN){this.S(new k4(t.E.A))}else{e.d="changeprop";
e.j=this.parent.data.j;e.g2=this.m0;var A=new k4(t.E.v,!0);A.data=e;A.G=q.fg;A.U3=!0;this.S(A);this.S(new k4("afterchange",!0))}};
ic.prototype.b=function(){return JSON.parse(JSON.stringify(this.eg))};ic.KV={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(iF.Gw),GrFl:["enab","Md","Opct"].concat(iF.wu),patternFill:["enab","Md","Opct"].concat(iF.RE),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(iF.Gw.concat(iF.wu.concat(iF.RE)))};
function aX(){eH.call(this,[11,6],"layerstyle");this.a5I=-1;this.data={};this.M0=null;this.w7=null;this.Dg=[];
this.rr=[];B.LM(this.body,"flexrow");this.UZ=B.t("div","bordered");this.UZ.setAttribute("style","min-width:13em;");
this.body.appendChild(this.UZ);this.HP=B.t("div","");this.HP.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.HP);this.hS=B.t("div","form");this.hS.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.hS);this.Bz=B.RD(this,this.hS);this.EB=new c$([12,87],!0,null,!0);this.EB.h("click",this.apj,this);
this.hS.appendChild(this.EB.e);this.$k=new e4;this.$k.parent=this;this.$k.h(t.E.A,this.acB,this);this.hS.appendChild(this.$k.e);
this.h("closebtn",this.Ie,this);this.h("redrawall",this.avx,this)}aX.prototype=new eH;aX.prototype.xV=function(){return!0};
aX.prototype.jV=function(){return!0};aX.prototype.MD=function(e,A,a,p,N){var i=this.E5();if(i)i.MD(e,A,a,p,N)};
aX.prototype.D1=function(e,A,a,p,N){var i=this.E5();if(i)i.D1(e,A,a,p,N)};aX.prototype.$Q=function(e,A,a,p,N){var i=this.E5();
if(i)i.$Q(e,A,a,p,N)};aX.prototype.E5=function(e){if(e==null)e=this.data.index;return e==null?null:e==0?this.Dg[0]:this.rr[e[0]][e[1]]};
aX.prototype.acB=function(e){var A=this.$k.b();this.M$({d:"setstl",Z:A.gP});this.avx(null)};aX.prototype.apj=function(e){var A=this.M0,a=this.data.j;
if(a==null)a=A.g[0];var p=this.M0.B[a],N=b6.aoU(p),i=new k4(t.E.L,!0);i.data={d:t.c.iK,Z7:"add",hP:ac.nn,j$:[JSON.parse(JSON.stringify(N))]};
this.S(i)};aX.prototype.agl=function(e){this.data.index=e.currentTarget.m0;this.sA(e.currentTarget.m0)};
aX.prototype.avx=function(e){this.OM(this.M0,this.data)};aX.prototype.sA=function(e,A){B.XK(this.HP);
for(var c=0;c<this.Dg.length;c++)this.Dg[c].atN();var a=this.E5(e);this.HP.appendChild(a.a5m());if(A)a.bt();
var p=this.M0;if(p){var N=p.B[this.data.j];this.Dg[0].update(p,q.HB.$z(p,N));var i=N.add.lmfx;if(i==null)return;
for(var c=0;c<iF.order.length;c++){var Z=i[iF.RU[c]].v;for(var s=0;s<Z.length;s++)this.rr[c][s].update(p,Z[s].v)}}if(A)a.bt()};
aX.prototype.f=function(){eH.prototype.f.call(this);this.EB.f();this.$k.f();this.Bz.f();for(var c=0;
c<this.Dg.length;c++)this.Dg[c].f()};aX.prototype.OM=function(e,A){var a=A.j==null;this.data.j=A.j;this.data.index=A.index;
A=this.data;this.M0=e;if(a)A.j=e.g.length==0?e.B.length-1:e.g[0];B.XK(this.UZ);var p=e.B[A.j].add.lmfx;
this.bZ();this.Dg=[new ic("bops",!1,0)];this.rr=[];for(var c=0;c<iF.order.length;c++){this.rr.push([]);
var N=p==null?[]:p[iF.RU[c]].v;for(var i=0;i<N.length;i++){var Z=new ic(iF.order[c],!1,[c,i]);this.Dg.push(Z);
this.rr[c].push(Z)}if(N.length==0){var Z=new ic(iF.order[c],!1,[c,0]);this.Dg.push(Z);this.rr[c].push(Z)}}this.f();
this.as$(this.w7,ac.xh);for(var c=0;c<this.Dg.length;c++){this.Dg[c].parent=this;this.Dg[c].a79(this.UZ);
this.Dg[c].h("showme",this.agl,this)}if(A.index==null||A.index==0||!a&&p[iF.RU[A.index[0]]].v.length==0){this.sA(0)}else this.sA(A.index,a);
this.h("afterchange",this.bZ,this)};aX.prototype.bZ=function(e){var A=this.M0,a=this.data.j;if(a==null)a=A.g[0];
var p=this.M0.B[a],N=b6.aoU(p);this.$k.z(N,A.add.Patt?A.add.Patt:[],A.RO(),A.B5())};aX.prototype.Mv=function(e,A){this.w7=e;
this.as$(e,A);if(A==ac.nn||A==ac.xh){this.$k.mb([e.me,e.px])}if(A==ac.ka){}};aX.prototype.as$=function(e,A){for(var c=0;
c<this.Dg.length;c++)this.Dg[c].Mv(e,A)};aX.prototype.Ie=function(e){this.M$({d:"cancel"})};aX.prototype.Jx=function(e){this.M$({d:"confirm"});
this.close()};aX.prototype.M$=function(e){e.j=this.data.j;var A=new k4(t.E.v,!0);A.data=e;A.G=q.fg;A.U3=!0;
this.S(A);this.bZ()};aX.ap$=function(){var e=function(A){if(A==null||A.g.length==0)return{C:!1};var a=A.B[A.g[0]];
return{C:a.add.lmfx!=null}};return{name:[11,6],ks:!0,sub:[{name:[5,1],C:e},{name:[5,2]},{name:[2,2],C:e}]}};
aX.anh=function(){return{sub:[{Y:t.E.v,G:q.fg,W:{d:"st_copy"}},{Y:t.E.v,G:q.fg,W:{d:"st_paste"}},{Y:t.E.v,G:q.fg,W:{d:"st_clear"}}]}};
aX.Ia=function(e){var A=[{name:[14,10],ks:!0}];for(var c=0;c<iF.names.length;c++)A.push({name:iF.names[c]});
if(e){A[A.length-1].ks=!0;A.push(aX.ap$());A.push({name:[6,30,1],C:function(a){return{C:a!=null&&a.g.length!=0&&a.B[a.g[0]].Ma()}}});
A.push({name:["VAR0 VAR1",[12,49],[9,1]],C:function(a){return{C:a!=null&&a.g.length!=0&&a.B[a.g[0]].add.lmfx!=null}}})}return A};
aX.yl=function(e){var A=[{Y:t.E.L,W:{d:t.c.Ch,NY:"layerstyle"}}];for(var c=0;c<iF.names.length;c++)A.push({Y:t.E.L,W:{d:t.c.Ch,NY:"layerstyle",index:[c,0]}});
if(e){A.push(aX.anh());A.push({Y:t.E.L,W:{d:t.c.Ch,NY:"scaleeffects",Ve:100,lP:{Y:t.E.v,G:q.fg,W:{d:"scaleeffects"}}}});
var a={classID:"Mk",null:gb.o$("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
A.push({Y:t.E.wH,W:{_h:"make",h2:a}})}return A};aX.a5M=function(e){var A=[];if(e)A.push({name:[6,48,0,0],tJ:!0},{name:[6,48,0,1],tJ:!0},{name:[6,48,0,2],tJ:!0,ks:!0});
for(var a in a7.names)A.push({name:a7.names[a],ks:a7.apA.indexOf(a)!=-1,tJ:bo[a]!=null});return A};aX.qz=function(e){var A=[];
if(e){A.push({Y:t.E.v,G:q.vM,W:{d:"newfill",lT:0}});for(var c=1;c<3;c++)A.push({Y:t.E.wH,W:q.oW.fk(c)})}for(var a in a7.names){var p=hZ.T$(a);
if(p==null)p={};for(var N in a7.TX)if(a7.TX[N]==a)p.classID=N;var i={_h:"make",h2:{classID:"Mk",null:gb.o$("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:p}}}}};
A.push({Y:t.E.wH,W:i})}return A};function hL(){eH.call(this,"Merge Channels","mergechannels");this.fx=null;
var e=B.t("div","form");this.body.appendChild(e);this.eH=[];for(var c=0;c<3;c++){var A=new el(a7.Dl[c],[]);
this.eH.push(A);e.appendChild(A.e);B.jA(e)}this.Bz=B.RD(this,e)}hL.prototype=new eH;hL.prototype.f=function(){eH.prototype.f.call(this);
this.Bz.f();for(var c=0;c<3;c++)this.eH[c].f()};hL.prototype.OM=function(e,A,a,p){this.fx=a;var N=[];
for(var c=0;c<a.length;c++)N.push(a[c].name);for(var c=0;c<3;c++){var i=this.eH[c];i.z8(N);i.z(Math.min(c,a.length-1))}};
hL.prototype.Jx=function(e){var A=this.fx,a=A[0],p=new k4(t.E.wH,!0);p.data=ar.MK(a.m,a.n,a.l5,"Merged Document","Wht",!1);
this.S(p);var N=[];for(var c=0;c<3;c++)N.push(A[this.eH[c].b()].WR());var a=A[A.length-1],i=a.B[0],Z=i.buffer;
for(var c=0;c<Z.length;c+=4){Z[c]=N[0][c];Z[c+1]=N[1][c];Z[c+2]=N[2][c]}i.U();a.U();this.close()};function iv(){eH.call(this,[1,10],"script");
var e=B.t("div","form");e.setAttribute("style","width:44em");this.body.appendChild(e);this.w7=null;this.Ca=[];
this.Ce=[];this.a2y;var A=this.T5=new c$([1,2],!1,null,!0);A.h("click",this.LJ,this);e.appendChild(A.e);
var a=new c$("JS Reference",!1,null,!0);a.h("click",this.a0Q,this);e.appendChild(a.e);e.appendChild(new bQ("Demos:").e);
this.awv=[];var p=iv.Pm;for(var c=0;c<p.length;c++){var N=new c$(p[c].S_,!1,null,!0);this.awv.push(N);
e.appendChild(N.e);N.h("click",this.adO,this)}this.Oc=B.t("textarea");B.SU(this.Oc);this.Oc.setAttribute("rows",16);
this.Oc.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");e.appendChild(this.Oc);
var i=new c$("Run",!0,null,!0);i.h("click",this.Jx,this);e.appendChild(i.e);this.LI=B.t("div");e.appendChild(this.LI)}iv.prototype=new eH;
iv.prototype.f=function(){this.T5.f()};iv.prototype.LJ=function(){var e=this.a2y;if(e==null)e="script.jsx";
var A=new k4(t.E.L,!0);A.data={d:t.c.Ch,NY:"namewindow",Ve:e.slice(0,e.length-4),AJ:this.atO.bind(this)};
this.S(A)};iv.prototype.atO=function(e){var A=this.Oc.value,a=z.Fp(A),p=new k4(t.E.L,!0);p.data={d:t.c.Oo,Su:a.buffer,lO:e+".jsx",a8X:!0};
this.S(p)};iv.prototype.a64=function(e){var c=this.Ca.indexOf(e.target),A=this.a2y=this.Ce[c],a=this.w7.SX.gQ[A],p=new Uint8Array(a),N=z.lB(p,0,p.length);
this.Oc.value=N};iv.prototype.OM=function(e,A,a){this.Oc.value=iv.Pm[0].dX;this.am$()};iv.prototype.am$=function(){var e=this.w7.SX,A=this.LI;
B.XK(A);this.Ca=[];this.Ce=[];A.textContent="Saved scripts: ";for(var a in e.gQ){if(a.endsWith(".jsx")){var p=new c$(a,!1,null,!0);
this.Ca.push(p);this.Ce.push(a);p.h("click",this.a64,this);A.appendChild(p.e)}}};iv.prototype.Mv=function(e,A){this.w7=e;
if(A==ac.tO)this.am$()};iv.prototype.a0Q=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.Fh,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.S(A)};iv.prototype.Jx=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.zr,Jk:this.Oc.value};this.S(A)};
iv.prototype.adO=function(e){var A=this.awv.indexOf(e.currentTarget);this.Oc.value=iv.Pm[A].dX};iv.Pm=[{S_:"Hello",dX:"\nalert(\"Hello Photopea!\");\n"},{S_:"Process Layers",dX:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{S_:"Clone Layers",dX:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function cA(){eH.call(this,[11,7],"newproject");this.data=null;this.fx=null;this.ro=0;var e=B.t("div","flexrow");
this.Lh=e;this.body.appendChild(e);var A=B.t("div","form");this.OL=A;e.appendChild(A);this.aj=new fp([12,48],null,10);
A.appendChild(this.aj.e);B.jA(A);this.mo=new js(!0,null,null,null,!0);this.mo.z(new k7(1280,720),72);
this.mo.ak8(!0,!0);this.mo.h(t.E.A,this.bh,this);A.appendChild(this.mo.e);this.GP=new gx;this.GP.parent=this;
A.appendChild(this.GP.e);this.GM=new c$("\u02C5",null,[0,14],!0);this.GM.h("click",this.cM,this);A.appendChild(this.GM.e);
var a=this.a0c=B.t("span");A.appendChild(a);a.style.display="none";this.abD=new el([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
a.appendChild(this.abD.e);this.bB=new ie([1,16,1]);a.appendChild(this.bB.e);this.Bz=new c$([12,49],!0,null,!0);
this.Bz.h("click",this.Jx,this);A.appendChild(this.Bz.e);var p=cA.VO,N=[];for(var c=0;c<p.length;c++)N.push(p[c].name);
this.zR=new ah(null,N);this.zR.h(t.E.A,this.axd,this);A.appendChild(this.zR.e);this.zR.e.style["margin-top"]="1em";
this.VT=new a0(!0);this.VT.h(t.E.A,this.ajI,this);A.appendChild(this.VT.e);this.axd();this.yc=new hw;
this.yc.parent=this;this.yc.e.setAttribute("style","margin-left:1em");this.yc.h("tempready",this.a0H,this)}cA.prototype=new eH;
cA.prototype.cM=function(e){var A=this.a0c,a=A.style.display!="none";A.style.display=a?"none":"";this.GM.WI(a?"\u02C5":"\u02C4");
this.YQ(this.SB,this.Ps)};cA.prototype.Mv=function(e,A){this.yc.Mv(e)};cA.prototype.cj=function(e,A){return new k7(Math.max(0,Math.min(70,(e-690)/2)),e>A?Math.max(0,Math.min(50,(A-400)/2)):0)};
cA.prototype.YQ=function(e,A){this.SB=e;this.Ps=A;this.OL.setAttribute("style","width:"+Math.min(e-24,338)+"px");
this.VT.e.style.height=A-248-(this.a0c.style.display=="none"?0:28)+"px";var a=this.yc.e,p=a.parentNode;
if(e<500){if(p!=null)this.Lh.removeChild(a)}else{if(p==null)this.Lh.appendChild(a);this.yc.YQ(e-378,A-28)}};
cA.prototype.bh=function(){this.yc.z(this.mo.b())};cA.prototype.ajI=function(e){var A=this.VT.b()[0],a=cA.VO[this.zR.b()].e6[A],p=a[4];
if(p==0)p=72;var N=a[1],i=a[2],Z=["px","%","mm","in"].indexOf(a[3]),s=[1,1,25.4/p,1/p][Z];N/=s;i/=s;
this.mo.z(new k7(Math.round(N),Math.round(i)),p);this.mo.aye(Z);this.bh();if(Date.now()-this.ro<300)this.Jx();
this.ro=Date.now()};cA.prototype.axd=function(e){var A=cA.VO[this.zR.b()].e6,a=[],p=[],N=Math.round(106*B.V()),i=Math.round(106*B.V()),Z=0;
for(var c=0;c<A.length;c++)Z=Math.max(Z,A[c][1],A[c][2]);for(var c=0;c<A.length;c++){var s=A[c],D=s[1]+" x "+s[2]+" "+s[3];
if(s[3]=="in")D=(s[1]*25.4).toFixed(0)+" x "+(s[2]*25.4).toFixed(0)+" mm";if(s[3]=="mm")D=(s[1]/25.4).toFixed(1)+" x "+(s[2]/25.4).toFixed(1)+" in";
if(s[4])D=D+" @ "+s[4]+" ppi";p.push(D);a.push(cA.HF(s,N,i,Z))}this.VT.q0(a,p,N,i)};cA.HF=function(e,A,a,p){var N=B.t("canvas",""),i=N.getContext("2d");
N.width=A;N.height=a;var Z=Math.round(A/8),s=Math.floor(11*B.V()),D=e[1],n=e[2];i.fillStyle="#000000";
i.font=Math.round(s*.9)+"px \"Open Sans\", Sans-Serif";var S=D+" x "+n+" "+e[3],F=i.measureText(S);i.fillText(S,Math.round((A-F.width)/2),a-Math.round(Z/2));
if(e[0]!=null){i.font="bold "+s+"px \"Open Sans\", Sans-Serif";var S=e[0],F=i.measureText(S);i.fillText(S,Math.round((A-F.width)/2),a-Math.round(Z/2)-Math.round(s*1.3))}a-=Math.round(2.5*s);
var $=Math.min((A-Z)/D,(a-Z)/n);$*=.5+.5*(Math.max(D,n)/p);var m=(A-D*$)/2,J=(a-n*$)/2;i.strokeRect(Math.round(m)+.5,Math.round(J)+.5,Math.round(D*$),Math.round(n*$));
return N.toDataURL()};cA.prototype.f=function(){eH.prototype.f.call(this);this.mo.f();this.aj.f();this.GP.f();
this.Bz.f();this.aj.z(i1.get([11,7]));this.zR.f();this.bB.f();this.GM.f();this.yc.f()};cA.prototype.Jx=function(e){var A=this.mo.b(),a=A.x,p=A.y;
this.close();var N=this.GP.b(),i=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.abD.b()],Z=new k4(t.E.wH,!0);
Z.data=ar.MK(a,p,this.mo.gR(),this.aj.b(),["Wht","Blck","Trns","Clr"][N[0]],this.bB.b(),N[1],i);this.S(Z);
this.avT()};cA.prototype.a0H=function(e){var A=e.data.M0;A.l5=this.mo.gR();var a=new k4(t.E.L,!0);a.data={d:t.c.nK,M0:A};
this.S(a);this.close();this.avT()};cA.prototype.avT=function(){var e=this.fx[this.fx.length-1],A=this.data.ajq;
if(A)b7.C9(function(){var a=new XMLHttpRequest,p="https://www.googleapis.com/drive/v3/files?"+b7.SL();
a.open("POST",p,!0);a.setRequestHeader("Content-Type","application/json");a.addEventListener("load",function(N){var i=JSON.parse(N.target.response);
e.G1={file:i,dJ:"psd"};alert(e.name+" created in Google Drive")});a.send(JSON.stringify({name:e.name,arm:[A]}))})};
cA.prototype.OM=function(e,A,a,p){this.fx=a;if(e!=null&&e.P!=null){var N=new dE(0,0,e.m,e.n).Yn(e.P.rect);
this.mo.z(new k7(N.m,N.n))}this.data=A;this.bh();if(B.hu())c6.aeA(this.afS.bind(this))};cA.prototype.afS=function(e){if(e=="granted")c6.Vc(this,this.a2S.bind(this))};
cA.prototype.a2S=function(e,A){this.mo.z(new k7(A.m,A.n))};cA.VO=[{name:"Social",e6:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],e6:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],e6:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],e6:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],e6:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],e6:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",e6:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function d$(e,A,a){eH.call(this,A,"sel_"+e);this.d=e;var p=B.t("div","form");this.body.appendChild(p);
this.aj=new g0(A,0,255,null,0,!1,!0);p.appendChild(this.aj.e);this.aj.z(1);var N=B.t("span");N.textContent=a;
p.appendChild(N);B.jA(p);this.ayX=new ie("Apply at canvas bounds");if(e!="border")p.appendChild(this.ayX.e);
this.Bz=B.RD(this,p)}d$.prototype=new eH;d$.prototype.NK=function(e,A){if(e==null)return;if(e.P==null)alert("No selection!");
return e.P!=null};d$.prototype.Jx=function(e){var A=new k4(t.E.wH,!0);A.data=q.ns.eD(this.d,this.aj.b(),this.ayX.b());
A.U3=!0;this.S(A);this.close()};d$.prototype.f=function(){eH.prototype.f.call(this);this.Bz.f();if(this.aj)this.aj.f()};
d$.prototype.OM=function(e,A){};function jh(e,A,a,p,N,i){eH.call(this,a,A);this.ajQ=i;this.pw=N;this.VO=null;
this.OL=B.t("div","form");this.body.appendChild(this.OL);this.amm=B.t("div");this.OL.appendChild(this.amm);
this.aj=e==0?new fp(a,null,10):e==1?new f1(a,0,500,p,1):new fp(a,null,24,5);this.aj.h(t.E.A,this.G5,this);
this.OL.appendChild(this.aj.e);this.Bz=B.RD(this,this.OL);this.h("closebtn",this.Ie,this)}jh.prototype=new eH;
jh.prototype.cj=function(e,A){return new k7(Math.max(0,Math.min(150,(e-250)/2)),Math.max(0,Math.min(150,(A-120)/2)))};
jh.prototype.xV=function(){return this.ajQ};jh.prototype.G5=function(e){var A=this.aj.b();if(this.pw)this.v4(A)};
jh.prototype.Ie=function(e){if(this.pw)this.v4("cancel")};jh.prototype.Jx=function(e){if(this.pw)this.v4("confirm");
else this.v4(this.aj.b());this.close()};jh.prototype.v4=function(e){if(this.VO.AJ)this.VO.AJ(e);else if(this.VO.lP){var A=this.VO.lP,a=new k4(A.Y,!0);
a.G=A.G;a.data=A.W;a.data.Z=e;a.U3=!0;this.S(a)}};jh.prototype.f=function(){eH.prototype.f.call(this);
this.Bz.f();if(this.aj)this.aj.f()};jh.prototype.OM=function(e,A){this.VO=A;this.aj.z(A.Ve);this.aj.Uj();
this.amm.innerHTML=A.az0?A.az0:"";this.G5(null)};function fY(){eH.call(this,[1,5],"open_from_url");this.tk=null;
var e=B.t("div","form");this.body.appendChild(e);this.dA=new fp("URL",null,22);e.appendChild(this.dA.e);
B.jA(e);this.sJ=new ah([21,0],[[21,2],[21,1]]);e.appendChild(this.sJ.e);this.Bz=B.RD(this,e)}fY.prototype=new eH;
fY.prototype.f=function(){eH.prototype.f.call(this);this.Bz.f();this.sJ.f()};fY.prototype.OM=function(e,A,a){this.dA.Uj();
this.tk=null;if(e&&a.indexOf(e)!=-1)this.tk=a.indexOf(e)};fY.prototype.Jx=function(e){var A=new k4(t.E.L,!0),a=this.dA.b();
A.data={d:t.c.Mw,hP:{url:a,cK:!0,tk:this.sJ.b()==1?this.tk:null}};this.S(A);this.close()};function ka(){eH.call(this,[12,79],"preferences");
this.w7=null;var e=B.t("div","form");this.body.appendChild(e);this.KV=[new ie([8,2]),new ie([8,4]),new el([12,80,3],[[12,93,3],[12,80,4]]),new f1([12,80,5],.02,100,null,2),new el(null,j.qC.e7),new el([12,80,6],j.qC.e7),new ie("Remind me to save"),new f1("Cursor Offset",0,200)];
for(var c=0;c<this.KV.length;c++){var A=this.KV[c];e.appendChild(A.e);if(c!=3)B.jA(e);A.h(t.E.A,this.fh,this)}}ka.prototype=new eH;
ka.prototype.f=function(){eH.prototype.f.call(this);for(var c=0;c<this.KV.length;c++)this.KV[c].f()};
ka.prototype.OM=function(e,A,a){};ka.prototype.Mv=function(e,A){this.w7=e;var a=e.tz;this.KV[0].z(a.dc);
this.KV[1].z(a.Qv);this.KV[2].z(a.Oj);this.KV[3].z(a.YF);this.KV[4].z(a.Je);this.KV[5].z(a.sP);this.KV[6].z(e.i1==1);
this.KV[7].z(e.XS)};ka.prototype.fh=function(e){var A=this.KV;if(e.target==A[6])this.w7.i1=1-this.w7.i1;
var a=JSON.parse(JSON.stringify(this.w7.tz));a.dc=A[0].b();a.Qv=A[1].b();a.Oj=A[2].b();a.YF=A[3].b();
a.Je=A[4].b();a.sP=A[5].b();this.w7.XS=A[7].b();var p=new k4(t.E.L,!0);p.data={d:t.c.iK,hP:ac.vY,pL:a};
this.S(p)};function iW(){eH.call(this,[11,8],"saveforweb");this.adx="";this.h("closebtn",function(){this.g8.GV()},this);
this.M0=null;this.Vb=null;this.ac1=null;this.w7=null;B.LM(this.body,"flexrow");this.body.style.padding="0";
var e=B.t("div");e.setAttribute("style","position:relative;");var A=B.t("div");this.body.appendChild(e);
this.body.appendChild(A);this.b6=B.t("div","imgcont");e.appendChild(this.b6);this.g8=new h0;this.g8.YQ(512,512);
this.o0=B.t("div");this.o0.setAttribute("style","position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
e.appendChild(this.o0);var a=this.OL=B.t("div","form cell");a.setAttribute("style","width:195px; padding:9px 13px;");
A.appendChild(a);this.T_=new fp([12,48],null,7.6);this.T_.ma();a.appendChild(this.T_.e);var p=fI.Vd();
p[p.indexOf("WEBP")]="webP";this.Jm=new el([12,50],p);this.Jm.e.style.marginRight="0";this.Jm.ma();a.appendChild(this.Jm.e);
this.Jm.h(t.E.A,this.Z_,this);B.jA(a);this.mo=new js(!0,!0,!1,!0);this.mo.ma();this.mo.h(t.E.A,this.Z_,this);
this.mo.m4.e.style.paddingBottom="8px";a.appendChild(this.mo.e);this.Lb=new cs;this.Lb.h(t.E.A,this.Z_,this);
a.appendChild(this.Lb.e);this.tj=new c$([1,2],!0,null,!0);this.tj.h("click",this.Jx,this);a.appendChild(this.tj.e)}iW.prototype=new eH;
iW.prototype.NK=function(e,A){return e!=null};iW.prototype.f=function(){eH.prototype.f.call(this);this.mo.f();
this.T_.f();this.Jm.f();this.Lb.f();this.tj.f()};iW.prototype.Jx=function(e){var A=this.T_.b().trim(),a=fI.Vd()[this.Jm.b()],p=a=="JPG"||a=="PNG"||a=="GIF",N=fI.nP(a),i="."+a.toLowerCase(),Z=this.Vb,s=A+i,D=this.M0,n=D.WM,S=this.Lb.b();
if(D.wO())S.pop();if(n.length!=0&&p&&S.pop()){var F="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",$=[],m={},J=new dE(0,0,D.m,D.n),w=D.WR();
for(var c=0;c<n.length;c++)$.push(q.RK.RQ(n,c));$.reverse();var f=j.rect.Xo([0,0,D.m,D.n],$);for(var c=0;
c<f.length;c++){var b=f[c],L=new dE(b[0],b[1],b[2]-b[0],b[3]-b[1]),C=b.length==5?n[b[4]].v:null,M=j.Q(L.O()*4);
j._M(w,J,M,L);var y="img/img"+(c+1)+i;m[y]=new Uint8Array(N.Eu([[M.buffer,0]],L.m,L.n,S));F+="<div style=\"background-image:url('"+y+"'); left:"+L.x+"px; top:"+L.y+"px; width:"+L.m+"px; height:"+L.n+"px\">";
if(C&&C.url.v!="")F+="\n\t<a href=\""+C.url.v+"\" target=\""+C.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
F+="</div>\n"}F+="</body>\n</html>\n";var Q=j.Q(Math.round(F.length*1.5)),k=z.dR(F,Q,0);m["index.html"]=Q.slice(0,k);
Z=UZIP.encode(m);s=A+".zip"}else if(D.add.artd&&D.add.artd.Cnt.v>1&&p&&S.pop()){var m={},J=new dE(0,0,D.m,D.n),w=D.WR(),E=D.root.children;
for(var c=0;c<E.length;c++){var _=E[c].j;if(_.add.artb==null||!_.gi())continue;var v=_.jP(),V=j.Q(v.O()*4);
j._M(w,J,V,v);m[_.getName()+i]=new Uint8Array(N.Eu([[V.buffer,0]],v.m,v.n,S))}Z=UZIP.encode(m);s=A+".zip"}if(D.Zx)c6.dm("act=1&id="+D.Zx);
this.g8.GV();this.close();var R=function(){var P=new k4(t.E.L,!0);P.data={d:t.c.S0,data:Z,name:s};this.S(P)}.bind(this);
if(!this.w7.FX||d4.tl()){R();return}var h=jU.tt()!=0;R();var P=new k4(t.E.L,!0),H=av.ZY("3UMe\\ORYBB@EVG9* 08{\"\",-913-yXs^]Y\\Mm^UHKR3.8F6&+*.y1oo{%qm{m^Xo_SNLU]NA97N-7*B32*'##\"*WlprjhZS.k9XHSPYXt41:=36@;y*2$tn&womykcpZPIWP^IHH8]");
if(h)H=av.ZY("0^Ne\\ORYLG:<2G&0>\\|W~~otku?|J_ce][MFaVKNB7O;9;C&6$+)1wq(jxdnreaUlNPH`UC9IQH;>E'/J9f un}l0!u\\lXZn[^XbAAMd");
P.data={d:t.c.Ch,NY:av.qT,Z:H,AJ:function(){}};if(Math.random()<.1||h)this.S(P)};iW.prototype.OM=function(e,A){if(A.qm!=null)this.Jm.z(A.qm);
this.M0=e;var a=this.M0.name,p=a.lastIndexOf("."),a=p==-1?a:a.slice(0,p);this.T_.z(a);var N=e.m+","+e.n;
if(N!=this.adx){this.adx=N;this.mo.z(new k7(e.m,e.n),e.l5)}this.Lb.aad();if(A.ayB){this.mo.aye(3);this.Lb.he.PDF[2].Tn.z(!0)}this.Z_(null,!0)};
iW.prototype.acX=function(e,A){return e<A&&e<660};iW.prototype.cj=function(e,A){return this.acX(e,A)?new k7(0,0):new k7(Math.max(0,Math.min(150,(e-770)/2)),Math.max(0,Math.min(150,(A-590)/2)))};
iW.prototype.YQ=function(e,A,a){this.SB=e;this.Ps=A;if(this.M0==null)return;var p=this.tj.e,N=this.acX(e,A),i,Z,$="<span style=\"width:",m="display:inline-block; text-align:right;\">";
if(N){var s=this.OL.getBoundingClientRect().height;i=e;Z=A-Math.max(s,252);B.Xi(this.body,"flexrow")}else{i=Math.min(512,e-195-2*13);
Z=Math.min(512,A-24);B.LM(this.body,"flexrow")}var D=N?e-2*13:195;this.OL.style.width=D+"px";this.T_.DP.style.width=D-72+"px";
this.mo.YQ(D);var n=fI.Vd()[this.Jm.b()],S=fI.nP(n);if(S.S$||S.SV)this.b6.firstChild.setAttribute("style","display:block; width:"+i+"px; height:"+Z+"px;");
else this.g8.YQ(i,Z);var F=this.Vb.byteLength,J=$+64+"px;"+m+iW.xc(F)+"</span>";if(i>400)J+=$+90+"px; opacity:"+.5+";"+m+F.toLocaleString()+" B</span>";
this.o0.innerHTML=J;if(a)setTimeout(function(){this.YQ(this.SB,this.Ps)}.bind(this),20)};iW.xc=function(e){var A=e.toString(2),a=0;
while(a+10<A.length)a+=10;var p=(e/Math.pow(2,a)).toFixed(1);if(p.endsWith(".0"))p=p.slice(0,-2);var N="B KB MB GB TB PB".split(" ")[Math.floor(a/10)];
return p+" "+N};iW.prototype.Mv=function(e,A){this.w7=e};iW.prototype.Z_=function(e,A){var a=this.M0,p=this.mo.b(),N=p.x,i=p.y,Z=this.Jm.b(),s=fI.Vd()[Z],D=fI.ni(a)[0].length,n=["GIF","PNG","WEBP"].indexOf(s)!=-1&&D>1,b="";
if(n&&A&&(D>4&&N*i>1024*1024||N*i*D>800*800*50)){var S=1;while(Math.max(N>>>S,i>>>S)>800)S++;var F=window.confirm("Your animation is large ("+N+" x "+i+" px). Press \"OK\" to scale it to "+(100>>>S)+"%. Press \"Cancel\" to keep the size.");
if(F){this.mo.z(new k7(N>>>S,i>>>S),null,!0);N=N>>>S;i=i>>>S}}var $=a.add.artd,m=$!=null&&$.Cnt.v>1,J=a.wO();
this.Lb.iC(s,n,a.WM.length!=0,m,J!=null);var w=localStorage.getItem("sfwPrms");if(w==null)w={};else w=JSON.parse(w);
var f=this.Lb.b();if(e&&e.target==this.Lb){w[s]=f;localStorage.setItem("sfwPrms",JSON.stringify(w))}else if(w[s]){this.Lb.z(w[s],!0);
f=this.Lb.b()}this.Vb=fI.Ek(a,s,N,i,f,this.w7);if(this.Vb==null){this.M0=null;return}B.XK(this.b6);this.g8.GV();
var L=fI.nP(s);if(L.SV){this.b6.innerHTML="<div></div>"}else if(L.S$){var C=N,M=i,y;if(s=="PDF"){y=URL.createObjectURL(new Blob([this.Vb],{type:"application/pdf"}))}else{y=URL.createObjectURL(new Blob([this.Vb],{type:"image/svg+xml"}))}this.b6.innerHTML="<iframe src=\""+y+"\"></iframe>"}else{var Q=this.ac1=L.QS(this.Vb),k=Q[0],E=k.WJ,C=E.m,M=E.n;
if(k.Nz){var _=ICC.R(k.Nz.buffer),v=17,V=ICC.U.sampleLUT(_,v);for(var c=0;c<Q.length;c++){var R=new Uint8Array(Q[c].data);
ICC.U.applyLUT(V,v,R,R)}}this.g8.z(Q,Q.length>1?f[f.length-3]:0);this.b6.appendChild(this.g8.e);b="background: rgba(0,0,0,0);"}this.b6.setAttribute("style","display:block; "+(L.SV?"background:rgba(0,0,0,0);":"background-size:"+16/B.V()+"px;")+b);
this.YQ(this.SB,this.Ps,A)};function hO(){eH.call(this,[11,13],"shortcuts");var e=this.Lh=B.t("div","scrollable");
e.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(e);
this.ao6()}hO.prototype=new eH;hO.prototype.f=function(){eH.prototype.f.call(this);this.ao6()};hO.prototype.ao6=function(){var e="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",A="",a=g4,p=a.YC,N=a.Kp,i=a.uJ;
A+="<h2 style=\"margin-top:0;\">Main Menu</h2>";A+=e;A+=this.Yw([[0,0],"---",[1,0],[p,a.JJ],[1,2],[p,a.DN],[1,3],[N,p,a.DN],[1,8],[i,N,p,a.DN],[0,1],"---",[2,0],[N,p,a.ls],[2,1],[p,a.ls],[5,0],[p,a.HJ],[5,1],[p,a.AA],[5,2],[p,a.uq],[2,2],"Delete",[2,3],[i,a.Pk],[10,16],[i,p,a.P5],[12,79],[p,a.t7],[3],"---",[4,1],[p,a.SA],[4,2],[p,a.Ab],[4,5],[p,a.L6],[4,11],[p,a.ed],[0,3],"---",[6,13],[N,p,a.lm],[6,49,0],[p,a.N3],[6,6,0],[i,p,a.IU],[6,9],[p,a.IU],[6,10],[p,a.E],[0,5],"---",[7,0],[p,a.c],[7,1],[p,a.fe],[7,2],[N,p,a.ed],[0,7],"---",[8,0],[p,a.yR],[8,1],[p,a.Kw],[8,3],[p,a.oy],[8,2],[p,a.ai],[8,4],[p,a.wN],[11,13],"?"]);
A+="</div>";A+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";A+=e;A+=this.Yw(["Vertical scroll","Wheel","Horizontal scroll",[p,"Wheel"],"Zooming",[i,"Wheel"]]);
A+="</div>";A+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
A+=e;A+=this.Yw([[10,11],[p],[10,7],"Space",[10,17],[p,a.QD]]);A+="</div>";A+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
A+=e;var Z=hO.a,s=[];for(var c=0;c<Z.length;c+=3)if(Z[c+1])s.push(Z[c],Z[c+1]);s=s.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[p,a.V8]]);
A+=this.Yw(s);A+="</div>";this.Lh.innerHTML=A};hO.prototype.Yw=function(e){var A="",a=!0;for(var c=0;
c<e.length;c+=2){var p=e[c],N=g4.rN(e[c+1]);if(N==null){a=!1;continue}var i=B.u_(i1.get(p));if(N=="---"){if(!a)A+="<br/>";
A+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+i+"</div>"}else A+="<div>"+i+" <span style=\"float:right; font-weight:bold;\">"+N+"</span> </div>";
a=!1}return A};hO.a=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function cZ(){eH.call(this,[8,11,1],"soptions");this.Br=null;var e=B.t("div","form");e.style.width="20em";
this.body.appendChild(e);this.XJ={Nm:[12,48],url:"URL",null:[12,71]};this.KV={};for(var A in this.XJ){var a=new fp(this.XJ[A],null,15);
this.KV[A]=a;e.appendChild(a.e)}this.Bz=B.RD(this,e)}cZ.prototype=new eH;cZ.prototype.OM=function(e,A,a){var p=A.Z;
this.Br=JSON.stringify(p);for(var N in this.XJ){if(p[N])this.KV[N].z(p[N].v)}};cZ.prototype.Jx=function(e){var A=JSON.parse(this.Br);
for(var a in this.XJ){var p=this.KV[a].b();A[a]={t:"TEXT",v:p}}var N=new k4(t.E.v,!0);N.G=q.Gc;N.data=A;
N.U3=!0;this.S(N);this.close()};cZ.prototype.f=function(){eH.prototype.f.call(this);this.Bz.f()};function jm(){eH.call(this,[2,3],"fill");
this.w7=null;this.gJ=null;var e=B.t("div","form padded");e.style.width="22em";this.body.appendChild(e);
this.df="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.c3=new el([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.c3.h(t.E.A,this.a5d,this);e.appendChild(this.c3.e);this.b6=B.t("span");e.appendChild(this.b6);this.BR=new dH;
this.BR.parent=this;this.BR.Ti(0);this.tV=new bx;this.tV.parent=this;this.vz=new el([12,19,0],im.Wj,im.E_);
e.appendChild(this.vz.e);this.o6=new f1([12,0],0,100,"%",0,!1);this.o6.z(100);e.appendChild(this.o6.e);
this.eX=new ie([13,5]);this.eX.z(!1);e.appendChild(this.eX.e);this.Bz=B.RD(this,this.body)}jm.prototype=new eH;
jm.prototype.NK=function(e,A){return e!=null};jm.prototype.xV=function(){return!0};jm.prototype.a5d=function(){var e=this.c3.b(),A=this.BR.e,a=this.tV.e,p=this.b6;
if(e==2)p.appendChild(A);else if(p.contains(A))p.removeChild(A);if(e==7)p.appendChild(a);else if(p.contains(a))p.removeChild(a)};
jm.prototype.f=function(){eH.prototype.f.call(this);this.c3.f();this.vz.f();this.o6.f();this.eX.f();
this.Bz.f()};jm.prototype.Jx=function(e){if(!this.gJ.VX())return;var A=new k4(t.E.wH,!0),a=this.c3.b();
A.data=q.Wn.fk(this.df[a],im.U6[this.vz.b()],this.o6.b()/100,this.BR.b(),this.eX.b(),this.tV.b());this.close();
this.S(A)};jm.prototype.OM=function(e,A){this.gJ=e};jm.prototype.Mv=function(e,A){this.w7=e;if(A==ac.xh||A==ac._x){this.tV.mb(e.px);
this.tV.z({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function jj(){eH.call(this,[14,9],"stroke");this.w7=null;this.OL=B.t("div","form");this.OL.setAttribute("style","width:24em");
this.body.appendChild(this.OL);this.t$=new ic("FrFX",!0);this.t$.parent=this;var e=["Sz","Styl","Md","Opct"].concat(iF.Gw);
for(var c=0;c<e.length;c++){var A=this.t$.Hc[e[c]].e;this.OL.appendChild(A)}this.OK=!1;this.Bz=B.RD(this,this.body)}jj.prototype=new eH;
jj.prototype.NK=function(e,A){return e!=null};jj.prototype.xV=function(){return!0};jj.prototype.f=function(){eH.prototype.f.call(this);
this.Bz.f();this.t$.f()};jj.prototype.Jx=function(e){var A=new k4(t.E.v,!0);A.G=q.FD;A.data={d:"stroke",a0n:this.t$.b()};
this.close();this.S(A)};jj.prototype.OM=function(e,A){if(!this.OK){var a=iF.lZ[iF.order.indexOf("FrFX")];
a=JSON.parse(a);this.t$.update(e,a);this.OK=!0}var a=this.t$.b(),p=this.w7.lM;a.Clr.v=j.M.yN({o:p>>16&255,J:p>>8&255,k:p&255});
this.t$.update(e,a)};jj.prototype.Mv=function(e,A){this.w7=e};function f3(){eH.call(this,[11,9],"textwarp");
this.KV=new jG;this.KV.h(t.E.A,this.$T,this);this.KV.parent=this;this.OL=B.t("div","form");this.OL.setAttribute("style","width:20em");
this.body.appendChild(this.OL);this.OL.appendChild(this.KV.pe.e);this.OL.appendChild(this.KV.Vw.e);this.OL.appendChild(this.KV.vS.e);
this.OL.appendChild(this.KV.Hl.e);this.OL.appendChild(this.KV.pa.e);this.Bz=B.RD(this,this.OL);this.h("closebtn",this.Ie,this)}f3.prototype=new eH;
f3.prototype.xV=function(){return!0};f3.prototype.f=function(){eH.prototype.f.call(this);this.Bz.f();
this.KV.f()};f3.prototype.$T=function(e){var A=this.KV.b();this.v4({d:"warp",Ww:A})};f3.prototype.v4=function(e){var A=new k4(t.E.v,!0);
A.G=q.L1;A.data=e;A.U3=!0;this.S(A)};f3.prototype.Ie=function(e){this.v4({d:"warpCancel"})};f3.prototype.Jx=function(e){this.v4({d:"warpConfirm"});
this.close()};f3.prototype.OM=function(e,A){var a=e.B[e.g[0]];this.KV.z(a.add.TySh.ev)};function gh(){eH.call(this,[11,12,0],"trim");
var e=this.OL=B.t("div","form");this.OL.setAttribute("style","width:22em");this.body.appendChild(this.OL);
var A=new bQ("Color To Trim:");e.appendChild(A.e);this.KK=new hj(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.KK.z([!0]);this.OL.appendChild(this.KK.e);var A=new bQ("Sides:");e.appendChild(A.e);this.Ty=new hj(null,["Top","Left","Bottom","Right"]);
this.Ty.z([!0,!0,!0,!0]);this.OL.appendChild(this.Ty.e);this.Bz=B.RD(this,this.body)}gh.prototype=new eH;
gh.prototype.NK=function(e,A){return e!=null};gh.prototype.xV=function(){return!0};gh.prototype.f=function(){eH.prototype.f.call(this);
this.KK.f();this.Ty.f();this.Bz.f()};gh.prototype.Jx=function(e){var A=this.KK.b().indexOf(!0),a=this.Ty.b(),p=new k4(t.E.wH,!0);
p.data=q.v9.lA(A,a);this.close();this.S(p)};function iZ(){eH.call(this,"Raw Photopea","rawpea");this.TJ=null;
this.uU=null;this.body.style.padding="0";var e=this.T1=new bo["Adobe Camera Raw Filter"](!0),A="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(e.e);this.Bz=new c$([1,0],!0,null,!0);this.Bz.h("click",this.Jx,this);this.kd=new c$(A+" JPG",!0,null,!0);
this.kd.h("click",this.ayv,this);this.kd.e.style.marginTop="6px";e.PU(this.Bz.e);e.PU(this.kd.e)}iZ.prototype=new eH;
iZ.prototype.cj=function(){return new k7(0,0)};iZ.prototype.YQ=function(e,A){this.T1.YQ(e,A)};iZ.prototype.f=function(){eH.prototype.f.call(this);
this.T1.f()};iZ.prototype.ayv=function(e){var A=this.TJ,a=this.uU,p=fI.nP("JPG").Eu([[this.T1.b(!0).buffer]],a.tG,a.Ds,[85]),N=new k4(t.E.L,!0);
N.data={d:t.c.S0,data:p,name:"photo.jpg"};this.S(N)};iZ.prototype.Jx=function(e){var A=this.TJ,a=this.uU,p=fs.oq(A),A={WJ:new dE(0,0,a.tG,a.Ds),data:this.T1.b(!0).buffer,gj:p},N=fI.TW("Raw Photo",[A]),i=new k4(t.E.L,!0);
i.data={d:t.c.nK,M0:N};this.S(i);this.dO();this.close()};iZ.prototype.dO=function(){this.TJ=null;this.uU=null;
this.T1.azW()};iZ.prototype.OM=function(e,A,a,p){this.TJ=A.Hi;var N=this.uU=j.raw.aaE(this.TJ),i=j.raw.axR(A.Hi),Z=fS.tK(i);
j.raw.hK(N.Qi,N.Qi,A.Hi,[Z.vF,Z.so]);var s=hZ.T$("Adobe Camera Raw Filter");this.T1.z(s,N.Qi,new dE(0,0,N.tG,N.Ds))};
function bI(e){eH.call(this,e?[11,11,0]:[11,11,1],e?"vbitmap":"rcolors");this.VO=null;this.jx=null;this.bG=null;
this.Oh=null;this.ji=null;this.ar$=null;this.oO=null;this.eH="";this.ZS=e;this.Y9=this.fE.bind(this);
this.mZ=!1;this.body.style.padding="0";this.OL=B.t("div","form hbar padded");this.body.appendChild(this.OL);
var A=this.Gx={cnum:new g0([12,82],2,50,null),nois:new ie([12,81]),mode:new el(null,["Cartoon","Photo"]),segm:new ie("Segmentize"),poly:new ie("Polygon"),merg:new ie("Merge colors"),polE:new g0("Roughness",2,30,null),dthr:new ie([12,23,3]),ok:B.RD(this,null,!1)},i=16;
for(var a in A){var p=A[a];p.parent=this;if(a!="ok")p.h(t.E.A,this.fE,this)}var N=this.mn=B.t("div","flexrow");
this.body.appendChild(N);N.setAttribute("style","background-color:var(--bg-canvas)");this.JY=new h0;
this.JY.h("viewchange",this.Ep,this);this.fR=new h0;this.T=B.t("canvas");this.T.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");
this.Ae=this.T.getContext("2d");var Z=j.Q(16*16*4);j.c4(Z,i,i,8);this.YB=j.scale.h6(Z,i,i);this.JY.a0Z(this.T);
this.JY.DG(this.fR);this.fR.DG(this.JY);N.appendChild(this.JY.e);if(e)N.appendChild(this.T);else N.appendChild(this.fR.e)}bI.prototype=new eH;
bI.prototype.cj=function(){return new k7(0,0)};bI.prototype.xV=function(){return!0};bI.prototype.YQ=function(e,A){this.SB=e;
this.Ps=A;A=A-44;if(e<600)A-=29;if(this.VO==null)return;var a=this.VO.WJ,p=aA.am2(e,A,a.m,a.n);if(p==1)A-=3;
if(p==0){e=Math.floor(e/2);B.LM(this.mn,"flexrow")}else{A=Math.floor(A/2);B.Xi(this.mn,"flexrow")}B.ql(this.T,e,A);
this.JY.YQ(e,A);if(this.ZS)this.Ep();else this.fR.YQ(e,A)};bI.prototype.CE=function(e,A,a,p){this.JY.CE(p)};
bI.prototype.f=function(){eH.prototype.f.call(this);for(var e in this.Gx)this.Gx[e].f()};bI.prototype.OM=function(e,A){this.oO=e;
this.ji=null;var a=e.B[e.g[0]],p=j.jT.ms(a.buffer.buffer,a.rect.m,a.rect.n).avQ,N=p/((a.rect.m-2)*(a.rect.n-2)),i=this.Gx;
i.cnum.z(20);i.nois.z(N<.75);i.mode.z(N<.75?1:0);i.segm.z(!1);i.poly.z(!1);i.merg.z(!0);i.polE.z(1);
i.dthr.z(!1);var Z=a.rect.clone();Z.x=Z.y=0;this.VO={WJ:Z,data:a.buffer.buffer.slice(0)};this.jx=null;
this.YQ(this.SB,this.Ps);this.JY.z([this.VO]);this.JY.Z1();this.mZ=!0;setTimeout(this.Y9,20)};bI.prototype.fE=function(){var e=!0,A=Date.now(),a=this.VO,p=this.Gx,N=p.cnum.b(),i=p.nois.b(),Z=p.mode.b(),s=p.segm.b(),D=p.poly.b(),n=p.merg.b(),S=p.polE.b(),_=null;
if(Z==0)s=D=!1;var F=p.dthr.b(),$=["cnum","nois","mode"];if(Z==1){$.push("segm");if(this.ZS){$.push("poly");
if(D)$.push("polE")}}if(this.ZS)$.push("merg");else $.push("dthr");$.push("ok");B.XK(this.OL);for(var c=0;
c<$.length;c++)this.OL.appendChild(p[$[c]].e);if(e)console.log("---------------------------------------");
var m=i||s,J=i+","+s;if(m&&(this.jx==null||this.eH!=J)){this.eH=J;var w=new Uint8Array(a.data),f=a.WJ.m,b=a.WJ.n;
if(i){if(this.ji==null){this.ji=w.slice(0);j.Cr.uW=35;j.Cr.dH(this.ji,this.ji,f,b,15,1);if(e){console.log("denoise",Date.now()-A);
A=Date.now()}}w=this.ji.slice(0)}else w=w.slice(0);if(s){var L=j.jT.MP(w,f,b,40,10),C=L.t7,M=new Uint8Array(C*4);
for(var c=0;c<C;c++){var y=c*4,Q=c*6,k=1/L.tZ[Q+5];M[y]=L.tZ[Q]*k;M[y+1]=L.tZ[Q+1]*k;M[y+2]=L.tZ[Q+2]*k}for(var c=0;
c<w.length;c+=4){var E=L.Ox[c>>>2]*4;w[c]=M[E];w[c+1]=M[E+1];w[c+2]=M[E+2]}if(e){console.log("segm",Date.now()-A);
A=Date.now()}}this.jx={WJ:a.WJ.clone(),data:w.buffer}}if(m)a=this.jx;var w=new Uint8Array(a.data),f=a.WJ.m,b=a.WJ.n;
for(var c=0;c<w.length;c+=4){if(w[c+3]<10)w[c]=w[c+1]=w[c+2]=w[c+3]=0}if(Z==0){_=j.jT.adV(w,f,b,N,m?.1:2e-4);
if(e){console.log("quantize",Date.now()-A);A=Date.now()}}if(Z!=0||_&&_.Lu.length<2){_=eN.a8w(w.buffer,N,f,b)}if(this.ZS){var v=_.Ox.slice(0);
for(var c=0;c<v.length;c++)v[c]++;var V=new Uint8Array((f+2)*(b+2));j.WP(v,new dE(1,1,f,b),V,new dE(0,0,f+2,b+2));
if(!D){var R=Math.round((f+2)*(b+2)/1e4),h=dN.kO(V.slice(0),f+2,b+2,Math.min(12,R)),P=dN.sz(h);if(e){console.log("trace smooth",Date.now()-A);
A=Date.now()}}else{var P=j.p.Ka(V,f+2,b+2,S,e)}var H=P.length,U=new bj(1,0,0,1,-1,-1);for(var c=0;c<H;
c++)j.p.D(P[c].path.w,U,P[c].path.w);this.Oh=P;this.bG=_;for(var c=0;c<H;c++){var X=P[c];for(var x=c+1;
x<H;x++){var K=P[x];if(K.parent==c&&_.Lu[K.color-1].est.q[3]<.05){var T=K.path.F.slice(1),I=T.pop();
if(I!="Z")T.push(I);T.reverse();T=["M"].concat(T);if(I=="Z")T.push("Z");var o=[],h=K.path.w.length;for(var l=0;
l<h;l+=2){o[l]=K.path.w[h-2-l];o[l+1]=K.path.w[h-2-l+1]}j.p.concat(X.path,{w:o,F:T})}}}if(e){console.log("finding holes",Date.now()-A);
A=Date.now()}for(var c=0;c<P.length;c++){var O=P[c];if(O.parent!=-1){var g=P[O.parent];O.parent=g;if(g.uG==null)g.uG=[];
g.uG.push(O)}O.depth=O.parent==-1?0:O.parent.depth+1}if(n){function W(fh,r){var g9={},k6=0,jx=0;for(var c=0;
c<fh.length;c++){var Y=fh[c].color,l="c"+Y;if(Y==r)throw Y;if(g9[l]==null)g9[l]=0;g9[l]++;if(g9[l]>k6){k6=g9[l];
jx=Y}}return jx}var d=[],gT=[],r=-1,G=!0;for(var c=0;c<P.length;c++)if(P[c].parent==-1)gT.push(P[c]);
while(gT.length!=0){var Y=W(gT,r);r=Y;for(var c=0;c<gT.length;c++)if(gT[c].color==Y){var fk=gT[c];d.push(fk);
gT.splice(c,1);c--;if(fk.uG)for(var x=0;x<fk.uG.length;x++){gT.push(fk.uG[x]);if(fk.uG[x].color!=Y)G=!1}}}if(G)P=d;
else{var eJ=[];for(var eS=0;eS<500;eS++){var gL=[],h=eJ[eS-1];eJ.push(gL);for(var c=0;c<P.length;c++){var O=P[c],g=O.parent;
if(eS==0&&g==-1||eS!=0&&h.indexOf(g)!=-1){gL.push(O);P.splice(c,1);c--}}gL.sort(function(fh,g9){return fh.color-g9.color});
if(P.length==0)break}for(var c=0;c<eJ.length;c++)P=P.concat(eJ[c])}}else{var d=[],cX=[];while(P.length!=0){cX.push(P.shift());
while(cX.length!=0){var kj=cX.pop();d.push(kj);if(kj.uG)for(var c=0;c<kj.uG.length;c++){var O=kj.uG[c];
P.splice(P.indexOf(O),1);cX.push(O)}}}P=d}this.Oh=P;for(var c=0;c<P.length;c++){var X=P[c],gq=_.Lu[X.color-1].est.q;
if(gq[3]<=.05){P.splice(c,1);c--;continue}}for(var c=1;c<P.length;c++){var iL=P[c-1],X=P[c];if(iL.color==X.color&&(n||iL.parent==X.parent&&iL.depth>=2)){j.p.concat(iL.path,X.path);
P.splice(c,1);c--;continue}}if(e){console.log("reordering layers",Date.now()-A,H,P.length);A=Date.now()}this.Ep()}else{var ew=new Uint32Array(f*b),dk=f*b;
if(F){var j9=[];for(var c=0;c<_.Lu.length;c++)j9.push(_.Lu[c].est.rgba);var E=j.Q(f*b);UPNG.encode.dither(new Uint8Array(a.data),f,b,j9,new Uint8Array(ew.buffer),E)}else{for(var c=0;
c<dk;c++){var Y=_.Lu[_.Ox[c]];ew[c]=Y.est.rgba}}this.ar$=new Uint8Array(ew.buffer);this.fR.z([{WJ:a.WJ,data:ew.buffer}]);
if(this.mZ){this.fR.Z1();this.mZ=!1}}};bI.prototype.Ep=function(e){if(this.Oh==null)return;var A=this.VO.WJ.m,a=this.VO.WJ.n,p=this.Oh,N=this.bG.Lu,i=this.T,Z=this.Ae,s=this.JY.m1();
Z.setTransform(1,0,0,1,0,0);Z.clearRect(0,0,i.width,i.height);Z.translate(i.width/2,i.height/2);Z.scale(s.N,s.N);
Z.translate(s.R.x/s.N-A/2,s.R.y/s.N-a/2);Z.scale(1/s.N,1/s.N);Z.fillStyle=this.YB;Z.fillRect(0,0,A*s.N,a*s.N);
Z.scale(s.N,s.N);var D=[];for(var c=0;c<N.length;c++){var n=N[c].est.q;D.push({o:Math.round(255*n[0]),J:Math.round(255*n[1]),k:Math.round(255*n[2]),gg:Math.round(255*n[3])})}for(var c=0;
c<p.length;c++){var S=p[c],n=D[S.color-1];if(n.gg==0)continue;Z.fillStyle="rgba("+n.o+","+n.J+","+n.k+","+n.gg/255+")";
Z.beginPath();Typr.U.pathToContext({crds:S.path.w,cmds:S.path.F},Z);Z.fill()}};bI.prototype.Jx=function(e){var A=this.oO,a=A.g[0],p=A.B[a],N=new k4(t.E.v,!0);
N.U3=!0;N.G=q._b;if(this.ZS){var i=this.Oh,Z=i.length==1,s=A.B.slice(0,a);if(!Z)s.push(A.pz());for(var c=0;
c<i.length;c++){var D=i[c],n=this.bG.Lu[D.color-1].est.q;j.p.D(D.path.w,new bj(1,0,0,1,p.rect.x,p.rect.y),D.path.w);
var S=A.Uo();S.i4("Path "+c);s.push(S);S.opacity=Math.round(n[3]*255);S.OO|=16;S.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.M.yN({o:255*n[0],J:255*n[1],k:255*n[2]})}};
S.add.vmsk=new u.eP;S.add.vstk=JSON.parse(JSON.stringify(iF.kE.default));S.add.vmsk.i=j.p.Hh(D.path,!1);
S.add.vogk=[];S.c0();S.yO(A)}var F=s[s.length-1];if(!Z){var S=A.Uo();S.i4(p.getName());S.add.lsct=ez.MV;
S.Mi="pass";S.OO=24;s.push(S);F=S}var $=p.add.lmfx;if($)F.add.lmfx=JSON.parse(JSON.stringify($));for(var c=a+1;
c<A.B.length;c++)s.push(A.B[c]);N.data={d:u.U4,f_:s,zE:[a+i.length+(Z?-1:1)],fQ:[11,11,0]}}else{var s=A.B.slice(0),S=A.Uo();
S.i4(p.getName());s.splice(A.g[0]+1,0,S);S.rect=p.rect.clone();S.buffer=this.ar$;S.U();N.data={d:u.U4,f_:s,zE:[A.g[0]+1],fQ:[11,11,1]}}this.S(N);
this.close()};function aA(e){eH.call(this,[[7,11],[7,13]][e],["redge","magiccut"][e]);this.KK=e;this.VO={};
this.jl=null;this.PC=null;this.oO=null;this.jD=null;this.lt=null;this.body.style.padding="0";this.PL=[];
this.Jy=-1;this.OL=B.t("div","form hbar padded");this.body.appendChild(this.OL);this.YX=new bZ;this.YX.parent=this;
this.YX.h(t.E.A,this.V2,this);this.OL.appendChild(this.YX.e);var A=e==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
A=A.concat("tools/hand","zoomIn","zoomOut");var a=e==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.QF=new bM(null,A,a,28);this.QF.h(t.E.A,this.CE,this);this.OL.appendChild(this.QF.e);this.qD=new g0([7,9],0,50,null);
this.qD.parent=this;this.qD.h(t.E.A,[this.asS,this.fE][e],this);this.OL.appendChild(this.qD.e);var p=this.a5Z=new c$([2,2],!1,null,!0);
p.h("click",this.dO,this);this.OL.appendChild(p.e);var N=this.vn=B.t("span","form");this.OL.appendChild(N);
var i=this.ajN=new c$([12,90],!1,null,!0);i.h("click",function(D){alert(e==0?i1.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
N.appendChild(i.e);var Z=new c$("Tutorial",!1,null,!0);Z.h("click",this.ag4,this);N.appendChild(Z.e);
this.Io=new bM([12,46],["checker","#ffffff","#000000"]);this.Io.h(t.E.A,this.akr,this);N.appendChild(this.Io.e);
this.zb=new el(null,[[6,13],[6,2],[17,2]]);N.appendChild(this.zb.e);this.Bz=B.RD(this,N,!1);var s=this.mn=B.t("div","flexrow");
this.body.appendChild(s);this.re=new h0(!0);this.b_=new h0;this.re.DG(this.b_);this.b_.DG(this.re);this.re.h("mousedown",this.ME,this);
this.re.h("mousemove",this.m3,this);this.re.h("mouseup",this.fG,this);this.re.h("zoom",this.V2,this);
this.b_.h("zoom",this.V2,this);s.appendChild(this.re.e);s.appendChild(this.b_.e)}aA.prototype=new eH;
aA.prototype.NK=function(e,A){var a=e!=null&&!e.B[e.g[0]].rect.QP();if(!a)alert("The layer is empty.");
return a};aA.prototype.cj=function(){return new k7(0,0)};aA.prototype.xV=function(){return!0};aA.prototype.YQ=function(e,A){this.SB=e;
this.Ps=A;A=A-12-33;if(e<900){this.vn.setAttribute("style","display:block;  text-align:right;");A-=29}else{this.vn.setAttribute("style","position:absolute;  right:0px")}this.Io.WI(e<440?null:[12,46]);
this.qD.WI(e<470?null:[7,9]);var a=this.VO.rect;if(a){var p=aA.am2(e,A,a.m,a.n);if(p==0){e=Math.floor(e/2);
B.LM(this.mn,"flexrow")}else{A=Math.floor(A/2);B.Xi(this.mn,"flexrow")}this.re.YQ(e,A);this.b_.YQ(e,A)}};
aA.am2=function(e,A,a,p){var N=e/2,i=A/2,Z=Math.min(N/a,A/p),s=Math.min(e/a,i/p);return Z>s?0:1};aA.prototype.f=function(){eH.prototype.f.call(this);
this.YX.f();this.qD.f();this.Bz.f();this.Io.f();this.zb.f();this.a5Z.f();this.ajN.f()};aA.prototype.ag4=function(e){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.KK],"_blank")};
aA.prototype.Mv=function(e,A){this.PC=e;if(A==ac.TD||A==ac.xh){this.YX.mb(e.TM);this.YX.z(fR.gF(),e.TM.Cu,e.TM.tV)}};
aA.prototype.CE=function(e,A,a,p){var N=this.QF.b();if(p==null){this.re.CE(h0.acu(N-3));return}this.jD=p;
var i=q.Wn.Ck(this.YX.b(),p);if(i!=null){this.YX.z(i);this.V2()}else if(p.l(g4.YC)&&p.l(g4.ls)){var Z=this.PL,s=0;
if(p.l(g4.Kp)){if(this.Jy+1<Z.length)s=1}else if(this.Jy>0)s=-1;if(s!=0){this.Jy+=s;var D=this.Jy,n=this.VO;
if(s==1)j._M(Z[D][2],Z[D][0],n._C,n.rect);else j._M(Z[D+1][1],Z[D+1][0],n._C,n.rect);n.rt=n.rect;this.fE()}}else if(N<3)this.re.CE(p)};
aA.prototype.af=function(e){var A=this.VO,a=this.PL,p=j.Q(e.O()*4);j._M(A.pT,A.rect,p,e);A.pT=null;var N=j.Q(e.O()*4);
j._M(A._C,A.rect,N,e);this.Jy++;a[this.Jy]=[e.clone(),p,N];while(a.length>this.Jy+1)a.pop();while(a.length>50){a=a.slice(1);
this.Jy--}};aA.prototype.V2=function(){var e=this.PC,A=jF.h9(this.YX.b(),e.TM.Cu,this.re.m1().N);this.re.aU(A)};
aA.prototype.ME=function(e){var A=this.PC,a=this.VO,p=this.jD,N=this.YX.b(),i=this.re.VI(),Z=[16777215,8421504,0][this.QF.b()];
this.jl=new jF(N,A.TM.Cu,A.TM.tV,{a_:1,DA:!0},Z,A.dG,a.rect);a.pT=a._C.slice(0);if(p!=null&&p.l(g4.Kp)&&this.lt){this.jl.moveTo(this.lt.x,this.lt.y);
this.jl.lineTo(i.x,i.y)}else this.jl.moveTo(i.x,i.y);this.aon()};aA.prototype.m3=function(e){var A=this.VO,a=this.re.VI();
this.jl.lineTo(a.x,a.y);this.aon()};aA.prototype.fG=function(e){this.lt=this.re.VI();this.af(this.jl.$L());
this.fE()};aA.prototype.aon=function(){var e=this.VO,A=this.jl,a=A.Nd();if(a.QP())return;e.rt=a;j.s.eZ("norm",A.yn(),A.V0(),e._C,e.rect,a,1);
this.a9M()};aA.prototype.dO=function(e){var A=this.VO;A.pT=A._C.slice(0);A.rt=A.rect;j.fV(A._C,[4278190080,4292730333][this.KK]);
this.af(A.rect);this.fE()};aA.prototype.OM=function(e,A){this.oO=e;var a=e.B[e.g[0]],p=a.rect.clone(),N=p.m,i=p.n;
this.qD.z(this.KK==0?3:N*i<3e6?3:0);this.QF.z(e.P==null?0:1);this.qD.kJ();if(this.KK==0&&e.P!=null||this.KK==1)this.qD.Ss();
var Z=this.KK,s=j.Q(p.O()),D=new Float32Array(p.O());if(Z==0&&e.P){j.WP(e.P.channel,e.P.rect,s,p);var n=j.Q(p.O());
for(var S=0;S<i;S++)for(var F=0;F<N;F++){var c=S*N+F,$=s[c];if(F>0&&s[c-1]!=$||F<N-1&&s[c+1]!=$||S>0&&s[c-N]!=$||S<i-1&&s[c+N]!=$)n[c]=255}j.style.hL(n,D,N,i)}else D.fill(1e9);
p.x=p.y=0;this.VO={rect:p,Qi:a.buffer,_i:s,Eh:D,lG:j.Q(p.O()*4),Iz:j.Q(p.O()*4),_C:j.Q(p.O()*4),pT:null,rC:null,rt:p,ax2:{}};
if(Z==0)this.asS();else{this.VO.ax2=q.ku.aqm(e);var m=this.VO._C;j.fV(m,4287137928);var J=j.LE.getSelection(a.buffer,N,i),w=Math.round(N/60),f=Math.round(.7*i);
for(var S=0;S<i;S++)for(var F=0;F<N;F++){var b=(S*N+F)*4,L=J[b>>>2];L=L>128?255:128;if(S<w||S<f&&(F<w||F>N-1-w))L=0;
m[b]=m[b+1]=m[b+2]=L}this.fE()}this.PL=[1];this.Jy=0;var C=this.YX.b();C.Brsh.v.Dmtr.v.val=Math.round(p.m/(Z==0?10:20));
this.YX.z(C);this.V2();this.YQ(this.SB,this.Ps);this.re.Z1()};aA.prototype.asS=function(){var e=this.VO,A=e.rect.O(),a=this.qD.b(),p=e._i.slice(0);
for(var c=0;c<A;c++)if(e.Eh[c]<a)p[c]=128;j.fV(e._C,4294967295);j.Ao(p,e._C,0);j.Ao(p,e._C,1);j.Ao(p,e._C,2);
e.rt=e.rect;this.fE()};aA.prototype.fE=function(){var e=this.VO,N,s,D=0,n=0,S=0;this.a9M();var A=e.rect,a=A.m,p=A.n,i=j.Q(A.O()),Z=e.Qi;
j.kI(e._C,i,0);for(var c=0;c<i.length;c++){if(Z[(c<<2)+3]!=255)continue;var F=i[c];if(F==0)D++;else if(F==255)n++;
else S++}if(D*n*S!=0){if(this.KK==0)s=j.QL.QL(A,Z,i);else{var $=this.QF.b();for(var m=1;m<p;m++)for(var J=1;
J<a;J++){var c=m*a+J,w=i[c],f=i[c-1];if(w==0&&f==255||w==255&&f==0){N="The Red and Green should never touch! Erase it with Grey.";
break}}var b=Date.now(),L=this.VO.ax2;j.GZ(i,L.Hk);q.ku.HS(L,!0);var C=Math.ceil(this.qD.b()/2);if(C==0){s=Z.slice(0);
j.Ao(L.P,s,3)}else{var M=L.P.slice(0),y=L.P.slice(0);for(var Q=0;Q<C;Q++){for(var m=1;m<p-1;m++)for(var J=1;
J<a-1;J++){var c=m*A.m+J,k=M[c];if(M[c-a]!=k||M[c-1]!=k||M[c+1]!=k||M[c+a]!=k)y[c]=128;else y[c]=k}var E=M;
M=y;y=E}s=j.QL.QL(A,Z,M,20,!1)}}}else{s=Z.slice(0);j.Ao(i,s,3)}for(var c=3;c<s.length;c+=4)if(s[c]>Z[c])s[c]=Z[c];
if(A.Kx(e.rect))e.rC=s;else j._M(s,A,e.rC,e.rect);this.akr();if(N)alert(N,4e3)};aA.prototype.a9M=function(e){var A=this.VO,a=A.rt;
j._M(A.Qi,A.rect,A.lG,A.rect,a,!0);var p=A._C;if(this.KK==1){var N=new Uint32Array(256);N[0]=4278190335;
N[255]=4278255360;var i=A.rect.O();p=p.slice(0);var Z=new Uint32Array(p.buffer);for(var c=0;c<i;c+=2){Z[c]=N[Z[c]&255];
Z[c+1]=N[Z[c+1]&255]}}j.s.eZ("norm",p,A.rect,A.lG,A.rect,a,.3);this.re.z([{WJ:A.rect,data:A.lG.buffer}])};
aA.prototype.akr=function(e){var A=this.VO;j.fV(A.Iz,[0,4294967295,4278190080][this.Io.b()]);j.s.eZ("norm",A.rC,A.rect,A.Iz,A.rect,A.rect,1);
this.b_.z([{WJ:A.rect,data:A.Iz.buffer}])};aA.prototype.Jx=function(e){var A=this.oO,a=this.VO,p=this.zb.b(),N=A.B[A.g[0]],i=new k4(t.E.v,!0);
i.U3=!0;var Z=N.rect.clone();if(p==0&&N.gi()||p!=0&&!N.gi()){i.G=q._b;i.data={d:u.g9,j:A.g[0]};this.S(i)}if(A.P!=null){i.G=q.aN;
i.data={d:"fromAction",Rl:q.ns.ec()};this.S(i)}if(p==0){var s=A.B.slice(0),D=A.Uo();D.i4(N.getName());
s.splice(A.g[0]+1,0,D);D.rect=Z;D.buffer=a.rC;D.U();i.G=q._b;i.data={d:u.U4,f_:s,zE:[A.g[0]+1],fQ:[7,11]};
this.S(i)}if(p==1){var n=N.tR();i.G=q._b;i.data={d:u.Mm,aq3:!0};this.S(i);var S=N.tR();S.channel=j.Q(Z.O());
S.rect=Z;S.color=0;S.zv=!0;j.kI(a.rC,S.channel,3);if(n){var F=S._n(n);S.rect=F.rect;S.channel=F.channel;
S.color=F.color}S.Yk();N.yO()}if(p==2){var $={rect:Z,channel:j.Q(Z.O())};j.kI(a.rC,$.channel,3);i.G=q.aN;
i.data={d:"setsel",P:$,fQ:this.Vu};this.S(i)}this.close()};function gI(){eH.call(this,[1,13],"locstor");
this.w7=null;this.R2=[];var e=this.body,A=B.t("p");A.textContent="These files are loaded every time you start Photopea.";
e.appendChild(A);this.a6e=0;this.e3=B.t("span");e.appendChild(this.e3);this.e3.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var a=B.t("span","form");e.appendChild(a);this.VR=new c$([5,4],!1,null,!0);this.VR.h("click",this.kK,this);
a.appendChild(this.VR.e);this.V7=new c$("Get all as ZIP",!1,null,!0);this.V7.h("click",this.LJ,this);
a.appendChild(this.V7.e);this.TT=new a0(!0);this.TT.parent=this;this.TT.rE(1);e.appendChild(this.TT.e);
this.TT.e.setAttribute("style","width: 40em; height: 25em")}gI.prototype=new eH;gI.prototype.f=function(){eH.prototype.f.call(this);
this.e3.textContent=i1.get([13,2])+": "+iW.xc(this.a6e);this.VR.f()};gI.prototype.Mv=function(e,A){this.w7=e;
if(A==ac.tO)this.OM()};gI.prototype.OM=function(e,A){var a=this.w7.SX.gQ,D=0;this.R2=[];for(var p in a)this.R2.push(p);
this.R2.sort(function(S,F){S=S.split(".");F=F.split(".");return S[1]==F[1]?S[0]<F[0]?-1:1:S[1]<F[1]?-1:1});
var N=Math.floor(100*B.V()),i=Math.floor(16*B.V()),Z=[],s=[];for(var c=0;c<this.R2.length;c++){var p=this.R2[c],n=gI.HF(p,a[p],N,i);
Z.push(n);s.push(p);D+=a[p].byteLength}this.TT.q0(Z,s,N,i);this.a6e=D;this.f()};gI.prototype.kK=function(e){var A=this.TT.b();
if(A.length==0){alert("Select a file first.");return}this.TT.z([]);var a=this.w7.SX.gQ;for(var c=0;c<A.length;
c++)delete a[this.R2[A[c]]];var p=new k4(t.E.L,!0);p.data={d:t.c.iK,hP:ac.tO};this.S(p)};gI.prototype.LJ=function(e){var A=this.w7.SX.gQ,a={};
for(var p in A)a[p]=new Uint8Array(A[p]);var N=UZIP.encode(a);c6.save(N,"resources.zip")};gI.HF=function(e,A,a,p){var N=B.t("canvas"),s=0;
N.width=a;N.height=p;var i=N.getContext("2d"),Z=e.split(".").pop().toLowerCase();for(var c=0;c<Z.length;
c++)s+=Z.charCodeAt(c)*613<<8*c;i.fillStyle="#"+j.yj(s&16777215);i.fillRect(0,0,20,p);var D=Math.floor(14*B.V());
i.fillStyle="#000000";i.font="bold "+D+"px sans-serif";var n=(p-D)/2,S=iW.xc(A.byteLength),F=i.measureText(S);
i.fillText(S,a-12-F.width,p-n);return N.toDataURL()};function by(){eH.call(this,[1,15],"pmanager");this.w7=null;
this.tn=new el([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.tn.h(t.E.A,this.OM,this);
this.body.appendChild(this.tn.e);var e=B.t("div","flexrow");this.body.appendChild(e);var A=this.aiS=B.t("div");
e.appendChild(A);var a=B.t("div","form");e.appendChild(a);a.setAttribute("style","width:140px; margin-left:12px");
this.a9h=[ac.TD,ac.Pg,ac._x,ac.nn,ac.ka,ac.vU];this.Ca=[new bZ,new jX,new bx,new e4,new aw,new ko];for(var c=0;
c<this.Ca.length;c++)this.Ca[c].parent=this;this.T9=[];for(var c=0;c<4;c++){var p=new c$("Hello",!0,null,!0);
p.h("click",this.sd,this);this.T9.push(p);a.appendChild(p.e)}this.OM()}by.prototype=new eH;by.prototype.uc=function(e){return e==g4.P1||e==g4.Pk};
by.prototype.sd=function(e){var c=this.T9.indexOf(e.target);this.Ca[this.tn.b()].nc(c)};by.prototype.f=function(){eH.prototype.f.call(this);
this.tn.f();for(var c=0;c<this.Ca.length;c++)this.Ca[c].f();var e=this.T9,A=this.tn.b(),a=ac.GN[this.a9h[A]],p=a[0].toUpperCase();
e[0].WI([[23,6],"."+p]);e[1].WI(["VAR0 ."+p,[1,8]]);e[2].WI([6,37]);e[3].WI([5,4])};by.prototype.Mv=function(e,A){this.w7=e;
this.OM()};by.prototype.OM=function(e,A){if(!B.ND(this.e))return;this.f();B.XK(this.aiS);this.aiS.appendChild(this.Ca[this.tn.b()].Ub);
var a=this.Ca,p=this.w7;if(p==null)return;a[0].mb(p.TM);a[1].Fi(p.lM,p.dG);a[1].mb(p.Sv);a[2].mb(p.px);
a[3].mb([p.me,p.px]);a[4].mb(p.C3);a[5].mb(p.nS)};function g_(e,A,a){eH.call(this,A,"cwindow");this.afF=new k7(a[0],a[1]-33);
this.OL=B.t("div","form");this.OL.setAttribute("style","width:"+(a[2]-a[0])+"px; height:"+(a[3]-a[1])+"px");
this.body.appendChild(this.OL)}g_.prototype=new eH;g_.prototype.cj=function(e,A){return this.afF.clone()};
function ax(e){var A=ax.a7Z(e);eH.call(this,A,"res"+e);var a=this.abS.bind(this);window.addEventListener("message",function(N){if(typeof N.data=="string"&&N.data.startsWith("--et ")){console.log(N.data);
var i=this.at0=N.data.slice(5).split(",");i[0]=parseFloat(i[0]);d4.fJ(i[0],i[1],a)}}.bind(this));this.T_=A;
this.k$=e;this.ao7=null;this.K2=null;this.r7=0;this.nY=null;this.gm=null;this.at0=null;this.w7=null;
this.body.setAttribute("style","padding:0");this.XF=new c$("",null,null,!0);this.body.appendChild(this.XF.e);
this.XF.h("click",this.ph,this);this.XF.e.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.Ro=B.t("span","form");this.body.appendChild(this.Ro);this.Ro.setAttribute("style","position:absolute; margin-top: -31px;  margin-left:270px");
this.T9=[];for(var c=0;c<9;c++){var p=new c$(ax.a7Z(c));this.T9.push(p);if(c==e)p.z(!0);this.Ro.appendChild(p.e);
p.h("click",this.abE,this)}this.Fd=new c$([5,3],null,null,!0);this.Fd.h("click",this.atQ,this);this.a93=new c$("Upload Current Document as a Template",null,null,!0);
this.a93.h("click",this.abj,this);this.hZ=new fp("Creator / Brand name");this.tj=new c$([1,2],null,null,!0);
this.tj.h("click",this.LJ,this);this.j3=B.t("iframe","scrollable");this.j3.setAttribute("style","border:none; margin:0; padding:0;");
this.Ik=B.t("div","form scrollable padded");this.DS=new hR(e);this.DS.h("back",this.dO,this);this.DS.h("save",this.a55,this);
this.body.appendChild(this.j3)}ax.prototype=new eH;ax.a7Z=function(e){var A;if(e==0)A=[25,0];else if(e==1)A="Plugins";
else for(var a in ac.GN)if(ac.GN[a][4]==e)A=ac.GN[a][3];return A};ax.prototype.abE=function(e){var c=this.T9.indexOf(e.target);
if(c==this.k$)return;this.close();var A=new k4(t.E.L,!0);A.data={d:t.c.Ch,NY:"res"+c};this.S(A)};ax.prototype.abS=function(e){this.ph();
this.gm=JSON.parse(e.target.response);this.KU()};ax.prototype.cj=function(e,A){return new k7(0,0)};ax.prototype.YQ=function(e,A){this.SB=e;
this.Ps=A;this.gJ=null;A=A-4;e=e;var a=this.Ik;a.style.width=e-12+"px";a.style.height=A-12+"px";var a=this.DS.e;
a.style.width=e-12+"px";a.style.height=A-12+"px";var a=this.j3;a.style.width=e+"px";a.style.height=A+"px";
this.j4()};ax.prototype.Mv=function(e,A){this.w7=e};ax.prototype.f=function(){eH.prototype.f.call(this);
for(var c=0;c<this.T9.length;c++)this.T9[c].f();this.Fd.f()};ax.prototype.OM=function(e,A,a,p){this.gJ=e;
this.ph(null,!1)};ax.prototype.ph=function(e,A){var a=A!=null?A:B.ND(this.j3);if(a){if(!d4.XP()){alert("You need to log in first!");
return}var p=d4.JF();this.K2=p.tpl?p.tpl.list:[];this.hZ.z(p.tpl&&p.tpl.brnd?p.tpl.brnd:"");this.j4()}else{this.j3.setAttribute("src","");
this.j3.setAttribute("src","templates/?type="+this.k$+"&rsrc="+this.w7.j$.join(","))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(a?this.Ik:this.j3);var N=i1.get(this.T_);this.XF.WI(a?"All "+N:"Add "+N)};ax.prototype.j4=function(){var e=i1.get(this.T_),A=this.K2,a=this.k$,s=450;
if(A==null)return;var p=this.Ik;B.XK(p);var N=B.t("h1");p.appendChild(N);N.textContent="Share your "+e+" with the world!";
var i=B.t("ul");p.appendChild(i);var Z=B.t("li");i.appendChild(Z);Z.textContent="By publishing your "+e+", you agree to let others use them for all kinds of purposes, even commercially.";
p.appendChild(this.Fd.e);if(a==0)p.appendChild(this.a93.e);B.jA(p);p.appendChild(this.hZ.e);p.appendChild(this.tj.e);
B.jA(p);s=(this.SB-20)/Math.max(1,Math.floor(this.SB/s))-42;var D="display:inline-block; width:"+s+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var c=A.length-1;c>=0;c--){var n=A[c];if(n.type==null)n.type=0;if(n.type!=a)continue;var S=B.t("div");
p.appendChild(S);S.setAttribute("style",D);var F=B.t("img");S.appendChild(F);F.setAttribute("src",n.thmb);
F.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var $=B.t("h3");S.appendChild($);$.textContent=n.name;$.setAttribute("style","margin:0 0 10px 0");var m=B.t("p");
S.appendChild(m);m.textContent=n.desc;m.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var J=0;J<2;J++){var w=new c$(J==0?"Edit":"Delete",null,null,!0);w.a5Q=c;w.KU=J==0;w.h("click",this.a0u,this);
S.appendChild(w.e)}}};ax.prototype.abj=function(e){if(this.gJ==null){alert("No document opened.");return}var A=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!A)return;var a=new k4(t.E.L,!0);a.data={d:t.c.It,qm:"psd",S5:this.aru.bind(this)};this.S(a)};ax.prototype.aru=function(e){this.a2A=e;
var A=new k4(t.E.L,!0);A.data={d:t.c.It,qm:"jpg",S5:this.a2U.bind(this),alO:1400};this.S(A)};ax.prototype.a2U=function(e){this.nY={type:0,catg:0,desc:"",file:this.a2A,name:this.gJ.name.split(".")[0],thmb:e,publ:!0,utme:""};
this.KU()};ax.prototype.atQ=function(e){this.nY={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.KU()};ax.prototype.a0u=function(e){this.r7=e.target.a5Q;if(!e.target.KU){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.K2.splice(this.r7,1);this.LJ();this.j4();return}this.KU()};ax.prototype.KU=function(){if(B.ND(this.Ik))this.body.removeChild(this.Ik);
this.body.appendChild(this.DS.e);var e=this.nY?this.nY:this.gm?this.gm:this.K2[this.r7];if(e.type==null)e.type=0;
this.DS.z(e)};ax.prototype.a55=function(e){var A=this.DS.b();if(this.nY)this.K2.push(A);else if(this.gm){var a=this.at0;
d4.fJ(a[0],a[1],this.dO.bind(this),JSON.stringify(A));return}else this.K2[this.r7]=A;this.LJ();this.dO()};
ax.prototype.dO=function(){var e=this.gm;this.nY=null;this.gm=null;this.body.removeChild(this.DS.e);
this.body.appendChild(this.Ik);this.j4();if(e)this.ph()};ax.prototype.LJ=function(){var e=d4.JF();if(this.K2.length==0)delete e.tpl;
else{e.tpl={list:JSON.parse(JSON.stringify(this.K2))};var A=this.hZ.b().trim();if(A!="")e.tpl.brnd=A}d4.YM(e,function(){alert("Saved.")})};
function ee(){eH.call(this,"Make Selection","makesel");this.w7=null;var e=B.t("div","form");this.body.appendChild(e);
this.p7=new ie([12,25,1]);this.p7.z(!0);e.appendChild(this.p7.e);B.jA(e);this.BK=new hX(!0);e.appendChild(this.BK.e);
this.Bz=B.RD(this,this.body)}ee.prototype=new eH;ee.prototype.f=function(){eH.prototype.f.call(this);
this.BK.f();this.p7.f();this.Bz.f()};ee.prototype.Jx=function(e){var A=new k4(t.E.v,!0);A.G=q.aN;A.data={d:"frompath",U9:[null,0,this.BK.b(),this.p7.b()]};
this.close();this.S(A)};function cl(){eH.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.gJ=null;this.L9=null;
this.Km=null;var e=this.ayF=B.t("div","form");e.setAttribute("style","width:20em");this.body.appendChild(e);
this.lQ=new ah([12,50],["PSD","PSB"]);this.lQ.h(t.E.A,this.Z_,this);e.appendChild(this.lQ.e);B.lk(e);
var A=new bQ("Minify the file");e.appendChild(A.e);B.jA(e);var a=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.oB=[];for(var c=0;c<a.length;c++){var p=new ie(a[c]);this.oB.push(p);e.appendChild(p.e);p.h(t.E.A,this.Z_,this)}B.lk(e);
this.fM=new bQ("aa.psd");this.I5=new bQ("10 kB");e.appendChild(this.I5.e);this.axQ=new bQ("1000 B");
e.appendChild(this.axQ.e);this.Bz=new c$([1,2],!0,null,!0);this.Bz.h("click",this.Jx,this);e.appendChild(this.Bz.e);
this.m8=new c$(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.m8.h("click",this.Jx,this);e.appendChild(this.m8.e);
this.h("closebtn",this.Ie,this)}cl.prototype=new eH;cl.prototype.OM=function(e,A,a,p){var N=B.ND(this.m8.e),i=e.G1!=null&&e.G1.dJ=="psd";
if(i&&!N)this.ayF.appendChild(this.m8.e);if(!i&&N)this.ayF.removeChild(this.m8.e);for(var c=0;c<this.oB.length;
c++)this.oB[c].z(!1);this.gJ=e;this.Z_()};cl.prototype.Jx=function(e){if(e.target==this.Bz)c6.save(this.L9,this.Km);
else{if(this.oB[3].b()){alert("You should not save a ZIP as a PSD to Google Drive.");return}cC.apM(this.gJ,this.L9)}};
cl.prototype.Ie=function(){this.gJ=null;this.L9=null};cl.prototype.Z_=function(){var e=this.gJ,A=[!1,!1,!1,!1];
for(var c=0;c<3;c++)A[c]=this.oB[c].b();var a=this.oB[3].b(),p=A[3]=this.lQ.b()==1,N=e.name.slice(0,e.name.length-3),i=this.L9=fI.nP("PSD").Eu(e,0,0,A),iM=this.Km=N+"ps"+(p?"b":"d");
if(a){var Z={};Z[iM]=new Uint8Array(i);i=this.L9=UZIP.encode(Z);iM=this.Km=N+"zip"}this.fM.z(iM);this.I5.z(iW.xc(i.byteLength));
this.I5.e.style["font-size"]="2em";this.axQ.z(" \u2001 "+i.byteLength+" B");this.Bz.WI(i1.get([1,2])+" \""+iM+"\"")};
cl.prototype.f=function(){eH.prototype.f.call(this);this.lQ.f();this.Bz.f();this.m8.f()};function ci(){eH.call(this,"Confirm","confirm");
this.AJ=null;var e=B.t("div");e.setAttribute("style","margin-bottom:1em");this.body.appendChild(e);this.aj=B.t("div");
this.aj.textContent="Hello";e.appendChild(this.aj);this.Bz=B.RD(this,this.body)}ci.prototype=new eH;
ci.prototype.Jx=function(e){console.log("okconfirm");this.close();this.AJ()};ci.prototype.OM=function(e,A){if(A.arQ)this.aj.innerHTML=A.Z;
else this.aj.textContent=A.Z;this.AJ=A.AJ;this.Bz.e.focus();if(A.arQ!=null)this.e.style.top=Math.random()*(window.innerHeight-150)+"px";
this.anN=A.arQ!=null};ci.prototype.cj=function(e,A){return new k7(Math.max(0,(e-500)/2),Math.max(0,Math.min(60,(A-100)/2)))};
ci.prototype.YQ=function(e,A){this.aj.style.width=e-30+"px"};function fu(){eH.call(this,[1,16,2],"newartb");
this.KK=0;this.ZW=null;var e=B.t("div","form");e.style.width="260px";this.body.appendChild(e);this.TT=new js;
e.appendChild(this.TT.e);this.Bz=B.RD(this,e)}fu.prototype=new eH;fu.prototype.NK=function(e,A){return e!=null};
fu.prototype.Jx=function(e){var A=this.TT.b();this.ZW.m=A.x;this.ZW.n=A.y;var a=new k4(t.E.v,!0);a.G=q.M5;
a.data={azE:this.ZW,qZ:this.KK};this.S(a);this.close()};fu.prototype.f=function(){eH.prototype.f.call(this);
this.TT.f();this.Bz.f()};fu.prototype.OM=function(e,A){this.KK=A.qZ;var a=new dE(0,0,e.m,e.n);if(e.g.length!=0){var p=e.B[e.g[0]];
if(p.add.artb){a=p.jP();a.x+=a.m+100}if(A.qZ==1)a=q.BD.V0(e)}this.ZW=a;this.TT.z(new k7(a.m,a.n))};function eg(){eH.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.qo=null;this.h("closebtn",this.Fo,this);this.h("canclose",this.Fo,this)}eg.prototype=new eH;
eg.prototype.Mv=function(e,A){if(this.qo)this.qo.Mv(e,A)};eg.prototype.cj=function(e,A){return new k7(Math.max(0,Math.min(150,(e-980)/2)),Math.max(0,Math.min(150,(A-590)/2)))};
eg.prototype.YQ=function(e,A){this.SB=e;this.Ps=A;e=Math.min(e,980);A=Math.min(A,590);if(this.qo)this.qo.YQ(e,A)};
eg.prototype.f=function(){eH.prototype.f.call(this);if(this.qo)this.qo.f()};eg.prototype.OM=function(e,A,a,p){this.Vu=A.qZ==0?"Open from Storage":"Save to Storage";
this.f();if(this.qo==null){this.qo=new jS;this.qo.parent=this;this.body.appendChild(this.qo.e);this.f();
this.YQ(this.SB,this.Ps)}Storage.rE(A.qZ,e?e.name:"");jS.vr(this.qo)};eg.prototype.Fo=function(e){Storage.rE(0);
jS.LB();if(e.type=="canclose")this.close()};function k5(){eH.call(this,[2,14],"varsdats");var e=this.OL=B.t("div","form");
e.setAttribute("style","width:300px");this.body.appendChild(e);this.gJ=null;this.hR=0;this.w7=null;this.xz=new ah(null,[[2,14],"Data Sets",[1,8]]);
this.xz.h(t.E.A,this.ad0,this);this.Sp=new k5.gC;this.FK=new k5.a3;this.uE=new k5.WZ;this.FK.h("activate",this.r1,this);
this.uE.h("export",this.MR,this);this.Bz=B.RD(this)}k5.prototype=new eH;k5.prototype.ad0=function(e){var A=this.xz.b(),a=this.OL;
B.XK(a);a.appendChild(this.xz.e);B.lk(a);a.appendChild([this.Sp,this.FK,this.uE][A].e);a.appendChild(this.Bz.e)};
k5.prototype.Jx=function(e){var A=new k4(t.E.v,!0);A.G=q._b;A.data={d:u.Wq,Z:JSON.stringify([this.Sp.b(),this.FK.b()])};
this.S(A);this.close()};k5.prototype.f=function(){eH.prototype.f.call(this);this.Bz.f();this.uE.f()};
k5.prototype.OM=function(e,A){this.gJ=e;if(e==null)return;this.Sp.OM(e,A);this.FK.OM(e,A);this.xz.z(0);
this.ad0();this.hR=0};k5.prototype.Mv=function(e,A){this.w7=e};k5.prototype.MR=function(e){var A=this.Sp.b(),a=this.FK.b(),p=this.uE.b();
if(A.length==0){alert("There are no variables.");return}if(a.length==0){alert("There are no data sets.");
return}var N=fI.aaU(this.gJ,A,a,this.FK.agq(),p[0],p[1],p[2],this.w7,this);if(N!=null)c6.save(N,"images.zip")};
k5.prototype.r1=function(e){var A=this.FK.g,a=this.Sp.b(),p=this.FK.b();if(a.length==0){alert("There are no variables.");
return}if(p.length==0){alert("There are no data sets.");return}this.vZ();this.hR+=fI.qM(this.gJ,this,a,p,this.FK.agq(),A)};
k5.prototype.vZ=function(){var e=new k4(t.E.v,!0);e.G=q.sf;e.data={d:"h_stepbck"};while(this.hR>0){this.S(e);
this.hR--}};k5.WZ=function(){b5.call(this);var e=this.e=B.t("div");this.uv=new fp("Variable for file names");
e.appendChild(this.uv.e);B.lk(e);this.Cp=["JPG","PNG","PDF"];this.lQ=new ah([12,50],this.Cp);this.lQ.h(t.E.A,this.agn,this);
e.appendChild(this.lQ.e);this.Lb=new cs;e.appendChild(this.Lb.e);this.agn();this.V7=new c$("Export all items",!0,null,!0);
this.V7.h("click",this.MR,this);e.appendChild(this.V7.e)};k5.WZ.prototype=new b5;k5.WZ.prototype.f=function(e){this.uv.f();
this.lQ.f();this.V7.f();this.Lb.f()};k5.WZ.prototype.agn=function(e){var A=this.Cp[this.lQ.b()];this.Lb.iC(A)};
k5.WZ.prototype.MR=function(e){this.S(new k4("export"))};k5.WZ.prototype.b=function(){var e=this.Cp[this.lQ.b()];
return[e,this.Lb.b(),this.uv.b().trim()]};k5.a3=function(){b5.call(this);this.PF=null;this.uz=[];this.g=0;
var e=this.e=B.t("div","form");this.pk=new aT("Import a CSV file");e.appendChild(this.pk.e);this.pk.h(t.E.A,this.a0D,this);
this.LI=B.t("div","scrollable");this.LI.setAttribute("style","overflow:scroll;  height:234px;");e.appendChild(this.LI);
this.ab4=new aT("Source Images",!0);e.appendChild(this.ab4.e)};k5.a3.prototype=new b5;k5.a3.prototype.a0D=function(e){var A=this.pk.b();
for(var a in A){A=A[a];break}this.PF=dw.__(z.lB(A));this.Se()};k5.a3.prototype.agq=function(){return this.ab4.b()};
k5.a3.prototype.OM=function(e,A){var a=this.PF=JSON.parse(JSON.stringify(e.$d));this.Se()};k5.a3.prototype.b=function(){return this.PF};
k5.a3.prototype.Se=function(){var e=this.fu.bind(this),A=this.PF,p="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.uz=[];var a=B.t("table");a.setAttribute("style","border-collapse: collapse;");for(var c=0;c<A.length;
c++){var N=B.t("tr"),i=A[c],Z=c==0?"th":"td";a.appendChild(N);var s=B.t(Z);N.appendChild(s);s.setAttribute("style",p+"cursor:pointer;");
if(c!=0)s.textContent="\u2713";this.uz.push(s);s.addEventListener("click",e,!1);for(var D=0;D<i.length;
D++){var s=B.t(Z);s.textContent=i[D];N.appendChild(s);s.setAttribute("style",p);s.setAttribute("title",i[D])}}B.XK(this.LI);
this.LI.appendChild(a)};k5.a3.prototype.fu=function(e){this.g=this.uz.indexOf(e.currentTarget);this.S(new k4("activate"))};
k5.gC=function(){b5.call(this);var e=this.e=B.t("div","form marged");this.Xq=null;this.Gv=[];this.Ce=[];
this.Cw=null;this.NR=new el([0,3],[]);this.NR.h(t.E.A,this.a36,this);e.appendChild(this.NR.e);this.AG=[];
var A=["Visibility","Text Content","Pixel Content"];for(var c=0;c<A.length;c++){B.lk(e);var a=new ie(A[c]);
a.h(t.E.A,this.NJ,this);e.appendChild(a.e);B.jA(e);var p=new fp("Variable Name");p.h(t.E.A,this.NJ,this);
e.appendChild(p.e);this.AG.push(a,p)}};k5.gC.prototype=new b5;k5.gC.prototype.NJ=function(e){var A=this.NR.b(),a=this.Cw[A],p=this.Gv[A],N=this.Xq["l"+a],i=this.AG;
if(N==null)this.Xq["l"+a]=N=[];while(N.length!=0)N.pop();for(var c=0;c<3;c++){var Z=i[2*c+1].b();if(!i[2*c].b())continue;
var s={varName:Z,trait:["visibility","textcontent","fileref"][c]};N.push(s);if(c==2){s.align="center";
s.clip="false";s.placementMethod="fit";s.valign="middle"}}if(N.length==0)delete this.Xq["l"+a];this.OM()};
k5.gC.prototype.a36=function(e){var A=this.NR.b(),a=this.Cw[A],p=this.Gv[A],N=this.Xq["l"+a],i=this.AG;
if(N==null)N=[];for(var c=0;c<3;c++){var Z=c==0||c==1&&p==0||c==2&&p==1;i[2*c].Y7(Z);i[2*c].z(!1);i[2*c+1].Y7(Z);
i[2*c+1].z("")}for(var c=0;c<N.length;c++){var s=N[c],D=s.trait,n=["visibility","textcontent","fileref"].indexOf(D);
i[n*2].z(!0);i[n*2+1].z(s.varName)}};k5.gC.prototype.OM=function(e,A){if(e){var a=JSON.parse(JSON.stringify(e.lw)),p=this.Xq={};
for(var c=0;c<a.length;c++){var N=a[c],i=N.docRef;i="l"+i.slice(4,i.length-2);if(p[i]==null)p[i]=[];
p[i].push(N)}this.Cw=[];this.Gv=[];this.Ce=[];for(var c=e.B.length-1;c>=0;c--){var Z=e.B[c],i=Z.add.lyid;
if(Z.getName()=="</Layer group>")continue;this.Cw.push(i);this.Gv.push(Z.add.TySh?0:1);this.Ce.push(Z.getName())}}var s=[],D=this.Ce;
for(var c=0;c<D.length;c++){s.push(D[c]+(this.Xq["l"+this.Cw[c]]?" *":""))}var n=this.NR.b();this.NR.z8(s);
this.NR.z(n);this.a36()};k5.gC.prototype.b=function(){var e=this.Xq,A=[];for(var a in e){var p=e[a];
for(var N=0;N<p.length;N++){p[N].docRef="id('"+a.slice(1)+"')";A.push(p[N])}}return A};function jD(){eH.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.q3=!1;var e=this.zW=[],A=B.t("div","form");A.setAttribute("style","width:20em");this.body.appendChild(A);
for(var c=0;c<2;c++){var a=new ie([22,4,2+c]);A.appendChild(a.e);B.jA(A);var p=new ah(null,[["N equal parts"],["N pixels per part"]]);
A.appendChild(p.e);B.jA(A);var N=new g0("N",0,1e3);N.z(4);N.parent=this;A.appendChild(N.e);B.jA(A);if(c==0)B.lk(A);
e.push(a,p,N)}for(var c=0;c<e.length;c++)e[c].h(t.E.A,this.Xf,this);e.push(B.RD(this,A));this.h("closebtn",this.vZ,this)}jD.prototype=new eH;
jD.prototype.vZ=function(){if(this.q3){var e=new k4(t.E.v,!0);e.G=q.sf;e.data={d:"h_stepbck"};this.S(e)}};
jD.prototype.Xf=function(e){this.vZ();this.q3=!0;var A=[];for(var c=0;c<6;c++)A.push(this.zW[c].b());
var a={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var p=0;p<2;p++){if(!A[p*3])continue;var N=A[p*3+1],i=A[p*3+2];a[["slices","pixels"][N]+["Across","Down"][p]]={t:"long",v:i}}var Z=new k4(t.E.wH,!0);
Z.data={_h:"divide",h2:a};this.S(Z)};jD.prototype.Jx=function(e){this.close()};jD.prototype.f=function(){eH.prototype.f.call(this);
var e=this.zW;for(var c=0;c<e.length;c++)e[c].f()};jD.prototype.OM=function(e,A){this.q3=!1};function kc(e,A,a,p){b5.call(this);
this.name=e;this.a2Z=a;this.an=p;this.Nu=B.t("div","");this.Nu.setAttribute("draggable","true");this.xa=B.t("div","pbody");
this.Jl=new c$("",!1,"");this.Jl.parent=this;this.alx=B.t("span","cross gsicon");this.lI=B.t("span","label");
var N=this.ayH.bind(this);this.Nu.addEventListener("mousedown",this.axB.bind(this),!1);this.Nu.addEventListener("contextmenu",N,!1);
this.Jl.e.addEventListener("contextmenu",N,!1);this.alx.addEventListener("mousedown",this.YW.bind(this),!1);
this.Nu.appendChild(this.lI);if(A)this.Nu.appendChild(this.alx);this.RF=!1;this.lI.textContent=e}kc.prototype=new b5;
kc.prototype.Gq=function(){return null};kc.prototype.f=function(){var e=i1.get(this.name),A=!1,a=this.SB==0?22:Math.round(2+this.SB/50);
if(e.endsWith(" *")){A=!0;e=e.slice(0,e.length-2);a-=2}var p=e.length>a;this.lI.textContent=p?e.slice(0,a-2):e;
if(p)for(var N=0;N<2;N++){var i=B.t("span");i.textContent=e.charAt(a-2+N);i.setAttribute("style","opacity:"+(.6-N*.4));
this.lI.appendChild(i)}if(A){var i=B.t("span");i.textContent=" *";this.lI.appendChild(i)}var Z=e.split(" "),s=Z.length==2?Z[0].substring(0,2)+Z[1][0]:e.substring(0,3);
if(s.charCodeAt(0)>=11776)s=s.substring(0,1);var D=this.a2Z;if(D==null)this.Jl.WI(s,e);else{var n;if(D.startsWith("---"))n="<img src=\""+PIMG[D.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(D.startsWith("==="))n="<img src=\""+D.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(D.indexOf("\"")==-1)n="<img src=\""+D+"\" alt=\""+B.u_(e).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Jl.WI(n,e)}};kc.prototype.enable=function(){this.xa.className="pbody"};kc.prototype.disable=function(){this.xa.className="pbody disabled"};
kc.prototype.Mv=function(e,A){};kc.prototype.OM=function(e,A,a){};kc.prototype.XC=function(e){};kc.prototype.YQ=function(e,A){};
kc.prototype.z5=function(e){this.name=e;this.f()};kc.prototype.fp=function(){};kc.prototype.axB=function(e){if(e.button==0)this.S(new k4("select",!1))};
kc.prototype.ayH=function(e){B.aL(e);if(this.an!=null&&isNaN(this.an))return;var A=B.vT(e,document.body),a=this.jC;
if(a==null){a=this.jC=new fx([{name:[1,12,0]}]);this.jC.h("select",this.YW,this)}a.update(null);a.f();
a.parent=this;var p=new k4(t.E.L,!0);p.data={d:t.c.OY,U7:a,x:A.x+1,y:A.y+1};this.S(p)};kc.prototype.m2=function(){this.YW({})};
kc.prototype.YW=function(e){if(e.stopPropagation)e.stopPropagation();if(this.an!=null&&!isNaN(this.an)){var A=new k4(t.E.L,!0);
A.data={d:t.c.vo,U7:this.jC};this.S(A);A.data={d:t.c.iK,hP:ac.Ah,Z:parseFloat(this.an),Z7:"del"};this.S(A)}else if(this.a8H())this.S(new k4(t.E.hM,!1))};
kc.prototype.a8H=function(e){return!0};kc.prototype.MD=function(e,A,a,p,N){};kc.prototype.D1=function(e,A,a,p,N){};
kc.prototype.$Q=function(e,A,a,p,N){};kc.Jj=function(e,A,a){if(e.childElementCount!=0)return;var p=e.textContent;
this.HC=this.av2.bind(this);this.ad4=this.a3m.bind(this);this.gh=A;this.amu=a;this.I9=e;this.axa=p;var N=B.t("input","");
N.setAttribute("type","text");N.setAttribute("size","10");N.setAttribute("value",p);B.XK(e);e.appendChild(N);
N.select();N.focus();B.SU(e);e.addEventListener("keyup",this.HC,!1);document.body.addEventListener("mousedown",this.ad4,!1)};
kc.Jj.prototype.av2=function(e){var A=g4.ys,a=A(e.code,g4.e2);if(A(e.code,g4.EO)||a)this.aeJ(a)};kc.Jj.prototype.a3m=function(e){var A=e.target;
if(A.tagName&&A.tagName.toLowerCase()=="input")return;this.aeJ(!0)};kc.Jj.prototype.aeJ=function(e){var A=this.I9,a=A.firstChild.value;
A.removeEventListener("keyup",this.HC);document.body.removeEventListener("mousedown",this.ad4);if(this.amu||e&&a!=""&&a!=this.axa){this.gh(a)}else{B.XK(A);
A.textContent=this.axa}};kc.oy={sf:"0",a7F:"1",_b:"2",auF:"3",aeN:"4",LH:"5",CSS:"6",TD:"7",a7w:"8",a4X:"9",aAb:"10",ag1:"11",axV:"12",V9:"13",Nb:"14",aaR:"15",alG:"16",W5:"17",azt:"18",arY:"19",aes:"20",nn:"21",avH:"22"};
function k8(){kc.call(this,[9,9],!1,"---panels/actions",kc.oy.ag1);this.w7=null;this.B1=[0,0]}k8.prototype=new kc("");
k8.prototype.VM=function(){if(!B.ND(this.xa)||this.Yg)return;this.Yg=B.t("div","padded scrollable");
this.Yg.setAttribute("style","width:260px;  height:260px");this.xa.appendChild(this.Yg);this.h(t.E.A,this.G5,this);
this.oT=B.t("div","lpfoot");this.xa.appendChild(this.oT);this.Ca=[];var e="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",A="</svg>",a=e+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+A,p=e+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+A;
this.akn=e+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+A;this.akT=e+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+A;
var N=[this.akn,p,"lrs/folder","lrs/newlayer","lrs/bin",a],i=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var c=0;c<N.length;c++){var Z=N[c];if(1<c&&c!=N.length-1)Z="<img src=\""+PIMG[N[c]]+"\" class=\"miniscale gsicon\" />";
var s=new c$(Z,!1,i[c]);s.h("click",this.ava,this);this.oT.appendChild(s.e);this.Ca.push(s)}this.Se()};
k8.prototype.f=function(){kc.prototype.f.call(this);if(this.Yg==null)return;for(var c=0;c<this.Ca.length;
c++)this.Ca[c].f()};k8.prototype.ava=function(e){var c=this.Ca.indexOf(e.currentTarget),A=this.B1,a=this.w7,p=a.Tt;
if(c==0){var N,i=a.Wh;if(p.length==0){alert("Create an Action Set first.");return}if(A.length<2){alert("Select a target action first.");
return}if(i==null){N=this.akT;i=this.B1}else{N=this.akn;i=null}this.Ca[0].WI(N);a.Wh=i}else if(c==1)this.agy();
else if(c==2||c==3){var Z={fQ:"Action Set "+p.length,eL:[],exp:!0};if(c==2||p.length==0){A=[p.length];
p.push(Z)}if(c==3){var s=p[A[0]].eL;A=[A[0],s.length];s.push({fQ:"Action "+s.length,color:0,eL:[],abh:!1,shift:!1,exp:!0,g2:s.length})}this.B1=A;
this.Se()}else if(c==4){var D;if(A.length==1)D=p;else if(A.length==2)D=p[A[0]].eL;else D=p[A[0]].eL[A[1]].eL;
var n=A.length-1;D.splice(A[n],1);if(D.length==0)A.pop();else while(A[n]>=D.length)A[n]--;if(A.length==0)A.push(0);
this.Se()}else if(c==5){if(p.length==0){alert("No Actions Present.");return}var S=new k4(t.E.L,!0);S.data={d:t.c.tm,acN:ac.v,f9:A[0]};
this.S(S)}};k8.prototype.G5=function(e){var A=this.w7.Tt,a=e.data.d,p=e.data.Rv;if(a=="sel")this.B1=p;
if(a=="fold"){if(p.length==1)A[p[0]].exp=!A[p[0]].exp;else A[p[0]].eL[p[1]].exp=!A[p[0]].eL[p[1]].exp}if(a=="enab"){var N=A[p[0]].eL[p[1]].eL[p[2]];
N.C=!N.C}if(a=="nchange"){if(p.length==1)A[p[0]].fQ=e.data.Xt;else A[p[0]].eL[p[1]].fQ=e.data.Xt}this.Se()};
k8.prototype.OM=k8.prototype.fp=function(){this.VM()};k8.prototype.Mv=function(e,A){this.w7=e;if(this.Yg==null)return;
if(A==ac.v||A==ac.xh)this.Se()};k8.prototype.Se=function(){if(this.w7==null)return;B.XK(this.Yg);var e=this.w7.Tt;
if(e.length==0)return;var A=JSON.stringify(this.B1);for(var c=0;c<e.length;c++){var a=e[c],p=new k8.Of([c],A,a.exp,a.fQ.split("=").pop());
p.parent=this;this.Yg.appendChild(p.e);if(!a.exp)continue;for(var N=0;N<a.eL.length;N++){var i=a.eL[N],p=new k8.Of([c,N],A,i.exp,i.fQ.split("=").pop());
p.parent=this;this.Yg.appendChild(p.e);if(!i.exp)continue;for(var Z=0;Z<i.eL.length;Z++){var s=i.eL[Z],p=new k8.Of([c,N,Z],A,null,i1.get(gb.afb(s)),s.C);
p.parent=this;this.Yg.appendChild(p.e)}}}};k8.prototype.agy=function(){var e=this.w7.Tt,A=this.B1;if(e.length==0){alert("No Actions Present");
return}if(A.length==1){alert("Select an Action first");return}if(this.w7.Wh!=null){alert("You can not apply actions while recording actions");
return}if(A.length==1)A.push(0);var a=e[A[0]],p=a.eL[A[1]],N=new k4(t.E.L,!0);N.data={d:t.c.$t,U9:[p.fQ,a.fQ]};
this.S(N)};k8.Of=function(e,A,a,p,N){b5.call(this);this.Rv=e;var i=this.Rv.length-1;this.e=B.t("div","layeritem"+(JSON.stringify(e)==A?" selected":""));
this.hV=B.t("div","head");this.e.appendChild(this.hV);this.hV.setAttribute("style","height:24px");this.sv=B.t("div","headL");
this.hV.appendChild(this.sv);if(i!=0){var Z=B.t("div");Z.style.width=i*20+"px";this.sv.appendChild(Z)}if(a!=null){var s=this.auC=B.t("div",a?"open":"closed");
this.sv.appendChild(s)}else{var D=this.avR=B.t("div","cmark");D.setAttribute("style","background-size:12px 12px; opacity:"+(N?1:.3));
this.sv.appendChild(D)}if(i==0){var n=B.t("div","folder");this.sv.appendChild(n)}var S=this.lI=B.t("div","label");
S.textContent=p;this.sv.appendChild(S);this.e.addEventListener("mouseup",this.r1.bind(this),!1)};k8.Of.prototype=new b5;
k8.Of.prototype.r1=function(e){if(e.detail==1&&e.target.tagName.toLowerCase()!="input"){var A="sel";
if(e.target==this.auC)A="fold";if(e.target==this.avR)A="enab";var a=new k4(t.E.A,!0);a.data={d:A,Rv:this.Rv};
this.S(a)}else if(this.Rv.length<3)var p=new kc.Jj(this.lI,this.gh.bind(this))};k8.Of.prototype.gh=function(e){var A=new k4(t.E.A,!0);
A.data={d:"nchange",Xt:e,Rv:this.Rv};this.S(A)};function jp(){kc.call(this,[3],!1,"---lrs/adj",kc.oy.azt)}jp.prototype=new kc("");
jp.prototype.VM=function(){if(!B.ND(this.xa)||this.Ca)return;this.xa.setAttribute("style","text-align:center;  padding:6px; min-width:220px");
this.Ca=[];var c=0;for(var e in a7.names){var A=new c$("<img src=\""+PIMG["adj/"+e]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,a7.names[e]);
A.h("click",this.afn,this);this.Ca.push(A);this.xa.appendChild(A.e);if(c==4||c==10)B.jA(this.xa);c++}this.f()};
jp.prototype.OM=function(){this.VM()};jp.prototype.fp=function(){this.VM()};jp.prototype.f=function(){kc.prototype.f.call(this);
if(this.Ca==null)return;for(var c=0;c<this.Ca.length;c++)this.Ca[c].f()};jp.prototype.afn=function(e){var A=this.Ca.indexOf(e.target),a=aX.qz()[A],p=new k4(a.Y,!0);
p.data=a.W;this.S(p)};function d9(){kc.call(this,[12,22],!1,null,kc.oy.nn);this.Yg=B.t("div","padded");
this.w7=null;this.xa.appendChild(this.Yg);this.$k=new e4(null,17.7,10);this.$k.parent=this;this.$k.h(t.E.A,this.Xf,this);
this.Yg.appendChild(this.$k.Ub)}d9.prototype=new kc("");d9.prototype.Xf=function(e){var A=this.$k.b(),a=new k4(t.E.v,!0);
a.data={d:"setstl",Z:A.gP};a.G=q.fg;this.S(a);a.data={d:"confirm"};this.S(a)};d9.prototype.Mv=function(e,A){this.w7=e;
this.Se()};d9.prototype.Se=function(){var e=this.w7,A=e.me;this.$k.mb([A,e.px])};d9.prototype.OM=function(){this.Se()};
d9.prototype.fp=function(){this.Se()};var j$=function(){function e(){kc.call(this,[9,3],!1,"---panels/brush",kc.oy.TD);
this.dF=null;this.w7=null}e.prototype=new kc("");e.prototype.VM=function(){var N=B.t("div","");this.xa.appendChild(N);
this.UZ=B.t("div","bordered cell");this.UZ.setAttribute("style","width:10em; height:28.5em;");N.appendChild(this.UZ);
this.KV=[];this.Xs=null;this.vW=[];var i=this.a7v.bind(this);this.Dg=[new a("basic"),new a("useTipDynamics"),new a("useScatter"),new a("useColorDynamics"),new a("usePaintDynamics")];
for(var c=0;c<this.Dg.length;c++){var Z=B.t("div","listitem"),s=this.Dg[c],n=null;s.parent=this;s.h("brushchange",this.anO,this);
var D=s.Ez;if(c==0){this.Xs=new bQ(D);Z.appendChild(this.Xs.e)}else{n=new ie(D,!1);n.h(t.E.A,this.ad1,this);
Z.appendChild(n.e)}this.vW.push(n);this.UZ.appendChild(Z);this.KV.push(Z);Z.addEventListener("click",i,!1)}this.HP=B.t("div","cell padded");
N.appendChild(this.HP);this.setItem(0);this.T=B.t("canvas");this.T.height=10;N.appendChild(this.T);this.Ae=this.T.getContext("2d");
this.fE()};e.prototype.YQ=function(N,i){if(this.SB==N)return;this.SB=N;this.Ps=i;this.fE()};e.prototype.fp=function(){if(!B.ND(this.xa))return;
if(this.UZ){this.fE();return}this.VM();this.f();this.Mv(this.w7,ac.xh)};e.prototype.f=function(){kc.prototype.f.call(this);
if(this.UZ==null)return;this.Xs.f();for(var c=1;c<this.vW.length;c++)this.vW[c].f();for(var c=0;c<this.Dg.length;
c++)this.Dg[c].f()};e.prototype.anO=function(N){var i=this.Dg.indexOf(N.currentTarget),Z=JSON.parse(JSON.stringify(this.Dg[i].dF)),s=new k4(t.E.L,!0);
s.data={d:t.c.iK,hP:ac.uO,dF:Z};this.S(s)};e.prototype.ad1=function(N){this.apg(this.vW.indexOf(N.currentTarget),N.currentTarget.fY())};
e.prototype.a7v=function(N){var c=this.KV.indexOf(N.currentTarget);if(N.target.tagName.toLowerCase()=="input")return;
if(this.vW[c]&&!this.vW[c].fY()){this.vW[c].FC();this.apg(c,!0)}this.setItem(c)};e.prototype.apg=function(N,i){this.Dg[N].adp(i)};
e.prototype.setItem=function(N){for(var c=0;c<this.Dg.length;c++)this.KV[c].className="listitem";if(this.HP.firstChild)this.HP.removeChild(this.HP.firstChild);
this.KV[N].className="listitem selected";this.HP.appendChild(this.Dg[N].e)};e.prototype.Mv=function(N,i){this.w7=N;
if(this.UZ==null)return;for(var c=0;c<this.Dg.length;c++)this.Dg[c].Mv(N,i);if(i==ac.uO||i==ac.xh){this.dF=N.TM.oS;
this.fE()}if(i==ac.V9)this.fE()};e.prototype.fE=function(){if(this.dF)this.enable();else{this.disable();
return}if(!B.ND(this.xa))return;var N=this.w7;for(var c=0;c<this.Dg.length;c++){this.Dg[c].z(this.dF);
if(this.vW[c])this.vW[c].z(this.Dg[c].fY())}var i=JSON.parse(JSON.stringify(this.dF));i.Brsh.v.Dmtr.v.val=Math.min(i.Brsh.v.Dmtr.v.val,50);
B.ql(this.T,this.SB,80);var Z=new dE(0,0,this.T.width,this.T.height),s=this.w7.TM,D=new jF(i,s?s.Cu:null,s?s.tV:null,{a_:1},N.lM,N.dG,Z,null,0),n=Z.n/2,S=Z.m-n*2;
D.moveTo(n,n);for(var c=0;c<=S;c+=10)D.lineTo(n+c,n+20*Math.sin(2*Math.PI*c/S));D.finish();var F=this.Ae.createImageData(Z.m,Z.n);
j._M(D.yn(),D.V0(),F.data,Z);this.Ae.putImageData(F,0,0)};function A(N){b5.call(this);N=N.split(".")[0];
this.vk=N;var i=this.e=B.t("span"),Z=["Off","Fade"];Z.push(N=="angleDynamics"?"Direction":"Pen Pressure");
var s=this.tn=new el("Control",Z);s.h(t.E.A,this.NJ,this);i.appendChild(s.e);var n=this.avD=new g0(null,0,100,null,null,null,!0);
n.z(50);n.h(t.E.A,this.NJ,this)}A.prototype=new b5;A.prototype.z=function(N){N=N<2?N:2;this.tn.z(N);
this.Se()};A.prototype.b=function(){var N=this.tn.b(),i=this.vk;N=N<=1?N:i=="angleDynamics"?6:2;return N};
A.prototype.NJ=function(N){this.Se();N.target=N.currentTarget=this;this.S(N)};A.prototype.Se=function(N){this.avD.Y7(this.tn.b()==1)};
function a(N){b5.call(this);this.e=B.t("div");this.dF=null;var i=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(N);
this.Ez=[[15,0],[15,1],[15,2],[15,3],"Transfer"][i];this.KK=N;this.Hc={};this.al4=null;var Z=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][i];
for(var c=0;c<Z.length;c++){var s=Z[c],D;if(s=="--br"){D=new bZ;this.e.appendChild(D.Ub.firstChild)}else if(s=="Brsh.Dmtr")D=new c8([12,14,0],1,1e3," px",0,!0);
else if(s=="Brsh.Angl")D=new c8([12,15],0,359," \xB0");else if(s=="Brsh.Rndn")D=new c8([12,16],0,100," %");
else if(s=="Brsh.Hrdn")D=new c8([12,17],0,100," %");else if(s=="Brsh.Spcn")D=new c8([12,18],1,300," %");
else if(s=="szVr.jitter")D=new c8([15,4,0],0,100,"%");else if(s=="minimumDiameter")D=new c8([15,4,1],0,100,"%");
else if(s=="angleDynamics.jitter")D=new c8([15,4,2],0,100,"%");else if(s.endsWith("bVTy"))D=new A(s);
else if(s.endsWith("fStp"))D=new g0(null,0,100,null,null,null,!0);else if(s=="roundnessDynamics.jitter")D=new c8([15,4,3],0,100,"%");
else if(s=="minimumRoundness")D=new c8([15,4,4],1,100,"%");else if(s=="scatterDynamics.jitter")D=new c8([15,5,0],0,1e3," %");
else if(s=="Cnt")D=new c8([15,5,1],1,20);else if(s=="countDynamics.jitter")D=new c8([15,5,2],0,100," %");
else if(s=="clVr.jitter")D=new c8([15,6,0],0,100," %");else if(s=="H")D=new c8([15,6,1],0,100," %");
else if(s=="Strt")D=new c8([15,6,2],0,100," %");else if(s=="Brgh")D=new c8([15,6,3],0,100," %");else if(s=="opVr.jitter")D=new c8("Opacity Jitter",0,100," %");
else if(s=="prVr.jitter")D=new c8("Flow Jitter",0,100," %");else throw s;this.Hc[s]=D;D.parent=this;
D.h(t.E.A,this.NJ,this)}}a.prototype=new b5;a.prototype.a0r=function(){this.S(new k4("brushchange"))};
a.prototype.z=function(N){this.dF=JSON.parse(JSON.stringify(N));this.e.className=this.fY()?"":"disabled";
this.fE()};a.prototype.f=function(){for(var N in this.Hc)this.Hc[N].f()};a.prototype.fY=function(){return!0};
a.prototype.Mv=function(N,i){if(i==ac.TD||i==ac.xh){var Z=this.Hc["--br"];if(Z)Z.mb(N.TM)}};a.prototype.NJ=function(N){var i=N.target,Z=this.Hc,s;
for(var n in Z)if(Z[n]==i)s=n;if(s=="--br"){var S=new k4(t.E.L,!0);S.data={d:t.c.iK,hP:ac.uO,dF:i.b()};
this.S(S)}else{var F=p(this.dF,s),$=i.b();if(F){if(s.endsWith("bVTy")||s.endsWith("fStp")||s=="Cnt")F.v=$;
else F.v.val=$;this.a0r()}}};a.prototype.fE=function(){var N=this.dF,i=N.Brsh.v.classID,Z=this.Hc,s=i!=this.al4;
this.al4=i;if(s){B.XK(this.e);for(var D in Z){if(i!="computedBrush"&&i!="sampledBrush"&&D=="Brsh.Rndn")continue;
if(i!="computedBrush"&&D=="Brsh.Hrdn")continue;var n=Z[D],S=n.e;if(D=="--br"){S=n.A4.e;S.style.width="auto"}this.e.appendChild(S)}}for(var D in Z){if(D=="--br")continue;
var F=p(N,D),$;if(F){if(D.endsWith("bVTy")||D.endsWith("fStp")||D=="Cnt")$=F.v;else $=F.v.val;Z[D].z($);
if(D.endsWith("fStp"))Z[D].Y7(p(N,D.split(".")[0]+".bVTy").v==1)}}};a.prototype.fY=function(){var N=this.KK;
return N=="basic"?!0:this.dF[N].v};a.prototype.adp=function(N){var i=this.KK;if(i=="basic")return;this.dF[i].v=N;
fR.cm.aif(this.dF);this.a0r()};function p(N,i){var Z=i.split(".");N=N[Z[0]];for(var c=1;c<Z.length;c++){if(N==null)return N;
N=N.v[Z[c]]}return N}return e}();function bz(){kc.call(this,[9,0],!1,"---panels/history",kc.oy.sf);this.xa.setAttribute("style","min-width:200px;");
this.cd=B.t("div","hpbody scrollable");this.cd.style.height="160px";this.xa.appendChild(this.cd);this.apt=-1;
this.r$=[];this.jM="";this.XO=new fx([{name:"Clear History"}],[{Y:t.E.v,G:q.sf,W:{d:"h_clear"}}])}bz.prototype=new kc("");
bz.prototype.Gq=function(){return this.XO};bz.prototype.YQ=function(e,A){this.fp()};bz.prototype.OM=function(e){if(e==null){B.XK(this.cd);
this.jM="";return}B.XK(this.cd);var A=0;for(var c=0;c<e.history.length;c++)if(c<=e.hd&&!e.history[c].Tx)A=c;
for(var c=0;c<e.history.length;c++){var a=e.history[c];if(a.Tx)continue;var p=new ik(a,c,A);p.parent=this;
this.cd.appendChild(p.e);this.r$.push(p)}if(e.hd==e.history.length-1)this.fp()};bz.prototype.fp=function(){this.cd.scrollTop=this.cd.scrollHeight};
bz.prototype.f=function(){kc.prototype.f.call(this);for(var c=0;c<this.r$.length;c++)this.r$[c].f()};
function ik(e,c,A){b5.call(this);this.index=c;this.e=B.t("div",c==A?"listitem selected":"listitem");
this.T_=e.name;this.f();if(c>A)this.e.style.opacity=.4;this.e.addEventListener("click",this.MD.bind(this),!1)}ik.prototype=new b5;
ik.prototype.f=function(){this.e.textContent=i1.get(this.T_)};ik.prototype.MD=function(e){if(this.index==this.parent.apt)return;
this.M$({d:"h_itemchange",index:this.index})};ik.prototype.M$=function(e){var A=new k4(t.E.v,!0);A.data=e;
A.G=q.sf;this.S(A)};function c5(){kc.call(this,[9,10],!1,"---panels/histogram",kc.oy.aeN);var e=B.t("div","padded");
this.xa.appendChild(e);this.gK=new eW(256,!0);e.appendChild(this.gK.e);this.gJ=null}c5.prototype=new kc("");
c5.prototype.OM=function(e){this.gJ=e;this.Se()};c5.prototype.Se=function(){var e=this.gJ;if(!B.ND(this.xa))return;
if(e==null||e.g.length==0){this.gK.z(j.rH(j.Q(4)));return}var A=e.WR(),a=new dE(0,0,e.m,e.n),p=a.O();
if(e.P){var N=e.P.rect,i=j.Q(N.O()*4);j._M(A,a,i,N);j.Qr(e.P.channel,i);A=i;a=N;var Z=e.P.channel;p=0;
for(var c=0;c<Z.length;c++)p+=Z[c];p=Math.round(p/255)}var s=j.rH(A);s[0][255]+=3*(p-s[5]);for(var c=1;
c<4;c++)s[c][255]+=p-s[5];this.gK.z(s,p)};c5.prototype.Mv=function(e,A){this.gK.Ti(hr.rB[e._5]["--text-color"])};
c5.prototype.f=function(){kc.prototype.f.call(this);this.gK.f()};c5.prototype.fp=function(){this.Se()};
function ho(){kc.call(this,[9,8],!1,"---adj/clrL",kc.oy.a7F);this.Yg=B.t("div","padded");this.xa.appendChild(this.Yg);
this.zx=new jk(10);this.Yg.appendChild(this.zx.e);this.s5=new hS;this.s5.parent=this;this.Yg.appendChild(this.s5.Ub);
this.s5.Ub.style.marginTop="6px";this.zx.h(t.E.A,this.ao5,this);this.s5.h(t.E.A,this.ao5,this)}ho.prototype=new kc("");
ho.prototype.ao5=function(e){var A;if(e.target==this.zx)A=this.zx.b();else{var a=this.s5.b();A=Math.round(a.o)<<16|Math.round(a.J)<<8|Math.round(a.k)}var p=new k4(t.E.L,!0);
p.data={d:t.c.iK,hP:ac.V9,dy:0,Z:A};this.S(p)};ho.Yf=function(e,A){var a=A==ac.xh,p=e.wz,N=e.gX,i=N.strokeStyleContent.v,Z=null;
if((A==ac.z9||a)&&p.$e==1){Z=j.M.kq(p.yJ.Clr.v);Z=Z.o<<16|Z.J<<8|Z.k}if((A==ac.Rq||a)&&N.strokeEnabled.v&&i.classID=="solidColorLayer"){Z=j.M.kq(i.Clr.v);
Z=Z.o<<16|Z.J<<8|Z.k}if(A==ac.V9||a)Z=e.lM;return Z};ho.prototype.Mv=function(e,A){var a=e.lM,p=A==ac.xh,N=ho.Yf(e,A);
if(N!=null){this.zx.z(N);this.s5.z({o:N>>>16&255,J:N>>>8&255,k:N>>>0&255,Ug:"Color #"+j.yj(N)})}if(A==ac.tB||p){var i=e.ahr;
this.s5.mb(i)}};function i$(){kc.call(this,[12,72],!1,"---adj/mixr",kc.oy.alG);this.Bo=null;this.Zg=null;
this.cd=B.t("div","lpbody scrollable");this.cd.style.marginTop="4px";this.oT=B.t("div","lpfoot");this.xa.appendChild(this.cd);
this.xa.appendChild(this.oT);this.Es=[];this.h("click",this.Fj,this);this.B2=[];i$.BH([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.B2,this.oT,this.D5.bind(this),this.$P.bind(this));
this.XO=new fx([{name:"Merge Channels",tJ:!0}],[{Y:t.E.L,W:{d:t.c.Ch,NY:"mergechannels"}}])}i$.prototype=new kc("");
i$.prototype.Gq=function(){return this.XO};i$.BH=function(e,A,a,p,N){for(var c=0;c<e.length;c++){var i=new c$("W",!1,e[c]);
A.push(i);B.V3(i.e,p);a.appendChild(i.e);var Z=i.e;Z.addEventListener("drop",N,!1);Z.addEventListener("dragover",function(s){s.preventDefault()},!1);
Z.addEventListener("dragenter",B.aL,!1)}};i$.bW=function(e,A){for(var c=0;c<e.length;c++)if(e[c].e==A.currentTarget)return c};
i$.prototype.D5=function(e){var A=i$.bW(this.B2,e);if(A==0)this.S(a2.Bx(!0,null,e));else{A--;var a=new k4(t.E.wH,!0),p={classID:"null"};
if(A==0)p.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(A==1)p.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else p.null=gb.o$("Chnl",!0);a.data={_h:["duplicate","make","delete"][A],h2:p};this.S(a)}};i$.prototype.$P=function(e){var A=i$.bW(this.B2,e);
if(A==2){var a=new k4(t.E.wH,!0),p={classID:"null"};p.null=gb.o$("Chnl",!0);a.data={_h:"duplicate",h2:p};
this.S(a)}else this.D5(e)};i$.prototype.gq=function(c){var e=this.Es,A=e[c];if(A==null){var a=B.t("canvas");
A=a.getContext("2d");e.push(A)}return A};i$.prototype.Fj=function(e){var A=this.Bo.slice(0),a=e.data.g2,p=A[0]+A[1]+A[2],N=this.Zg;
if(-5<a&&a<0){var i=-a-1;if(e.data.i5){if(i==0)A=p==3?[0,0,0]:[1,1,1];else{if(A[i-1]==0)A[i-1]=1;else if(!0)A[i-1]=0}}else{if(i==0)A=[1,1,1];
else{A=[0,0,0];A[i-1]=1}for(var c=0;c<N.l8.length;c++)N.l8[c].MC=!1;N.RN=[]}var Z=new k4(t.E.v,!0);Z.G=q.wI;
Z.data={d:"setcls",$n:A};this.S(Z);return}if(-1<a){var s=N.B[a],D=s.os==1?s.tR():s.MH(N).$;if(e.data.i5)D.MC=!D.MC;
else{for(var c=0;c<N.l8.length;c++)N.l8[c].MC=!1;N.RN=[]}}else{var n=-a-5,D=N.l8[n];if(e.data.i5)D.MC=!D.MC;
else{for(var c=0;c<N.l8.length;c++)N.l8[c].MC=!1;D.MC=!0;N.RN=[n];if(p!=0){var Z=new k4(t.E.v,!0);Z.G=q.wI;
Z.data={d:"setcls",$n:[0,0,0]};this.S(Z)}}}N.De=N.W$=!0};i$.prototype.fp=function(){this.Z_()};i$.prototype.OM=function(e){this.Zg=e;
this.Z_()};i$.prototype.Z_=function(){var e=this.Zg,A=this.cd,m=4;B.XK(A);if(e==null||!B.ND(A))return;
var a=e.m,p=e.n,N=new dE(0,0,a,p),i=this.Bo=e.u.$n.slice(0),Z=i[0]+i[1]+i[2],s=Math.round(34*B.V()),D=s;
if(a>p)D=Math.round(D*p/a);else s=Math.round(s*a/p);var n=["RGB"].concat(a7.Dl);for(var c=0;c<4;c++){var S=this.gq(c);
j.ki.$Z(S,s,D,N,e.WR(),N,!1,c==0?null:c-1);var F=c==0?Z==3:i[c-1]==1,$=new a2(-1-c,!0,!0,S,n[c],F,F);
$.parent=this;A.appendChild($.e);B.OI(S.canvas)}for(var c=0;c<e.g.length;c++){var J=e.B[e.g[c]],w=J.os;
if(w!=1&&w!=3)continue;var f=w==1?J.tR():J.MH(e).$,S=this.gq(m+c);m++;j.ki.b5(S,s,D,N,f);var $=new a2(e.g[c],!0,!0,S,J.getName()+(w==1?"":" Filter")+" Mask",!0,f.MC);
$.parent=this;A.appendChild($.e);B.OI(S.canvas)}for(var c=0;c<e.l8.length;c++){var f=e.l8[c],S=this.gq(m+c);
j.ki.b5(S,s,D,N,f);var $=new a2(-5-c,!0,f.name=="Quick Mask",S,f.name,e.RN.indexOf(c)!=-1,f.MC,q._b,{d:u.JC,dy:"rnm",g2:c});
$.parent=this;A.appendChild($.e);B.OI(S.canvas)}};i$.prototype.YQ=function(e,A){this.cd.style.height=A-30-4+"px";
this.cd.style.width=e+"px"};i$.prototype.f=function(){kc.prototype.f.call(this);this.Z_();i$.yv(this.B2,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
i$.yv=function(e,A){var A=ah.xv(A,null,"miniscale");for(var c=0;c<e.length;c++)e[c].WI(A[c])};function a2(e,A,a,p,N,i,Z,s,D){b5.call(this);
this.e=B.t("div","layeritem");this.an7=e;this.aiy=A;this.Ae=p;this.auw=s;this.abz=D;this.hV=B.t("div",i?"head selected":"head");
this.hV.setAttribute("style","height: "+40+"px");var n=B.t("div","headL"),S=B.t("div","headR"),F=15;
this.e.appendChild(this.hV);this.hV.appendChild(n);this.hV.appendChild(S);this.fq=B.t("div","eye");if(1<B.V()&&B.V()<1.5)F=F/B.V();
this.fq.setAttribute("style","background-size: "+F+"px "+F+"px;");this.fq.style.opacity=Z?1:.2;if(A)n.appendChild(this.fq);
this.HV=B.t("div","thumb");if(p)this.HV.appendChild(p.canvas);n.appendChild(this.HV);this.qb=B.t("div","label");
if(a)this.qb.style.fontStyle="italic";this.qb.textContent=i1.get(N);n.appendChild(this.qb);var $=this.hV;
$.setAttribute("draggable","true");$.addEventListener("dragstart",function(m){m.dataTransfer.setData("Text","")},!1);
B.V3(this.hV,this.an5.bind(this));if(!a)this.hV.addEventListener("mouseup",this.axl.bind(this),!1)}a2.prototype=new b5;
a2.prototype.gh=function(e){var A=new k4(t.E.v,!0);A.G=this.auw;A.data=this.abz;A.data.name=e;this.S(A)};
a2.prototype.an5=function(e){var A=e.ctrlKey||e.metaKey,a=this.an7;if(A&&e.target==this.Ae.canvas){this.S(a2.Bx(this.aiy,a,e))}else{var p=new k4("click",!0);
p.data={g2:a,i5:e.target==this.fq,Vi:A};this.S(p)}};a2.prototype.axl=function(e){if(e.detail==2&&e.target==this.qb){var A=new kc.Jj(this.qb,this.gh.bind(this))}};
a2.Bx=function(e,A,a){var p=0;if(a.shiftKey)p++;if(a.altKey)p+=2;var N=new k4(t.E.v,!0);N.G=q.aN;if(e){if(-5<A&&A<0){N=new k4(t.E.wH,!0);
N.data=q.ns.acg(p,["RGB","Rd","Grn","Bl"][-1-A])}else N.data={d:"fromchannel",U9:[A,0,p]}}else N.data={d:"frompath",U9:[A,0,p]};
return N};function dn(){kc.call(this,[8,9],!1,"---panels/paths",kc.oy.W5);this.Bo=null;this.Zg=null;
this.cd=B.t("div","lpbody scrollable");this.cd.style.marginTop="4px";this.oT=B.t("div","lpfoot");this.xa.appendChild(this.cd);
this.xa.appendChild(this.oT);this.xa.addEventListener("click",this.a6o.bind(this),!1);this.Es=[];this.h("click",this.Fj,this);
this.B2=[];i$.BH(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.B2,this.oT,this.D5.bind(this),this.$P.bind(this))}dn.prototype=new kc("");
dn.prototype.D5=function(e,A){var a=i$.bW(this.B2,e),p;if(a<2){p=new k4(t.E.wH,!0);p.data=q.X2.R8(a)}else if(a==2)p=a2.Bx(!1,null,e);
else if(a==3){p=new k4(t.E.wH,!0);p.data={_h:"make",h2:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(a>3){var p=new k4(t.E.v,!0);
p.G=q.gS;p.data={d:"pathedit",dy:["new","del"][a-4],aaY:A}}this.S(p)};dn.prototype.$P=function(e){this.D5(e,!0)};
dn.prototype.gq=function(c){var e=this.Es,A=e[c];if(A==null){var a=B.t("canvas");A=a.getContext("2d");
e.push(A)}return A};dn.prototype.a6o=function(e){if(e.target==this.cd){var A=this.Zg;A.Lj=[];A.AH=[];
A.W$=!0;A.De=!0}};dn.prototype.Fj=function(e){var A=e.data.g2,a=this.Zg,p=e.data.Vi,N=0,i,Z;if(A<0){N=-1-A;
i=a.Lj;Z=a.AH}else{var s=a.sz()[0];for(var c=0;c<s.length;c++){var D=s[c].g2;if(D==A)break;if(D>=0)N++}i=a.AH;
Z=a.Lj}if(p){var n=i.indexOf(N);if(n==-1)i.push(N);else i.splice(n,1)}else{while(i.length!=0)i.pop();
while(Z.length!=0)Z.pop();i.push(N)}a.W$=!0;a.De=!0};dn.prototype.fp=function(){this.Z_()};dn.prototype.OM=function(e){this.Zg=e;
this.Z_()};dn.prototype.Z_=function(){var e=this.Zg,A=this.cd;B.XK(A);if(e==null||!B.ND(A))return;var a=e.m,p=e.n,N=new dE(0,0,a,p),i=this.Bo=e.u.$n.slice(0),Z=i[0]+i[1]+i[2],s=Math.round(34*B.V()),D=s;
if(a>p)D=Math.round(D*p/a);else s=Math.round(s*a/p);var n=e.sz(),S=n[0];for(var c=0;c<S.length;c++){var F=S[c],$=this.gq(c);
j.ki.adA($,s,D,N,F.add.vmsk);var m=new a2(F.g2,!1,F.g2>=0,$,F.name,n[1].indexOf(c)!=-1,!1,q.gS,{d:"pathedit",dy:"rnm",g2:F.g2});
m.parent=this;A.appendChild(m.e);B.OI($.canvas)}};dn.prototype.YQ=function(e,A){this.cd.style.height=A-30-4+"px";
this.cd.style.width=e+"px"};dn.prototype.f=function(){kc.prototype.f.call(this);this.Z_();i$.yv(this.B2,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function fW(e){kc.call(this,[9,e?4:5],!1,"---panels/"+(e?"character":"paragraph"),e?kc.oy.a4X:kc.oy.aAb);
this.xa.setAttribute("style","min-width:240px;");this.axy=e;this.VJ=null;this.w7=null}fW.prototype=new kc("");
fW.prototype.VM=function(){this.VJ=new aY;var e=this.VJ,A=this.xa;e.parent=this;if(this.axy){var a=B.t("div","marged");
A.appendChild(a);a.appendChild(e.LT.e);A.appendChild(B.t("hr"));var p=B.t("div","marged");A.appendChild(p);
p.appendChild(e.n5.e);p.appendChild(e.jE.e);var N=B.t("div","marged");A.appendChild(N);N.appendChild(e.Wk.e);
N.appendChild(e.NA.e);A.appendChild(B.t("hr"));var i=B.t("div","marged");A.appendChild(i);i.appendChild(e.cg.e);
i.appendChild(e.c2.e);var Z=B.t("div","marged");A.appendChild(Z);Z.appendChild(e.VF.e);Z.appendChild(e.L3.e);
Z.appendChild(e.n3.e);A.appendChild(B.t("hr"));var s=B.t("div","marged");A.appendChild(s);s.appendChild(e.LX.e);
s.appendChild(e.cA.e);s.appendChild(e.mB.e);s.appendChild(e.Kh.e);s.appendChild(e.RM.e);s.appendChild(e.aI.e);
s.appendChild(e.SJ.e);s.appendChild(e.CZ.e)}else{var a=B.t("div","marged");A.appendChild(a);a.appendChild(e.Qf.e);
a.appendChild(e.Ml.e);a.appendChild(e.MA.e);a.appendChild(e.als.e);a.appendChild(e.a4L.e);a.appendChild(e.aqO.e);
a.appendChild(e.atn.e);A.appendChild(B.t("hr"));var p=B.t("div","marged");A.appendChild(p);p.appendChild(e.pA.e);
p.appendChild(e.Ui.e);p.appendChild(e.Cc.e);A.appendChild(B.t("hr"));var N=B.t("div","marged");A.appendChild(N);
N.appendChild(e.ea.e);N.appendChild(e.Dd.e);N.appendChild(e.P3.e);N.appendChild(e.qa.e)}};fW.prototype.fp=function(){if(!B.ND(this.xa))return;
if(this.VJ==null){this.VM();var e=this.w7;if(e)this.VJ.z(e.ZG,e.de,e.Uw);this.VJ.f()}};fW.prototype.f=function(){kc.prototype.f.call(this);
if(this.VJ)this.VJ.f()};fW.prototype.Mv=function(e,A){this.w7=e;if(A!=ac.xh&&A!=ac.yq&&A!=ac.fD&&A!=ac.UN)return;
if(this.VJ)this.VJ.z(e.ZG,e.de,e.Uw)};function j5(){kc.call(this,[9,13],!1,"---panels/glyphs",kc.oy.arY);
this.w7=null}j5.prototype=new kc("");j5.prototype.VM=function(){this.VJ=new aY;this.VJ.parent=this;this.a6G=null;
this.as9=null;this.f0=null;this.avY=null;this.B0=Math.round(290*B.V());this.hh=45;this.a3F=4;this.a5o=this.Se.bind(this);
this.a8r=0;this.h7=new el(null,["Hi","Hello"]);this.h7.h(t.E.A,this.Se,this);var e=this.ol=new c$("-",null,null,!0);
e.h("click",this.aw7,this);var A=this.aaw=new c$("+",null,null,!0);A.h("click",this.aw7,this);this.A4=new a0(!1);
this.A4.h(t.E.A,this.rz,this);this.A4.e.style.height=250+"px";var a=this.d4=B.t("div","form padded");
this.xa.appendChild(a);a.appendChild(this.VJ.LT.e);B.jA(a);a.appendChild(this.h7.e);a.appendChild(e.e);
a.appendChild(A.e);this.xa.appendChild(this.A4.e)};j5.prototype.YQ=function(e,A){if(this.SB==e||this.VJ==null)return;
this.SB=e;this.B0=Math.floor((e-13)*B.V());this.d4.setAttribute("style","width:"+this.B0/B.V()+"px;");
this.A4.e.style.height=A-73+"px";this.Se()};j5.prototype.rz=function(e){var A=this.a9J(),a=Math.round(this.B0/A);
A/=B.V();var p=this.A4.b()[0]*a*this.a3F,N=this.A4.aac();p+=Math.floor(N.y/A)*a;p+=Math.floor(N.x/A);
var i=this.f0[this.h7.b()];if(p>=i.length)return;var Z=i[p],s=this.avY[Z],D=new k4(t.E.v,!0);D.G=q.L1;
if(s.w0.length==0)D.data={d:"insertGlyph",Z:p+1};else D.data={d:"insertText",Z:String.fromCodePoint(s.w0[0])};
this.S(D)};j5.prototype.aw7=function(e){var A=1.2;if(e.target==this.ol){if(this.hh>20)this.hh/=A}else{if(this.hh<100)this.hh*=A}this.Se()};
j5.prototype.fp=function(){this.Mv(this.w7)};j5.prototype.Mv=function(e,A){this.w7=e;if(!B.ND(this.xa))return;
if(this.VJ==null)this.VM();this.VJ.z(e.ZG,e.de,e.Uw);var a=e.ZG,p=a.JH.Font,D=0;if(p==null)return;var N=a.eu[p].Name;
if(this.a6G==N)return;var p=e.de.as(N);if(p==null)return;var i=p.maxp.numGlyphs,Z=this.avY=new Array(i);
for(var c=0;c<i;c++)Z[c]={w0:[]};var s=Date.now(),n=new Uint8Array(1048575);for(var c=0;c<1048575;c++){var S=Typr.U.codeToGlyph(p,c);
if(S!=0&&S<i){n[c]=1;if(Z[S].w0.length==0)D++;Z[S].w0.push(c)}}var F=j5.Ii,$=[];for(var c=0;c<F.length;
c++)$.push([]);for(var S=1;S<i;S++){$[0].push(S);var m=Z[S].w0[0];if(m==null){continue}for(var J=1;J<F.length;
J++){var w=F[J].Xm;for(var c=0;c<w.length;c+=2)if(w[c]<=m&&m<=w[c+1]){$[J].push(S);break}}}this.f0=$;
var f=[];for(var c=0;c<F.length;c++)f.push(F[c].S_+" ("+$[c].length+")");var b=this.h7.b();this.h7.z8(f);
this.h7.z(b);this.a6G=N;this.as9=p;this.Se()};j5.prototype.a9J=function(e){var A=Math.floor(this.B0/this.hh);
return Math.floor(this.B0/A)};j5.prototype.Se=function(e){if(!B.ND(this.xa)||this.f0==null)return;var A=this.f0[this.h7.b()],a=A.length,p=this.as9,N=Typr.U,i=this.a9J(),Z=i,s=Z*.8,D=Z*.8/p.head.unitsPerEm,n=[],S=Math.floor(this.B0/i),F=Math.ceil(a/S),$=this.a3F,m=Date.now();
for(var J=0;J<F;J+=$){var w=B.t("canvas"),f=w.getContext("2d");w.width=i*S;w.height=Z*$;f.fillStyle="white";
f.fillRect(0,0,S*i,Z*$);for(var b=0;b<$;b++){for(var L=0;L<S;L++){var c=A[(J+b)*S+L];if(c==null)break;
var C=N.glyphToPath(p,c),M=j.p.i9(C.crds);f.fillStyle="#252525";if(M.QP()){var y=p.hmtx,Q=[],V=170;for(var k in y)Q.push(k);
var E=y[Q[0]][c],_=y[Q[1]][c],v=Math.max(E,_);C={cmds:"M L M L M L".split(" "),crds:[0,0,v,0,0,-V,0,V,v,-V,v,V]};
M.m=v;M.x=0;f.strokeStyle="rgba(0,255,0,1)"}f.beginPath();var R=L*i+(i-M.m*D)*.5-M.x*D,h=b*Z+s;f.translate(R,h);
f.scale(D,-D);N.pathToContext(C,f);f.scale(1/D,-1/D);f.translate(-R,-h);M.QP()?f.stroke():f.fill()}}f.beginPath();
for(var L=0;L<S;L++){var P=L*i+i+.5;f.moveTo(P,0);f.lineTo(P,Z*$)}for(var b=0;b<$;b++){var H=b*Z+Z+.5;
f.moveTo(0,H);f.lineTo(S*i,H)}f.strokeStyle="rgba(0,0,0,0.3)";f.stroke();n.push(w)}this.A4.q0(n,null,i*S,Z*$)};
j5.Ii=[{S_:"All Glyphs"},{S_:"Basic Latin, Latin 1",Xm:[0,127,128,143]},{S_:"Latin Extended-A",Xm:[256,383]},{S_:"Latin Extended-B",Xm:[384,591]},{S_:"Punctuations",Xm:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{S_:"Greek",Xm:[880,1023]},{S_:"Cyrillic",Xm:[1024,1279]},{S_:"Hebrew",Xm:[1424,1535]},{S_:"Arabic",Xm:[1536,1791]},{S_:"Emoji",Xm:[9728,10095,127744,129535]}];
function i5(){kc.call(this,[13,0],!1,null,kc.oy.V9);this.PO=0;this.a48=0;this.w7=null}i5.prototype=new kc("");
i5.prototype.VM=function(){if(!B.ND(this.xa)||this.O1)return;var e=B.t("div","flexrow padded");this.xa.appendChild(e);
var A=B.t("div");e.appendChild(A);this.O1=[];for(var c=0;c<2;c++){var a=new dH;this.O1.push(a);a.h("click",this.a3E,this);
A.appendChild(a.e)}this.vQ=new dZ(192);console.log("hsb picker");this.vQ.h(t.E.A,this.E6,this);this.dl=new hp;
this.dl.parent=this;e.appendChild(this.vQ.e);this.Mv(this.w7,ac.xh)};i5.prototype.a3E=function(e){var A=e.currentTarget,a=this.O1.indexOf(A);
if(a==this.PO){this.dl.Fc(a)}else{this.PO=a;this.Se()}};i5.prototype.E6=function(e){var A=this.vQ.b();
this.vQ.z(A);var a=Math.round(A.o*255)<<16|Math.round(A.J*255)<<8|Math.round(A.k*255),p=new k4(t.E.L,!0);
p.data={d:t.c.iK,hP:ac.V9,dy:this.PO,Z:a};this.S(p);this.a48=Date.now()};i5.prototype.Se=function(){if(this.dl==null)return;
var e=this.w7,A=this.PO,a=[e.lM,e.dG];for(var c=0;c<2;c++){var p=this.O1[c],N=p.e.style;p.Ti(a[c]);if(c==A)N.filter="drop-shadow(0 0 1px #000000)"}var i=a[A];
if(Date.now()-this.a48>100)this.vQ.z({o:(i>>>16)/255,J:(i>>>8&255)/255,k:(i&255)/255})};i5.prototype.Mv=function(e,A){this.w7=e;
if(this.dl==null)return;if(A==ac.xh||A==ac.V9){this.dl.a6q(e.lM,e.dG);this.Se()}};i5.prototype.OM=function(){this.VM()};
i5.prototype.fp=function(){this.VM();this.Se()};function d2(){kc.call(this,"CSS",!1,"---panels/css",kc.oy.CSS);
this.gJ=null;var e=B.t("div","padded");this.xa.appendChild(e);this.Oc=B.t("textarea");B.SU(this.Oc);
e.appendChild(this.Oc)}d2.prototype=new kc("");d2.prototype.YQ=function(e,A){if(this.SB==e)return;this.SB=e;
this.Oc.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(e-10)+"px; height:"+(A-10)+"px")};
d2.prototype.OM=function(e){this.gJ=e;this.Se()};d2.prototype.Mv=function(e,A){if(A==ac.fD)this.Se()};
d2.prototype.Se=function(){var e=this.gJ;if(e==null||e.g.length==0)return;if(!B.ND(this.xa))return;var A=e.B[e.g[0]],a=CSS.asz(A,e);
if(a.length!=0)this.Oc.value=a.join(";\n")+";";else this.Oc.value=""};d2.prototype.fp=function(){this.Se()};
function a1(){kc.call(this,[9,6],!1,"---panels/info",kc.oy.auF);this.xa.setAttribute("style","min-width:240px;");
this.gJ=null;this.w7=null;var e=this.ut=[];for(var A=0;A<3;A++){var a=B.t("div","marged row");this.xa.appendChild(a);
var p=B.t("div","cell");p.setAttribute("style","width:10em");a.appendChild(p);var N=B.t("div","cell");
N.setAttribute("style","width:10em");a.appendChild(N);for(var c=0;c<(A==2?3:4);c++){var i=new bQ("");
e.push(i);i.z(0);i.e.style.padding="0";var Z=A!=1||c<2?p:N;Z.appendChild(i.e);B.jA(Z)}if(A<2)B.lk(this.xa)}this.dj=e[4];
this.Yb=e[5];this.m4=e[6];this.D6=e[7]}a1.prototype=new kc("");a1.prototype.D1=function(e,A,a,p,N){if(!B.ND(this.xa)||e==null)return;
var i=e.u.FT(N.x,N.y),Z=new k7(Math.floor(i.x),Math.floor(i.y));if(!N.x2){var s=0,D=0,n=0,S=0,F=this.ut;
if(!N.x2&&!e.a77()&&new dE(0,0,e.m-1,e.n-1).QX(Z)){var $=e.WR(),c=e.m*Z.y+Z.x<<2;s=$[c+0];D=$[c+1];n=$[c+2];
S=$[c+3]}F[0].z("R: "+s);F[1].z("G: "+D);F[2].z("B: "+n);F[3].z("A: "+S);var m=j.Nm(s,D,n);F[8].z("H: "+Math.round(m.Ps*360)+"\xB0");
F[9].z("S: "+Math.round(m.PV*100)+"%");F[10].z("B: "+Math.round(m.k*100/255)+"%")}var J=e.u.N>1?new k7(i.x,i.y):Z;
this.dj.z("X: "+j.qC.Wa(J.x,e.l5,a,e.m));this.Yb.z("Y: "+j.qC.Wa(J.y,e.l5,a,e.n));this.jq()};a1.prototype.jq=function(){var e=this.gJ,A=this.w7,a=0,p=0;
if(e&&A){if(e.u.IT){a=e.u.IT.m;p=e.u.IT.n}else if(e.P){a=e.P.rect.m;p=e.P.rect.n}a=j.qC.Wa(Math.abs(a),e.l5,A,e.m);
p=j.qC.Wa(Math.abs(p),e.l5,A,e.n)}this.m4.z(i1.get([12,41]).charAt(0)+": "+a);this.D6.z(i1.get([12,42]).charAt(0)+": "+p)};
a1.prototype.f=function(){kc.prototype.f.call(this);this.jq()};a1.prototype.OM=function(e,A,a){this.gJ=e;
this.w7=a;this.jq()};function aB(){kc.call(this,[9,1],!1,"---panels/layers",kc.oy._b);this.KS=null;this.e_=[];
this.M0=null;this.IZ=null;this.hV=B.t("div","lphead");this.cd=B.t("div","lpbody scrollable");this.cd.addEventListener("scroll",this.ad5.bind(this),!1);
this.oT=B.t("div","lpfoot");var e=this.aha=B.t("span");e.setAttribute("style","display:inline-block; height:26px");
this.hV.appendChild(e);this.Ft=new el(null,im.Wj,im.E_);this.Ft.h(t.E.A,this.ays,this);this.hV.appendChild(this.Ft.e);
this.O8=new g0([12,0],0,100,"%",0);this.O8.h(t.E.A,this.a2Q,this);this.O8.parent=this;this.hV.appendChild(this.O8.e);
this.cS=new hj([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.cS.h(t.E.A,this.aco,this);this.hV.appendChild(this.cS.e);this.ZJ=new g0([12,26],0,100,"%",0);this.ZJ.h(t.E.A,this.arj,this);
this.ZJ.parent=this;this.hV.appendChild(this.ZJ.e);this.B2=[];this.BH();this.xa.appendChild(this.hV);
this.xa.appendChild(this.cd);this.cd.addEventListener("dragover",function(N){N.preventDefault()},!1);
this.cd.addEventListener("dragenter",B.aL,!1);this.cd.addEventListener("drop",this.aoY.bind(this),!1);
this.xa.appendChild(this.oT);this.xa.addEventListener("contextmenu",B.aL,!1);this.h("rclick",this.a2J,this);
var A=function(N,i,c){return{$x:this.$M[c]==1}}.bind(this);this.alH=new fx([{name:[0,6],C:A},{name:[14,10],C:A},{name:[6,57,2],C:A,ks:!0},{name:"Long-tap as a right click",C:A,ks:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",C:function(){return{$x:jo.vL==0,C:!0}}},{name:"Thumbnails by Document",C:function(){return{$x:jo.vL==1,C:!0}}}]);
this.alH.h("select",this.au$,this);this.$M=[0,1,1,0];var a=window.localStorage;if(a){var p=a.getItem("lpOpt");
if(p){p=JSON.parse(p);this.$M=p[0];jo.PD=p[1];jo.vL=p[2]}}this.au$()}aB.prototype=new kc("");aB.prototype.zU=function(){if(this.anD)return;
var e=aX.Ia(!0),A=aX.yl(!0);this.anD=new fx(e,A);var e=[{name:[14,10]},{name:[14,11],ks:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],ks:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",C:function(a){return{C:a.B[a.g[0]].add.SoLd!=null}},ks:!0},{name:[6,8],C:aB.axg},{name:[6,34],C:function(a){var p=a.B[a.g[0]];
return{C:p.add.lmfx!=null&&!p.yg()}}},{name:[6,40],ks:!0,C:function(a){var p=a.B[a.g[0]];return{C:p.add.TySh!=null}}},{name:"",ks:!0,C:function(a){var p=a.B[a.g[0]],N=p.add.TySh,i=N?N._t:null;
return{C:N!=null&&i.Curve==null,Wu:i1.get(N&&eG.y7(i)==0?[16,3,1]:[16,3,0])}}},aB.az$(!1),aX.ap$(),{name:[6,12,0],C:function(a){var p=a==null?0:a.g.length;
return{C:p!=0&&(p!=1||a.g[0]!=0),Wu:i1.get(p>1||p==1&&a.B[a.g[0]].yg()?[6,12,0]:[6,10])}}},{name:[6,12,1],ks:!0},{name:[13,0],sub:function(){var a=[];
for(var c=0;c<jZ.mD.length;c++)a.push({name:[13,1,c],ki:"#"+j.yj(jZ.mD[c])});return a}()}],A=[{Y:t.E.L,W:{d:t.c.Ch,NY:"layerstyle"}},{Y:t.E.v,G:q.aN,W:{d:"fromlayer",U9:[null,0,0]}},{Y:t.E.v,G:q._b,W:{d:u.$A}},{Y:t.E.L,W:{d:t.c.Ch,NY:"duplinto"}},{Y:t.E.v,G:q._b,W:{d:u.vR}},{Y:t.E.wH,W:{_h:"newPlacedLayer"}},{Y:t.E.v,G:q._b,W:{d:u.QV}},{Y:t.E.wH,W:{_h:"rasterizeLayer",h2:{classID:"rasterizeLayer",null:gb.o$("Lyr",!0)}}},{Y:t.E.v,G:q._b,W:{d:u.Rn}},{Y:t.E.v,G:q._b,W:{d:u.asK}},{Y:t.E.v,G:q.L1,W:{d:"switchPntPrgr"}},{Y:t.E.v,G:q._b,W:{d:u.Ta}},aX.anh(),{Y:t.E.wH,W:{_h:"mergeLayersNew",h2:{__name:"Merge Layers",classID:"Mrg2"}}},{Y:t.E.wH,W:{_h:"flattenImage"}},{sub:function(){var a=[];
for(var c=0;c<8;c++)a.push({Y:t.E.v,G:q._b,W:{d:u.Ye,apQ:c}});return a}()}];this.HP=new fx(e,A);var e=[{name:[6,45],C:function(a){var p=a.B[a.g[0]];
return{C:p.MH(a).$==null}}},{name:[6,47]}],A=[{Y:t.E.v,G:q._b,W:{d:u.EQ}},{Y:t.E.v,G:q._b,W:{d:u.pG}}];
this.aur=new fx(e,A);var e=[{name:"enab/disab",C:function(a){return{Wu:i1.get(a.B[a.g[0]].tR().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],C:function(a){return{C:a.VX(!1,!0)}}}],A=[{Y:t.E.v,G:q._b,W:{d:u.SM}},{Y:t.E.v,G:q._b,W:{d:u.xG}},{Y:t.E.v,G:q._b,W:{d:u.JN}}];
this.auR=new fx(e,A);var e=[{name:"enab/disab",C:function(a){return{Wu:i1.get(a.B[a.g[0]].MH(a).$.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],A=[{Y:t.E.v,G:q._b,W:{d:u.si}},{Y:t.E.v,G:q._b,W:{d:u.Or}}];
this.asq=new fx(e,A);var e=[{name:"enab/disab",C:function(a){return{Wu:i1.get(a.B[a.g[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],A=[{Y:t.E.v,G:q._b,W:{d:u.Ts}},{Y:t.E.v,G:q._b,W:{d:u.OQ}},{Y:t.E.v,G:q._b,W:{d:u.s$}}];
this.aqX=new fx(e,A);this.a5Y=new fx(aX.a5M(!0),aX.qz(!0));this.a3h=new fx(aX.Ia(),aX.yl())};aB.prototype.ad5=function(e){var A=this.cd.scrollTop-600;
for(var c=0;c<this.e_.length;c++){var a=this.e_[c],p=a.Rp;if(A<a.Rp)a.aby();if(a.Rp>A+this.Ps+600)break}};
aB.prototype.Gq=function(){return this.alH};aB.prototype.au$=function(e){var A=this.$M;if(e){var a=e.target.Yy(),c=a[0];
if(c<4)A[c]=1-A[c];else if(c<6){if(c==4&&jo.PD-10>=10)jo.PD-=10;if(c==5&&jo.PD+10<=200)jo.PD+=10;if(this.M0)this.M0.Xz=!0}else{if(c==6)jo.vL=0;
if(c==7)jo.vL=1;if(this.M0)this.M0.Xz=!0}var p=window.localStorage;if(p)p.setItem("lpOpt",JSON.stringify([A,jo.PD,jo.vL]))}if(A[0]==1)this.anH();
var N=[[{e:this.aha}],[this.Ft,this.O8],[this.cS,this.ZJ]];for(var c=0;c<3;c++)for(var i=0;i<N[c].length;
i++)N[c][i].e.style.display=A[c]==1?"inline-block":"none";this.YQ(this.SB,this.Ps)};aB.prototype.a80=function(){var e=this.sH;
if(e==null)return!1;if(e.b()){var A=this.Wr.b(),a=this.Gs[A].b();if(A==0)return a.indexOf(!0)!=-1;if(A==1)return a!=""}return!1};
aB.az$=function(e){var A=function(p){var N=p!=null&&p.g.length!=0&&p.B[p.g[0]].G0;return{$x:N,C:p!=null&&p._j(p.g[0]),W:{Y:t.E.wH,W:{_h:N?"ungroup":"groupEvent",h2:{classID:N?"Ungr":"GrpL",null:gb.o$("Lyr",!0)}}}}},a={name:[6,6,0],ks:!0,C:A};
if(e)a.hY=[g4.uJ,g4.YC,g4.IU];return a};aB.axg=function(e,A){if(e)for(var c=0;c<e.g.length;c++){var a=e.B[e.g[c]];
if(a.add.TySh||a.add.SoLd||a.add.SoCo||a.add.GdFl||a.add.PtFl)return{C:!0}}return{C:!1}};aB.prototype.aoY=function(e){B.aL(e);
var A=e.dataTransfer.getData("Text"),a=1,p=0;if(A==""){B.GF(e,this,this.IZ.indexOf(this.M0),p+(a>.5?0:1))}else if(A!="--panel"){var A=JSON.parse(A),N=A.lT;
if(N=="l")this.M$({d:u.gv,source:A.f9,target:p,mK:a})}};aB.prototype.a2J=function(e){var A=this.M0,a=e.data,N;
if(A.g.indexOf(a.j)==-1){var p={d:u.ml,j:e.target.I9.index,wq:a.os};this.M$(p)}if(A.g.indexOf(a.j)==-1)return;
this.zU();if(a.os==1){N=this.auR}else if(a.os==2){N=this.aqX}else if(a.os==3){N=this.asq}else if(a.os==4){N=this.aur}else if(a.os==5){N=this.anD}else{N=this.HP}N.f();
N.update(A);N.parent=this;var i=new k4(t.E.L,!0);i.data={d:t.c.OY,U7:N,x:a.QT.x+1,y:a.QT.y+1};this.S(i)};
aB.prototype.f=function(){kc.prototype.f.call(this);this.Ft.f();this.O8.f();this.cS.f();this.ZJ.f();
if(this.sH){this.sH.f();this.Gs[0].f()}if(this.M0)this.OM(this.M0);var e="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var c=0;c<this.B2.length;c++){var A=this.B2[c];A.WI(B.iE(e[c],null,"miniscale"));if(c==1||c==2){A.e.style.position="relative";
var a=B.t("img","gsicon");a.setAttribute("src",PIMG["tools/corner"]);a.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
A.e.appendChild(a)}}};aB.prototype.OM=function(e,A){if(e&&!e.Xz)return;if(e==null)B.LM(this.xa,"disabled");
else B.Xi(this.xa,"disabled");this.M0=e;this.IZ=A;if(this.KS!=null){B.XK(this.cd);this.KS=null;this.e_=[]}if(e==null)return;
var a=!1;for(var c=0;c<e.l8.length;c++)if(e.l8[c].MC)a=!0;this.KS=new jZ(e.root,this,e,{Dv:0,hp:!1},{ah6:a,a1Z:this.a80()},this.e_,0,new dE(0,0,e.m,e.n));
if(e.g.length==0||e.B[e.g[0]]==null)B.LM(this.hV,"disabled");else{B.Xi(this.hV,"disabled");if(e.g.length==1&&e.ew){var p=e.g[0];
for(var c=0;c<this.e_.length;c++){var N=this.e_[c];if(N.I9.index==p&&N.hV.scrollIntoView)N.hV.scrollIntoView({block:"nearest"})}}var i=e.B[e.g[0]];
if(i.yg()){this.Ft.z8([[15,10,27]].concat(im.Wj),[1].concat(im.E_));var Z=im.U6.indexOf(i.Mi);this.Ft.z(Z+1)}else{this.Ft.z8(im.Wj,im.E_);
var Z=im.U6.indexOf(i.Mi);this.Ft.z(Z)}this.O8.z(Math.round(100*i.opacity/255));this.cS.z([i.xF(0),i.xF(1),i.xF(2),i.xF(31)]);
var s=e.bK();this.Ft.Y7(!s);this.ZJ.Y7(!s);this.O8.Y7(!s);this.cS.Y7(!(s&&!i.xF(31)));this.ZJ.z(Math.round(100*(i.add.iOpa!=null?i.add.iOpa/255:1)))}this.ad5(null)};
aB.prototype.YQ=function(e,A){this.SB=e;this.Ps=A;var a=this.hV.getBoundingClientRect().height;if(55<a&&a<56)a=60.2;
var p=this.oT.getBoundingClientRect().height,N=A-(a+p+3);this.cd.style.height=N+"px";this.cd.style.width=e+"px"};
aB.prototype.ays=function(e){this.M$({d:u.FO,pL:this.Ft.b()})};aB.prototype.a2Q=function(e){this.M$({d:u.MN,pL:Math.round(255*this.O8.b()/100)})};
aB.prototype.aco=function(e){this.M$({d:u.kX,pL:[this.cS.b(),[0,1,2,31]]})};aB.prototype.arj=function(e){this.M$({d:u.Bf,pL:Math.round(255*this.ZJ.b()/100)})};
aB.prototype.vX=function(e){if(e.target==this.Wr)this.anH();var A=this.sH.b();if(A)B.Xi(this.cz,"disabled");
else B.LM(this.cz,"disabled");this.f();this.M0.Xz=!0;this.OM(this.M0);this.M0.Xz=!1};aB.prototype.anH=function(){var e=this.cz;
if(e==null){var A=this.aha,a=this.sH=new ie([0,6]);a.h(t.E.A,this.vX,this);A.appendChild(a.e);e=this.cz=B.t("span","disabled");
A.appendChild(e);this.Wr=new el(null,["Kind",[12,48]],[]);this.Wr.h(t.E.A,this.vX,this);var p=this.Gs=[new hj(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new fp(null,null,8)];
p[0].h(t.E.A,this.vX,this);p[1].h("input",this.vX,this)}B.XK(e);e.appendChild(this.Wr.e);e.appendChild(this.Gs[this.Wr.b()].e)};
aB.prototype.afC=function(e){this.zU();this.avG(e,this.a5Y)};aB.prototype.a0h=function(e){this.zU();
this.avG(e,this.a3h)};aB.prototype.avG=function(e,A){var a=e.currentTarget;if(B.ND(A.e))return;e.stopPropagation();
var p=a.getBoundingClientRect();A.f();A.update(this.M0);A.parent=this;var N=new k4(t.E.L,!0);N.data={d:t.c.OY,U7:A,x:p.left,y:p.top,a82:!0};
this.S(N)};aB.prototype.aqH=function(e){this.M$({d:u.amC})};aB.prototype.ax5=function(e){this.M$({d:this.M0.g.length>1?u.Aw:u.aP})};
aB.prototype.arn=function(e){this.M$({d:u.g1})};aB.prototype.am_=function(e){var A=this.M0;if(A.g.length==0)return;
var a=A.B[A.g[0]],p=a.os;this.M$({d:p<=0?a.Bp?u.OQ:u.vR:p==3?u.Or:u.xG})};aB.prototype.aau=function(e){this.M$({d:u.pE})};
aB.prototype.M$=function(e){var A=new k4(t.E.v,!0);A.data=e;A.G=q._b;this.S(A)};aB.prototype.BH=function(){var e=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],A=[this.aau,this.a0h,this.afC,this.aqH,this.ax5,this.arn,this.am_],a=this.a51.bind(this);
for(var c=0;c<e.length;c++){var p=new c$("W",!1,e[c]);this.B2.push(p);B.V3(p.e,A[c].bind(this));this.oT.appendChild(p.e);
if(c>=e.length-3){var N=p.e;N.addEventListener("drop",a,!1);N.addEventListener("dragover",function(i){i.preventDefault()},!1);
N.addEventListener("dragenter",B.aL,!1)}}};aB.prototype.a51=function(e){B.aL(e);var A=0,a=this.B2;while(a[A].e!=e.currentTarget)A++;
a[A].mq();var p=e.dataTransfer.getData("Text");if(p=="")return;var p=JSON.parse(p);if(p.lT=="l"){var N={d:[u.Aw,u.$A,u.vR][A-4]};
if(this.M0.g.indexOf(p.f9)==-1)N.j=p.f9;this.M$(N)}if(A!=6)return;if(p.lT=="sm"||p.lT=="s"){var i=new k4(t.E.v,!0);
i.G=q.fg;i.data={d:p.lT=="sm"?"st_clear":"st_delsingle",j:p.f9,f9:p.ra};this.S(i)}if(p.lT=="fm"||p.lT=="f"){this.M$({d:p.lT=="fm"?u.pG:u.lN,src:p.f9,ra:p.ra})}if(p.lT=="m"||p.lT=="vm"){this.M$({d:p.lT=="m"?u.xG:u.OQ,j:p.f9})}};
function jZ(e,A,a,p,N,i,Z,s){b5.call(this);this.parent=A;this.Rp=Z;this.I9=e;i.push(this);this.oO=a;
this.pI=p;var D=A.cd,n=e.j,S=a.g.indexOf(e.index)!=-1,J=null;this.hV=B.t("div",S?"head selected":"head");
if(n.add.artb!=null){B.LM(this.hV,"artb");s=n.jP()}var F=this.a6j=Math.floor(10+n.avl/B.V()),$="height: "+F+"px;";
if(S&&N.ah6)$+="background-color:rgba(255,50,50,0.4);";this.hV.setAttribute("style",$);this.Xc=s;var m=this.ayC=this.atB.bind(this),w=N.a1Z&&!this.anY();
if(!w){if(e.depth!=0){D.appendChild(this.hV);Z+=F}if(n.Ma()||n.$f())if(n.lu()){J=this.a9o=B.t("div","lpineck");
D.appendChild(J);if(n.Ma()){J.addEventListener("contextmenu",m,!1);var f=new aB.vi(i1.get([12,1]),"sm","layerstyle",e.depth,0,null);
Z+=21;f.parent=this;J.appendChild(f.e);var b=n.add.lmfx,L=b.masterFXSwitch.v;f.d8(L);for(var c=0;c<iF.order.length;
c++){var C=b[iF.RU[c]].v;if(C.length==0)continue;for(var M=0;M<C.length;M++){var f=new aB.vi(i1.get(iF.names[c]),"s","layerstyle",e.depth,1,[c,M]);
Z+=21;f.d8(L&&C[M].v.enab.v);f.parent=this;J.appendChild(f.e)}}}if(n.$f()){var y=n.MH(a).$;if(y)this.wY=B.t("div","thumb");
var f=new aB.vi(i1.get([12,55]),"fm",null,e.depth,0,-1,y?this.wY:null);Z+=y?F:21;f.parent=this;J.appendChild(f.e);
this.a1N=f.e;this.a1N.addEventListener("contextmenu",m,!1);var b=n.add.SoLd.filterFX.v,Q=b.filterFXList.v,L=b.enab.v;
f.d8(L);for(var c=Q.length-1;c>=0;c--){var k=Q[c].v,E=hZ.tp(k);if(a7.Dn[E])E=a7.Dn[E];var _=k.Nm.v;if(hZ.names[E])_=i1.get(hZ.names[E]);
if(a7.names[E])_=i1.get(a7.names[E]);var v="afw_"+E,f=new aB.vi(_,"f",v,e.depth,1,c);Z+=21;f.d8(L&&k.enab.v);
f.parent=this;J.appendChild(f.e)}}}}var V=n.add.lclr;if(V==null)V=0;V=V==0?p.Dv:jZ.mD[V];this.a9a=V;
if(n.yg()&&(n.add.lsct==ez.MV||N.a1Z)){var R={Dv:V,hp:p.hp||n.xF(31)};for(var c=e.children.length-1;
c>=0;c--){var h=new jZ(e.children[c],A,a,R,N,i,Z,s);Z=h.ago}}this.ago=Z}jZ.prototype=new b5;jZ.mD=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
jZ.prototype.aby=function(){if(this._R)return;var e=this.I9,A=e.j,a=this.oO,p=this.pI,F=!0,R=!1;e.HF(a,this.Xc,!0);
var N=B.t("div","headL"),i=B.t("div","headR");this.hV.appendChild(N);this.hV.appendChild(i);var Z=this.hV;
Z.setAttribute("draggable","true");Z.addEventListener("dragstart",this.ES.bind(this),!1);Z.addEventListener("drop",this.Mb.bind(this),!1);
Z.addEventListener("dragover",this.zt.bind(this),!1);Z.addEventListener("dragenter",B.aL,!1);Z.addEventListener("dragleave",this.Zs.bind(this),!1);
var s=[],D=[null,null,null,null],n=A.gi(),S=e;while(S.parent){S=S.parent;n=n&&S.j.gi()}if(A.G0){for(var c=e.index-1;
c>=0;c--){var $=a.B[c];if(!$.G0){F=$.gi();break}}}var m=A.gi()?n&&F?2:1:0;this._R=B.t("div");var J=B.t("div",m==0?"sqr":"eye");
this._R.appendChild(J);J.style.opacity=[.12,.33,1][m];var w=B.t("div","space");this.qb=B.t("div","label");
this.qb.setAttribute("style","max-width:calc(100% - "+(96+e.depth*20)+"px); margin-top:"+(this.a6j-19)/2+"px;");
this.qb.textContent=A.getName();this.ow=B.t("div","lock");this.aaZ=B.t("div","lrfx");this.Aa=B.t("div","arfx");
var f=this.ayC,b=this.a1g.bind(this);this.hV.addEventListener("click",b,!1);this.hV.addEventListener("contextmenu",f,!1);
var L=this.a9a,C=[L>>16,L>>8&255,L&255];for(var c=0;c<3;c++){C[c]=Math.round(.5*C[c]+.5*220)}this._R.setAttribute("style","background-color:rgba("+C.join(",")+","+(L==0?0:1)+");");
var M=this.atd.bind(this);this._R.addEventListener("mousedown",M,!1);this._R.addEventListener("mouseover",M,!1);
this.Aa.addEventListener("click",this.akY.bind(this),!1);s[0]=this._R;s[1]=w;s[10]=this.qb;if(A.yg()){var y=B.t("div","arrow"),Q=B.t("div","folder");
this.sO(Q);y.addEventListener("click",this.aoD.bind(this),!1);s[2]=y;s[3]=Q;y.className=A.add.lsct==ez.MV?"open":"closed"}else{this.HV=B.t("div","thumb");
s[5]=this.HV;jZ.AO(this.HV,A.b8);this.sO(this.HV);if(a7.get(A.add))B.LM(A.b8.canvas,"gsicon")}var k=A.tR();
if(k){this.oN=B.t("div","chain");this.Pa=B.t("div","thumb");jZ.AO(this.Pa,A.EF,!0);this.oN.style.opacity=k.Fv?1:0;
this.oN.addEventListener("click",this.a5W.bind(this),!1)}var E=A.c7()&&A.add.vmsk;if(A.add.vmsk&&!E){this.n1=B.t("div","chain");
this.TL=B.t("div","thumb");jZ.AO(this.TL,A.MI,!0);this.n1.style.opacity=A.add.vmsk.Fv?1:0;this.n1.addEventListener("click",this.anG.bind(this),!1)}if(A.$f()&&A.lu()&&A.MH(a).$){jZ.AO(this.wY,A.mC,!1);
this.sO(this.wY);this.wY.addEventListener("click",b,!1);this.wY.addEventListener("contextmenu",f,!1)}if(e.index==a.g[0]){var _=A.os,v;
if(_<=0)v=this.HV;else if(_==1)v=this.Pa;else if(_==3)v=this.wY;if(v)v.className="thumb active";if(A.Bp&&this.TL)this.TL.className="thumb active"}w.setAttribute("style","width:"+Math.max(0,e.depth-1)*18+"px");
var V=A.add.lspf!=null&&A.add.lspf!=0||p.hp;this.ow.style.opacity=A.xF(31)?1:.5;s[4]=A.G0?B.t("div","clipp"):null;
s[6]=k?this.oN:null;s[7]=k?this.Pa:null;s[8]=A.add.vmsk&&!E?this.n1:null;s[9]=A.add.vmsk&&!E?this.TL:null;
var h=A.g0,P=a.g;if(h!=0)for(var c=0;c<P.length;c++)if(a.B[P[c]].g0==h){R=!0;break}if(R){D[0]=B.t("div",A.Cd?"link":"linkX");
D[0].addEventListener("click",this.a7_.bind(this),!1)}D[1]=V?this.ow:null;D[2]=A.Ma()?this.aaZ:null;
D[3]=A.Ma()||A.$f()?this.Aa:null;this.Aa.className=A.lu()?"arfx open  gsicon":"arfx closed  gsicon";
var H=s;for(var c=0;c<H.length;c++)if(H[c])N.appendChild(H[c]);H=D;for(var c=0;c<H.length;c++)if(H[c])i.appendChild(H[c])};
jZ.AO=function(e,A,a){var p=A.canvas;B.OI(p);if(a)e.setAttribute("draggable","true");e.appendChild(p);
p.setAttribute("style",p.getAttribute("style")+"; pointer-events:none")};jZ.prototype.sO=function(e){B.V3(e,function(A){if(this.parent.$M[3]==0)return;
B._Y(A);B.xq(document.body,function(){clearTimeout(this.agX)}.bind(this));this.agX=setTimeout(function(){var a=new k4("rclick",!0);
a.data={j:this.I9.index,os:this.os(A),QT:B.vT(A,document.body)};this.S(a)}.bind(this),600)}.bind(this))};
jZ.nX=function(e,A){var a=A.getBoundingClientRect();return(e.clientY-a.top)/a.height};jZ.prototype.ES=function(e){e.stopPropagation();
var A=e.target==this.Pa?"m":e.target==this.TL?"vm":"l";e.dataTransfer.setData("Text",JSON.stringify({lT:A,f9:this.I9.index}))};
jZ.prototype.Zs=function(e){B.aL(e);this.Vo()};jZ.prototype.Mb=function(e){B.aL(e);this.Vo();var A=e.dataTransfer.getData("Text"),a=this.parent.M0,p=jZ.nX(e,this.hV),N=this.I9.index;
if(p>.8){var i=!0,Z=a.root.WG(N);while(Z.parent!=null){var s=Z.parent,D=s.children;if(D.indexOf(Z)!=0)i=!1;
Z=Z.parent}if(i){N=0;p=1}}if(A==""){B.GF(e,this,this.parent.IZ.indexOf(a),N+(p>.5?0:1))}else if(A!="--panel"){var A=JSON.parse(A),n=A.lT;
if(n=="l")this.M$({d:u.gv,source:A.f9,target:N,mK:p});else if(n=="m"||n=="vm")this.M$({d:n=="m"?u.atF:u.N6,src:A.f9,Gt:N});
else jZ.aqG(e,A,this)}};jZ.aqG=function(e,A,a,p){var N=A.lT,i=a.I9.index,Z=A.f9;if(N=="s"||N=="sm")a.M$({d:u.qr,src:Z,Gt:i,ra:A.ra});
if(N=="f"||N=="fm")a.M$({d:u.axr,src:Z,Gt:i,ra:A.ra,wo:p==null?0:p})};jZ.prototype.zt=function(e){B.aL(e);
var A=jZ.nX(e,this.hV),a=this.I9.j.yg()&&.5<A&&A<.8;this.Vo();var p="inset 0 "+(a?0:A>.5?-3:3)+"px "+(a?"5px black":"0 rgba(0,0,0,0.5)");
this.hV.style.boxShadow=p};jZ.prototype.Vo=function(e){this.hV.style.boxShadow=""};jZ.asf=-1;jZ.sh=!1;
jZ.a8A=function(e){jZ.sh=!1;document.body.removeEventListener("mouseup",jZ.a8A)};jZ.prototype.atd=function(e){if(e.button!=0)return;
if(e.type=="mousedown"){jZ.sh=!0;document.body.addEventListener("mouseup",jZ.a8A,!1)}if(e.type=="mouseover"&&(!jZ.sh||jZ.asf==this.I9.index))return;
B.aL(e);this.M$({d:u.g9,j:this.I9.index});jZ.asf=this.I9.index};jZ.prototype.aoD=function(e){B.aL(e);
this.M$({d:u.a0M,j:this.I9.index})};jZ.prototype.a5W=function(e){this.M$({d:u.HW,j:this.I9.index})};
jZ.prototype.anG=function(e){this.M$({d:u.EZ,j:this.I9.index})};jZ.BC=0;jZ.prototype.gh=function(e){this.M$({d:u.GA,j:this.I9.index,name:e})};
jZ.prototype.akY=function(e){this.M$({d:u.a2G,j:this.I9.index})};jZ.prototype.a7_=function(e){this.M$({d:u.RW,j:this.I9.index})};
jZ.prototype.atB=function(e){if(e.button!=2&&!B.ai8(e))return;var A=this.os(e);if(A!=3&&e.currentTarget==this.a1N)A=4;
if(e.target==this.aaZ||e.currentTarget==this.a9o)A=5;var a=new k4("rclick",!0);a.data={j:this.I9.index,os:A,QT:B.vT(e,document.body)};
this.S(a)};jZ.prototype.os=function(e){var A=e.target,a=A;return a==this.TL?2:a==this.Pa?1:a==this.HV?0:a==this.wY?3:-1};
jZ.prototype.a1g=function(e){var A=e.target,m;if(A==this._R.firstChild||A==this.Aa||A==this.oN||A==this.n1||A.tagName&&A.tagName.toLowerCase()=="input")return;
var a=this.os(e),p=this.parent.M0,N=this.I9.index,i=p.B[N];if(A==this.ow){this.M$({d:u.kX,j:N,pL:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var Z=jZ.BC,s=Date.now()-Z<300;jZ.BC=Date.now();if(A==this.qb){if(s){this.hV.setAttribute("draggable","false");
var D=new kc.Jj(this.qb,this.gh.bind(this))}else this.M$({d:u.ml,j:N,wq:a,Sa:!0});return}if(e.button==0&&s){if(A==this.qb)return;
var n=new k4(t.E.v,!0),S=new k4(t.E.L,!0),F=new k4(t.E.wH,!0);if(a==0&&i.add.SoCo){var $=j.M.kq(i.add.SoCo.Clr.v);
S.data={d:t.c.Ch,NY:"colorpicker",Dv:$.o<<16|$.J<<8|$.k,og:function(f){var b=j.M.yN({k:f&255,J:f>>>8&255,o:f>>16&255});
b={classID:"null",Clr:{t:"Objc",v:b}};var L=new k4(t.E.v,!0);L.G=q._b;L.data={d:u.Rw,WD:[N],pZ:!0,Z:{$e:1,yJ:b}};
this.S(L)}.bind(this),Hy:!0}}else if(a==0&&(a7.get(i.add)||i.add.SoCo||i.add.GdFl||i.add.PtFl))S.data={d:t.c.t2,NY:kc.oy.LH};
else if(a!=0&&a!=-1)S.data={d:t.c.t2,NY:kc.oy.LH};else if(a==0&&i.add.SoLd)F.data={_h:"placedLayerEditContents",h2:{classID:"placedLayerEditContents"}};
else if(a==0&&i.add.TySh){n.G=q.L1;n.data={d:"editCurr",zK:N}}else S.data={d:t.c.Ch,NY:"layerstyle",j:N};
this.S(F.data?F:S.data?S:n);return}if(e.button!=0)return;if(a==1||a==3){var J=a==3?i.MH(p).$:i.tR();
m=J.MC?p.u.$n.join("")=="111"?1:2:0}var w={d:u.ml,j:N,wq:a,atZ:m,Sa:!0};this.M$(w)};jZ.prototype.M$=function(e){var A=new k4(t.E.v,!0);
A.data=e;A.G=q._b;this.S(A)};jZ.prototype.anY=function(){var e=this.I9.j,A=e.add,a=this.parent.Wr.b(),p=this.parent.Gs[a].b();
if(a==0){if(p[0]&&A.SoLd==null&&A.TySh==null&&e.JD())return!0;if(p[1]&&a7.get(A)!=null)return!0;if(p[2]&&A.TySh!=null)return!0;
if(p[3]&&A.vstk!=null)return!0;if(p[4]&&A.SoLd!=null)return!0;return!1}if(a==1)return e.getName().toLowerCase().indexOf(p.toLowerCase())!=-1};
aB.vi=function(e,A,a,p,N,i,Z){b5.call(this);this.abt=A;this.t9=a;this.index=i;this.e=B.t("div","styleitem");
this.hV=B.t("div","head");this.a2I=null;if(A=="f"){var s=this.a2I=B.t("div","headR");s.textContent="\u2699";
this.hV.appendChild(s)}this._R=B.t("div","eye gsicon");this.qb=B.t("div","label");this.e.appendChild(this.hV);
this.hV.appendChild(this._R);if(Z){this.Pa=Z;this.hV.appendChild(Z);this.hV.setAttribute("style","height: "+(26/B.V()+10)+"px")}this.qb.innerHTML=e;
this.e.setAttribute("style","margin-left: "+(24+p*16+N*22)+"px");this.hV.appendChild(this.qb);this._R.addEventListener("click",this.aaK.bind(this),!1);
var D=this.e;D.setAttribute("draggable","true");D.addEventListener("dragstart",this.ES.bind(this),!1);
if(!0){D.addEventListener("drop",this.Mb.bind(this),!1);D.addEventListener("dragover",this.zt.bind(this),!1);
D.addEventListener("dragenter",B.aL,!1);D.addEventListener("dragleave",this.Zs.bind(this),!1)}this.e.addEventListener("click",this.$Q.bind(this),!1)};
aB.vi.prototype=new b5;aB.vi.prototype.ES=function(e){e.stopPropagation();e.dataTransfer.setData("Text",JSON.stringify({lT:this.abt,f9:this.parent.I9.index,ra:this.index}))};
aB.vi.prototype.Zs=function(e){B.aL(e);this.Vo()};aB.vi.prototype.Mb=function(e){B.aL(e);this.Vo();var A=e.dataTransfer.getData("Text");
if(A=="")return;var A=JSON.parse(A);jZ.aqG(e,A,this.parent,this.index+(jZ.nX(e,this.hV)>.5?0:1))};aB.vi.prototype.zt=function(e){B.aL(e);
var A=jZ.nX(e,this.hV)>.5;this.Vo();var a="border-"+(A?"bottom":"top");this.hV.style[a]="0.2em solid rgba(0,0,0,0.5)"};
aB.vi.prototype.Vo=function(e){this.hV.style.border="none"};aB.vi.prototype.d8=function(e){this._R.style.opacity=e?1:.2};
aB.vi.prototype.$Q=function(e){var A=jZ.BC,a=Date.now()-A<300;jZ.BC=Date.now();if(e.target==this._R)return;
var p=this.parent.I9.index;if(a&&this.t9!=null){var p=this.parent.I9.index,N=new k4(t.E.L,!0);if(this.t9.indexOf("afw_")==0){var i=this.t9.slice(4),Z=bo[i]||hZ.a[i],s=e.target==this.a2I;
if(!s&&!Z)return;N.data=q._y.atL(s?"blendOptions":i,{j:p,index:this.index})}else N.data={d:t.c.Ch,NY:this.t9,j:p,index:this.index};
this.S(N)}else{if(e.target.className!="thumb")this.parent.M$({d:u.ml,j:p,wq:0})}};aB.vi.prototype.aaK=function(e){var A={fm:u.QB,f:u.xo,sm:u.Cy,s:u.N1}[this.abt];
this.parent.M$({d:A,j:this.parent.I9.index,index:this.index})};function ey(){kc.call(this,"Guide Guy",!1,"---panels/guideguy",kc.oy.aaR);
this.gJ=null;this.tn=new el(null,j.qC.e7)}ey.prototype=new kc("");ey.prototype.VM=function(){this.ut=[];
var e=B.t("div","form padded");this.xa.appendChild(e);e.setAttribute("style","width:200px");this.xa.appendChild(e);
var A=B.t("canvas"),a=A.getContext("2d");A.width=A.height=160;var p=[32,0,16,160,0,32,160,16,0,112,160,16],N="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),i=[0,0,0,0,0,0,0,0,0,0];
e.appendChild(this.tn.e);for(var c=0;c<10;c++){a.clearRect(0,0,160,160);a.setTransform(1,0,0,1,80,80);
a.rotate((c&3)*Math.PI/2);a.translate(-80,-80);a.fillStyle="rgba(0,0,0,0.3)";if(c<4){for(var Z=0;Z<12;
Z+=4){a.fillStyle=Z==0?"#000000":"rgba(0,0,0,0.3)";a.fillRect(p[Z],p[Z+1],p[Z+2],p[Z+3])}}else if(c<6){var s=8*6;
a.fillRect(0,0,s,160);a.fillRect(8*7,0,s,160);a.fillStyle="#000000";a.fillRect(8*14,0,s,160)}else if(c<8){a.fillRect(0,0,16,160);
a.fillRect(160-16,0,16,160);a.fillRect(32,0,160-64,160);a.fillStyle="#000000";a.fillRect(32,80-8,160-64,8*1)}else{a.fillRect(0,0,8*7,160);
a.fillRect(8*13,0,160,160);a.fillStyle="#000000";a.fillRect(8*7,80-8,8*6,8*1)}var D="<img src=\""+A.toDataURL()+"\" class=\"autoscale gsicon\" /> ",n=new g0(D,0,200,null,c==4||c==5?0:2,null,null,4,N[c]);
n.parent=this;n.h(t.E.A,this.aoP,this);n.z(i[c]);n.f();this.ut.push(n);e.appendChild(n.e)}var S=[[11,14],[11,15,0]];
this.Ca=[];for(var c=0;c<S.length;c++){var F=new c$(S[c],!0,null,!0);this.Ca.push(F);F.h("click",this.sd,this);
e.appendChild(F.e)}for(var c=0;c<6;c++){a.setTransform(1,0,0,1,80,80);a.rotate(Math.floor(c/3)*Math.PI/2);
a.translate(-80,-80);a.clearRect(0,0,160,160);a.fillStyle="rgba(0,0,0,0.3)";a.fillRect(0,0,160,160);
a.clearRect(16,16,128,128);a.fillStyle="#000000";var $=c%3;a.fillRect([0,9,18][$]*8,0,16,160);var D="<img src=\""+A.toDataURL()+"\" class=\"autoscale gsicon\" /> ",F=new c$(D,!1,null,!1);
this.Ca.push(F);F.h("click",this.sd,this);e.appendChild(F.e)}};ey.prototype.f=function(){kc.prototype.f.call(this);
this.tn.f();if(this.ut==null)return;for(var c=0;c<this.Ca.length;c++)this.Ca[c].f()};ey.prototype.aoP=function(e){var A=this.ut,a=A.indexOf(e.target),p=Math.floor(a/2),N=a&1,i=[];
for(var c=0;c<4;c++)i.push(A[2*c+N].b());var Z=-1;if(p==2&&i[2]!=0&&i[3]!=0&&i[4]!=0)Z=4;if(p==3&&i[3]!=0&&i[2]!=0&&i[4]!=0)Z=4;
if(p==4&&i[4]!=0&&i[2]!=0&&i[3]!=0)Z=3;if(Z!=-1)A[2*Z+N].z(0)};ey.prototype.sd=function(e){var A=this.gJ,a=this.Ca.indexOf(e.target),p=[[],[]];
if(A==null)return;var N=A.P?A.P.rect:new dE(0,0,A.m,A.n),i=N.m,Z=N.n;if(a==0){var s=[[],[]],D=this.tn.b();
for(var c=0;c<this.ut.length;c++){var n=this.ut[c].b();n=j.qC.Ot(n,A.l5,A.m,D);s[c&1].push(n)}var S=[ey.abC(s[0],N.x,N.x+i),ey.abC(s[1],N.y,N.y+Z)];
p=ey.KQ(S);q.GS.i_(p,A.ek())}else if(a==1){}else{a-=2;var F=Math.floor(a/3),S=[[],[]];S[F].push([N.x,N.x+i/2,N.x+i,N.y,N.y+Z/2,N.y+Z][a]);
p=ey.KQ(S);q.GS.i_(p,A.ek())}this.asU(p)};ey.KQ=function(e){var A=[],a=[];for(var p=0;p<2;p++)for(var c=0;
c<e[p].length;c++){A.push([p,e[p][c]]);a.push(-1)}return[A,a]};ey.prototype.ato=function(e){var A=this.a1D.indexOf(e.target)};
ey.prototype.asU=function(e){var A=new k4(t.E.v,!0);A.G=q.Mf;A.data={d:"gids",Ph:e};this.S(A)};ey.abC=function(e,A,a){var p=[],N=e[2],i=e[3],Z=e[4],s=0;
if(N==0)s++;if(i==0)s++;if(Z==0)s++;if(s>1&&N==0&&i==0){if(e[0]!=0)p.push(A+e[0]);if(e[1]!=0)p.push(a-e[1]);
return p}var D=a-A-e[0]-e[1];if(N==0){if(Z==0){N=Math.floor(D/i);Z=(D-N*i)/(N-1)}else{N=1;while(i*N+Z*(N-1)+i+Z<=D)N++}}else if(N!=0&&i!=0){if(N*i>D)N=Math.floor(D/i);
Z=(D-N*i)/(N-1)}p.push(A+e[0],a-e[1]);var i=(D-Z*(N-1))/N;for(var c=1;c<N;c++){if(Z==0)p.push(A+e[0]+c*i);
else p.push(A+e[0]+c*i+(c-1)*Z,A+e[0]+c*i+c*Z)}return p};ey.prototype.OM=function(e,A,a){this.gJ=e};
ey.prototype.fp=function(){if(B.ND(this.xa)&&this.ut==null)this.VM();this.f()};ey.prototype.Mv=function(e){this.tn.z(e.tz.sP)};
function b9(){kc.call(this,[9,2],!1,"---panels/properties",kc.oy.LH);this.a4H=null;this.oO=null;this.w7=null;
this.aeM=-1;this.Yg=null}b9.prototype=new kc("");b9.prototype.YQ=function(e,A){this.SB=e;this.Ps=A;e=e-16;
A=A-12;var a=this.Yg;if(a){a.style.width=e+"px";a.style.height=A+"px";for(var c=0;c<3;c++)this.yE[c].YQ(e-12,A)}};
b9.prototype.VM=function(){this.Yg=B.t("div","padded scrollable");this.xa.appendChild(this.Yg);var e=B.t("span");
this.Yg.appendChild(e);this.pP=[new c$([0,3]),new c$([12,73]),new c$([12,91,0])];for(var c=0;c<this.pP.length;
c++){var A=this.pP[c];A.h("click",this.aju,this);e.appendChild(A.e);if(c==2)A.e.style.marginRight="0"}this.Yg.appendChild(B.t("hr"));
this.XT=new b9.ld;this.XT.parent=this;this.Ax=new b9.dI;this.Ax.parent=this;this.iZ=new b9.IB;this.iZ.parent=this;
this.yE=[this.XT,this.Ax,this.iZ];this.Yg.appendChild(this.XT.e);this.YQ(this.SB,this.Ps)};b9.prototype.aju=function(e){var c=this.pP.indexOf(e.currentTarget);
this.Un(c);this.ak$(c==1?this.Ax.EK:-1)};b9.prototype.Un=function(e){for(var c=0;c<3;c++){this.pP[c].mq();
var A=this.yE[c].e;if(A.parentNode==this.Yg&&c!=e)this.Yg.removeChild(A);if(A.parentNode!=this.Yg&&c==e)this.Yg.appendChild(A)}this.pP[e].FC()};
b9.prototype.ak$=function(e){var A=this.oO.g[0],a=this.oO.B[A],p=e+1;if(e==1&&a.Bp)return;var N=new k4(t.E.v,!0);
N.G=q._b;if(e!=1&&a.Bp){N.data={d:u.ml,j:A,wq:2};this.S(N)}N.data={d:u.ml,j:A,wq:p};this.S(N)};b9.prototype.f=function(){kc.prototype.f.call(this);
if(this.Yg==null)return;this.OM(this.oO);for(var c=0;c<3;c++){this.pP[c].f();this.yE[c].f()}};b9.prototype.fp=function(){if(!B.ND(this.xa))return;
if(this.Yg==null){this.VM();this.Mv(this.w7,ac.xh);this.OM(this.a4H);this.f()}};b9.prototype.OM=function(e){this.a4H=e;
if(this.Yg==null)return;this.XT.OM(e);this.Ax.OM(e);this.iZ.OM(e);if(e==null||e.g.length==0||e.B[e.g[0]]==null){B.LM(this.xa,"disabled");
this.oO=null;return}else B.Xi(this.xa,"disabled");var A=e.g[0],a=e.B[A],p=e.sz(),N=p[0],i=p[1];if(i.length!=0){var Z=N[i[0]],s=Z.add.vogk,D=!1;
if(s)for(var c=0;c<s.length;c++){var n=s[c].v;if(!j.X.H2(n))continue;D=!0;A=Z.g2}}A+=","+D;if(e!=this.oO||this.aeM!=A){this.oO=e;
this.aeM=A;if(D)this.Un(2);else if(a.os<1&&!a.Bp||a7.get(a.add))this.Un(0);else this.Un(1)}this.pP[1].Y7(this.Ax.EK!=-1);
this.pP[2].Y7(D)};b9.prototype.Mv=function(e,A){this.w7=e;if(this.XT)this.XT.Mv(e,A);if(this.iZ)this.iZ.Mv(e,A)};
b9.ld=function(){b5.call(this);this.e=B.t("div","form");this.abd=new bQ("Hello");this.aY=new c$([1,12,2],null,null,!0);
this.aY.e.style.app="right";this.aY.h("click",this.Tg,this);this.e.appendChild(this.abd.e);this.e.appendChild(this.aY.e);
this.vv=null;this.qu=null;this.oO=null;this.w7=null;this.a7m=-1;this.agD=null;this.lg=null;this.YX=new fj(0,!0,!0);
this.YX.parent=this;this.YX.h(t.E.A,this.a8s,this);this.e.appendChild(this.YX.e);this.mT=new dH(!0);
this.mT.parent=this;this.mT.h(t.E.A,this.aA6,this);this.kb=B.t("div","marged hiline");this.kb.appendChild(this.mT.e);
this.Iy=new ic("GrFl",!0);this.Iy.parent=this;this.Iy.h(t.E.A,this.ah5,this);this.vN=B.t("div","marged hiline");
var e="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var c=0;c<e.length;c++){var A=this.Iy.Hc[e[c]].e;
this.vN.appendChild(A)}this.dv=new ic("patternFill",!0);this.dv.parent=this;this.dv.h(t.E.A,this.a8C,this);
this.oL=B.t("div","marged hiline");var e=["Ptrn","Angl","Scl","Algn","phase"];for(var c=0;c<e.length;
c++){var A=this.dv.Hc[e[c]].e;this.oL.appendChild(A)}this.vp={};for(var a in a7.names){if(bo[a]==null)continue;
this.vp[a]=new bo[a];this.vp[a].h(t.E.A,this.a97,this);this.vp[a].parent=this}var p=this.aqx=B.t("div","marged hiline");
this.a7=new fj(0,!0);p.appendChild(this.a7.e);this.a7.h(t.E.A,this.m$,this);this.ah1=null;this.k6=new gx;
this.k6.parent=this;this.k6.h(t.E.A,this.m$,this);p.appendChild(this.k6.e)};b9.ld.prototype=new b5;b9.ld.prototype.a8s=function(e){var A=this.YX.b(),a=this.lg,p=new dE(A[0],A[1],A[2],A[3]);
if(p.Kx(a))return;this.lg=p;var N=new k4(t.E.v,!0);if(a.m==p.m&&a.n==p.n){N.G=q.Mf;N.data={d:"trsl",ts:p.x-a.x,fd:p.y-a.y}}else{N.G=q.lE;
N.data={d:"scl",fQ:[2,4],Z:new k7(p.m/a.m,p.n/a.n),Ri:0}}this.S(N)};b9.ld.prototype.YQ=function(e,A){var a=this.vp;
for(var p in a)a[p].YQ(e,A)};b9.ld.prototype.Tg=function(e){var A=this.oO,a=A.B[A.g[0]],p=a7.get(a.add);
this.qu.z(hZ.T$(p));this.a97()};b9.ld.prototype.f=function(){for(var e in this.vp)this.vp[e].f();this.Iy.f();
this.dv.f();this.k6.f();this.a7.f();this.aY.f();this.YX.f()};b9.ld.prototype.m$=function(e){var A=new k4(t.E.v,!0),a=this.a7.b(),p=this.ah1;
if(e.target==this.a7&&a[2]==p[2]&&a[3]==p[3]){A.G=q.Mf;A.data={d:"trsl",ts:a[0]-p[0],fd:a[1]-p[1]}}else{var N=u.DI(new dE(a[0],a[1],a[2],a[3])),i=this.k6.aa9();
i.artboardRect={t:"Objc",v:N};A.G=q._b;A.data={d:u.O9,md:i}}this.S(A)};b9.ld.prototype.aA6=function(e){var A=this.oO,a=A.g[0];
if(A.B[a].add.SoCo==null)return;var p=JSON.parse(JSON.stringify(A.B[a].add.SoCo));p.Clr.v=this.mT.b();
this.G6({$e:1,yJ:p})};b9.ld.prototype.ah5=function(e){var A=this.oO,a=A.g[0];if(A.B[a].add.GdFl==null)return;
this.G6({$e:2,yJ:this.Iy.b()})};b9.ld.prototype.a8C=function(e){this.G6({$e:3,yJ:this.dv.b()})};b9.ld.prototype.G6=function(e){this.aum(q._b,{d:u.Rw,WD:[this.oO.g[0]],pZ:!0,Z:e})};
b9.ld.prototype.a97=function(e){this.aum(q.Dx,{d:"edit_layer",Z:this.qu.b()})};b9.ld.prototype.aum=function(e,A){var a=new k4(t.E.v,!0);
a.G=e;a.data=A;this.S(a)};b9.ld.prototype.OM=function(e,A){var a=i1.get([0,3]),p=!1,N=!1,i=null;this.oO=e;
if(e&&e.B.length>0&&e.g.length!=0&&e.B[e.g[0]]){var Z=e.B[e.g[0]],s=a7.get(Z.add);if(s!=null&&this.vp[s]!=null){i=this.vp[s].e;
this.qu=this.vp[s];this.vp[s].z(JSON.parse(JSON.stringify(Z.add[s])));if(e.g[0]!=this.a7m){var D=e.WR(e.g[0]-1);
this.agD=j.rH(D)}this.vp[s].TH(this.agD);a=i1.get(a7.names[s]);p=!0}if(s==null&&Z.add.artb==null){var n=this.lg=j.p.dE(q.BD.V0(e));
N=!n.QP();this.YX.z([n.x,n.y,n.m,n.n],[e.l5,e.m,this.w7.tz.sP])}if(Z.add.SoCo){i=this.kb;this.mT.z(Z.add.SoCo.Clr.v);
a=i1.get([6,48,0,0])}if(Z.add.GdFl){i=this.vN;this.Iy.update(e,Z.add.GdFl);a=i1.get([6,48,0,1])}if(Z.add.PtFl){i=this.oL;
this.dv.update(e,Z.add.PtFl);a=i1.get([6,48,0,2])}if(Z.add.artb){var S=Z.add.artb,F=Z.jP();i=this.aqx;
this.k6.as8(S);var $=this.ah1=[F.x,F.y,F.m,F.n];this.a7.z($,[e.l5,e.m,this.w7.tz.sP]);a=i1.get([1,16,0])}this.a7m=e.g[0]}if(i!=this.vv){if(this.vv)this.e.removeChild(this.vv);
if(i!=null)this.e.appendChild(i);this.vv=i}this.abd.z(a);this.aY.e.style.display=p?"":"none";this.YX.e.style.display=N?"":"none"};
b9.ld.prototype.Mv=function(e,A){this.w7=e;this.Iy.Mv(e,A);this.dv.Mv(e,A);if(A==ac.vY)this.OM(this.oO,e);
for(var a in this.vp)this.vp[a].Mv(e,A)};b9.dI=function(){b5.call(this);this.e=B.t("div","form");this.oO=null;
this.EK=0;var e=B.t("span","fitem");this.e.appendChild(e);this.pP=[new c$([6,2]),new c$([6,3]),new c$([6,50])];
for(var c=0;c<this.pP.length;c++){var A=this.pP[c];A.h("click",this.au9,this);e.appendChild(A.e)}this.Pu=new c8([12,74],0,255);
this.Pu.h(t.E.A,this.NJ,this);this.e.appendChild(this.Pu.e);this.s6=new c8([7,6],0,500,"px",2,!0);this.s6.h(t.E.A,this.NJ,this);
this.e.appendChild(this.s6.e);this.Fs=new c$([4,11],null,null,!0);this.Fs.h("click",this.as2,this)};
b9.dI.prototype=new b5;b9.dI.prototype.as2=function(){var e=new k4(t.E.v,!0);e.G=q.Dx;e.data={d:"start",E$:"nvrt"};
this.S(e)};b9.dI.prototype.NJ=function(e){var A=this.Pu.b(),a=this.s6.b(),p=new k4(t.E.v,!0);p.G=q._b;
p.data={d:u.wp,Kc:this.oO.g[0],Br:{OT:this.EK,Pu:A,s6:a}};this.S(p)};b9.dI.prototype.f=function(){for(var c=0;
c<this.pP.length;c++)this.pP[c].f();this.Pu.f();this.s6.f();this.Fs.f()};b9.dI.prototype.OM=function(e){this.oO=e;
this.Z_()};b9.dI.prototype.au9=function(e){this.Z_(this.pP.indexOf(e.currentTarget));this.parent.ak$(this.EK)};
b9.dI.prototype.Z_=function(e){var A=this.oO,a=this.pP;for(var c=0;c<3;c++){var p=a[c];p.mq();p.kJ()}if(A==null||A.B.length==0||A.g.length==0||A.B[A.g[0]]==null)return;
var N=-1,i=A.B[A.g[0]];if(i.$f()&&i.MH(A).$!=null){a[2].Ss();N=2}if(i.add.vmsk){a[1].Ss();N=1}if(i.tR()){a[0].Ss();
N=0}if(e!=null)N=e;else if(i.Bp)N=1;else if(i.os==3)N=2;else if(i.os==1)N=0;this.EK=N;if(N==-1){this.Pu.kJ();
this.s6.kJ();return}var Z=i.hz(N);this.Pu.Ss();this.s6.Ss();this.Pu.z(Z.Pu);this.s6.z(Z.s6);a[N].FC();
var s=this.Fs.e;if(N==0)this.e.appendChild(s);else if(s.parentNode==this.e)this.e.removeChild(s)};b9.IB=function(){b5.call(this);
this.e=B.t("div","form");this.gJ=null;this.w7=null;this.zx=-1;this.YX=new fj(0,!1);this.Pv=new c8([12,15],-180,180,"\xB0",2);
this.qv=new fj(1,!0);this.jb=new c8([12,94,0],0,100,null,2);this.vA=new c8([12,78],3,30);this.uy=new c$(["\u279C  ",[12,76,0]],null,null,!0);
this.YX.h(t.E.A,this.AK,this);this.Pv.h(t.E.A,this.AK,this);this.qv.h(t.E.A,this.AK,this);this.jb.h(t.E.A,this.AK,this);
this.vA.h(t.E.A,this.AK,this);this.uy.h("click",this.AK,this)};b9.IB.prototype=new b5;b9.IB.prototype.f=function(){this.YX.f();
this.Pv.f();this.qv.f();this.jb.f();this.vA.f()};b9.IB.prototype.AK=function(e){var A=this.gJ,a=j.X.wK(A),p=e.target.b(),N=[this.YX,this.Pv,this.qv,this.jb,this.vA,this.uy].indexOf(e.target);
if(N==0){var i=[];i[0]=p[0];i[1]=p[1];i[2]=i[0]+p[2];i[3]=i[1]+p[3];p=i}if(N==1)p=p*Math.PI/180;var Z={0:1,1:2,2:3,3:3,4:4}[N];
a[Z]=p;var s=new k4(t.E.v,!0);s.G=q._b;s.data={d:u.E7,Z:a,atr:N==5};this.S(s)};b9.IB.prototype.OM=function(e){var A=this.e;
this.gJ=e;if(e==null)return;var a=this.w7,p=[e.l5,e.m,a.tz.sP],N=j.X.wK(e),i=N[0],Z=N[1];if(Z==null)return;
var s=i!=this.zx;this.zx=i;if(s)B.XK(A);if(s)A.appendChild(this.YX.e);if(s)A.appendChild(this.Pv.e);
this.YX.z([Z[0],Z[1],Z[2]-Z[0],Z[3]-Z[1]],p);this.Pv.z(N[2]*180/Math.PI);if(i==2){if(s)A.appendChild(this.qv.e);
var D=N[3];this.qv.z(D,p)}if(i==7||i==8){if(s)A.appendChild(this.jb.e);this.jb.z(N[3])}if(i==8){if(s)A.appendChild(this.vA.e);
this.vA.z(N[4])}A.appendChild(this.uy.e)};b9.IB.prototype.Mv=function(e,A){this.w7=e;this.OM(this.gJ)};
function eE(e){kc.call(this,e.name,!0);this.M0=e;this.PC=null;this.s9=new iR(this.xa);this.s9.parent=this}eE.prototype=new kc;
eE.qc=function(){var e=document.createElement("canvas"),A=document.createElement("canvas"),a=16,p=j.Q(16*16*4);
j.c4(p,a,a,8);var N=j.scale.h6(p,a,a);return{k0:e,eN:A,eL:e.getContext("2d"),eO:A.getContext("2d"),YB:N}}();
eE.prototype.a8H=function(){if(this.M0.iP())return window.confirm(i1.get([22,6,3])+" "+this.M0.name+". "+i1.get([22,6,4]));
return!0};eE.prototype.Mv=function(e,A){this.PC=e};eE.prototype.OM=function(e){this.fp();this.Se()};
eE.prototype.YQ=function(e,A){if(e<=0||A<=0)return;this.SB=e;this.Ps=A;var a=this.M0,p=eE.qc,N=B.V();
a.u.eL.m=Math.floor(e*N);a.u.eL.n=Math.floor(A*N);B.ql(p.k0,e,A);B.ql(p.eN,e,A);B.ql(fG.wv(),e,A);if(a.u.N==0)a.u.N=q.MQ.ai_(a.m,a.n,e*N,A*N);
this.Se()};eE.prototype.fp=function(){var e=this.xa.firstChild,A=eE.qc,a=fG.Jg&&this.M0.add.fvec==null;
if(!a&&e==fG.wv()||a&&e==A.k0)this.xa.removeChild(e);var p=a?fG.wv():A.k0;if(!B.ND(p))this.xa.appendChild(p)};
eE.prototype.Se=function(){if(this.PC==null)return;var e=this.M0,A=fG.Jg&&this.M0.add.fvec==null;if(A)this.aa2();
else this.Y9()};eE.prototype.aa2=function(){if(fG.Jg&&eE.Ok==null){var e=eE.Ok=[],A=[0,2,8,32,128];for(var c=0;
c<5;c++)e[c]=[new eE.ck(!1,A[c],!1),new eE.ck(!0,A[c],!1)];e.push([new eE.ck(!1,0,!0),new eE.ck(!0,0,!0)])}var a=this.M0,p=eE.qc,F,J=0,y,Q;
if(a.HI==null)return;var N=a.u,i=N.eL.m,Z=N.eL.n,s=fG.Ae;p.eL.clearRect(0,0,i,Z);var D=this.aod(a);if(N.oz==null||N.oz.m!=i||N.oz.n!=Z)N.oz=new fG.js(i,Z);
if(D){var n=new Uint8Array(p.eL.getImageData(0,0,i,Z).data.buffer);N.oz.set(n)}else{fG.Wb(N.oz);fG.qw(1)}var S=N.mc(0,0);
if(eE.avn==null)eE.avn=new Float32Array(4*1024);var $=[0,0,0,0],m=eE.avn;if(a.add.artd){m.fill(0);$=eE.Ib(a);
var w=a.m,f=a.n,M=0;for(var c=0;c<a.B.length;c++){var b=a.B[c],L=b.add.artb;if(L==null||!b.gi())continue;
var C=b.jP();m[J]=C.x/w;m[J+1]=C.y/f;m[J+2]=C.m/w;m[J+3]=C.n/f;J+=4;if(J==m.length)break}if(J>2*4)M++;
if(J>8*4)M++;if(J>32*4)M++;F=eE.Ok[M+1];m=new Float32Array(m.buffer,0,[2,8,32,128][M]*4)}else F=eE.Ok[a.o7?5:0];
var k=a.x_();if(k==null)F=F[0];else{F=F[1];Q=k[a.add.fcmy==1?6:4];y=k[2]}fG.da(i,Z);fG.qw(0);fG.da(i,Z);
F.a$();var E=new bj;E.scale(i,Z);E.concat(N.gz(!0));E.scale(1/a.m,1/a.n);var _=[E.gg,E.k,0,E.b9,E.pU,0,E.Co,E.dW,1];
F.sF(N.oz.NV,a.HI.NV,new Float32Array(_),new Float32Array([i/8,Z/8,S.x/i,S.y/Z]),a.m,a.n,1/a.u.N,i,Z,new Float32Array($),m,new Float32Array(j.mV.d3(j.mV.oE(N.$n))),Q,y);
s.drawArrays(s.TRIANGLES,0,6)};eE.Ib=function(e){return[0,0,0,0]};eE.a4g=function(e){var A=j.M.kq(e.v),a=[A.o/255,A.J/255,A.k/255,1];
for(var c=0;c<4;c++)a[c]=Math.min(1,a[c]);return a};eE.sD=function(e,A){var a=e[2]*255;if(fG.Jg)a=A?0:Math.max(2,a);
return"rgba("+e[0]*255+","+e[1]*255+","+a+","+e[3]+")"};eE.Jp=function(e){var A=e.length;if(fG.Jg)for(var c=0;
c<A;c+=4){if(e[c+2]==0)e[c+2]=3}};eE.prototype.Y9=function(){var e=this.M0,A=eE.qc;if(e.buffer==null)return;
var a=e.u,p=a.eL,N=p.m,i=p.n,Z=new dE(0,0,e.m,e.n);A.eO.clearRect(0,0,N,i);A.eL.clearRect(0,0,N,i);var s=a.gz(!0),D=s.clone();
D.rQ();if(e.add.artd==null){A.eL.save();var n=D.Av(new k7(0,0));D.translate(-n.x,-n.y);A.eL.translate(Math.round(n.x),Math.round(n.y));
A.eL.fillStyle=A.YB;if(e.o7)A.eL.fillRect(-5e3,-5e3,2e4,2e4);else{this.LR(j.p.wt(Z),D,A.eL);A.eL.fill()}A.eL.restore()}else{A.eL.fillStyle=eE.sD(eE.Ib(e));
A.eL.fillRect(0,0,N,i);A.eL.save();A.eL.setTransform(D.gg,D.k,D.b9,D.pU,D.Co,D.dW);var S=e.root.children;
for(var c=0;c<S.length;c++){var F=S[c].j;if(F.add.artb==null||!F.gi())continue;var $=F.jP(),m=F.UY();
if(m!=0)continue;A.eL.fillStyle=A.YB;A.eL.save();A.eL.scale(1/a.N,1/a.N);A.eL.fillRect(a.N*$.x,a.N*$.y,$.m*a.N,$.n*a.N);
A.eL.restore()}A.eL.restore()}if(a.qE.length!=p.O()){a.qE=j.Q(p.O());a.A8=j.Q(p.O()*4)}a.A8.fill(0);
if(e.add.fvec){var D=a.gz(!0);D.rQ();A.eL.save();var J=j.p.wt(a.eL);j.p.D(J.w,a.gz(!0),J.w);var w=j.p.fX(J.w);
A.eL.setTransform(D.gg,D.k,D.b9,D.pU,D.Co,D.dW);this.LR(j.p.wt(new dE(0,0,e.m,e.n)),null,A.eL);A.eL.clip();
e.root.ano(e,A.eL,this.PC,w);A.eL.restore()}else{j.scale._K(e.buffer,Z,s,a.A8,p,e.o7);var f=e.x_();if(f)ICC.U.applyLUT(f[e.add.fcmy==1?5:3],f[2],a.A8,a.A8);
if(a.$n[0]+a.$n[1]+a.$n[2]!=3)j.mV.q8(a.A8,a.A8,j.mV.oE(a.$n));A.eO.putImageData(new ImageData(new Uint8ClampedArray(a.A8.buffer),p.m,p.n),0,0);
A.eL.drawImage(A.eN,0,0);A.eL.getImageData(0,0,1,1)}this.aod(e)};eE.prototype.aod=function(e){var A=e.u,a=A.$n[0]+A.$n[1]+A.$n[2],p=eE.qc,N=!1,i=[];
for(var c=0;c<e.g.length;c++){var Z=e.B[e.g[c]];if(Z==null)continue;var s=Z.os;if(s!=1&&s!=3)continue;
var D=s==1?Z.tR():Z.MH(e).$;if(D.MC)i.push(D)}for(var c=0;c<e.l8.length;c++)if(e.l8[c].MC)i.push(e.l8[c]);
for(var c=0;c<i.length;c++){var D=i[c];this.aym(D,A,i.length==1&&a==0?2:1,D.color,D.Dv);N=!0}var n=this.PC;
N=this.adS(e,p.eL,A,i.length!=0)||N;if(e.P&&n.Z8&&n.tz.ar){this.aym(e.P,A,0,0,null);N=!0}return N};eE.prototype.aym=function(e,A,a,p,N){var i=0;
if(N)i=Math.round(N.k)<<16|Math.round(N.J)<<8|Math.round(N.o);var Z=A.gz(!0),s=A.eL,D=new dE(0,0,A.M0.m,A.M0.n),n=eE.qc;
if(A.A8==null||A.A8.length!=s.O()*4){A.qE=j.Q(s.O());A.A8=j.Q(s.O()*4)}A.qE.fill(p);A.A8.fill(0);var S=e.channel,F=e.rect;
j.scale.D(S,F,Z,A.qE,s);if(a==0){var $=new Uint32Array([4278190080,4294967295]);eE.Jp(new Uint8Array($.buffer));
j.P.aw$(A.qE,A.A8,s,$,B.V()>1.9)}else{var m=Date.now();j.P.ag2(A.qE,A.A8,s,a,i);eE.Jp(A.A8)}var J=new ImageData(new Uint8ClampedArray(A.A8.buffer),s.m,s.n);
n.eO.putImageData(J,0,0);n.eL.save();if(a!=0){var w=new dE(0,0,D.m,D.n),f=Z.clone();f.rQ();this.LR(j.p.wt(w),f,n.eL);
n.eL.clip()}n.eL.drawImage(n.eN,0,0);n.eL.restore()};eE.prototype.adS=function(e,A,a,p){var N=e.I.wP!=null||e.I.kp!=null||e.I.bz!=null||e.I.Qh.length!=0||e.I.NC.length!=0,i=this.PC,Z=i.tz,s=hr.rB[i._5],D=Math.round(12*B.V()),n=D/e.u.N,S=a.gz(!0);
S.rQ();A.save();A.setTransform(S.gg,S.k,S.b9,S.pU,S.Co,S.dW);if(e.add.artd){var F=eE.Ib(e)[0];F=F<.5?F+.5:F-.5;
F=""+Math.round(F*255).toString(16);while(F.length<2)F="0"+F;A.fillStyle="#"+F+F+F;A.font=n+"px sans-serif";
for(var c=0;c<e.B.length;c++){var m=e.B[c];if(m.add.artb==null||!m.gi())continue;var J=m.jP();A.fillText(m.getName(),J.x+2,J.y-n*.7);
N=!0}}function w(gi){return gi==1||gi==2||gi==4||gi==5}var f=eE.sD([.1,.5,1,1]),b=eE.sD([1,1,1,1]);if(i.Z8&&Z.GI){A.fillStyle=A.strokeStyle=f;
A.lineWidth=1.5/a.N;var L=e.sz(),C=L[0],M=L[1];for(var y=0;y<M.length;y++){var m=C[M[y]],Q=m.add.vmsk,k=Q.i,E=j.p.rh(k);
this.LR(E,null,A);A.stroke();N=!0;var _=3*B.V()/a.N,v=k.length-3;for(var c=0;c<Q.Cq.length;c++){var V=j.r.JQ(k,Q.Cq[c]);
if(V==null)continue;var R=V.x,h=V.y;A.beginPath();var P=c==0;if(Q.J1)P=!P;if(P){A.moveTo(R-_,h-_);A.lineTo(R+_,h+_);
A.moveTo(R-_,h+_);A.lineTo(R+_,h-_);A.stroke()}else{A.arc(R,h,_*1,0,2*Math.PI);A.fill()}N=!0}if(e.g.length!=1)continue;
var H=-1;for(var c=0;c<k.length;c++){if(k[c].type>5)continue;if(k[c].type==0||k[c].type==3){if(k[c].kR!=-1)H++;
continue}if(Q.g.indexOf(H)!=-1){var R=k[c].H.x,h=k[c].H.y;A.fillRect(R-_*.8,h-_*.8,2*_*.8,2*_*.8)}if(Q.xw.indexOf(c)!=-1){var U=k[c],X=[U.H];
A.beginPath();A.moveTo(U.x3.x,U.x3.y);A.lineTo(U.H.x,U.H.y);A.lineTo(U.iD.x,U.iD.y);var x=k[c-1],K=k[c+1];
if(x&&w(x.type)&&Q.xw.indexOf(c-1)==-1){A.moveTo(x.H.x,x.H.y);A.lineTo(x.iD.x,x.iD.y);X.push(x.iD)}if(K&&w(K.type)&&Q.xw.indexOf(c+1)==-1){A.moveTo(K.H.x,K.H.y);
A.lineTo(K.x3.x,K.x3.y);X.push(K.x3)}A.stroke();if(!U.H.Kx(U.x3))X.push(U.x3);if(!U.H.Kx(U.iD))X.push(U.iD);
for(var T=0;T<X.length;T++){var V=X[T],R=V.x,h=V.y;if(T==0&&(U.type==2||U.type==5))A.fillRect(R-1.2*_,h-1.2*_,2.4*_,2.4*_);
else{A.beginPath();A.arc(R,h,_*1.2,0,2*Math.PI);A.fill();if(T!=0)A.fillStyle=b;A.beginPath();A.arc(R,h,_*.8,0,2*Math.PI);
A.fill();A.fillStyle=f}}}N=!0}}}A.lineWidth=1/a.N;if(e.I.ss){A.fillStyle=A.strokeStyle=f;var K={w:[],F:[]},I=eE.al$;
if(I==null){I=eE.al$={w:[1,0],F:["M"]};for(var c=1;c<30;c++){var o=Math.PI*2*c/30;I.w.push(Math.cos(o),Math.sin(o));
I.F.push("L")}I.F.push("Z","M","L","M","L");I.w.push(-.5,0,.5,0,0,-.5,0,.5)}for(var c=0;c<e.I.ss.length;
c++){var x=q.Rt.acq(e.I.ss[c],a),l=new bj(x[0],0,0,x[0],x[1],x[2]);j.p.concat(K,I,l)}this.LR(K,null,A);
A.stroke();N=!0}var O=new bj(1,0,0,1,.5/a.N,.5/a.N);if(e.o7){A.fillStyle=A.strokeStyle=f;var K={w:[0,0,e.m,0,e.m,e.n,0,e.n],F:["M","L","L","L","Z"]};
this.LR(K,O,A);A.stroke();N=!0}if(e.I.lD){A.fillStyle=A.strokeStyle=eE.sD([0,0,0,.5]);this.LR(e.I.lD,null,A,!0);
A.fill("evenodd")}A.fillStyle=A.strokeStyle=eE.sD([0,0,0,fG.Jg&&e.add.fvec==null?1:.5],!0);if(e.I.wP){this.LR(e.I.wP,null,A);
A.fill()}if(e.I.kp){this.LR(e.I.kp,O,A);A.stroke()}for(var g in e.I.u2)if(e.I.u2[g].kp){this.LR(e.I.u2[g].kp,null,A);
A.stroke();N=!0}var W=eE.adN(e.I.n8,A,a);A.stroke();N=N||W;var d=e.I.D0;A.fillStyle=eE.sD([1,1,1,1]);
A.beginPath();var _=6*B.V()/a.N;for(var c=0;c<d.length;c+=2){N=!0;var R=d[c],h=d[c+1];A.moveTo(R+_,h);
A.arc(R,h,_,0,2*Math.PI)}A.fill();var _=4*B.V()/a.N;for(var c=0;c<d.length;c+=2){N=!0;var R=d[c],h=d[c+1];
A.fillStyle=eE.sD(e.I.Cz.indexOf(c>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);A.beginPath();A.moveTo(R+_,h);A.arc(R,h,_,0,2*Math.PI);
A.fill()}if(e.I.Qh.length!=0){for(var c=0;c<e.I.Qh.length;c++){var gT=e.I.Qh[c],r=gT[1],G;if(p){G=A.getImageData(r.x,r.y,r.m,r.n);
j.s.eZ("norm",gT[0],r,new Uint8Array(G.data.buffer),r,r,1)}else G=new ImageData(new Uint8ClampedArray(gT[0].buffer),r.m,r.n);
A.putImageData(G,r.x,r.y)}}var Y=.5/a.N;A.lineWidth=1/a.N;if(e.I.Eh){N=!0;var fk=e.I.Eh,eJ=fk.zm,E={F:[],w:[]};
for(var c=0;c<fk.VK.length;c++)j.p.concat(E,j.p.wt(fk.VK[c]));E.w=E.w.concat(eJ);for(var c=0;c<eJ.length;
c+=4){E.F.push("M","L")}for(var c=0;c<E.w.length;c++){E.w[c]+=Y}A.strokeStyle=eE.sD([.9,.2,.2,1]);this.LR(E,null,A);
A.stroke();var eS=B.V(),gL=2/a.N;A.font=n*.9+"px sans-serif";for(var c=0;c<eJ.length;c+=4){var R=eJ[c],h=eJ[c+1],cX=eJ[c+2],kj=eJ[c+3],gq=Math.sqrt((kj-h)*(kj-h)+(cX-R)*(cX-R));
gq=j.qC.Wa(gq,e.l5,i,h==kj?e.m:e.n);var iL=new k7((R+cX)/2,(h+kj)/2);A.fillStyle=eE.sD([.9,.2,.2,1]);
var ew=A.measureText(gq).width;A.fillRect(iL.x-ew/2-gL*eS,iL.y-3.5*gL*eS,ew+2*gL*eS,7*gL*eS);A.fillStyle=eE.sD([1,1,1,1]);
A.save();A.translate(iL.x-ew/2,iL.y+2*gL*eS);A.scale(.1,.1);A.font=n*9+"px sans-serif";A.fillText(gq,0,0);
A.restore()}}if(i.Z8){if(Z.Qv){var dk=j.qC.Ot(Z.YF,e.l5,e.m,Z.Je),j9=dk;if(Z.Je==4)j9*=e.n/e.m;this.c4(e,A,dk,j9,1,Z.Oj);
N=!0}if(Z.hN&&e.u.N>7&&e.add.fvec==null){this.c4(e,A,1,1,.5,Z.Oj);N=!0}if(Z.dc){var fh=e.ek(),g9=e.nE(),k6=Math.max(e.u.eL.m,e.u.eL.n)/e.u.N;
k6=Math.max(Math.max(e.m,e.n)*2,k6);for(var c=0;c<fh[0].length;c++){var jx=fh[0][c],fV=fh[1][c];if(fV!=-1&&fV!=g9)continue;
var ao=a.mc(jx[1],jx[1]),b8=a.FT(Math.floor(ao.x)+.5,Math.floor(ao.y)+.5);A.beginPath();A.strokeStyle=eE.sD([0,fV==-1?1:.5,1,1]);
if(jx[0]==0){var ke=b8.x;A.moveTo(ke,-k6);A.lineTo(ke,k6)}else{var gj=b8.x;A.moveTo(-k6,gj);A.lineTo(k6,gj)}A.stroke();
N=!0}}var jf=e.WM;if(Z.WM&&jf.length!=0){A.font=n*.8+"px sans-serif";var ay=[],fz=[];for(var c=0;c<jf.length;
c++){var ei=q.RK.RQ(jf,c);ay.push(ei);if(e.M_.indexOf(c)!=-1)fz.push(ei)}ay.reverse();var hC=Date.now();
ay=j.rect.Xo([0,0,e.m,e.n],ay);for(var T=0;T<2;T++)for(var c=0;c<ay.length;c++){var iI=ay[c],H=iI[4],gQ=H!=null?jf[H]:null;
if(gQ&&T==0||gQ==null&&T==1)continue;var R=Math.round(iI[0]),h=Math.round(iI[1]),cX=Math.round(iI[2]),kj=Math.round(iI[3]);
A.strokeStyle=A.fillStyle=eE.sD(gQ?[0,.7,.7,1]:[.8,.8,.8,1]);A.strokeRect(R+Y,h+Y,cX-R,kj-h);var cb=c+1,dK=A.measureText(cb),ew=dK.width;
A.fillRect(R,h,ew+n/2,n);A.fillStyle=eE.sD([1,1,1,1]);A.fillText(cb,R+n/4,h+n*.8)}var gL=2/e.u.N,ha=2*gL;
for(var c=0;c<fz.length;c++){var iI=fz[c],R=Math.round(iI[0]),h=Math.round(iI[1]),cX=Math.round(iI[2]),kj=Math.round(iI[3]);
A.strokeStyle=A.fillStyle=eE.sD([1,.6,0,1]);A.strokeRect(R+Y,h+Y,cX-R,kj-h);var hA=[R,h,cX,h,cX,kj,R,kj];
for(var dW=0;dW<hA.length;dW+=2){var ke=hA[dW],gj=hA[dW+1],fN=hA[dW+2&7],cQ=hA[dW+3&7];A.fillRect(ke-gL,gj-gL,ha,ha);
A.fillRect(Math.round((ke+fN)/2)-gL,Math.round((gj+cQ)/2)-gL,ha,ha)}}N=!0}var h6=e.add.Anno;if(h6&&h6.length!=0)for(var c=0;
c<h6.length;c++){var hh=h6[c],bA=hh[2],ke=hh[0]-Y,gj=hh[1]-Y,ha=30/a.XI,co=.4*ha,ej=.6*ha;A.beginPath();
A.moveTo(ke,gj+ej);A.lineTo(ke,gj);A.lineTo(ke+ha,gj);A.lineTo(ke+ha,gj+ha);A.lineTo(ke+co,gj+ha);A.closePath();
A.lineTo(ke+co,gj+ej);A.lineTo(ke+co,gj+ha);if(c==e.u.g$){A.lineWidth*=5;A.strokeStyle=eE.sD([0,0,0,.5]);
A.stroke();A.lineWidth/=5}A.fillStyle=eE.sD([bA.o/255,bA.J/255,bA.k/255,1]);A.fill();A.strokeStyle=eE.sD([0,0,0,1]);
A.stroke()}}A.strokeStyle=eE.sD([1,0,0,1]);if(e.I.bz){this.LR(e.I.bz,O,A);A.stroke()}A.restore();if(i.Dm){if(e.u.$G==null||e.u.$G.width!=e.u.eL.m||e.u.ZL.height!=e.u.eL.n){e.u.$G=A.createImageData(e.u.eL.m,j.qC.xH);
e.u.ZL=A.createImageData(j.qC.xH,e.u.eL.n)}var s=hr.rB[i._5],bk=0,h5=0,bg=e.m,aQ=e.n;if(e.nE()!=-1){var J=e.B[e.nE()].jP();
bk=J.x;h5=J.y;bg=J.m;aQ=J.n}bk*=a.N;h5*=a.N;var a=e.u,fw=[1,e.l5,e.l5/2.54,e.l5/25.4,bg/100][Z.sP],jC=a.N*e.m/2,e0=a.N*e.n/2,eU=[a.N*fw,new k7(a.R.x+(bk+jC*fw-jC),a.R.y+(h5+e0*fw-e0))];
if(Z.sP==4)fw*=aQ/bg;var iV=[a.N*fw,new k7(a.R.x+(bk+jC*fw-jC),a.R.y+(h5+e0*fw-e0))],kh=this.s9.Q7;j.qC.alr(a,s["--text-color"],s["--bg-input"],Math.floor(kh.x),Math.floor(kh.y),eU,iV);
var hT=h0.ae1(a.N,eE.sD([1,1,1,1]),e.m,e.n);eE.Jp(e.u.ZL.data);eE.Jp(e.u.$G.data);A.putImageData(e.u.ZL,0,0);
A.putImageData(e.u.$G,0,0);A.putImageData(hT,0,e.u.eL.n-hT.height)}if(e.I.NC.length!=0){for(var c=0;
c<e.I.NC.length;c++){var gT=e.I.NC[c],r=gT[1];A.putImageData(new ImageData(new Uint8ClampedArray(gT[0].buffer),r.m,r.n),r.x,r.y)}}return N||i.Dm};
eE.prototype.c4=function(e,A,a,p,N,i){while(a*e.u.N<4){a*=2;p*=2}var Z=e.m,s=e.n,D=.5/e.u.N;A.strokeStyle=eE.sD([.5,.5,.5,N],!0);
A.save();A.rect(0,0,Z,s);A.clip();A.beginPath();for(var n=0;n<=Z;n+=a){A.moveTo(n+D,0);A.lineTo(n+D,s)}if(i==0){for(var S=0;
S<=s;S+=p){A.moveTo(0,S+D);A.lineTo(Z,S+D)}}else{p*=Math.sqrt(4/3);var F=p*Math.floor(Z/p),$=Z*(p/(2*a));
for(var S=-F;S<=s+F;S+=p){A.moveTo(0,S);A.lineTo(Z,S-$);A.moveTo(0,S);A.lineTo(Z,S+$)}}A.stroke();A.restore()};
eE.adN=function(e,A,a,p){A.beginPath();var N=(p?p:1)*(4*B.V()+.5)/a.N,i=!1;for(var c=0;c<e.length;c+=2){i=!0;
var Z=e[c],s=e[c+1];A.rect(Z-N,s-N,2*N,2*N)}return i};eE.mx=function(e,A,a,p){a.beginPath();if(p)a.rect(-1e5,-1e5,1e6,1e6);
var N=e;if(A){N=j.p.clone(e);j.p.D(N.w,A,N.w)}Typr.U.pathToContext({cmds:N.F,crds:N.w},a)};eE.prototype.LR=eE.mx;
eE.ck=function(e,A,a){fG.y1.call(this);var p=A!=0,N=a?"true":"in01(sCoord)",i="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(e?"uniform sampler2D lut;  uniform float N;  "+fG.iq.Qy:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(p?"uniform vec4 bgClr;  uniform vec4 ars["+A+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+fG.iq.H$+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(a?"-floor(sCoord)":"")+"); \t\t\t\t"+(e?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(p?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+A+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+N+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+N+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",Z="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.tP(i,Z)};eE.ck.prototype=new fG.y1;eE.ck.prototype.sF=function(e,A,a,p,N,i,Z,s,D,n,S,F,$,m){this.qx("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var J=fG.Ae,w=this.L6;J.uniformMatrix3fv(w.tmat,!1,a);J.uniform4fv(w.gsize,p);J.uniform3f(w.contSizeZoom,N,i,Z);
J.uniform2f(w.cnvSize,s,D);J.uniformMatrix4fv(w.ctrn,!1,F);if(this.aft){J.uniform4fv(w.ars,S);J.uniform4fv(w.bgClr,n)}J.uniform1i(w.source,0);
J.uniform1i(w.target,1);J.activeTexture(J.TEXTURE0);J.bindTexture(J.TEXTURE_2D,e);J.activeTexture(J.TEXTURE1);
J.bindTexture(J.TEXTURE_2D,A);if($){J.uniform1f(w.N,m);J.uniform1i(w.lut,2);J.activeTexture(J.TEXTURE2);
J.bindTexture(J.TEXTURE_2D,$.NV);var f=J.LINEAR;J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MIN_FILTER,f);
J.texParameteri(J.TEXTURE_2D,J.TEXTURE_MAG_FILTER,f)}J.activeTexture(J.TEXTURE0)};function eY(){kc.call(this,[9,7],!1,"---panels/layercomps",kc.oy.a7w);
this.xa.setAttribute("style","min-width:240px;");this.oO=null;this.AR=-1;this.e_=[];this.cd=B.t("div","scrollable");
this.cd.style.height="160px";this.xa.appendChild(this.cd);this.oT=B.t("div","lpfoot");this.xa.appendChild(this.oT);
this.Ca=[];var e=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],A=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var c=0;c<e.length;c++){var a=e[c];if(c>0)a="<img src=\""+PIMG[e[c]]+"\" class=\"miniscale gsicon\" />";
var p=new c$(a,!1,A[c]);p.h("click",this.aup,this);this.oT.appendChild(p.e);this.Ca.push(p)}}eY.prototype=new kc("");
eY.prototype.YQ=function(e,A){this.xa.setAttribute("style","width:"+(e-2)+"px;");this.cd.style.height=A-28+"px"};
eY.prototype.M$=function(e){var A=new k4(t.E.v,!0);A.data=e;A.G=q.eQ;this.S(A)};eY.aiw="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
eY.prototype.aup=function(e){var c=this.Ca.indexOf(e.currentTarget)-1;if(c==-1){var A=new k4(t.E.L,!0);
A.data={d:t.c.zr,Jk:eY.aiw};this.S(A);return}if(c!=1)if(this.AR==-1)return;this.M$({d:["updLC","addLC","delLC"][c],g2:this.AR});
if(c==2)this.AR=-1};eY.prototype.f=function(){kc.prototype.f.call(this);for(var c=0;c<this.Ca.length;
c++)this.Ca[c].f()};eY.prototype.OM=function(e){if(e==null)B.LM(this.xa,"disabled");else B.Xi(this.xa,"disabled");
this.oO=e;B.XK(this.cd);if(e==null)return;var A=e.RA.lastAppliedComp?e.RA.lastAppliedComp.v:0,a=e.RA.list.v.slice(0);
a.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var c=0;c<a.length;
c++){var p=a[c].v,N=new f5(p.Nm.v,p.compID.v,p.capturedInfo.v,A,this.AR);N.h("activate",this.r1,this);
N.parent=this;this.cd.appendChild(N.e);this.e_.push(N)}};eY.prototype.r1=function(e){this.AR=e.currentTarget.g2;
this.OM(this.oO)};function f5(e,c,A,a,p){b5.call(this);this.g2=c;this.e=B.t("div","head listitem"+(c==p?" selected":""));
var N=c==a,i=new c$(N?"\u2713":"\u2014");if(N)i.FC();this.e.appendChild(i.e);i.h("click",this.Mc,this);
var Z=this.lI=B.t("span");Z.textContent=e;this.e.appendChild(Z);this.Ca=[];if(c!=0){this.e.addEventListener("mouseup",this.r1.bind(this),!1);
this.a4M=B.t("span","headR");this.e.appendChild(this.a4M);var s=["lrs/eye","pos","lrs/fx"],D=["Visibility","Position","Appearance"];
for(var n=0;n<s.length;n++){var S=new c$("<img src=\""+PIMG[s[n]]+"\" class=\"autoscale gsicon\" />",!1,D[n]);
if((A>>n&1)==0)S.e.setAttribute("style","opacity:0.3");S.h("click",this.a9r,this);this.a4M.appendChild(S.e);
this.Ca.push(S)}}}f5.prototype=new b5;f5.prototype.r1=function(e){if(e.target!=this.lI&&e.target!=this.e)return;
if(e.detail==1)this.S(new k4("activate",!1));else{var A=new kc.Jj(this.lI,this.gh.bind(this))}};f5.prototype.a9r=function(e){var c=this.Ca.indexOf(e.currentTarget);
this.M$({d:"editLC",aeT:c,g2:this.g2})};f5.prototype.gh=function(e){this.M$({d:"editLC",Xt:e,g2:this.g2})};
f5.prototype.Mc=function(e){this.M$({d:"setLC",g2:this.g2})};f5.prototype.M$=function(e){var A=new k4(t.E.v,!0);
A.data=e;A.G=q.eQ;this.S(A)};function j6(){kc.call(this,[9,11],!1,"---panels/navigator",kc.oy.axV);var e=B.t("div","padded");
e.setAttribute("style","min-width:15em");this.xa.appendChild(e);var A=B.t("div");e.appendChild(A);A.setAttribute("style","cursor:grab;");
this.T=B.t("canvas");this.T.width=100;A.appendChild(this.T);B.Ig(this.T);B.V3(this.T,this.Sl.bind(this));
this.Bs=new f1(null,2,6400,"%",null,!0);this.Bs.h(t.E.A,this.ao8,this);e.appendChild(this.Bs.e);this.awU=this.Lp.bind(this);
this.a85=this.tu.bind(this);this.gJ=null;this._8=null;this.tc=!1}j6.prototype=new kc("");j6.prototype.YQ=function(e,A){this.Se()};
j6.prototype.ao8=function(e){var A=this.Bs.b(),a=this.gJ,p=A/100;if(.8<p&&p<1.2)p=1;else if(1.8<p)p=Math.round(p);
var N=new k4(t.E.v,!0);N.G=q._B;N.data={d:"zoom",N:p};this.S(N)};j6.prototype.Sl=function(e){var A=this.gJ;
if(A==null)return;this.tc=!0;B.iv(window,this.awU);B.xq(window,this.a85)};j6.prototype.Lp=function(e){var A=B.vT(e,this.T),a=this.gJ,p=this.T.width,N=this.T.height,i=(A.x*B.V()-p/2)/p,Z=(A.y*B.V()-N/2)/N,s=B.V()*a.u.N,D=Math.round(-a.u.N*a.m*i),n=Math.round(-a.u.N*a.n*Z);
q.n2.$S(a,D,n)};j6.prototype.tu=function(e){B.Dq(window,this.awU);B.Y8(window,this.a85);this.tc=!1};
j6.prototype.OM=function(e){if(e==null&&this.gJ!=null)this.T.width=100;this.gJ=e;this.Se()};j6.prototype.alP=function(){var e=300*B.V(),A=0,a=this.gJ,p=[a.WR(),new dE(0,0,a.m,a.n)];
j.ff(p);while(Math.max(p[A+1].m,p[A+1].n)>e){A+=2}this._8=p.slice(A)};j6.prototype.Se=function(){var e=this.gJ;
if(e==null||e.u.N==0)return;var A=e.u;if(!B.ND(this.xa))return;this.Bs.z(A.N*100);if(!this.tc)this.alP();
var a=this._8[0],p=this._8[1],N=p.m,i=p.n,Z=this.T;Z.width=N;Z.height=i;B.JK(Z,N,i);var s=Z.getContext("2d"),D=s.createImageData(N,i);
j.GZ(a,D.data);s.putImageData(D,0,0);s.getImageData(0,0,1,1);var n=A.eL,S=A.FT(n.x,n.y),F=A.FT(n.x+n.m,n.y+n.n),$=N/e.m;
s.scale($,$);s.lineWidth=4/$;s.strokeStyle="#ff0000";s.strokeRect(S.x,S.y,F.x-S.x,F.y-S.y)};j6.prototype.Mv=function(e,A){};
j6.prototype.fp=function(){this.Se()};function eL(e,A){kc.call(this,e.name,!1,e.icon,A);this.axz=e}eL.prototype=new kc("");
eL.prototype.VM=function(){var e=this.xa,A=this.axz;if(!B.ND(e)||this.Tm)return;var a=this.Tm=B.t("iframe");
a.setAttribute("src",A.url);this.xa.appendChild(a)};eL.prototype.fp=eL.prototype.OM=function(){this.VM()};
eL.prototype.XC=function(e){if(B.ND(this.Tm))this.Tm.contentWindow.postMessage(e,"*")};eL.prototype.YQ=function(e,A){if(this.Tm==null)return;
this.Tm.setAttribute("style","width:"+e+"px; height:"+A+"px")};function aM(){kc.call(this,[9,12],!1,"---panels/tpreset",kc.oy.Nb);
this.w7=null;this.CL=new eM(q.TD);this.CL.parent=this;var e=B.t("div","padded");e.setAttribute("style","width:20em");
this.xa.appendChild(e);e.appendChild(this.CL.Ub)}aM.prototype=new kc("");aM.prototype.fp=function(){this.CL.mb(this.w7.wF)};
aM.prototype.Mv=function(e,A){this.w7=e;if(A==ac.xh||A==ac.Nb)this.CL.mb(e.wF)};aM.prototype.YQ=function(e,A){this.CL.awx(this.w7.zX)};
aM.prototype.f=function(){kc.prototype.f.call(this);this.CL.f()};var an=function(){var e=[],A=null,a=null,p=null,N=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function i(){kc.call(this,"Memory",!1,null,kc.oy.aes);var $=B.t("div","padded");this.xa.appendChild($);
a=new c$(["<< VAR0",[0,13,2]],!1,null,!0);a.addEventListener("click",function(m){e.pop();s()});$.appendChild(a.e);
A=B.t("div","scrollable");A.setAttribute("style","width:20em;  height:26em; margin-top:8px;");$.appendChild(A)}i.prototype=new kc("");
i.prototype.OM=function($,m,J){p=m;this.fp()};i.prototype.fp=function(){a.Y7(!1);if(!B.ND(A))return;
var $={lO:"Total:",mh:[]};for(var c=0;c<p.length;c++)$.mh.push(n(p[c]));F($);e=[$];s()};i.prototype.f=function(){kc.prototype.f.call(this);
a.f()};function Z($){var m=$.currentTarget,c=0;while((m=m.previousSibling)!=null)c++;e.push(e[e.length-1].mh[c-1]);
s()}function s(){a.Y7(e.length>1);var $=e[e.length-1];B.XK(A);D($,A,0);$.mh.sort(function(m,J){return J.SZ[0]-m.SZ[0]});
for(var c=0;c<$.mh.length;c++)D($.mh[c],A,1)}function D($,m,J){var w=iW.xc,f=J!=0&&$.mh,b="margin-left:"+J*10+"px; margin-bottom:8px; padding:3px 5px;";
if(f)b+="cursor:pointer;";if($.lT!=null)b+="background-color:rgba("+N[$.lT].join(",")+",0.2);";var L=B.t("div");
m.appendChild(L);L.setAttribute("style",b);L.innerHTML=B.u_($.lO)+"<br />"+"RAM: <b>"+w($.SZ[0])+"</b>\u2001GPU: <b>"+w($.SZ[1])+"</b>";
if(f)L.addEventListener("click",Z,!1)}function n($){var m={lO:$.name,mh:[],lT:0},J=fG.Jg?1:0,w=1-J,f={lO:"Final Image",SZ:[$.m*$.n*4,J*$.m*$.n*4],lT:2};
m.mh.push(f);for(var c=0;c<$.B.length;c++){var b=S($.B[c]);if(b.mh.length!=0)m.mh.push(b)}var L=$.add.lnk2;
if(L)for(var c=0;c<L.length;c++){var b=L[c],C={lO:b._c,mh:[],lT:4},M=0;C.mh.push({lO:"Raw file",SZ:[b.raw.length,0]});
if(b.G9)for(var y=0;y<b.G9.length;y+=2)M+=b.G9[y].length;if(M!=0)C.mh.push({lO:"Decoded pixels",SZ:[M,0]});
F(C);m.mh.push(C)}F(m);return m}function S($){var m={lO:$.getName(),mh:[],lT:1},J=fG.Jg?1:0,w=1-J,f=$.rect.O();
if(f!=0)m.mh.push({lO:"Layer pixels",SZ:[f*4,J*f*4]});if($.add.lmfx&&$.P5.me.type){var b=$.P5.me.type,y=0;
for(var L in b){var C=0;for(var M=0;M<b[L].length;M++)if(L=="ebbl"){if(b[L][M].I2)C+=b[L][M].I2.bj.O();
if(b[L][M].ie)C+=b[L][M].ie.bj.O();if(b[L][M].kw)C+=b[L][M].kw.bj.O();if(b[L][M].r_)C+=b[L][M].r_.bj.O()}else C+=b[L][M].bj.O();
if(C!=0)m.mh.push({lO:i1.get(iF.names[iF.order.indexOf(L)]),SZ:[w*C*4,J*C*4],lT:3})}if($.P5.lG)y+=f;
if($.P5.Iz)y+=f;if($.P5.Qz)y+=f;if($.P5.Qz)y+=f;if($.P5.qG)y+=f;if($.P5.Iv)y+=f;var Q=$.P5.UU?$.P5.UU.length:0;
if(y+Q!=0)m.mh.push({lO:"Additional Blending Data",SZ:[w*y*4+Q,J*y*4]})}var k=$.tR(),E=k?k.rect.O():0;
if(E!=0){m.mh.push({lO:"Raster Mask",SZ:[E,0]})}var k=$.add.vmsk,E=k&&k.SW?k.SW.rect.O():0;if(E!=0){m.mh.push({lO:"Vector Mask",SZ:[E,0]})}F(m);
return m}function F($){$.SZ=[0,0];for(var c=0;c<$.mh.length;c++){$.SZ[0]+=$.mh[c].SZ[0];$.SZ[1]+=$.mh[c].SZ[1]}}return i}();
function gn(){kc.call(this,[9,14],!1,"---panels/notes",kc.oy.avH);this.xa.setAttribute("style","min-width:240px;");
var e=B.t("div","padded");this.xa.appendChild(e);this.wT=new fp("Author");e.appendChild(this.wT.e);this.Oc=B.t("textarea");
B.SU(this.Oc);e.appendChild(this.Oc);var A=new c$("<<",null,null,!0);e.appendChild(A.e);this.aep=A;var a=new c$(">>",null,null,!0);
e.appendChild(a.e);A.h("click",this.gZ,this);a.h("click",this.gZ,this);var p=this.a8G=new bQ("");e.appendChild(p.e)}gn.prototype=new kc("");
gn.prototype.gZ=function(e){var A=e.target==this.aep?-1:1,a=this.gJ,p=a.add.Anno;if(p==null)return;var N=p.length,i=a.u.g$;
a.u.g$=(i+A+N)%N;a.W$=!0;this.Se()};gn.prototype.Se=function(){var e=this.gJ;if(e==null)return;var A=e.add.Anno;
if(A==null||A.length==0)return;var a=e.u.g$,p=A[a];this.Oc.value=p[4];this.a8G.z(a+1+" / "+A.length);
this.wT.z(p[3])};gn.prototype.YQ=function(e,A){if(this.SB==e)return;this.SB=e;A=Math.min(A,200);this.Oc.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(e-10)+"px; height:"+(A-66)+"px")};
gn.prototype.OM=function(e,A,a){this.gJ=e;this.Se()};function eB(){b5.call(this);this.G=0;this.JX=null;
this.e=B.t("div","toolconf");this.CL=null;this.wV=null;this.body=new B.t("div","body")}eB.prototype=new b5;
eB.prototype.afw=function(e,A){this.G=e;this.JX=A;if(q.PS[e]){var a=this.CL=new eM(e);this.e.appendChild(a.e);
a.parent=this}else{this.wV=B.t("div");this.e.appendChild(this.wV)}this.e.appendChild(this.body);this.f()};
eB.prototype.a5c=function(e,A){};eB.prototype.a0S=function(e){};eB.prototype.Mv=function(e,A){if(A==ac.xh||A==ac.Nb)if(this.CL)this.CL.mb(e.wF)};
eB.prototype.JE=function(e){};eB.prototype.f=function(){if(this.CL)this.CL.f();else this.wV.innerHTML=B.iE(this.JX,null,"toolicon");
this.Ei()};eB.prototype.Ei=function(){};function iB(){eB.call(this);this.k6=new gx;this.k6.h(t.E.A,this.m$,this);
this.body.appendChild(this.k6.e)}iB.prototype=new eB;iB.prototype.Ei=function(){this.k6.f()};iB.prototype.m$=function(e){var A=new k4(t.E.L,!0);
A.data={d:t.c.FZ,G:this.G,hP:this.k6.aa9()};this.S(A)};iB.prototype.JE=function(e){this.k6.as8(e.KO)};
function a9(e){eB.call(this);if(e==null)return;this.w7=null;this.ut={};if(e.indexOf("brush")!=-1&&e.indexOf("prsr")==-1)e.push("prsr");
for(var c=0;c<e.length;c++){var A=e[c],a=null;if(A=="brush"){a=new bZ}if(A=="bmode"){a=new el([12,19,0],im.Wj,im.E_)}if(A=="bmode0"){a=new el([12,19,0],im.Wj.slice(23))}if(A=="emode"){a=new el([12,36],[[9,3],[10,38]])}if(A=="opacity"){a=new g0([12,0],0,100,"%");
a.z(100)}if(A=="flow"){a=new g0([12,63],0,100,"%");a.z(100)}if(A=="smth"){a=new g0([19,3,0],0,100,"%");
a.z(0)}if(A=="samp"){a=new el([12,36],[[12,25,4],[12,25,5],[12,46]])}if(A=="wconf"){a=new bv;a.z([40,!0,!0])}if(A=="sall"){a=new ie([12,25,2])}if(A=="strn"){a=new g0([12,64],1,100,"%");
a.z(50)}if(A=="smode"){a=new el([12,36],[[19,7,0],[19,7,1]]);a.z(1)}if(A=="pdetail"){a=new ie([12,65]);
a.FC()}if(A=="rng"){a=new el([12,12],[[19,6,0],[19,6,1],[19,6,2]]);a.z(1)}if(A=="expo"){a=new g0([12,5],0,100,"%");
a.z(50)}if(A=="algnd"){a=new ie([12,75]);a.z(!1)}if(A=="sfrom"){a=new el([12,70],[[17,1],[17,3],[17,0]])}if(A=="alt"){a=new hj(null,["Alt"],!0,["Select Source"])}if(A=="qsmode"){a=new ah([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(A=="redge"){a=new c$([7,11],!1,null,!0)}if(A=="setop"){a=new hX}if(A=="patch"){a=new ah(null,[[12,70],[12,71]])}if(A=="prsr"){a=this.ut.brush.j2}this.body.appendChild(a.e);
if(A=="prsr")continue;a.parent=this;this.ut[A]=a;if(A=="brush")a.h(t.E.A,this.ahO,this);else if(A=="redge")a.h("click",this.iL,this);
else a.h(t.E.A,this.sU,this)}}a9.prototype=new eB;a9.prototype.a5c=function(e,A){e=e[1];var a=this.ut;
if(e.Md)a.bmode.z(im.Jd.indexOf(e.Md.v.BlnM));if(e.Opct)a.opacity.z(e.Opct.v);if(e.flow)a.flow.z(e.flow.v);
if(e.Brsh)a.brush.z(e,A.TM.Cu,A.TM.tV);if(e.FrgC){var p=j.M.kq(e.FrgC.v),N=new k4(t.E.L,!0);N.data={d:t.c.iK,hP:ac.V9,dy:0,Z:p.o<<16|p.J<<8|p.k};
this.S(N)}this.ahO();this.sU()};a9.prototype.a0S=function(){if(q.PS[this.G]==null)return null;var e=this.ut,A=JSON.parse(JSON.stringify(e.brush.b()));
A.classID=q.PS[this.G][1][0];if(e.bmode)A.Md={t:"enum",v:{BlnM:im.Jd[e.bmode.b()]}};if(e.opacity)A.Opct={t:"long",v:e.opacity.b()};
if(e.flow)A.flow={t:"long",v:e.flow.b()};var a=this.w7.lM;a={o:a>>>16,J:a>>>8&255,k:a&255};A.FrgC={t:"Objc",v:j.M.yN(a)};
return["Brush Preset "+A.Brsh.v.Dmtr.v.val,A]};a9.prototype.iL=function(){var e=new k4(t.E.L,!0);e.data={d:t.c.Ch,NY:"redge"};
this.S(e)};a9.prototype.Ei=function(){for(var e in this.ut)this.ut[e].f()};a9.prototype.JE=function(e){if(e.apa=="showBrushOpts"){this.ut.brush.ag8(e.QT.x,e.QT.y)}for(var A in e.Tf){var a=e.Tf[A];
if(A!="qsmode")a*=100;if(this.ut[A])this.ut[A].z(a)}};a9.prototype.Mv=function(e,A){eB.prototype.Mv.call(this,e,A);
this.w7=e;var a=this.ut.brush;if(a==null)return;if(A==ac.xh||A==ac.TD)a.mb(e.TM);if(A==ac.uO){a.z(e.TM.oS,e.TM.Cu,e.TM.tV)}};
a9.prototype.ahO=function(){var e=new k4(t.E.L,!0);e.data={d:t.c.iK,hP:ac.uO,dF:this.ut.brush.b()};this.S(e)};
a9.prototype.sU=function(){var e=new k4(t.E.L,!0);e.data={d:t.c.FZ,G:this.G};for(var A in this.ut){if(A=="brush"||A=="redge")continue;
var a=this.ut[A].b();if(["opacity","flow","smth","strn","expo"].indexOf(A)!=-1)e.data[A]=a/100;else if(A=="bmode")e.data.bmode=im.U6[a];
else if(A=="bmode0")e.data.bmode=im.U6[23+a];else e.data[A]=a}this.S(e)};function bO(e,A){eB.call(this);
if(e)return;this.ut={};for(var c=0;c<A.length;c++){var a=A[c],p=null;if(a=="binop")p=new hX;if(a=="feat"){p=new g0([7,6],0,100,"px");
p.z(0)}if(a=="redge")p=new c$([7,11],!1,null,!0);if(a=="wconf")p=new bv;if(a=="cstr")p=new cc;if(a=="anta"){p=new ie([12,25,1]);
p.z(!0)}if(a=="sall")p=new ie([12,25,2]);if(a=="redge")p.h("click",this.iL,this);else p.h(t.E.A,this.sU,this);
p.parent=this;this.body.appendChild(p.e);this.ut[a]=p}}bO.prototype=new eB;bO.prototype.JE=function(e){if(e.RZ!=null)this.ut.binop.z(e.RZ);
else if(e.tg){for(var A in e.tg)if(this.ut[A])this.ut[A].z(e.tg[A])}else{var a=bO.Sr;if(a==null){var p=f6.ah2(!0);
a=bO.Sr=new fx(p.items,p.NX)}a.f();a.parent=this;a.update(e.Ru,e.PC);var N=new k4(t.E.L,!0);N.data={d:t.c.OY,U7:a,x:e.AQ.Qb+2,y:e.AQ.aG+1};
this.S(N)}};bO.prototype.Ei=function(){for(var e in this.ut)this.ut[e].f()};bO.prototype.iL=function(){var e=new k4(t.E.L,!0);
e.data={d:t.c.Ch,NY:"redge"};this.S(e)};bO.prototype.sU=function(){var e=new k4(t.E.L,!0);e.data={d:t.c.FZ,G:this.G,tg:{}};
for(var A in this.ut)e.data.tg[A]=this.ut[A].b();this.S(e)};function jM(){a9.call(this,["brush","strn"])}jM.prototype=new a9;
function il(){a9.call(this,"brush bmode opacity flow smth prsr".split(" "))}il.prototype=new a9;function ec(){a9.call(this,["brush","bmode0","samp","wconf"])}ec.prototype=new a9;
function hJ(){a9.call(this,["brush"])}hJ.prototype=new a9;function dC(){a9.call(this,["brush","bmode","opacity","smth","prsr"])}dC.prototype=new a9;
function hb(){a9.call(this,["brush","rng","expo"])}hb.prototype=new a9;function f2(){a9.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}f2.prototype=new a9;
function h$(e){eB.call(this);if(e==null)return;var A=B.t("span","fitem");this.body.appendChild(A);var a=[[17,0],[17,1],[11,12,0],[17,2]];
this.pP=[];for(var c=0;c<a.length;c++){var p=new c$(a[c],!1,null,!0);this.pP.push(p);p.h("click",this.a3n,this);
if(!e||c==1)A.appendChild(p.e)}this.n9=new cc;this.n9.h(t.E.A,this.auD,this);if(!e)this.body.appendChild(this.n9.e);
this.V6=new c$([15,7,6],!1,null,!0);this.V6.h("click",this.a3n,this);if(!e)this.body.appendChild(this.V6.e);
this.ye=new ie([15,7,10]);this.ye.h(t.E.A,this.auD,this);if(!e)this.body.appendChild(this.ye.e);this.yb=new aZ;
this.yb.h("click",this.g3,this)}h$.prototype=new eB;h$.prototype.Ei=function(){this.yb.f();for(var c=0;
c<this.pP.length;c++)this.pP[c].f();this.n9.f();this.ye.f();this.V6.f()};h$.prototype.JE=function(e){var A=this.yb.e;
if(e.eG)this.body.appendChild(A);else if(this.body.contains(A))this.body.removeChild(A);if(e.n9)this.n9.z(e.n9)};
h$.prototype.g3=function(e){var A={d:t.c.FZ,G:this.G,d0:this.yb.b()?"commit":"cancel"},a=new k4(t.E.L,!0);
a.data=A;this.S(a)};h$.prototype.a3n=function(e){e.target.e.blur();var A={d:t.c.FZ,G:this.G,d0:"cropby",ai0:this.pP.indexOf(e.target)};
if(e.target==this.V6)A.d0="straighten";var a=new k4(t.E.L,!0);a.data=A;this.S(a)};h$.prototype.auD=function(e){var A={d:t.c.FZ,G:this.G,d0:"config",hk:{jj:this.n9.b(),UE:this.ye.b()},avr:e.target==this.n9},a=new k4(t.E.L,!0);
a.data=A;this.S(a)};function dS(){h$.call(this,!1)}dS.prototype=new h$;function jr(){h$.call(this,!0)}jr.prototype=new h$;
function b2(){a9.call(this,["brush","rng","expo"])}b2.prototype=new a9;function f0(){a9.call(this,"brush emode opacity flow smth prsr".split(" "))}f0.prototype=new a9;
function ht(){a9.call(this,["brush","samp","wconf"])}ht.prototype=new a9;function h1(){bO.call(this,!1,["binop","feat","anta","redge","cstr"])}h1.prototype=new bO(!0);
function go(){eB.call(this);var e=this.ut=[new el([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new el([12,70],[[17,1],[17,3],[17,0]]),new ie([12,20,1]),new ie([8,0])];
e[1].z(2);e[2].z(!0);for(var c=0;c<e.length;c++){var A=e[c];A.h(t.E.A,this.sU,this);this.body.appendChild(A.e)}}go.prototype=new eB;
go.prototype.sU=function(e){var A=this.ut,a=[];for(var c=0;c<A.length;c++)a[c]=A[c].b();var p=new k4(t.E.L,!0);
p.data={d:t.c.FZ,G:this.G,tg:a};this.S(p)};go.prototype.Ei=function(){for(var c=0;c<this.ut.length;c++)this.ut[c].f()};
function en(){eB.call(this);this.S6=new jX(!1);this.S6.parent=this;this.S6.h(t.E.A,this.NJ,this);this.body.appendChild(this.S6.e);
this.S6.z(JSON.parse(iF.L9.ajr).v);this.cE=new el(null,iF.M.names.slice(0,5));this.cE.h(t.E.A,this.NJ,this);
this.body.appendChild(this.cE.e);this.WB=new el([12,19,0],im.Wj,im.E_);this.WB.h(t.E.A,this.NJ,this);
this.body.appendChild(this.WB.e);this.vC=new g0([12,0],0,100,"%");this.vC.parent=this;this.vC.h(t.E.A,this.NJ,this);
this.body.appendChild(this.vC.e);this.vC.z(100);this._m=new ie([12,23,0]);this._m.h(t.E.A,this.NJ,this);
this.body.appendChild(this._m.e);this.V4=new ie([12,23,3]);this.V4.h(t.E.A,this.NJ,this);this.body.appendChild(this.V4.e)}en.prototype=new eB;
en.prototype.Ei=function(){this.cE.f();this.WB.f();this.vC.f();this._m.f();this.V4.f()};en.prototype.Mv=function(e,A){eB.prototype.Mv.call(this,e,A);
var a=A==ac.V9;this.S6.Fi(e.lM,e.dG);if(a||A==ac.Pg||A==ac.xh)this.S6.mb(e.Sv)};en.prototype.NJ=function(){var e=new k4(t.E.L,!0);
e.data={d:t.c.FZ,G:this.G};e.data.hP={M:this.S6.b(),gP:iF.M.types[this.cE.b()],J1:this._m.fY(),Mu:this.V4.fY(),a2V:im.U6[this.WB.b()],a_:this.vC.b()/100};
this.S(e)};function fP(){eB.call(this);this.Bg=new ie([8,7,1]);this.body.appendChild(this.Bg.e);this.Bg.h(t.E.A,this.sU,this)}fP.prototype=new eB;
fP.prototype.sU=function(){var e={d:t.c.FZ,G:this.G,ta:this.Bg.b()},A=new k4(t.E.L,!0);A.data=e;this.S(A)};
function de(){eB.call(this);var e=B.t("span","fitem");this.body.appendChild(e);this.bn=[new g0([12,15],-180,180,"\xB0"),new c$([1,12,2],null,null,!0)];
for(var c=0;c<this.bn.length;c++){var A=this.bn[c];A.parent=this;e.appendChild(A.e);A.h(c==1?"click":t.E.A,this.G5,this)}}de.prototype=new eB;
de.prototype.Ei=function(){for(var c=0;c<this.bn.length;c++)this.bn[c].f()};de.prototype.JE=function(e){this.bn[0].z(e.A2*180/Math.PI)};
de.prototype.G5=function(e){var A=this.bn.indexOf(e.target),a=new k4(t.E.L,!0);a.data={d:t.c.FZ,G:this.G,A2:A==1?0:e.target.b()*Math.PI/180};
this.S(a)};function iC(){a9.call(this,["brush","algnd","sfrom","alt"])}iC.prototype=new a9;function fD(){eB.call(this);
this.xD=new aY;this.xD.parent=this;this.body.appendChild(this.xD.LT.e);this.body.appendChild(this.xD.n5.e);
this.body.appendChild(this.xD.L3.e);this.body.appendChild(this.xD.n3.e);var e=B.t("span","fitem");this.body.appendChild(e);
e.appendChild(this.xD.Qf.e);e.appendChild(this.xD.Ml.e);e.appendChild(this.xD.MA.e);this.As=new el("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.As.h(t.E.A,this.g3,this);this.body.appendChild(this.As.e);this.Z6=new c$([11,9],!1,null,!0);this.Z6.h("click",this.awY,this);
this.body.appendChild(this.Z6.e);this.yb=new aZ;this.yb.h("click",this.g3,this)}fD.prototype=new eB;
fD.prototype.Ei=function(){this.yb.f();this.xD.f();this.Z6.f()};fD.prototype.awY=function(e){var A={d:t.c.FZ,G:this.G,d0:"showwarp"},a=new k4(t.E.L,!0);
a.data=A;this.S(a)};fD.prototype.JE=function(e){if(e.d0=="showactive")this.body.appendChild(this.yb.e);
if(e.d0=="hideactive")this.body.removeChild(this.yb.e);if(e.d0=="changeAA")this.As.z(e.pL);if(e.d0=="showpan"){var A=[{name:[0,1],ks:!0}],a=[{Y:t.E.v,G:q.L1,W:{d:"editCurr",zK:e.zK}}],p=e.AQ;
if(e.agH){A=[{name:["VAR0: VAR1",[0,5],[7,0]],ks:!0}];a=[{Y:t.E.wH,W:q.ns.ec(!0)}];var N=f6.aah();A=A.concat(N[0]);
a=a.concat(N[1])}A.push({name:[11,9]});a.push({Y:t.E.L,W:{d:t.c.FZ,G:this.G,d0:"showwarp"}});var i=new fx(A,a);
i.parent=this;i.f();i.update(e.Ru,e.PC);var Z=new k4(t.E.L,!0);Z.data={d:t.c.OY,U7:i,x:p.Qb+2,y:p.aG+1};
this.S(Z)}};fD.prototype.Mv=function(e,A){eB.prototype.Mv.call(this,e,A);if(A!=ac.xh&&A!=ac.yq&&A!=ac.fD&&A!=ac.UN)return;
this.xD.z(e.ZG,e.de,e.Uw)};fD.prototype.g3=function(e){var A={d:t.c.FZ,G:this.G,d0:this.yb.b()?"commit":"cancel"};
if(e.target==this.As){A.d0="changeAA";A.pL=this.As.b()}var a=new k4(t.E.L,!0);a.data=A;this.S(a)};function dt(){bO.call(this,!1,["binop","feat","anta","redge"])}dt.prototype=new bO(!0);
function gy(){eB.call(this);var e=[],a="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.ZX=new ie([12,85]);this.ZX.h(t.E.A,this.sU,this);e.push(this.ZX.e);this.ui=new el(null,[[0,4],[0,3]]);
this.ui.h(t.E.A,this.sU,this);this.ui.z(1);e.push(this.ui.e);this.BB=new ie([20,1]);this.BB.h(t.E.A,this.sU,this);
e.push(this.BB.e);this.Ux=new ie([12,83]);this.Ux.h(t.E.A,this.sU,this);e.push(this.Ux.e);this._s=new b5;
this._s.e=B.t("div","floatcont form");this._s.e.setAttribute("style","max-width: 200px;");this._s.parent=this;
var A=this._s.e;this.acA=new el("Scale for exported files",["1x","2x","3x","4x"]);A.appendChild(this.acA.e);
this.pO=new c$(a+" PNG",!1,"Save selected layers as PNG",!0);A.appendChild(this.pO.e);this.pO.h("click",this.we,this);
this.a2o=new c$(a+" SVG",!1,"Save selected layers as SVG",!0);A.appendChild(this.a2o.e);this.a2o.h("click",this.we,this);
var p=new c$(a,!1,"Save selected layers",!0);e.push(p.e);p.h("click",function(D){if(B.ND(this._s.e))return;
var n=p.e.getBoundingClientRect(),S=new k4(t.E.L,!0);S.data={d:t.c.OY,U7:this._s,x:n.left,y:n.top+n.height,J6:!0};
this.S(S)},this);var N=B.t("span","fitem");e.push(N);var i=B.t("span","fitem");e.push(i);this.Ca=[];
for(var c=0;c<8;c++){var Z=c==3||c==7?[20,4,6]:[20,4,c<3?c:c-1],s=new c$("Hi",!1,Z);(c<4?N:i).appendChild(s.e);
s.h("click",this.we,this);this.Ca.push(s)}for(var c=0;c<e.length;c++)this.body.appendChild(e[c]);this.a9T=e}gy.prototype=new eB;
gy.prototype.JE=function(e){var A=e.KO,a=e.a3v;this.ZX.z(A.ix);this.BB.z(A.nQ);this.Ux.z(A.Eh);if(a){B.XK(this.body);
for(var c=0;c<a.length;c++)if(a[c]==1&&this.a9T[c])this.body.appendChild(this.a9T[c])}};gy.prototype.we=function(e){var A=this.Ca.indexOf(e.target),a;
if(A==-1){a=new k4(t.E.L,!0);a.data={d:t.c.FZ,G:this.G,dy:e.target==this.pO?"getPNG":"getSVG",uF:this.acA.b()+1}}else{a=new k4(t.E.v,!0);
a.G=q.Mf;a.data={d:"algn",Z:A}}this.S(a)};gy.prototype.sU=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.FZ,G:this.G,dy:"prms",ix:this.ZX.fY(),a9i:this.ui.b(),nQ:this.BB.fY(),Eh:this.Ux.fY()};
this.S(A)};gy.prototype.Ei=function(){this.ZX.f();this.ui.f();this.BB.f();this.Ux.f();var e="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var c=0;c<8;c++){this.Ca[c].WI(B.iE("align/"+e[c],null,"autoscale"))}};function hW(){bO.call(this,!1,["binop","feat","redge","wconf","sall"])}hW.prototype=new bO(!0);
function ba(){a9.call(this,["setop","patch"])}ba.prototype=new a9;function ch(){a9.call(this,["setop"])}ch.prototype=new a9;
function bP(){a9.call(this,["bmode","opacity","wconf","sall"])}bP.prototype=new a9;function b4(){bO.call(this,!1,["binop","feat","anta","redge"])}b4.prototype=new bO(!0);
function aR(){bO.call(this,!1,["binop","feat","anta","redge"])}aR.prototype=new bO(!0);function eT(){bO.call(this,!1,["binop","feat","redge","cstr"])}eT.prototype=new bO(!0);
function ig(){eB.call(this);this.w7=null;this.pI=null;this.Pd=[new fp("X",null,3.2,null,!0),new fp("Y",null,3.2,null,!0),new fp("W",null,3.2,null,!0),new fp("H",null,3.2,null,!0),new fp([12,15],"\xB0",3.7,null,!0),new fp(["VAR0 1",[12,80,0]],null,3.5,null,!0),new fp(["VAR0 2",[12,80,0]],null,3.5,null,!0),new c$([15,7,6],!1,null,!0),new c$([2,2],!1,null,!0)];
for(var c=0;c<this.Pd.length;c++){var e=this.Pd[c];this.body.appendChild(e.e);if(c>6)e.h("click",this.On,this)}this.Ys=0}ig.prototype=new eB;
ig.prototype.On=function(e){var A=this.Pd.indexOf(e.target)==7,a=new k4(t.E.v,!0);if(A){if(this.Ys==0)return;
a.G=q.lE;a.data={d:"rot",fQ:[2,5],Z:-this.Ys}}else{a.G=q.ho;for(var c=0;c<6;c++)this.Pd[c].z(null)}this.S(a)};
ig.prototype.JE=function(e){function A(s,D,n){var S=Math.sqrt(Math.pow(D.x-s.x,2)+Math.pow(D.y-s.y,2)),F=Math.sqrt(Math.pow(D.x-n.x,2)+Math.pow(D.y-n.y,2)),$=Math.sqrt(Math.pow(n.x-s.x,2)+Math.pow(n.y-s.y,2));
return Math.acos((F*F+S*S-$*$)/(2*F*S))}if(e==null)return;this.pI=e;var a=e.ad9,p=e.YN,N=p.x-a.x,i=p.y-a.y;
this.Ys=-Math.atan2(i,N);if(e.I$)this.Ys=A(p,a,e.I$);var Z=this.Pd;Z[0].z(this._w(e,a.x));Z[1].z(this._w(e,a.y));
Z[2].z(this._w(e,N));Z[3].z(this._w(e,i));Z[4].z((this.Ys*180/Math.PI).toFixed(2));Z[5].z(this._w(e,k7.nR(a,p)));
if(e.I$){Z[6].z(this._w(e,k7.nR(a,e.I$)))}else Z[6].z("")};ig.prototype._w=function(e,A){var a=j.qC.Wa(A,e.l5,this.w7,e.axJ,!1);
return parseFloat(a).toFixed(2)};ig.prototype.Mv=function(e,A){this.w7=e;this.JE(this.pI)};ig.prototype.Ei=function(){var e=this.Pd;
for(var c=0;c<e.length;c++)e[c].f();B.qB(e[2],e[3])};function jY(){a9.call(this,["brush","strn","pdetail"])}jY.prototype=new a9;
function iN(){a9.call(this,["brush","sfrom"]);this.a6w=[];var e=[[7,12]];for(var c=0;c<e.length;c++){var A=new c$(e[c],!1,null,!0);
this.a6w.push(A);A.parent=this;this.body.appendChild(A.e);A.h("click",this.a2E,this)}}iN.prototype=new a9;
iN.prototype.a2E=function(e){var A=this.a6w.indexOf(e.currentTarget),a=new k4(t.E.wH,!0);a.data=q.Wn.fk("contentAware");
this.S(a)};function fT(){a9.call(this,["brush","strn"])}fT.prototype=new a9;function ai(){a9.call(this,["brush","flow","smode"])}ai.prototype=new a9;
function ia(){eB.call(this);this.rQ=!1;var e=B.t("span","fitem");this.body.appendChild(e);this.Og=new ah(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
e.appendChild(this.Og.e);this.Og.h(t.E.A,this.sU,this);this.OR=new c$([20,2]);this.body.appendChild(this.OR.e);
this.OR.h("click",this.a2$,this);this.Aq=new c$([20,3]);this.body.appendChild(this.Aq.e);this.Aq.h("click",this.a2$,this);
this.Bg=new ie([8,7,1]);this.body.appendChild(this.Bg.e);this.Bg.h(t.E.A,this.sU,this)}ia.prototype=new eB;
ia.prototype.Ei=function(){this.OR.f();this.Aq.f()};ia.prototype.sU=function(){var e={d:t.c.FZ,G:this.G,L8:this.Og.b()==0,ta:this.Bg.b()},A=new k4(t.E.L,!0);
A.data=e;this.S(A)};ia.prototype.JE=function(e){if(this.rQ!=e.rQ)this.Og.z(1-this.Og.b());this.rQ=e.rQ};
ia.prototype.a2$=function(e){var A=new k4(t.E.v,!0);A.G=q._B;A.data={d:"adapt",Z:e.target==this.OR?"pixel":"fitscr"};
this.S(A)};function ii(e,A){eB.call(this);if(e==null)return;this.eH=e;this.Gx={};this.aqI=A;for(var c=0;
c<e.length;c++){var a=e[c],p=null;if(a=="tmode"){p=new el(null,[[12,76,1],[12,76,0],[12,76,2]]);p.z(0);
if(A)p.acr(2)}if(a=="make"){p=new ah("Make",[[17,2],[12,76,1]],null,!0)}if(a=="anta"){p=new ie([12,25,1]);
p.z(!0)}if(a=="binop"){p=new el(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(a=="pshape")p=new el(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(a=="shape")p=new aw([12,76,1]);if(a=="crad"){p=new g0([12,94,0],0,50,"px");p.z(0)}if(a=="cstr"){p=new cc}if(a=="irad"){p=new g0([12,94,1],0,100,"%");
p.z(40)}if(a=="length"){p=new g0([12,80,0],4,40);p.z(4)}if(a=="sides"){p=new g0([12,78],3,30);p.z(5)}if(a=="width"){p=new g0([12,41],1,100,"px");
p.z(5)}if(a=="tolr"){p=new g0([12,24],0,100);p.z(5)}if(a=="fstyle"){p=new ga([12,26])}if(a=="sstyle"){p=new hv}if(a=="psnap"){p=new ie([8,10])}if(a=="crnr"){p=new c$("\u2312",!1,[12,94,0],!0)}if(a=="aopts"){p=new kl;
p.z([!1,!1,50,60,0])}p.parent=this;this.body.appendChild(p.e);this.Gx[a]=p;p.h(a=="crnr"?"click":t.E.A,this.sU,this)}}ii.prototype=new eB;
ii.prototype.JE=function(e){if(e.RZ!=null)this.Gx.binop.z(e.RZ);else if(e.dy=="vals")for(var A in e.aA1)this.Gx[A].z(e.aA1[A]);
else{var a=ii.Sr;if(a==null)a=ii.Sr=new fx([{name:"Remove Anchor Point",C:function(N){var i=N?N.sz():null;
return{C:N&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.xw.length!=0}}},{name:"Remove Path",C:function(N){var i=N?N.sz():null;
return{C:N&&i[1].length!=0&&i[0][i[1][0]].add.vmsk.g.length!=0}},ks:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{Y:t.E.v,G:q.Cj,W:{d:"remove",lr:!0}},{Y:t.E.v,G:q.gS,W:{d:"remove"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"makesel"}},{Y:t.E.wH,W:q.X2.R8(0)},{Y:t.E.wH,W:q.X2.R8(1)}]);
a.parent=this;a.update(e.Ru,e.PC);var p=new k4(t.E.L,!0);p.data={d:t.c.OY,U7:a,x:e.AQ.Qb+2,y:e.AQ.aG+1};
this.S(p)}};ii.prototype.ar8=function(c){return null};ii.prototype.Ei=function(){for(var e in this.Gx){this.Gx[e].f()}};
ii.prototype.sU=function(e){var A=new k4(t.E.L,!0),a=this.Gx;if(e.target==a.crnr){A=new k4(t.E.v,!0);
A.G=q.Cj;A.data={d:"crnr"}}else if(e.target==a.make){var c=e.target.b();console.log(c);if(c==0)A.data={d:t.c.Ch,NY:"makesel"};
else{A=new k4(t.E.v,!0);A.G=q.vM;A.data={d:"newfill",lT:0}}}else if(e.target==a.fstyle){A.data={d:t.c.iK,hP:ac.z9,Z:a.fstyle.b()}}else if(e.target==a.sstyle){A.data={d:t.c.iK,hP:ac.Rq,Z:a.sstyle.b()}}else if(e.target==a.tmode){A.data={d:t.c.iK,hP:ac.SF,Z:a.tmode.b()}}else{if(a.pshape)this.i0();
A.data={d:t.c.FZ,G:this.G};for(var p in a)A.data[p]=a[p].b()}this.S(A)};ii.prototype.i0=function(){var e=this.Gx,A=e.tmode.b(),a=e.pshape?this.ar8(e.pshape.b()):this.eH,p;
if(A==0)p=["anta","make"];if(A==1)p=["anta","fstyle","sstyle"];if(A==2)p=["make","binop","fstyle","sstyle"];
var N=e.binop;if(N){var i=N.b();if(A==0){N.agZ(0)}else{N.acr(0);if(i==0){N.z(1);this.sU({target:N})}}}B.XK(this.body);
for(var c=0;c<a.length;c++){var Z=a[c];if(p.indexOf(Z)!=-1)continue;this.body.appendChild(e[Z].e)}};
ii.prototype.Mv=function(e,A){eB.prototype.Mv.call(this,e,A);var a=this.Gx.fstyle,p=this.Gx.sstyle,N=this.Gx.tmode;
if(a)a.Mv(e,A);if(p)p.Mv(e,A);if(A==ac.xh||A==ac.ka)if(e.C3.length!=0&&this.Gx.shape){this.Gx.shape.mb(e.C3)}if(A==ac.xh||A==ac.z9)if(a)a.z(null,e.wz,e.agE);
if(A==ac.xh||A==ac.Rq)if(p)p.z(null,e.gX,e.a3l);if(A==ac.xh||A==ac.SF){var i=e.fK;if(this.aqI&&i==2)i=0;
if(N){N.z(i);this.i0()}}};function j2(){ii.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}j2.prototype=new ii;
function cv(){ii.call(this,"tmode make anta fstyle sstyle binop".split(" "))}cv.prototype=new ii;function iq(){ii.call(this,["fstyle","sstyle"]);
this.aoA=null;this.apO=null;this.awS=null;this.xu=new el([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.tc=new c$("\u25BC");this.tc.FC();this.W1=new c$("\u25B2");this.W1.FC();this.xT=[this.xu,this.tc,this.W1];
for(var c=0;c<this.xT.length;c++){var e=this.xT[c];this.body.appendChild(e.e);e.parent=this;e.h(c==0?t.E.A:"click",this.Xf,this)}}iq.prototype=new ii;
iq.prototype.JE=function(e){if(e.d0=="main"){var A=this.xT,a=e.Ed;if(a){this.apO=a.clone();this.awS=JSON.stringify(e.X);
var p=a.g.slice(0),N=p.length;for(var c=0;c<p.length;c++)p[c]++;p.sort(function(D,n){return D-n});A[0].Ss();
A[1].Y7(N!=0);A[2].Y7(N!=0);A[0].WI(N==0?"No Paths":N==1?"Path "+p[0]:"Paths "+p.slice(0,3).join(",")+(N>3?"..":""));
if(N!=0){var i=a.g[0],Z=j.r.VS(a.i,i),s=a.i[Z];this.xu.z([3,0,1,2][s.kR])}}else for(var c=0;c<A.length;
c++)A[c].kJ()}else ii.prototype.JE.call(this,e)};iq.prototype.Ei=function(){ii.prototype.Ei.call(this);
this.xu.f()};iq.prototype.Xf=function(e){if(e.target==this.xu||e.target==this.tc||e.target==this.W1){var A={},a=this.apO,p=a.i,N=a.g,i=j.r.yP(p),Z=JSON.parse(this.awS);
N.sort(function(C,M){return C-M});if(e.target==this.xu){var s=this.xu.b();if(s<4)for(var c=0;c<N.length;
c++)p[j.r.VS(p,N[c])].kR=[1,2,3,0][s];else{if(i<=1)return;a.i=j.r.Gj(p);a.g=a.i.length==2?[]:[0];a.xw=[];
Z=[j.X.ou()]}}else{var D=e.target==this.tc?-1:1,n=[];for(var c=0;c<i;c++){var S=j.r.VS(p,c),F=S+1+p[S].length;
n.push(p.slice(S,F))}var $=N.slice(0);for(var c=0;c<N.length;c++)$[c]=Math.max(c,Math.min(i-1-(N.length-1-c),$[c]+D));
if(N.join(",")==$.join(","))return;var m=JSON.parse(JSON.stringify(Z));for(var c=0;c<N.length;c++){var J=D==-1?c:N.length-1-c,S=N[J],F=$[J];
if(S!=F){var w=n[S];n[S]=n[F];n[F]=w;w=m[S];m[S]=m[F];m[F]=w}}var f=p.slice(0,2);for(var c=0;c<n.length;
c++)f=f.concat(n[c]);a.i=f;a.g=$;Z=m}A.Ed=a;A.X=Z;var b=new k4(t.E.L,!0);b.data={d:t.c.FZ,G:this.G,U9:A};
this.S(b)}};function jA(){ii.call(this,["fstyle","sstyle","crnr","psnap"])}jA.prototype=new ii;function jg(){ii.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}jg.prototype=new ii;
function al(){ii.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}al.prototype=new ii;
function cJ(){ii.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.Gx.aopts.z([!1,!0,50,60,0])}cJ.prototype=new ii;cJ.prototype.ar8=function(c){var e=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(e[c])};function cn(){ii.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}cn.prototype=new ii;
function dQ(){ii.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}dQ.prototype=new ii;
function cg(){bO.call(this,!1,["binop","feat","redge"])}cg.prototype=new bO(!0);function ct(){a9.call(this,["brush","qsmode","redge"])}ct.prototype=new a9;
function dx(){eB.call(this);this.b2=[];for(var c=0;c<2;c++){var e=new c$(c==0?[8,11,3]:["VAR0...",[15,10,22]],null,null,!0);
this.b2.push(e);e.h("click",this.Xf,this);this.body.appendChild(e.e)}}dx.prototype=new eB;dx.prototype.Xf=function(e){var A;
if(this.b2.indexOf(e.target)==0){A=new k4(t.E.wH,!0);A.data={_h:"make",h2:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{A=new k4(t.E.L,!0);
A.data={d:t.c.Ch,NY:"divslice"}}this.S(A)};dx.prototype.Ei=function(e){for(var c=0;c<this.b2.length;
c++)this.b2[c].f()};function bs(){eB.call(this);var e=this.zW=[new c$("\u25BC",null,null,!0),new c$("\u25B2",null,null,!0),new c$([5,4],null,null,!0),new c$(["VAR0...",[15,10,22]],null,null,!0)];
for(var c=0;c<4;c++){var A=e[c];this.body.appendChild(A.e);A.h("click",this.Xf,this)}}bs.prototype=new eB;
bs.prototype.Xf=function(e){var A=this.zW.indexOf(e.target),a;if(A==3){a=new k4(t.E.L,!0);a.data={d:t.c.Ch,NY:"divslice"}}else{a=new k4(t.E.v,!0);
a.G=q.Gc;a.data={d:A==2?"delete":"reorder",dir:A==0?-1:1}}this.S(a)};bs.prototype.f=function(){eB.prototype.f.call(this);
for(var c=0;c<4;c++)this.zW[c].f()};function cB(e,A){eB.call(this);if(window.Typr==null||e)return;this.ajX=A;
this.f6=null;this.ahW=B.t("span","");this.apH=B.t("span","");var a=1;this.At={Ri:new fe(null,24),dj:new g0("X",0,0,"px",0,!1,!0,4),Yb:new g0("Y",0,0,"px",0,!1,!0,4),m4:new g0("W",0,0,["%","px"],2,!1,!0,5),bX:new c$("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),D6:new g0("H",0,0,["%","px"],2,!1,!0,5),apl:new g0("\u2221",0,0,"\xB0",a,!1,!0),a1n:new g0("\u25B1 H",-85,85,"\xB0",a,!1,!0),amk:new g0("\u25B1 V",-85,85,"\xB0",a,!1,!0),PM:new el(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.At.PM.z(1);this.At.bX.z(!0);for(var p in this.At){var N=this.At[p];if(A&&(N==this.At.apl||N==this.At.a1n||N==this.At.amk||N==this.At.PM)){}else this.ahW.appendChild(N.e);
var i=N==this.At.bX?"click":t.E.A;N.h(i,this.arl,this)}this.S1=new jG(!0,!0,!0);this.S1.h(t.E.A,this.a5q,this);
this.S1.parent=this;var Z=this.apH,s=this.S1;Z.appendChild(s.pe.e);Z.appendChild(s.Vw.e);Z.appendChild(s.vS.e);
Z.appendChild(s.Hl.e);Z.appendChild(s.pa.e);this.Z6=new c$([11,9]);this.Z6.h("click",this.alu,this);
this.yb=new aZ;this.yb.h("click",this.g3,this)}cB.prototype=new eB;cB.prototype.JE=function(e){if(e.AQ){var A=cB,a=this.Sr;
if(a==null)a=this.Sr=new fx(A.azT(),A.amh(this.G));a.f();a.parent=this;a.update(e.Ru,e.PC);var p=new k4(t.E.L,!0);
p.data={d:t.c.OY,U7:a,x:e.AQ.Qb+2,y:e.AQ.aG+1};this.S(p);return}B.XK(this.body);this.f6=e;if(e.At){var N=e.At.nd,i=e.At._T.clone(),Z=Math.atan2(-i.k,i.gg),s=new bj;
s.rotate(-Z);i.concat(s);var D=this.At;D.Ri.z(e.At.yd);D.dj.z(e.At.JZ.x);D.Yb.z(e.At.JZ.y);D.m4.z(i.gg*(D.m4.Ir()=="%"?100:N.m));
D.D6.z(i.pU*(D.D6.Ir()=="%"?100:N.n));D.apl.z(-Z*180/Math.PI);D.a1n.z(Math.atan(i.b9/i.pU)*180/Math.PI);
D.amk.z(0*180/Math.PI);this.body.appendChild(this.ahW);this.Z6.mq();if(e.At.MU!=null)D.bX.z(e.At.MU)}if(e.Lv){this.S1.z(e.Lv);
this.body.appendChild(this.apH);this.Z6.FC()}this.body.appendChild(this.yb.e);if(e.agw&&!this.ajX)this.body.appendChild(this.Z6.e)};
cB.prototype.arl=function(e){var A=this.At,a=this.f6.At.nd;if(e.target==A.bX)A.bX.z(!A.bX.b());else if(A.bX.fY()){var p=A.D6,N=A.m4,i=a.n,Z=a.m;
if(e.target==A.m4){p=A.m4;N=A.D6;i=a.m;Z=a.n}var s=p.b()/(p.Ir()=="%"?100:i);s*=N.Ir()=="%"?100:Z;N.z(s)}var D=[];
for(var n in A)if(A[n]!=A.bX&&A[n]!=A.Ri){var s=A[n].b();if((A[n]==A.m4||A[n]==A.D6)&&s==0){s=.1;A[n].z(s)}if(A[n]==A.m4&&A[n].Ir()=="px")s/=a.m/100;
if(A[n]==A.D6&&A[n].Ir()=="px")s/=a.n/100;D.push(s)}var S=new k7(D[0],D[1]);if(e.target==A.Ri){this.kl({d0:"ctyp",yd:A.Ri.b()})}else if(e.target==A.dj||e.target==A.Yb){this.kl({d0:"cen",JZ:S})}else{var F=this.f6.At._T.clone(),$=F.clone(),m=Math.atan2(-F.k,F.gg);
$.translate(-S.x,-S.y);$.rotate(-m);var J=new bj($.gg,$.k,$.b9,$.pU,0,0);J.rQ();$.concat(J);var w=D[2]/100,f=D[3]/100;
$.concat(new bj(w,w*Math.tan(D[6]*Math.PI/180),f*Math.tan(D[5]*Math.PI/180),f,0,0));$.rotate(-D[4]*Math.PI/180);
$.translate(S.x,S.y);this.f6.At._T=$;this.kl({d0:"trn",At:$,OV:this.At.PM.b(),MU:A.bX.b()})}};cB.prototype.a5q=function(e){this.kl({d0:"wrp",Lv:this.S1.b()})};
cB.prototype.alu=function(e){this.kl({d0:"switchWarp"})};cB.prototype.g3=function(e){this.kl({d0:this.yb.b()?"commit":"cancel"})};
cB.prototype.kl=function(e){e.d=t.c.FZ;e.G=this.G;var A=new k4(t.E.L,!0);A.data=e;this.S(A)};cB.prototype.Ei=function(){var e=this.At;
for(var A in e)e[A].f();B.qB(e.m4,e.D6);this.yb.f();this.S1.f();this.Z6.f()};cB.azT=function(){var e=function(A){var a=!0;
if(A==null||A.g.length==0)a=!1;else{var p=A.g;for(var c=0;c<p.length;c++){if(A.B[p[c]].add.TySh)a=!1}}return{C:a}};
return[{name:[5,9],hY:"Shift+Alt+Ctrl + T",ks:!0},{name:[12,38]},{name:[2,5]},{name:[24,4],C:e},{name:[2,9],C:e},{name:[11,9],C:function(A){if(A==null||A.g.length!=1)return{C:!1};
var a=A.B[A.g[0]];return{C:a.add.TySh==null&&!a.yg()}},ks:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
cB.amh=function(e){if(e==null)e=q.lE;return[{Y:t.E.v,G:e,W:{d:"again"}},{Y:t.E.L,W:{d:t.c.sk,G:e,KO:{qZ:3}}},{Y:t.E.L,W:{d:t.c.sk,G:e,KO:{qZ:4}}},{Y:t.E.L,W:{d:t.c.sk,G:e,KO:{qZ:2}}},{Y:t.E.L,W:{d:t.c.sk,G:e,KO:{qZ:1}}},{Y:t.E.L,W:{d:t.c.sk,G:e,KO:{qZ:-1}}},{Y:t.E.wH,W:q.BD.Xk(!0,90,!0)},{Y:t.E.wH,W:q.BD.Xk(!0,-90,!0)},{Y:t.E.wH,W:q.BD.Xk(!0,-180,!0)},{Y:t.E.wH,W:q.BD.Xk(!1,"Hrzn",!0)},{Y:t.E.wH,W:q.BD.Xk(!1,"Vrtc",!0)}]};
function fm(){cB.call(this)}fm.prototype=new cB(!0);function gt(){cB.call(this)}gt.prototype=new cB(!0);
function gC(){cB.call(this,!1,!0)}gC.prototype=new cB(!0);function df(){eB.call(this);var e=this.eH=[new el([12,36],["Rigid",[15,10,0],[24,4]]),new el([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new g0([7,4],0,100,"px"),new ie("Show Mesh"),new c$("\u25BC",null,null,!0),new c$("\u25B2",null,null,!0)];
for(var c=0;c<e.length;c++){var A=e[c];A.parent=this;this.body.appendChild(A.e);A.h(c<4?t.E.A:"click",this.axY,this)}this.yb=new aZ;
this.yb.h("click",this.g3,this);this.body.appendChild(this.yb.e)}df.prototype=new eB;df.prototype.Ei=function(){var e=this.eH;
for(var c=0;c<4;c++)e[c].f();this.yb.f()};df.prototype.JE=function(e){var e=e.hP;for(var c=0;c<4;c++)this.eH[c].z(e[c])};
df.prototype.axY=function(e){var A=[];for(var c=0;c<4;c++)A[c]=this.eH[c].b();var a=this.eH.indexOf(e.target);
if(a<4)this.kl({d0:"prm",hP:A});else this.kl({d0:"moveDepth",acP:a==5})};df.prototype.g3=function(e){this.kl({d0:this.yb.b()?"commit":"cancel"})};
df.prototype.kl=function(e){e.d=t.c.FZ;e.G=this.G;var A=new k4(t.E.L,!0);A.data=e;this.S(A)};function aE(){b5.call(this);
this.e=B.t("div","cmanager");window.alert=function(p,N){this.aoW(p,N);console.log("Alert: "+p)}.bind(this);
window.onblur=function(p){var N=this;N.Xv()}.bind(this);this.SB=0;this.Ps=0;this.C7=[];this.m5={};this.He=B.t("div","alertcont");
this.e.appendChild(this.He);this.aj5=B.t("div","alertcont");this.e.appendChild(this.aj5);this.a1=B.t("div","alertcont");
this.atG=0;this.RP=-1;this.a2f=null;this.b2=null;var e=this.a7Y=B.t("div","alertpanel");e.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.a1.appendChild(e);var A=this.DP=B.t("input");A.setAttribute("type","text");B.SU(A);A.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
A.addEventListener("input",this.a9b.bind(this),!1);A.addEventListener("keydown",this.aof.bind(this),!1);
e.appendChild(A);var a=this.a6C=B.t("div","contextpanel scrollable");a.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
a.addEventListener("click",this.al8.bind(this),!1);e.appendChild(a);B.V3(document.body,this.ayf.bind(this))}aE.prototype=new b5;
aE.prototype.cP=function(){if(B.ND(this.a1))this.e.removeChild(this.a1)};aE.prototype.a35=function(e,A){var a=this.a2f=[],p=A.ac3;
for(var c=0;c<f6.data.length;c++){var N=f6.data[c],i=[i1.get(N.name)],Z=[c];aE.atK(N.items,i,Z,a,e,A,p==null?null:p[c]==null?0:p[c])}var s=hO.a;
for(var c=0;c<s.length;c+=3){if(A.No&&A.No.indexOf(s[c+2])==-1)continue;a.push([["Tools",i1.get(s[c])],[-1,s[c+2]],s[c+1]])}this.e.appendChild(this.a1);
var D=this.DP;D.focus();D.select();this.Se()};aE.prototype.a9b=function(e){this.RP=-1;this.Se()};aE.prototype.Se=function(){var e=this.DP.value.toLowerCase().trim().replace(/  +/g," "),A=this.a2f,a=[],p=[],N=e.split(" ");
if(e!="")for(var c=0;c<A.length;c++){var i=A[c][0],Z=[],s=0;for(var D=0;D<i.length;D++)Z[D]=-1;for(var n=0;
n<N.length;n++)for(var D=0;D<i.length;D++){var S=i[D].toLowerCase().indexOf(N[n]);if(S!=-1){Z[D]=[S,S+N[n].length];
s++;break}}if(s==N.length){a.push(A[c]);p.push(Z)}}var F=[],$=this.a6C;B.XK($);for(var c=0;c<a.length;
c++){var m=a[c],J=m[0],S=p[c],w="enab",b="";if(c==this.RP)w+=" active";var f=B.t("div",w);F.push(f);
$.appendChild(f);for(var D=0;D<J.length;D++){var L=S[D],C=N[D],M=J[D];if(L!=-1)M=M.slice(0,L[0])+"<span style=\"color:black\">"+M.slice(L[0],L[1])+"</span>"+M.slice(L[1]);
b+=M;if(D<J.length-1)b+=" \uFE65 "}if(m[2]&&(typeof m[2]!="string"||m[2].length==1))b+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+g4.rN(m[2])+"</span>";
f.innerHTML=b}this.b2=[a,F]};aE.prototype.aof=function(e){var A=g4.ys,a=e.code;if(A(a,g4.EO))this.cP();
var p=A(a,g4.XM),N=A(a,g4.TA),i=A(a,g4.e2);if(p||N){this.RP=Math.max(0,Math.min(this.b2[0].length-1,this.RP+(p?-1:1)));
this.Se()}if(i&&this.RP!=-1)this.auo(this.RP)};aE.atK=function(e,A,a,p,N,i,Z){if(typeof Z=="number"){if(Z==0)return;
if(Z==1)Z=null}for(var c=0;c<e.length;c++){if(Z!=null&&(Z[c]==0||Z[c]==null))continue;var s=e[c],D=A.slice(0),n=a.slice(0),S=i1.get(s.name);
if(s.C){var F=s.C(N,i,c);if(F.Wu)S=F.Wu;if(F.C==!1)continue}D.push(S);n.push(c);if(s.sub)aE.atK(s.sub,D,n,p,N,i,Z?Z[c]:null);
else p.push([D,n,s.hY])}};aE.prototype.al8=function(e){var A=e.target;if(A.tagName.toLowerCase()=="span")A=A.parentNode;
var a=this.b2[1].indexOf(A);if(a!=-1)this.auo(a)};aE.prototype.auo=function(e){var A=this.b2[0][e][1];
if(A[0]==-1){var a=new k4(t.E.L,!0);a.data={d:t.c.sk,G:A[1]};this.S(a)}else{var p=f6.data[A[0]].NX[A[1]];
for(var c=2;c<A.length;c++)p=p.sub[A[c]];var N=new k4(p.Y,!0);N.G=p.G;N.data=p.W;this.S(N)}this.cP()};
aE.prototype.YQ=function(e,A){this.SB=e;this.Ps=A;this.a6C.style["max-height"]=A-120+"px"};aE.prototype.afU=function(e){var A=B.t("div","alertpanel");
A.textContent=i1.get(e);this.He.appendChild(A);this.m5[JSON.stringify(e)]=A};aE.prototype.aeZ=function(e){var A=this.m5[JSON.stringify(e)];
this.He.removeChild(A);delete this.m5[JSON.stringify(e)]};aE.prototype.aoW=function(e,A){var a=this.aj5;
for(var c=0;c<a.children.length;c++)if(a.children[c].textContent==e)return;var p=B.t("div","alertpanel tpanel");
p.textContent=e;p.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");a.appendChild(p);if(A==null)A=1500;
var N=A,i=Math.max(Date.now()+N,this.atG+N);setTimeout(function(){p.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){a.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},i-Date.now()-30);
setTimeout(function(){a.removeChild(a.firstChild);a.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},i-Date.now());
this.atG=i};aE.prototype.ayf=function(e){var A=this.C7;for(var c=A.length-1;c>=0;c--){var a=A[c],p=e.target;
while(p!=null){if(p==a.e){this.Xv(a);return}p=p.parentNode}}this.Xv();var N=e.target;while(N!=this.a1&&N!=document.body)N=N.parentNode;
if(N!=this.a1)this.cP()};aE.prototype.Xv=function(e){var A=this.C7;for(var c=0;c<A.length;c++){if(e&&e.a3U(A[c]))continue;
var a=A[c].e;if(!(A[c]instanceof fx))B.AW(A[c],this.e);else this.e.removeChild(a);a.style.height="auto";
B.Xi(a,"scrollable");A.splice(c,1);c--}};aE.prototype.a09=function(e){this.Xv(e.U7);var A=e.U7,a=A.e;
if(this.C7.indexOf(A)!=-1)return;this.C7.push(A);this.e.appendChild(a);var p=this.SB,N=this.Ps,i=e.x,Z=e.y,s=this.e.getBoundingClientRect(),D=A instanceof fx,n=-1,S=N-2;
if(D||e.J6){var F=A.DQ(),$=A.anM();if(D)F=Math.min(F,200);var m=p-F-2,J=N-$-2;if(Z<J)n=2;else if(i<m)n=1;
else if(0<Z-$-2)n=0;else n=3;if(e.a82)n=0;if(e.aj6)n=2;if(n==2){i=Math.min(i,m)}else if(n==1){Z=Math.min(Z,J)}else if(n==0){Z=Z-$-2;
i=Math.min(i,m);S=e.y}else if(n==3){i=i-F-2;Z=Math.min(Z,J)}}Z=Math.max(2,Z);var top=Math.round(Z-s.y+this.e.offsetTop);
a.style.position="absolute";a.style["z-index"]=10;if(Z+A.anM()>S){a.style.height=S-Z+"px";B.LM(a,"scrollable");
if(n==3)i-=10}a.style.left=Math.round(i)+"px";a.style.top=top+"px";if(!(A instanceof fx))B.zT(A)};aE.prototype.abF=function(e){var A=e.U7,a=this.C7.indexOf(A);
if(a==-1)return;this.C7.splice(a,1);var p=A.e;if(!(A instanceof fx))B.AW(A,this.e);else this.e.removeChild(A.e)};
aE.prototype.GW=function(){var e=this.C7;return e.length==0?null:e[e.length-1]};aE.prototype.aty=function(){this.abF({U7:this.GW()})};
function dh(){b5.call(this);this.e=B.t("div","confbar")}dh.prototype=new b5;dh.prototype.a7P=function(e){e.parent=this;
B.XK(this.e);this.e.appendChild(e.e)};function c6(e){b5.call(this);c6.Yg=this;c6.aA=e;this.w7=null;this.AT=B.t("input","");
this.AT.setAttribute("type","file");this.AT.setAttribute("multiple","");this.AT.addEventListener("change",function(A){this.pM(A.target.files,null,this.BQ,null);
this.BQ=null}.bind(this),!1);document.body.appendChild(this.AT);this.AT.setAttribute("style","display:none");
this.ajv=[];this.yh=!1;this.apu=[];this.Kk=!1;this.akN={};this.BQ=null}c6.prototype=new b5;c6.aA=null;
c6.uX=function(e){try{var A={};A[e.type]=e;navigator.clipboard.write([new ClipboardItem(A)])}catch(i1){console.error(i1,i1.message)}};
c6.Vc=function(e,A){navigator.clipboard.read().then(function(a){for(var c=0;c<a.length;c++){try{var p=a[c],N={},i=0,Z=0;
for(var s=0;s<p.types.length;s++){var D=p.types[s];i++;p.getType(D).then(function(n){var S=D;new Response(n).arrayBuffer().then(function(F){N[this.lT]=F;
Z++;if(Z==i)c6.aaS(N,e,A)}.bind({lT:this.lT}))}.bind({lT:D}))}}catch(i1){console.error(i1,i1.message)}}}).catch(function(a){})};
c6.aeA=function(e){navigator.permissions.query({name:"clipboard-read"}).then(function(A){e(A.state)})};
c6.aaS=function(e,A,a){var p=["text/plain","image/png","text/html","text/plain"];for(var N in e)console.log(N,N.startsWith("text")?z.lB(new Uint8Array(e[N])).slice(0,100)+"...":e[N]);
for(var i=0;i<p.length;i++){var Z=p[i],s=e[Z];if(s==null)continue;if(Z=="image/png"){c6.aA({name:"image.png"},s,A,a);
return}if(Z=="text/plain"){var D=z.lB(new Uint8Array(s));if(i==0)if(!D.startsWith("<!--")&&!D.startsWith("<svg"))continue;
if(a&&D.startsWith("<svg"))continue;var n=new k4(t.E.L,!0);n.data={d:t.c.a8D,Z:D};A.S(n);return}if(Z=="text/html"){var D=z.lB(new Uint8Array(s)),S=D.indexOf("src=\"");
if(S!=-1&&D.slice(S+5,S+9)!="http"){var F=S+10;while(D[F]!="\"")F++;var $=D.slice(S+5,F);c6.aA({name:"chart.png"},fI.dD($).buffer,A,a);
return}}}};c6.prototype.VY=function(e){if(e==null)e=[23,5];var A=JSON.stringify(e),a=this.akN;if(a[A]==null)a[A]=0;
if(a[A]==0){var p=new k4(t.E.L,!0);p.data={d:t.c.H7,pS:e};this.S(p)}a[A]++};c6.prototype.C5=function(e){if(e==null)e=[23,5];
var A=JSON.stringify(e),a=this.akN;if(a[A]==null)a[A]=0;a[A]--;if(a[A]==0){var p=new k4(t.E.L,!0);p.data={d:t.c.sL,pS:e};
this.S(p)}};c6.prototype.a1S=function(e,A){this.BQ=e;var a=window.showOpenFilePicker;if(a&&window.self==window.top){var p=this;
a({multiple:!0}).then(function(Z){var s=[];function D(n){s.push(n);if(s.length==Z.length){p.pM(s,null,p.BQ,null,Z);
p.BQ=null}else Z[s.length].getFile().then(D)}Z[s.length].getFile().then(D)});return}var N=this.AT;if(A)N.setAttribute("accept",A);
else N.removeAttribute("accept");var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
N.dispatchEvent(i)};c6.prototype.nH=function(e){if(e.url.indexOf("photopea.com#i")!=-1||e.url.indexOf("photopea.com/#i")!=-1){this.I8(e.url.split("#i").pop());
return}this.ajv.push(e);this.ay6()};c6.prototype.ay6=function(){var e=this.ajv;if(e.length==0||this.yh)return;
this.yh=!0;var A=e.shift();this.VY();if(A.Z7==null)A.Z7={};var a=new XMLHttpRequest;a.NW=A;var p=A.url;
if(A.cK&&!p.startsWith("data:image"))p="mirror.php?url="+encodeURIComponent(p);a.open("GET",p);if(A.L$)for(var N in A.L$)a.setRequestHeader(N,A.L$[N]);
a.responseType="arraybuffer";a.onload=this.a3$.bind(this);a.send()};c6.prototype.pM=function(e,A,a,p,N){for(var c=0;
c<e.length;c++){this.VY();var i=e[c],Z=new FileReader;Z.NW=i;Z.NW.tk=a;Z.NW.gk=p;Z.adw=A;if(N)Z.NW.UP=N[c];
Z.onload=this.a3$.bind(this);Z.onerror=function(s){this.C5()}.bind(this);this.apu.push([Z,i])}this.AT.value=null;
this.agp()};c6.prototype.agp=function(){var e=this.apu;if(e.length==0||this.Kk)return;this.Kk=!0;var A=e.shift();
A[0].readAsArrayBuffer(A[1])};c6.prototype.aj0=function(e,A,a){this.VY("Saving ...");this.w7=A;setTimeout(a.bind({Wo:e,caller:this}),50)};
c6.dd=function(e){var A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(e),p=a.length,N=p%3,i=p-N,Z=[],s=0,D=0,n=0;
for(var c=0;c<i;c+=3){s=a[c];D=a[c+1];n=a[c+2];Z.push(A[s>>2]+A[(s&3)<<4|D>>4]+A[(D&15)<<2|n>>6]+A[n&63])}if(N==1){s=a[i];
Z.push(A[s>>2]+A[(s&3)<<4]+"==")}if(N==2){s=a[i];D=a[i+1];Z.push(A[s>>2]+A[(s&3)<<4|D>>4]+A[(D&15)<<2]+"=")}var S=Z.join("");
return S};c6.a56=function(e,A){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=new Uint8Array(64),s=0,D=0,n=0,F=0;
for(var c=0;c<64;c++)p[c]=a.charCodeAt(c);var N=new Uint8Array(e),i=A%3,Z=A-i,S=new Uint8Array(Math.floor(A/3)*4+(i==0?0:4));
for(var c=0;c<Z;c+=3){s=N[c];D=N[c+1];n=N[c+2];S[F]=p[s>>>2];S[F+1]=p[(s&3)<<4|D>>>4];S[F+2]=p[(D&15)<<2|n>>>6];
S[F+3]=p[n&63];F+=4}if(i==1){s=N[Z];S[F]=p[s>>2];S[F+1]=p[(s&3)<<4];S[F+2]=61;S[F+3]=61}if(i==2){s=N[Z];
D=N[Z+1];S[F]=p[s>>2];S[F+1]=p[(s&3)<<4|D>>4];S[F+2]=p[(D&15)<<2];S[F+3]=61}return S};c6.prototype.a3$=function(e){var A,a=e.target.NW;
if(e.target instanceof XMLHttpRequest)A=e.target.response;else A=e.target.result;c6.aA(a,A,this,e.target.adw);
this.C5();if(e.target instanceof XMLHttpRequest){this.yh=!1;this.ay6()}else{this.Kk=!1;this.agp()}};
c6.adU=function(e,A){var a=new XMLHttpRequest;a.open("POST","https://api.imgur.com/3/image",!0);a.S5=A;
a.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");a.setRequestHeader("Content-type","application/x-www-form-urlencoded");
a.setRequestHeader("Accept","application/json");a.addEventListener("load",c6.anr);a.send("type=base64&image="+encodeURIComponent(c6.dd(e)));
alert("Saving to Imgur ...",4e3)};c6.anr=function(e){var A=JSON.parse(e.target.response);if(A.success){if(e.target.S5)e.target.S5(A.data.link);
else window.open(A.data.link,"Imgur")}};c6.prototype.I8=function(e,A,a){this.VY();var p=new XMLHttpRequest;
p.responseType="arraybuffer";p.open("GET","https://f000.backblazeb2.com/file/"+(a?"pp-resources":"psdshared")+"/"+e);
p.onload=this.atY.bind(this);p.send();p.pI=[Date.now(),e,A?e:null,a]};c6.prototype.atY=function(e){var A=e.target.pI,a=new Uint8Array(e.target.response);
console.log(a.length+" B,",Date.now()-A[0]+" ms");for(var c=0;c<a.length;c++)a[c]=255-a[c];a=pako.inflateRaw(a);
var p=JSON.parse(z.lB(a,0,2e3));c6.aA({name:p.name,Zx:A[2]},a.slice(2e3).buffer,this);this.C5();if(!A[3])c6.dm("act=0&id="+A[1])};
c6.prototype.awX=function(e,A,a,p){if(!(e instanceof ArrayBuffer))throw"e";e=new Uint8Array(e);var N=new Uint8Array(e.length+2e3),$="";
for(var c=0;c<2e3;c++)N[c]=32;z.dR(JSON.stringify({name:A}),N,0);N.set(e,2e3);e=N;e=pako.deflateRaw(e);
for(var c=0;c<e.length;c++)e[c]=255-e[c];e=e.buffer;var i=e.byteLength,Z=iW.xc(i),s=~~(609e5/2),D=~~(209e5/2);
if(i>s){confirm("Your file is "+Z+". Our limit is "+iW.xc(s)+". Delete some layers and try again.");
return}if(i>D){var n=confirm("Your file is quite large ("+Z+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!n)return}var S=sha1(e),F=[];for(var c=0;c<20;c++){var m=parseInt(S.slice(c*2,c*2+2),16);F.push(m);
$+=String.fromCharCode(m)}var J=btoa($).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(c6.aoS(J,p)){console.log("file already exists");
if(a)a(J);else window.open("https://www.photopea.com#i"+J);return}this.VY("Publishing ...");var w=new XMLHttpRequest;
w.pI=[e,S,J,a,p];w.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+J+"&size="+i+"&bname="+p);
w.onload=this.aw5.bind(this);w.send()};c6.aoS=function(e,A){try{var a=new XMLHttpRequest;a.open("HEAD","https://f000.backblazeb2.com/file/"+A+"/"+e,!1);
a.send();if(a.status==200)return!0}catch(i1){return!1}return!1};c6.prototype.aw5=function(e){console.log(e.target.response);
var A=JSON.parse(e.target.response),a=e.target.pI,p=new XMLHttpRequest;p.open("POST",A.uploadUrl);p.setRequestHeader("Authorization",A.authorizationToken);
p.setRequestHeader("X-Bz-File-Name",a[2]);p.setRequestHeader("Content-Type","b2/x-auto");p.setRequestHeader("X-Bz-Content-Sha1",a[1]);
p.send(new Blob([a[0]]));p.onload=this.aqB.bind({p2:this,pI:a})};c6.prototype.aqB=function(e){this.p2.C5("Publishing ...");
if(this.pI[3])this.pI[3](this.pI[2]);else window.open("https://www.photopea.com#i"+this.pI[2]);if(this.pI[4]=="psdshared")c6.dm("act=2&id="+this.pI[2]+"&fileId="+JSON.parse(e.target.response).fileId)};
c6.dm=function(e){var A=new XMLHttpRequest;A.open("GET","/papi/img/update.php?"+e+"&rnd="+Math.random());
A.send()};c6.save=function(e,A){var a=new Uint8Array(e),p=document.createElement("a");if(typeof p.download=="string"){var N=new Blob([a]),i=window.URL.createObjectURL(N);
p.href=i;p.download=A;document.body.appendChild(p);p.click();document.body.removeChild(p)}else{var Z="data:application/octet-stream;base64,"+c6.dd(e);
window.open(Z)}};function fL(){this.size=16;this.data=j.Q(16)}fL.prototype.yG=function(e,A){if(e+A<=this.size)return;
var a=this.size;while(e+A>this.size)this.size*=2;var p=j.Q(this.size);for(var c=0;c<a;c++)p[c]=this.data[c];
this.data=p};var cC={};cC.FU=function(e,A,a,p){var N=A.split(":"),i=N[0];if(N.length==2){if(i=="jpg")p=[Math.round(100*parseFloat(N[1]))];
if(i=="webp")p=[Math.round(100*parseFloat(N[1])),100,0,!1,!1];if(i=="psd")p=[!0,!0,!1,!1,!1];if(i=="svg")p=N[1].split(",").map(function(s){return s=="true"})}var Z=fI.Ek(e,i.toUpperCase(),null,null,p,a);
return Z};cC.atH=function(e,A,a){var p=e.WR(),N=A[0];return cC.FU(e,N,a)};cC.awy=function(){var e=this.Wo,A=this.caller,a=e.Z7.Lf,p=a.formats,N,i;
e.WR();var Z=Date.now();if(a.version==1){var s=[],D=0,S=0;for(var c=0;c<p.length;c++){var n=cC.FU(e,p[c],A.w7);
s.push(n);D+=n.byteLength}N=new Uint8Array(2e3+D);var F="{ \"source\": "+JSON.stringify(e.$_)+", \"versions\": [\n";
for(var c=0;c<p.length;c++){var $=new Uint8Array(s[c]);F+="\t{\"format\": \""+p[c].split(":")[0]+"\", \"start\": "+S+", \"size\": "+$.length+" }"+(c+1<p.length?", ":"")+"\n";
N.set($,2e3+S);S+=s[c].byteLength}F+="] }";var m=z.dR(F,N,0);for(var c=m;c<2e3;c++)N[c]=32;i="application/octet-stream"}else{var J=new fL,w=0,f="",b=encodeURIComponent;
f="p="+b("{ \"source\": "+JSON.stringify(e.$_)+", \"versions\": [");z.qs(J,w,f);w+=f.length;for(var c=0;
c<p.length;c++){f=b(" {\"format\": \""+p[c].split(":")[0]+"\", \"data\": \"");z.qs(J,w,f);w+=f.length;
var n=cC.FU(e,p[c],A.w7),L=c6.a56(n,n.byteLength),m=L.length;J.yG(w,m);for(var C=0;C<m;C++){J.yG(w,3);
var M=L[C];if(M==43){J.data[w]=37;J.data[w+1]=50;J.data[w+2]=66;w+=3}else if(M==47){J.data[w]=37;J.data[w+1]=50;
J.data[w+2]=70;w+=3}else if(M==61){J.data[w]=37;J.data[w+1]=51;J.data[w+2]=68;w+=3}else{J.data[w]=M;
w++}}f=b("\" }"+(c+1<p.length?", ":""));z.qs(J,w,f);w+=f.length}f=b("] }");z.qs(J,w,f);w+=f.length;N=J.data.slice(0,w);
i="application/x-www-form-urlencoded"}var y=new XMLHttpRequest;y.open("POST",a.url,!0);if(i)y.setRequestHeader("Content-Type",i);
y.addEventListener("load",cC.al3.bind(this));y.send(new Blob([N.buffer]))};cC.al3=function(e){this.caller.C5("Saving ...");
var A=e.target.response;if(A.charAt(0)=="{"){A=JSON.parse(A);if(A.newSource)this.Wo.$_=A.newSource;if(A.message)alert(A.message,2e3);
if(A.script){var a=new k4(t.E.L,!0);a.data={d:t.c.zr,Jk:A.script};this.caller.S(a)}}else alert("Saved. Response: "+A,1500)};
cC.an0=function(e){var A=e.DB,a=A[1].split(".").pop(),p=cC.FU(e,a,null,a=="psd"&&A[0]==6?[!0,!1,!0,!1]:null);
console.log(p);var N=Storage.ab3(A[0]);N.aex(A[1],p)};cC.apM=function(e,A){var a=e.G1.dJ;if(A==null)A=cC.FU(e,a);
b7.C9(function(){var p=new XMLHttpRequest,N="https://www.googleapis.com/upload/drive/v3/files/"+e.G1.file.id+"?uploadType=media"+"&"+b7.SL();
p.open("PATCH",N,!0);p.addEventListener("load",function(i){var Z=JSON.parse(i.target.response);alert(Z.name+" updated")});
p.send(A);alert("Saving \""+e.G1.file.name+"\" to Google Drive ...")})};cC.aA=function(e,A,a,p){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)cC.a4m(e,A,a,p);
else{try{cC.a4m(e,A,a,p)}catch(i1){if(i1=="low_ram"){}else{var N="Error. Please, send your file to support@photopea.com and we will solve it.";
if(fI.ti(A)=="eps")N="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(N,1e4)}}}};cC.a4m=function(e,A,a,p){var N;if(e.name){var i=e.name.lastIndexOf(".");N=i==-1?e.name:e.name.slice(0,i)}else{if(e.url.substring(0,5)=="data:"||e.url.indexOf("googleapis")!=-1)N="image";
else N=e.url.substring(e.url.lastIndexOf("/")+1).split(".")[0];N=N.slice(0,50)}var Z=e.name?e.name:e.url,s=new Uint8Array(A),D=fI.ti(A),n=window.gtag;
if(Math.random()<.25&&n&&D!=null&&fI.nP(D))n("event",D,{event_category:"Formats"});if(D==null)D=z.wc(s,0,4);
if(Z&&Z.toLowerCase().endsWith(".raw")){var S=new k4(t.E.L,!0);S.data={d:t.c.Ch,NY:"importraw",Su:A,_c:Z.split("/").pop()};
a.S(S);return}else if(D=="json"){var F="";for(var c=0;c<s.length;c++)F+=String.fromCharCode(s[c]);F=decodeURIComponent(escape(F));
var $=JSON.parse(F);if($.name&&$.url){var S=new k4(t.E.L,!0);S.data={d:t.c.anz,Z:$};a.S(S)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log($)}return}if(D=="html"){var F=z.lB(s,0,s.length),m=new DOMParser,J=m.parseFromString(F,"text/html"),w=J.getElementsByTagName("meta");
for(var c=0;c<w.length;c++){var f=w[c],b=f.getAttribute("property"),C=f.getAttribute("content"),M=null;
if(b=="og:image")M=C;if(b==null&&C&&C.startsWith("0;url=/imgres?")){var y=C.slice(14).split("&");for(var Q=0;
Q<y.length;Q++)if(y[Q].startsWith("imgurl"))M=decodeURIComponent(y[Q].slice(7))}if(M==null)continue;
var S=new k4(t.E.L,!0);S.data={d:t.c.Mw,hP:{url:M,cK:!0,tk:e.tk}};a.S(S)}return}if(fI.nP(D)){var k,E,_=fI.nP(D);
if(e.tk!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(D)!=-1){var S=new k4(t.E.L,!0);if(0<=e.tk)S.data={d:t.c.Cn,target:e.tk,zK:e.gk,M0:A,Ez:N};
else{S=new k4(t.E.v,!0);S.data={d:u.FA,data:new Uint8Array(A),_c:N+"."+D};S.G=q._b}a.S(S);return}var v=[N,_,D,e,a,p,A];
if(_.S$){k=new ar(N+(D=="psd"?"":"-"+D)+".psd");_.QS(A,k,cC.HT,v)}else{E=_.QS(A,null,cC.HT,v,a)}if(_.h1!=!0)cC.HT(k,E,v);
else a.VY();return}var V=new k4(t.E.L,!0);V.data={d:t.c.Oo,Su:A,lO:e.name};var R=e instanceof File&&e.aww!=!0,S=new k4(t.E.L,!0);
S.data={d:t.c.iK,Z7:"add",hP:null,j$:null,apx:e.aww};if(D=="zip"){var h=Date.now(),P=UZIP.parse(A),H="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var U in P){var X=!1;for(var c=0;c<H.length;c++)if(U.toLowerCase().endsWith("."+H[c]))X=!0;if(U.startsWith("__MACOSX/")||P[U].length==0)X=!0;
if(X)continue;var x=U.split("/").pop();cC.aA({name:x},P[U].buffer,a,p)}}else if(D=="jsx"||Z&&Z.toLowerCase().endsWith(".jsx")){var F=z.lB(new Uint8Array(A));
S.data={d:t.c.zr,Jk:F};a.S(S)}else if(D=="otf"){if(R)a.S(V);var K=Typr.parse(A);S.data.hP=ac.fD;for(var c=0;
c<K.length;c++){S.data.j$=K[c];a.S(S)}}else if(D=="asl"){if(R)a.S(V);var K=gp.__(A);S.data.hP=ac._x;
S.data.j$=K.qq;a.S(S);S.data.hP=ac.nn;S.data.j$=K.Sc;a.S(S)}else if(D=="tpl"){if(R)a.S(V);var K=gP.__(A);
S.data.hP=ac.TD;S.data.j$={Cu:K.Cu,tV:K.tV,list:[]};a.S(S);if(K.akU.length!=0){S.data.hP=ac.ka;S.data.j$=K.akU;
a.S(S)}if(K.Sc.length!=0){S.data.hP=ac.nn;S.data.j$=K.Sc;a.S(S)}S.data.hP=ac.Nb;S.data.j$=K.list;a.S(S)}else{var T="";
for(var I in ac.GN)if(ac.GN[I][0]==D)T=I;if(T!=""){if(R)a.S(V);S.data.j$=ac.GN[T][2].__(A,Z);S.data.hP=T;
a.S(S)}else if(A.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(D))}};
cC.HT=function(e,A,a){var p=a[0],N=a[1],i=a[2],Z=a[3],s=a[4],D=a[5],n=a[6];if(N.h1)s.C5();if(!N.S$){if(A.length==0)return;
if(A[0].t33421||A[0].t50706){j.raw.normalize(A[0],n);console.log(A[0]);var S=new k4(t.E.L,!0);S.data={d:t.c.Ch,NY:"rawpea",Hi:A[0]};
s.S(S);return}if(D){D(new Uint8Array(A[0].data),A[0].WJ);return}e=fI.TW(p,A)}e.Zx=Z.Zx;e.$J=i;e.Z7=Z.Z7;
e.$_=Z.url;e.OB=Z.OB;e.G1=Z.G1;e.UP=Z.UP;e.DB=Z.DB;if(e.G1)e.G1.dJ=i;if(e.B.length!=0){var S=new k4(t.E.L,!0);
S.data={d:Z.tk==null?t.c.nK:t.c.Cn,target:Z.tk,zK:Z.gk,M0:e};s.S(S)}};function j3(e){b5.call(this);this.bH=j3.bH++;
this.BJ=e;this.at6=this.ag$.bind(this);this.avW=this.aq8.bind(this);this.a8n=this.Nk.bind(this);this.ahQ=this.avq.bind(this);
this.a0X=this.ajm.bind(this);this.a28=this.a8m.bind(this);this.ak=0;this.ahD=0;this.ame=0;this.e=B.t("div","panelblock");
this.KH=B.t("div","block");this.if=B.t("div","collapsed");this.e.appendChild(this.KH);this.RF=-1;this.B$=!0;
this.QK=B.t("div","panelhead");this.KH.appendChild(this.QK);this.K$(this.QK);this.J3=new c$("\u2261");
this.J3.e.setAttribute("style","position:absolute; right:0;");this.J3.h("click",this.avp,this);this.cd=B.t("div","body");
this.KH.appendChild(this.cd);this.KV=[];this.AP=null;this.r0=null}j3.bH=0;j3.prototype=new b5;j3.IH=26.1;
j3.prototype.avp=function(e){var A=this.KV[this.RF].Gq(),a=e.currentTarget.e.getBoundingClientRect();
A.f();A.update();A.parent=this;var p=new k4(t.E.L,!0);p.data={d:t.c.OY,U7:A,x:a.left,y:a.top+a.height+2};
this.S(p)};j3.prototype.wD=function(e){var A=this.KH,a=this.QK,p=this.cd;if(B.ND(a))A.removeChild(a);
if(B.ND(p))A.removeChild(p);if(e==0)A.appendChild(a);A.appendChild(p);this.ame=e};j3.aL=function(e){e.stopPropagation();
e.preventDefault()};j3.prototype.ag$=function(e){var A=e.dataTransfer.types;if(A[1]!=null&&A[1]!=this.bH+"")return;
j3.aL(e);var iM=e.currentTarget;if(e.target==iM)B.LM(iM,"highlight")};j3.prototype.aq8=function(e){j3.aL(e);
var iM=e.currentTarget;if(e.target==iM)B.Xi(iM,"highlight")};j3.prototype.K$=function(e){e.addEventListener("dragenter",this.at6,!1);
e.addEventListener("dragleave",this.avW,!1);e.addEventListener("dragover",j3.aL,!1);e.addEventListener("drop",this.a8n,!1);
e.addEventListener("dragstart",function(A){A.dataTransfer.setData("Text","--panel");A.dataTransfer.setData(this.bH+"","")}.bind(this),!1)};
j3.prototype.Nk=function(e){this.avW(e);var A=null,iM=e.currentTarget,a=this.ajB(iM);if(iM==this.cd&&this.RF!=-1)A=this.RF;
else if(iM==this.QK)A=null;else if(a!=-1)A=a;var p=e.dataTransfer.getData("Text");if(p==""||p.startsWith("http"))B.GF(e,this,A);
else if(p=="--panel"){var N=B.vT(e,iM),i=this.KV,Z=i.slice(0),c=this.RF,s=a==-1?i.length:N.x<iM.getBoundingClientRect().width/2?a:a+1;
if(c==s||c+1==s||iM==this.cd)return;var D=c<s?s-1:s,n=i[c];i.splice(c,1);i.splice(D,0,n);B.XK(this.QK);
for(var S=0;S<i.length;S++)this.QK.appendChild(i[S].Nu);this.OF(D);var F=[];for(var c=0;c<i.length;c++)F[c]=Z.indexOf(i[c]);
var $=new k4("shuffleItems",!1);$.data={atR:F};this.S($)}else if(A!=null&&this instanceof iK){var $=new k4(t.E.L,!0);
$.data={d:t.c.avU,a0k:A};this.S($)}};j3.prototype.cY=function(){return null};j3.prototype.acm=function(){if(this.cY()){this.QK.style.padding="0px";
this.r0=this.cY();this.cd.appendChild(this.r0);this.F$.Y7(!1);var e=new k4(t.E.L,!0);e.data={d:t.c.dT,Z:1};
this.S(e)}};j3.prototype.agd=function(){if(this.r0){this.QK.style.padding="";this.cd.removeChild(this.r0);
this.r0=null;this.F$.Y7(!0);var e=new k4(t.E.L,!0);e.data={d:t.c.dT,Z:0};this.S(e)}};j3.prototype.ajB=function(e){var A=this.KV;
for(var c=0;c<A.length;c++)if(A[c].Nu==e)return c;return-1};j3.prototype.sy=function(){for(var c=0;c<this.KV.length;
c++)this.KV[c].Jl.mq()};j3.prototype.YL=function(){return this.RF};j3.prototype.au=function(){if(this.B$)return;
this.B$=!0;this.e.removeChild(this.if);this.e.appendChild(this.KH)};j3.prototype.collapse=function(){if(!this.B$)return;
this.B$=!1;this.e.appendChild(this.if);this.e.removeChild(this.KH)};j3.prototype.IH=function(){var e=0;
if(this.ame==0){e=this.QK.getBoundingClientRect().height+1;e=Math.max(e,j3.IH)}return e};j3.prototype.a0V=function(){return this.IH()+this.cd.getBoundingClientRect().height};
j3.prototype.YQ=function(e,A){this.QK.style.maxWidth=e+"px";var a=this.IH();if(this.RF!=-1)this.KV[this.RF].YQ(e,A-a);
return A-a};j3.prototype.Mv=function(e,A){if(this.RF!=-1)this.KV[this.RF].Mv(e,A)};j3.prototype.OM=function(e,A,a){this.KV[this.RF].OM(e,A,a)};
j3.prototype.M4=function(e){this.agd();if(this.KV.indexOf(e)!=-1){this.OF(this.KV.indexOf(e));return}e.parent=this;
this.KV.push(e);this.QK.appendChild(e.Nu);e.Nu.addEventListener("mouseover",this.ahQ,!1);this.K$(e.Nu);
this.if.appendChild(e.Jl.e);e.Jl.h("click",this.asX,this);e.h("select",this.afm,this);e.h(t.E.hM,this.aef,this);
this.OF(this.KV.length-1)};j3.prototype.avq=function(e){if(e.buttons==0)return;var A=e.currentTarget,a=A,c=0;
while((a=a.previousSibling)!=null)c++;this.ahD=c;A.addEventListener("mouseout",this.a0X,!1);this.ak=setTimeout(this.a28,700)};
j3.prototype.ajm=function(e){var A=e.currentTarget,a=A,c=0;while((a=a.previousSibling)!=null)c++;A.removeEventListener("mouseout",this.a0X);
clearTimeout(this.ak)};j3.prototype.a8m=function(e){this.S(new k4(t.E.ars,!1))};j3.prototype.apV=function(e){return this.ahD};
j3.prototype.mF=function(c){var e=new k4(t.E.hM,!1);e.data={L2:c};this.S(e);var A=this.KV[c];this.KV.splice(c,1);
this.QK.removeChild(A.Nu);this.if.removeChild(A.Jl.e);A.Nu.className="";A.Jl.removeEventListener("click",this.asX,this);
A.Jl.mq();A.removeEventListener("activate",this.afm);A.removeEventListener(t.E.hM,this.aef);var a=this.RF;
if(c<a)a--;else if(c==a&&c==this.KV.length)a--;this.OF(a);if(this.KV.length==0)this.acm()};j3.prototype.akx=function(){return this.KV.length};
j3.prototype.m2=function(){if(this.KV.length!=0)this.KV[this.RF].m2()};j3.prototype.OF=function(e,A){if(A==null)A=!0;
for(var c=0;c<this.KV.length;c++)this.KV[c].Nu.className="";if(this.AP)this.cd.removeChild(this.AP);
this.AP=null;this.RF=e;if(e==-1)return;var a=this.KV[this.RF];this.AP=a.xa;this.cd.appendChild(a.xa);
a.Nu.className="active";if(!this.B$){this.S(new k4("showFloat"));this.KV[e].Jl.FC()}if(A)this.S(new k4(t.E.A,!1));
a.fp();var p=this.J3.e;if(p.parentNode)this.QK.removeChild(p);if(a.Gq())this.QK.appendChild(p);var N=new k4(t.E.L,!0);
N.data={d:t.c._4};this.S(N)};j3.prototype.afm=function(e){if(this.BJ&&!this.BJ.adR())return;var c=this.KV.indexOf(e.currentTarget);
this.OF(c)};j3.prototype.aef=function(e){if(this.BJ&&!this.BJ.adR())return;var c=this.KV.indexOf(e.currentTarget);
this.mF(c)};j3.prototype.asX=function(e){var A=this.KV.indexOf(e.currentTarget.parent);if(this.KV[A].Jl.fY())this.S(new k4("hideFloat"));
else this.OF(A)};j3.prototype.aeY=function(e){this.S(e)};function iK(e){j3.call(this,e);this.SB=0;this.Ps=0;
B.xq(this.QK,this.acn.bind(this));this.FY=0;this.auA=this.a2B.bind(this);this.K$(this.cd);this.Le=["default;"];
this.F$=new B.Z5(this.cd);this.IO=new jS(!0);this.IO.parent=this;this.O5=this.IO.e;jS.vr(this.IO)}iK.prototype=new j3;
iK.prototype.acn=function(e){if(e.target!=this.QK)return;var A=this.FY;this.FY=Date.now();if(Date.now()-A>300)return;
var a=new k4(t.E.L,!0);a.data={d:t.c.Ch,NY:"newproject"};this.S(a)};iK.prototype.aU=function(e,A){if(A)this.Le.push(e);
else{var a=this.Le.length-1;if(this.Le[a]==e)return;this.Le[a]=e}this._O()};iK.prototype.aqy=function(){this.Le.pop();
this._O()};iK.prototype._O=function(){var e=this.Le[this.Le.length-1];this.F$.OM(e,this.X4)};iK.prototype.Mv=function(e,A){j3.prototype.Mv.call(this,e,A);
this.IO.Mv(e,A);if(!e.FX){}};iK.prototype.f=function(){j3.prototype.f.call(this);this.IO.f()};iK.prototype.OM=function(e,A){for(var c=0;
c<A.length;c++){var a=A[c];this.KV[c].z5(a.name+(a.iP()?" *":""))}j3.prototype.OM.call(this,e,A)};iK.prototype.cY=function(){return this.O5};
iK.prototype.YQ=function(e,A){if(this.KV.length==0)A+=j3.IH-1;this.SB=e;this.Ps=A;A=j3.prototype.YQ.call(this,e,A);
this.X4="height:"+A+"px; width:"+e+"px; overflow:hidden; position:relative;";this._O();this.IO.YQ(e,A)};
iK.prototype.M4=function(e){j3.prototype.M4.call(this,e);e.Nu.addEventListener("click",this.auA,!1)};
iK.prototype.mF=function(c){var e=this.KV[c];B.Y8(e.Nu,this.auA);j3.prototype.mF.call(this,c)};iK.prototype.a2B=function(e){var A=this.FY;
this.FY=Date.now();if(Date.now()-A>300)return;var a=this.ajB(e.currentTarget),p=this.KV[a].M0.name,N=new k4(t.E.L,!0),i={Y:t.E.v,G:q._b,W:{d:u.gW}};
N.data={d:t.c.Ch,NY:"namewindow",Ve:p.slice(0,p.length-4),lP:i};this.S(N)};function dy(e){b5.call(this);
if(e)return;hr.aaQ(1);this.e=B.t("div","flexrow app");this.o4=B.t("div");this.e.appendChild(this.o4);
setTimeout(function(){var a=window.hideCap;if(a)a()},25e3);this.hI=new g4;window.addEventListener("blur",function(a){this.hI.reset()}.bind(this),!1);
window.addEventListener("resize",this.U$.bind(this),!1);var A=this.o4;this.Cg=new eu;this.Cg.parent=this;
A.appendChild(this.Cg.e);this.YS=new aE;this.YS.parent=this;A.appendChild(this.YS.e);this.a5=new dg(!0);
this.a5.parent=this;A.appendChild(this.a5.e);this.h(t.E.L,this.Qk,this);this.ri=this.ud.bind(this);window.requestAnimationFrame(this.ri)}dy.prototype=new b5;
dy.prototype.ud=function(e){this.R4();window.requestAnimationFrame(this.ri)};dy.prototype.f=function(){};
dy.prototype.U$=function(e){var A=window.innerWidth,a=window.innerHeight;this.YQ(A,a)};dy.prototype.YQ=function(e,A){this.YS.YQ(e,A);
this.Cg.YQ(e,A)};dy.prototype.Qk=function(e){var A=e.data.d;if(A==t.c.OY)this.YS.a09(e.data);if(A==t.c.vo)this.YS.abF(e.data);
if(A==t.c.H7)this.YS.afU(e.data.pS);if(A==t.c.sL)this.YS.aeZ(e.data.pS);if(A==t.c.Ar)this.YS.Xv()};function eo(){dy.call(this);
this.Q7={x:0,y:0,x2:!1};this.Ll=!1;this.am=!1;this.G7=null;this.ar7=0;this.avM=!1;this.ro=0;window.onmessage=function(f){if(Storage.a3A(f.source))return;
if(f.data instanceof ArrayBuffer){var b=fI.ti(f.data),L=fI.nP(b);c6.aA({url:"file"},f.data,this);if(L==null)this.xC()}else if(f.data instanceof Object||f.data.startsWith("{")||f.data.startsWith("amp-")||f.data.startsWith("0=goog")||f.data.startsWith("3PCoo")){}else if(f.data.startsWith("--ur ")){var C=f.data.split(" ").pop(),_=null;
C=C.length==0?[]:C.split(",");console.log(C);var M=this.iU.j$,y=new k4(t.E.L,!0);y.data={d:t.c.iK,hP:ac.kS,pL:C};
this.S(y);var Q=C,k=M;if(k.length>Q.length){var E=k;k=Q;Q=E}for(var c=0;c<Q.length;c++)if(k.indexOf(Q[c])==-1)_=Q[c];
c6.dm("act=3&id="+_+"&dif="+(Q==C?1:-1));alert((Q==C?"Resource added.":"Resource removed.")+" "+_)}else if(f.data.startsWith("--ot ")){this.Cg.GW().close();
this.wi.I8(f.data.split(" ").pop(),!0)}else if(f.data.startsWith("--et ")){}else{var y=new k4(t.E.L,!0);
y.data={d:t.c.zr,Jk:f.data};this.S(y);this.xC()}}.bind(this);window.onbeforeunload=function(f){for(var c=0;
c<this.oY.length;c++)if(this.oY[c].iP())return this.oY[c].name}.bind(this);window.setInterval(function(){var f=this.w3();
if(f==null)return;var b=(Date.now()-f.D8)/6e4;if(this.iU.i1==1&&f.hd!=f.sC&&b>60){var L="You haven't saved your work ("+f.name+") for "+Math.round(b)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",C=new k4(t.E.L);
C.data={d:t.c.Ch,NY:"confirm"};C.data.Z=L;C.data.AJ=function(){var C=new k4(t.E.L);C.data={d:t.c.ae};
this.S(C)}.bind(this);this.S(C)}}.bind(this),30*60*1e3);var e=this,s="",D="";if(window.indexedDB&&(!jU.n6()||document.hasStorageAccess==null)){var A={yG:window.indexedDB.open("pp",1)};
A.yG.onupgradeneeded=function(f){var b=f.target.result,L=b.createObjectStore("rsrc",{keyPath:"k"})};
A.yG.onsuccess=function(f){var b=e.iU.SX.qY=f.target.result,L=b.transaction(["rsrc"],"readwrite").objectStore("rsrc"),C=L.get("fs0");
C.onsuccess=function(f){if(f.target.result){var M=e.iU.SX.gQ=f.target.result.fset;for(var y in M){if(!y.endsWith(".jsx"))c6.aA({url:y,aww:!0},M[y],e)}}}}}var a=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],p=B.Hr[av.Xe][av.zl];
for(var c=0;c<a.length;c++){var N=B.Nv(a[c]);if(p.indexOf(N)!=-1){var i=B.Hr[av.Xe][av.cd],Z=B.Nv("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
B.XK(i);i[av.a2b]=Z;return}}this.a={aiI:[{G:q._B,h5:!1,hY:[g4.asF,g4.QD]},{G:q.wI,h5:!1,hY:[g4.QD]},{G:q.Gc,h5:!0,hY:[g4.YC],Vn:[q.cv]},{G:q.cv,h5:!0,hY:[g4.YC],Vn:[q.Gc]},{G:q.Cj,h5:!0,hY:[g4.YC],Vn:[q.gS,q.yD,q.Wp]},{G:q.gS,h5:!0,hY:[g4.YC],Vn:[q.Cj,q.vM,q.Nt,q.v0,q.Mo,q.Im]},{G:q.Mf,h5:!0,hY:[g4.YC]}],Sz:[[{G:new q.GS,E1:gy},{G:new q.Rt,E1:iB}],[{G:new q.uR,E1:eT},{G:new q.AD,E1:h1}],[{G:new q.to,E1:dt},{G:new q.a6,E1:b4},{G:new q.Wc,E1:aR}],[{G:new q.dS,E1:hW},{G:new q.ku,E1:ct},{G:new q.rX,E1:cg}],[{G:new q.agW,E1:dS},{G:new q.acF,E1:jr},{G:new q.RK,E1:dx},{G:new q.KT,E1:bs}],[{G:new q.ap,E1:go},{G:new q.A_,E1:ig}],[{G:new q.pK,E1:iN},{G:new q.mv,E1:iC},{G:new q._r,E1:ba},{G:new q.a9Y,E1:ch},{G:new q.d5,E1:hJ}],[{G:new q.gY,E1:il},{G:new q.WY,E1:dC},{G:new q.MX,E1:ec}],[{G:new q.J9,E1:f2}],[{G:new q.In,E1:f0},{G:new q.vt,E1:ht}],[{G:new q.Q$,E1:en},{G:new q.Zw,E1:bP}],[{G:new q.xr,E1:jM},{G:new q.Fl,E1:jY},{G:new q.l9,E1:fT}],[{G:new q.fs,E1:b2},{G:new q.hl,E1:hb},{G:new q.u6,E1:ai}],[{G:new q.n7,E1:fD},{G:new q.azh,E1:fD}],[{G:new q.Ey(0),E1:j2},{G:new q.j7,E1:cv},{G:new q.Ey(1),E1:j2}],[{G:new q.Xy,E1:iq},{G:new q.iI,E1:jA}],[{G:new q.Rect,E1:jg},{G:new q.CH,E1:al},{G:new q._e,E1:cn},{G:new q.tW,E1:cJ},{G:new q.f8,E1:dQ}],[{G:new q.n2,E1:fP},{G:new q.GQ,E1:de}],[{G:new q.MQ,E1:ia}]],Pi:[],keys:[g4.uq,g4.Ab,g4.SA,g4.JL,g4.AA,g4.ed,g4.N3,g4.LY,g4.DN,g4.E,g4.IU,null,g4.JJ,g4.P5,g4.Pq,g4.c,g4.L6,g4.cb,g4.ls],Tl:[{G:new q.a6R,E1:fm},{G:new q.a3Q,E1:gt},{G:new q.ae9,E1:gC},{G:new q.ap(!0),E1:go},{G:new q.lK,E1:df}],uS:[{G:new q.TN},{G:new q.History},{G:new q.DO},{G:new q.HB},{G:new q.ML},{G:new q._y}],map:{},Bv:null,Vg:null,bP:null};
for(var c=0;c<this.a.Sz.length;c++){var n=this.a.Sz[c];if(n=="---")continue;var S=this.a.keys[c];for(var F=0;
F<n.length;F++){this.a.map[n[F].G.id]=n[F];n[F].Xl=c;n[F].aig=F;var $=i1.get(n[F].G.name);D+="<li>"+n[F].G.id+": "+$+"</li>";
s+="\t"+JSON.stringify(n[F].G.name)+", "+(S?"\""+S.S_+"\"":"null")+", "+n[F].G.id+", // "+$+"\n"}this.a.Pi[c]=0}for(var c=0;
c<this.a.Tl.length;c++)this.a.map[this.a.Tl[c].G.id]=this.a.Tl[c];for(var c=0;c<this.a.uS.length;c++)this.a.map[this.a.uS[c].G.id]=this.a.uS[c];
this.iU={aaV:!1,zX:null,S2:0,TM:{tV:[],Cu:[],list:[],oS:null},wF:[],aqd:[],Sv:[],nS:[],KJ:[],px:[],ahr:[],azF:[],KJ:[],C3:[bF.T$()],me:[],Tt:[],Wh:null,fK:0,wz:{$e:1,yJ:JSON.parse(JSON.stringify(iF.o5[0]))},gX:JSON.parse(JSON.stringify(iF.kE.default)),agE:[null].concat(iF.o5),a3l:[null].concat(iF.o5),de:new fZ(function(f){var b=new k4(t.E.L,!0);
b.data={d:t.c.Mw,hP:{url:"rsrc/fonts/"+f}};this.S(b)}.bind(this)),ZG:{eu:[],JH:null,Vx:null},font:null,Uw:[],j$:[],al5:{},lM:0,dG:16777215,Dm:!1,Z8:!0,tz:{dc:!0,Qv:!1,ar:!0,GI:!0,hN:!0,WM:!0,YF:20,Je:0,Oj:0,sP:0},RX:!0,po:[!0,!0,!1,!0,!0],Dg:[0,1,2,3,5,6,7,9,10,16,17,100],_5:1,zN:!0,qe:{},FX:!0,atu:!1,compact:!1,i1:1,XS:0,O5:!0,oi:null,SX:{acG:!1,anI:!1,gQ:{},qY:null},akc:0,acE:null,ZK:null,a6Y:null,Op:null};
this.atM={nd:new dE,p1:new k7};this.iU.ZG=eG.agU();this.mI=new f6;this.KX=new dh;this.Zi=new dV(this.a,!0);
this.xl=new bu;this.Ng=new iK(this);this.ic=B.t("div");this.TG=!1;this.Pc=this.ak5.bind(this);B.LM(this.Ng.e,"mainblock");
this.a5.parent=this.mI.parent=this.KX.parent=this.Zi.parent=this.xl.parent=this.Ng.parent=this;this.Ng.h(t.E.A,this.wf,this);
this.Ng.h(t.E.hM,this.arU,this);this.Ng.h("shuffleItems",this.ao4,this);this.Ng.h(t.E.ars,this.azl,this);
this.h("mouse",this.aeV,this);this.h(t.E.v,this.nc,this);this.h(t.E.wH,this.aiB,this);document.body.addEventListener("keydown",this.bM.bind(this),!1);
window.addEventListener("keyup",this.HC.bind(this),!1);window.addEventListener("paste",this.amc.bind(this),!1);
window.addEventListener("copy",this.arK.bind(this),!1);window.addEventListener("wheel",function(f){if(f.ctrlKey)f.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(f){if(window.innerWidth>400)f.preventDefault();
this.iU.oi=f}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(f){if(f.ap3){console.log("Service worker installing")}else if(f.a5v){console.log("Service worker installed")}else if(f.active){console.log("Service worker active")}}).catch(function(f){console.log("Registration failed with "+f)})}this.c9=0;
this.oY=[];this.wi=new c6(cC.aA);this.wi.parent=this;var m=this.o4,J=this.HQ=B.t("div");J.appendChild(this.mI.e);
J.appendChild(this.KX.e);this.a5.anP(J);var w=this.a42=B.t("div","flexrow");m.appendChild(w);w.appendChild(this.Zi.e);
w.appendChild(this.Ng.e);w.appendChild(this.xl.e);this.wi.nH({url:"rsrc/basic/basic.zip"});this.nq(q.Mf);
d4.tP(this.aj1.bind(this))}eo.prototype=new dy(!0);eo.prototype.xC=function(e){var A=new k4(t.E.L);A.data={d:t.c.lY,hP:e?e:"done"};
this.S(A)};eo.prototype.aj1=function(){B.Hr[av.jh](this.apd.bind(this),Math.pow(Math.PI,8)+B.Hr[av.arM][av.ake]()*1e4);
var e=d4.JF();if(e!=null&&e.globals!=null)this.a9(e.globals);else{this.avM=!0;var A=navigator.languages;
if(A&&A.length!=0){var a=A[0];i1.hH(a,this.Pc)}}if(!this.t0()){var p=B.afN();if(p==0)this.atu=!0;if(p==2)this.iU.FX=!1;
if(p!=1&&Math.random()<.002)B.abN()}if(!jU.n6()||!this.iU.FX){this.aue();this.EA()}else{var N=B.eV(B.Hr[av.ux]);
N[av.OW](av.vG,this.awf.bind(this));N[av.XW](B.ZY("61="),B.ZY("_MYOqDLGJa;A:6"));N[av.Hp]()}this.Ll=!0;
this.xC()};eo.prototype.awf=function(e){var A=JSON.parse(e.target[av.GO]),a=B.Hr[av.Id][av.alK]()/1e3,p=B.Hr[av.Xe][av.zl],N=!1;
for(var i in A)if(i.indexOf(".")!=-1&&p.indexOf(i)!=-1&&parseInt(A[i])>a)N=!0;if(N)this.iU.FX=!1;this.aue();
this.EA()};eo.prototype.EA=function(e){this.am=!0;if(!this.iU.O5)this.Ng.O5=null;else if(this.oY.length==0)this.Ng.acm();
this.bx(ac.xh);this.f();this.U$();this.xl.OM(this.w3(),this.oY,this.iU)};eo.prototype.a9=function(e){var A=this.iU;
if(e.fcolor!=null)A.lM=e.fcolor;if(e.bcolor!=null)A.dG=e.bcolor;if(e.rulers!=null)A.Dm=e.rulers;if(e.extras!=null)A.Z8=e.extras;
if(e.favFam!=null)A.Uw=e.favFam;if(e.rsrc!=null)A.j$=e.rsrc;if(e.font!=null)A.ZG.eu[0].Name=e.font;if(e.panels!=null)A.Dg=e.panels;
if(e.as!=null)A.i1=e.as;if(e.co!=null)A.XS=e.co;if(e.eparams){var a=e.eparams,p=A.tz;if(a.guides!=null)p.dc=a.guides;
if(a.grid!=null)p.Qv=a.grid;if(a.gsize!=null)p.YF=a.gsize;if(a.gunits!=null)p.Je=a.gunits;if(a.gtype!=null)p.Oj=a.gtype;
if(a.runits!=null)p.sP=a.runits;if(a.sels!=null)p.ar=a.sels;if(a.paths!=null)p.GI=a.paths;if(a.pgrid!=null)p.hN=a.pgrid;
if(a.slices!=null)p.WM=a.slices}if(e.lang!=null)i1.hH(e.lang,this.Pc);if(e.theme!=null)A._5=e.theme;
if(e.topt||A.aS){var N=e.topt?e.topt:{},i=A.aS?A.aS:{};for(var Z in this.a.map){if(Z>=103)continue;var s="t"+Z;
if(N[s]||i[s])this.a.map[Z].G.rm(N[s],i[s],this)}}};eo.prototype.aue=function(){if(this.iU.aaV)return;
this.iU.aaV=!0;var e=null,A=window.location.href,a=A.indexOf("="),p=A.indexOf("#");if(a!=-1)e=A.substring(A.indexOf("?")+1,a);
if(p!=-1&&p!=A.length-1){e="p";a=p}if(p!=-1&&A[p+1]=="i"){this.wi.I8(A.slice(p+2))}else if(p!=-1&&A[p+1]=="t"){this.wi.I8(A.slice(p+2).split("").reverse().join(""),!0)}else if(e=="p"||e=="state"){var N=A.substring(a+1,A.length);
N=JSON.parse(decodeURI(N));if(e=="p"){if(N.script=="alert(73)")this.iU.FX=!1;if(N.script)dl.a08(this);
if(N.server)this.G7=N.server;if(N.resources)for(var c=0;c<N.resources.length;c++)this.wi.nH({url:N.resources[c]});
if(N.files)for(var c=0;c<N.files.length;c++)this.wi.nH({url:N.files[c],Z7:{Lf:N.server,ait:N.script}});
var i=N.environment;if(i==null)i={};if(i.plugins!=null)this.xl.anE(i.plugins);if(i.localsave!=null)this.iU.zN=i.localsave;
if(i.customIO!=null)this.iU.qe=i.customIO;if(i.vmode!=null){var Z=i.vmode;if(Z==1)this.iU.compact=!0;
if(Z==2)this.wD(1)}if(i.intro!=null)this.iU.O5=i.intro;if(i.menus!=null)this.iU.ac3=i.menus;if(i.tmnu!=null)this.iU.aS=i.tmnu;
if(i.panels!=null)this.iU.Dg=i.panels;if(i.showtools!=null){var s=i.showtools,D=s.indexOf(this.iU.zX);
this.iU.No=s;if(D==-1)this.nq(s[0])}if(i.phrases!=null)i1.a6c(i.phrases);if(i.autosave!=null){this.iU.i1=0;
window.setInterval(function(){var F=new k4(t.E.L);F.data={d:t.c.ae};this.S(F)}.bind(this),i.autosave*1e3)}if(i.icons!=null){for(var n in i.icons)if(i.icons[n].indexOf("\"")==-1){if((n==av.a8$||n==av.ay7)&&this.iU.FX)continue;
PIMG[n]=i.icons[n];PIMG["__"+n]=!0}}this.a9(i);if(N.files==null&&N.script){gg.yB(N.script,this);this.xC()}}else if(e=="state"){var S=this.wi;
if(N.action=="create"){var F=new k4(t.E.L);F.data={d:t.c.Ch,NY:"newproject",ajq:N.folderId};this.S(F)}if(N.action=="open"){for(var c=0;
c<N.ids.length;c++)b7.C9(function(){var m="https://www.googleapis.com/drive/v3/files/"+this.a5p,J=new XMLHttpRequest;
J.open("GET",m);J.setRequestHeader("Authorization",b7.FH());J.send();J.onload=function(w){var f=JSON.parse(w.target.response);
S.nH({url:m+"?alt=media",name:f.name,G1:{file:f,dJ:""},L$:{Authorization:b7.FH()}})}}.bind({a5p:N.ids[c]}));
alert("Loading files from Google Drive ...")}}}else{var $=window.launchQueue;if($){var S=this.wi;$.setConsumer(function(m){var J=m.files;
console.log(J);for(var c=0;c<J.length;c++){var w=J[c];w.getFile().then(function(f){S.pM([f],null,null,null,[w])})}})}}};
eo.prototype.f=function(){var e=document.getElementById("cap");if(e){var A=!1,a=e.getElementsByTagName("h1")[0],i=0,s=0,D=0;
a.textContent=A?"Photopea":i1.get([0,17,0]);var p=e.getElementsByTagName("p"),N=B.u_(i1.get([0,17,1])),Z=["PSD","XCF","Sketch","XD","CDR"];
for(var c=0;c<Z.length;c++)N=N.replace(Z[c],"<b>"+Z[c]+"</b>");if(!A)N+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
p[0].innerHTML=N;N=i1.get([0,17,2])+" "+i1.get([0,17,3]);for(var c=0;c<N.length;c++){var n=N[c];if(n=="<")s++;
if(n==">")D++}if(!A&&s*D==9){var S=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var c=0;c<3;c++){var F=N.indexOf("<",i),$=N.indexOf(">",i),m=N.slice(0,F)+"<a href=\""+S[c]+"\" target=\"_blank\">"+N.slice(F+1,$)+"</a>";
i=m.length;N=m+N.slice($+1)}p[1].innerHTML=N}else p[1].innerHTML=i1.get([0,17,2])}var J=document.getElementById("sponsors");
if(J)J.textContent=i1.get([0,17,4]);this.a5.f();this.mI.f();this.xl.f();this.Zi.f();this.Cg.f();this.Ng.f();
for(var w in this.a.map)if(this.a.map[w].L0)this.a.map[w].L0.f()};eo.prototype.t0=function(){return 4<B.Hr[av.Er][av.fl][av.a4D](av.ZY("'$!|"))};
eo.prototype.YQ=function(e,A){e=Math.floor(e);A=Math.floor(A);var a=B.ZY("WUMK&AM"),p=av.Jd,N=B.Hr[av.Xe],i=Math.max(e,window.screen.width),Z=Math.max(A,window.screen.height),F=0;
if(this.hg==null)this.hg=Math.min(i,Z)<500||i<750?0:i<1600?1:2;var s=this.hg,D=!this.am||this.t0()||!this.iU.FX||d4.tl()||s==0;
if(!D&&jU.n6()){if(this.aqJ==null)this.aqJ=Math.random()<.5;D=this.aqJ}if(D){if(s!=0&&B.Hr[a]&&this.am)B.Hr[a]()}else{if(s==0)A-=60;
else e-=s==1?180:320}dy.prototype.YQ.call(this,e,A);if(D&&this.TG){this.e[av.Sm](this.ic);B.XK(this.ic);
this.TG=!1}if(!D&&!this.TG){var n=function(J){if(Math.random()<.002){d4.event(jU.tt()?"gota_0":"gota_1")}this.ayj(e,A);
var w=s==0?N[av.cd]:this.e;w.appendChild(this.ic);this.ic[av.Nj](p,B.ZY("_MMJLNDfKCAg")+(s==0?10:10)+B.ZY("_d$ebOS?I:==Ba-+# }$M"));
this.ic[p][B.ZY("_MMJLND&<:E")]=(s==0?0:19)+B.ZY("_d");this.ic[p][B.ZY("i5WJHX")]=s==0?0:1}.bind(this);
function S(){jU.a4c(n)}setTimeout(S,2300);this.TG=!0}if(B.ND(this.mI.e))F+=31;if(B.ND(this.KX.e))F+=32;
this.a5.a3t=this.iU.FX&&this.am;this.a5.YQ(e,F);var $=A-F,m=B.ZY("_d");this.ic[p][av.a6h]=(s==0?100>>>1:A-11)+m;
this.ic[p][av.T6]=(s==0?e:6*Math.pow(10,2))+m;if(B.ND(this.Zi.e))this.Zi.YQ(e,$);this.xl.YQ(e,$);this.Ng.YQ(e-this.Zi.DQ()-this.xl.DQ(),$)};
eo.prototype.ayj=function(e,A){var a=function(){var p=new k4(t.E.L);p.data={d:t.c.Ch,NY:"account"};this.S(p)}.bind(this);
jU.ah4(e,A,this.ic,a,this.hg)};eo.prototype.arK=function(e){console.log("systemCopy")};eo.prototype.amc=function(e){if(B.hu())return;
console.log("systemPaste");if(!e.clipboardData)return;var A=e.target.tagName.toLowerCase(),a=e.clipboardData.items;
if(a==null)return;var p=this.a5e.bind(this);for(var c=0;c<a.length;c++){var N=a[c],i=N.getAsFile();if(N.type.indexOf("text")!=-1){N.getAsString(this.aem.bind(this))}if(N.type.indexOf("image")!=-1){if(i.size==this.iU.akc)return;
this.iU.akc=i.size;if(i){i.name="image.png";this.wi.pM([i],p)}}}};eo.prototype.aem=function(e){if(e.startsWith("http")){if(e==this.iU.ahs)return;
this.iU.ahs=e;var A=new k4(t.E.L,!0);A.data={d:t.c.Mw,hP:{url:e,cK:!0}};this.S(A)}};eo.prototype.a5e=function(e,A){var a={buffer:e,rect:A},p=this.iU;
if(B.hu()){var N=this.atM,i=N.nd;if(i.m==A.m&&i.n==A.n){a.rect=i;a.p1=N.p1}}else{if(p.ZK){var Z=new k4(t.E.v,!0);
Z.G=q.sf;Z.data={d:"h_stepbck"};this.S(Z)}}p.ZK=a;var Z=new k4(t.E.L,!0);Z.data={d:t.c.Et,a11:!0};this.S(Z)};
eo.prototype.a7t=function(){if(this.Cg.GW()!=null)alert(i1.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
eo.prototype.nc=function(e){var A=this.w3();if(A==null){alert(i1.get([15,7,7]));return}var a=e.G==q.wI||e.G==q._B;
if(this.Cg.xV()&&e.U3!=!0&&!a){this.a7t();return}var p=this.a,N=this.iU.zX,i=e.G;if(i==q.L1&&N==q.v8)i=q.v8;
if(N!=i&&p.map[N].G.xV()&&!a&&!(N==q.WS&&i==q.ws)){console.log("disabling",N);p.map[N].G.disable(A,this,this.iU,this.hI)}var Z=this.a.map[i].G;
Z.nc(e.data,this,A,this.hI,this.iU)};eo.prototype.aiB=function(e){var A=this.iU;if(e.data.bb!=!0)gb.a2C({_h:e.data._h,h2:e.data.h2},this,A,this.w3());
var a=A.Wh,p=A.Tt;if(a==null)return;var N={art:!1,iO:"Step",al6:0,C:!0,exp:!1,_h:e.data._h};if(a[2]==null)a[2]=p[a[0]].eL[a[1]].eL.length-1;
if(e.data.h2)N.h2=e.data.h2;p[a[0]].eL[a[1]].eL.splice(a[2]+1,0,N);a[2]++;this.bx(ac.v)};eo.prototype.Qk=function(e){if(this.atu){e.data=0;
return e.type}dy.prototype.Qk.call(this,e);var A=e.data.d;if(A==t.c.$t)gb.a7C(this.w3(),this.iU.Tt,e.data.U9[0],e.data.U9[1],this);
if(A==t.c.avU){this.apf(e.data.a0k)}if(A==t.c.ap5){this.f();this.U$()}if(A==t.c._4)this.U$();if(A==t.c.af2)if(this.iU.oi){this.iU.oi.prompt();
this.iU.oi=null}if(A==t.c.Jn)this.Ng.aU(e.data.J5,e.data.push);if(A==t.c.a7S)this.Ng.aqy();if(A==t.c.aa7)this.wf(null,e.data.dir);
if(A==t.c.MZ)this.Ng.mF(this.oY.indexOf(e.data.Wo));if(A==t.c.dT){if(e.data.c$&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(e.data.c$)document.body.webkitRequestFullScreen();if(e.data.Z!=null)this.wD(e.data.Z)}if(A==t.c.a7A){if(e.data.x2)this.hI.wU(e.data.ate);
else this.hI.J7(e.data.ate);this.CE(e.data.x2?"down":"up")}if(A==t.c.anz){var a=e.data.Z;this.xl.anE([a]);
this.f()}if(A==t.c.hn){var p=this.w3(),N=p.WR().slice(0),i=p.B[p.g[0]],Z=new dE(0,0,p.m,p.n),s=ar.sY()+"-d71c-11e5-b1ae-a548a96e5f9f",D=new k4(t.E.L,!0);
if(e.data.hP==0){var n={name:p.name.split(".")[0],id:s,_q:[N,Z]};D.data={d:t.c.iK,Z7:"add",hP:ac._x,j$:[n]};
this.S(D)}if(e.data.hP==1){var S=j.Q(Z.O()*4);j.fV(S,4294967295);j.s.eZ("norm",N,Z,S,Z,Z,1);var F=j.Q(Z.O());
j.U2(S,F);j.rQ(F);var $=j.WC(F,Z);if($.QP())$=Z;var m=j.Q($.O());j.WP(F,Z,m,$);$.x=$.y=0;var J={nd:$,id:s,_q:[m,$]},w=fR.gF(s),f=w.Brsh.v;
f.Dmtr.v.val=Math.max($.m,$.n);f.Spcn.v.val=10;D.data={d:t.c.iK,Z7:"add",hP:ac.TD,j$:{list:[{t:"Objc",v:w}],Cu:[J],tV:[]}};
this.S(D);D.data={d:t.c.iK,hP:ac.uO,dF:w};this.S(D)}if(e.data.hP==2){var b=p.sz(),C=b[0][b[1][0]],M={dt:i.getName(),Ms:s,i:C.add.vmsk.clone().i},y=j.r.km(M.i),Q=new bj(y.m,0,0,y.n,y.x,y.y);
Q.rQ();j.r.nM(M.i,Q);y.x=y.y=0;M.aV=y.clone();D.data={d:t.c.iK,Z7:"add",hP:ac.ka,j$:[M]};this.S(D)}}if(A==t.c.Mw)this.wi.nH(e.data.hP);
if(A==t.c.hy){var k=e.data.afr,E=e.data.HR;if(k!=!0&&E!=!0&&this.ei("open"))return;var _=this.Ng.YL();
if(E)_=-1-_;this.wi.a1S(k||E?_:null,e.data.a1E)}if(A==t.c.tm){var v=e.data.acN,V=e.data.Ox,R=this.AY(v);
if(V){var h=v==ac.TD,P=[];for(var c=0;c<V.length;c++)P.push((h?R.list:R)[V[c]]);R=h?{tV:R.tV,Cu:R.Cu,list:P}:P}if(v==ac.nn){var Z=new ar;
for(var c=0;c<R.length;c++){var H=R[c].gP.Lefx;if(H)b6.a9D(H,Z,this.iU.px)}R={qq:Z.add.Patt?Z.add.Patt:[],Sc:R}}if(v==ac.Nb){var U=this.iU.TM;
R={Cu:[],tV:[],list:R};console.log(R)}if(v==ac.v)R=R[e.data.f9];var X=ac.GN[v],N=X[2].kz(R);c6.save(N,X[1]+"."+X[0])}if(A==t.c.Oo){var x=this.iU.SX,K=e.data.a8X;
if(x.qY&&!x.acG&&!K){x.anI=window.confirm("Load \""+e.data.lO+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
x.acG=!0}if((x.anI||K)&&x.qY){x.gQ[e.data.lO]=e.data.Su;var D=new k4(t.E.L);D.data={d:t.c.iK,hP:ac.tO};
this.S(D)}}if(A==t.c.asN){var p=this.w3(),o="<!DOCTYPE HTML>";if(p==null)return;var T=fI.di(p.WR().buffer,p.m,p.n),I=window.open();
o+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";o+="<body><img src=\""+T+"\" /></body>";
o+="</html>";I.document.write(o)}if(A==t.c.It){if(this.ei("publishOnline"))return;var l=e.data.qm!="psd",p=this.w3();
if(p==null)return;if(!l&&p.Zx)return;var O="Your picture will be published at "+(l?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!l)O+=" We guarantee 6 months of storage (or more, if your file is opened often).";var g=e.data.S5?!0:confirm(O);
if(g){if(!l){var D=new k4(t.E.v,!0);D.G=q._b;D.data={d:u.bm};this.S(D);var W=new dE(0,0,p.m,p.n);for(var c=0;
c<p.B.length;c++){var i=p.B[c];if(i.rect.QP()||i.yg()||i.tR()||i.TC()||i.c7()||i.add.TySh||i.add.vmsk||i.add.SoLd)continue;
var d=W.Yn(i.rect);if(!d.Kx(i.rect)&&!d.QP()){var gT=j.Q(d.O()*4);j._M(i.buffer,i.rect,gT,d);i.buffer=gT;
i.rect=d}if(!j.EL(i.buffer,i.rect.m,i.rect.n))continue;var r=i.gi(),G=i.opacity,Y=i.Mi,fk=i.G0;i.d8(!0);
i.opacity=255;i.Mi="norm";p.g=[c];D.data={d:u.Zq,qm:"jpg"};this.S(D);var eJ=p.B[c];i.d8(r);eJ.d8(r);
i.opacity=eJ.opacity=G;i.Mi=eJ.Mi=Y,i.G0=eJ.G0=fk}}if(p.x0){p.HD()}var eS=p.m,gL=p.n,cX=e.data.alO,kj;
if(cX)while(Math.max(eS,gL)>cX){eS=eS>>>1;gL=gL>>>1}console.log(eS,gL);if(e.data.qm=="psd")kj=fI.Ek(p,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(e.data.qm=="png")kj=fI.Ek(p,"png",eS,gL);else{var gq=fI.Ek(p,"png",eS,gL),iL=fI.Ek(p,"jpg",eS,gL);
kj=gq.byteLength<iL.byteLength?gq:iL}if(l)c6.adU(kj,e.data.S5);else this.wi.awX(kj,p.name,e.data.S5,"psdshared")}}if(A==t.c.ae){var p=this.w3(),ew=!1;
if(p==null)return;if(p.x0){p.HD()}if(e.data.CX){if(!this.qL(p,e.data.CX))return;var N=cC.atH(p,e.data.CX,this.iU);
this.xC(N);ew=!0}else if(p.OB){if(this.oY.indexOf(p.OB.lC)!=-1){var N=new Uint8Array(fI.nP("PSD").Eu(p,null,null,[!0,!1])),D=new k4(t.E.v,!0);
D.data={d:u.FA,M0:p.OB.lC,data:N,id:p.OB.am1,_c:p.name};D.G=q._b;this.S(D);alert("Smart Object updated")}ew=!0}else if(this.ei("save")){ew=!0}else if(p.G1){cC.apM(p);
ew=!0}else if(p.DB){cC.an0(p);ew=!0}else if(p.Z7&&p.Z7.Lf){if(!this.qL(p,p.Z7.Lf.formats))return;this.wi.aj0(p,this.iU,cC.awy);
ew=!0}else if(p.UP&&"psd jpg png gif webp svg bmp".split(" ").indexOf(p.$J)!=-1){this.aro();return}if(ew){p.sC=p.hd;
p.D8=Date.now();p.De=!0}else{var D=new k4(t.E.L,!0);D.data={d:t.c.gr};this.S(D)}}if(A==t.c.gr){if(!this.iU.zN){alert("function is disabled");
return}if(this.ei("saveAsPSD"))return;var p=this.w3();if(p==null)return;if(!this.qL(p))return;var D=new k4(t.E.v,!0);
D.data={d:u.bm};D.G=q._b;this.S(D);if(p.B.length>8e3&&!confirm("Your document has "+p.B.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var dk={HG:[]};p.root.ac9([],dk);var j9=dk.HG;if(j9.length>11&&!confirm("One layer is nested "+(j9.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+j9.join(" \uD83E\uDC1A ")+"."))return;
var fh=window.showSaveFilePicker;if(window.parent!=window)fh=null;if(fh&&!e.data.a3d){var g9={suggestedName:p.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
fh(g9).then(function(e){p.UP=e;p.name=e.name;p.W$=!0;p.$J="psd";this.aro()}.bind(this));return}var k6=window.gtag;
if(p.gI()&&k6)k6("event",p.$J+":"+B.Nv(d4.tl()?"\"'|('61":"w'| "),{event_category:"Formats"});if(p.x0){p.HD()}if(e.data.a3d){var N=p.$J=="psd"?fI.nP("PSD").Eu(p):cC.FU(p,p.$J,this.iU);
this.a1z(N,p,this)}else{var N=fI.nP("PSD").Eu(p);c6.save(N,p.name);p.sC=p.hd;p.D8=Date.now();p.De=!0}}if(A==t.c.Fh)window.open(e.data.link,"_blank");
if(A==t.c.ac0){if(this.Cg.xV()){this.a7t();return}var p=this.w3(),i=p.B[p.g[0]],a=p.v1(i.add.SoLd.Idnt.v);
for(var c=0;c<this.oY.length;c++){var jx=this.oY[c].OB;if(jx!=null&&jx.am1==a.h0&&jx.lC==p){this.Ng.OF(c);
return}}c6.aA({name:a._c,OB:{am1:i.add.SoLd.Idnt.v,lC:p}},a.raw.buffer,this)}if(A==t.c.aox){var p=this.w3(),i=p.B[p.g[0]],a=p.v1(i.add.SoLd.Idnt.v);
c6.save(a.raw.buffer,a._c)}if(A==t.c.avO){console.log(e.data);c6.aA({name:e.data.DB[1].split("/").pop(),DB:e.data.DB},e.data.bD,this)}if(A==t.c.avw){var p=this.w3();
p.DB=e.data.DB;p.name=p.DB[1].split("/").pop();var D=new k4(t.E.L);D.data={d:t.c.ae};this.S(D)}if(A==t.c.G8){this.ar3()}if(A==t.c.$u){this.adW(e.data.ZZ,e.data.sr,e.data.jB)}if(A==t.c.Et){this.ass(e.data.a11,e.data.GE,e.data.jB)}if(A==t.c.a8D){var fV=e.data.Z;
if(this.iU.zX==q.L1&&this.UX().xV()){var D=new k4(t.E.v,!0);D.G=q.L1;D.data={d:"insertText",Z:fV};this.S(D);
return}if(fV.startsWith("vcb;")){var ao=JSON.parse(fV.slice(4));ao[0]=bF.Uu(ao[0]);var D=new k4(t.E.v,!0);
D.G=q.gS;D.data={d:"append",fQ:"Paste Paths",afR:ao};this.S(D)}else if(fV.startsWith("lrs;")){var b8=fV.split(";"),ke=this.oY[parseInt(b8[1])];
if(ke==null)return;var gj=this.w3(),jf=ke.g;ke.g=JSON.parse(b8[2]);var ay=ke.s2(null,ke!=gj),D=new k4(t.E.v,!0);
D.data={d:u.WH,B:ay,lC:ke,K5:gj};D.G=q._b;this.S(D);ke.g=jf}else if(fV.startsWith("<!--")||fV.startsWith("<svg")){var fz=z.Fp(fV),ei=fI.nP("svg"),Z=new ar("image.psd");
ei.QS(fz.buffer,Z);if(this.oY.length!=0){var hC=Z.B;if(hC.length==3&&hC[0].getName()=="</Layer group>"&&hC[2].yg())hC=[hC[1]];
var D=new k4(t.E.v,!0);D.G=q._b;D.data={d:u.WH,B:hC,lC:Z,K5:this.w3()};this.S(D)}else this.a25(Z)}}if(A==t.c.zr){gg.yB(e.data.Jk,this)}if(A==t.c.lY){if(window.parent!=window)window.parent.postMessage(e.data.hP,"*");
this.xl.XC(e.data.hP)}if(A==t.c.t2){var iI=parseFloat(e.data.NY);if(this.iU.Dg.indexOf(iI)==-1){var D=new k4(t.E.L,!0);
D.data={d:t.c.iK,hP:ac.Ah,Z:iI,Z7:"add"};this.S(D)}this.xl.a1d(e.data.NY)}if(A==t.c.ax){this.YS.a35(this.w3(),this.iU)}if(A==t.c.Ch){var gQ="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var c=0;c<gQ.length;c+=2)if(e.data.NY==gQ[c]&&this.ei(gQ[c+1]))return;if(!this.iU.zN&&e.data.window=="saveforweb"){alert("function is disabled");
return}this.Cg.a8o(e.data.NY,this.w3(),e.data,this.oY,this.hI)}if(A==t.c.S0)c6.save(e.data.data,e.data.name);
if(A==t.c.nK){if(!this.Cg.xV()||e.U3)this.a25(e.data.M0)}if(A==t.c.Cn){this.Ng.OF(e.data.target);var D=new k4(t.E.v,!0);
D.data={d:u.aws,M0:e.data.M0,Ez:e.data.Ez,zK:e.data.zK};D.G=q._b;this.S(D);this.nq(q.lE)}if(A==t.c.atT){fG.Jg=!fG.Jg;
if(this.oY.length>0)this.w3().U()}if(A==t.c.azo){var cb=d4.JF();if(cb!=null&&cb.globals!=null)this.a9(cb.globals);
this.EA()}if(A==t.c.RH){this.wi.pM(e.data.data,null,e.data.tk,e.data.gk,e.data.axG)}if(A==t.c.sk){var dK=this.UX();
if(!this.Cg.GW()!=null)this.nq(e.data.G,e.data.KO);var ha=this.UX();if(ha!=dK&&e.data.acQ)ha.MD(this.w3(),this,this.iU,this.hI,this.Q7)}if(A==t.c.m_){if(this.a.Bv)this.nq(this.a.Bv)}if(A==t.c.FZ){var hA=this.a.map[e.data.G].G,p=this.w3();
hA.vH(e.data,this,p,this.hI,this.iU);if(p)p.Xz=!0;this.a02()}if(A==t.c.FF){var dW=this.a.map[e.data.G];
this.adj(dW);dW.L0.JE(e.data)}if(A==t.c.iK){var p=this.w3(),fN=e.data.hP,cQ=e.data.j$,h6=this.iU;if(e.data.Z7=="set"){var ha=q.a6S(cQ);
if(h6.zX!=ha)this.nq(ha);this.a.map[ha].L0.a5c(cQ,h6)}if(e.data.Z7=="add"){var X=ac.GN[fN];if(fN==ac.Ah){h6.Dg.push(e.data.Z);
h6.Dg.sort(function(iJ,ih){return iJ-ih})}else if(X==null){if(cQ)h6.de.a9K(cQ,e.data.apx);if(p)p.De=!0}else{var hh=this.AY(fN);
if(fN==ac.TD){hh.Cu=hh.Cu.concat(cQ.Cu);hh.tV=hh.tV.concat(cQ.tV);hh=hh.list;cQ=cQ.list}if(fN==ac.nn&&p){for(var c=0;
c<cQ.length;c++){var H=cQ[c].gP.Lefx;if(H)b6.aeC(H,p,h6.px)}}if(fN==ac.Nb&&cQ==null){var Z=this.a.map[h6.zX].L0.a0S();
if(Z==null)return;cQ=[Z]}for(var c=0;c<cQ.length;c++)hh.push(cQ[c]);if(fN==ac.ka){var co={};for(var c=0;
c<hh.length;c++){var ej=hh[c].dt;while(co[ej]!=null)ej=hh[c].dt=ej+"X";co[ej]=!0}}if(e.data.apx!=!0)if(hh.length!=cQ.length||fN==ac.tB||fN==ac.nn||fN==ac.gb||fN==ac.v)alert(i1.get(X[3])+" "+i1.get([23,1])+".")}}if(e.data.Z7=="del"){if(fN==ac.Ah){h6.Dg.splice(h6.Dg.indexOf(e.data.Z),1)}else{var X=ac.GN[fN],V=e.data.Ox,hh=this.AY(fN);
if(fN==ac.TD)hh=hh.list;for(var c=0;c<V.length;c++)hh[V[c]]=null;for(var c=0;c<hh.length;c++)if(hh[c]==null){hh.splice(c,1);
c--}alert(i1.get(X[3])+" deleted.")}}if(e.data.Z7=="rnm"){var X=ac.GN[fN],hh=this.AY(fN);if(fN==ac.TD)hh=hh.list;
if(hh[e.data.Ox[0]]==null)return;X[2].z5(hh[e.data.Ox[0]],e.data.Z)}if(fN==ac.z9){var bk=e.data.Z;h6.wz=bk;
h6.agE[bk.$e]=bk.yJ}if(fN==ac.Rq){var bk=e.data.Z;h6.gX=JSON.parse(JSON.stringify(bk));var h5=bk.strokeEnabled.v,bg=bk.strokeStyleContent.v,aQ=h5?{$e:1+iF.kE.GD.indexOf(bg.classID),yJ:bg}:{$e:0};
h6.a3l[aQ.$e]=aQ.yJ}if(fN==ac.SF){h6.fK=e.data.Z}if(fN==ac.yq){h6.ZG=e.data.ZG}if(fN==ac.uO){var gT=JSON.parse(JSON.stringify(e.data.dF)),fw=gT.useBrushSize;
if(fw&&fw.v){gT.Brsh.v.Dmtr.v.val=h6.TM.oS.Brsh.v.Dmtr.v.val;fw.v=!1}h6.TM.oS=gT}if(fN==ac.UN){h6.Uw=e.data.pL}if(fN==ac.kS){h6.j$=e.data.pL}if(fN==ac.V9){var jC,e0="Clrs";
if(e.data.dy<2){var eU=e.data.Z,iV=e.data.dy==0,kh=j.M.yN({o:eU>>>16,J:eU>>>8&255,k:eU&255});if(iV)h6.lM=eU;
else h6.dG=eU;e0=iV?"FrgC":"BckC";jC={_h:"set",h2:{__name:"Set",classID:"setd",T:{t:"Objc",v:kh}}}}if(e.data.dy==2){var hT=h6.lM;
h6.lM=h6.dG;h6.dG=hT;jC={_h:"exchange",h2:{__name:"Exchange",classID:"Exch"}}}if(e.data.dy==3){h6.lM=0;
h6.dG=16777215;if(p!=null&&p.g.length!=0&&p.B[p.g[0]].os==1){var hT=h6.lM;h6.lM=h6.dG;h6.dG=hT}jC={_h:"reset",h2:{__name:"Reset",classID:"Rset"}}}if(jC){jC.h2.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:e0}}]};
var dW=this.UX();dW.p2=this;dW.track(jC)}}if(fN==ac.Pb){h6.Dm=!h6.Dm;this.U$()}if(fN==ac.VH){h6.Z8=!h6.Z8;
this.U$()}var gi=h6.tz;if(fN==ac.O7){gi.ar=!gi.ar;this.U$()}if(fN==ac.W5){gi.GI=!gi.GI;this.U$()}if(fN==ac.Nn){gi.dc=!gi.dc;
this.U$()}if(fN==ac.Mk){gi.Qv=!gi.Qv;this.U$()}if(fN==ac.Ci){gi.hN=!gi.hN;this.U$()}if(fN==ac.jX){gi.WM=!gi.WM;
this.U$()}if(fN==ac.vY){h6.tz=e.data.pL;this.U$()}if(fN==ac.a0G){h6.RX=!h6.RX;this.U$()}if(fN==ac.Ea){h6.po[e.data.aW]=!h6.po[e.data.aW];
this.U$()}if(fN==ac.pR){i1.X9(e.data.lang,this.Pc)}if(fN==ac.pc){h6._5=e.data._5;this.f()}if(fN==ac.tO&&h6.SX.qY){var bD=h6.SX.qY.transaction(["rsrc"],"readwrite").objectStore("rsrc"),kt=bD.put({k:"fs0",fset:h6.SX.gQ});
kt.onerror=function(e){console.log(e);alert("Storing failed. Browser says: "+e.target.error.message,7e3)}}this.bx(fN)}};
eo.prototype.aro=function(){var e=new k4(t.E.L,!0);e.data={d:t.c.H7,pS:"Saving ..."};this.S(e);setTimeout(function(){var e=new k4(t.E.L,!0);
e.data={d:t.c.gr,a3d:!0};this.S(e)}.bind(this),20)};eo.prototype.a1z=function(e,A){A.UP.createWritable().then(function(a){a.write(e);
return a}).then(function(a){return a.close()}).then(function(a){A.sC=A.hd;A.D8=Date.now();A.De=!0;var p=new k4(t.E.L,!0);
p.data={d:t.c.sL,pS:"Saving ..."};this.S(p)}.bind(this)).catch(function(a){var p=new k4(t.E.L,!0);p.data={d:t.c.sL,pS:"Saving ..."};
this.S(p)}.bind(this))};eo.prototype.arG=function(){var e=this.iU,A=e.j$,a=e.al5;for(var c=0;c<A.length;
c++){var p=A[c];if(a[p])continue;a[p]=!0;this.wi.I8(p,!1,!0)}};eo.prototype.ak5=function(){this.f();
this.U$()};eo.prototype.ei=function(e){var A=this.iU.qe[e];if(A){var a=new k4(t.E.L,!0);a.data={d:t.c.zr,Jk:A};
this.S(a)}return A!=null};eo.prototype.qL=function(e,A){var a=!0,Z=15;if(A){a=!1;for(var c=0;c<A.length;
c++)if(A[c].startsWith(B.ZY("__M")))a=!0}var p=e.gI()||e.OB&&e.OB.lC.gI();if(this.t0())p=!1;var N=new B.Hr[av.Id],i=(N[B.Nv("xy,b-66:")]()&1)*60+N[B.ZY("VQ]3LNRN<G")]();
if(p&&!d4.tl()&&i>Z&&a){var s=B.Hr[B.Nv("}$z{2*35")][B.Nv("y'|!")],D=B.ZY("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
D+="\n\n"+B.ZY("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-i+120)+B.ZY("nYRTXTBMd");
if(s.indexOf(B.Nv("\"|'/-1)(W0?@"))==-1)D=i1.get([0,11+6,3+2]);B.Hr._cwY(D);return!1}return!0};eo.prototype.AY=function(e){var A=this.iU,a=[ac.TD,ac.Pg,ac.vU,ac.gb,ac._x,ac.ka,ac.nn,ac.tB,ac.v,ac.Nb,ac.QZ],p=[A.TM,A.Sv,A.nS,A.KJ,A.px,A.C3,A.me,A.ahr,A.Tt,A.wF,A.aqd];
return p[a.indexOf(e)]};eo.prototype.ar3=function(){var e=this.adW(),A=this.w3();if(A==null||A.g.length==0)return;
var a=A.B[A.g[0]],p=new k4(t.E.v);if(e==1){p.G=q.gS;p.data={d:"remove",fQ:"Cut Paths"}}else{p=new k4(t.E.wH);
p.data={_h:"delete"}}this.S(p)};eo.prototype.adW=function(e,A,a){if(e==null)e=!1;var p=this.iU;console.log("doCopy",e,A);
var N=this.w3();if(p.zX==q.L1&&this.UX().xV()){var i=new k4(t.E.v,!0);i.G=q.L1;i.data={d:"copyText"};
this.S(i);return}if(N==null||N.g.length==0)return;var Z=N.B[A==null?N.g[0]:A],s=N.sz(),D=s[0],n=s[1],S=D[n[0]];
if(!e&&S!=null&&S.add.vmsk.g.length!=0){var F=q.X2.wJ(S.add.vmsk,S.add.vogk);if(B.hu()){F[0]=bF.aq$(F[0]);
var $="vcb;"+JSON.stringify(F);c6.uX(new Blob([$],{type:"text/plain"}))}else p.Op=F;return 1}else if(N.P==null){if(B.hu()){var $="lrs;"+this.oY.indexOf(N)+";"+JSON.stringify(N.g);
c6.uX(new Blob([$],{type:"text/plain"}))}}else{var m,J;if(e){var w=new dE(0,0,N.m,N.n);J=w.Yn(N.P.rect);
m=j.Q(J.O()*4);j._M(N.WR(),w,m,J);j.R7(N.P.channel,N.P.rect,m,J)}else if(N.RN.length!=0){J=N.P.rect.clone();
m=j.Q(J.O()*4);var f=N.l8[N.RN[0]],b=f.wx(J);j.DC(b,m);j.Ao(N.P.channel,m,3)}else{var C=Z.jw(N,N.P);
if(C==null){alert("Copied area is empty");return}m=C.bD;J=C.rect}var M=N.u.$n,y=M[0]+M[1]+M[2];if(y==1){var Q=M.indexOf(1);
for(var c=0;c<m.length;c+=4)m[c]=m[c+1]=m[c+2]=m[c+Q]}var k=new k7(N.m,N.n);if(B.hu()&&a!=!0){var E=fI.nP("PNG").af$(m.buffer,J.m,J.n);
c6.uX(new Blob([new Uint8Array(E)],{type:"image/png"}));this.atM={nd:J,p1:k}}else p.ZK={buffer:m,rect:J,p1:k};
p.acE=J.clone();p.Op=null}};eo.prototype.ass=function(e,A,a){if(A)this.a1u=!0;console.log("doPaste");
var p=this.iU,N=p.ZK,D;if(this.oY.length==0){if(!e&&B.hu()){c6.Vc(this,null);return}if(N){var i=fI.TW("image.psd",[{data:N.buffer.buffer,WJ:N.rect}]),Z=new k4(t.E.L);
Z.data={d:t.c.nK,M0:i};this.S(Z)}return}var i=this.w3();if(p.zX==q.L1&&this.UX().xV()){c6.Vc(this,null);
return}var s=i.B[i.g.length==0?i.B.length-1:i.g[0]];if(p.Op){var n=i.sz(!0),S=n[0],F=n[1];D=S[F[0]]}var Z=new k4(t.E.v,!0);
if(p.Op!=null&&D!=null){Z.G=q.gS;Z.data={d:"append",fQ:"Paste Paths",afR:p.Op}}else if(!e&&B.hu()&&a!=!0){c6.Vc(this,this.a5e.bind(this));
return}else{if(N==null)return;if(i.VX(!1)&&(i.u.$n.join("")!="111"||i.RN.length!=0||s.os>0||s.rect.QP())){Z.G=q.TD;
Z.data={d:"draw",akL:!0,fQ:[5,2]}}else{Z.G=q._b;Z.data={d:u.Q0,GE:this.a1u};this.a1u=!1}Z.data.ZK=N}this.S(Z)};
eo.prototype.aaJ=function(){var e=this.iU.de;if(e.a5L())return;for(var c=0;c<this.oY.length;c++){var A=this.oY[c];
if(!ek.sQ(A,e,this))continue;if(A.Px)ek.agg(A,e,this);var a=A.add.lnk2;if(a)for(var p=0;p<a.length;p++){var N=a[p];
if(N.Px)q.TN.x9(A,N.h0,N.G9[1],N.G9[1],e)}if(A.akt)continue;A.akt=!0;if(A.Z7&&A.Z7.ait)gg.yB(A.Z7.ait,this);
this.xC();var i=new k4(t.E.v);i.G=q._b;i.data={d:u.GU};var Z=new k4(t.E.L);Z.data={d:t.c.t2,NY:kc.oy.ag1};
Z.data={d:t.c.Ch,NY:"preferences",qm:9};Z.data={d:t.c.Ch,NY:"afw_VaPo"}}};eo.prototype.bx=function(e){this.arG();
var A=this.iU,a=A.zX,Z=!1;if(e==ac.uO){if(this.a.map[a].L0)this.a.map[a].L0.Mv(A,e)}else for(var p in this.a.map)if(this.a.map[p].L0)this.a.map[p].L0.Mv(A,e);
if(e==ac.fD){if(a!=q.L1)this.a.map[q.L1].G.Mv(A,e);this.aaJ()}this.Ng.Mv(A,e);this.Zi.Mv(A,e);this.Cg.Mv(A,e);
this.UX().Mv(A,e);this.xl.Mv(A,e);this.mI.Mv(A,e);if(e==ac.pc||e==ac.xh){hr.aaQ(A._5);this.update(!0)}var N=A.ZG,i=N.JH.Font;
if(e==ac.yq&&i!=null&&N.eu[i].Name!=A.font){A.font=N.eu[i].Name;Z=!0}if([ac.Ah,ac.UN,ac.kS,ac.V9,ac.Pb,ac.VH,ac.vY,ac.Nn,ac.Mk,ac.O7,ac.W5,ac.Ci,ac.jX,ac.pR,ac.pc].indexOf(e)!=-1||Z)this.a02()};
eo.prototype.a02=function(){if(!this.Ll)return;var e={},A=this.a.map;for(var a in A){var p=A[a].G;if(p.CK&&p.CK()!=null)e["t"+a]=p.CK()}var N=this.iU,i=N.tz,Z={fcolor:N.lM,bcolor:N.dG,rulers:N.Dm,extras:N.Z8,favFam:N.Uw,rsrc:N.j$,panels:N.Dg,eparams:{guides:i.dc,grid:i.Qv,sels:i.ar,paths:i.GI,pgrid:i.hN,slices:i.WM,gsize:parseFloat(i.YF.toFixed(2)),gunits:i.Je,gtype:i.Oj,runits:i.sP},lang:i1.rb(),theme:N._5,as:N.i1,co:N.XS,topt:e};
if(N.font!=null)Z.font=N.font;var s=d4.JF();if(s==null)s={};s.globals=Z;d4.YM(s)};eo.prototype.zj=function(e){var A=this.hI,a=this.Q7,p=this.iU.zX,N=this.a.map[p].G,i=null,Z=!1;
for(var c=0;c<this.a.aiI.length;c++){var s=this.a.aiI[c],D=!0;for(var n=0;n<s.hY.length;n++){var S=s.hY[n];
if(!A.l(S))D=!1}if(D&&(!s.h5||!N.xV())&&(s.Vn==null||s.Vn.indexOf(p)!=-1)){i=s.G;Z=s.h5;break}}if((!a.x2||p==q.y6||e)&&this.a.Vg!=i&&(i!=p||!Z)){var F=this.w3();
if(this.a.Vg!=null&&i==null)this.UX().disable(F,this,this.iU,A,!0);this.a.Vg=i;this.UX().enable(F,this,this.iU,A,i!=null&&i!=p)}};
eo.prototype.$$=function(e){var A=this.iU.zX,a=this.w3();if(A!=null){this.a.map[A].G.disable(a,this,this.iU,this.hI)}};
eo.prototype.adj=function(e){if(e.L0==null){e.L0=new e.E1;e.L0.afw(e.G.id,e.G.JX);e.L0.Mv(this.iU,ac.xh);
e.L0.f()}};eo.prototype.nq=function(e,A){if(e==q.lE&&this.Cg.GW())return;var a=this.w3(),p=this.iU;if(this.a.map[e].G.u1(a,p)){this.$$();
if(e!=p.zX)this.a.Bv=p.zX?p.zX:q.Mf;p.zX=e;this.Zi.nq(p.zX);var N=this.a.map[e];this.a.Pi[N.Xl]=N.aig;
this.adj(N);this.KX.a7P(N.L0);var i=N.G;i.enable(a,this,this.iU,this.hI,!1,A);if(a)a.Xz=!0;this.U$();
this.a5.afW()}};eo.prototype.UX=function(e){var A=this.a,a=A.bP,p=A.Vg,N=this.iU.zX;if(a)N=a;else if(p&&e==null)N=p;
return A.map[N].G};eo.prototype.a25=function(e){var A=this.iU,a=this.oY.indexOf(e);if(a!=-1){this.Ng.OF(a);
return}if(this.G7&&(e.Z7==null||e.Z7.Lf==null)){e.Z7={Lf:this.G7}}if(e.$_==null){e.$_="local,"+this.ar7+","+e.name;
this.ar7++}e.D8=Date.now();if(jU.tt()!=0&&!this.avM&&B.Hr[B.Nv("t$&!'31")].toString().indexOf(B.Nv(" u,$4&"))==-1){alert(B.Nv("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var c=0;c<e.B.length;c++){var p=e.B[c];if(p.add.SoLd!=null){var N=Date.now()}}var i=e.B.length,Z=av.x6(),s=Math.PI*(5465<<14)+(B.WU(31)?20:10)*7e7;
if(Z>s){var i=e.B.length;e.B=[];return i}if(fG.Jg){fG.mk(Math.max(e.m,e.n));for(var c=0;c<e.B.length;
c++){var p=e.B[c];if(p.JD())fG.mk(Math.max(p.rect.m,p.rect.n))}}e.WF();e.Ht();if(e.aqR)e.a9W();else e.U();
e.aqR=!1;this.oY.push(e);this.Ng.M4(new eE(e));e.Xz=!0;e.De=!0;this.aaJ();var D=new k4(t.E.v);D.G=q.Dx;
D.data={d:"auto",bu:2}};eo.prototype.w3=function(){return this.oY[this.c9]};eo.prototype.adR=function(){return this.Cg.GW()==null};
eo.prototype.wf=function(e,A){this.$$();var a=this.oY.length;if(A!=null)this.Ng.OF((this.Ng.YL()+A+a)%a);
this.c9=this.Ng.YL();var p=this.w3();this.mI.a1X(p,this.iU);this.xl.OM(p,this.oY,this.iU);this.U$();
if(p)p.Xz=!0};eo.prototype.arU=function(e){this.$$();var A=this.oY[e.data.L2];this.oY.splice(e.data.L2,1);
if(this.oY.length==0){this.wf(e);var a=fG.wv(),p=eE.qc.k0;if(a.parentNode)a.parentNode.removeChild(a);
if(p.parentNode)p.parentNode.removeChild(p)}};eo.prototype.ao4=function(e){var A=[],a=e.data.atR;for(var c=0;
c<a.length;c++)A[c]=this.oY[a[c]];this.oY=A;this.c9=this.Ng.YL()};eo.prototype.azl=function(e){var A=this.Ng,a=A.apV(),p=this.UX(),N=this.w3();
if(a==A.YL()||!p.awW())return;this.apf(a,p)};eo.prototype.apf=function(e,A){console.log("dup2doc");var a=this.iU,p=this.Ng,N=this.w3(),i=this.oY[e],Z,s=new k4(t.E.v,!0);
s.G=q._b;if(N.P==null){s.data={d:u.WH,B:N.s2(null,!0),lC:N,K5:i};this.S(s)}else Z=N.B[N.g[0]].jw(N,N.P);
var D=this.Q7,n=a.Dm;a.Dm=!1;D=N.u.FT(D.x,D.y);if(A)A.xQ(N,this,a,this.hI);p.OF(e);if(N.P){s.data={d:u.Q0,ZK:{buffer:Z.bD,rect:Z.rect}};
this.S(s)}D=i.u.mc(D.x,D.y);D.x+=49;D.y+=112;if(A)A.MD(i,this,a,this.hI,D);a.Dm=n};eo.prototype.aeV=function(e){var A=this.w3(),a=this.hI,p=this.iU,N=e.sx;
if(N)this.Q7=N;if(N)N.y-=p.XS;if(this.M3==null)this.M3=0;if(e.action=="multidown"){this.x$=e.za.length;
this.M3=Date.now()}if(e.action=="up"&&Date.now()-this.M3<100){var i=new k4(t.E.v);i.G=q.sf;i.data={d:this.x$==2?"h_stepbck":"h_stepfwd"};
this.S(i)}if(e.action.startsWith("multi")){var Z=new k4(t.E.v,!0);Z.data={d:e.action,za:e.za};Z.G=q._B;
this.S(Z);return}var s=this.a.map[q.Mf].G;if((e.action=="down"||e.action=="rdown")&&p.zX!=q.Mf&&this.a.Vg!=q.Mf&&s.ahM(A,this,p,a,N)){this.a.bP=q.Mf;
s.enable(A,this,p,a,!0)}if(e.action=="idown"){a.wU("Space");this.zj(!0);e.action="down"}var D=this.Cg.GW(),n=D!=null&&D.jV()&&this.a.Vg==null?D:this.UX();
if(e.action=="scroll"){var S=!a.l(g4.YC)&&e.Vi,Z=new k4(t.E.v,!0);Z.data={d:"scroll",PW:e.PW.clone(),sx:N,a0y:S};
Z.G=a.l(g4.uJ)||S?q._B:q.wI;this.S(Z)}if(D!=null&&n!=D&&this.Cg.xV()&&n.id!=q.wI&&n.id!=q._B)return;
if(e.action=="down")n.MD(A,this,p,a,N);if(e.action=="rdown")n.jZ(A,this,p,a,N);if(e.action=="move")n.D1(A,this,p,a,N);
if(e.action=="up"||e.action=="iup"||e.action=="cancellast")n.$Q(A,this,p,a,N,e.action=="cancellast");
if(e.action=="rup")n.rZ(A,this,p,a,N);if(e.action=="iup"){a.J7("Space");this.zj(!0)}if(e.action=="cancellast"){if(A&&A.history.length!=0&&Date.now()-A.history[A.history.length-1].akB<200){var i=new k4(t.E.v);
i.G=q.sf;i.data={d:"h_stepbck"};this.S(i)}}var F=this.xl;if(e.action=="down")F.MD(A,this,p,a,N);if(e.action=="move")F.D1(A,this,p,a,N);
if(e.action=="up")F.$Q(A,this,p,a,N);if(e.action=="down"||e.action=="up"){this.zj()}if(e.action=="down"||e.action=="up"||e.action=="ctx"){A.Xz=!0}if((e.action=="up"||e.action=="rup")&&this.a.bP){this.a.bP=null;
s.disable(A,this,p,a)}};eo.prototype.R4=function(e){var A=this.w3(),a=this.Q7;if(A&&this.UX().I1(a,this.hI)){var p=A.u,N=p.eL.m,i=p.eL.n,Z=0,s=0,D=16;
if(a.x<D)Z=D-a.x;if(a.x>N-D)Z=a.x-(N-D);if(a.y<D)s=D-a.y;if(a.y>i-D)s=a.y-(i-D);var n=this.hI.l(g4.Kp)?8:1;
if((Z!=0||s!=0)&&(A.m*p.N>N||A.n*p.N>i)){Z=Math.min(5,Z*.5)*n;s=Math.min(5,s*.5)*n;if(!(a.x<D||a.y<D)){Z=-Z;
s=-s}p.R.x+=Z;p.R.y+=s;this.aeV({sx:this.Q7,action:"move"});A.W$=!0}}this.update()};eo.prototype.update=function(e){var A=this.w3();
if(A==null)return;if(A.Xz){var a=this.a.map;for(var p in a){if(a[p].G.XV)a[p].G.XV(A,this,this.iU,this.hI)}}if(A.x0)if(fG.Jg)fG.mk(Math.max(A.m,A.n));
if(A.x0){A.HD()}var N=A.u,i=this.ro,Z=this.ro=Date.now();if(A.x0||A.zQ||A.De||A.W$||e||N.XI!=N.N||!N.z2.Kx(N.R)){var s=N.XI;
if(N.XI!=N.N){var D=q.MQ.ap4(N.N,N.XI>N.N),n=.12;if(N.XI<N.N&&N.XI<D)N.XI=D;if(N.XI>N.N&&N.XI>D)N.XI=D;
var S=Math.abs(N.N-D)*(Z-i)*.001/n;if(N.XI<N.N)N.XI=Math.min(N.N,N.XI+S);else N.XI=Math.max(N.N,N.XI-S)}var F=s==N.N?0:(N.XI-N.N)/(s-N.N);
N.z2.x=N.R.x+F*(N.z2.x-N.R.x);N.z2.y=N.R.y+F*(N.z2.y-N.R.y);this.Ng.Mv(this.iU,null);this.Ng.OM(A,this.oY)}if((A.x0||A.W$||A.Xz)&&(!this.Q7.x2||A.DU)){if(A.Xz)A.Ht();
this.xl.OM(A,this.oY,this.iU);this.Zi.afx(A,this.hI);A.ew=!1}A.DU=!1;A.Xz=!1;A.x0=null;A.zQ=A.De=A.W$=!1};
eo.prototype.bM=function(e){var A=e.target.tagName.toLowerCase(),a=e.target.getAttribute("type"),p=g4,N=p.ys(e.code,p.e2);
if(!((A=="input"||A=="select"||A=="button")&&p.ys(e.code,p.pH))){if(p.Ku(e)&&A!="select"){e.preventDefault()}this.hI.wU(p.gM(e));
this.CE("down")}};eo.prototype.HC=function(e){if(e.key==" ")this.hI.QR();if(g4.ys(e.code,g4.Vv))this.hI.reset();
this.hI.J7(g4.gM(e));var A=e.target.tagName.toLowerCase();if(g4.Ku(e)&&A!="select"){e.preventDefault()}this.CE("up")};
eo.prototype.CE=function(e){var A=this.hI,a=this.w3(),p=a!=null&&a.g.length!=0;if(this.YS.GW()!=null){if(A.l(g4.EO)){this.YS.aty()}return}this.zj();
var N=this.HX(g4.YC),i=A.l(g4.uJ),Z=A.l(g4.Kp);if(N&&A.l(g4.ls)&&e=="down"){var s=new k4(t.E.v),D=new k4(t.E.L);
s.G=q.sf;if(Z){s.data={d:"h_stepfwd"}}else{s.data={d:"h_stepbck"}}if(this.Cg.GW()!=null&&this.Cg.GW().xV()){}else this.S(s)}if(N){var s=new k4(t.E.v),n=new k4(t.E.wH),D=new k4(t.E.L);
if(A.l(g4.ed)&&A.l(g4.L6)){D.data={d:t.c.Ch,NY:"storwindow"};this.S(D)}if(!i&&e=="down")for(var S in a7.keys){var F=a7.keys[S],$=!0;
for(var c=0;c<F.length;c++)if(!A.l(F[c]))$=!1;if($){s.G=q.Dx;if(S=="hue2"&&Z&&a.B[a.g[0]].add.SoLd==null)s.data={d:"auto",bu:3};
else s.data={d:"start",E$:S}}}if(A.l(g4.c)){n.data=q.ns.ec(!0)}if(A.l(g4.AA)){if(i)D.data={d:t.c.Ch,NY:"csize"};
else if(a)D.data={d:t.c.$u,ZZ:Z}}if(A.l(g4.fe)){n.data=q.ns.ec()}if(A.l(g4.E)&&e=="down"){if(Z)n.data={_h:"mergeVisible"};
else n.data={_h:"mergeLayersNew",h2:{__name:"Merge Layers",classID:"Mrg2"}}}if(A.l(g4.V8)){if(Z&&this.iU.zX!=q.lE)D.data={d:t.c.Ch,NY:"afw_fade"};
else if(i){s.G=q.ws;s.data={d:"applylast"}}else D.data={d:t.c.ax}}if(A.l(g4.IU)){if(i&&a&&a._j(a.g[0])){s.G=q._b;
s.data={d:u.Ta}}else{s.G=q._b;s.data={d:u.Aw,Gi:Z}}}if(A.l(g4.cb)){D.data={d:t.c.iK,hP:ac.VH}}if(A.l(g4.ed)){if(Z){s.data=null;
if(i)D.data={d:t.c.Ch,NY:"finfo"};else n.data={_h:"inverse"}}else if(i)D.data={d:t.c.Ch,NY:"isize"}}if(A.l(g4.N3)){n.data={_h:(Z?"cut":"copy")+"ToLayer"}}if(A.l(g4.t7)){D.data={d:t.c.Ch,NY:"preferences"}}if(A.l(g4.lm)){if(Z){s.G=q._b;
s.data={d:u.g1}}else if(e=="down")D.data={d:t.c.Ch,NY:"newproject"}}if(A.l(g4.JJ)){if(i)D.data={d:t.c.Ch,NY:"storwindow",qZ:0};
else{D.data={d:t.c.hy};A.reset()}}if(A.l(g4.Pq)){D.data={d:t.c.asN};A.reset()}if(A.l(g4.oy)){D.data={d:t.c.iK,hP:ac.Pb}}if(A.l(g4.DN)&&e=="down"){if(Z){if(i)D.data={d:t.c.Ch,NY:"saveforweb"};
else D.data={d:t.c.gr}}else D.data={d:t.c.ae}}if(A.l(g4.P5)){if(Z){s.G=q.lE;s.data={d:"again"}}else D.data={d:t.c.sk,G:q.lE}}if(A.l(g4.uq)){D.data={d:t.c.Et}}if(A.l(g4.JL)){this.Ng.m2()}if(A.l(g4.HJ)&&a&&a.EI()){D.data={d:t.c.G8}}if(A.l(g4.CA)||A.l(g4.KY)){s.G=q._b;
s.data={d:u.E4,dy:0};if(A.l(g4.CA))s.data.dy=Z?3:2;else s.data.dy=Z?0:1}if(A.l(g4.vm)&&a){s.G=q._b;s.data={d:u.g9}}if(A.l(g4.e2)&&a){var m=0;
if(Z)m++;if(i)m+=2;s.G=q.aN;s.data={d:"frompath",U9:[null,0,m]}}if(A.l(g4.Uv)){n.data=q.v9.lA(0)}if(A.l(g4.pH)){var J=this.oY.length,w=A.l(g4.Kp)?-1:1;
if(J>1)this.Ng.OF((this.Ng.YL()+J+w)%J)}if(A.l(g4.ai)){D.data={d:t.c.iK,hP:ac.Nn}}if(A.l(g4.wN)){D.data={d:t.c.iK,hP:ac.Mk}}q.MQ.acD(A,s);
if(this.Cg.GW()!=null&&this.Cg.GW().xV()){}else{if(s.data)this.S(s);if(n.data)this.S(n);if(D.data)this.S(D)}}if(!N&&i){var f;
if(A.l(g4.CA))f="Bckw";if(A.l(g4.KY))f="Frwr";if(A.l(g4.vm))f="Back";if(A.l(g4.Uv))f="Frnt";if(f){var n=new k4(t.E.wH);
n.data={_h:"select",h2:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:f}}]},MkVs:{t:"bool",v:!1}}};
this.S(n)}}if(a&&a.g.length!=0){var b=a.B[a.g[0]],L=b.os;if(L==1||L==3||N){var s=new k4(t.E.v),C=L==3?b.MH(a).$:b.tR();
if(C){var M=C.MC?a.u.$n.join("")=="111"?1:2:0;s.G=q._B;if(C&&A.l(g4.EO)&&M!=0){s.data={d:"mskView",Z:0}}if(C&&A.l(g4.ay4)){s.data={d:"mskView",Z:M==1?0:1}}if(C&&A.l(g4.aw9)){s.data={d:"mskView",Z:M==2?0:2}}if(s.data)this.S(s)}}}var y=A.hi();
if(a&&N&&2<=y&&y<=5){var Q=[1,1,1];if(y>2){Q=[0,0,0];Q[y-3]=1}var k=new k4(t.E.v,!0);k.G=q.wI;k.data={d:"setcls",$n:Q};
this.S(k)}if(!A.l(g4.YC)&&!i&&e=="down"){var s=new k4(t.E.v),D=new k4(t.E.L),E=this.a.map[this.iU.zX],_=-1;
for(var c=0;c<this.a.keys.length;c++)if(this.a.keys[c]&&this.HX(this.a.keys[c]))_=c;if(_!=-1){var v=null;
if(E.Xl!=_)v=this.a.Pi[_];if(E.Xl==_&&Z)v=(E.aig+1)%this.a.Sz[_].length;if(v!=null){var V=this.a.Sz[_][v].G.id,R=this.iU.No;
if((R==null||R.indexOf(parseInt(V))!=-1)&&!this.Q7.x2)D.data={d:t.c.sk,G:V}}}if(A.l(g4.cb))D.data={d:t.c.sk,G:q.wI};
if(A.l(g4.oy))D.data={d:t.c.sk,G:q.yp};if(A.l(g4.HJ))D.data={d:t.c.iK,hP:ac.V9,dy:2};if(A.l(g4.fe))D.data={d:t.c.iK,hP:ac.V9,dy:3};
if(D.data)this.S(D);if(A.l(g4.alI)&&a&&a.g.length==1){var b=a.B[a.g[0]];s.G=q._b;var h=b.xF(0)||b.xF(1)||b.xF(2)||b.xF(31);
s.data={d:u.kX,pL:h?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.S(s)}var y=A.hi();if(p&&y!=-1&&this.HX(g4.p0[y])){var P=a.g[0],b=a.B[P],H=g4._P(Math.round(100*b.opacity/255),y);
s.G=q._b;s.data={d:u.MN,pL:Math.round(255*H/100)};this.S(s)}var U=this.iU.S2;if(A.l(g4.pH)){D.data={d:t.c.dT,Z:U==0?1:0};
this.S(D)}if(A.l(g4.V8)||A.l(g4.EO)&&U==2){var X=document.fullscreenElement!=null==(U==2);D.data={d:t.c.dT,Z:U==0?2:0,c$:X};
this.S(D)}if(A.l(g4.YK)&&!this.Q7.x2){s.G=q.aN;s.data={d:"qmask"};this.S(s)}}if(!A.l(g4.YC)&&!i&&Z){var s=new k4(t.E.v),D=new k4(t.E.L);
if(A.l(g4.vm))D.data={d:t.c.Ch,NY:"shortcuts"};if(A.l(g4.p9))D.data={d:t.c.Ch,NY:"fill"};if(A.l(g4.a9B))D.data={d:t.c.Ch,NY:"sel_feather"};
if(p&&(A.l(g4.yR)||A.l(g4.Kw))){var P=a.g[0],b=a.B[P],x=im.U6,K=x.length,T=x.indexOf(b.Mi);s.G=q._b;
s.data={d:u.FO,pL:(T+K+(A.l(g4.yR)?1:-1))%K};this.S(s)}if(D.data)this.S(D)}var s=new k4(t.E.v),I=e=="down"&&(this.HX(g4.P1)||this.HX(g4.Pk));
if((N||i)&&I){s=new k4(t.E.wH);s.data=q.Wn.fk(N?"BckC":"FrgC");this.S(s)}else if(a&&I&&!this.Q7.x2){if(a.P!=null){s=new k4(t.E.wH);
s.data={_h:"delete"}}else if(a.g.length!=0){var b=a.B[a.g[0]];if(b.os==1)s.data={d:u.xG};else if(b.os==3)s.data={d:u.Or};
else s.data={d:u.vR};s.G=q._b}this.S(s)}if(this.Cg.GW()!=null){if(A.l(g4.EO)){this.Cg.GW().aek()}else{this.Cg.GW().CE(a,this,this.iU,A)}}if(this.iU.zX==null)return;
var E=this.UX();if(this.Cg.GW()==null||this.a.Vg)E.CE(a,this,this.iU,A)};eo.prototype.HX=function(e){var A=this.hI,a=this.a.map[this.iU.zX].G,top=this.Cg.GW(),p=this.w3();
return A.l(e)&&!a.uc(e,p)&&(top==null||!top.uc(e,p))};eo.prototype.wD=function(e){var A=this.a42,a=this.o4;
this.iU.S2=e;var p=B.ND,N=this.mI.e;if(p(N))this.HQ.removeChild(N);var i=this.KX.e;if(p(i))this.HQ.removeChild(i);
var Z=this.Zi.e;if(p(Z))A.removeChild(Z);var s=this.Ng.e;if(p(s))A.removeChild(s);var D=this.xl.e;if(p(D))A.removeChild(D);
if(e==0){this.HQ.appendChild(N);this.HQ.appendChild(i);a.appendChild(A);A.appendChild(Z);A.appendChild(s);
A.appendChild(D)}if(e==1){this.HQ.appendChild(N);A.appendChild(s)}if(e==2){A.appendChild(s)}this.Ng.wD(e==2?1:0);
this.U$()};eo.prototype.apd=function(e){if(this.t0())return 1;if(B.afN()==0){this.iU={};this.YQ=function(A,a){return Math.sqrt(A*a)}}return-1};
function dG(e){b5.call(this);if(e==null)return;this.SB=null;this.Ps=null;this.e=B.t("div","sbar"+" "+e);
this.WL=new B.t("div","top");this.WL.innerHTML="> <";this.e.appendChild(this.WL);this.W0=1;this.WL.addEventListener("click",this.a2w.bind(this),!1)}dG.prototype=new b5;
dG.prototype.a2w=function(e){if(this.SB!=null&&this.SB<500&&this.W0==0)return;if(this.W0==0)this.au(!0);
else this.collapse(!0)};dG.prototype.anL=function(e){this.W0=e;this.WL.innerHTML=this.W0==0?"< >":"> <"};
dG.prototype.aui=function(){var e=new k4(t.E.L,!0);e.data={d:t.c._4};this.S(e)};dG.prototype.au=function(e){this.anL(1);
if(e)this.aui()};dG.prototype.collapse=function(e){this.anL(0);if(e)this.aui()};dG.prototype.al=function(){return this.W0==1};
function a4(e,A){dG.call(this,"vcolumn");this.r8=e;this.azj=A;this.Is();this.Lh=B.t("div");this.Lh.setAttribute("style","cursor:default;");
this.auf=this.akg.bind(this);this.av3=this.azr.bind(this);this.a4S=this.a5N.bind(this);B.V3(this.e,this.auf);
this.e.appendChild(this.Lh);this.$H=B.t("div");this.Lh.appendChild(this.$H);this.VB=-1;this.aoj=B.t("div","float");
var a=this.Ze=B.t("canvas","gsicon"),p=Math.round(12*B.V());a.width=a.height=p;var N=a.getContext("2d");
N.moveTo(2,2);N.lineTo(p-2,p-2);N.moveTo(2,7);N.lineTo(p-7,p-2);N.stroke();this.Ze.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
B.Ig(this.Ze);B.V3(this.Ze,this.auf);B.OI(a);this.GY=[];this.nj=[];this.auG=null;this.mi=null;this.akM=0}a4.prototype=new dG;
a4.prototype.akg=function(e){var A=e.target==this.Ze;if(!A){if(e.target!=this.e)return;if(!this.al())return}else{var a=this.GY[this.VB].KH;
a.style.pointerEvents="none";var p=a.getBoundingClientRect();this.auG=[p.width,p.height];this.nj[this.VB]=[p.width,p.height]}e.stopPropagation();
this.mi=B.vT(e,document.body);this.akM=this.r8;B.iv(document,this.av3);B.xq(document,this.a4S)};a4.prototype.azr=function(e){var A=B.vT(e,document.body);
if(this.al()){this.r8=this.akM+this.mi.x-A.x;this.Is()}else{var a=this.nj[this.VB],p=this.auG;a[0]=p[0]+this.mi.x-A.x;
a[1]=p[1]+A.y-this.mi.y}var N=new k4(t.E.L,!0);N.data={d:t.c._4};this.S(N)};a4.prototype.a5N=function(e){if(!this.al()){var A=this.GY[this.VB].KH;
A.style.pointerEvents="auto"}B.Dq(document,this.av3);B.Y8(document,this.a4S)};a4.prototype.ahk=function(e){e.h("showFloat",this.a4y,this);
e.h("hideFloat",this.E2,this);this.GY.push(e);e.parent=this;this.Lh.appendChild(e.e)};a4.prototype.a7g=function(c){var e=this.GY[c];
e.removeEventListener("showFloat",this.a4y,this);e.removeEventListener("hideFloat",this.E2,this);this.GY.splice(c,1);
e.parent=null;this.Lh.removeChild(e.e)};a4.prototype.ahT=function(){return this.GY.length};a4.prototype.sy=function(){for(var c=0;
c<this.GY.length;c++)this.GY[c].sy()};a4.prototype.a4y=function(e){this.sy();var A=this.aoj;this.$H.appendChild(A);
this.VB=this.GY.indexOf(e.currentTarget);var a=this.GY[this.VB].KH;B.XK(A);A.appendChild(a);A.appendChild(this.Ze);
this.YQ(this.SB,this.Ps)};a4.prototype.E2=function(e){this.sy();if(this.VB!=-1){this.$H.removeChild(this.aoj);
this.VB=-1}};a4.prototype.Is=function(){function e(A){return Math.round(A*B.V())/B.V()}this.e.setAttribute("style","width: "+this.r8+"px; border-left-width:"+e(4)+"px; cursor:ew-resize;")};
a4.prototype.au=function(e){this.Is();this.E2();for(var c=0;c<this.GY.length;c++)this.GY[c].au();dG.prototype.au.call(this,e)};
a4.prototype.collapse=function(e){this.e.removeAttribute("style");for(var c=0;c<this.GY.length;c++)this.GY[c].collapse();
dG.prototype.collapse.call(this,e)};a4.amn=11;a4.prototype.YQ=function(e,A){this.SB=e;this.Ps=A;A-=a4.amn;
var a=this.GY.length;if(a==0)return;if(!this.al()){var p=A<400?A:400+(A-400)*.5;for(var c=0;c<a;c++){var N=this.GY[c],i=this.nj[c];
N.YQ(i?i[0]:this.r8,i?i[1]:p)}}else{var Z=A;for(var c=0;c<a;c++){var N=this.GY[c],s=N.a0V();if(c==a-1){s=Z;
N.e.style.borderBottom="none"}N.YQ(this.r8,s);Z-=s+4}}};function dg(e){b5.call(this);this.e=B.t("div");
this.Lh=null;this.vu=0;this.xb=0;this.aaf=e;this.a6d=this.ME.bind(this);this.aaG=this.m3.bind(this);
this.axC=this.fG.bind(this);this.uD=null;this.nz=null;this.kQ=null;B.V3(this.e,this.a6d);var A=this.e,p="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
A.addEventListener("touchmove",B._Y,!1);this.a3t=!0;this.Ca=[];var a=this.atp=B.t("div");a.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.e.appendChild(a);var N=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",p+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",p+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",p+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var c=0;c<N.length;c++){var i=new c$(N[c]);this.Ca.push(i);i.e.setAttribute("style","margin-left:"+(c<7?4:0)+"px;cursor:pointer;");
i.h("click",this.sd,this)}}dg.prototype=new b5;dg.prototype.f=function(){var e=this.atp;B.XK(e);for(var c=0;
c<this.Ca.length;c++){var A=this.Ca[c];if(c<5)A.f();e.appendChild(A.e)}};dg.prototype.sd=function(e){var c=this.Ca.indexOf(e.currentTarget);
if(c==0){if(window.showCap)window.showCap();return}var A=" issues learn blog api twitter facebook".split(" "),a=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),p=window.ga;
if(p)p("send","event","Links",A[c]);var N=new k4(t.E.L,!0);N.data={d:t.c.Fh,link:a[c]};this.S(N)};dg.prototype.ME=function(e){if(e.a8E){e.preventDefault();
e.stopPropagation()}var A=window;B.iv(A,this.aaG);B.xq(A,this.axC);A=this.Lh;this.uD=new k7(parseInt(A.style.left),parseInt(A.style.top));
this.nz=B.vT(e,this.e);this.kQ=A.getBoundingClientRect()};dg.prototype.m3=function(e){var A=B.vT(e,this.e),a=this.uD.x+A.x-this.nz.x,p=this.uD.y+A.y-this.nz.y,N=this.vu-this.kQ.width,i=this.xb-this.kQ.height;
if(this.aaf)this.Lh.style.left=Math.min(0,Math.max(N,a))+"px";else this.Lh.style.top=Math.min(0,Math.max(i,p))+"px";
if(a-10>0){this.nz.x=A.x-10;this.uD.x=0}if(a+10<N){this.nz.x=A.x+10;this.uD.x=N}};dg.prototype.fG=function(e){var A=window;
B.Dq(A,this.aaG);B.Y8(A,this.axC)};dg.prototype.anP=function(e){if(this.Lh){this.e.removeChild(this.Lh)}this.Lh=e;
this.e.appendChild(e);e.style.position="absolute";if(this.aaf)e.style.left=0;else e.style.top=0};dg.prototype.YQ=function(e,A){this.vu=e;
this.xb=A;this.e.setAttribute("style","position:relative; width: "+e+"px; height: "+A+"px; overflow:hidden; white-space: nowrap; ");
var a=this.Lh.firstChild,p=this.atp,N=a?a.firstChild.getBoundingClientRect().width+80:1e9,i=170,Z=this.a3t&&e>N+i;
p[av.Jd][av.asJ]=Z?"":av.oD;var s=this.Ca;for(var c=0;c<s.length;c++){var D=c>4||e-N>500?"":av.oD,n=s[c];
n.e.style.display=D}};dg.prototype.afW=function(){this.Lh.style.left="0";this.Lh.style.top="0"};function bu(){b5.call(this);
this.w7=null;this.kT=bu.Pq;this.avV="";this.e=B.t("div","rightbar");this.la=[new a4(300),new a4(268,!0)];
this.GY=[new j3,new j3,new j3,new j3,new j3,new j3,new j3];this.azz=[]}bu.prototype=new b5;bu.prototype.f=function(){var e=this.kT;
for(var c=0;c<e.length;c++)e[c].U7.f()};bu.Pq=[{U7:new k8,kW:3},{U7:new jp,kW:1},{U7:new j$,kW:4},{U7:new i$,kW:2},{U7:new fW(!0),kW:5},{U7:new i5,kW:0},{U7:new j5,kW:5},{U7:new c5,kW:3},{U7:new bz,kW:0},{U7:new a1,kW:3},{U7:new aB,kW:2},{U7:new eY,kW:4},{U7:new j6,kW:3},{U7:new gn,kW:5},{U7:new fW(!1),kW:5},{U7:new dn,kW:2},{U7:new b9,kW:3},{U7:new d9,kW:1},{U7:new ho,kW:0},{U7:new aM,kW:5},{U7:new d2,kW:6,HU:!0},{U7:new ey,kW:6,HU:!0},{U7:new an,kW:6,HU:!0}];
(function(){var e=[{id:kc.oy.axp,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"}];
for(var c=0;c<e.length;c++)bu.Pq.push({U7:new eL(e[c],100+c),kW:6,HU:!0})}());bu.prototype.anE=function(e){for(var c=0;
c<e.length;c++){var A=e[c],a=new eL(A,"plg_"+A.name);this.kT.push({U7:a,kW:6});this.azz.push(a.an)}this.Se()};
bu.prototype.Mv=function(e,A){this.w7=e;var a=this.kT;for(var c=0;c<a.length;c++)a[c].U7.Mv(e,A);if(A==ac.Ah||A==ac.xh)this.Se()};
bu.prototype.XC=function(e){var A=this.kT;for(var c=0;c<A.length;c++)A[c].U7.XC(e)};bu.prototype.YQ=function(e,A){this.SB=e;
this.Ps=A;this.Se();this.la[0].YQ(e,A);this.la[1].YQ(e,A)};bu.prototype.Se=function(){var e=this.w7,A=this.SB,a=this.Ps;
if(e==null||A==0)return;var p=e.Dg.concat(this.azz),N=A<500||A<700&&A<a,i=JSON.stringify(p)+","+N;if(i!=this.avV){this.avV=i;
B.XK(this.e);var Z=[];for(var c=0;c<this.la.length;c++){var s=this.la[c];Z[c]=s.al();while(s.ahT()!=0)s.a7g(0);
s.au()}var D=[];for(var c=0;c<this.GY.length;c++){var n=this.GY[c];n.au();while(n.akx()!=0)n.mF(0);D.push(0)}for(var c=0;
c<p.length;c++){var S=this.awQ(p[c].toString());if(S==null)continue;this.GY[S.kW].M4(S.U7);this.GY[S.kW].OF(0);
D[S.kW]++}var F=[];for(var c=0;c<D.length;c++){if(D[c]==0)continue;var $=c<3||N?1:0,s=this.la[$];s.parent=this;
s.ahk(this.GY[c]);F[$]=!0}for(var c=0;c<this.la.length;c++)if(F[c])this.e.appendChild(this.la[c].e);
this.la[0].collapse();if(A<700||this.w7.compact||!Z[1]){this.la[1].collapse()}var m=new k4(t.E.L,!0);
m.data={d:t.c._4};this.S(m)}};bu.prototype.awQ=function(e){for(var c=0;c<this.kT.length;c++)if(this.kT[c].U7.an==e)return this.kT[c]};
bu.prototype.a1d=function(e){var A=this.awQ(e);this.GY[A.kW].M4(A.U7)};bu.prototype.OM=function(e,A,a){var p=this.kT;
for(var c=0;c<p.length;c++)p[c].U7.OM(e,A,a)};bu.prototype.MD=function(e,A,a,p,N){var i=this.kT;for(var c=0;
c<i.length;c++)i[c].U7.MD(e,A,a,p,N)};bu.prototype.D1=function(e,A,a,p,N){var i=this.kT;for(var c=0;
c<i.length;c++)i[c].U7.D1(e,A,a,p,N)};bu.prototype.$Q=function(e,A,a,p,N){var i=this.kT;for(var c=0;
c<i.length;c++)i[c].U7.$Q(e,A,a,p,N)};function dV(e,A){dG.call(this,"toolbar");this.e.removeChild(this.WL);
this.Qm=B.t("div","tools");this.e.appendChild(this.Qm);this.No=null;this.zX=null;this.acY=A;this.jD=null;
this.a4V=-1;this.avv={};this.at9=e;this.a=null;this.KV=null;this.pC=null;this.dY=null;this.XO=new hp;
this.XO.e.style.marginTop="5px";this.XO.e.style.marginBottom="3px";this.XO.parent=this;this.h_=new c$(B.iE("lrs/mask"),!1,[6,6,1]);
this.h_.h("click",function(i){var Z=new k4(t.E.v,!0);Z.G=q.aN;Z.data={d:"qmask"};this.S(Z)},this);var a=new hj(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
a.h(t.E.A,this.a6E,this);var p=B.t("span","rangecontFloat form padded");p.appendChild(a.e);p.setAttribute("style","position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var N=document.body;this.aoz=[!1,!1,!1,!1];this.z3=new c$(B.iE("kb"),!1,"Virtual Keys");this.z3.h("click",function(i){var Z=this.z3.e.getBoundingClientRect();
p.style.top=Z.top-40+"px";p.style.left=Z.left+Z.width+8+"px";if(B.ND(p)){B.AW({e:p},N)}else{N.appendChild(p);
B.zT({e:p})}},this)}dV.prototype=new dG;dV.prototype.a6E=function(e){var A=e.target.b();this.z3.z(A[0]||A[1]||A[2]||A[3]);
var a=new k4(t.E.L,!0);for(var c=0;c<4;c++){if(A[c]!=this.aoz[c]){a.data={d:t.c.a7A,x2:A[c],ate:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][c]};
this.S(a)}}this.aoz=A.slice(0)};dV.prototype.afx=function(e,A){this.jD=A;if(e==null||e.g.length==0||e.B[e.g[0]]==null)return;
var a=e.h_()!=null,p=e.u.$n,N=e.B[e.g[0]].os,i=N==1||N==3||a||p[0]+p[1]+p[2]==1;this.XO.aag(i);this.h_.z(a)};
dV.prototype.aec=function(e,A){var a=e.length,p=[];for(var c=0;c<a;c++)p[c]=e[c].slice(0);e=p;var N=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],i=Math.min(N.length/2,a-A);
for(var c=0;c<i;c++){var Z=N[2*c],s=N[2*c+1];e[Z]=e[Z].concat(e[s]);e[s]=null}for(var c=0;c<e.length;
c++)if(e[c]==null){e.splice(c,1);c--}return e};dV.prototype.acI=function(e,A){for(var c=0;c<A.length;
c++)for(var a=0;a<A[c].length;a++)if(A[c][a].G.id==e)return c};dV.prototype.ace=function(e){var A=this.at9;
this.KV=[];this.pC=[];this.dY=[];this.a=[];var a=A.Sz;if(e!=null&&this.acY)a=this.aec(a,e);var p=this.No;
if(p){var N=[];for(var c=0;c<a.length;c++){var i=[];for(var Z=0;Z<a[c].length;Z++){var s=a[c][Z];if(p==null||p.indexOf(parseInt(s.G.id))!=-1)i.push(s)}if(i.length>0)N.push(i)}a=N}for(var c=0;
c<a.length;c++){var D=[],n=this.KV.length,S=null,F=-1;for(var Z=0;Z<a[c].length;Z++){var s=a[c][Z].G,$=this.acI(s.id,A.Sz),m=A.keys[$];
if(m==g4.cb&&Z==1)m=g4.oy;this.a.push(s);var J=new aq(s.name,m,s.JX,this.KV.length,c,a[c].length>1);
this.KV.push(J);var w=this.avv[s.id];if(w==null)w=0;if(w>F){F=w;S=J}J.h(t.E.A,this.s_,this);J.h("mover",this.Iw,this);
D.push({name:s.name,ki:s.JX,hY:m?m.S_:""})}this.pC.push(S);this.dY.push(D.length==1?null:[D,n])}};dV.prototype.YQ=function(e,A){var a=this.Ps=A,p=32;
if(1<B.V()&&B.V()<1.5)p=18+14*(1/B.V());var N=39+23,i=Math.floor((a-N)/p);if(i!=this.a4V){this.a4V=i;
this.ace(i);this.nq()}var Z=this.pC.length*p+N,s=Math.min(1,a/Z);if(.75<=s){this.Qm.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+s+","+s+");");
this.e.setAttribute("style","height:"+(A-2)+"px; overflow:hidden;")}else{a-=4;this.Qm.setAttribute("style","height: "+a+"px;  width:"+Math.ceil(Z/a)*34+"px");
this.e.setAttribute("style","")}};dV.prototype.f=function(){if(this.a==null)return;for(var c=0;c<this.KV.length;
c++)this.KV[c].f()};dV.prototype.s_=function(e){var A=new k4(t.E.L,!0);A.data={d:t.c.sk,G:this.a[e.id].id};
this.S(A)};dV.prototype.adb=function(e){var A=e.target.a31+e.target.Yy()[0];this.KV[A].fG(null,!0)};
dV.prototype.Iw=function(e){var A=this.jD,a=new k4(t.E.L,!0);a.data={d:t.c.Ar};this.S(a);var p=e.target,N=this.dY[p.Xl];
if(N==null)return;var i=new fx(N[0],null,!0);i.a31=N[1];i.Xl=p.Xl;i.h("select",this.adb,this);i.parent=this;
i.f();var Z=p.e.getBoundingClientRect(),a=new k4(t.E.L,!0);a.data={d:t.c.OY,U7:i,x:Z.left+Z.width+8,y:Z.top};
if(A==null||!(A.l(g4.QD)||A.l(g4.YC)))this.S(a)};dV.prototype.nq=function(e){if(e==null)e=this.zX;this.zX=e;
if(this.a==null)return;this.avv[e]=Date.now();var A=-1;for(var c=0;c<this.a.length;c++)if(this.a[c].id==e)A=c;
for(var c=0;c<this.KV.length;c++){var a=this.KV[c];a.ajx(A==c)}if(A==-1)return;this.pC[this.KV[A].Xl]=this.KV[A];
B.XK(this.Qm);var p=this.pC;for(var c=0;c<p.length;c++){this.Qm.appendChild(p[c].e)}if(!this.acY)return;
this.Qm.appendChild(this.XO.e);if(this.Ps>640)this.Qm.appendChild(this.h_.e);this.Qm.appendChild(this.z3.e)};
dV.prototype.Mv=function(e,A){if(A==ac.xh&&e.No){this.No=e.No;this.ace();this.nq()}this.XO.a6q(e.lM,e.dG)};
function aq(e,A,a,p,N,i){b5.call(this);this.ak=0;this.s9=this.a7T.bind(this);this.Xl=N;this.Rv=p;this.T_=e;
this.vk=A;this.aly=i;this.JX=a;this.e=B.t("button","");this.e.innerHTML=B.iE(this.JX);if(this.aly){var Z=B.t("img","gsicon");
Z.setAttribute("src",PIMG["tools/corner"]);Z.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");
this.e.appendChild(Z)}this.e.addEventListener("touchstart",B._Y,!1);this.f();B.V3(this.e,this.ME.bind(this));
B.xq(this.e,this.fG.bind(this));this.e.addEventListener("contextmenu",this.s9,!1);this.e.addEventListener("contextmenu",aq.aL,!1)}aq.prototype=new b5;
aq.aL=function(e){e.stopPropagation();e.preventDefault();return!1};aq.prototype.f=function(){var e=this.vk?" ("+this.vk.S_+")":"";
this.e.setAttribute("title",i1.get(this.T_)+e)};aq.prototype.ME=function(e){aq.zx=this.Rv;this.ak=setTimeout(this.s9,160)};
aq.prototype.fG=function(e,A){if(A==null&&aq.zx!=this.Rv)return;clearTimeout(this.ak);var a=new k4(t.E.A,!1);
a.target=this;a.id=this.Rv;this.S(a)};aq.prototype.a7T=function(e){var A=new k4("mover",!1);A.target=this;
A.id=this.Rv;this.S(A)};aq.prototype.ajx=function(e){this.e.className=e?"toolbtn active":"toolbtn"};
function f6(){b5.call(this);this.e=B.t("div","topbar");this.Tp=B.t("span","");this.alg=0;this.e.appendChild(this.Tp);
this.Zg=null;this.lb=null;this.$R=[];this.Dg=[];var e=this.ME.bind(this);for(var c=0;c<f6.data.length;
c++){var A=B.t("button");this.$R.push(A);this.Tp.appendChild(A);A.addEventListener("mouseover",e,!1);
B.V3(A,e)}this.Ou=new c$([0,13,0],!1,null,!0);this.Ou.h("click",this.z1,this);this.e.appendChild(this.Ou.e);
this.f4=new c$(B.iE("tools/zoom",null,"autoscale"),!1,[12,86]);this.f4.h("click",this.z1,this);this.e.appendChild(this.f4.e);
this.gD=new c$("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.gD.h("click",this.z1,this);this.e.appendChild(this.gD.e)}f6.prototype=new b5;f6.prototype.a26=function(){if(this.Dg.length!=0)return;
for(var c=0;c<f6.data.length;c++){var e=f6.data[c],A=new fx(e.items,e.NX);A.parent=this;this.Dg.push(A)}this.f()};
f6.prototype.f=function(){this.Ou.f();this.f4.f();this.gD.f();for(var c=0;c<this.$R.length;c++)this.$R[c].textContent=i1.get(f6.data[c].name);
this.ary();for(var c=0;c<this.Dg.length;c++)this.Dg[c].f()};f6.prototype.z1=function(e){var A=new k4(t.E.L,!0);
if(e.target==this.Ou)A.data={d:t.c.Ch,NY:"account"};else if(e.target==this.f4)A.data={d:t.c.ax};else A.data={d:t.c.dT,c$:!0};
this.S(A)};f6.prototype.a1X=function(e,A){this.Zg=e;this.lb=A};f6.prototype.Mv=function(e,A){this.lb=e;
if(A==ac.xh){var a=e.ac3;B.XK(this.Tp);for(var c=0;c<this.$R.length;c++){if(a==null||a[c]==1||a[c]instanceof Array)this.Tp.appendChild(this.$R[c]);
if(a!=null&&a[c]instanceof Array){this.a26();this.Dg[c].aff(a[c])}}this.e.removeChild(this.Ou.e);this.e.removeChild(this.f4.e);
this.e.removeChild(this.gD.e);if(e.FX)this.e.appendChild(this.Ou.e);this.e.appendChild(this.f4.e);this.e.appendChild(this.gD.e)}this.ary()};
f6.prototype.ary=function(e,A){var a=this.Ou,p=12255232;if(d4.p8())p=d4.tl()?43520:16755200;a.e.setAttribute("style","color:#ffffff; background-color:#"+j.yj(p))};
f6.prototype.ME=function(e){this.a26();var c=this.$R.indexOf(e.currentTarget),A=this.Dg[c];if(e.type=="mouseover"&&!B.ND(this.Dg[this.alg].e))return;
if(B.ND(A.e))return;e.a8E=!0;this.alg=c;for(var c=0;c<f6.data.length;c++)this.Dg[c].update(this.Zg,this.lb);
var a=e.target.getBoundingClientRect(),p=new k4(t.E.L,!0);p.data={d:t.c.OY,U7:A,x:a.left,y:a.top+a.height+2,aj6:!0};
this.S(p)};f6.ah2=function(e){var A=g4,a=A.YC,p=A.Kp,N=A.uJ,i=function(n){return{C:n!=null}},Z=function(n){return{C:n!=null&&n.P!=null}},s={name:[0,5],items:[{name:[7,0],C:i,hY:[a,A.c]},{name:[7,1],hY:[a,A.fe],C:Z},{name:[7,2],hY:[p,a,A.ed],C:Z,ks:!0},{name:[7,8],C:i,tJ:!0},{name:[7,13],tJ:!0,C:function(n){return{C:n!=null&&n.g.length!=0&&!n.B[n.g[0]].rect.QP()}},ks:!0},{name:[7,11],tJ:!0,C:function(n){return{C:n!=null&&n.g.length!=0&&!n.B[n.g[0]].rect.QP()}}},{name:[7,3],C:i,ks:!0,sub:[{name:[7,9],tJ:!0,C:Z},{name:[19,3,0],tJ:!0,C:Z},{name:[7,4],tJ:!0,C:Z},{name:[7,5],tJ:!0,C:Z},{name:[7,6],tJ:!0,C:Z,hY:"Shift+F6"}]},{name:"Grow",C:Z},{name:"Similar",C:Z,ks:!0},{name:[7,10],C:Z,ks:!0},{name:[6,6,1],C:function(n){return{C:n!=null,$x:n!=null&&n.h_()!=null}},hY:[A.YK],ks:!0},{name:["VAR0 VAR1",[1,2],[17,2]],C:Z}],NX:[{Y:t.E.wH,W:q.ns.ec(!0)},{Y:t.E.wH,W:q.ns.ec()},{Y:t.E.wH,W:{_h:"inverse"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"crange"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"magiccut"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"redge"}},{sub:[{Y:t.E.L,W:{d:t.c.Ch,NY:"sel_border"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"sel_smoothness"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"sel_expand"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"sel_contract"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"sel_feather"}}]},{Y:t.E.wH,W:{_h:"grow",h2:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{Y:t.E.wH,W:{_h:"similar",h2:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{Y:t.E.L,W:{d:t.c.sk,G:q.ID}},{Y:t.E.v,G:q.aN,W:{d:"qmask"}},{Y:t.E.wH,W:{_h:"duplicate",h2:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(e){var D=s.items.length-1;s.items.splice(D-2,0,{name:[6,49],hY:[a,A.N3],ks:!0});s.NX.splice(D-2,0,{Y:t.E.wH,W:{_h:"copyToLayer"}});
s.items.splice(D-1,0,{name:[10,16],hY:[N,a,A.P5]});s.NX.splice(D-1,0,{Y:t.E.L,W:{d:t.c.sk,G:q.lE}})}return s};
f6.d7=function(e,A){if(e==null||e.g.length==0)return!1;var a=e.B[e.g[0]];return a.add.TySh!=null&&A.zX==q.L1};
f6.aah=function(){var e=g4,A=e.YC,a=e.Kp,p=e.uJ,N=function(i){return{C:i!=null}};return[[{name:[5,0],hY:[A,e.HJ],C:function(i,Z){return{C:i!=null&&(i.EI()||f6.d7(i,Z))}}},{name:[5,1],hY:[A,e.AA],C:N},{name:[5,2],hY:[A,e.uq],C:function(i,Z){return{C:f6.d7()||B.hu()||Z.ZK!=null||Z.Op!=null||Z.ahs!=null}}},{name:[2,2],C:function(i,Z){return{C:i!=null&&(i.P!=null||f6.d7(i,Z))}},hY:"Delete",ks:!0}],[{Y:t.E.L,W:{d:t.c.G8}},{Y:t.E.L,W:{d:t.c.$u}},{Y:t.E.L,W:{d:t.c.Et}},{Y:t.E.wH,W:{_h:"delete"}}]]};
f6.data=function(){var e=g4,A=e.YC,a=e.Kp,p=e.uJ,N=function(m){return{C:m!=null&&m.g.length!=0}},i=function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].add.SoLd!=null}},Z=function(m){return{C:m!=null}},s=function(m){return{C:m!=null&&m.VX(!1)}},D=[],n=[],S="none maxx avrg medn minn rang stdv summ vari".split(" "),F=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var c=0;c<S.length;c++){D.push({name:F[c],C:function(m,J){if(m==null||m.g.length!=1)return{C:!1};
var w=m.B[m.g[0]].add.SoLd;if(w==null)return{C:!1};return{C:!0,$x:w.Impr.v.classID==this.akF}}.bind({akF:S[c]})});
n.push({Y:t.E.v,G:q._b,W:{d:u.DY,pL:S[c]}})}var $=f6.aah(!0);return[{name:[0,0],items:[{name:[5,3],hY:[p,A,e.lm],title:[11,7],tJ:!0},{name:[1,0],hY:[A,e.JJ],tJ:!0},{name:[1,11],tJ:!0,C:Z},{name:["VAR0 VAR1",[1,0],[0,14]],ks:!0,sub:[{name:"Storage",tJ:!0,hY:[p,A,e.JJ]},{name:[1,5],tJ:!0},{name:[11,0],tJ:!0},{name:["PSD VAR0",[25,0]],tJ:!0}]},{name:[1,1],ks:!0,C:Z,sub:[{name:"PNG",hY:"Imgur.com",C:function(m,J){return{C:m!=null&&J.zN}}},{name:"JPG",hY:"Imgur.com",C:function(m,J){return{C:m!=null&&J.zN}}},{name:"PSD",hY:"Photopea.com",C:function(m,J){return{C:m!=null&&J.zN&&!m.Zx}}}]},{name:"Save ...",hY:[A,e.DN],C:function(m,J){var w=i1.get([1,2]),f=!0;
if(m){if(m.OB)w+=" ("+i1.get([6,7,1])+")";if(m.G1)w+=" (Google Drive)";if(m.DB)w+=" ("+Storage.list[m.DB[0]][0]+")";
f="psd jpg png gif webp svg bmp".split(" ").indexOf(m.$J)!=-1}return{C:m!=null&&(m.DB!=null||m.UP!=null&&f||m.OB!=null||m.Z7!=null&&m.Z7.Lf!=null||m.G1!=null||J.qe.save!=null),Wu:w}}},{name:[1,3],C:function(m,J){return{C:m!=null&&J.zN}}},{name:["VAR0 VAR1",[1,2],[0,14]],C:Z,sub:[{name:"PSD to Storage",C:function(m,J){return{C:m!=null&&J.zN}}},{name:["VAR0 PSD/PSB",[1,2]],tJ:!0,C:function(m,J){return{C:m!=null&&J.zN}}}]},{name:[1,8],C:Z,sub:function(){var m=fI.Vd(0),J=[];
for(var c=0;c<m.length;c++)J.push({name:m[c],hY:"."+m[c].toLowerCase()});J.push({name:[0,14],sub:function(){var m=fI.Vd(1),J=[];
for(var c=0;c<m.length;c++)J.push({name:m[c],hY:"."+m[c].toLowerCase()});return J}()});return J}()},{name:[1,4],tJ:!0,C:Z,ks:!0},{name:[1,9],tJ:!0,C:Z},{name:"Export Color Lookup",tJ:!0,C:Z,ks:!0},{name:[1,14],tJ:!0,C:Z,ks:!0},{name:[1,17],sub:[{name:"PDF Presentation",tJ:!0},{name:"Convert Formats",tJ:!0}]},{name:[1,10]}],NX:[{Y:t.E.L,W:{d:t.c.Ch,NY:"newproject"}},{Y:t.E.L,W:{d:t.c.hy}},{Y:t.E.L,W:{d:t.c.hy,afr:!0}},{sub:[{Y:t.E.L,W:{d:t.c.Ch,NY:"storwindow",qZ:0}},{Y:t.E.L,W:{d:t.c.Ch,NY:"open_from_url"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"camera"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"res0"}}]},{sub:[{Y:t.E.L,W:{d:t.c.It,qm:"png"}},{Y:t.E.L,W:{d:t.c.It,qm:"jpg"}},{Y:t.E.L,W:{d:t.c.It,qm:"psd"}}]},{Y:t.E.L,W:{d:t.c.ae}},{Y:t.E.L,W:{d:t.c.gr}},{sub:[{Y:t.E.L,W:{d:t.c.Ch,NY:"storwindow",qZ:1}},{Y:t.E.L,W:{d:t.c.Ch,NY:"savepsb"}}]},{sub:function(){var m=fI.Vd(0),J=[];
for(var c=0;c<m.length;c++)J.push({Y:t.E.L,W:{d:t.c.Ch,NY:"saveforweb",qm:c}});J.push({sub:function(){var w=fI.Vd(0).length,m=fI.Vd(1),J=[];
for(var c=0;c<m.length;c++)J.push({Y:t.E.L,W:{d:t.c.Ch,NY:"saveforweb",qm:w+c}});return J}()});return J}()},{Y:t.E.L,W:{d:t.c.Ch,NY:"saveforweb",qm:4,ayB:!0}},{Y:t.E.L,W:{d:t.c.Ch,NY:"eassets"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"exlut"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"finfo"}},{sub:[{Y:t.E.L,W:{d:t.c.Ch,NY:"pdfpres"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"cformat"}}]},{Y:t.E.L,W:{d:t.c.Ch,NY:"script"}}]},{name:[0,1],items:[{name:[2,8],C:Z},{name:[2,0],C:Z,hY:[a,A,e.ls]},{name:[2,1],C:Z,hY:[A,e.ls],ks:!0},{name:[2,11],hY:[a,A,e.V8],ks:!0,tJ:!0,C:function(m,J){return{C:cM.a9g(m)&&J.zX!=q.lE}}},$[0][0],$[0][1],{name:[5,7],hY:[a,A,e.AA],C:function(m){return{C:m!=null&&m.EI()}}},$[0][2],$[0][3],{name:[2,3],C:Z,tJ:!0,hY:[a,e.p9]},{name:[14,9],C:Z,tJ:!0,ks:!0},{name:[10,48],C:s},{name:[10,46],C:function(m){return{C:q.lK.arB(m)}}},{name:[10,16],C:Z,hY:[p,A,e.P5]},{name:[2,4],C:Z,sub:cB.azT()},{name:[2,10,1],C:Z},{name:[2,10,0],C:Z,ks:!0},{name:[12,87],C:Z,sub:[{name:[12,62],C:Z},{name:[9,3],C:Z},{name:[10,31],C:function(m){return{C:m!=null&&m.sz()[1].length!=0}}}]},{name:[1,15],tJ:!0},{name:[12,79],tJ:!0,hY:[A,e.t7]},{name:[1,13],tJ:!0}],NX:[{Y:t.E.v,G:q.sf,W:{d:"h_undoredo"}},{Y:t.E.v,G:q.sf,W:{d:"h_stepfwd"}},{Y:t.E.v,G:q.sf,W:{d:"h_stepbck"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"afw_fade"}},$[1][0],$[1][1],{Y:t.E.L,W:{d:t.c.$u,ZZ:!0}},$[1][2],$[1][3],{Y:t.E.L,W:{d:t.c.Ch,NY:"fill"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"stroke"}},{Y:t.E.L,W:{d:t.c.sk,G:q.wS}},{Y:t.E.v,G:q.ws,W:{d:"start",yC:"rigidTransform"}},{Y:t.E.L,W:{d:t.c.sk,G:q.lE}},{sub:cB.amh()},{Y:t.E.wH,W:{_h:"align",h2:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{Y:t.E.v,G:q._b,W:{d:u.GU}},{sub:[{Y:t.E.L,W:{d:t.c.hn,hP:0}},{Y:t.E.L,W:{d:t.c.hn,hP:1}},{Y:t.E.L,W:{d:t.c.hn,hP:2}}]},{Y:t.E.L,W:{d:t.c.Ch,NY:"pmanager"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"preferences"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"locstor"}}]},{name:[0,2],items:[{name:[12,36],C:Z,ks:!0,sub:[{name:"RGB",C:function(m){if(m==null)return{C:!1};
return{$x:m.add.fcmy==null,C:!0}}},{name:"CMYK",C:function(m){if(m==null)return{C:!1};return{$x:m.add.fcmy!=null,C:!0}},ks:!0},{name:"Raster",C:function(m){if(m==null)return{C:!1};
return{$x:m.add.fvec==null,C:!0}}},{name:"Vector (Beta)",C:function(m){if(m==null)return{C:!1};return{$x:m.add.fvec!=null,C:!0}}}]},{name:[3],C:Z,ks:!0,sub:function(){var m=[];
for(var J in a7.names){m.push({name:a7.names[J],tJ:bo[J]!=null,hY:a7.keys[J],ks:a7.apA.indexOf(J)!=-1});
if(J=="selc"){m.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],tJ:!0,ks:!0});m.push({name:[19,7,0],hY:[A,a,e.L6],C:s});
m.push({name:[4,18],tJ:!0,C:s})}}return m}()},{name:[4,16,0],C:s},{name:[4,16,1],C:s},{name:[4,16,2],C:s,ks:!0},{name:[11,11,1],C:s},{name:[11,11,0],C:s,ks:!0},{name:[11,3],C:Z,tJ:!0,hY:[p,A,e.AA]},{name:[11,10],C:Z,tJ:!0,hY:[p,A,e.ed]},{name:[2,4],C:Z,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],C:function(m){return{C:m!=null&&m.P!=null}}},{name:[11,12,0],C:Z,hY:[A,e.Uv],tJ:!0},{name:[11,12,2],C:Z,ks:!0},{name:[2,12],C:s,tJ:!0,ks:!0},{name:[2,14],C:Z,tJ:!0}],NX:[{sub:[{Y:t.E.v,G:q.Mf,W:{d:"fcmy",Z:0}},{Y:t.E.v,G:q.Mf,W:{d:"fcmy",Z:1}},{Y:t.E.v,G:q.Mf,W:{d:"fvec",Z:0}},{Y:t.E.v,G:q.Mf,W:{d:"fvec",Z:1}}]},{sub:function(){var m=[];
for(var J in a7.names){m.push({Y:t.E.v,G:q.Dx,W:{d:"start",E$:J}});if(J=="selc"){m.push({Y:t.E.v,G:q.ws,W:{d:"start",yC:"adaptCorrect"}});
m.push({Y:t.E.wH,W:{_h:"desaturate"}});m.push({Y:t.E.v,G:q.Dx,W:{d:"start",E$:"matc"}})}}return m}()},{Y:t.E.wH,W:{_h:"levels",h2:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{Y:t.E.wH,W:{_h:"levels",h2:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{Y:t.E.wH,W:{_h:"levels",h2:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{Y:t.E.L,W:{d:t.c.Ch,NY:"rcolors"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"vbitmap"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"csize"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"isize"}},{sub:[{Y:t.E.wH,W:q.BD.Xk(!0,90)},{Y:t.E.wH,W:q.BD.Xk(!0,-90)},{Y:t.E.wH,W:q.BD.Xk(!0,-180)},{Y:t.E.wH,W:q.BD.Xk(!1,"Hrzn")},{Y:t.E.wH,W:q.BD.Xk(!1,"Vrtc")}]},{Y:t.E.wH,W:{_h:"crop",h2:{__name:"Crop",classID:"Crop"}}},{Y:t.E.L,W:{d:t.c.Ch,NY:"trim"}},{Y:t.E.wH,W:{_h:"revealAll",h2:{classID:"RvlA"}}},{Y:t.E.v,G:q.Dx,W:{d:"start",E$:"aply"}},{Y:t.E.L,W:{d:t.c.Ch,NY:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],C:Z,sub:[{name:[0,3],hY:[a,A,e.lm]},{name:[0,4]},{name:[1,16,0],tJ:!0},{name:[1,16,3],tJ:!0,ks:!0},{name:[6,49,0],hY:[A,e.N3]},{name:[6,49,1],hY:[a,A,e.N3],C:function(m){return{C:m!=null&&m.P!=null&&m.VX(!1)}}}]},{name:[6,0],C:N,hY:[A,e.N3]},{name:[11,4],C:N},{name:[5,4],C:N,ks:!0},{name:[11,6],C:N,ks:!0,sub:aX.Ia(!0)},{name:[6,48,1],C:Z,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],C:Z,ks:!0,sub:aX.a5M()},{name:[6,2],C:Z,sub:[{name:[6,4],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].tR()==null}}},{name:[6,5,0],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].tR()==null}}},{name:[6,5,1],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].tR()==null&&m.P!=null}}},{name:[6,5,2],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].tR()==null&&m.P!=null}}},{name:[6,5,3],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].tR()==null}},ks:!0},{name:[5,4],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].tR()!=null}}},{name:[5,8],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].tR()!=null&&m.VX(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].tR()!=null}}}]},{name:[6,3],C:Z,sub:[{name:[6,4],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].add.vmsk==null}}},{name:[6,5,0],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].add.vmsk==null}}},{name:[12,76,7],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].add.vmsk==null}},ks:!0},{name:[5,4],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],C:function(m){return{C:m!=null&&m.g.length!=0&&m.B[m.g[0]].add.vmsk!=null}}}]},aB.az$(!0),{name:[6,7,1],C:Z,ks:!0,sub:[{name:[6,7,0],ks:!0},{name:"Open (Edit Contents)",C:i,tJ:!0},{name:"Replace Contents",C:i,tJ:!0},{name:"Export Contents",C:i,tJ:!0,ks:!0},{name:[6,36,4],C:i,sub:D},{name:"Turn into JPG",C:i}]},{name:[6,8],C:aB.axg},{name:[6,34],ks:!0,C:function(m){if(m==null||m.g.length==0)return{C:!1};
var J=m.B[m.g[0]];return{C:J.add.lmfx!=null&&!J.yg()}}},{name:[6,9],C:Z,ks:!0,hY:[A,e.IU]},{name:[6,55],C:Z,ks:!0,sub:[{name:[6,56,0],hY:[a,A,e.KY]},{name:[6,56,1],hY:[A,e.KY]},{name:[6,56,2],hY:[A,e.CA]},{name:[6,56,3],hY:[a,A,e.CA]}]},{name:[6,58],C:Z,ks:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],hY:[A,e.E],C:function(m){var J=m==null?0:m.g.length;
return{C:J!=0&&(J!=1||m.g[0]!=0),Wu:i1.get(J>1||J==1&&m.B[m.g[0]].yg()?[6,12,0]:[6,10])}}},{name:[6,12,1],C:Z},{name:[2,13],C:Z}],NX:[{sub:[{Y:t.E.v,G:q._b,W:{d:u.g1}},{Y:t.E.v,G:q._b,W:{d:u.aP}},{Y:t.E.L,W:{d:t.c.Ch,NY:"newartb",qZ:0}},{Y:t.E.L,W:{d:t.c.Ch,NY:"newartb",qZ:1}},{Y:t.E.wH,W:{_h:"copyToLayer"}},{Y:t.E.wH,W:{_h:"cutToLayer"}}]},{Y:t.E.v,G:q._b,W:{d:u.$A}},{Y:t.E.L,W:{d:t.c.Ch,NY:"duplinto"}},{Y:t.E.v,G:q._b,W:{d:u.vR}},{sub:aX.yl(!0)},{sub:[{Y:t.E.v,G:q.vM,W:{d:"newfill",lT:0}},{Y:t.E.wH,W:q.oW.fk(1)},{Y:t.E.wH,W:q.oW.fk(2)}]},{sub:aX.qz()},{sub:[{Y:t.E.v,G:q._b,W:{d:u.Mm,qZ:"RvlA"}},{Y:t.E.v,G:q._b,W:{d:u.Mm,qZ:"HdAl"}},{Y:t.E.v,G:q._b,W:{d:u.Mm,qZ:"RvlS"}},{Y:t.E.v,G:q._b,W:{d:u.Mm,qZ:"HdSl"}},{Y:t.E.v,G:q._b,W:{d:u.Mm,qZ:"Trns"}},{Y:t.E.v,G:q._b,W:{d:u.xG}},{Y:t.E.v,G:q._b,W:{d:u.JN}},{Y:t.E.v,G:q._b,W:{d:u.SM}}]},{sub:[{Y:t.E.v,G:q._b,W:{d:u.cl,a1b:!1}},{Y:t.E.v,G:q._b,W:{d:u.cl,a1b:!0}},{Y:t.E.v,G:q._b,W:{d:u.cl,amj:!0}},{Y:t.E.v,G:q._b,W:{d:u.OQ}},{Y:t.E.v,G:q._b,W:{d:u.Ts}}]},{Y:t.E.v,G:q._b,W:{d:u.Ta}},{sub:[{Y:t.E.wH,W:{_h:"newPlacedLayer"}},{Y:t.E.wH,W:{_h:"placedLayerEditContents",h2:{classID:"placedLayerEditContents"}}},{Y:t.E.wH,W:{_h:"placedLayerReplaceContents",h2:{classID:"placedLayerReplaceContents"}}},{Y:t.E.wH,W:{_h:"placedLayerExportContents",h2:{classID:"placedLayerExportContents"}}},{sub:n},{Y:t.E.v,G:q._b,W:{d:u.ayM}}]},{Y:t.E.wH,W:{_h:"rasterizeLayer",h2:{classID:"rasterizeLayer",null:gb.o$("Lyr",!0)}}},{Y:t.E.v,G:q._b,W:{d:u.Rn}},{Y:t.E.v,G:q._b,W:{d:u.Aw}},{sub:[{Y:t.E.v,G:q._b,W:{d:u.E4,dy:0}},{Y:t.E.v,G:q._b,W:{d:u.E4,dy:1}},{Y:t.E.v,G:q._b,W:{d:u.E4,dy:2}},{Y:t.E.v,G:q._b,W:{d:u.E4,dy:3}}]},{sub:[{Y:t.E.v,G:q._b,W:{d:u.cN,dy:"makeframes"}},{Y:t.E.v,G:q._b,W:{d:u.cN,dy:"unmakeframes"}},{Y:t.E.v,G:q._b,W:{d:u.cN,dy:"merge"}}]},{Y:t.E.wH,W:{_h:"mergeLayersNew",h2:{__name:"Merge Layers",classID:"Mrg2"}}},{Y:t.E.wH,W:{_h:"flattenImage"}},{Y:t.E.v,G:q.ws,W:{d:"start",yC:"defr"}}]},f6.ah2(!1),function(){var m={name:[0,6],items:[{name:[24,18,4],hY:[p,A,e.V8],C:Z,ks:!0}],NX:[{Y:t.E.v,G:q.ws,W:{d:"applylast"}}]};
for(var c=0;c<hZ.Ii.length;c++){var J=hZ.Ii[c];if(J.yJ!=null){m.items.push({name:hZ.names[J.yJ],tJ:!0,ks:J.ks,C:Z});
m.NX.push({Y:t.E.v,G:q.ws,W:{d:"start",yC:J.yJ}});continue}var w={name:J.Ug,sub:[],C:Z};m.items.push(w);
var f={sub:[]};m.NX.push(f);for(var b=0;b<J.bS.length;b++){var L={name:hZ.names[J.bS[b]],tJ:hZ.T$(J.bS[b])!=null};
w.sub.push(L);var C={Y:t.E.v,G:q.ws,W:{d:"start",yC:J.bS[b]}};f.sub.push(C)}}return m}(),{name:[0,7],items:[{name:[8,0],C:Z,hY:[A,e.yR]},{name:[8,1],C:Z,hY:[A,e.Kw]},{name:[20,3],C:Z,hY:[A,e.Mg]},{name:[20,2],C:Z,hY:[A,e.vO]},{name:[8,14],C:function(m,J){return{C:m!=null,$x:m!=null&&m.o7}},ks:!0},{name:[12,36],ks:!0,sub:[{name:"Fullscreen",C:function(m,J){return{$x:document.fullscreenElement!=null}},ks:!0},{name:"Standard",C:function(m,J){return{$x:J.S2==0}}},{name:"Menu Bar and Canvas",C:function(m,J){return{$x:J.S2==1}}}]},{name:[8,13],hY:[A,e.cb],C:function(m,J){return{$x:J.Z8}}},{name:[8,12],ks:!0,sub:[{name:[17,2],C:function(m,J){return{C:J.Z8,$x:J.tz.ar}}},{name:[8,9],C:function(m,J){return{C:J.Z8,$x:J.tz.GI}}},{name:[8,2],C:function(m,J){return{C:J.Z8,$x:J.tz.dc}},hY:[A,e.ai]},{name:[8,4],C:function(m,J){return{C:J.Z8,$x:J.tz.Qv}},hY:[A,e.wN]},{name:[8,8],C:function(m,J){return{C:J.Z8,$x:J.tz.hN}}},{name:[8,11,0],C:function(m,J){return{C:J.Z8,$x:J.tz.WM}}}]},{name:[8,3],C:function(m,J){return{$x:J.Dm}},hY:[A,e.oy],ks:!0},{name:[8,5],C:function(m,J){return{$x:J.RX}}},{name:[8,6],ks:!0,sub:[{name:[8,2],C:function(m,J){return{$x:J.po[0]}}},{name:[8,4],C:function(m,J){return{$x:J.po[1]}}},{name:[9,1],C:function(m,J){return{$x:J.po[2]}}},{name:[8,11,0],C:function(m,J){return{$x:J.po[3]}}},{name:[8,7,0],C:function(m,J){return{$x:J.po[4]}}}]},{name:[11,15,2],C:function(m,J){return{C:m!=null,$x:m!=null&&m.ju}}},{name:[11,15,0],C:Z},{name:[11,14],C:Z,tJ:!0},{name:[11,15,1],C:function(m,J){return{C:m!=null&&m.g.length!=0}},ks:!0},{name:[8,11,2],C:function(m,J){return{C:m!=null&&m.WM.length!=0}}}],NX:[{Y:t.E.v,G:q._B,W:{d:"zoom",L8:!0}},{Y:t.E.v,G:q._B,W:{d:"zoom",L8:!1}},{Y:t.E.v,G:q._B,W:{d:"adapt",Z:"fitscr"}},{Y:t.E.v,G:q._B,W:{d:"adapt",Z:"pixel"}},{Y:t.E.v,G:q.Mf,W:{d:"pview"}},{sub:[{Y:t.E.L,W:{d:t.c.dT,c$:!0}},{Y:t.E.L,W:{d:t.c.dT,Z:0}},{Y:t.E.L,W:{d:t.c.dT,Z:1}},{Y:t.E.L,W:{d:t.c.dT,Z:2}}]},{Y:t.E.L,W:{d:t.c.iK,hP:ac.VH}},{sub:[{Y:t.E.L,W:{d:t.c.iK,hP:ac.O7}},{Y:t.E.L,W:{d:t.c.iK,hP:ac.W5}},{Y:t.E.L,W:{d:t.c.iK,hP:ac.Nn}},{Y:t.E.L,W:{d:t.c.iK,hP:ac.Mk}},{Y:t.E.L,W:{d:t.c.iK,hP:ac.Ci}},{Y:t.E.L,W:{d:t.c.iK,hP:ac.jX}}]},{Y:t.E.L,W:{d:t.c.iK,hP:ac.Pb}},{Y:t.E.L,W:{d:t.c.iK,hP:ac.a0G}},{sub:[{Y:t.E.L,W:{d:t.c.iK,hP:ac.Ea,aW:0}},{Y:t.E.L,W:{d:t.c.iK,hP:ac.Ea,aW:1}},{Y:t.E.L,W:{d:t.c.iK,hP:ac.Ea,aW:2}},{Y:t.E.L,W:{d:t.c.iK,hP:ac.Ea,aW:3}},{Y:t.E.L,W:{d:t.c.iK,hP:ac.Ea,aW:4}}]},{Y:t.E.v,G:q.Mf,W:{d:"lockguides"}},{Y:t.E.v,G:q.Mf,W:{d:"gids",Ph:[[],[]]}},{Y:t.E.L,W:{d:t.c.Ch,NY:"addguides"}},{Y:t.E.v,G:q.Mf,W:{d:"gidsFromLayer"}},{Y:t.E.v,G:q.Gc,W:{d:"deleteAll"}}]},function(){var m={name:[0,8],items:[{name:[0,14],ks:!0,sub:[]},{name:"Plugins",ks:!0}],NX:[{sub:[]},{Y:t.E.L,W:{d:t.c.Ch,NY:"res1"}}]};
for(var c=0;c<bu.Pq.length;c++){var J=bu.Pq[c],w=function(){var f=J.U7.an;return function(b,L){return{$x:L.Dg.indexOf(parseInt(f))!=-1}}}();
(J.HU?m.items[0].sub:m.items).push({name:J.U7.name,C:w});(J.HU?m.NX[0].sub:m.NX).push({Y:t.E.L,W:{d:t.c.t2,NY:J.U7.an}})}return m}(),function(){var m={name:[0,14],items:[],NX:[]},J={name:[0,9],sub:[]};
m.items.push(J);var w={sub:[]};m.NX.push(w);var f=i1.a4u();for(var c=0;c<f.length;c++){var b=f[c],L=b.code,C=i1.adi(L);
J.sub.push({name:b.name,hY:L,C:function(M,y){return{$x:this.hY==i1.rb()}}});w.sub.push({Y:t.E.L,W:{d:t.c.iK,hP:ac.pR,lang:C}})}J.sub.push({name:[0,12]});
w.sub.push({Y:t.E.L,W:{d:t.c.Fh,link:"https://www.photopea.com/translate/"}});var J={name:[0,15],sub:[]};
m.items.push(J);var w={sub:[]};m.NX.push(w);for(var c=0;c<hr.rB.length;c++){J.sub.push({name:hr.rB[c].name,C:function(M,y){return{$x:this.name==hr.rB[y._5].name}}});
w.sub.push({Y:t.E.L,W:{d:t.c.iK,hP:ac.pc,_5:c}})}m.items.push({name:[0,17,6],C:function(M,y){return{C:y.oi!=null}}});
m.NX.push({Y:t.E.L,W:{d:t.c.af2}});m.items.push({name:[11,13]});m.NX.push({Y:t.E.L,W:{d:t.c.Ch,NY:"shortcuts"}});
m.items.push({name:[0,16],C:function(M){return{$x:fG.Jg,C:fG.RC}},ks:!0});m.NX.push({Y:t.E.L,W:{d:t.c.atT}});
m.items.push({name:"",C:function(M,y){return y.FX?{Wu:"About Photopea",C:!0}:{Wu:"",C:!1}}});m.NX.push({Y:t.E.L,W:{d:t.c.Ch,NY:"aboutpp"}});
return m}()]}();function eu(){b5.call(this);this.e=B.t("div","");this.vu=0;this.xb=0;this.w7=null;this.kW=B.t("div","");
this.kW.setAttribute("style","width:200em; height:100em; position:absolute;");this.py=[];this.Df=[];
this.OK={}}eu.prototype=new b5;eu.prototype.VM=function(e){var A=Date.now(),a=[];if(e=="-")a=[new jn,new j4,new gD("pdfpres"),new gD("cformat"),new ap,new hL,new iW,new cZ,new cA,new fY,new iv,new fo,new ka,new hO,new h7,new bl,new hD,new aX,new d7,new b1,new gh,new eA,new bw,new f3,new a5,new iZ,new jm,new jj,new bI(!1),new bI(!0),new aA(0),new aA(1),new cO,new i9,new cw,new jD,new gI,new by,new ax(0),new ax(1),new ax(2),new ax(3),new ax(4),new ax(5),new ax(6),new ax(7),new ax(8),new ee,new cl,new fy,new ci,new fu,new eg,new k5,new d$("border",[7,9],"px"),new d$("smoothness",[19,3,0],"px"),new d$("expand",[7,4],"px"),new d$("contract",[7,5],"px"),new d$("feather",[7,6],"px"),new jh(0,"namewindow",[12,48]),new jh(2,"billto","Bill To"),new jh(1,"cornerradius",[12,94,0],"px",!0,!0),new jh(1,"scaleeffects",[6,30,1],"%",!0),new jh(1,"doczoom","Zoom","%",!0),new jh(1,"setFPS","Set FPS","fps",!1)];
else a=[new cM(e.slice(4))];this.a59(a);this.OK[e]=!0};eu.prototype.a59=function(e){var A=this.w7;for(var c=0;
c<e.length;c++){var a=e[c];a.parent=this;this.Df.push(a);this.j6(a);a.f();if(A)a.Mv(A,ac.xh);a.h(t.E.hM,this.pF,this);
B.AW(a)}};eu.prototype.YQ=function(e,A){this.vu=e;this.xb=A;for(var c=0;c<this.Df.length;c++)this.j6(this.Df[c])};
eu.prototype.f=function(){for(var c=0;c<this.Df.length;c++)this.Df[c].f()};eu.prototype.GW=function(){return this.py.length==0?null:this.py[this.py.length-1]};
eu.prototype.xV=function(){for(var c=0;c<this.py.length;c++)if(this.py[c].xV())return!0;return!1};eu.prototype.a8o=function(e,A,a,p,N){var i=e.startsWith("afw_"),Z=null;
if(!i&&!this.OK["-"])this.VM("-");if(i&&!this.OK[e])this.VM(e);if(typeof e=="object"){Z=e;if(!Z.amf(t.E.hM,this.pF))Z.h(t.E.hM,this.pF,this);
Z.parent=this}else for(var c=0;c<this.Df.length;c++)if(this.Df[c].id==e)Z=this.Df[c];if(this.xV()&&Z.xV()){alert("Finish the current action first");
return}if(!Z.NK(A))return;if(this.py.indexOf(Z)!=-1){if(e=="colorpicker")Z.OM(A,a,p,N);return}var s=this.py.length-1;
if(s>=0)B.LM(this.py[s].e,"wdisabled");this.e.appendChild(Z.e);this.py.push(Z);this.j6(Z);B.zT(Z);Z.OM(A,a,p,N)};
eu.prototype.j6=function(e){var A=this.vu,a=this.xb,p=e.cj(A,a),N;if(p!=null){N=p}else{p=new k7(0,0);
N=e.a6x();if(N==null){var i=this.py.indexOf(e)+1;if(A<450||a<450)N=new k7(0,0);else N=new k7(i*150,i*150)}}e.e.style.left=N.x+"px";
e.e.style.top=this.e.offsetTop+N.y+"px";e.YQ(this.vu-p.x*2,this.xb-p.y*2-34)};eu.prototype.Mv=function(e,A){this.w7=e;
for(var c=0;c<this.Df.length;c++)this.Df[c].Mv(e,A)};eu.prototype.pF=function(e){var A=this.py.pop();
B.AW(A,this.e);var a=this.py.length-1;if(a>=0)B.Xi(this.py[a].e,"wdisabled");if(this.kW.parentNode==this.e)this.e.removeChild(this.kW)};
window.onload=function(){document.body.appendChild(new eo().e)}}())